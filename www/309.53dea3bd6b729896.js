(self.webpackChunkiot_master_nuwa=self.webpackChunkiot_master_nuwa||[]).push([[309],{5362:function(Lt){"use strict";Lt.exports=function(){function ct(re){var ue=[];return re.AMapUI&&ue.push(function C(re){return new Promise(function(ue,X){var ee=[];if(re.plugins)for(var le=0;le<re.plugins.length;le+=1)-1==m.AMapUI.plugins.indexOf(re.plugins[le])&&ee.push(re.plugins[le]);if(v.AMapUI===f.failed)X("\u524d\u6b21\u8bf7\u6c42 AMapUI \u5931\u8d25");else if(v.AMapUI===f.notload){v.AMapUI=f.loading,m.AMapUI.version=re.version||m.AMapUI.version,le=m.AMapUI.version;var pe=document.body||document.head,K=document.createElement("script");K.type="text/javascript",K.src="https://webapi.amap.com/ui/"+le+"/main.js",K.onerror=function(G){v.AMapUI=f.failed,X("\u8bf7\u6c42 AMapUI \u5931\u8d25")},K.onload=function(){if(v.AMapUI=f.loaded,ee.length)window.AMapUI.loadUI(ee,function(){for(var G=0,fe=ee.length;G<fe;G++){var ze=ee[G].split("/").slice(-1)[0];window.AMapUI[ze]=arguments[G]}for(ue();Y.AMapUI.length;)Y.AMapUI.splice(0,1)[0]()});else for(ue();Y.AMapUI.length;)Y.AMapUI.splice(0,1)[0]()},pe.appendChild(K)}else v.AMapUI===f.loaded?re.version&&re.version!==m.AMapUI.version?X("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c AMapUI \u6df7\u7528"):ee.length?window.AMapUI.loadUI(ee,function(){for(var G=0,fe=ee.length;G<fe;G++){var ze=ee[G].split("/").slice(-1)[0];window.AMapUI[ze]=arguments[G]}ue()}):ue():re.version&&re.version!==m.AMapUI.version?X("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c AMapUI \u6df7\u7528"):Y.AMapUI.push(function(G){G?X(G):ee.length?window.AMapUI.loadUI(ee,function(){for(var fe=0,ze=ee.length;fe<ze;fe++){var xe=ee[fe].split("/").slice(-1)[0];window.AMapUI[xe]=arguments[fe]}ue()}):ue()})})}(re.AMapUI)),re.Loca&&ue.push(function t(re){return new Promise(function(ue,X){if(v.Loca===f.failed)X("\u524d\u6b21\u8bf7\u6c42 Loca \u5931\u8d25");else if(v.Loca===f.notload){v.Loca=f.loading,m.Loca.version=re.version||m.Loca.version;var ee=m.Loca.version,le=m.AMap.version.startsWith("2"),pe=ee.startsWith("2");if(le&&!pe||!le&&pe)X("JSAPI \u4e0e Loca \u7248\u672c\u4e0d\u5bf9\u5e94\uff01\uff01");else{le=m.key,pe=document.body||document.head;var K=document.createElement("script");K.type="text/javascript",K.src="https://webapi.amap.com/loca?v="+ee+"&key="+le,K.onerror=function(G){v.Loca=f.failed,X("\u8bf7\u6c42 AMapUI \u5931\u8d25")},K.onload=function(){for(v.Loca=f.loaded,ue();Y.Loca.length;)Y.Loca.splice(0,1)[0]()},pe.appendChild(K)}}else v.Loca===f.loaded?re.version&&re.version!==m.Loca.version?X("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c Loca \u6df7\u7528"):ue():re.version&&re.version!==m.Loca.version?X("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c Loca \u6df7\u7528"):Y.Loca.push(function(G){G?X(G):X()})})}(re.Loca)),Promise.all(ue)}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var f=function(re){return re.notload="notload",re.loading="loading",re.loaded="loaded",re.failed="failed",re}(f||{}),m={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},v={AMap:f.notload,AMapUI:f.notload,Loca:f.notload},Y={AMap:[],AMapUI:[],Loca:[]},Ve=[];return{load:function(re){return new Promise(function(ue,X){if(v.AMap==f.failed)X("");else if(v.AMap==f.notload){var ee=re.key,le=re.version,pe=re.plugins;ee?(window.AMap&&"lbs.amap.com"!==location.host&&X("\u7981\u6b62\u591a\u79cdAPI\u52a0\u8f7d\u65b9\u5f0f\u6df7\u7528"),m.key=ee,m.AMap.version=le||m.AMap.version,m.AMap.plugins=pe||m.AMap.plugins,v.AMap=f.loading,le=document.body||document.head,window.___onAPILoaded=function(G){if(delete window.___onAPILoaded,G)v.AMap=f.failed,X(G);else for(v.AMap=f.loaded,ct(re).then(function(){ue(window.AMap)}).catch(X);Ve.length;)Ve.splice(0,1)[0]()},(pe=document.createElement("script")).type="text/javascript",pe.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+m.AMap.version+"&key="+ee+"&plugin="+m.AMap.plugins.join(","),pe.onerror=function(G){v.AMap=f.failed,X(G)},le.appendChild(pe)):X("\u8bf7\u586b\u5199key")}else if(v.AMap==f.loaded)if(re.key&&re.key!==m.key)X("\u591a\u4e2a\u4e0d\u4e00\u81f4\u7684 key");else if(re.version&&re.version!==m.AMap.version)X("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c JSAPI \u6df7\u7528");else{if(ee=[],re.plugins)for(le=0;le<re.plugins.length;le+=1)-1==m.AMap.plugins.indexOf(re.plugins[le])&&ee.push(re.plugins[le]);ee.length?window.AMap.plugin(ee,function(){ct(re).then(function(){ue(window.AMap)}).catch(X)}):ct(re).then(function(){ue(window.AMap)}).catch(X)}else if(re.key&&re.key!==m.key)X("\u591a\u4e2a\u4e0d\u4e00\u81f4\u7684 key");else if(re.version&&re.version!==m.AMap.version)X("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c JSAPI \u6df7\u7528");else{var K=[];if(re.plugins)for(le=0;le<re.plugins.length;le+=1)-1==m.AMap.plugins.indexOf(re.plugins[le])&&K.push(re.plugins[le]);!function(re){"function"==typeof re&&(v.AMap===f.loaded?re(window.AMap):Ve.push(re))}(function(){K.length?window.AMap.plugin(K,function(){ct(re).then(function(){ue(window.AMap)}).catch(X)}):ct(re).then(function(){ue(window.AMap)}).catch(X)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,m={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},v={AMap:f.notload,AMapUI:f.notload,Loca:f.notload},Y={AMap:[],AMapUI:[],Loca:[]}}}}()},3179:(Lt,ct,C)=>{"use strict";C.d(ct,{kz:()=>Ve});var t=C(1325);class f extends t.bP{}!function(re){function ue(X){const ee=[],le=t.VK.getForeignObjectMarkup();return X?ee.push({tagName:X,selector:"body"},le):ee.push(le),ee}re.config({view:"angular-shape-view",markup:ue(),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}},propHooks(X){if(null==X.markup){const ee=X.primer;if(ee){X.markup=ue(ee);let le={};switch(ee){case"circle":le={refCx:"50%",refCy:"50%",refR:"50%"};break;case"ellipse":le={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}X.attrs=t.D5.merge({},{body:Object.assign({refWidth:null,refHeight:null},le)},X.attrs||{})}}return X}}),t.bP.registry.register("angular-shape",re,!0)}(f||(f={}));var m=C(4438),v=function(re,ue){var X={};for(var ee in re)Object.prototype.hasOwnProperty.call(re,ee)&&ue.indexOf(ee)<0&&(X[ee]=re[ee]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(ee=Object.getOwnPropertySymbols(re);le<ee.length;le++)ue.indexOf(ee[le])<0&&Object.prototype.propertyIsEnumerable.call(re,ee[le])&&(X[ee[le]]=re[ee[le]])}return X};const Y=new Map;function Ve(re){const{shape:ue,injector:X,content:ee}=re,le=v(re,["shape","injector","content"]);Y.set(ue,{injector:X,content:ee}),t.ke.registerNode(ue,Object.assign({inherit:"angular-shape"},le),!0)}class be extends t.Yv{getNodeContainer(){return this.selectors&&this.selectors.foContent}confirmUpdate(ue){const X=super.confirmUpdate(ue);return this.handleAction(X,be.action,()=>this.renderAngularContent())}getNgArguments(){var ue;return(null===(ue=this.cell.data)||void 0===ue?void 0:ue.ngArguments)||{}}setInstanceInput(ue,X){const ee=this.getNgArguments();if(ue instanceof m.C4Q)X.context={ngArguments:ee};else{const le=X;Object.keys(ee).forEach(pe=>le.setInput(pe,ee[pe])),le.changeDetectorRef.detectChanges()}}renderAngularContent(){this.unmountAngularContent();const ue=this.getNodeContainer();if(ue){const X=this.cell,{injector:ee,content:le}=Y.get(X.shape),pe=ee.get(m.c1b);if(le instanceof m.C4Q){const K=this.getNgArguments(),G=pe.createEmbeddedView(le,{ngArguments:K});G.rootNodes.forEach(fe=>ue.appendChild(fe)),G.detectChanges(),X.on("change:data",()=>this.setInstanceInput(le,G))}else{const K=pe.createComponent(le);ue.appendChild(K.hostView.rootNodes[0]),this.setInstanceInput(le,K),X.on("change:data",()=>this.setInstanceInput(le,K)),X.on("removed",()=>K.destroy())}}}unmountAngularContent(){const ue=this.getNodeContainer();return ue.innerHTML="",ue}onMouseDown(ue,X,ee){const le=ue.target;if("input"===le.tagName.toLowerCase()){const K=le.getAttribute("type");if(null==K||["text","password","number","email","search","tel","url"].includes(K))return}super.onMouseDown(ue,X,ee)}unmount(){return this.unmountAngularContent(),super.unmount(),this}}var re;(re=be||(be={})).action="angular",re.config({bootstrap:[re.action],actions:{component:re.action}}),t.Yv.registry.register("angular-shape-view",re,!0)},8303:()=>{"object"==typeof window&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window<"u"&&[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(ct=>{Object.prototype.hasOwnProperty.call(ct,"append")||Object.defineProperty(ct,"append",{configurable:!0,enumerable:!0,writable:!0,value(...C){const t=document.createDocumentFragment();C.forEach(f=>{const m=f instanceof Node;t.appendChild(m?f:document.createTextNode(String(f)))}),this.appendChild(t)}})})},1325:(Lt,ct,C)=>{"use strict";C.d(ct,{uM:()=>_n,Rw:()=>f,Nb:()=>ii,fh:()=>an,pM:()=>Mc,TS:()=>Xn,H:()=>Ve,B6:()=>Cp,jG:()=>Z,Jf:()=>Y,eY:()=>v,fZ:()=>vn,ke:()=>ti,VK:()=>Sn,Kx:()=>mi,xH:()=>qs,bP:()=>$n,Yv:()=>_i,Dc:()=>m,D5:()=>t,bR:()=>Ce,M_:()=>St,yp:()=>he,Mi:()=>Qt,Ss:()=>bn});var t={};C.r(t),C.d(t,{applyMixins:()=>Of,clone:()=>Xl,cloneDeep:()=>En,createClass:()=>Wl,defaults:()=>Tf,defaultsDeep:()=>Wu,ensure:()=>wf,flatten:()=>Mf,getBoolean:()=>Bv,getByPath:()=>Yl,getNumber:()=>Fv,getValue:()=>Rv,has:()=>Is,inherit:()=>Df,isEmpty:()=>pa,isEqual:()=>di,isMaliciousProp:()=>Yu,isObject:()=>Pe,isPlainObject:()=>ni,merge:()=>Mn,pick:()=>vh,setByPath:()=>Hs,unsetByPath:()=>Ku});var f={};C.r(f),C.d(f,{difference:()=>Vf,groupBy:()=>qu,max:()=>$f,sortBy:()=>Lf,sortedIndex:()=>If,sortedIndexBy:()=>Ff,union:()=>Zu,uniq:()=>Qu});var m={};C.r(m),C.d(m,{clamp:()=>ri,isNumber:()=>op,isPercentage:()=>Pi,mod:()=>pz,normalizePercentage:()=>ui,normalizeSides:()=>ps,parseCssNumeric:()=>gz,random:()=>fz});var v={};C.r(v),C.d(v,{apply:()=>Rt,call:()=>Ot,debounce:()=>Ee,isAsync:()=>en,isAsyncLike:()=>Ft,throttle:()=>It,toAsyncBoolean:()=>wn,toDeferredBoolean:()=>kn});var Y={};C.r(Y),C.d(Y,{CASE_SENSITIVE_ATTR:()=>gp,Event:()=>Hn,EventHook:()=>li,EventObject:()=>zi,KAPPA:()=>rc,MouseWheelHandle:()=>Ep,addClass:()=>dn,after:()=>mz,append:()=>Bo,appendTo:()=>Fg,attr:()=>mn,before:()=>ec,breakText:()=>xp,children:()=>_z,circleToPathData:()=>Jg,clearSelection:()=>Oz,computeStyle:()=>va,computeStyleInt:()=>Ca,contains:()=>pp,createElement:()=>dp,createElementNS:()=>Jl,createSVGMatrix:()=>Vn,createSVGPoint:()=>im,createSVGTransform:()=>jo,createSlicePathData:()=>Nz,createSvgDocument:()=>ma,createSvgElement:()=>pi,css:()=>Vo,data:()=>gs,decomposeMatrix:()=>sm,ellipseToPathData:()=>qg,empty:()=>Fo,ensureId:()=>Zl,find:()=>Ig,findOne:()=>Ag,findParentByClass:()=>up,getAttribute:()=>Lg,getClass:()=>Xs,getComputedStyle:()=>ic,getData:()=>bp,getPointsFromSvgElement:()=>ya,getTransformToElement:()=>Ho,getTransformToParentElement:()=>lm,getVendorPrefixedName:()=>zp,hasClass:()=>Ws,hasScrollbars:()=>xz,height:()=>Bz,index:()=>ql,isCSSVariable:()=>Gg,isElement:()=>Bg,isHTMLElement:()=>fp,isSVGGraphicsElement:()=>ji,kebablizeAttrs:()=>Lo,lineToPathData:()=>Yg,matrixToRotation:()=>rm,matrixToScale:()=>om,matrixToTransformString:()=>Qs,matrixToTranslation:()=>am,measureText:()=>$o,mergeAttrs:()=>nc,ns:()=>Ln,offset:()=>Pp,parseTransformString:()=>za,parseXML:()=>kg,polygonToPathData:()=>Kg,polylineToPathData:()=>Qg,position:()=>Lz,prepend:()=>Rg,prop:()=>Ug,qualifyAttr:()=>vp,rectToPathData:()=>Op,rectangleToPathData:()=>em,remove:()=>Ys,removeAttribute:()=>mp,removeClass:()=>ai,rotate:()=>ac,sample:()=>Wg,scale:()=>lc,setAttribute:()=>tc,setAttributes:()=>_p,setData:()=>Hg,setPrefixedStyle:()=>Tz,splitTextByLength:()=>Tp,styleToObject:()=>_a,svgVersion:()=>hp,tagName:()=>Ng,text:()=>Sp,toLocalPoint:()=>cm,toPath:()=>tm,toPathData:()=>Dp,toggleClass:()=>cp,transform:()=>Zs,transformStringToMatrix:()=>Go,translate:()=>Mp,uniqueId:()=>Pg,width:()=>Fz});var Ve={};C.r(Ve),C.d(Ve,{clean:()=>um,ensure:()=>dm});var be={};C.r(be),C.d(be,{dot:()=>Zz,doubleMesh:()=>eb,fixedDot:()=>Jz,mesh:()=>qz});var re={};C.r(re),C.d(re,{flipX:()=>mm,flipXY:()=>vm,flipY:()=>_m,watermark:()=>tb});var ue={};C.r(ue),C.d(ue,{blur:()=>sb,brightness:()=>db,contrast:()=>ub,dropShadow:()=>ob,grayScale:()=>rb,highlight:()=>ib,hueRotate:()=>cb,invert:()=>hb,outline:()=>nb,saturate:()=>lb,sepia:()=>ab});var X={};C.r(X),C.d(X,{async:()=>s1,block:()=>Yb,circle:()=>Im,circlePlus:()=>o1,classic:()=>Kb,cross:()=>t1,diamond:()=>Zb,ellipse:()=>a1,path:()=>qb});var ee={};C.r(ee),C.d(ee,{annotations:()=>Fb,atConnectionLength:()=>m1,atConnectionLengthIgnoreGradient:()=>f1,atConnectionLengthKeepGradient:()=>Am,atConnectionRatio:()=>_1,atConnectionRatioIgnoreGradient:()=>g1,atConnectionRatioKeepGradient:()=>Rm,connection:()=>p1,displayEmpty:()=>Lb,eol:()=>Bb,fill:()=>Pb,filter:()=>Xb,html:()=>Ub,lineHeight:()=>Ib,port:()=>Wb,ref:()=>fb,refCx:()=>yb,refCy:()=>zb,refD:()=>xb,refDKeepOffset:()=>bb,refDResetOffset:()=>Tm,refDx:()=>gb,refDy:()=>mb,refHeight:()=>bm,refHeight2:()=>Eb,refPoints:()=>Ob,refPointsKeepOffset:()=>Sb,refPointsResetOffset:()=>xm,refR:()=>Tb,refRCircumscribed:()=>Cb,refRInscribed:()=>Sm,refRx:()=>_b,refRy:()=>vb,refWidth:()=>zm,refWidth2:()=>Mb,refX:()=>Cm,refX2:()=>Db,refY:()=>ym,refY2:()=>wb,resetOffset:()=>Gb,sourceMarker:()=>c1,stroke:()=>kb,style:()=>Hb,targetMarker:()=>h1,text:()=>Mm,textPath:()=>Rb,textVerticalAnchor:()=>Ab,textWrap:()=>Nb,title:()=>Vb,vertexMarker:()=>d1,xAlign:()=>$b,yAlign:()=>jb});var le={};C.r(le),C.d(le,{className:()=>v1,opacity:()=>C1,stroke:()=>z1});var pe={};C.r(pe),C.d(pe,{absolute:()=>b1,bottom:()=>E1,ellipse:()=>S1,ellipseSpread:()=>T1,left:()=>D1,line:()=>O1,right:()=>w1,top:()=>M1});var K={};C.r(K),C.d(K,{bottom:()=>R1,inside:()=>L1,insideOriented:()=>V1,left:()=>N1,manual:()=>k1,outside:()=>F1,outsideOriented:()=>B1,radial:()=>$1,radialOriented:()=>j1,right:()=>I1,top:()=>A1});var G={};C.r(G),C.d(G,{noop:()=>W1,pinAbsolute:()=>Z1,pinRelative:()=>Q1});var fe={};C.r(fe),C.d(fe,{bottom:()=>rS,bottomLeft:()=>dS,bottomRight:()=>uS,center:()=>sS,left:()=>aS,midSide:()=>gS,nodeCenter:()=>fS,orth:()=>pS,right:()=>lS,top:()=>oS,topLeft:()=>cS,topRight:()=>hS});var ze={};C.r(ze),C.d(ze,{closest:()=>vS,length:()=>_S,orth:()=>CS,ratio:()=>mS});var xe={};C.r(xe),C.d(xe,{anchor:()=>TS,bbox:()=>qm,boundary:()=>bS,rect:()=>zS});var Fe={};C.r(Fe),C.d(Fe,{er:()=>HS,loop:()=>US,manhattan:()=>u_,metro:()=>GS,normal:()=>xS,oneSide:()=>OS,orth:()=>n_});var Ge={};C.r(Ge),C.d(Ge,{jumpover:()=>eT,loop:()=>WS,normal:()=>XS,rounded:()=>YS,smooth:()=>KS});var o,he={};C.r(he),C.d(he,{oH:()=>v_,g3:()=>no}),C(8303);class Z{get disposed(){return!0===this._disposed}dispose(){this._disposed=!0}}(Z||(Z={})).dispose=function e(){return(n,i,s)=>{const a=s.value,l=n.__proto__;s.value=function(...c){this.disposed||(a.call(this,...c),l.dispose.call(this))}}};class ae{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(e=>{e.dispose()}),this.items.clear())}contains(e){return this.items.has(e)}add(e){this.items.add(e)}remove(e){this.items.delete(e)}clear(){this.items.clear()}}(o=ae||(ae={})).from=function e(n){const i=new o;return n.forEach(s=>{i.add(s)}),i};const Pe=function Ze(o){var e=typeof o;return null!=o&&("object"==e||"function"==e)},qe="object"==typeof global&&global&&global.Object===Object&&global;var Be="object"==typeof self&&self&&self.Object===Object&&self;const Xe=qe||Be||Function("return this")(),et=function(){return Xe.Date.now()};var Le=/\s/;var xt=/^\s+/;const Me=function Gt(o){return o&&o.slice(0,function mt(o){for(var e=o.length;e--&&Le.test(o.charAt(e)););return e}(o)+1).replace(xt,"")},ie=Xe.Symbol;var F=Object.prototype,_e=F.hasOwnProperty,ne=F.toString,Oe=ie?ie.toStringTag:void 0;var At=Object.prototype.toString;var ye=ie?ie.toStringTag:void 0;const J=function st(o){return null==o?void 0===o?"[object Undefined]":"[object Null]":ye&&ye in Object(o)?function je(o){var e=_e.call(o,Oe),n=o[Oe];try{o[Oe]=void 0;var i=!0}catch{}var s=ne.call(o);return i&&(e?o[Oe]=n:delete o[Oe]),s}(o):function Wt(o){return At.call(o)}(o)},me=function He(o){return null!=o&&"object"==typeof o},D=function b(o){return"symbol"==typeof o||me(o)&&"[object Symbol]"==J(o)};var Q=/^[-+]0x[0-9a-f]+$/i,ke=/^0b[01]+$/i,Ye=/^0o[0-7]+$/i,dt=parseInt;const kt=function bt(o){if("number"==typeof o)return o;if(D(o))return NaN;if(Pe(o)){var e="function"==typeof o.valueOf?o.valueOf():o;o=Pe(e)?e+"":e}if("string"!=typeof o)return 0===o?o:+o;o=Me(o);var n=ke.test(o);return n||Ye.test(o)?dt(o.slice(2),n?2:8):Q.test(o)?NaN:+o};var Yt=Math.max,rt=Math.min;const Ee=function Ht(o,e,n){var i,s,a,l,c,u,g=0,_=!1,z=!1,y=!0;if("function"!=typeof o)throw new TypeError("Expected a function");function x(Ke){var gt=i,yt=s;return i=s=void 0,g=Ke,l=o.apply(yt,gt)}function U(Ke){var gt=Ke-u;return void 0===u||gt>=e||gt<0||z&&Ke-g>=a}function te(){var Ke=et();if(U(Ke))return ce(Ke);c=setTimeout(te,function V(Ke){var zt=e-(Ke-u);return z?rt(zt,a-(Ke-g)):zt}(Ke))}function ce(Ke){return c=void 0,y&&i?x(Ke):(i=s=void 0,l)}function Ne(){var Ke=et(),gt=U(Ke);if(i=arguments,s=this,u=Ke,gt){if(void 0===c)return function N(Ke){return g=Ke,c=setTimeout(te,e),_?x(Ke):l}(u);if(z)return clearTimeout(c),c=setTimeout(te,e),x(u)}return void 0===c&&(c=setTimeout(te,e)),l}return e=kt(e)||0,Pe(n)&&(_=!!n.leading,a=(z="maxWait"in n)?Yt(kt(n.maxWait)||0,e):a,y="trailing"in n?!!n.trailing:y),Ne.cancel=function q(){void 0!==c&&clearTimeout(c),g=0,i=u=s=c=void 0},Ne.flush=function we(){return void 0===c?l:ce(et())},Ne},It=function Ie(o,e,n){var i=!0,s=!0;if("function"!=typeof o)throw new TypeError("Expected a function");return Pe(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),Ee(o,e,{leading:i,maxWait:e,trailing:s})};function Rt(o,e,n){if(n)switch(n.length){case 0:return o.call(e);case 1:return o.call(e,n[0]);case 2:return o.call(e,n[0],n[1]);case 3:return o.call(e,n[0],n[1],n[2]);case 4:return o.call(e,n[0],n[1],n[2],n[3]);case 5:return o.call(e,n[0],n[1],n[2],n[3],n[4]);case 6:return o.call(e,n[0],n[1],n[2],n[3],n[4],n[5]);default:return o.apply(e,n)}return o.call(e)}function Ot(o,e,...n){return Rt(o,e,n)}function Ft(o){return"object"==typeof o&&o.then&&"function"==typeof o.then}function en(o){return null!=o&&(o instanceof Promise||Ft(o))}function wn(...o){const e=[];if(o.forEach(i=>{Array.isArray(i)?e.push(...i):e.push(i)}),e.some(i=>en(i))){const i=e.map(s=>en(s)?s:Promise.resolve(!1!==s));return Promise.all(i).then(s=>s.reduce((a,l)=>!1!==l&&a,!0))}return e.every(i=>!1!==i)}function kn(...o){const e=wn(o);return"boolean"==typeof e?Promise.resolve(e):e}function $e(o,e){const n=[];for(let i=0;i<o.length;i+=2){const c=Rt(o[i],o[i+1],Array.isArray(e)?e:[e]);n.push(c)}return wn(n)}class Re{constructor(){this.listeners={}}on(e,n,i){return null==n||(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n,i)),this}once(e,n,i){const s=(...a)=>(this.off(e,s),$e([n,i],a));return this.on(e,s,this)}off(e,n,i){if(!(e||n||i))return this.listeners={},this;const s=this.listeners;return(e?[e]:Object.keys(s)).forEach(l=>{const c=s[l];if(c){if(!n&&!i)return void delete s[l];for(let u=c.length-2;u>=0;u-=2)n&&c[u]!==n||i&&c[u+1]!==i||c.splice(u,2)}}),this}trigger(e,...n){let i=!0;if("*"!==e){const a=this.listeners[e];null!=a&&(i=$e([...a],n))}const s=this.listeners["*"];return null!=s?wn([i,$e([...s],[e,...n])]):i}emit(e,...n){return this.trigger(e,...n)}}var De=Object.prototype.hasOwnProperty;const ge=function ot(o,e){return null!=o&&De.call(o,e)},R=Array.isArray;var k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/;const T=function w(o,e){if(R(o))return!1;var n=typeof o;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=o&&!D(o))||P.test(o)||!k.test(o)||null!=e&&o in Object(e)},Qe=function ve(o){if(!Pe(o))return!1;var e=J(o);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Ct=Xe["__core-js_shared__"];var Ut=function(){var o=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();var yn=Function.prototype.toString;const pn=function sn(o){if(null!=o){try{return yn.call(o)}catch{}try{return o+""}catch{}}return""};var Qi=/^\[object .+?Constructor\]$/,ts=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ii=function ns(o){return!(!Pe(o)||function Kt(o){return!!Ut&&Ut in o}(o))&&(Qe(o)?ts:Qi).test(pn(o))},ei=function Ti(o,e){var n=function Si(o,e){return o?.[e]}(o,e);return Ii(n)?n:void 0},oi=ei(Object,"create");var fr=Object.prototype.hasOwnProperty;var vr=Object.prototype.hasOwnProperty;function xi(o){var e=-1,n=null==o?0:o.length;for(this.clear();++e<n;){var i=o[e];this.set(i[0],i[1])}}xi.prototype.clear=function Ms(){this.__data__=oi?oi(null):{},this.size=0},xi.prototype.delete=function hr(o){var e=this.has(o)&&delete this.__data__[o];return this.size-=e?1:0,e},xi.prototype.get=function gr(o){var e=this.__data__;if(oi){var n=e[o];return"__lodash_hash_undefined__"===n?void 0:n}return fr.call(e,o)?e[o]:void 0},xi.prototype.has=function Cr(o){var e=this.__data__;return oi?void 0!==e[o]:vr.call(e,o)},xi.prototype.set=function ci(o,e){var n=this.__data__;return this.size+=this.has(o)?0:1,n[o]=oi&&void 0===e?"__lodash_hash_undefined__":e,this};const so=xi,Oi=function Tr(o,e){return o===e||o!=o&&e!=e},is=function xr(o,e){for(var n=o.length;n--;)if(Oi(o[n][0],e))return n;return-1};var Dr=Array.prototype.splice;function Di(o){var e=-1,n=null==o?0:o.length;for(this.clear();++e<n;){var i=o[e];this.set(i[0],i[1])}}Di.prototype.clear=function br(){this.__data__=[],this.size=0},Di.prototype.delete=function wr(o){var e=this.__data__,n=is(e,o);return!(n<0||(n==e.length-1?e.pop():Dr.call(e,n,1),--this.size,0))},Di.prototype.get=function Er(o){var e=this.__data__,n=is(e,o);return n<0?void 0:e[n][1]},Di.prototype.has=function kr(o){return is(this.__data__,o)>-1},Di.prototype.set=function ro(o,e){var n=this.__data__,i=is(n,o);return i<0?(++this.size,n.push([o,e])):n[i][1]=e,this};const Ri=Di,Fi=ei(Xe,"Map"),Bi=function Ar(o,e){var n=o.__data__;return function Es(o){var e=typeof o;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==o:null===o}(e)?n["string"==typeof e?"string":"hash"]:n.map};function wi(o){var e=-1,n=null==o?0:o.length;for(this.clear();++e<n;){var i=o[e];this.set(i[0],i[1])}}wi.prototype.clear=function vi(){this.size=0,this.__data__={hash:new so,map:new(Fi||Ri),string:new so}},wi.prototype.delete=function lo(o){var e=Bi(this,o).delete(o);return this.size-=e?1:0,e},wi.prototype.get=function Ba(o){return Bi(this,o).get(o)},wi.prototype.has=function Va(o){return Bi(this,o).has(o)},wi.prototype.set=function Fr(o,e){var n=Bi(this,o),i=n.size;return n.set(o,e),this.size+=n.size==i?0:1,this};const Mi=wi;function ks(o,e){if("function"!=typeof o||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,s=e?e.apply(this,i):i[0],a=n.cache;if(a.has(s))return a.get(s);var l=o.apply(this,i);return n.cache=a.set(s,l)||a,l};return n.cache=new(ks.Cache||Mi),n}ks.Cache=Mi;const ho=ks;var Lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$a=/\\(\\)?/g,Vr=function po(o){var e=ho(o,function(i){return 500===n.size&&n.clear(),i}),n=e.cache;return e}(function(o){var e=[];return 46===o.charCodeAt(0)&&e.push(""),o.replace(Lr,function(n,i,s,a){e.push(s?a.replace($a,"$1"):i||n)}),e});const L=Vr,O=function ut(o,e){for(var n=-1,i=null==o?0:o.length,s=Array(i);++n<i;)s[n]=e(o[n],n,o);return s};var H=ie?ie.prototype:void 0,Ae=H?H.toString:void 0;const Vt=function ft(o){if("string"==typeof o)return o;if(R(o))return O(o,ft)+"";if(D(o))return Ae?Ae.call(o):"";var e=o+"";return"0"==e&&1/o==-1/0?"-0":e},tn=function Xt(o){return null==o?"":Vt(o)},$t=function fn(o,e){return R(o)?o:T(o,e)?[o]:L(tn(o))},Ci=function hi(o){return me(o)&&"[object Arguments]"==J(o)};var ja=Object.prototype,Nc=ja.hasOwnProperty,Ic=ja.propertyIsEnumerable,Ac=Ci(function(){return arguments}())?Ci:function(o){return me(o)&&Nc.call(o,"callee")&&!Ic.call(o,"callee")};const ss=Ac;var Fc=/^(?:0|[1-9]\d*)$/;const go=function Bc(o,e){var n=typeof o;return!!(e=e??9007199254740991)&&("number"==n||"symbol"!=n&&Fc.test(o))&&o>-1&&o%1==0&&o<e},mo=function Vc(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=9007199254740991},Ns=function $c(o){if("string"==typeof o||D(o))return o;var e=o+"";return"0"==e&&1/o==-1/0?"-0":e},Ha=function jc(o,e,n){for(var i=-1,s=(e=$t(e,o)).length,a=!1;++i<s;){var l=Ns(e[i]);if(!(a=null!=o&&n(o,l)))break;o=o[l]}return a||++i!=s?a:!!(s=null==o?0:o.length)&&mo(s)&&go(l,s)&&(R(o)||ss(o))},Is=function Gc(o,e){return null!=o&&Ha(o,e,ge)},_o=function Hc(o,e){for(var n=0,i=(e=$t(e,o)).length;null!=o&&n<i;)o=o[Ns(e[n++])];return n&&n==i?o:void 0};var Uc=function(){try{var o=ei(Object,"defineProperty");return o({},"",{}),o}catch{}}();const vo=Uc,Co=function Xc(o,e,n){"__proto__"==e&&vo?vo(o,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):o[e]=n};var Yc=Object.prototype.hasOwnProperty;const $r=function Kc(o,e,n){var i=o[e];(!Yc.call(o,e)||!Oi(i,n)||void 0===n&&!(e in o))&&Co(o,e,n)},Zc=function Qc(o,e,n,i){if(!Pe(o))return o;for(var s=-1,a=(e=$t(e,o)).length,l=a-1,c=o;null!=c&&++s<a;){var u=Ns(e[s]),g=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return o;if(s!=l){var _=c[u];void 0===(g=i?i(_,u,c):void 0)&&(g=Pe(_)?_:go(e[s+1])?[]:{})}$r(c,u,g),c=c[u]}return o},th=function eh(o,e){return null!=o&&e in Object(o)},Ua=function nh(o,e){return null!=o&&Ha(o,e,th)},sh=function ih(o,e){return function Jc(o,e,n){for(var i=-1,s=e.length,a={};++i<s;){var l=e[i],c=_o(o,l);n(c,l)&&Zc(a,$t(l,o),c)}return a}(o,e,function(n,i){return Ua(o,i)})},jr=function oh(o,e){for(var n=-1,i=e.length,s=o.length;++n<i;)o[s+n]=e[n];return o};var Xa=ie?ie.isConcatSpreadable:void 0;const ah=function rh(o){return R(o)||ss(o)||!!(Xa&&o&&o[Xa])},yo=function Wa(o,e,n,i,s){var a=-1,l=o.length;for(n||(n=ah),s||(s=[]);++a<l;){var c=o[a];e>0&&n(c)?e>1?Wa(c,e-1,n,i,s):jr(s,c):i||(s[s.length]=c)}return s},ch=function lh(o){return null!=o&&o.length?yo(o,1):[]},Ya=function hh(o,e,n){switch(n.length){case 0:return o.call(e);case 1:return o.call(e,n[0]);case 2:return o.call(e,n[0],n[1]);case 3:return o.call(e,n[0],n[1],n[2])}return o.apply(e,n)};var Ka=Math.max;const Qa=function zo(o,e,n){return e=Ka(void 0===e?o.length-1:e,0),function(){for(var i=arguments,s=-1,a=Ka(i.length-e,0),l=Array(a);++s<a;)l[s]=i[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=i[s];return c[e]=n(l),Ya(o,this,c)}},dh=function Za(o){return function(){return o}},yi=function uh(o){return o};var bo=vo?function(o,e){return vo(o,"toString",{configurable:!0,enumerable:!1,value:dh(e),writable:!0})}:yi,fh=Date.now,gh=function To(o){var e=0,n=0;return function(){var i=fh(),s=16-(i-n);if(n=i,s>0){if(++e>=800)return arguments[0]}else e=0;return o.apply(void 0,arguments)}}(bo);const Ja=gh;var _h=function mh(o){return Ja(Qa(o,void 0,ch),o+"")}(function(o,e){return null==o?{}:sh(o,e)});const vh=_h;function As(o){var e=this.__data__=new Ri(o);this.size=e.size}As.prototype.clear=function Ch(){this.__data__=new Ri,this.size=0},As.prototype.delete=function zh(o){var e=this.__data__,n=e.delete(o);return this.size=e.size,n},As.prototype.get=function qa(o){return this.__data__.get(o)},As.prototype.has=function Sh(o){return this.__data__.has(o)},As.prototype.set=function ef(o,e){var n=this.__data__;if(n instanceof Ri){var i=n.__data__;if(!Fi||i.length<199)return i.push([o,e]),this.size=++n.size,this;n=this.__data__=new Mi(i)}return n.set(o,e),this.size=n.size,this};const Rs=As,Ur=function xh(o,e,n){(void 0!==n&&!Oi(o[e],n)||void 0===n&&!(e in o))&&Co(o,e,n)};var el=function Oh(o){return function(e,n,i){for(var s=-1,a=Object(e),l=i(e),c=l.length;c--;){var u=l[o?c:++s];if(!1===n(a[u],u,a))break}return e}}();const tl=el;var Ei="object"==typeof exports&&exports&&!exports.nodeType&&exports,xo=Ei&&"object"==typeof module&&module&&!module.nodeType&&module,il=xo&&xo.exports===Ei?Xe.Buffer:void 0,sl=il?il.allocUnsafe:void 0;const os=function ol(o,e){if(e)return o.slice();var n=o.length,i=sl?sl(n):new o.constructor(n);return o.copy(i),i},Fs=Xe.Uint8Array,Xr=function al(o){var e=new o.constructor(o.byteLength);return new Fs(e).set(new Fs(o)),e},ll=function Dh(o,e){var n=e?Xr(o.buffer):o.buffer;return new o.constructor(n,o.byteOffset,o.length)},cl=function wh(o,e){var n=-1,i=o.length;for(e||(e=Array(i));++n<i;)e[n]=o[n];return e};var rs=Object.create,Mh=function(){function o(){}return function(e){if(!Pe(e))return{};if(rs)return rs(e);o.prototype=e;var n=new o;return o.prototype=void 0,n}}();const hl=Mh,dl=function Wr(o,e){return function(n){return o(e(n))}},Yr=dl(Object.getPrototypeOf,Object);var Ph=Object.prototype;const Oo=function kh(o){var e=o&&o.constructor;return o===("function"==typeof e&&e.prototype||Ph)},ul=function Nh(o){return"function"!=typeof o.constructor||Oo(o)?{}:hl(Yr(o))},Li=function Ih(o){return null!=o&&mo(o.length)&&!Qe(o)},Do=function Ah(o){return me(o)&&Li(o)};var pl="object"==typeof exports&&exports&&!exports.nodeType&&exports,fl=pl&&"object"==typeof module&&module&&!module.nodeType&&module,Kr=fl&&fl.exports===pl?Xe.Buffer:void 0;const as=(Kr?Kr.isBuffer:void 0)||function Rh(){return!1};var gl=Function.prototype.toString,Hh=Object.prototype.hasOwnProperty,Uh=gl.call(Object);const ni=function Xh(o){if(!me(o)||"[object Object]"!=J(o))return!1;var e=Yr(o);if(null===e)return!0;var n=Hh.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&gl.call(n)==Uh};var Cn={};Cn["[object Float32Array]"]=Cn["[object Float64Array]"]=Cn["[object Int8Array]"]=Cn["[object Int16Array]"]=Cn["[object Int32Array]"]=Cn["[object Uint8Array]"]=Cn["[object Uint8ClampedArray]"]=Cn["[object Uint16Array]"]=Cn["[object Uint32Array]"]=!0,Cn["[object Arguments]"]=Cn["[object Array]"]=Cn["[object ArrayBuffer]"]=Cn["[object Boolean]"]=Cn["[object DataView]"]=Cn["[object Date]"]=Cn["[object Error]"]=Cn["[object Function]"]=Cn["[object Map]"]=Cn["[object Number]"]=Cn["[object Object]"]=Cn["[object RegExp]"]=Cn["[object Set]"]=Cn["[object String]"]=Cn["[object WeakMap]"]=!1;const wo=function ud(o){return function(e){return o(e)}};var Mo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vi=Mo&&"object"==typeof module&&module&&!module.nodeType&&module,qr=Vi&&Vi.exports===Mo&&qe.process;const ls=function(){try{return Vi&&Vi.require&&Vi.require("util").types||qr&&qr.binding&&qr.binding("util")}catch{}}();var bl=ls&&ls.isTypedArray;const Eo=bl?wo(bl):function Jr(o){return me(o)&&mo(o.length)&&!!Cn[J(o)]},ea=function fd(o,e){if(("constructor"!==e||"function"!=typeof o[e])&&"__proto__"!=e)return o[e]},Bs=function Sl(o,e,n,i){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var c=e[a],u=i?i(n[c],o[c],c,n,o):void 0;void 0===u&&(u=o[c]),s?Co(n,c,u):$r(n,c,u)}return n};var vd=Object.prototype.hasOwnProperty;const Tl=function Cd(o,e){var n=R(o),i=!n&&ss(o),s=!n&&!i&&as(o),a=!n&&!i&&!s&&Eo(o),l=n||i||s||a,c=l?function gd(o,e){for(var n=-1,i=Array(o);++n<o;)i[n]=e(n);return i}(o.length,String):[],u=c.length;for(var g in o)(e||vd.call(o,g))&&(!l||!("length"==g||s&&("offset"==g||"parent"==g)||a&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||go(g,u)))&&c.push(g);return c};var ta=Object.prototype.hasOwnProperty;const Sd=function bd(o){if(!Pe(o))return function yd(o){var e=[];if(null!=o)for(var n in Object(o))e.push(n);return e}(o);var e=Oo(o),n=[];for(var i in o)"constructor"==i&&(e||!ta.call(o,i))||n.push(i);return n},cs=function Ol(o){return Li(o)?Tl(o,!0):Sd(o)},na=function Od(o,e,n,i,s,a,l){var c=ea(o,n),u=ea(e,n),g=l.get(u);if(g)Ur(o,n,g);else{var _=a?a(c,u,n+"",o,e,l):void 0,z=void 0===_;if(z){var y=R(u),x=!y&&as(u),N=!y&&!x&&Eo(u);_=u,y||x||N?R(c)?_=c:Do(c)?_=cl(c):x?(z=!1,_=os(u,!0)):N?(z=!1,_=ll(u,!0)):_=[]:ni(u)||ss(u)?(_=c,ss(c)?_=function Td(o){return Bs(o,cs(o))}(c):(!Pe(c)||Qe(c))&&(_=ul(u))):z=!1}z&&(l.set(u,_),s(_,u,i,a,l),l.delete(u)),Ur(o,n,_)}},Po=function Dl(o,e,n,i,s){o!==e&&tl(e,function(a,l){if(s||(s=new Rs),Pe(a))na(o,e,l,n,Dl,i,s);else{var c=i?i(ea(o,l),a,l+"",o,e,s):void 0;void 0===c&&(c=a),Ur(o,l,c)}},cs)},hs=function Dd(o,e){return Ja(Qa(o,e,yi),o+"")},ko=function wd(o,e,n){if(!Pe(n))return!1;var i=typeof e;return!!("number"==i?Li(n)&&go(e,n.length):"string"==i&&e in n)&&Oi(n[e],o)},wl=function Md(o){return hs(function(e,n){var i=-1,s=n.length,a=s>1?n[s-1]:void 0,l=s>2?n[2]:void 0;for(a=o.length>3&&"function"==typeof a?(s--,a):void 0,l&&ko(n[0],n[1],l)&&(a=s<3?void 0:a,s=1),e=Object(e);++i<s;){var c=n[i];c&&o(e,c,i,a)}return e})};var Ml=wl(function(o,e,n){Po(o,e,n)});const Mn=Ml;function No(o){var e=-1,n=null==o?0:o.length;for(this.__data__=new Mi;++e<n;)this.add(o[e])}No.prototype.add=No.prototype.push=function El(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this},No.prototype.has=function Pd(o){return this.__data__.has(o)};const Ls=No,ia=function Pl(o,e){for(var n=-1,i=null==o?0:o.length;++n<i;)if(e(o[n],n,o))return!0;return!1},sa=function Nd(o,e){return o.has(e)},kl=function Rd(o,e,n,i,s,a){var l=1&n,c=o.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var g=a.get(o),_=a.get(e);if(g&&_)return g==e&&_==o;var z=-1,y=!0,x=2&n?new Ls:void 0;for(a.set(o,e),a.set(e,o);++z<c;){var N=o[z],V=e[z];if(i)var U=l?i(V,N,z,e,o,a):i(N,V,z,o,e,a);if(void 0!==U){if(U)continue;y=!1;break}if(x){if(!ia(e,function(te,ce){if(!sa(x,ce)&&(N===te||s(N,te,n,i,a)))return x.push(ce)})){y=!1;break}}else if(N!==V&&!s(N,V,n,i,a)){y=!1;break}}return a.delete(o),a.delete(e),y},Bd=function Fd(o){var e=-1,n=Array(o.size);return o.forEach(function(i,s){n[++e]=[s,i]}),n},oa=function Ld(o){var e=-1,n=Array(o.size);return o.forEach(function(i){n[++e]=i}),n};var Nl=ie?ie.prototype:void 0,ra=Nl?Nl.valueOf:void 0;const Il=function tu(o,e,n){var i=e(o);return R(o)?i:jr(i,n(o))},Al=function su(){return[]};var ru=Object.prototype.propertyIsEnumerable,Rl=Object.getOwnPropertySymbols,au=Rl?function(o){return null==o?[]:(o=Object(o),function nu(o,e){for(var n=-1,i=null==o?0:o.length,s=0,a=[];++n<i;){var l=o[n];e(l,n,o)&&(a[s++]=l)}return a}(Rl(o),function(e){return ru.call(o,e)}))}:Al;const aa=au,cu=dl(Object.keys,Object);var du=Object.prototype.hasOwnProperty;const Fl=function uu(o){if(!Oo(o))return cu(o);var e=[];for(var n in Object(o))du.call(o,n)&&"constructor"!=n&&e.push(n);return e},Vs=function pu(o){return Li(o)?Tl(o):Fl(o)},la=function fu(o){return Il(o,Vs,aa)};var _u=Object.prototype.hasOwnProperty;const ca=ei(Xe,"DataView"),ha=ei(Xe,"Promise"),ds=ei(Xe,"Set"),da=ei(Xe,"WeakMap");var Bl="[object Map]",Su="[object Promise]",Ll="[object Set]",Vl="[object WeakMap]",Tu="[object DataView]",xu=pn(ca),Ou=pn(Fi),af=pn(ha),Du=pn(ds),wu=pn(da),$i=J;(ca&&$i(new ca(new ArrayBuffer(1)))!=Tu||Fi&&$i(new Fi)!=Bl||ha&&$i(ha.resolve())!=Su||ds&&$i(new ds)!=Ll||da&&$i(new da)!=Vl)&&($i=function(o){var e=J(o),n="[object Object]"==e?o.constructor:void 0,i=n?pn(n):"";if(i)switch(i){case xu:return Tu;case Ou:return Bl;case af:return Su;case Du:return Ll;case wu:return Vl}return e});const us=$i;var $l="[object Arguments]",jl="[object Array]",Io="[object Object]",Pu=Object.prototype.hasOwnProperty;const cf=function lf(o,e,n,i,s,a){var l=R(o),c=R(e),u=l?jl:us(o),g=c?jl:us(e),_=(u=u==$l?Io:u)==Io,z=(g=g==$l?Io:g)==Io,y=u==g;if(y&&as(o)){if(!as(e))return!1;l=!0,_=!1}if(y&&!_)return a||(a=new Rs),l||Eo(o)?kl(o,e,n,i,s,a):function qd(o,e,n,i,s,a,l){switch(n){case"[object DataView]":if(o.byteLength!=e.byteLength||o.byteOffset!=e.byteOffset)return!1;o=o.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(o.byteLength!=e.byteLength||!a(new Fs(o),new Fs(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Oi(+o,+e);case"[object Error]":return o.name==e.name&&o.message==e.message;case"[object RegExp]":case"[object String]":return o==e+"";case"[object Map]":var c=Bd;case"[object Set]":if(c||(c=oa),o.size!=e.size&&!(1&i))return!1;var g=l.get(o);if(g)return g==e;i|=2,l.set(o,e);var _=kl(c(o),c(e),i,s,a,l);return l.delete(o),_;case"[object Symbol]":if(ra)return ra.call(o)==ra.call(e)}return!1}(o,e,u,n,i,s,a);if(!(1&n)){var x=_&&Pu.call(o,"__wrapped__"),N=z&&Pu.call(e,"__wrapped__");if(x||N){var V=x?o.value():o,U=N?e.value():e;return a||(a=new Rs),s(V,U,n,i,a)}}return!!y&&(a||(a=new Rs),function vu(o,e,n,i,s,a){var l=1&n,c=la(o),u=c.length;if(u!=la(e).length&&!l)return!1;for(var z=u;z--;){var y=c[z];if(!(l?y in e:_u.call(e,y)))return!1}var x=a.get(o),N=a.get(e);if(x&&N)return x==e&&N==o;var V=!0;a.set(o,e),a.set(e,o);for(var U=l;++z<u;){var te=o[y=c[z]],ce=e[y];if(i)var q=l?i(ce,te,y,e,o,a):i(te,ce,y,o,e,a);if(!(void 0===q?te===ce||s(te,ce,n,i,a):q)){V=!1;break}U||(U="constructor"==y)}if(V&&!U){var we=o.constructor,Ne=e.constructor;we!=Ne&&"constructor"in o&&"constructor"in e&&!("function"==typeof we&&we instanceof we&&"function"==typeof Ne&&Ne instanceof Ne)&&(V=!1)}return a.delete(o),a.delete(e),V}(o,e,n,i,s,a))},ua=function Gl(o,e,n,i,s){return o===e||(null==o||null==e||!me(o)&&!me(e)?o!=o&&e!=e:cf(o,e,n,i,Gl,s))},di=function ku(o,e){return ua(o,e)};var Ru=Object.prototype.hasOwnProperty;const pa=function Fu(o){if(null==o)return!0;if(Li(o)&&(R(o)||"string"==typeof o||"function"==typeof o.splice||as(o)||Eo(o)||ss(o)))return!o.length;var e=us(o);if("[object Map]"==e||"[object Set]"==e)return!o.size;if(Oo(o))return!Fl(o).length;for(var n in o)if(Ru.call(o,n))return!1;return!0};var Hu=Object.getOwnPropertySymbols?function(o){for(var e=[];o;)jr(e,aa(o)),o=Yr(o);return e}:Al;const Hl=Hu,mf=function gf(o){return Il(o,cs,Hl)};var Xu=Object.prototype.hasOwnProperty;var p=/\w*$/;var Ue=ie?ie.prototype:void 0,Dt=Ue?Ue.valueOf:void 0;const L_=function B_(o,e,n){var i=o.constructor;switch(e){case"[object ArrayBuffer]":return Xr(o);case"[object Boolean]":case"[object Date]":return new i(+o);case"[object DataView]":return function r(o,e){var n=e?Xr(o.buffer):o.buffer;return new o.constructor(n,o.byteOffset,o.byteLength)}(o,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ll(o,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(o);case"[object RegExp]":return function S(o){var e=new o.constructor(o.source,p.exec(o));return e.lastIndex=o.lastIndex,e}(o);case"[object Symbol]":return function on(o){return Dt?Object(Dt.call(o)):{}}(o)}};var _f=ls&&ls.isMap;const H_=_f?wo(_f):function $_(o){return me(o)&&"[object Map]"==us(o)};var vf=ls&&ls.isSet;const K_=vf?wo(vf):function X_(o){return me(o)&&"[object Set]"==us(o)};var Cf="[object Arguments]",yf="[object Function]",zf="[object Object]",zn={};zn[Cf]=zn["[object Array]"]=zn["[object ArrayBuffer]"]=zn["[object DataView]"]=zn["[object Boolean]"]=zn["[object Date]"]=zn["[object Float32Array]"]=zn["[object Float64Array]"]=zn["[object Int8Array]"]=zn["[object Int16Array]"]=zn["[object Int32Array]"]=zn["[object Map]"]=zn["[object Number]"]=zn[zf]=zn["[object RegExp]"]=zn["[object Set]"]=zn["[object String]"]=zn["[object Symbol]"]=zn["[object Uint8Array]"]=zn["[object Uint8ClampedArray]"]=zn["[object Uint16Array]"]=zn["[object Uint32Array]"]=!0,zn["[object Error]"]=zn[yf]=zn["[object WeakMap]"]=!1;const bf=function Ul(o,e,n,i,s,a){var l,c=1&e,u=2&e,g=4&e;if(n&&(l=s?n(o,i,s,a):n(o)),void 0!==l)return l;if(!Pe(o))return o;var _=R(o);if(_){if(l=function h(o){var e=o.length,n=new o.constructor(e);return e&&"string"==typeof o[0]&&Xu.call(o,"index")&&(n.index=o.index,n.input=o.input),n}(o),!c)return cl(o,l)}else{var z=us(o),y=z==yf||"[object GeneratorFunction]"==z;if(as(o))return os(o,c);if(z==zf||z==Cf||y&&!s){if(l=u||y?{}:ul(o),!c)return u?function pf(o,e){return Bs(o,Hl(o),e)}(o,function ju(o,e){return o&&Bs(e,cs(e),o)}(l,o)):function hf(o,e){return Bs(o,aa(o),e)}(o,function Vu(o,e){return o&&Bs(e,Vs(e),o)}(l,o))}else{if(!zn[z])return s?o:{};l=L_(o,z,c)}}a||(a=new Rs);var x=a.get(o);if(x)return x;a.set(o,l),K_(o)?o.forEach(function(U){l.add(Ul(U,e,n,U,o,a))}):H_(o)&&o.forEach(function(U,te){l.set(te,Ul(U,e,n,te,o,a))});var V=_?void 0:(g?u?mf:la:u?cs:Vs)(o);return function Bu(o,e){for(var n=-1,i=null==o?0:o.length;++n<i&&!1!==e(o[n],n,o););}(V||o,function(U,te){V&&(U=o[te=U]),$r(l,te,Ul(U,e,n,te,o,a))}),l},Xl=function Sv(o){return bf(o,4)},En=function Ov(o){return bf(o,5)};var Sf=Object.prototype,Dv=Sf.hasOwnProperty,wv=hs(function(o,e){o=Object(o);var n=-1,i=e.length,s=i>2?e[2]:void 0;for(s&&ko(e[0],e[1],s)&&(i=1);++n<i;)for(var a=e[n],l=cs(a),c=-1,u=l.length;++c<u;){var g=l[c],_=o[g];(void 0===_||Oi(_,Sf[g])&&!Dv.call(o,g))&&(o[g]=a[g])}return o});const Tf=wv,Mv=function xf(o,e,n,i,s,a){return Pe(o)&&Pe(e)&&(a.set(e,o),Po(o,e,void 0,xf,a),a.delete(e)),o};var Ev=wl(function(o,e,n,i){Po(o,e,n,i)});const Pv=Ev;var kv=hs(function(o){return o.push(void 0,Mv),Ya(Pv,void 0,o)});const Wu=kv;function Of(o,...e){e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(i=>{"constructor"!==i&&Object.defineProperty(o.prototype,i,Object.getOwnPropertyDescriptor(n.prototype,i))})})}const Nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])};function Df(o,e){function n(){this.constructor=o}Nv(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}const Av=/^\s*class\s+/.test(`${class Iv{}}`)||/^\s*class\s*\{/.test(`${class{}}`);function Wl(o,e){let n;return Av?n=class extends e{}:(n=function(){return e.apply(this,arguments)},Df(n,e)),Object.defineProperty(n,"name",{value:o}),n}function wf(o,e){return o??e}function Rv(o,e,n){const i=null!=o?o[e]:null;return void 0!==n?wf(i,n):i}function Fv(o,e,n){let i=null!=o?o[e]:null;return null==i||(i=+i,Number.isNaN(i)||!Number.isFinite(i))?n:i}function Bv(o,e,n){const i=null!=o?o[e]:null;return null==i?n:!!i}function Yu(o){return"__proto__"===o}function Yl(o,e,n="/"){let i;const s=Array.isArray(e)?e:e.split(n);if(s.length)for(i=o;s.length;){const a=s.shift();if(Object(i)!==i||!a||!(a in i))return;i=i[a]}return i}function Hs(o,e,n,i="/"){const s=Array.isArray(e)?e:e.split(i),a=s.pop();if(a&&!Yu(a)){let l=o;s.forEach(c=>{Yu(c)||(null==l[c]&&(l[c]={}),l=l[c])}),l[a]=n}return o}function Ku(o,e,n="/"){const i=Array.isArray(e)?e.slice():e.split(n),s=i.pop();if(s)if(i.length>0){const a=Yl(o,i);a&&delete a[s]}else delete o[s];return o}function Mf(o,e="/",n){const i={};Object.keys(o).forEach(s=>{const a=o[s];let l="object"==typeof a||Array.isArray(a);if(l&&n&&n(a)&&(l=!1),l){const c=Mf(a,e,n);Object.keys(c).forEach(u=>{i[s+e+u]=c[u]})}else i[s]=a});for(const s in o)Object.prototype.hasOwnProperty.call(o,s);return i}class ii extends Re{dispose(){this.off()}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([Z.dispose()],ii.prototype,"dispose",null),function(o){o.dispose=Z.dispose}(ii||(ii={})),Of(ii,Z);const Gv=function jv(o){return o!=o},Ef=function Yv(o,e){return!(null==o||!o.length)&&function Xv(o,e,n){return e==e?function Hv(o,e,n){for(var i=n-1,s=o.length;++i<s;)if(o[i]===e)return i;return-1}(o,e,n):function Vv(o,e,n,i){for(var s=o.length,a=n+(i?1:-1);i?a--:++a<s;)if(e(o[a],a,o))return a;return-1}(o,Gv,n)}(o,e,0)>-1},Pf=function Kv(o,e,n){for(var i=-1,s=null==o?0:o.length;++i<s;)if(n(e,o[i]))return!0;return!1};var qv=ds&&1/oa(new ds([,-0]))[1]==1/0?function(o){return new ds(o)}:function Qv(){};const eC=qv,kf=function nC(o,e,n){var i=-1,s=Ef,a=o.length,l=!0,c=[],u=c;if(n)l=!1,s=Pf;else if(a>=200){var g=e?null:eC(o);if(g)return oa(g);l=!1,s=sa,u=new Ls}else u=e?[]:c;e:for(;++i<a;){var _=o[i],z=e?e(_):_;if(_=n||0!==_?_:0,l&&z==z){for(var y=u.length;y--;)if(u[y]===z)continue e;e&&u.push(z),c.push(_)}else s(u,z,n)||(u!==c&&u.push(z),c.push(_))}return c},Qu=function iC(o){return o&&o.length?kf(o):[]};var sC=hs(function(o){return kf(yo(o,1,Do,!0))});const Zu=sC;var aC=Math.floor,lC=Math.min;const Nf=function cC(o,e,n,i){var s=0,a=null==o?0:o.length;if(0===a)return 0;for(var l=(e=n(e))!=e,c=null===e,u=D(e),g=void 0===e;s<a;){var _=aC((s+a)/2),z=n(o[_]),y=void 0!==z,x=null===z,N=z==z,V=D(z);if(l)var U=i||N;else U=g?N&&(i||y):c?N&&y&&(i||!x):u?N&&y&&!x&&(i||!V):!x&&!V&&(i?z<=e:z<e);U?s=_+1:a=_}return lC(a,4294967294)},If=function fC(o,e){return function uC(o,e,n){var i=0,s=null==o?i:o.length;if("number"==typeof e&&e==e&&s<=2147483647){for(;i<s;){var a=i+s>>>1,l=o[a];null!==l&&!D(l)&&(n?l<=e:l<e)?i=a+1:s=a}return s}return Nf(o,e,yi,n)}(o,e)},Af=function CC(o){return o==o&&!Pe(o)},Rf=function bC(o,e){return function(n){return null!=n&&n[o]===e&&(void 0!==e||o in Object(n))}},TC=function SC(o){var e=function yC(o){for(var e=Vs(o),n=e.length;n--;){var i=e[n],s=o[i];e[n]=[i,s,Af(s)]}return e}(o);return 1==e.length&&e[0][2]?Rf(e[0][0],e[0][1]):function(n){return n===o||function _C(o,e,n,i){var s=n.length,a=s,l=!i;if(null==o)return!a;for(o=Object(o);s--;){var c=n[s];if(l&&c[2]?c[1]!==o[c[0]]:!(c[0]in o))return!1}for(;++s<a;){var u=(c=n[s])[0],g=o[u],_=c[1];if(l&&c[2]){if(void 0===g&&!(u in o))return!1}else{var z=new Rs;if(i)var y=i(g,_,u,o,e,z);if(!(void 0===y?ua(_,g,3,i,z):y))return!1}}return!0}(n,o,e)}},EC=function MC(o,e){return T(o)&&Af(e)?Rf(Ns(o),e):function(n){var i=function xC(o,e,n){var i=null==o?void 0:_o(o,e);return void 0===i?n:i}(n,o);return void 0===i&&i===e?Ua(n,o):ua(e,i,3)}},RC=function AC(o){return T(o)?function PC(o){return function(e){return e?.[o]}}(Ns(o)):function NC(o){return function(e){return _o(e,o)}}(o)},Ju=function FC(o){return"function"==typeof o?o:null==o?yi:"object"==typeof o?R(o)?EC(o[0],o[1]):TC(o):RC(o)},Ff=function BC(o,e,n){return Nf(o,e,Ju(n))};var jC=function $C(o,e){return function(n,i){if(null==n)return n;if(!Li(n))return o(n,i);for(var s=n.length,a=e?s:-1,l=Object(n);(e?a--:++a<s)&&!1!==i(l[a],a,l););return n}}(function LC(o,e){return o&&tl(o,e,Vs)});const Bf=jC,YC=function WC(o,e){if(o!==e){var n=void 0!==o,i=null===o,s=o==o,a=D(o),l=void 0!==e,c=null===e,u=e==e,g=D(e);if(!c&&!g&&!a&&o>e||a&&l&&u&&!c&&!g||i&&l&&u||!n&&u||!s)return 1;if(!i&&!a&&!g&&o<e||g&&n&&s&&!i&&!a||c&&n&&s||!l&&s||!u)return-1}return 0},JC=function ZC(o,e,n){e=e.length?O(e,function(a){return R(a)?function(l){return _o(l,1===a.length?a[0]:a)}:a}):[yi];var i=-1;e=O(e,wo(Ju));var s=function GC(o,e){var n=-1,i=Li(o)?Array(o.length):[];return Bf(o,function(s,a,l){i[++n]=e(s,a,l)}),i}(o,function(a,l,c){return{criteria:O(e,function(g){return g(a)}),index:++i,value:a}});return function UC(o,e){var n=o.length;for(o.sort(e);n--;)o[n]=o[n].value;return o}(s,function(a,l){return function KC(o,e,n){for(var i=-1,s=o.criteria,a=e.criteria,l=s.length,c=n.length;++i<l;){var u=YC(s[i],a[i]);if(u)return i>=c?u:u*("desc"==n[i]?-1:1)}return o.index-e.index}(a,l,n)})};var qC=hs(function(o,e){if(null==o)return[];var n=e.length;return n>1&&ko(o,e[0],e[1])?e=[]:n>2&&ko(e[0],e[1],e[2])&&(e=[e[0]]),JC(o,yo(e,1),[])});const Lf=qC,t0=function e0(o,e,n,i){for(var s=-1,a=null==o?0:o.length;++s<a;){var l=o[s];e(i,l,n(l),o)}return i},s0=function n0(o,e,n,i){return Bf(o,function(s,a,l){e(i,s,n(s),l)}),i};var l0=Object.prototype.hasOwnProperty,c0=function o0(o,e){return function(n,i){var s=R(n)?t0:s0,a=e?e():{};return s(n,o,Ju(i),a)}}(function(o,e,n){l0.call(o,n)?o[n].push(e):Co(o,n,[e])});const qu=c0;var p0=hs(function(o,e){return Do(o)?function d0(o,e,n,i){var s=-1,a=Ef,l=!0,c=o.length,u=[],g=e.length;if(!c)return u;n&&(e=O(e,wo(n))),i?(a=Pf,l=!1):e.length>=200&&(a=sa,l=!1,e=new Ls(e));e:for(;++s<c;){var _=o[s],z=null==n?_:n(_);if(_=i||0!==_?_:0,l&&z==z){for(var y=g;y--;)if(e[y]===z)continue e;u.push(_)}else a(e,z,i)||u.push(_)}return u}(o,yo(e,1,Do,!0)):[]});const Vf=p0,_0=function m0(o,e){return o>e},$f=function v0(o){return o&&o.length?function f0(o,e,n){for(var i=-1,s=o.length;++i<s;){var a=o[i],l=e(a);if(null!=l&&(void 0===c?l==l&&!D(l):n(l,c)))var c=l,u=a}return u}(o,yi,_0):void 0},D0=function S0(o){return function(e){return o?.[e]}}({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"});var w0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,I0=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var F0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var V0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var jf="\\ud800-\\udfff",Gf="\\u2700-\\u27bf",Hf="a-z\\xdf-\\xf6\\xf8-\\xff",Uf="A-Z\\xc0-\\xd6\\xd8-\\xde",Xf="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Yf="["+Xf+"]",Kf="\\d+",q0="["+Gf+"]",Qf="["+Hf+"]",Zf="[^"+jf+Xf+Kf+Gf+Hf+Uf+"]",Jf="(?:\\ud83c[\\udde6-\\uddff]){2}",qf="[\\ud800-\\udbff][\\udc00-\\udfff]",Ao="["+Uf+"]",eg="(?:"+Qf+"|"+Zf+")",sy="(?:"+Ao+"|"+Zf+")",tg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ng="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ig="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",sg="[\\ufe0e\\ufe0f]?",ly=sg+ig+"(?:\\u200d(?:"+["[^"+jf+"]",Jf,qf].join("|")+")"+sg+ig+")*",cy="(?:"+[q0,Jf,qf].join("|")+")"+ly,hy=RegExp([Ao+"?"+Qf+"+"+tg+"(?="+[Yf,Ao,"$"].join("|")+")",sy+"+"+ng+"(?="+[Yf,Ao+eg,"$"].join("|")+")",Ao+"?"+eg+"+"+tg,Ao+"+"+ng,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kf,cy].join("|"),"g");const fy=function py(o,e,n){return o=tn(o),void 0===(e=n?void 0:e)?function $0(o){return V0.test(o)}(o)?function dy(o){return o.match(hy)||[]}(o):function B0(o){return o.match(F0)||[]}(o):o.match(e)||[]};var my=RegExp("['\u2019]","g");const Kl=function _y(o){return function(e){return function z0(o,e,n,i){var s=-1,a=null==o?0:o.length;for(i&&a&&(n=o[++s]);++s<a;)n=e(n,o[s],s,o);return n}(fy(function A0(o){return(o=tn(o))&&o.replace(w0,D0).replace(I0,"")}(e).replace(my,"")),o,"")}},zy=function yy(o,e,n){var i=o.length;return n=void 0===n?i:n,!e&&n>=i?o:function vy(o,e,n){var i=-1,s=o.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(s);++i<s;)a[i]=o[i+e];return a}(o,e,n)};var My=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const og=function Ey(o){return My.test(o)};var rg="\\ud800-\\udfff",By="["+rg+"]",ep="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tp="\\ud83c[\\udffb-\\udfff]",ag="[^"+rg+"]",lg="(?:\\ud83c[\\udde6-\\uddff]){2}",cg="[\\ud800-\\udbff][\\udc00-\\udfff]",hg="(?:"+ep+"|"+tp+")?",dg="[\\ufe0e\\ufe0f]?",jy=dg+hg+"(?:\\u200d(?:"+[ag,lg,cg].join("|")+")"+dg+hg+")*",Gy="(?:"+[ag+ep+"?",ep,lg,cg,By].join("|")+")",Hy=RegExp(tp+"(?="+tp+")|"+Gy+jy,"g");const Yy=function Wy(o){return og(o)?function Uy(o){return o.match(Hy)||[]}(o):function Py(o){return o.split("")}(o)},ug=function Ky(o){return function(e){e=tn(e);var n=og(e)?Yy(e):void 0,i=n?n[0]:e.charAt(0),s=n?zy(n,1).join(""):e.slice(1);return i[o]()+s}},fa=ug("toUpperCase");var Zy=Kl(function(o,e,n){return o+(n?" ":"")+fa(e)});const pg=Zy;var ez=Kl(function(o,e,n){return e=e.toLowerCase(),o+(n?function Jy(o){return fa(tn(o).toLowerCase())}(e):e)});const ga=ez;var tz=Kl(function(o,e,n){return o+(n?" ":"")+e.toUpperCase()});const nz=tz;var iz=Kl(function(o,e,n){return o+(n?" ":"")+e.toLowerCase()});const np=iz,oz=ug("toLowerCase"),Us=o=>{const e=Object.create(null);return n=>e[n]||(e[n]=o(n))},fg=Us(o=>o.replace(/\B([A-Z])/g,"-$1").toLowerCase()),ip=Us(o=>pg(ga(o)).replace(/ /g,""));function sp(o){let e=2166136261,n=!1,i=o;for(let s=0,a=i.length;s<a;s+=1){let l=i.charCodeAt(s);l>127&&!n&&(i=unescape(encodeURIComponent(i)),l=i.charCodeAt(s),n=!0),e^=l,e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}return e>>>0}function Ql(){let o="";for(let n=0,i=36;n<i;n+=1){const s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[n],a=16*Math.random()|0;o+=("x"===s?a:"y"===s?3&a|8:s).toString(16)}return o}function az(o,e,n){let i=new Array(e.length+1),s=new Array(e.length+1);const a=n+1;for(let c=0;c<=e.length;c+=1)i[c]=c;for(let c=1;c<=o.length;c+=1){const u=o.charCodeAt(c-1),g=c>n?c-n:1,_=e.length>n+c?n+c:e.length;s[0]=c;let z=c;for(let x=1;x<g;x+=1)s[x]=a;for(let x=g;x<=_;x+=1){const N=u===e.charCodeAt(x-1)?i[x-1]:Math.min(i[x]+1,s[x-1]+1,i[x-1]+2);s[x]=N,z=Math.min(z,N)}for(let x=_+1;x<=e.length;x+=1)s[x]=a;if(z>n)return;const y=i;i=s,s=y}const l=i[e.length];return l>n?void 0:l}Us(o=>nz(o).replace(/ /g,"_")),Us(o=>np(o).replace(/ /g,".")),Us(o=>np(o).replace(/ /g,"/")),Us(o=>fa(np(o))),Us(o=>pg(ga(o)));const op=function cz(o){return"number"==typeof o||me(o)&&"[object Number]"==J(o)},ri=function uz(o,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=kt(n))==n?n:0),void 0!==e&&(e=(e=kt(e))==e?e:0),function hz(o,e,n){return o==o&&(void 0!==n&&(o=o<=n?o:n),void 0!==e&&(o=o>=e?o:e)),o}(kt(o),e,n)};function pz(o,e){return(o%e+e)%e}function fz(o,e){if(null==e)e=o??1,o=0;else if(e<o){const n=o;o=e,e=n}return Math.floor(Math.random()*(e-o+1)+o)}function Pi(o){return"string"==typeof o&&"%"===o.slice(-1)}function ui(o,e){if(null==o)return 0;let n;if("string"==typeof o){if(n=parseFloat(o),Pi(o)&&(n/=100,Number.isFinite(n)))return n*e}else n=o;return Number.isFinite(n)?n>0&&n<1?n*e:n:0}function gz(o,e){const i=parseFloat(o);if(Number.isNaN(i))return null;let s;if(null==e)s="[A-Za-z]*";else if(Array.isArray(e)){if(0===e.length)return null;s=e.join("|")}else"string"==typeof e&&(s=e);const a=function n(l){const c=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${l})$`).exec(o);return c?c[1]:null}(s);return null===a?null:{unit:a,value:i}}function ps(o){if("object"==typeof o){let n=0,i=0,s=0,a=0;return null!=o.vertical&&Number.isFinite(o.vertical)&&(i=a=o.vertical),null!=o.horizontal&&Number.isFinite(o.horizontal)&&(s=n=o.horizontal),null!=o.left&&Number.isFinite(o.left)&&(n=o.left),null!=o.top&&Number.isFinite(o.top)&&(i=o.top),null!=o.right&&Number.isFinite(o.right)&&(s=o.right),null!=o.bottom&&Number.isFinite(o.bottom)&&(a=o.bottom),{top:i,right:s,bottom:a,left:n}}let e=0;return null!=o&&Number.isFinite(o)&&(e=o),{top:e,right:e,bottom:e,left:e}}let rp=!1,gg=!1,mg=!1,_g=!1,vg=!1,Cg=!1,yg=!1,zg=!1,bg=!1,Sg=!1,Tg=!1,xg=!1,Og=!1,Dg=!1,wg=!1,Mg=!1;if("object"==typeof navigator){const o=navigator.userAgent;rp=o.indexOf("Macintosh")>=0,gg=!!o.match(/(iPad|iPhone|iPod)/g),mg=o.indexOf("Windows")>=0,_g=o.indexOf("MSIE")>=0,vg=!!o.match(/Trident\/7\./),Cg=!!o.match(/Edge\//),yg=o.indexOf("Mozilla/")>=0&&o.indexOf("MSIE")<0&&o.indexOf("Edge/")<0,bg=o.indexOf("Chrome/")>=0&&o.indexOf("Edge/")<0,Sg=o.indexOf("Opera/")>=0||o.indexOf("OPR/")>=0,Tg=o.indexOf("Firefox/")>=0,xg=o.indexOf("AppleWebKit/")>=0&&o.indexOf("Chrome/")<0&&o.indexOf("Edge/")<0,"object"==typeof document&&(Mg=!document.createElementNS||"[object SVGForeignObjectElement]"!=`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`||o.indexOf("Opera/")>=0)}if("object"==typeof window&&(zg=null!=window.chrome&&null!=window.chrome.app&&null!=window.chrome.app.runtime,Dg=null!=window.PointerEvent&&!rp),"object"==typeof document){Og="ontouchstart"in document.documentElement;try{const o=Object.defineProperty({},"passive",{get(){wg=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},o)}catch{}}var fs;(function(o){o.IS_MAC=rp,o.IS_IOS=gg,o.IS_WINDOWS=mg,o.IS_IE=_g,o.IS_IE11=vg,o.IS_EDGE=Cg,o.IS_NETSCAPE=yg,o.IS_CHROME_APP=zg,o.IS_CHROME=bg,o.IS_OPERA=Sg,o.IS_FIREFOX=Tg,o.IS_SAFARI=xg,o.SUPPORT_TOUCH=Og,o.SUPPORT_POINTER=Dg,o.SUPPORT_PASSIVE=wg,o.NO_FOREIGNOBJECT=Mg,o.SUPPORT_FOREIGNOBJECT=!o.NO_FOREIGNOBJECT})(fs||(fs={})),function(o){function e(){const a=window.module;return null!=a&&null!=a.hot&&null!=a.hot.status?a.hot.status():"unkonwn"}o.getHMRStatus=e,o.isApplyingHMR=function n(){return"apply"===e()};const i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};o.isEventSupported=function s(a){const l=document.createElement(i[a]||"div"),c=`on${a}`;let u=c in l;return u||(l.setAttribute(c,"return;"),u="function"==typeof l[c]),u}}(fs||(fs={}));const ap=/[\t\r\n\f]/g,lp=/\S+/g,Ro=o=>` ${o} `;function Xs(o){return o&&o.getAttribute&&o.getAttribute("class")||""}function Ws(o,e){if(null==o||null==e)return!1;const n=Ro(Xs(o)),i=Ro(e);return 1===o.nodeType&&n.replace(ap," ").includes(i)}function dn(o,e){if(null!=o&&null!=e){if("function"==typeof e)return dn(o,e(Xs(o)));if("string"==typeof e&&1===o.nodeType){const n=e.match(lp)||[],i=Ro(Xs(o)).replace(ap," ");let s=n.reduce((a,l)=>a.indexOf(Ro(l))<0?`${a}${l} `:a,i);s=s.trim(),i!==s&&o.setAttribute("class",s)}}}function ai(o,e){if(null!=o){if("function"==typeof e)return ai(o,e(Xs(o)));if((!e||"string"==typeof e)&&1===o.nodeType){const n=(e||"").match(lp)||[],i=Ro(Xs(o)).replace(ap," ");let s=n.reduce((a,l)=>{const c=Ro(l);return a.indexOf(c)>-1?a.replace(c," "):a},i);s=e?s.trim():"",i!==s&&o.setAttribute("class",s)}}}function cp(o,e,n){if(null!=o&&null!=e){if(null!=n&&"string"==typeof e)return void(n?dn(o,e):ai(o,e));if("function"==typeof e)return cp(o,e(Xs(o),n),n);"string"==typeof e&&(e.match(lp)||[]).forEach(s=>{Ws(o,s)?ai(o,s):dn(o,s)})}}let Eg=0;function Pg(){return Eg+=1,`v${Eg}`}function Zl(o){return(null==o.id||""===o.id)&&(o.id=Pg()),o.id}function ji(o){return null!=o&&"function"==typeof o.getScreenCTM&&o instanceof SVGElement}const Ln={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},hp="1.1";function dp(o,e=document){return e.createElement(o)}function Jl(o,e=Ln.xhtml,n=document){return n.createElementNS(e,o)}function pi(o,e=document){return Jl(o,Ln.svg,e)}function ma(o){if(o){const n=`<svg xmlns="${Ln.svg}" xmlns:xlink="${Ln.xlink}" version="${hp}">${o}</svg>`,{documentElement:i}=kg(n,{async:!1});return i}const e=document.createElementNS(Ln.svg,"svg");return e.setAttributeNS(Ln.xmlns,"xmlns:xlink",Ln.xlink),e.setAttribute("version",hp),e}function kg(o,e={}){let n;try{const i=new DOMParser;null!=e.async&&(i.async=e.async),n=i.parseFromString(o,e.mimeType||"text/xml")}catch{n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${o}`);return n}function Ng(o,e=!0){const n=o.nodeName;return e?n.toLowerCase():n.toUpperCase()}function ql(o){let e=0,n=o.previousSibling;for(;n;)1===n.nodeType&&(e+=1),n=n.previousSibling;return e}function Ig(o,e){return o.querySelectorAll(e)}function Ag(o,e){return o.querySelector(e)}function up(o,e,n){const i=o.ownerSVGElement;let s=o.parentNode;for(;s&&s!==n&&s!==i;){if(Ws(s,e))return s;s=s.parentNode}return null}function pp(o,e){const n=e&&e.parentNode;return o===n||!!(n&&1===n.nodeType&&16&o.compareDocumentPosition(n))}function Ys(o){o&&(Array.isArray(o)?o:[o]).forEach(n=>{n.parentNode&&n.parentNode.removeChild(n)})}function Fo(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Bo(o,e){(Array.isArray(e)?e:[e]).forEach(i=>{null!=i&&o.appendChild(i)})}function Rg(o,e){const n=o.firstChild;return n?ec(n,e):Bo(o,e)}function ec(o,e){const n=o.parentNode;n&&(Array.isArray(e)?e:[e]).forEach(s=>{null!=s&&n.insertBefore(s,o)})}function mz(o,e){const n=o.parentNode;n&&(Array.isArray(e)?e:[e]).forEach(s=>{null!=s&&n.insertBefore(s,o.nextSibling)})}function Fg(o,e){e?.appendChild(o)}function Bg(o){return!!o&&1===o.nodeType}function fp(o){try{return o instanceof HTMLElement}catch{return"object"==typeof o&&1===o.nodeType&&"object"==typeof o.style&&"object"==typeof o.ownerDocument}}function _z(o,e){const n=[];let i=o.firstChild;for(;i;i=i.nextSibling)1===i.nodeType&&(!e||Ws(i,e))&&n.push(i);return n}const gp=["viewBox","attributeName","attributeType","repeatCount","textLength","lengthAdjust","gradientUnits"];function Lg(o,e){return o.getAttribute(e)}function mp(o,e){const n=vp(e);n.ns?o.hasAttributeNS(n.ns,n.local)&&o.removeAttributeNS(n.ns,n.local):o.hasAttribute(e)&&o.removeAttribute(e)}function tc(o,e,n){if(null==n)return mp(o,e);const i=vp(e);i.ns&&"string"==typeof n?o.setAttributeNS(i.ns,e,n):"id"===e?o.id=`${n}`:o.setAttribute(e,`${n}`)}function _p(o,e){Object.keys(e).forEach(n=>{tc(o,n,e[n])})}function mn(o,e,n){if(null==e){const i=o.attributes,s={};for(let a=0;a<i.length;a+=1)s[i[a].name]=i[a].value;return s}if("string"==typeof e&&void 0===n)return o.getAttribute(e);"object"==typeof e?_p(o,e):tc(o,e,n)}function vp(o){if(-1!==o.indexOf(":")){const e=o.split(":");return{ns:Ln[e[0]],local:e[1]}}return{ns:null,local:o}}function Lo(o){const e={};return Object.keys(o).forEach(n=>{const i=gp.includes(n)?n:fg(n);e[i]=o[n]}),e}function _a(o){const e={};return o.split(";").forEach(i=>{const s=i.trim();if(s){const a=s.split("=");a.length&&(e[a[0].trim()]=a[1]?a[1].trim():"")}}),e}function nc(o,e){return Object.keys(e).forEach(n=>{if("class"===n)o[n]=o[n]?`${o[n]} ${e[n]}`:e[n];else if("style"===n){const i="object"==typeof o[n],s="object"==typeof e[n];let a,l;i&&s?(a=o[n],l=e[n]):i?(a=o[n],l=_a(e[n])):s?(a=_a(o[n]),l=e[n]):(a=_a(o[n]),l=_a(e[n])),o[n]=nc(a,l)}else o[n]=e[n]}),o}function vz(o,e,n={}){const i=n.offset||0,s=[],a=[];let l,c,u=null;for(let g=0;g<o.length;g+=1){l=a[g]=o[g];for(let _=0,z=e.length;_<z;_+=1){const y=e[_];g>=y.start+i&&g<y.end+i&&("string"==typeof l?l=a[g]={t:o[g],attrs:y.attrs}:l.attrs=nc(nc({},l.attrs),y.attrs),n.includeAnnotationIndices&&(null==l.annotations&&(l.annotations=[]),l.annotations.push(_)))}c=a[g-1],c?Pe(l)&&Pe(c)?JSON.stringify(l.attrs)===JSON.stringify(c.attrs)?u.t+=l.t:(s.push(u),u=l):Pe(l)||Pe(c)?(s.push(u),u=l):u=(u||"")+l:u=l}return null!=u&&s.push(u),s}var Cp;let Ks;!function(o){function e(g){return"data:"===g.substr(0,5)}function i(g){let _=g.replace(/\s/g,"");_=decodeURIComponent(_);const z=_.indexOf(","),y=_.slice(0,z),x=y.split(":")[1].split(";")[0],N=_.slice(z+1);let V;V=y.indexOf("base64")>=0?atob(N):unescape(encodeURIComponent(N));const U=new Uint8Array(V.length);for(let te=0;te<V.length;te+=1)U[te]=V.charCodeAt(te);return new Blob([U],{type:x})}function s(g,_){const z=window.navigator.msSaveBlob;if(z)z(g,_);else{const y=window.URL.createObjectURL(g),x=document.createElement("a");x.href=y,x.download=_,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(y)}}function c(g){const _=parseFloat(g);return Number.isNaN(_)?null:_}o.isDataUrl=e,o.imageToDataUri=function n(g,_){if(!g||e(g))return void setTimeout(()=>_(null,g));const z=()=>{_(new Error(`Failed to load image: ${g}`))},y=window.FileReader?N=>{if(200===N.status){const V=new FileReader;V.onload=U=>{_(null,U.target.result)},V.onerror=z,V.readAsDataURL(N.response)}else z()}:N=>{if(200===N.status){let U=g.split(".").pop()||"png";"svg"===U&&(U="svg+xml");const te=`data:image/${U};base64,`,ce=new Uint8Array(N.response),q=te+btoa((U=>{const ce=[];for(let q=0;q<U.length;q+=32768)ce.push(String.fromCharCode.apply(null,U.subarray(q,q+32768)));return ce.join("")})(ce));_(null,q)}else z()},x=new XMLHttpRequest;x.responseType=window.FileReader?"blob":"arraybuffer",x.open("GET",g,!0),x.addEventListener("error",z),x.addEventListener("load",()=>y(x)),x.send()},o.dataUriToBlob=i,o.downloadBlob=s,o.downloadDataUri=function a(g,_){s(i(g),_)},o.svgToDataUrl=function u(g,_={}){let z=null;const y=q=>(null==z&&(z=function l(g){const _=g.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return _&&_[2]?_[2].replace(/\s+/," ").split(" "):null}(g)),null!=z?c(z[q]):null),x=q=>{const we=g.match(q);return we&&we[2]?c(we[2]):null};let N=_.width;if(null==N&&(N=x(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==N&&(N=y(2)),null==N)throw new Error("Can not parse width from svg string");let V=_.height;if(null==V&&(V=x(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==V&&(V=y(3)),null==V)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(g).replace(/'/g,"%27").replace(/"/g,"%22")}`}}(Cp||(Cp={}));const yz={px:o=>o,mm:o=>Ks*o,cm:o=>Ks*o*10,in:o=>Ks*o*25.4,pt:o=>Ks*(25.4*o/72),pc:o=>Ks*(25.4*o/6)};var Vg;!function(o){function e(i,s,a){const l=document.createElement("div"),c=l.style;c.display="inline-block",c.position="absolute",c.left="-15000px",c.top="-15000px",c.width=i+(a||"px"),c.height=s+(a||"px"),document.body.appendChild(l);const u=l.getBoundingClientRect(),g={width:u.width||0,height:u.height||0};return document.body.removeChild(l),g}o.measure=e,o.toPx=function n(i,s){null==Ks&&(Ks=e("1","1","mm").width);const a=s?yz[s]:null;return a?a(i):i}}(Vg||(Vg={}));const zz=/-(.)/g,yp={},$g=["webkit","ms","moz","o"],jg=typeof document<"u"?document.createElement("div").style:{};function zp(o){const e=function bz(o){return o.replace(zz,(e,n)=>n.toUpperCase())}(o);if(null==yp[e]){const n=e.charAt(0).toUpperCase()+e.slice(1);yp[e]=e in jg?e:function Sz(o){for(let e=0;e<$g.length;e+=1){const n=$g[e]+o;if(n in jg)return n}return null}(n)}return yp[e]}function Tz(o,e,n){const i=zp(e);null!=i&&(o[i]=n),o[e]=n}function ic(o,e){const n=o.ownerDocument&&o.ownerDocument.defaultView&&o.ownerDocument.defaultView.opener?o.ownerDocument.defaultView.getComputedStyle(o,null):window.getComputedStyle(o,null);return n&&e?n.getPropertyValue(e)||n[e]:n}function xz(o){const e=ic(o);return null!=e&&("scroll"===e.overflow||"auto"===e.overflow)}const Oz=function(){if(typeof document>"u")return function(){};const o=document;return o.selection?function(){o.selection.empty()}:window.getSelection?function(){const e=window.getSelection();e&&(e.empty?e.empty():e.removeAllRanges&&e.removeAllRanges())}:function(){}}(),Dz={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Gg(o){return/^--/.test(o)}function va(o,e,n){const i=window.getComputedStyle(o,null);return n?i.getPropertyValue(e)||void 0:i[e]||o.style[e]}function Ca(o,e){return parseInt(va(o,e),10)||0}function Vo(o,e,n){if("string"!=typeof e)for(const i in e)Vo(o,i,e[i]);else{const i=Gg(e);if(i||(e=zp(e)),void 0===n)return va(o,e,i);i||(n=function wz(o,e){return Dz[o]||"number"!=typeof e?e:`${e}px`}(e,n));const s=o.style;i?s.setProperty(e,n):s[e]=n}}const sc=new WeakMap;function bp(o,e){const n=ga(e),i=sc.get(o);if(i)return i[n]}function Hg(o,e,n){const i=ga(e),s=sc.get(o);s?s[i]=n:sc.set(o,{[i]:n})}function gs(o,e,n){if(!e){const i={};return Object.keys(sc).forEach(s=>{i[s]=bp(o,s)}),i}if("string"==typeof e)return void 0===n?bp(o,e):void Hg(o,e,n);for(const i in e)gs(o,i,e[i])}const Mz={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};function Ug(o,e,n){if(e){if("string"==typeof e)return e=Mz[e]||e,arguments.length<3?o[e]:void(o[e]=n);for(const i in e)Ug(o,i,e[i])}}class Qt{get[Symbol.toStringTag](){return Qt.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(e){this.node.id=e}constructor(e,n,i){if(!e)throw new TypeError("Invalid element to create vector");let s;if(Qt.isVector(e))s=e.node;else if("string"==typeof e)if("svg"===e.toLowerCase())s=ma();else if("<"===e[0]){const a=ma(e);s=document.importNode(a.firstChild,!0)}else s=document.createElementNS(Ln.svg,e);else s=e;this.node=s,n&&this.setAttributes(n),i&&this.append(i)}transform(e,n){return null==e?Zs(this.node):(Zs(this.node,e,n),this)}translate(e,n=0,i={}){return null==e?Mp(this.node):(Mp(this.node,e,n,i),this)}rotate(e,n,i,s={}){return null==e?ac(this.node):(ac(this.node,e,n,i,s),this)}scale(e,n){return null==e?lc(this.node):(lc(this.node,e,n),this)}getTransformToElement(e){const n=Qt.toNode(e);return Ho(this.node,n)}removeAttribute(e){return mp(this.node,e),this}getAttribute(e){return Lg(this.node,e)}setAttribute(e,n){return tc(this.node,e,n),this}setAttributes(e){return _p(this.node,e),this}attr(e,n){return null==e?mn(this.node):"string"==typeof e&&void 0===n?mn(this.node,e):("object"==typeof e?mn(this.node,e):mn(this.node,e,n),this)}svg(){return this.node instanceof SVGSVGElement?this:Qt.create(this.node.ownerSVGElement)}defs(){const e=this.svg()||this,n=e.node.getElementsByTagName("defs")[0];return n?Qt.create(n):Qt.create("defs").appendTo(e)}text(e,n={}){return Sp(this.node,e,n),this}tagName(){return Ng(this.node)}clone(){return Qt.create(this.node.cloneNode(!0))}remove(){return Ys(this.node),this}empty(){return Fo(this.node),this}append(e){return Bo(this.node,Qt.toNodes(e)),this}appendTo(e){return Fg(this.node,Qt.isVector(e)?e.node:e),this}prepend(e){return Rg(this.node,Qt.toNodes(e)),this}before(e){return ec(this.node,Qt.toNodes(e)),this}replace(e){return this.node.parentNode&&this.node.parentNode.replaceChild(Qt.toNode(e),this.node),Qt.create(e)}first(){return this.node.firstChild?Qt.create(this.node.firstChild):null}last(){return this.node.lastChild?Qt.create(this.node.lastChild):null}get(e){const n=this.node.childNodes[e];return n?Qt.create(n):null}indexOf(e){return Array.prototype.slice.call(this.node.childNodes).indexOf(Qt.toNode(e))}find(e){const n=[],i=Ig(this.node,e);if(i)for(let s=0,a=i.length;s<a;s+=1)n.push(Qt.create(i[s]));return n}findOne(e){const n=Ag(this.node,e);return n?Qt.create(n):null}findParentByClass(e,n){const i=up(this.node,e,n);return i?Qt.create(i):null}matches(e){const n=this.node,s=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return s&&s.call(n,e)}contains(e){return pp(this.node,Qt.isVector(e)?e.node:e)}wrap(e){const n=Qt.create(e),i=this.node.parentNode;return i?.insertBefore(n.node,this.node),n.append(this)}parent(e){let n=this;if(null==n.node.parentNode)return null;if(n=Qt.create(n.node.parentNode),null==e)return n;do{if("string"==typeof e?n.matches(e):n instanceof e)return n}while(n=Qt.create(n.node.parentNode));return n}children(){const e=this.node.childNodes,n=[];for(let i=0;i<e.length;i+=1)1===e[i].nodeType&&n.push(Qt.create(e[i]));return n}eachChild(e,n){const i=this.children();for(let s=0,a=i.length;s<a;s+=1)e.call(i[s],i[s],s,i),n&&i[s].eachChild(e,n);return this}index(){return ql(this.node)}hasClass(e){return Ws(this.node,e)}addClass(e){return dn(this.node,e),this}removeClass(e){return ai(this.node,e),this}toggleClass(e,n){return cp(this.node,e,n),this}toLocalPoint(e,n){return cm(this.node,e,n)}sample(e=1){return this.node instanceof SVGPathElement?Wg(this.node,e):[]}toPath(){return Qt.create(tm(this.node))}toPathData(){return Dp(this.node)}}function Pz(o,e,n){const i=n.eol,s=n.baseSize,a=n.lineHeight;let c,l=0;const u={},g=e.length-1;for(let _=0;_<=g;_+=1){let z=e[_],y=null;if("object"==typeof z){const x=z.attrs,N=Qt.create("tspan",x);c=N.node;let V=z.t;i&&_===g&&(V+=i),c.textContent=V;const U=x.class;U&&N.addClass(U),n.includeAnnotationIndices&&N.attr("annotations",z.annotations.join(",")),y=parseFloat(x["font-size"]),void 0===y&&(y=s),y&&y>l&&(l=y)}else i&&_===g&&(z+=i),c=document.createTextNode(z||" "),s&&s>l&&(l=s);o.appendChild(c)}return l&&(u.maxFontSize=l),a?u.lineHeight=a:l&&(u.lineHeight=1.2*l),u}!function(o){function e(l){if(null==l)return!1;if(l instanceof o)return!0;const c=l[Symbol.toStringTag];return(null==c||c===o.toStringTag)&&l.node instanceof SVGElement&&"function"==typeof l.sample&&"function"==typeof l.toPath}function n(l,c,u){return new o(l,c,u)}function s(l){return e(l)?l.node:l}o.toStringTag=`X6.${o.name}`,o.isVector=e,o.create=n,o.createVectors=function i(l){if("<"===l[0]){const c=ma(l),u=[];for(let g=0,_=c.childNodes.length;g<_;g+=1)u.push(n(document.importNode(c.childNodes[g],!0)));return u}return[n(l)]},o.toNode=s,o.toNodes=function a(l){return Array.isArray(l)?l.map(c=>s(c)):[s(l)]}}(Qt||(Qt={}));const Xg=/em$/;function oc(o,e){const n=parseFloat(o);return Xg.test(o)?n*e:n}function Sp(o,e,n={}){e=function Cz(o){return o.replace(/ /g,"\xa0")}(e);const i=n.eol;let s=n.textPath;const a=n.textVerticalAnchor,l="middle"===a||"bottom"===a||"top"===a;let c=n.x;void 0===c&&(c=o.getAttribute("x")||0);const u=n.includeAnnotationIndices;let g=n.annotations;g&&!Array.isArray(g)&&(g=[g]);const _=n.lineHeight,z="auto"===_,y=z?"1.5em":_||"1em";let x=!0;const N=o.childNodes;if(1===N.length){const zt=N[0];zt&&"TITLE"===zt.tagName.toUpperCase()&&(x=!1)}x&&Fo(o),mn(o,{"xml:space":"preserve",display:e||n.displayEmpty?null:"none"});const V=mn(o,"font-size");let te,U=parseFloat(V);U||(U=16,(l||g)&&!V&&mn(o,"font-size",`${U}`)),s?("string"==typeof s&&(s={d:s}),te=function Ez(o,e){const n=Qt.create(e),i=Qt.create("textPath"),s=o.d;if(s&&void 0===o["xlink:href"]){const a=Qt.create("path").attr("d",s).appendTo(n.defs());i.attr("xlink:href",`#${a.id}`)}return"object"==typeof o&&i.attr(o),i.node}(s,o)):te=document.createDocumentFragment();let ce,we,q=0;const Ne=e.split("\n"),Ke=[],gt=Ne.length-1;for(let zt=0;zt<=gt;zt+=1){ce=y;let Nt="v-line";const Tt=pi("tspan");let Bt,Tn=Ne[zt];if(Tn)if(g){Bt=Pz(Tt,vz(Tn,g,{offset:-q,includeAnnotationIndices:u}),{eol:zt!==gt&&i,baseSize:U,lineHeight:z?null:y,includeAnnotationIndices:u});const it=Bt.lineHeight;it&&z&&0!==zt&&(ce=it),0===zt&&(we=.8*Bt.maxFontSize)}else i&&zt!==gt&&(Tn+=i),Tt.textContent=Tn;else{Tt.textContent="-",Nt+=" v-empty-line";const cn=Tt.style;cn.fillOpacity=0,cn.strokeOpacity=0,g&&(Bt={})}Bt&&Ke.push(Bt),zt>0&&Tt.setAttribute("dy",ce),(zt>0||s)&&Tt.setAttribute("x",c),Tt.className.baseVal=Nt,te.appendChild(Tt),q+=Tn.length+1}if(l)if(g)ce=function kz(o,e,n,i){if(!Array.isArray(e))return 0;const s=e.length;if(!s)return 0;let a=e[0];const l=oc(a.maxFontSize,n)||n;let c=0;const u=oc(i,n);for(let z=1;z<s;z+=1)a=e[z],c+=oc(a.lineHeight,n)||u;const g=oc(a.maxFontSize,n)||n;let _;switch(o){case"middle":_=l/2-.15*g-c/2;break;case"bottom":_=-.25*g-c;break;default:_=.8*l}return _}(a,Ke,U,y);else if("top"===a)ce="0.8em";else{let zt;switch(gt>0?(zt=parseFloat(y)||1,zt*=gt,Xg.test(y)||(zt/=U)):zt=0,a){case"middle":ce=.3-zt/2+"em";break;case"bottom":ce=-zt-.3+"em"}}else 0===a?ce="0em":a?ce=a:(ce=0,null==o.getAttribute("y")&&o.setAttribute("y",`${we||"0.8em"}`));te.firstChild.setAttribute("dy",ce),o.appendChild(te)}function $o(o,e={}){const n=document.createElement("canvas").getContext("2d");if(!o)return{width:0};const i=[],s=e["font-size"]?`${parseFloat(e["font-size"])}px`:"14px";return i.push(e["font-style"]||"normal"),i.push(e["font-variant"]||"normal"),i.push(e["font-weight"]||400),i.push(s),i.push(e["font-family"]||"sans-serif"),n.font=i.join(" "),n.measureText(o)}function Tp(o,e,n,i={}){if(e>=n)return[o,""];const s=o.length,a={};let l=Math.round(e/n*s-1);for(l<0&&(l=0);l>=0&&l<s;){const c=o.slice(0,l),u=a[c]||$o(c,i).width,g=o.slice(0,l+1),_=a[g]||$o(g,i).width;if(a[c]=u,a[g]=_,u>e)l-=1;else{if(!(_<=e))break;l+=1}}return[o.slice(0,l),o.slice(l)]}function xp(o,e,n={},i={}){const s=e.width,a=e.height,l=i.eol||"\n",c=n.fontSize||14,u=n.lineHeight?parseFloat(n.lineHeight):Math.ceil(1.4*c),g=Math.floor(a/u);if(o.indexOf(l)>-1){const U=Ql(),te=[];return o.split(l).map(ce=>{const q=xp(ce,Object.assign(Object.assign({},e),{height:Number.MAX_SAFE_INTEGER}),n,Object.assign(Object.assign({},i),{eol:U}));q&&te.push(...q.split(U))}),te.slice(0,g).join(l)}const{width:_}=$o(o,n);if(_<s)return o;const z=[];let y=o,x=_,N=i.ellipsis,V=0;N&&("string"!=typeof N&&(N="\u2026"),V=$o(N,n).width);for(let U=0;U<g;U+=1){if(!(x>s)){z.push(y);break}if(U===g-1){const[ce]=Tp(y,s-V,x,n);z.push(N?`${ce}${N}`:ce)}else{const[ce,q]=Tp(y,s,x,n);z.push(ce),y=q,x=$o(y,n).width}}return z.join(l)}const rc=.551784;function Kn(o,e,n=NaN){const i=o.getAttribute(e);if(null==i)return n;const s=parseFloat(i);return Number.isNaN(s)?n:s}function Wg(o,e=1){const n=o.getTotalLength(),i=[];let a,s=0;for(;s<n;)a=o.getPointAtLength(s),i.push({distance:s,x:a.x,y:a.y}),s+=e;return i}function Yg(o){return["M",Kn(o,"x1"),Kn(o,"y1"),"L",Kn(o,"x2"),Kn(o,"y2")].join(" ")}function Kg(o){const e=ya(o);return 0===e.length?null:`${Zg(e)} Z`}function Qg(o){const e=ya(o);return 0===e.length?null:Zg(e)}function Zg(o){return`M ${o.map(n=>`${n.x} ${n.y}`).join(" L")}`}function ya(o){const e=[],n=o.points;if(n)for(let i=0,s=n.numberOfItems;i<s;i+=1)e.push(n.getItem(i));return e}function Jg(o){const e=Kn(o,"cx",0),n=Kn(o,"cy",0),i=Kn(o,"r"),s=i*rc;return["M",e,n-i,"C",e+s,n-i,e+i,n-s,e+i,n,"C",e+i,n+s,e+s,n+i,e,n+i,"C",e-s,n+i,e-i,n+s,e-i,n,"C",e-i,n-s,e-s,n-i,e,n-i,"Z"].join(" ")}function qg(o){const e=Kn(o,"cx",0),n=Kn(o,"cy",0),i=Kn(o,"rx"),s=Kn(o,"ry")||i,a=i*rc,l=s*rc;return["M",e,n-s,"C",e+a,n-s,e+i,n-l,e+i,n,"C",e+i,n+l,e+a,n+s,e,n+s,"C",e-a,n+s,e-i,n+l,e-i,n,"C",e-i,n-l,e-a,n-s,e,n-s,"Z"].join(" ")}function em(o){return Op({x:Kn(o,"x",0),y:Kn(o,"y",0),width:Kn(o,"width",0),height:Kn(o,"height",0),rx:Kn(o,"rx",0),ry:Kn(o,"ry",0)})}function Op(o){let e;const n=o.x,i=o.y,s=o.width,a=o.height,l=Math.min(o.rx||o["top-rx"]||0,s/2),c=Math.min(o.rx||o["bottom-rx"]||0,s/2),u=Math.min(o.ry||o["top-ry"]||0,a/2),g=Math.min(o.ry||o["bottom-ry"]||0,a/2);return e=l||c||u||g?["M",n,i+u,"v",a-u-g,"a",c,g,0,0,0,c,g,"h",s-2*c,"a",c,g,0,0,0,c,-g,"v",-(a-g-u),"a",l,u,0,0,0,-l,-u,"h",-(s-2*l),"a",l,u,0,0,0,-l,u,"Z"]:["M",n,i,"H",n+s,"V",i+a,"H",n,"V",i,"Z"],e.join(" ")}function tm(o){const e=pi("path");mn(e,mn(o));const n=Dp(o);return n&&e.setAttribute("d",n),e}function Dp(o){const e=o.tagName.toLowerCase();switch(e){case"path":return o.getAttribute("d");case"line":return Yg(o);case"polygon":return Kg(o);case"polyline":return Qg(o);case"ellipse":return qg(o);case"circle":return Jg(o);case"rect":return em(o)}throw new Error(`"${e}" cannot be converted to svg path element.`)}function Nz(o,e,n,i){const s=2*Math.PI-1e-6,a=o,l=e;let c=n,u=i;if(u<c){const V=c;c=u,u=V}const g=u-c,_=g<Math.PI?"0":"1",z=Math.cos(c),y=Math.sin(c),x=Math.cos(u),N=Math.sin(u);return g>=s?a?`M0,${l}A${l},${l} 0 1,1 0,${-l}A${l},${l} 0 1,1 0,${l}M0,${a}A${a},${a} 0 1,0 0,${-a}A${a},${a} 0 1,0 0,${a}Z`:`M0,${l}A${l},${l} 0 1,1 0,${-l}A${l},${l} 0 1,1 0,${l}Z`:a?`M${l*z},${l*y}A${l},${l} 0 ${_},1 ${l*x},${l*N}L${a*x},${a*N}A${a},${a} 0 ${_},0 ${a*z},${a*y}Z`:`M${l*z},${l*y}A${l},${l} 0 ${_},1 ${l*x},${l*N}L0,0Z`}const Iz=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,nm=/[ ,]+/,Az=/^(\w+)\((.*)\)/;function im(o,e){const i=pi("svg").createSVGPoint();return i.x=o,i.y=e,i}function Vn(o){const n=pi("svg").createSVGMatrix();if(null!=o){const i=o,s=n;for(const a in i)s[a]=i[a]}return n}function jo(o){const e=pi("svg");return null!=o?(o instanceof DOMMatrix||(o=Vn(o)),e.createSVGTransformFromMatrix(o)):e.createSVGTransform()}function Go(o){let e=Vn();const n=null!=o&&o.match(Iz);if(!n)return e;for(let i=0,s=n.length;i<s;i+=1){const l=n[i].match(Az);if(l){let c,u,g,_,z,y=Vn();const x=l[2].split(nm);switch(l[1].toLowerCase()){case"scale":c=parseFloat(x[0]),u=void 0===x[1]?c:parseFloat(x[1]),y=y.scaleNonUniform(c,u);break;case"translate":g=parseFloat(x[0]),_=parseFloat(x[1]),y=y.translate(g,_);break;case"rotate":z=parseFloat(x[0]),g=parseFloat(x[1])||0,_=parseFloat(x[2])||0,y=0!==g||0!==_?y.translate(g,_).rotate(z).translate(-g,-_):y.rotate(z);break;case"skewx":z=parseFloat(x[0]),y=y.skewX(z);break;case"skewy":z=parseFloat(x[0]),y=y.skewY(z);break;case"matrix":y.a=parseFloat(x[0]),y.b=parseFloat(x[1]),y.c=parseFloat(x[2]),y.d=parseFloat(x[3]),y.e=parseFloat(x[4]),y.f=parseFloat(x[5]);break;default:continue}e=e.multiply(y)}}return e}function Qs(o){const e=o||{};return`matrix(${null!=e.a?e.a:1},${null!=e.b?e.b:0},${null!=e.c?e.c:0},${null!=e.d?e.d:1},${null!=e.e?e.e:0},${null!=e.f?e.f:0})`}function za(o){let e,n,i;if(o){const a=nm;if(o.trim().indexOf("matrix")>=0){const c=sm(Go(o));e=[c.translateX,c.translateY],n=[c.rotation],i=[c.scaleX,c.scaleY];const u=[];(0!==e[0]||0!==e[1])&&u.push(`translate(${e.join(",")})`),(1!==i[0]||1!==i[1])&&u.push(`scale(${i.join(",")})`),0!==n[0]&&u.push(`rotate(${n[0]})`),o=u.join(" ")}else{const l=o.match(/translate\((.*?)\)/);l&&(e=l[1].split(a));const c=o.match(/rotate\((.*?)\)/);c&&(n=c[1].split(a));const u=o.match(/scale\((.*?)\)/);u&&(i=u[1].split(a))}}const s=i&&i[0]?parseFloat(i[0]):1;return{raw:o||"",translation:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotation:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:s,sy:i&&i[1]?parseFloat(i[1]):s}}}function wp(o,e){return{x:e.x*o.a+e.y*o.c+0,y:e.x*o.b+e.y*o.d+0}}function sm(o){const e=wp(o,{x:0,y:1}),n=wp(o,{x:1,y:0}),i=180/Math.PI*Math.atan2(e.y,e.x)-90;return{skewX:i,skewY:180/Math.PI*Math.atan2(n.y,n.x),translateX:o.e,translateY:o.f,scaleX:Math.sqrt(o.a*o.a+o.b*o.b),scaleY:Math.sqrt(o.c*o.c+o.d*o.d),rotation:i}}function om(o){let e,n,i,s;return o?(e=null==o.a?1:o.a,s=null==o.d?1:o.d,n=o.b,i=o.c):e=s=1,{sx:n?Math.sqrt(e*e+n*n):e,sy:i?Math.sqrt(i*i+s*s):s}}function rm(o){let e={x:0,y:1};o&&(e=wp(o,e));const n=180*Math.atan2(e.y,e.x)/Math.PI%360-90;return{angle:n%360+(n<0?360:0)}}function am(o){return{tx:o&&o.e||0,ty:o&&o.f||0}}function Zs(o,e,n={}){if(null==e)return Go(mn(o,"transform"));if(n.absolute)return void o.setAttribute("transform",Qs(e));const i=o.transform,s=jo(e);i.baseVal.appendItem(s)}function Mp(o,e,n=0,i={}){let s=mn(o,"transform");const a=za(s);if(null==e)return a.translation;s=a.raw,s=s.replace(/translate\([^)]*\)/g,"").trim(),o.setAttribute("transform",`translate(${i.absolute?e:a.translation.tx+e},${i.absolute?n:a.translation.ty+n}) ${s}`.trim())}function ac(o,e,n,i,s={}){let a=mn(o,"transform");const l=za(a);if(null==e)return l.rotation;a=l.raw,a=a.replace(/rotate\([^)]*\)/g,"").trim(),e%=360,o.setAttribute("transform",`${a} rotate(${s.absolute?e:l.rotation.angle+e}${null!=n&&null!=i?`,${n},${i}`:""})`.trim())}function lc(o,e,n){let i=mn(o,"transform");const s=za(i);if(null==e)return s.scale;n=n??e,i=s.raw,i=i.replace(/scale\([^)]*\)/g,"").trim(),o.setAttribute("transform",`${i} scale(${e},${n})`.trim())}function Ho(o,e){if(ji(e)&&ji(o)){const n=e.getScreenCTM(),i=o.getScreenCTM();if(n&&i)return n.inverse().multiply(i)}return Vn()}function lm(o,e){let n=Vn();if(ji(e)&&ji(o)){let i=o;const s=[];for(;i&&i!==e;){const l=Go(i.getAttribute("transform")||null);s.push(l),i=i.parentNode}s.reverse().forEach(a=>{n=n.multiply(a)})}return n}function cm(o,e,n){const i=o instanceof SVGSVGElement?o:o.ownerSVGElement,s=i.createSVGPoint();s.x=e,s.y=n;try{const a=i.getScreenCTM(),l=s.matrixTransform(a.inverse()),c=Ho(o,i).inverse();return l.matrixTransform(c)}catch{return s}}var li,Js,Jt,Uo,ba,Hn,Sa;!function(o){const e={};o.get=function n(a){return e[a]||{}},o.register=function i(a,l){e[a]=l},o.unregister=function s(a){delete e[a]}}(li||(li={})),function(o){const e=new WeakMap;o.ensure=function n(a){return e.has(a)||e.set(a,{events:Object.create(null)}),e.get(a)},o.get=function i(a){return e.get(a)},o.remove=function s(a){return e.delete(a)}}(Js||(Js={})),function(o){o.returnTrue=()=>!0,o.returnFalse=()=>!1,o.stopPropagationCallback=function e(s){s.stopPropagation()},o.addEventListener=function n(s,a,l){null!=s.addEventListener&&s.addEventListener(a,l)},o.removeEventListener=function i(s,a,l){null!=s.removeEventListener&&s.removeEventListener(a,l)}}(Jt||(Jt={})),function(o){const e=/[^\x20\t\r\n\f]+/g,n=/^([^.]*)(?:\.(.+)|)/;o.splitType=function i(c){return(c||"").match(e)||[""]},o.normalizeType=function s(c){const u=n.exec(c)||[];return{originType:u[1]?u[1].trim():u[1],namespaces:u[2]?u[2].split(".").map(g=>g.trim()).sort():[]}},o.isValidTarget=function a(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType},o.isValidSelector=function l(c,u){return!u||null!=c.querySelector&&null!=c.querySelector(u)}}(Jt||(Jt={})),function(o){let e=0;const n=new WeakMap;o.ensureHandlerId=function i(c){return n.has(c)||(n.set(c,e),e+=1),n.get(c)},o.getHandlerId=function s(c){return n.get(c)},o.removeHandlerId=function a(c){return n.delete(c)},o.setHandlerId=function l(c,u){return n.set(c,u)}}(Jt||(Jt={})),function(o){o.getHandlerQueue=function e(n,i){const s=[],a=Js.get(n),l=a&&a.events&&a.events[i.type],c=l&&l.handlers||[],u=l?l.delegateCount:0;if(u>0&&!("click"===i.type&&"number"==typeof i.button&&i.button>=1))for(let g=i.target;g!==n;g=g.parentNode||n)if(1===g.nodeType&&("click"!==i.type||!0!==g.disabled)){const _=[],z={};for(let y=0;y<u;y+=1){const x=c[y],N=x.selector;if(null!=N&&null==z[N]){const U=[];n.querySelectorAll(N).forEach(te=>{U.push(te)}),z[N]=U.includes(g)}z[N]&&_.push(x)}_.length&&s.push({elem:g,handlers:_})}return u<c.length&&s.push({elem:n,handlers:c.slice(u)}),s}}(Jt||(Jt={})),function(o){o.isWindow=function e(n){return null!=n&&n===n.window}}(Jt||(Jt={})),function(o){o.contains=function e(n,i){const s=9===n.nodeType?n.documentElement:n,a=i&&i.parentNode;return n===a||!(!a||1!==a.nodeType||!(s.contains?s.contains(a):n.compareDocumentPosition&&16&n.compareDocumentPosition(a)))}}(Jt||(Jt={}));class zi{constructor(e,n){this.isDefaultPrevented=Jt.returnFalse,this.isPropagationStopped=Jt.returnFalse,this.isImmediatePropagationStopped=Jt.returnFalse,this.isSimulated=!1,this.preventDefault=()=>{const i=this.originalEvent;this.isDefaultPrevented=Jt.returnTrue,i&&!this.isSimulated&&i.preventDefault()},this.stopPropagation=()=>{const i=this.originalEvent;this.isPropagationStopped=Jt.returnTrue,i&&!this.isSimulated&&i.stopPropagation()},this.stopImmediatePropagation=()=>{const i=this.originalEvent;this.isImmediatePropagationStopped=Jt.returnTrue,i&&!this.isSimulated&&i.stopImmediatePropagation(),this.stopPropagation()},"string"==typeof e?this.type=e:e.type&&(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Jt.returnTrue:Jt.returnFalse,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.timeStamp=e.timeStamp),n&&Object.assign(this,n),this.timeStamp||(this.timeStamp=Date.now())}}(function(o){o.create=function e(n){return n instanceof o?n:new o(n)}})(zi||(zi={})),function(o){o.addProperty=function e(n,i){Object.defineProperty(o.prototype,n,{enumerable:!0,configurable:!0,get:"function"==typeof i?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set(s){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:s})}})}}(zi||(zi={})),function(o){const e={bubbles:!0,cancelable:!0,eventPhase:!0,detail:!0,view:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,pointerId:!0,pointerType:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,touches:!0,changedTouches:!0,targetTouches:!0,which:!0,altKey:!0,ctrlKey:!0,metaKey:!0,shiftKey:!0};Object.keys(e).forEach(n=>o.addProperty(n,e[n]))}(zi||(zi={})),Uo||(Uo={}),li.register("load",{noBubble:!0}),Uo||(Uo={}),li.register("beforeunload",{postDispatch(e,n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}),Uo||(Uo={}),li.register("mouseenter",{delegateType:"mouseover",bindType:"mouseover",handle(e,n){let i;const s=n.relatedTarget,a=n.handleObj;return(!s||s!==e&&!Jt.contains(e,s))&&(n.type=a.originType,i=a.handler.call(e,n),n.type="mouseover"),i}}),li.register("mouseleave",{delegateType:"mouseout",bindType:"mouseout",handle(e,n){let i;const s=n.relatedTarget,a=n.handleObj;return(!s||s!==e&&!Jt.contains(e,s))&&(n.type=a.originType,i=a.handler.call(e,n),n.type="mouseout"),i}}),function(o){let e;function s(l,c,...u){const g=zi.create(c);g.delegateTarget=l;const _=li.get(g.type);if(_.preDispatch&&!1===_.preDispatch(l,g))return;const z=Jt.getHandlerQueue(l,g);for(let y=0,x=z.length;y<x&&!g.isPropagationStopped();y+=1){const N=z[y];g.currentTarget=N.elem;for(let V=0,U=N.handlers.length;V<U&&!g.isImmediatePropagationStopped();V+=1){const te=N.handlers[V];if(null==g.rnamespace||te.namespace&&g.rnamespace.test(te.namespace)){g.handleObj=te,g.data=te.data;const ce=li.get(te.originType).handle,q=ce?ce(N.elem,g,...u):te.handler.call(N.elem,g,...u);void 0!==q&&(g.result=q,!1===q&&(g.preventDefault(),g.stopPropagation()))}}}return _.postDispatch&&_.postDispatch(l,g),g.result}o.on=function n(l,c,u,g,_){if(!Jt.isValidTarget(l))return;let z;if("function"!=typeof u){const{handler:V,selector:U}=u,te=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(u,["handler","selector"]);u=V,_=U,z=te}const y=Js.ensure(l);let x=y.handler;null==x&&(x=y.handler=function(V,...U){return e!==V.type?s(l,V,...U):void 0});const N=Jt.ensureHandlerId(u);Jt.splitType(c).forEach(V=>{const{originType:U,namespaces:te}=Jt.normalizeType(V);if(!U)return;let ce=U,q=li.get(ce);ce=(_?q.delegateType:q.bindType)||ce,q=li.get(ce);const we=Object.assign({type:ce,originType:U,data:g,selector:_,guid:N,handler:u,namespace:te.join(".")},z),Ne=y.events;let Ke=Ne[ce];Ke||(Ke=Ne[ce]={handlers:[],delegateCount:0},(!q.setup||!1===q.setup(l,g,te,x))&&Jt.addEventListener(l,ce,x)),q.add&&(Jt.removeHandlerId(we.handler),q.add(l,we),Jt.setHandlerId(we.handler,N)),_?(Ke.handlers.splice(Ke.delegateCount,0,we),Ke.delegateCount+=1):Ke.handlers.push(we)})},o.off=function i(l,c,u,g,_){const z=Js.get(l);if(!z)return;const y=z.events;y&&(Jt.splitType(c).forEach(x=>{const{originType:N,namespaces:V}=Jt.normalizeType(x);if(!N)return void Object.keys(y).forEach(Ne=>{i(l,Ne+x,u,g,!0)});let U=N;const te=li.get(U);U=(g?te.delegateType:te.bindType)||U;const ce=y[U];if(!ce)return;const q=V.length>0?new RegExp(`(^|\\.)${V.join("\\.(?:.*\\.|)")}(\\.|$)`):null,we=ce.handlers.length;for(let Ne=ce.handlers.length-1;Ne>=0;Ne-=1){const Ke=ce.handlers[Ne];(_||N===Ke.originType)&&(!u||Jt.getHandlerId(u)===Ke.guid)&&(null==q||Ke.namespace&&q.test(Ke.namespace))&&(null==g||g===Ke.selector||"**"===g&&Ke.selector)&&(ce.handlers.splice(Ne,1),Ke.selector&&(ce.delegateCount-=1),te.remove&&te.remove(l,Ke))}we&&0===ce.handlers.length&&((!te.teardown||!1===te.teardown(l,V,z.handler))&&Jt.removeEventListener(l,U,z.handler),delete y[U])}),0===Object.keys(y).length&&Js.remove(l))},o.dispatch=s,o.trigger=function a(l,c,u,g){let _=l,z="string"==typeof l?l:l.type,y="string"==typeof l||null==_.namespace?[]:_.namespace.split(".");const x=u;if(3===x.nodeType||8===x.nodeType)return;z.indexOf(".")>-1&&(y=z.split("."),z=y.shift(),y.sort());const N=z.indexOf(":")<0&&`on${z}`;_=l instanceof zi?l:new zi(z,"object"==typeof l?l:null),_.namespace=y.join("."),_.rnamespace=_.namespace?new RegExp(`(^|\\.)${y.join("\\.(?:.*\\.|)")}(\\.|$)`):null,_.result=void 0,_.target||(_.target=x);const V=[_];Array.isArray(c)?V.push(...c):V.push(c);const U=li.get(z);if(!g&&U.trigger&&!1===U.trigger(x,_,c))return;let te;const ce=[x];if(!g&&!U.noBubble&&!Jt.isWindow(x)){te=U.delegateType||z;let we=x,Ne=x.parentNode;for(;null!=Ne;)ce.push(Ne),we=Ne,Ne=Ne.parentNode;if(we===(x.ownerDocument||document)){const gt=we.defaultView||we.parentWindow||window;ce.push(gt)}}let q=x;for(let we=0,Ne=ce.length;we<Ne&&!_.isPropagationStopped();we+=1){const Ke=ce[we];q=Ke,_.type=we>1?te:U.bindType||z;const gt=Js.get(Ke);gt&&gt.events[_.type]&&gt.handler&&gt.handler.call(Ke,...V);const yt=N&&Ke[N]||null;yt&&Jt.isValidTarget(Ke)&&(_.result=yt.call(Ke,...V),!1===_.result&&_.preventDefault())}if(_.type=z,!g&&!_.isDefaultPrevented()){const we=U.preventDefault;if((null==we||!1===we(ce.pop(),_,c))&&Jt.isValidTarget(x)&&N&&"function"==typeof x[z]&&!Jt.isWindow(x)){const Ne=x[N];Ne&&(x[N]=null),e=z,_.isPropagationStopped()&&q.addEventListener(z,Jt.stopPropagationCallback),x[z](),_.isPropagationStopped()&&q.removeEventListener(z,Jt.stopPropagationCallback),e=void 0,Ne&&(x[N]=Ne)}}return _.result}}(ba||(ba={})),function(o){o.on=function e(a,l,c,u,g){return Sa.on(a,l,c,u,g),a},o.once=function n(a,l,c,u,g){return Sa.on(a,l,c,u,g,!0),a},o.off=function i(a,l,c,u){return Sa.off(a,l,c,u),a},o.trigger=function s(a,l,c,u){return ba.trigger(l,c,a,u),a}}(Hn||(Hn={})),function(o){o.on=function e(i,s,a,l,c,u){if("object"==typeof s)return"string"!=typeof a&&(l=l||a,a=void 0),void Object.keys(s).forEach(g=>e(i,g,a,l,s[g],u));if(null==l&&null==c?(c=a,l=a=void 0):null==c&&("string"==typeof a?(c=l,l=void 0):(c=l,l=a,a=void 0)),!1===c)c=Jt.returnFalse;else if(!c)return;if(u){const g=c;Jt.setHandlerId(c=function(_,...z){return o.off(i,_),g.call(this,_,...z)},Jt.ensureHandlerId(g))}ba.on(i,s,c,l,a)},o.off=function n(i,s,a,l){if(s&&null!=s.preventDefault&&null!=s.handleObj){const u=s.handleObj;n(s.delegateTarget,u.namespace?`${u.originType}.${u.namespace}`:u.originType,u.selector,u.handler)}else if("object"!=typeof s)(!1===a||"function"==typeof a)&&(l=a,a=void 0),!1===l&&(l=Jt.returnFalse),ba.off(i,s,l,a);else{const u=s;Object.keys(u).forEach(g=>n(i,g,a,u[g]))}}}(Sa||(Sa={}));class Ep{constructor(e,n,i){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=fs.isEventSupported("wheel")?"wheel":"mousewheel",this.target=e,this.onWheelCallback=n,this.onWheelGuard=i,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){this.target.addEventListener(this.eventName,this.onWheel,{passive:!1})}disable(){this.target.removeEventListener(this.eventName,this.onWheel)}onWheel(e){if(null!=this.onWheelGuard&&!this.onWheelGuard(e))return;let n;this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault(),(0!==this.deltaX||0!==this.deltaY)&&(e.stopPropagation(),n=!0),!0===n&&0===this.animationFrameId&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(e)}))}didWheel(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}function Pp(o){const e=o.getBoundingClientRect(),n=o.ownerDocument.defaultView;return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}function Fz(o){return o.getBoundingClientRect().width}function Bz(o){return o.getBoundingClientRect().height}function Lz(o){const e="fixed"===va(o,"position");let n;if(e){const i=o.getBoundingClientRect();n={left:i.left,top:i.top}}else n=Pp(o);if(!e){const i=o.ownerDocument;let s=o.offsetParent||i.documentElement;for(;(s===i.body||s===i.documentElement)&&"static"===va(s,"position");)s=s.parentNode;if(s!==o&&Bg(s)){const a=Pp(s);n.top-=a.top+Ca(s,"borderTopWidth"),n.left-=a.left+Ca(s,"borderLeftWidth")}}return{top:n.top-Ca(o,"marginTop"),left:n.left-Ca(o,"marginLeft")}}function hm(o,e=60){let n=null;return(...i)=>{n&&clearTimeout(n),n=window.setTimeout(()=>{o.apply(this,i)},e)}}const jz=typeof ResizeObserver<"u"?function $z(o){let e=null,n=[];const i=hm(()=>{n.forEach(u=>{u(o)})}),l=()=>{e&&(e.disconnect(),n=[],e=null)};return{element:o,bind:u=>{e||(e=(()=>{const u=new ResizeObserver(i);return u.observe(o),i(),u})()),-1===n.indexOf(u)&&n.push(u)},destroy:l,unbind:u=>{const g=n.indexOf(u);-1!==g&&n.splice(g,1),0===n.length&&e&&l()}}}:function Vz(o){let e=null,n=[];const s=hm(()=>{n.forEach(u=>u(o))}),l=()=>{e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",s),e.parentNode.removeChild(e),e=null,n=[])};return{element:o,bind:u=>{e||(e=(()=>{"static"===getComputedStyle(o).position&&(o.style.position="relative");const u=document.createElement("object");return u.onload=()=>{u.contentDocument.defaultView.addEventListener("resize",s),s()},u.style.display="block",u.style.position="absolute",u.style.top="0",u.style.left="0",u.style.height="100%",u.style.width="100%",u.style.overflow="hidden",u.style.pointerEvents="none",u.style.zIndex="-1",u.style.opacity="0",u.setAttribute("tabindex","-1"),u.type="text/html",o.appendChild(u),u.data="about:blank",u})()),-1===n.indexOf(u)&&n.push(u)},destroy:l,unbind:u=>{const g=n.indexOf(u);-1!==g&&n.splice(g,1),0===n.length&&e&&l()}}};var cc,kp,qs;!function(o){const e=new WeakMap;function n(s){let a=e.get(s);return a||(a=jz(s),e.set(s,a),a)}o.bind=(s,a)=>{const l=n(s);return l.bind(a),()=>l.unbind(a)},o.clear=s=>{!function i(s){s.destroy(),e.delete(s.element)}(n(s))}}(cc||(cc={}));class Ta{constructor(e={}){this.comparator=e.comparator||Ta.defaultComparator,this.index={},this.data=e.data||[],this.heapify()}isEmpty(){return 0===this.data.length}insert(e,n,i){const s={priority:e,value:n},a=this.data.length;return i&&(s.id=i,this.index[i]=a),this.data.push(s),this.bubbleUp(a),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(e,n){const i=this.index[e];if(typeof i>"u")throw new Error(`Node with id '${e}' was not found in the heap.`);const s=this.data,l=this.comparator(n,s[i].priority);l<0?(s[i].priority=n,this.bubbleUp(i)):l>0&&(s[i].priority=n,this.bubbleDown(i))}remove(){const e=this.data,n=e[0],i=e.pop();return n.id&&delete this.index[n.id],e.length>0&&(e[0]=i,i.id&&(this.index[i.id]=0),this.bubbleDown(0)),n?n.value:null}heapify(){for(let e=0;e<this.data.length;e+=1)this.bubbleUp(e)}bubbleUp(e){const n=this.data;let i,s,a=e;for(;a>0&&(s=a-1>>>1,this.comparator(n[a].priority,n[s].priority)<0);){i=n[s],n[s]=n[a];let l=n[a].id;null!=l&&(this.index[l]=s),n[a]=i,l=n[a].id,null!=l&&(this.index[l]=a),a=s}}bubbleDown(e){const n=this.data,i=n.length-1;let s=e;for(;;){const a=1+(s<<1),l=a+1;let c=s;if(a<=i&&this.comparator(n[a].priority,n[c].priority)<0&&(c=a),l<=i&&this.comparator(n[l].priority,n[c].priority)<0&&(c=l),c===s)break;{const u=n[c];n[c]=n[s];let g=n[s].id;null!=g&&(this.index[g]=c),n[s]=u,g=n[s].id,null!=g&&(this.index[g]=s),s=c}}}}!function(o){o.defaultComparator=(e,n)=>e-n}(Ta||(Ta={})),function(o){o.run=function e(n,i,s=((a,l)=>1)){const a={},l={},c={},u=new Ta;for(a[i]=0,Object.keys(n).forEach(g=>{g!==i&&(a[g]=1/0),u.insert(a[g],g,g)});!u.isEmpty();){const g=u.remove();c[g]=!0;const _=n[g]||[];for(let z=0;z<_.length;z+=1){const y=_[z];if(!c[y]){const x=a[g]+s(g,y);x<a[y]&&(a[y]=x,l[y]=g,u.updatePriority(y,x))}}}return l}}(kp||(kp={}));class Gi{constructor(e,n,i,s){return null==e?this.set(255,255,255,1):"number"==typeof e?this.set(e,n,i,s):"string"==typeof e?Gi.fromString(e)||this:Array.isArray(e)?this.set(e):void this.set(e.r,e.g,e.b,null==e.a?1:e.a)}blend(e,n,i){this.set(e.r+(n.r-e.r)*i,e.g+(n.g-e.g)*i,e.b+(n.b-e.b)*i,e.a+(n.a-e.a)*i)}lighten(e){const n=Gi.lighten(this.toArray(),e);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}darken(e){this.lighten(-e)}set(e,n,i,s){const a=Array.isArray(e)?e[0]:e,l=Array.isArray(e)?e[1]:n,c=Array.isArray(e)?e[2]:i,u=Array.isArray(e)?e[3]:s;return this.r=Math.round(ri(a,0,255)),this.g=Math.round(ri(l,0,255)),this.b=Math.round(ri(c,0,255)),this.a=null==u?1:ri(u,0,1),this}toHex(){return`#${["r","g","b"].map(n=>{const i=this[n].toString(16);return i.length<2?`0${i}`:i}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return Gi.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(e){const n=`${this.r},${this.g},${this.b},`;return e?`rgb(${n})`:`rgba(${n},${this.a})`}toGrey(){return Gi.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(o){function n(q){return new o([...N(q),1])}function i(q){const we=q.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(we){const Ne=we[1].split(/\s*,\s*/).map(Ke=>parseInt(Ke,10));return new o(Ne)}return null}function s(q,we,Ne){Ne<0&&++Ne,Ne>1&&--Ne;const Ke=6*Ne;return Ke<1?q+(we-q)*Ke:2*Ne<1?we:3*Ne<2?q+(we-q)*(2/3-Ne)*6:q}function a(q){const we=q.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(we){const Ne=we[2].split(/\s*,\s*/),Ke=(parseFloat(Ne[0])%360+360)%360/360,gt=parseFloat(Ne[1])/100,yt=parseFloat(Ne[2])/100,zt=null==Ne[3]?1:parseInt(Ne[3],10);return new o(g(Ke,gt,yt,zt))}return null}function g(q,we,Ne,Ke){const gt=Array.isArray(q)?q[0]:q,yt=Array.isArray(q)?q[1]:we,zt=Array.isArray(q)?q[2]:Ne,Nt=Array.isArray(q)?q[3]:Ke,Tt=zt<=.5?zt*(yt+1):zt+yt-zt*yt,Bt=2*zt-Tt;return[256*s(Bt,Tt,gt+1/3),256*s(Bt,Tt,gt),256*s(Bt,Tt,gt-1/3),Nt??1]}function _(q){return new o(Math.round(256*Math.random()),Math.round(256*Math.random()),Math.round(256*Math.random()),q?void 0:parseFloat(Math.random().toFixed(2)))}function N(q){const we=0===q.indexOf("#")?q:`#${q}`;let Ne=+`0x${we.substr(1)}`;if(4!==we.length&&7!==we.length||Number.isNaN(Ne))throw new Error("Invalid hex color.");const Ke=4===we.length?4:8,gt=(1<<Ke)-1,yt=["b","g","r"].map(()=>{const zt=Ne&gt;return Ne>>=Ke,4===Ke?17*zt:zt});return[yt[2],yt[1],yt[0]]}function V(q,we,Ne){const Ke=gt=>gt.length<2?`0${gt}`:gt;return`${Ke(q.toString(16))}${Ke(we.toString(16))}${Ke(Ne.toString(16))}`}function ce(q,we){if("string"==typeof q){const gt="#"===q[0],yt=parseInt(gt?q.substr(1):q,16),zt=ri((yt>>16)+we,0,255),Nt=ri((yt>>8&255)+we,0,255);return`${gt?"#":""}${(ri((255&yt)+we,0,255)|Nt<<8|zt<<16).toString(16)}`}const Ke=N(ce(V(q[0],q[1],q[2]),we));return[Ke[0],Ke[1],Ke[2],q[3]]}o.fromArray=function e(q){return new o(q)},o.fromHex=n,o.fromRGBA=i,o.fromHSLA=a,o.fromString=function l(q){if(q.startsWith("#"))return n(q);if(q.startsWith("rgb"))return i(q);const we=o.named[q];return we?n(we):a(q)},o.makeGrey=function c(q,we){return o.fromArray([q,q,q,we])},o.rgba2hsla=function u(q,we,Ne,Ke){const gt=Array.isArray(q)?q[0]:q,yt=Array.isArray(q)?q[1]:we,zt=Array.isArray(q)?q[2]:Ne,Nt=Array.isArray(q)?q[3]:Ke,Tt=Math.max(gt,yt,zt),Bt=Math.min(gt,yt,zt),Tn=(Tt+Bt)/2;let cn=0,it=0;if(Bt!==Tt){const _t=Tt-Bt;switch(it=Tn>.5?_t/(2-Tt-Bt):_t/(Tt+Bt),Tt){case gt:cn=(yt-zt)/_t+(yt<zt?6:0);break;case yt:cn=(zt-gt)/_t+2;break;case zt:cn=(gt-yt)/_t+4}cn/=6}return[cn,it,Tn,Nt??1]},o.hsla2rgba=g,o.random=_,o.randomHex=function z(){let we="#";for(let Ne=0;Ne<6;Ne+=1)we+="0123456789ABCDEF"[Math.floor(16*Math.random())];return we},o.randomRGBA=function y(q){return _(q).toString()},o.invert=function x(q,we){if("string"==typeof q){const zt="#"===q[0],[Nt,Tt,Bt]=N(q);return we?.299*Nt+.587*Tt+.114*Bt>186?"#000000":"#ffffff":`${zt?"#":""}${V(255-Nt,255-Tt,255-Bt)}`}const Ne=q[0],Ke=q[1],gt=q[2],yt=q[3];return we?.299*Ne+.587*Ke+.114*gt>186?[0,0,0,yt]:[255,255,255,yt]:[255-Ne,255-Ke,255-gt,yt]},o.lighten=function U(q,we){return ce(q,we)},o.darken=function te(q,we){return ce(q,-we)}})(Gi||(Gi={})),function(o){o.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(Gi||(Gi={}));class Np{constructor(){this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(e){return this.map.has(e)}get(e){return this.map.get(e)}set(e,n){this.map.set(e,n),this.arr.push(e)}delete(e){const n=this.arr.indexOf(e);n>=0&&this.arr.splice(n,1);const i=this.map.get(e);return this.map.delete(e),i}each(e){this.arr.forEach(n=>{const i=this.map.get(n);e(i,n)})}dispose(){this.clear()}}!function(o){function e(s){const a=[],l=[];return Array.isArray(s)?a.push(...s):s.split("|").forEach(c=>{-1===c.indexOf("&")?a.push(c):l.push(...c.split("&"))}),{or:a,and:l}}o.parse=e,o.equals=function n(s,a){if(null!=s&&null!=a){const l=e(s),c=e(a),u=l.or.sort(),g=c.or.sort(),_=l.and.sort(),z=c.and.sort(),y=(x,N)=>x.length===N.length&&(0===x.length||x.every((V,U)=>V===N[U]));return y(u,g)&&y(_,z)}return null==s&&null==a},o.isMatch=function i(s,a,l){if(null==a||Array.isArray(a)&&0===a.length)return!l||!0!==s.altKey&&!0!==s.ctrlKey&&!0!==s.metaKey&&!0!==s.shiftKey;const{or:c,and:u}=e(a),g=_=>{const z=`${_.toLowerCase()}Key`;return!0===s[z]};return c.some(_=>g(_))&&u.every(_=>g(_))}}(qs||(qs={}));var Xo=function(o){return o.linear=e=>e,o.quad=e=>e*e,o.cubic=e=>e*e*e,o.inout=e=>{if(e<=0)return 0;if(e>=1)return 1;const n=e*e,i=n*e;return 4*(e<.5?i:3*(e-n)+i-.75)},o.exponential=e=>Math.pow(2,10*(e-1)),o.bounce=e=>{for(let n=0,i=1;;n+=i,i/=2)if(e>=(7-4*n)/11){const s=(11-6*n-11*e)/4;return-s*s+i*i}},o}(Xo||{});(function(o){o.decorators={reverse:e=>n=>1-e(1-n),reflect:e=>n=>.5*(n<.5?e(2*n):2-e(2-2*n)),clamp:(e,n=0,i=1)=>s=>{const a=e(s);return a<n?n:a>i?i:a},back:(e=1.70158)=>n=>n*n*((e+1)*n-e),elastic:(e=1.5)=>n=>Math.pow(2,10*(n-1))*Math.cos(20*Math.PI*e/3*n)}})(Xo||(Xo={})),function(o){function Bt(it){const _t=it/1;if(_t<1/2.75)return 7.5625*_t*_t;if(_t<2/2.75){const Zt=_t-.5454545454545454;return 7.5625*Zt*Zt+.75}if(_t<2.5/2.75){const Zt=_t-.8181818181818182;return 7.5625*Zt*Zt+.9375}{const Zt=_t-.9545454545454546;return 7.5625*Zt*Zt+.984375}}function Tn(it){return 1-Bt(1-it)}o.easeInSine=function e(it){return-1*Math.cos(it*(Math.PI/2))+1},o.easeOutSine=function n(it){return Math.sin(it*(Math.PI/2))},o.easeInOutSine=function i(it){return-.5*(Math.cos(Math.PI*it)-1)},o.easeInQuad=function s(it){return it*it},o.easeOutQuad=function a(it){return it*(2-it)},o.easeInOutQuad=function l(it){return it<.5?2*it*it:(4-2*it)*it-1},o.easeInCubic=function c(it){return it*it*it},o.easeOutCubic=function u(it){const _t=it-1;return _t*_t*_t+1},o.easeInOutCubic=function g(it){return it<.5?4*it*it*it:(it-1)*(2*it-2)*(2*it-2)+1},o.easeInQuart=function _(it){return it*it*it*it},o.easeOutQuart=function z(it){const _t=it-1;return 1-_t*_t*_t*_t},o.easeInOutQuart=function y(it){const _t=it-1;return it<.5?8*it*it*it*it:1-8*_t*_t*_t*_t},o.easeInQuint=function x(it){return it*it*it*it*it},o.easeOutQuint=function N(it){const _t=it-1;return 1+_t*_t*_t*_t*_t},o.easeInOutQuint=function V(it){const _t=it-1;return it<.5?16*it*it*it*it*it:1+16*_t*_t*_t*_t*_t},o.easeInExpo=function U(it){return 0===it?0:Math.pow(2,10*(it-1))},o.easeOutExpo=function te(it){return 1===it?1:1-Math.pow(2,-10*it)},o.easeInOutExpo=function ce(it){if(0===it||1===it)return it;const _t=2*it,Zt=_t-1;return _t<1?.5*Math.pow(2,10*Zt):.5*(2-Math.pow(2,-10*Zt))},o.easeInCirc=function q(it){return-1*(Math.sqrt(1-it/1*it)-1)},o.easeOutCirc=function we(it){const _t=it-1;return Math.sqrt(1-_t*_t)},o.easeInOutCirc=function Ne(it){const _t=2*it,Zt=_t-2;return _t<1?-.5*(Math.sqrt(1-_t*_t)-1):.5*(Math.sqrt(1-Zt*Zt)+1)},o.easeInBack=function Ke(it,_t=1.70158){return it*it*((_t+1)*it-_t)},o.easeOutBack=function gt(it,_t=1.70158){const Zt=it/1-1;return Zt*Zt*((_t+1)*Zt+_t)+1},o.easeInOutBack=function yt(it,_t=1.70158){const Zt=2*it,On=Zt-2,Dn=1.525*_t;return Zt<1?.5*Zt*Zt*((Dn+1)*Zt-Dn):.5*(On*On*((Dn+1)*On+Dn)+2)},o.easeInElastic=function zt(it,_t=.7){if(0===it||1===it)return it;const On=it/1-1,Dn=1-_t,Gn=Dn/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*On)*Math.sin((On-Gn)*(2*Math.PI)/Dn)},o.easeOutElastic=function Nt(it,_t=.7){const Zt=1-_t,On=2*it;if(0===it||1===it)return it;const Dn=Zt/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*On)*Math.sin((On-Dn)*(2*Math.PI)/Zt)+1},o.easeInOutElastic=function Tt(it,_t=.65){const Zt=1-_t;if(0===it||1===it)return it;const On=2*it,Dn=On-1,Gn=Zt/(2*Math.PI)*Math.asin(1);return On<1?Math.pow(2,10*Dn)*Math.sin((Dn-Gn)*(2*Math.PI)/Zt)*-.5:Math.pow(2,-10*Dn)*Math.sin((Dn-Gn)*(2*Math.PI)/Zt)*.5+1},o.easeOutBounce=Bt,o.easeInBounce=Tn,o.easeInOutBounce=function cn(it){return it<.5?.5*Tn(2*it):.5*Bt(2*it-1)+.5}}(Xo||(Xo={}));var Wo=function(o){return o.number=(e,n)=>{const i=n-e;return s=>e+i*s},o.object=(e,n)=>{const i=Object.keys(e);return s=>{const a={};for(let l=i.length-1;-1!==l;l-=1){const c=i[l];a[c]=e[c]+(n[c]-e[c])*s}return a}},o.unit=(e,n)=>{const i=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,s=i.exec(e),a=i.exec(n),l=a?a[1]:"",c=s?+s[1]:0,u=a?+a[1]:0,g=l.indexOf("."),_=g>0?l[1].length-g-1:0,z=u-c,y=s?s[2]:"";return x=>(c+z*x).toFixed(_)+y},o.color=(e,n)=>{const i=parseInt(e.slice(1),16),s=parseInt(n.slice(1),16),a=255&i,l=(255&s)-a,c=65280&i,u=(65280&s)-c,g=16711680&i,_=(16711680&s)-g;return z=>`#${(1<<24|a+l*z&255|c+u*z&65280|g+_*z&16711680).toString(16).slice(1)}`},o}(Wo||{});const xa=[];function dm(o,e){const n=xa.find(i=>i.name===o);if(!(n&&(n.loadTimes+=1,n.loadTimes>1)||fs.isApplyingHMR())){const i=document.createElement("style");i.setAttribute("type","text/css"),i.textContent=e;const s=document.querySelector("head");s&&s.insertBefore(i,s.firstChild),xa.push({name:o,loadTimes:1,styleElement:i})}}function um(o){const e=xa.findIndex(n=>n.name===o);if(e>-1){const n=xa[e];if(n.loadTimes-=1,n.loadTimes>0)return;let i=n.styleElement;i&&i.parentNode&&i.parentNode.removeChild(i),i=null,xa.splice(e,1)}}var _n,vn;!function(o){o.toDeg=function e(i){return 180*i/Math.PI%360},o.toRad=function(i,s=!1){return(s?i:i%360)*Math.PI/180},o.normalize=function n(i){return i%360+(i<0?360:0)}}(_n||(_n={})),function(o){o.round=function e(c,u=0){return Number.isInteger(c)?c:+c.toFixed(u)},o.random=function n(c,u){let g,_;if(null==u?(_=c??1,g=0):(_=u,g=c??0),_<g){const z=g;g=_,_=z}return Math.floor(Math.random()*(_-g+1)+g)},o.clamp=function i(c,u,g){return Number.isNaN(c)?NaN:Number.isNaN(u)||Number.isNaN(g)?0:u<g?c<u?u:c>g?g:c:c<g?g:c>u?u:c},o.snapToGrid=function s(c,u){return u*Math.round(c/u)},o.containsPoint=function a(c,u){return null!=u&&null!=c&&u.x>=c.x&&u.x<=c.x+c.width&&u.y>=c.y&&u.y<=c.y+c.height},o.squaredLength=function l(c,u){const g=c.x-u.x,_=c.y-u.y;return g*g+_*_}}(vn||(vn={}));class ms{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class Ce extends ms{constructor(e,n){super(),this.x=e??0,this.y=n??0}round(e=0){return this.x=vn.round(this.x,e),this.y=vn.round(this.y,e),this}add(e,n){const i=Ce.create(e,n);return this.x+=i.x,this.y+=i.y,this}update(e,n){const i=Ce.create(e,n);return this.x=i.x,this.y=i.y,this}translate(e,n){const i=Ce.create(e,n);return this.x+=i.x,this.y+=i.y,this}rotate(e,n){const i=Ce.rotate(this,e,n);return this.x=i.x,this.y=i.y,this}scale(e,n,i=new Ce){const s=Ce.create(i);return this.x=s.x+e*(this.x-s.x),this.y=s.y+n*(this.y-s.y),this}closest(e){if(1===e.length)return Ce.create(e[0]);let n=null,i=1/0;return e.forEach(s=>{const a=this.squaredDistance(s);a<i&&(n=s,i=a)}),n?Ce.create(n):null}distance(e){return Math.sqrt(this.squaredDistance(e))}squaredDistance(e){const n=Ce.create(e),i=this.x-n.x,s=this.y-n.y;return i*i+s*s}manhattanDistance(e){const n=Ce.create(e);return Math.abs(n.x-this.x)+Math.abs(n.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(e=new Ce){const n=Ce.create(e);let a=Math.atan2(-(n.y-this.y),n.x-this.x);return a<0&&(a=2*Math.PI+a),180*a/Math.PI}angleBetween(e,n){if(this.equals(e)||this.equals(n))return NaN;let i=this.theta(n)-this.theta(e);return i<0&&(i+=360),i}vectorAngle(e){return new Ce(0,0).angleBetween(this,e)}toPolar(e){return this.update(Ce.toPolar(this,e)),this}changeInAngle(e,n,i=new Ce){return this.clone().translate(-e,-n).theta(i)-this.theta(i)}adhereToRect(e){return vn.containsPoint(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}bearing(e){const n=Ce.create(e),i=_n.toRad(this.y),s=_n.toRad(n.y),c=_n.toRad(n.x-this.x),u=Math.sin(c)*Math.cos(s),g=Math.cos(i)*Math.sin(s)-Math.sin(i)*Math.cos(s)*Math.cos(c);let y=_n.toDeg(Math.atan2(u,g))-22.5;return y<0&&(y+=360),y=parseInt(y/45,10),["NE","E","SE","S","SW","W","NW","N"][y]}cross(e,n){if(null!=e&&null!=n){const i=Ce.create(e),s=Ce.create(n);return(s.x-this.x)*(i.y-this.y)-(s.y-this.y)*(i.x-this.x)}return NaN}dot(e){const n=Ce.create(e);return this.x*n.x+this.y*n.y}diff(e,n){if("number"==typeof e)return new Ce(this.x-e,this.y-n);const i=Ce.create(e);return new Ce(this.x-i.x,this.y-i.y)}lerp(e,n){const i=Ce.create(e);return new Ce((1-n)*this.x+n*i.x,(1-n)*this.y+n*i.y)}normalize(e=1){const n=e/this.magnitude();return this.scale(n,n)}move(e,n){const i=Ce.create(e),s=_n.toRad(i.theta(this));return this.translate(Math.cos(s)*n,-Math.sin(s)*n)}reflection(e){return Ce.create(e).move(this,this.distance(e))}snapToGrid(e,n){return this.x=vn.snapToGrid(this.x,e),this.y=vn.snapToGrid(this.y,n??e),this}equals(e){const n=Ce.create(e);return null!=n&&n.x===this.x&&n.y===this.y}clone(){return Ce.clone(this)}toJSON(){return Ce.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(o){o.isPoint=function e(n){return null!=n&&n instanceof o}})(Ce||(Ce={})),function(o){o.isPointLike=function e(i){return null!=i&&"object"==typeof i&&"number"==typeof i.x&&"number"==typeof i.y},o.isPointData=function n(i){return null!=i&&Array.isArray(i)&&2===i.length&&"number"==typeof i[0]&&"number"==typeof i[1]}}(Ce||(Ce={})),function(o){function n(z){return o.isPoint(z)?new o(z.x,z.y):Array.isArray(z)?new o(z[0],z[1]):new o(z.x,z.y)}function l(z,y){return z===y||null!=z&&null!=y&&z.x===y.x&&z.y===y.y}function _(z,y,x,N=new o){const V=n(z),U=n(N),te=V.x-U.x,ce=V.y-U.y;return new o(te*y-ce*x+U.x,ce*y+te*x+U.y)}o.create=function e(z,y){return null==z||"number"==typeof z?new o(z,y):n(z)},o.clone=n,o.toJSON=function i(z){return o.isPoint(z)?{x:z.x,y:z.y}:Array.isArray(z)?{x:z[0],y:z[1]}:{x:z.x,y:z.y}},o.fromPolar=function s(z,y,x=new o){let N=Math.abs(z*Math.cos(y)),V=Math.abs(z*Math.sin(y));const U=n(x),te=_n.normalize(_n.toDeg(y));return te<90?V=-V:te<180?(N=-N,V=-V):te<270&&(N=-N),new o(U.x+N,U.y+V)},o.toPolar=function a(z,y=new o){const x=n(z),N=n(y),V=x.x-N.x,U=x.y-N.y;return new o(Math.sqrt(V*V+U*U),_n.toRad(N.theta(x)))},o.equals=l,o.equalPoints=function c(z,y){if(null==z&&null!=y||null!=z&&null==y||null!=z&&null!=y&&z.length!==y.length)return!1;if(null!=z&&null!=y)for(let x=0,N=z.length;x<N;x+=1)if(!l(z[x],y[x]))return!1;return!0},o.random=function u(z,y,x,N){return new o(vn.random(z,y),vn.random(x,N))},o.rotate=function g(z,y,x){const N=_n.toRad(_n.normalize(-y)),V=Math.sin(N);return _(z,Math.cos(N),V,x)},o.rotateEx=_}(Ce||(Ce={}));class St extends ms{get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new Ce(this.x,this.y)}get topLeft(){return new Ce(this.x,this.y)}get topCenter(){return new Ce(this.x+this.width/2,this.y)}get topRight(){return new Ce(this.x+this.width,this.y)}get center(){return new Ce(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new Ce(this.x,this.y+this.height)}get bottomCenter(){return new Ce(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new Ce(this.x+this.width,this.y+this.height)}get corner(){return new Ce(this.x+this.width,this.y+this.height)}get rightMiddle(){return new Ce(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new Ce(this.x,this.y+this.height/2)}get topLine(){return new Et(this.topLeft,this.topRight)}get rightLine(){return new Et(this.topRight,this.bottomRight)}get bottomLine(){return new Et(this.bottomLeft,this.bottomRight)}get leftLine(){return new Et(this.topLeft,this.bottomLeft)}constructor(e,n,i,s){super(),this.x=e??0,this.y=n??0,this.width=i??0,this.height=s??0}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(e){if(!e)return this.clone();const n=_n.toRad(e),i=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n)),a=this.width*s+this.height*i,l=this.width*i+this.height*s;return new St(this.x+(this.width-a)/2,this.y+(this.height-l)/2,a,l)}round(e=0){return this.x=vn.round(this.x,e),this.y=vn.round(this.y,e),this.width=vn.round(this.width,e),this.height=vn.round(this.height,e),this}add(e,n,i,s){const a=St.create(e,n,i,s),l=Math.min(this.x,a.x),c=Math.min(this.y,a.y),u=Math.max(this.x+this.width,a.x+a.width),g=Math.max(this.y+this.height,a.y+a.height);return this.x=l,this.y=c,this.width=u-l,this.height=g-c,this}update(e,n,i,s){const a=St.create(e,n,i,s);return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this}inflate(e,n){const i=e,s=n??e;return this.x-=i,this.y-=s,this.width+=2*i,this.height+=2*s,this}snapToGrid(e,n){const i=this.origin.snapToGrid(e,n),s=this.corner.snapToGrid(e,n);return this.x=i.x,this.y=i.y,this.width=s.x-i.x,this.height=s.y-i.y,this}translate(e,n){const i=Ce.create(e,n);return this.x+=i.x,this.y+=i.y,this}scale(e,n,i=new Ce){const s=this.origin.scale(e,n,i);return this.x=s.x,this.y=s.y,this.width*=e,this.height*=n,this}rotate(e,n=this.getCenter()){if(0!==e){const i=_n.toRad(e),s=Math.cos(i),a=Math.sin(i);let l=this.getOrigin(),c=this.getTopRight(),u=this.getBottomRight(),g=this.getBottomLeft();l=Ce.rotateEx(l,s,a,n),c=Ce.rotateEx(c,s,a,n),u=Ce.rotateEx(u,s,a,n),g=Ce.rotateEx(g,s,a,n);const _=new St(l.x,l.y,0,0);_.add(c.x,c.y,0,0),_.add(u.x,u.y,0,0),_.add(g.x,g.y,0,0),this.update(_)}return this}rotate90(){const e=(this.width-this.height)/2;this.x+=e,this.y-=e;const n=this.width;return this.width=this.height,this.height=n,this}moveAndExpand(e){const n=St.clone(e);return this.x+=n.x||0,this.y+=n.y||0,this.width+=n.width||0,this.height+=n.height||0,this}getMaxScaleToFit(e,n=this.center){const i=St.clone(e),s=n.x,a=n.y;let l=1/0,c=1/0,u=1/0,g=1/0,_=1/0,z=1/0,y=1/0,x=1/0;const N=i.topLeft;N.x<s&&(l=(this.x-s)/(N.x-s)),N.y<a&&(_=(this.y-a)/(N.y-a));const V=i.bottomRight;V.x>s&&(c=(this.x+this.width-s)/(V.x-s)),V.y>a&&(z=(this.y+this.height-a)/(V.y-a));const U=i.topRight;U.x>s&&(u=(this.x+this.width-s)/(U.x-s)),U.y<a&&(y=(this.y-a)/(U.y-a));const te=i.bottomLeft;return te.x<s&&(g=(this.x-s)/(te.x-s)),te.y>a&&(x=(this.y+this.height-a)/(te.y-a)),{sx:Math.min(l,c,u,g),sy:Math.min(_,z,y,x)}}getMaxUniformScaleToFit(e,n=this.center){const i=this.getMaxScaleToFit(e,n);return Math.min(i.sx,i.sy)}containsPoint(e,n){return vn.containsPoint(this,Ce.create(e,n))}containsRect(e,n,i,s){const a=St.create(e,n,i,s),l=this.x,c=this.y,u=this.width,g=this.height,_=a.x,z=a.y,y=a.width,x=a.height;return 0!==u&&0!==g&&0!==y&&0!==x&&_>=l&&z>=c&&_+y<=l+u&&z+x<=c+g}intersectsWithLine(e){const i=[],s=[];return[this.topLine,this.rightLine,this.bottomLine,this.leftLine].forEach(a=>{const l=e.intersectsWithLine(a);null!==l&&s.indexOf(l.toString())<0&&(i.push(l),s.push(l.toString()))}),i.length>0?i:null}intersectsWithLineFromCenterToPoint(e,n){const i=Ce.clone(e),s=this.center;let a=null;null!=n&&0!==n&&i.rotate(n,s);const l=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],c=new Et(s,i);for(let u=l.length-1;u>=0;u-=1){const g=l[u].intersectsWithLine(c);if(null!==g){a=g;break}}return a&&null!=n&&0!==n&&a.rotate(-n,s),a}intersectsWithRect(e,n,i,s){const a=St.create(e,n,i,s);if(!this.isIntersectWithRect(a))return null;const l=this.origin,c=this.corner,u=a.origin,g=a.corner,_=Math.max(l.x,u.x),z=Math.max(l.y,u.y);return new St(_,z,Math.min(c.x,g.x)-_,Math.min(c.y,g.y)-z)}isIntersectWithRect(e,n,i,s){const a=St.create(e,n,i,s),l=this.origin,c=this.corner,u=a.origin,g=a.corner;return!(g.x<=l.x||g.y<=l.y||u.x>=c.x||u.y>=c.y)}normalize(){let e=this.x,n=this.y,i=this.width,s=this.height;return this.width<0&&(e=this.x+this.width,i=-this.width),this.height<0&&(n=this.y+this.height,s=-this.height),this.x=e,this.y=n,this.width=i,this.height=s,this}union(e){const n=St.clone(e),i=this.origin,s=this.corner,a=n.origin,l=n.corner,c=Math.min(i.x,a.x),u=Math.min(i.y,a.y),g=Math.max(s.x,l.x),_=Math.max(s.y,l.y);return new St(c,u,g-c,_-u)}getNearestSideToPoint(e){const n=Ce.clone(e),s=this.x+this.width-n.x,a=n.y-this.y;let c=n.x-this.x,u="left";return s<c&&(c=s,u="right"),a<c&&(c=a,u="top"),this.y+this.height-n.y<c&&(u="bottom"),u}getNearestPointToPoint(e){const n=Ce.clone(e);if(this.containsPoint(n)){const i=this.getNearestSideToPoint(n);if("left"===i)return new Ce(this.x,n.y);if("top"===i)return new Ce(n.x,this.y);if("right"===i)return new Ce(this.x+this.width,n.y);if("bottom"===i)return new Ce(n.x,this.y+this.height)}return n.adhereToRect(this)}equals(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}clone(){return new St(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(o){o.isRectangle=function e(n){return null!=n&&n instanceof o}})(St||(St={})),function(o){o.isRectangleLike=function e(n){return null!=n&&"object"==typeof n&&"number"==typeof n.x&&"number"==typeof n.y&&"number"==typeof n.width&&"number"==typeof n.height}}(St||(St={})),function(o){function n(l){return o.isRectangle(l)?l.clone():Array.isArray(l)?new o(l[0],l[1],l[2],l[3]):new o(l.x,l.y,l.width,l.height)}o.create=function e(l,c,u,g){return null==l||"number"==typeof l?new o(l,c,u,g):n(l)},o.clone=n,o.fromEllipse=function i(l){return new o(l.x-l.a,l.y-l.b,2*l.a,2*l.b)},o.fromSize=function s(l){return new o(0,0,l.width,l.height)},o.fromPositionAndSize=function a(l,c){return new o(l.x,l.y,c.width,c.height)}}(St||(St={}));class Et extends ms{get center(){return new Ce((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}constructor(e,n,i,s){super(),"number"==typeof e&&"number"==typeof n?(this.start=new Ce(e,n),this.end=new Ce(i,s)):(this.start=Ce.create(e),this.end=Ce.create(n))}getCenter(){return this.center}round(e=0){return this.start.round(e),this.end.round(e),this}translate(e,n){return"number"==typeof e?(this.start.translate(e,n),this.end.translate(e,n)):(this.start.translate(e),this.end.translate(e)),this}rotate(e,n){return this.start.rotate(e,n),this.end.rotate(e,n),this}scale(e,n,i){return this.start.scale(e,n,i),this.end.scale(e,n,i),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const e=this.start.x-this.end.x,n=this.start.y-this.end.y;return e*e+n*n}setLength(e){const n=this.length();if(!n)return this;const i=e/n;return this.scale(i,i,this.start)}parallel(e){const n=this.clone();if(!n.isDifferentiable())return n;const{start:i,end:s}=n,a=i.clone().rotate(270,s),l=s.clone().rotate(90,i);return i.move(l,e),s.move(a,e),n}vector(){return new Ce(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const e=new Ce(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}bbox(){const e=Math.min(this.start.x,this.end.x),n=Math.min(this.start.y,this.end.y),i=Math.max(this.start.x,this.end.x),s=Math.max(this.start.y,this.end.y);return new St(e,n,i-e,s-n)}bearing(){return this.start.bearing(this.end)}closestPoint(e){return this.pointAt(this.closestPointNormalizedLength(e))}closestPointLength(e){return this.closestPointNormalizedLength(e)*this.length()}closestPointTangent(e){return this.tangentAt(this.closestPointNormalizedLength(e))}closestPointNormalizedLength(e){const n=this.vector().dot(new Et(this.start,e).vector()),i=Math.min(1,Math.max(0,n/this.squaredLength()));return Number.isNaN(i)?0:i}pointAt(e){const n=this.start,i=this.end;return e<=0?n.clone():e>=1?i.clone():n.lerp(i,e)}pointAtLength(e){const n=this.start,i=this.end;let s=!0;e<0&&(s=!1,e=-e);const a=this.length();return e>=a?s?i.clone():n.clone():this.pointAt((s?e:a-e)/a)}divideAt(e){const n=this.pointAt(e);return[new Et(this.start,n),new Et(n,this.end)]}divideAtLength(e){const n=this.pointAtLength(e);return[new Et(this.start,n),new Et(n,this.end)]}containsPoint(e){const n=this.start,i=this.end;if(0!==n.cross(e,i))return!1;const s=this.length();return!(new Et(n,e).length()>s||new Et(e,i).length()>s)}intersect(e,n){const i=e.intersectsWithLine(this,n);return i?Array.isArray(i)?i:[i]:null}intersectsWithLine(e){const n=new Ce(this.end.x-this.start.x,this.end.y-this.start.y),i=new Ce(e.end.x-e.start.x,e.end.y-e.start.y),s=n.x*i.y-n.y*i.x,a=new Ce(e.start.x-this.start.x,e.start.y-this.start.y),l=a.x*i.y-a.y*i.x,c=a.x*n.y-a.y*n.x;if(0===s||l*s<0||c*s<0)return null;if(s>0){if(l>s||c>s)return null}else if(l<s||c<s)return null;return new Ce(this.start.x+l*n.x/s,this.start.y+l*n.y/s)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(e){const n=Ce.clone(e),i=this.start,s=this.end;return((s.x-i.x)*(n.y-i.y)-(s.y-i.y)*(n.x-i.x))/this.length()}pointSquaredDistance(e,n){const i=Ce.create(e,n);return this.closestPoint(i).squaredDistance(i)}pointDistance(e,n){const i=Ce.create(e,n);return this.closestPoint(i).distance(i)}tangentAt(e){if(!this.isDifferentiable())return null;const n=this.start,i=this.end,s=this.pointAt(e),a=new Et(n,i);return a.translate(s.x-n.x,s.y-n.y),a}tangentAtLength(e){if(!this.isDifferentiable())return null;const n=this.start,i=this.end,s=this.pointAtLength(e),a=new Et(n,i);return a.translate(s.x-n.x,s.y-n.y),a}relativeCcw(e,n){const i=Ce.create(e,n);let s=i.x-this.start.x,a=i.y-this.start.y;const l=this.end.x-this.start.x,c=this.end.y-this.start.y;let u=s*c-a*l;return 0===u&&(u=s*l+a*c,u>0&&(s-=l,a-=c,u=s*l+a*c,u<0&&(u=0))),u<0?-1:u>0?1:0}equals(e){return null!=e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}clone(){return new Et(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}!function(o){o.isLine=function e(n){return null!=n&&n instanceof o}}(Et||(Et={}));class bi extends ms{get center(){return new Ce(this.x,this.y)}constructor(e,n,i,s){super(),this.x=e??0,this.y=n??0,this.a=i??0,this.b=s??0}bbox(){return St.fromEllipse(this)}getCenter(){return this.center}inflate(e,n){const s=n??e;return this.a+=2*e,this.b+=2*s,this}normalizedDistance(e,n){const i=Ce.create(e,n),s=i.x-this.x,a=i.y-this.y,l=this.a,c=this.b;return s*s/(l*l)+a*a/(c*c)}containsPoint(e,n){return this.normalizedDistance(e,n)<=1}intersectsWithLine(e){const n=[],i=this.a,s=this.b,a=e.start,l=e.end,c=e.vector(),u=a.diff(new Ce(this.x,this.y)),g=new Ce(c.x/(i*i),c.y/(s*s)),_=new Ce(u.x/(i*i),u.y/(s*s)),z=c.dot(g),y=c.dot(_),N=y*y-z*(u.dot(_)-1);if(N<0)return null;if(N>0){const V=Math.sqrt(N),U=(-y-V)/z,te=(-y+V)/z;if((U<0||U>1)&&(te<0||te>1))return null;U>=0&&U<=1&&n.push(a.lerp(l,U)),te>=0&&te<=1&&n.push(a.lerp(l,te))}else{const V=-y/z;if(!(V>=0&&V<=1))return null;n.push(a.lerp(l,V))}return n}intersectsWithLineFromCenterToPoint(e,n=0){const i=Ce.clone(e);n&&i.rotate(n,this.getCenter());const s=i.x-this.x,a=i.y-this.y;let l;if(0===s)return l=this.bbox().getNearestPointToPoint(i),n?l.rotate(-n,this.getCenter()):l;const c=a/s;let z=Math.sqrt(1/(1/(this.a*this.a)+c*c/(this.b*this.b)));return z=s<0?-z:z,l=new Ce(this.x+z,this.y+c*z),n?l.rotate(-n,this.getCenter()):l}tangentTheta(e){const n=Ce.clone(e),i=n.x,s=n.y,a=this.a,l=this.b,c=this.bbox().center,u=c.x,g=c.y;let x,N;return i>c.x+a/2||i<c.x-a/2?(N=i>c.x?s-30:s+30,x=a*a/(i-u)-a*a*(s-g)*(N-g)/(l*l*(i-u))+u):(x=s>c.y?i+30:i-30,N=l*l/(s-g)-l*l*(i-u)*(x-u)/(a*a*(s-g))+g),new Ce(x,N).theta(n)}scale(e,n){return this.a*=e,this.b*=n,this}rotate(e,n){const i=St.fromEllipse(this);i.rotate(e,n);const s=bi.fromRect(i);return this.a=s.a,this.b=s.b,this.x=s.x,this.y=s.y,this}translate(e,n){const i=Ce.create(e,n);return this.x+=i.x,this.y+=i.y,this}equals(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}clone(){return new bi(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(o){o.isEllipse=function e(n){return null!=n&&n instanceof o}})(bi||(bi={})),function(o){function n(s){return o.isEllipse(s)?s.clone():Array.isArray(s)?new o(s[0],s[1],s[2],s[3]):new o(s.x,s.y,s.a,s.b)}o.create=function e(s,a,l,c){return null==s||"number"==typeof s?new o(s,a,l,c):n(s)},o.parse=n,o.fromRect=function i(s){const a=s.center;return new o(a.x,a.y,s.width/2,s.height/2)}}(bi||(bi={}));const Gz=new RegExp("^[\\s\\dLMCZz,.]*$");function Hz(o){return"string"==typeof o&&Gz.test(o)}function Ip(o,e){return(o%e+e)%e}function pm(o,e={}){const n=[];return o&&o.length&&o.forEach(i=>{Array.isArray(i)?n.push({x:i[0],y:i[1]}):n.push({x:i.x,y:i.y})}),function Uz(o,e,n,i,s){const a=[],l=o[o.length-1],c=null!=e&&e>0,u=e||0;if(i&&c){const z=(o=o.slice())[0],y=new Ce(l.x+(z.x-l.x)/2,l.y+(z.y-l.y)/2);o.splice(0,0,y)}let g=o[0],_=1;for(a.push(n?"M":"L",g.x,g.y);_<(i?o.length:o.length-1);){let z=o[Ip(_,o.length)],y=g.x-z.x,x=g.y-z.y;if(c&&(0!==y||0!==x)&&(null==s||s.indexOf(_-1)<0)){let N=Math.sqrt(y*y+x*x);const V=y*Math.min(u,N/2)/N,U=x*Math.min(u,N/2)/N;a.push("L",z.x+V,z.y+U);let q=o[Ip(_+1,o.length)];for(;_<o.length-2&&0===Math.round(q.x-z.x)&&0===Math.round(q.y-z.y);)q=o[Ip(_+2,o.length)],_+=1;y=q.x-z.x,x=q.y-z.y,N=Math.max(1,Math.sqrt(y*y+x*x));const we=y*Math.min(u,N/2)/N,Ne=x*Math.min(u,N/2)/N,Ke=z.x+we,gt=z.y+Ne;a.push("Q",z.x,z.y,Ke,gt),z=new Ce(Ke,gt)}else a.push("L",z.x,z.y);g=z,_+=1}return i?a.push("Z"):a.push("L",l.x,l.y),a.map(z=>"string"==typeof z?z:+z.toFixed(3)).join(" ")}(n,e.round,null==e.initialMove||e.initialMove,e.close,e.exclude)}function hc(o,e,n,i,s=0,a=0,l=0,c,u){if(0===n||0===i)return[];c-=o,u-=e,n=Math.abs(n),i=Math.abs(i);const g=-c/2,_=-u/2,z=Math.cos(s*Math.PI/180),y=Math.sin(s*Math.PI/180),x=z*g+y*_,N=-1*y*g+z*_,V=x*x,U=N*N,te=n*n,ce=i*i,q=V/te+U/ce;let we;if(q>1)n=Math.sqrt(q)*n,i=Math.sqrt(q)*i,we=0;else{let Yi=1;a===l&&(Yi=-1),we=Yi*Math.sqrt((te*ce-te*U-ce*V)/(te*U+ce*V))}const Ne=we*n*N/i,Ke=-1*we*i*x/n,gt=z*Ne-y*Ke+c/2,yt=y*Ne+z*Ke+u/2;let zt=Math.atan2((N-Ke)/i,(x-Ne)/n)-Math.atan2(0,1),Nt=zt>=0?zt:2*Math.PI+zt;zt=Math.atan2((-N-Ke)/i,(-x-Ne)/n)-Math.atan2((N-Ke)/i,(x-Ne)/n);let Tt=zt>=0?zt:2*Math.PI+zt;0===l&&Tt>0?Tt-=2*Math.PI:0!==l&&Tt<0&&(Tt+=2*Math.PI);const Bt=2*Tt/Math.PI,Tn=Math.ceil(Bt<0?-1*Bt:Bt),cn=Tt/Tn,it=8/3*Math.sin(cn/4)*Math.sin(cn/4)/Math.sin(cn/2),_t=z*n,Zt=z*i,On=y*n,Dn=y*i;let Gn=Math.cos(Nt),qn=Math.sin(Nt),Pc=-it*(_t*qn+Dn*Gn),kc=-it*(On*qn-Zt*Gn),ws=0,Ra=0;const Wi=[];for(let Yi=0;Yi<Tn;Yi+=1){Nt+=cn,Gn=Math.cos(Nt),qn=Math.sin(Nt),ws=_t*Gn-Dn*qn+gt,Ra=On*Gn+Zt*qn+yt;const x_=-it*(_t*qn+Dn*Gn),O_=-it*(On*qn-Zt*Gn),cr=6*Yi;Wi[cr]=Number(Pc+o),Wi[cr+1]=Number(kc+e),Wi[cr+2]=Number(ws-x_+o),Wi[cr+3]=Number(Ra-O_+e),Wi[cr+4]=Number(ws+o),Wi[cr+5]=Number(Ra+e),Pc=ws+x_,kc=Ra+O_}return Wi.map(Yi=>+Yi.toFixed(2))}function Xz(o,e,n,i,s=0,a=0,l=0,c,u){const g=[],_=hc(o,e,n,i,s,a,l,c,u);if(null!=_)for(let z=0,y=_.length;z<y;z+=6)g.push("C",_[z],_[z+1],_[z+2],_[z+3],_[z+4],_[z+5]);return g.join(" ")}class Nn extends ms{get start(){return this.points[0]||null}get end(){return this.points[this.points.length-1]||null}constructor(e){if(super(),null!=e){if("string"==typeof e)return Nn.parse(e);this.points=e.map(n=>Ce.create(n))}else this.points=[]}scale(e,n,i=new Ce){return this.points.forEach(s=>s.scale(e,n,i)),this}rotate(e,n){return this.points.forEach(i=>i.rotate(e,n)),this}translate(e,n){const i=Ce.create(e,n);return this.points.forEach(s=>s.translate(i.x,i.y)),this}round(e=0){return this.points.forEach(n=>n.round(e)),this}bbox(){if(0===this.points.length)return new St;let e=1/0,n=-1/0,i=1/0,s=-1/0;const a=this.points;for(let l=0,c=a.length;l<c;l+=1){const u=a[l],g=u.x,_=u.y;g<e&&(e=g),g>n&&(n=g),_<i&&(i=_),_>s&&(s=_)}return new St(e,i,n-e,s-i)}closestPoint(e){const n=this.closestPointLength(e);return this.pointAtLength(n)}closestPointLength(e){const n=this.points,i=n.length;if(0===i||1===i)return 0;let s=0,a=0,l=1/0;for(let c=0,u=i-1;c<u;c+=1){const g=new Et(n[c],n[c+1]),_=g.length(),z=g.closestPointNormalizedLength(e),x=g.pointAt(z).squaredDistance(e);x<l&&(l=x,a=s+z*_),s+=_}return a}closestPointNormalizedLength(e){const n=this.length();return 0===n?0:this.closestPointLength(e)/n}closestPointTangent(e){const n=this.closestPointLength(e);return this.tangentAtLength(n)}containsPoint(e){if(0===this.points.length)return!1;const n=Ce.clone(e),i=n.x,s=n.y,a=this.points,l=a.length;let c=l-1,u=0;for(let g=0;g<l;g+=1){const _=a[c],z=a[g];if(n.equals(_))return!0;const y=new Et(_,z);if(y.containsPoint(e))return!0;if(s<=_.y&&s>z.y||s>_.y&&s<=z.y){const x=_.x-i>z.x-i?_.x-i:z.x-i;if(x>=0){const N=new Ce(i+x,s),V=new Et(e,N);y.intersectsWithLine(V)&&(u+=1)}}c=g}return u%2==1}intersectsWithLine(e){const n=[];for(let i=0,s=this.points.length-1;i<s;i+=1){const c=e.intersectsWithLine(new Et(this.points[i],this.points[i+1]));c&&n.push(c)}return n.length>0?n:null}isDifferentiable(){for(let e=0,n=this.points.length-1;e<n;e+=1)if(new Et(this.points[e],this.points[e+1]).isDifferentiable())return!0;return!1}length(){let e=0;for(let n=0,i=this.points.length-1;n<i;n+=1)e+=this.points[n].distance(this.points[n+1]);return e}pointAt(e){const n=this.points,i=n.length;if(0===i)return null;if(1===i||e<=0)return n[0].clone();if(e>=1)return n[i-1].clone();const a=this.length()*e;return this.pointAtLength(a)}pointAtLength(e){const n=this.points,i=n.length;if(0===i)return null;if(1===i)return n[0].clone();let s=!0;e<0&&(s=!1,e=-e);let a=0;for(let c=0,u=i-1;c<u;c+=1){const g=s?c:u-1-c,_=n[g],z=n[g+1],y=new Et(_,z),x=_.distance(z);if(e<=a+x)return y.pointAtLength((s?1:-1)*(e-a));a+=x}return(s?n[i-1]:n[0]).clone()}tangentAt(e){const i=this.points.length;if(0===i||1===i)return null;e<0&&(e=0),e>1&&(e=1);const a=this.length()*e;return this.tangentAtLength(a)}tangentAtLength(e){const n=this.points,i=n.length;if(0===i||1===i)return null;let s=!0;e<0&&(s=!1,e=-e);let a,l=0;for(let c=0,u=i-1;c<u;c+=1){const g=s?c:u-1-c,_=n[g],z=n[g+1],y=new Et(_,z),x=_.distance(z);if(y.isDifferentiable()){if(e<=l+x)return y.tangentAtLength((s?1:-1)*(e-l));a=y}l+=x}return a?a.tangentAt(s?1:0):null}simplify(e={}){const n=this.points;if(n.length<3)return this;const i=e.threshold||0;let s=0;for(;n[s+2];){const l=s+1,g=n[l];new Et(n[s],n[s+2]).closestPoint(g).distance(g)<=i?n.splice(l,1):s+=1}return this}toHull(){const e=this.points,n=e.length;if(0===n)return new Nn;let i=e[0];for(let y=1;y<n;y+=1)(e[y].y<i.y||e[y].y===i.y&&e[y].x>i.x)&&(i=e[y]);const s=[];for(let y=0;y<n;y+=1){let x=i.theta(e[y]);0===x&&(x=360),s.push([e[y],y,x])}s.sort((y,x)=>{let N=y[2]-x[2];return 0===N&&(N=x[1]-y[1]),N}),s.length>2&&s.unshift(s[s.length-1]);const a={},l=[],c=y=>`${y[0].toString()}@${y[1]}`;for(;0!==s.length;){const y=s.pop(),x=y[0];if(a[c(y)])continue;let N=!1;for(;!N;)if(l.length<2)l.push(y),N=!0;else{const V=l.pop(),U=V[0],te=l.pop(),ce=te[0],q=ce.cross(U,x);if(q<0)l.push(te),l.push(V),l.push(y),N=!0;else if(0===q){const Ne=U.angleBetween(ce,x);Math.abs(Ne-180)<1e-10||U.equals(x)||ce.equals(U)?(a[c(V)]=U,l.push(te)):Math.abs((Ne+1)%360-1)<1e-10&&(l.push(te),s.push(V))}else a[c(V)]=U,l.push(te)}}l.length>2&&l.pop();let u,g=-1;for(let y=0,x=l.length;y<x;y+=1){const N=l[y][1];(void 0===u||N<u)&&(u=N,g=y)}let _=[];if(g>0){const y=l.slice(g),x=l.slice(0,g);_=y.concat(x)}else _=l;const z=[];for(let y=0,x=_.length;y<x;y+=1)z.push(_[y][0]);return new Nn(z)}equals(e){return null!=e&&e.points.length===this.points.length&&e.points.every((n,i)=>n.equals(this.points[i]))}clone(){return new Nn(this.points.map(e=>e.clone()))}toJSON(){return this.points.map(e=>e.toJSON())}serialize(){return this.points.map(e=>`${e.serialize()}`).join(" ")}}(function(o){o.isPolyline=function e(n){return null!=n&&n instanceof o}})(Nn||(Nn={})),function(o){o.parse=function e(n){const i=n.trim();if(""===i)return new o;const s=[],a=i.split(/\s*,\s*|\s+/);for(let l=0,c=a.length;l<c;l+=2)s.push({x:+a[l],y:+a[l+1]});return new o(s)}}(Nn||(Nn={}));class Pn extends ms{constructor(e,n,i,s){super(),this.PRECISION=3,this.start=Ce.create(e),this.controlPoint1=Ce.create(n),this.controlPoint2=Ce.create(i),this.end=Ce.create(s)}bbox(){const e=this.start,n=this.controlPoint1,i=this.controlPoint2,s=this.end,a=e.x,l=e.y,c=n.x,u=n.y,g=i.x,_=i.y,z=s.x,y=s.y,x=[],N=[],V=[[],[]];let U,te,ce,q,we,Ne,Ke,gt;for(let Zt=0;Zt<2;Zt+=1)if(0===Zt?(te=6*a-12*c+6*g,U=-3*a+9*c-9*g+3*z,ce=3*c-3*a):(te=6*l-12*u+6*_,U=-3*l+9*u-9*_+3*y,ce=3*u-3*l),Math.abs(U)<1e-12){if(Math.abs(te)<1e-12)continue;q=-ce/te,q>0&&q<1&&N.push(q)}else Ke=te*te-4*ce*U,gt=Math.sqrt(Ke),!(Ke<0)&&(we=(-te+gt)/(2*U),we>0&&we<1&&N.push(we),Ne=(-te-gt)/(2*U),Ne>0&&Ne<1&&N.push(Ne));let yt,zt,Nt,Tt=N.length;const Bt=Tt;for(;Tt;)Tt-=1,q=N[Tt],Nt=1-q,yt=Nt*Nt*Nt*a+3*Nt*Nt*q*c+3*Nt*q*q*g+q*q*q*z,V[0][Tt]=yt,zt=Nt*Nt*Nt*l+3*Nt*Nt*q*u+3*Nt*q*q*_+q*q*q*y,V[1][Tt]=zt,x[Tt]={X:yt,Y:zt};N[Bt]=0,N[Bt+1]=1,x[Bt]={X:a,Y:l},x[Bt+1]={X:z,Y:y},V[0][Bt]=a,V[1][Bt]=l,V[0][Bt+1]=z,V[1][Bt+1]=y,N.length=Bt+2,V[0].length=Bt+2,V[1].length=Bt+2,x.length=Bt+2;const Tn=Math.min.apply(null,V[0]),cn=Math.min.apply(null,V[1]),it=Math.max.apply(null,V[0]),_t=Math.max.apply(null,V[1]);return new St(Tn,cn,it-Tn,_t-cn)}closestPoint(e,n={}){return this.pointAtT(this.closestPointT(e,n))}closestPointLength(e,n={}){const i=this.getOptions(n);return this.lengthAtT(this.closestPointT(e,i),i)}closestPointNormalizedLength(e,n={}){const i=this.getOptions(n),s=this.closestPointLength(e,i);if(!s)return 0;const a=this.length(i);return 0===a?0:s/a}closestPointT(e,n={}){const i=this.getPrecision(n),s=this.getDivisions(n),a=Math.pow(10,-i);let l=null,c=0,u=0,g=0,_=0,z=0,y=null;const x=s.length;let N=x>0?1/x:0;for(s.forEach((V,U)=>{const te=V.start.distance(e),ce=V.end.distance(e),q=te+ce;(null==y||q<y)&&(l=V,c=U*N,u=(U+1)*N,g=te,_=ce,y=q,z=V.endpointDistance())});;){const V=g?Math.abs(g-_)/g:0,U=null!=_?Math.abs(g-_)/_:0;if(V<a||U<a||!g||g<z*a||!_||_<z*a)return g<=_?c:u;const Ne=l.divide(.5);N/=2;const Ke=Ne[0].start.distance(e),gt=Ne[0].end.distance(e),yt=Ke+gt,zt=Ne[1].start.distance(e),Nt=Ne[1].end.distance(e);yt<=zt+Nt?(l=Ne[0],u-=N,g=Ke,_=gt):(l=Ne[1],c+=N,g=zt,_=Nt)}}closestPointTangent(e,n={}){return this.tangentAtT(this.closestPointT(e,n))}containsPoint(e,n={}){return this.toPolyline(n).containsPoint(e)}divideAt(e,n={}){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);const i=this.tAt(e,n);return this.divideAtT(i)}divideAtLength(e,n={}){const i=this.tAtLength(e,n);return this.divideAtT(i)}divide(e){return this.divideAtT(e)}divideAtT(e){const n=this.start,i=this.controlPoint1,s=this.controlPoint2,a=this.end;if(e<=0)return[new Pn(n,n,n,n),new Pn(n,i,s,a)];if(e>=1)return[new Pn(n,i,s,a),new Pn(a,a,a,a)];const l=this.getSkeletonPoints(e),g=l.divider,_=l.dividerControlPoint1,z=l.dividerControlPoint2;return[new Pn(n,l.startControlPoint1,l.startControlPoint2,g),new Pn(g,_,z,a)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(e){const n=this.start,i=this.controlPoint1,s=this.controlPoint2,a=this.end;if(e<=0)return{startControlPoint1:n.clone(),startControlPoint2:n.clone(),divider:n.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:s.clone()};if(e>=1)return{startControlPoint1:i.clone(),startControlPoint2:s.clone(),divider:a.clone(),dividerControlPoint1:a.clone(),dividerControlPoint2:a.clone()};const l=new Et(n,i).pointAt(e),c=new Et(i,s).pointAt(e),u=new Et(s,a).pointAt(e),g=new Et(l,c).pointAt(e),_=new Et(c,u).pointAt(e);return{startControlPoint1:l,startControlPoint2:g,divider:new Et(g,_).pointAt(e),dividerControlPoint1:_,dividerControlPoint2:u}}getSubdivisions(e={}){const n=this.getPrecision(e);let i=[new Pn(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===n)return i;let s=this.endpointDistance();const a=Math.pow(10,-n);let l=0;for(;;){l+=1;const c=[];i.forEach(_=>{const z=_.divide(.5);c.push(z[0],z[1])});const u=c.reduce((_,z)=>_+z.endpointDistance(),0);if(l>1&&(0!==u?(u-s)/u:0)<a)return c;i=c,s=u}}length(e={}){return this.getDivisions(e).reduce((i,s)=>i+s.endpointDistance(),0)}lengthAtT(e,n={}){if(e<=0)return 0;const i=void 0===n.precision?this.PRECISION:n.precision;return this.divide(e)[0].length({precision:i})}pointAt(e,n={}){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const i=this.tAt(e,n);return this.pointAtT(i)}pointAtLength(e,n={}){const i=this.tAtLength(e,n);return this.pointAtT(i)}pointAtT(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}isDifferentiable(){const n=this.controlPoint1,i=this.controlPoint2,s=this.end;return!(this.start.equals(n)&&n.equals(i)&&i.equals(s))}tangentAt(e,n={}){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);const i=this.tAt(e,n);return this.tangentAtT(i)}tangentAtLength(e,n={}){if(!this.isDifferentiable())return null;const i=this.tAtLength(e,n);return this.tangentAtT(i)}tangentAtT(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);const n=this.getSkeletonPoints(e),i=n.startControlPoint2,a=n.divider,l=new Et(i,n.dividerControlPoint1);return l.translate(a.x-i.x,a.y-i.y),l}getPrecision(e={}){return null==e.precision?this.PRECISION:e.precision}getDivisions(e={}){if(null!=e.subdivisions)return e.subdivisions;const n=this.getPrecision(e);return this.getSubdivisions({precision:n})}getOptions(e={}){return{precision:this.getPrecision(e),subdivisions:this.getDivisions(e)}}tAt(e,n={}){if(e<=0)return 0;if(e>=1)return 1;const i=this.getOptions(n),a=this.length(i)*e;return this.tAtLength(a,i)}tAtLength(e,n={}){let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(n),a=this.getDivisions(n),l={precision:s,subdivisions:a};let u,g,c=null,_=0,z=0,y=0;const x=a.length;let N=x>0?1/x:0;for(let te=0;te<x;te+=1){const ce=i?te:x-1-te,q=a[te],we=q.endpointDistance();if(e<=y+we){c=q,u=ce*N,g=(ce+1)*N,_=i?e-y:we+y-e,z=i?we+y-e:e-y;break}y+=we}if(null==c)return i?1:0;const V=this.length(l),U=Math.pow(10,-s);for(;;){let te,ce,q;if(te=0!==V?_/V:0,te<U)return u;if(te=0!==V?z/V:0,te<U)return g;const we=c.divide(.5);N/=2;const Ne=we[0].endpointDistance(),Ke=we[1].endpointDistance();_<=Ne?(c=we[0],g-=N,ce=_,q=Ne-ce):(c=we[1],u+=N,ce=_-Ne,q=Ke-ce),_=ce,z=q}}toPoints(e={}){const n=this.getDivisions(e),i=[n[0].start.clone()];return n.forEach(s=>i.push(s.end.clone())),i}toPolyline(e={}){return new Nn(this.toPoints(e))}scale(e,n,i){return this.start.scale(e,n,i),this.controlPoint1.scale(e,n,i),this.controlPoint2.scale(e,n,i),this.end.scale(e,n,i),this}rotate(e,n){return this.start.rotate(e,n),this.controlPoint1.rotate(e,n),this.controlPoint2.rotate(e,n),this.end.rotate(e,n),this}translate(e,n){return"number"==typeof e?(this.start.translate(e,n),this.controlPoint1.translate(e,n),this.controlPoint2.translate(e,n),this.end.translate(e,n)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return null!=e&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}clone(){return new Pn(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(o){o.isCurve=function e(n){return null!=n&&n instanceof o}})(Pn||(Pn={})),function(o){function e(s){const a=s.length,l=[],c=[];let u=2;l[0]=s[0]/u;for(let g=1;g<a;g+=1)c[g]=1/u,u=(g<a-1?4:3.5)-c[g],l[g]=(s[g]-l[g-1])/u;for(let g=1;g<a;g+=1)l[a-g-1]-=c[a-g]*l[a-g];return l}o.throughPoints=function i(s){if(null==s||Array.isArray(s)&&s.length<2)throw new Error("At least 2 points are required");const a=function n(s){const a=s.map(y=>Ce.clone(y)),l=[],c=[],u=a.length-1;if(1===u)return l[0]=new Ce((2*a[0].x+a[1].x)/3,(2*a[0].y+a[1].y)/3),c[0]=new Ce(2*l[0].x-a[0].x,2*l[0].y-a[0].y),[l,c];const g=[];for(let y=1;y<u-1;y+=1)g[y]=4*a[y].x+2*a[y+1].x;g[0]=a[0].x+2*a[1].x,g[u-1]=(8*a[u-1].x+a[u].x)/2;const _=e(g);for(let y=1;y<u-1;y+=1)g[y]=4*a[y].y+2*a[y+1].y;g[0]=a[0].y+2*a[1].y,g[u-1]=(8*a[u-1].y+a[u].y)/2;const z=e(g);for(let y=0;y<u;y+=1)l.push(new Ce(_[y],z[y])),c.push(y<u-1?new Ce(2*a[y+1].x-_[y+1],2*a[y+1].y-z[y+1]):new Ce((a[u].x+_[u-1])/2,(a[u].y+z[u-1])/2));return[l,c]}(s),l=[];for(let c=0,u=a[0].length;c<u;c+=1){const g=new Ce(a[0][c].x,a[0][c].y),_=new Ce(a[1][c].x,a[1][c].y);l.push(new o(s[c],g,_,s[c+1]))}return l}}(Pn||(Pn={}));class dc extends ms{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(null==this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(e,n){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(e,n){if(e<=0)return 0;const i=this.length();return e>=1?i:i*e}divideAtT(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class Jn extends dc{constructor(e,n){super(),this.endPoint=Et.isLine(e)?e.end.clone().round(2):Ce.create(e,n).round(2)}get type(){return"L"}get line(){return new Et(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const n=this.line.divideAt(e);return[new Jn(n[0]),new Jn(n[1])]}divideAtLength(e){const n=this.line.divideAtLength(e);return[new Jn(n[0]),new Jn(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return null!=this.previousSegment&&!this.start.equals(this.end)}clone(){return new Jn(this.end)}scale(e,n,i){return this.end.scale(e,n,i),this}rotate(e,n){return this.end.rotate(e,n),this}translate(e,n){return"number"==typeof e?this.end.translate(e,n):this.end.translate(e),this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}!function(o){o.create=function e(...n){const i=n.length,s=n[0];if(Et.isLine(s))return new o(s);if(Ce.isPointLike(s))return 1===i?new o(s):n.map(l=>new o(l));if(2===i)return new o(+n[0],+n[1]);const a=[];for(let l=0;l<i;l+=2)a.push(new o(+n[l],+n[l+1]));return a}}(Jn||(Jn={}));class Yo extends dc{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new Et(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const n=this.line.divideAt(e);return[n[1].isDifferentiable()?new Jn(n[0]):this.clone(),new Jn(n[1])]}divideAtLength(e){const n=this.line.divideAtLength(e);return[n[1].isDifferentiable()?new Jn(n[0]):this.clone(),new Jn(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))}scale(){return this}rotate(){return this}translate(){return this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}clone(){return new Yo}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}!function(o){o.create=function e(){return new o}}(Yo||(Yo={}));class Ko extends dc{constructor(e,n){super(),this.isVisible=!1,this.isSubpathStart=!0,this.endPoint=Et.isLine(e)||Pn.isCurve(e)?e.end.clone().round(2):Ce.create(e,n).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(e,n,i){return this.end.scale(e,n,i),this}rotate(e,n){return this.end.rotate(e,n),this}translate(e,n){return"number"==typeof e?this.end.translate(e,n):this.end.translate(e),this}clone(){return new Ko(this.end)}equals(e){return this.type===e.type&&this.end.equals(e.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}!function(o){o.create=function e(...n){const i=n.length,s=n[0];if(Et.isLine(s))return new o(s);if(Pn.isCurve(s))return new o(s);if(Ce.isPointLike(s)){if(1===i)return new o(s);const l=[];for(let c=0;c<i;c+=1)l.push(0===c?new o(n[c]):new Jn(n[c]));return l}if(2===i)return new o(+n[0],+n[1]);const a=[];for(let l=0;l<i;l+=2){const c=+n[l],u=+n[l+1];a.push(0===l?new o(c,u):new Jn(c,u))}return a}}(Ko||(Ko={}));class fi extends dc{constructor(e,n,i,s,a,l){super(),Pn.isCurve(e)?(this.controlPoint1=e.controlPoint1.clone().round(2),this.controlPoint2=e.controlPoint2.clone().round(2),this.endPoint=e.end.clone().round(2)):"number"==typeof e?(this.controlPoint1=new Ce(e,n).round(2),this.controlPoint2=new Ce(i,s).round(2),this.endPoint=new Ce(a,l).round(2)):(this.controlPoint1=Ce.create(e).round(2),this.controlPoint2=Ce.create(n).round(2),this.endPoint=Ce.create(i).round(2))}get type(){return"C"}get curve(){return new Pn(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(e){return this.curve.closestPoint(e)}closestPointLength(e){return this.curve.closestPointLength(e)}closestPointNormalizedLength(e){return this.curve.closestPointNormalizedLength(e)}closestPointTangent(e){return this.curve.closestPointTangent(e)}length(){return this.curve.length()}divideAt(e,n={}){const i=this.curve.divideAt(e,n);return[new fi(i[0]),new fi(i[1])]}divideAtLength(e,n={}){const i=this.curve.divideAtLength(e,n);return[new fi(i[0]),new fi(i[1])]}divideAtT(e){const n=this.curve.divideAtT(e);return[new fi(n[0]),new fi(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.curve.pointAt(e)}pointAtLength(e){return this.curve.pointAtLength(e)}tangentAt(e){return this.curve.tangentAt(e)}tangentAtLength(e){return this.curve.tangentAtLength(e)}isDifferentiable(){if(!this.previousSegment)return!1;const n=this.controlPoint1,i=this.controlPoint2,s=this.end;return!(this.start.equals(n)&&n.equals(i)&&i.equals(s))}scale(e,n,i){return this.controlPoint1.scale(e,n,i),this.controlPoint2.scale(e,n,i),this.end.scale(e,n,i),this}rotate(e,n){return this.controlPoint1.rotate(e,n),this.controlPoint2.rotate(e,n),this.end.rotate(e,n),this}translate(e,n){return"number"==typeof e?(this.controlPoint1.translate(e,n),this.controlPoint2.translate(e,n),this.end.translate(e,n)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}clone(){return new fi(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.controlPoint1,n=this.controlPoint2,i=this.end;return[this.type,e.x,e.y,n.x,n.y,i.x,i.y].join(" ")}}function uc(o,e,n){return{x:o*Math.cos(n)-e*Math.sin(n),y:o*Math.sin(n)+e*Math.cos(n)}}function fm(o,e,n,i,s,a){const l=.3333333333333333,c=2/3;return[l*o+c*n,l*e+c*i,l*s+c*n,l*a+c*i,s,a]}function gm(o,e,n,i,s,a,l,c,u,g){const _=120*Math.PI/180,z=Math.PI/180*(+s||0);let x,N,V,U,te,y=[];if(g)N=g[0],V=g[1],U=g[2],te=g[3];else{x=uc(o,e,-z),o=x.x,e=x.y,x=uc(c,u,-z);const cn=(o-(c=x.x))/2,it=(e-(u=x.y))/2;let _t=cn*cn/(n*n)+it*it/(i*i);_t>1&&(_t=Math.sqrt(_t),n*=_t,i*=_t);const Zt=n*n,On=i*i,Dn=(a===l?-1:1)*Math.sqrt(Math.abs((Zt*On-Zt*it*it-On*cn*cn)/(Zt*it*it+On*cn*cn)));U=Dn*n*it/i+(o+c)/2,te=Dn*-i*cn/n+(e+u)/2,N=Math.asin((e-te)/i),V=Math.asin((u-te)/i),N=o<U?Math.PI-N:N,V=c<U?Math.PI-V:V,N<0&&(N=2*Math.PI+N),V<0&&(V=2*Math.PI+V),l&&N>V&&(N-=2*Math.PI),!l&&V>N&&(V-=2*Math.PI)}let ce=V-N;if(Math.abs(ce)>_){const cn=V,it=c,_t=u;V=N+_*(l&&V>N?1:-1),y=gm(c=U+n*Math.cos(V),u=te+i*Math.sin(V),n,i,s,0,l,it,_t,[V,cn,U,te])}ce=V-N;const q=Math.cos(N),we=Math.sin(N),Ne=Math.cos(V),Ke=Math.sin(V),gt=Math.tan(ce/4),yt=4/3*(n*gt),zt=4/3*(i*gt),Nt=[o,e],Tt=[o+yt*we,e-zt*q],Bt=[c+yt*Ke,u-zt*Ne],Tn=[c,u];if(Tt[0]=2*Nt[0]-Tt[0],Tt[1]=2*Nt[1]-Tt[1],g)return[Tt,Bt,Tn].concat(y);{y=[Tt,Bt,Tn].concat(y).join().split(",");const cn=[],it=y.length;for(let _t=0;_t<it;_t+=1)cn[_t]=_t%2?uc(+y[_t-1],+y[_t],z).y:uc(+y[_t],+y[_t+1],z).x;return cn}}function Kz(o){const e=function Yz(o){const e=function Wz(o){if(!o)return null;const e="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",n=new RegExp(`([a-z])[${e},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${e}]*,?[${e}]*)+)`,"ig"),i=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${e}]*,?[${e}]*`,"ig"),s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=[];return o.replace(n,(l,c,u)=>{const g=[];let _=c.toLowerCase();u.replace(i,(y,x)=>(x&&g.push(+x),y)),"m"===_&&g.length>2&&(a.push([c,...g.splice(0,2)]),_="l",c="m"===c?"l":"L");const z=s[_];for(;g.length>=z&&(a.push([c,...g.splice(0,z)]),z););return l}),a}(o);if(!e||!e.length)return[["M",0,0]];let n=0,i=0,s=0,a=0;const l=[];for(let c=0,u=e.length;c<u;c+=1){const g=[];l.push(g);const _=e[c],z=_[0];if(z!==z.toUpperCase())switch(g[0]=z.toUpperCase(),g[0]){case"A":g[1]=_[1],g[2]=_[2],g[3]=_[3],g[4]=_[4],g[5]=_[5],g[6]=+_[6]+n,g[7]=+_[7]+i;break;case"V":g[1]=+_[1]+i;break;case"H":g[1]=+_[1]+n;break;case"M":s=+_[1]+n,a=+_[2]+i;for(let y=1,x=_.length;y<x;y+=1)g[y]=+_[y]+(y%2?n:i);break;default:for(let y=1,x=_.length;y<x;y+=1)g[y]=+_[y]+(y%2?n:i)}else for(let y=0,x=_.length;y<x;y+=1)g[y]=_[y];switch(g[0]){case"Z":n=+s,i=+a;break;case"H":n=g[1];break;case"V":i=g[1];break;case"M":s=g[g.length-2],a=g[g.length-1],n=g[g.length-2],i=g[g.length-1];break;default:n=g[g.length-2],i=g[g.length-1]}}return l}(o),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function i(u,g,_){let z,y;if(!u)return["C",g.x,g.y,g.x,g.y,g.x,g.y];switch(u[0]in{T:1,Q:1}||(g.qx=null,g.qy=null),u[0]){case"M":g.X=u[1],g.Y=u[2];break;case"A":return 0===parseFloat(u[1])||0===parseFloat(u[2])?["L",u[6],u[7]]:["C"].concat(gm.apply(0,[g.x,g.y].concat(u.slice(1))));case"S":return"C"===_||"S"===_?(z=2*g.x-g.bx,y=2*g.y-g.by):(z=g.x,y=g.y),["C",z,y].concat(u.slice(1));case"T":return"Q"===_||"T"===_?(g.qx=2*g.x-g.qx,g.qy=2*g.y-g.qy):(g.qx=g.x,g.qy=g.y),["C"].concat(fm(g.x,g.y,g.qx,g.qy,u[1],u[2]));case"Q":return g.qx=u[1],g.qy=u[2],["C"].concat(fm(g.x,g.y,u[1],u[2],u[3],u[4]));case"H":return["L"].concat(u[1],g.y);case"V":return["L"].concat(g.x,u[1])}return u}function s(u,g){if(u[g].length>7){u[g].shift();const _=u[g];for(;_.length;)a[g]="A",u.splice(g+=1,0,["C"].concat(_.splice(0,6)));u.splice(g,1),c=e.length}}const a=[];let l="",c=e.length;for(let u=0;u<c;u+=1){let g="";e[u]&&(g=e[u][0]),"C"!==g&&(a[u]=g,u>0&&(l=a[u-1])),e[u]=i(e[u],n,l),"A"!==a[u]&&"C"===g&&(a[u]="C"),s(e,u);const _=e[u],z=_.length;n.x=_[z-2],n.y=_[z-1],n.bx=parseFloat(_[z-4])||n.x,n.by=parseFloat(_[z-3])||n.y}return(!e[0][0]||"M"!==e[0][0])&&e.unshift(["M",0,0]),e}function Qz(o){return Kz(o).map(e=>e.map(n=>"string"==typeof n?n:vn.round(n,2))).join(",").split(",").join(" ")}!function(o){o.create=function e(...n){const i=n.length,s=n[0];if(Pn.isCurve(s))return new o(s);if(Ce.isPointLike(s)){if(3===i)return new o(n[0],n[1],n[2]);const l=[];for(let c=0;c<i;c+=3)l.push(new o(n[c],n[c+1],n[c+2]));return l}if(6===i)return new o(n[0],n[1],n[2],n[3],n[4],n[5]);const a=[];for(let l=0;l<i;l+=6)a.push(new o(n[l],n[l+1],n[l+2],n[l+3],n[l+4],n[l+5]));return a}}(fi||(fi={}));class jt extends ms{constructor(e){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(e))if(Et.isLine(e[0])||Pn.isCurve(e[0])){let n=null;e.forEach((s,a)=>{0===a&&this.appendSegment(jt.createSegment("M",s.start)),null!=n&&!n.end.equals(s.start)&&this.appendSegment(jt.createSegment("M",s.start)),Et.isLine(s)?this.appendSegment(jt.createSegment("L",s.end)):Pn.isCurve(s)&&this.appendSegment(jt.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),n=s})}else e.forEach(i=>{i.isSegment&&this.appendSegment(i)});else null!=e&&(Et.isLine(e)?(this.appendSegment(jt.createSegment("M",e.start)),this.appendSegment(jt.createSegment("L",e.end))):Pn.isCurve(e)?(this.appendSegment(jt.createSegment("M",e.start)),this.appendSegment(jt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):Nn.isPolyline(e)?e.points&&e.points.length&&e.points.forEach((n,i)=>{const s=jt.createSegment(0===i?"M":"L",n);this.appendSegment(s)}):e.isSegment&&this.appendSegment(e))}get start(){const e=this.segments,n=e.length;if(0===n)return null;for(let i=0;i<n;i+=1){const s=e[i];if(s.isVisible)return s.start}return e[n-1].end}get end(){const e=this.segments,n=e.length;if(0===n)return null;for(let i=n-1;i>=0;i-=1){const s=e[i];if(s.isVisible)return s.end}return e[n-1].end}moveTo(...e){return this.appendSegment(Ko.create.call(null,...e))}lineTo(...e){return this.appendSegment(Jn.create.call(null,...e))}curveTo(...e){return this.appendSegment(fi.create.call(null,...e))}arcTo(e,n,i,s,a,l,c){const u=this.end||new Ce,g="number"==typeof l?hc(u.x,u.y,e,n,i,s,a,l,c):hc(u.x,u.y,e,n,i,s,a,l.x,l.y);if(null!=g)for(let _=0,z=g.length;_<z;_+=6)this.curveTo(g[_],g[_+1],g[_+2],g[_+3],g[_+4],g[_+5]);return this}quadTo(e,n,i,s){const a=this.end||new Ce,l=["M",a.x,a.y];"number"==typeof e?l.push("Q",e,n,i,s):l.push("Q",e.x,e.y,n.x,n.y);const c=jt.parse(l.join(" "));return this.appendSegment(c.segments.slice(1)),this}close(){return this.appendSegment(Yo.create())}drawPoints(e,n={}){const i=pm(e,n),s=jt.parse(i);s&&s.segments&&this.appendSegment(s.segments)}bbox(){const e=this.segments,n=e.length;if(0===n)return null;let i;for(let a=0;a<n;a+=1){const l=e[a];if(l.isVisible){const c=l.bbox();null!=c&&(i=i?i.union(c):c)}}if(null!=i)return i;const s=e[n-1];return new St(s.end.x,s.end.y,0,0)}appendSegment(e){const n=this.segments.length;let s,i=0!==n?this.segments[n-1]:null;if(Array.isArray(e))for(let l=0,c=e.length;l<c;l+=1)s=this.prepareSegment(e[l],i,null),this.segments.push(s),i=s;else null!=e&&e.isSegment&&(s=this.prepareSegment(e,i,null),this.segments.push(s));return this}insertSegment(e,n){const i=this.segments.length;if(e<0&&(e=i+e+1),e>i||e<0)throw new Error("Index out of range.");let s,a=null,l=null;if(0!==i&&(e>=1?(a=this.segments[e-1],l=a.nextSegment):(a=null,l=this.segments[0])),Array.isArray(n))for(let c=0,u=n.length;c<u;c+=1)s=this.prepareSegment(n[c],a,l),this.segments.splice(e+c,0,s),a=s;else s=this.prepareSegment(n,a,l),this.segments.splice(e,0,s);return this}removeSegment(e){const n=this.fixIndex(e),i=this.segments.splice(n,1)[0],s=i.previousSegment,a=i.nextSegment;return s&&(s.nextSegment=a),a&&(a.previousSegment=s),i.isSubpathStart&&a&&this.updateSubpathStartSegment(a),i}replaceSegment(e,n){const i=this.fixIndex(e);let s;const a=this.segments[i];let l=a.previousSegment;const c=a.nextSegment;let u=a.isSubpathStart;if(Array.isArray(n)){this.segments.splice(e,1);for(let g=0,_=n.length;g<_;g+=1)s=this.prepareSegment(n[g],l,c),this.segments.splice(e+g,0,s),l=s,u&&s.isSubpathStart&&(u=!1)}else s=this.prepareSegment(n,l,c),this.segments.splice(i,1,s),u&&s.isSubpathStart&&(u=!1);u&&c&&this.updateSubpathStartSegment(c)}getSegment(e){const n=this.fixIndex(e);return this.segments[n]}fixIndex(e){const n=this.segments.length;if(0===n)throw new Error("Path has no segments.");let i=e;for(;i<0;)i=n+i;if(i>=n||i<0)throw new Error("Index out of range.");return i}segmentAt(e,n={}){const i=this.segmentIndexAt(e,n);return i?this.getSegment(i):null}segmentAtLength(e,n={}){const i=this.segmentIndexAtLength(e,n);return i?this.getSegment(i):null}segmentIndexAt(e,n={}){if(0===this.segments.length)return null;const i=vn.clamp(e,0,1),s=this.getOptions(n),l=this.length(s)*i;return this.segmentIndexAtLength(l,s)}segmentIndexAtLength(e,n={}){const i=this.segments.length;if(0===i)return null;let s=!0;e<0&&(s=!1,e=-e);const a=this.getPrecision(n),l=this.getSubdivisions(n);let c=0,u=null;for(let g=0;g<i;g+=1){const _=s?g:i-1-g,z=this.segments[_],x=z.length({precision:a,subdivisions:l[_]});if(z.isVisible){if(e<=c+x)return _;u=_}c+=x}return u}getSegmentSubdivisions(e={}){const n=this.getPrecision(e),i=[];for(let s=0,a=this.segments.length;s<a;s+=1){const c=this.segments[s].getSubdivisions({precision:n});i.push(c)}return i}updateSubpathStartSegment(e){let n=e.previousSegment,i=e;for(;i&&!i.isSubpathStart;)i.subpathStartSegment=null!=n?n.subpathStartSegment:null,n=i,i=i.nextSegment}prepareSegment(e,n,i){e.previousSegment=n,e.nextSegment=i,null!=n&&(n.nextSegment=e),null!=i&&(i.previousSegment=e);let s=e;return e.isSubpathStart&&(e.subpathStartSegment=e,s=i),null!=s&&this.updateSubpathStartSegment(s),e}closestPoint(e,n={}){const i=this.closestPointT(e,n);return i?this.pointAtT(i):null}closestPointLength(e,n={}){const i=this.getOptions(n),s=this.closestPointT(e,i);return s?this.lengthAtT(s,i):0}closestPointNormalizedLength(e,n={}){const i=this.getOptions(n),s=this.closestPointLength(e,i);if(0===s)return 0;const a=this.length(i);return 0===a?0:s/a}closestPointT(e,n={}){if(0===this.segments.length)return null;const i=this.getPrecision(n),s=this.getSubdivisions(n);let a,l=1/0;for(let c=0,u=this.segments.length;c<u;c+=1){const g=this.segments[c];if(g.isVisible){const z=g.closestPointT(e,{precision:i,subdivisions:s[c]}),y=g.pointAtT(z),x=vn.squaredLength(y,e);x<l&&(a={segmentIndex:c,value:z},l=x)}}return a||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(e,n={}){if(0===this.segments.length)return null;const i=this.getPrecision(n),s=this.getSubdivisions(n);let a,l=1/0;for(let c=0,u=this.segments.length;c<u;c+=1){const g=this.segments[c],_=s[c];if(g.isDifferentiable()){const z=g.closestPointT(e,{precision:i,subdivisions:_}),y=g.pointAtT(z),x=vn.squaredLength(y,e);x<l&&(a=g.tangentAtT(z),l=x)}}return a||null}containsPoint(e,n={}){const i=this.toPolylines(n);if(!i)return!1;let s=0;for(let a=0,l=i.length;a<l;a+=1)i[a].containsPoint(e)&&(s+=1);return s%2==1}pointAt(e,n={}){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const i=this.getOptions(n),a=this.length(i)*e;return this.pointAtLength(a,i)}pointAtLength(e,n={}){if(0===this.segments.length)return null;if(0===e)return this.start.clone();let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(n),a=this.getSubdivisions(n);let l,c=0;for(let g=0,_=this.segments.length;g<_;g+=1){const z=i?g:_-1-g,y=this.segments[z],x=a[z],N=y.length({precision:s,subdivisions:x});if(y.isVisible){if(e<=c+N)return y.pointAtLength((i?1:-1)*(e-c),{precision:s,subdivisions:x});l=y}c+=N}return l?i?l.end:l.start:this.segments[this.segments.length-1].end.clone()}pointAtT(e){const n=this.segments,i=n.length;if(0===i)return null;const s=e.segmentIndex;if(s<0)return n[0].pointAtT(0);if(s>=i)return n[i-1].pointAtT(1);const a=vn.clamp(e.value,0,1);return n[s].pointAtT(a)}divideAt(e,n={}){if(0===this.segments.length)return null;const i=vn.clamp(e,0,1),s=this.getOptions(n),l=this.length(s)*i;return this.divideAtLength(l,s)}divideAtLength(e,n={}){if(0===this.segments.length)return null;let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(n),a=this.getSubdivisions(n);let c,u,g,_,z,l=0;for(let Ne=0,Ke=this.segments.length;Ne<Ke;Ne+=1){const gt=i?Ne:Ke-1-Ne,yt=this.getSegment(gt),Nt={precision:s,subdivisions:a[gt]},Tt=yt.length(Nt);if(yt.isDifferentiable()&&(g=yt,_=gt,e<=l+Tt)){u=gt,c=yt.divideAtLength((i?1:-1)*(e-l),Nt);break}l+=Tt}if(!g)return null;c||(u=_,z=i?1:0,c=g.divideAtT(z));const y=this.clone(),x=u;y.replaceSegment(x,c);const N=x;let V=x+1,U=x+2;c[0].isDifferentiable()||(y.removeSegment(N),V-=1,U-=1);const te=y.getSegment(V).start;y.insertSegment(V,jt.createSegment("M",te)),U+=1,c[1].isDifferentiable()||(y.removeSegment(U-1),U-=1);const ce=U-N-1;for(let Ne=U,Ke=y.segments.length;Ne<Ke;Ne+=1){const gt=this.getSegment(Ne-ce),yt=y.getSegment(Ne);if("Z"===yt.type&&!gt.subpathStartSegment.end.equals(yt.subpathStartSegment.end)){const zt=jt.createSegment("L",gt.end);y.replaceSegment(Ne,zt)}}return[new jt(y.segments.slice(0,V)),new jt(y.segments.slice(V))]}intersectsWithLine(e,n={}){const i=this.toPolylines(n);if(null==i)return null;let s=null;for(let a=0,l=i.length;a<l;a+=1){const u=e.intersect(i[a]);u&&(null==s&&(s=[]),Array.isArray(u)?s.push(...u):s.push(u))}return s}isDifferentiable(){for(let e=0,n=this.segments.length;e<n;e+=1)if(this.segments[e].isDifferentiable())return!0;return!1}isValid(){const e=this.segments;return 0===e.length||"M"===e[0].type}length(e={}){if(0===this.segments.length)return 0;const n=this.getSubdivisions(e);let i=0;for(let s=0,a=this.segments.length;s<a;s+=1)i+=this.segments[s].length({subdivisions:n[s]});return i}lengthAtT(e,n={}){const i=this.segments.length;if(0===i)return 0;let s=e.segmentIndex;if(s<0)return 0;let a=vn.clamp(e.value,0,1);s>=i&&(s=i-1,a=1);const l=this.getPrecision(n),c=this.getSubdivisions(n);let u=0;for(let z=0;z<s;z+=1)u+=this.segments[z].length({precision:l,subdivisions:c[z]});return u+=this.segments[s].lengthAtT(a,{precision:l,subdivisions:c[s]}),u}tangentAt(e,n={}){if(0===this.segments.length)return null;const i=vn.clamp(e,0,1),s=this.getOptions(n),l=this.length(s)*i;return this.tangentAtLength(l,s)}tangentAtLength(e,n={}){if(0===this.segments.length)return null;let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(n),a=this.getSubdivisions(n);let l,c=0;for(let u=0,g=this.segments.length;u<g;u+=1){const _=i?u:g-1-u,z=this.segments[_],y=a[_],x=z.length({precision:s,subdivisions:y});if(z.isDifferentiable()){if(e<=c+x)return z.tangentAtLength((i?1:-1)*(e-c),{precision:s,subdivisions:y});l=z}c+=x}return l?l.tangentAtT(i?1:0):null}tangentAtT(e){const n=this.segments.length;if(0===n)return null;const i=e.segmentIndex;if(i<0)return this.segments[0].tangentAtT(0);if(i>=n)return this.segments[n-1].tangentAtT(1);const s=vn.clamp(e.value,0,1);return this.segments[i].tangentAtT(s)}getPrecision(e={}){return null==e.precision?this.PRECISION:e.precision}getSubdivisions(e={}){if(null==e.segmentSubdivisions){const n=this.getPrecision(e);return this.getSegmentSubdivisions({precision:n})}return e.segmentSubdivisions}getOptions(e={}){return{precision:this.getPrecision(e),segmentSubdivisions:this.getSubdivisions(e)}}toPoints(e={}){const n=this.segments,i=n.length;if(0===i)return null;const s=this.getSubdivisions(e),a=[];let l=[];for(let c=0;c<i;c+=1){const u=n[c];if(u.isVisible){const g=s[c];g.length>0?g.forEach(_=>l.push(_.start)):l.push(u.start)}else l.length>0&&(l.push(n[c-1].end),a.push(l),l=[])}return l.length>0&&(l.push(this.end),a.push(l)),a}toPolylines(e={}){const n=this.toPoints(e);return n?n.map(i=>new Nn(i)):null}scale(e,n,i){return this.segments.forEach(s=>s.scale(e,n,i)),this}rotate(e,n){return this.segments.forEach(i=>i.rotate(e,n)),this}translate(e,n){return this.segments.forEach("number"==typeof e?i=>i.translate(e,n):i=>i.translate(e)),this}clone(){const e=new jt;return this.segments.forEach(n=>e.appendSegment(n.clone())),e}equals(e){if(null==e)return!1;const n=this.segments,i=e.segments,s=n.length;if(i.length!==s)return!1;for(let a=0;a<s;a+=1){const l=n[a],c=i[a];if(l.type!==c.type||!l.equals(c))return!1}return!0}toJSON(){return this.segments.map(e=>e.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(e=>e.serialize()).join(" ")}toString(){return this.serialize()}}(function(o){o.isPath=function e(n){return null!=n&&n instanceof o}})(jt||(jt={})),function(o){function n(i,...s){if("M"===i)return Ko.create.call(null,...s);if("L"===i)return Jn.create.call(null,...s);if("C"===i)return fi.create.call(null,...s);if("z"===i||"Z"===i)return Yo.create();throw new Error(`Invalid path segment type "${i}"`)}o.parse=function e(i){if(!i)return new o;const s=new o,l=o.normalize(i).match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g);if(null!=l)for(let c=0,u=l.length;c<u;c+=1){const z=l[c].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g);if(null!=z){const y=z[0],x=z.slice(1).map(V=>+V),N=n.call(null,y,...x);s.appendSegment(N)}}return s},o.createSegment=n}(jt||(jt={})),function(o){o.normalize=Qz,o.isValid=Hz,o.drawArc=Xz,o.drawPoints=pm,o.arcToCurves=hc}(jt||(jt={}));class In{constructor(e){this.options=Object.assign({},e),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(e,n,i=!1){if("object"==typeof e)return void Object.entries(e).forEach(([l,c])=>{this.register(l,c,n)});this.exist(e)&&!i&&!fs.isApplyingHMR()&&this.onDuplicated(e);const s=this.options.process,a=s?Ot(s,this,e,n):n;return this.data[e]=a,a}unregister(e){const n=e?this.data[e]:null;return delete this.data[e],n}get(e){return e?this.data[e]:null}exist(e){return!!e&&null!=this.data[e]}onDuplicated(e){try{throw this.options.onConflict&&Ot(this.options.onConflict,this,e),new Error(`${fa(this.options.type)} with name '${e}' already registered.`)}catch(n){throw n}}onNotFound(e,n){throw new Error(this.getSpellingSuggestion(e,n))}getSpellingSuggestion(e,n){const i=this.getSpellingSuggestionForName(e),s=n?`${n} ${oz(this.options.type)}`:this.options.type;return`${fa(s)} with name '${e}' does not exist.${i?` Did you mean '${i}'?`:""}`}getSpellingSuggestionForName(e){return function rz(o,e,n){const i=Math.min(2,Math.floor(.34*o.length));let a,s=Math.floor(.4*o.length)+1,l=!1;const c=o.toLowerCase();for(const u of e){const g=n(u);if(void 0!==g&&Math.abs(g.length-c.length)<=i){const _=g.toLowerCase();if(_===c){if(g===o)continue;return u}if(l||g.length<3)continue;const z=az(c,_,s-1);if(void 0===z)continue;z<3?(l=!0,a=u):(s=z,a=u)}}return a}(e,Object.keys(this.data),n=>n)}}!function(o){o.create=function e(n){return new o(n)}}(In||(In={}));const Zz={color:"#aaaaaa",thickness:1,markup:"rect",update(o,e){const n=e.thickness*e.sx,i=e.thickness*e.sy;mn(o,{width:n,height:i,rx:n,ry:i,fill:e.color})}},Jz={color:"#aaaaaa",thickness:1,markup:"rect",update(o,e){const n=e.sx<=1?e.thickness*e.sx:e.thickness;mn(o,{width:n,height:n,rx:n,ry:n,fill:e.color})}},qz={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(o,e){let n;const i=e.width,s=e.height,a=e.thickness;n=i-a>=0&&s-a>=0?["M",i,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",mn(o,{d:n,stroke:e.color,"stroke-width":e.thickness})}},eb=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(o,e){let n;const i=e.width,s=e.height,a=e.thickness;n=i-a>=0&&s-a>=0?["M",i,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",mn(o,{d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(o,e){let n;const i=e.factor||1,s=e.width*i,a=e.height*i,l=e.thickness;n=s-l>=0&&a-l>=0?["M",s,0,"H0 M0 0 V0",a].join(" "):"M 0 0 0 0",e.width=s,e.height=a,mn(o,{d:n,stroke:e.color,"stroke-width":e.thickness})}}];class _s{constructor(){this.patterns={},this.root=Qt.create(ma(),{width:"100%",height:"100%"},[pi("defs")]).node}add(e,n){const i=this.root.childNodes[0];i&&i.appendChild(n),this.patterns[e]=n,Qt.create("rect",{width:"100%",height:"100%",fill:`url(#${e})`}).appendTo(this.root)}get(e){return this.patterns[e]}has(e){return null!=this.patterns[e]}}!function(o){o.presets=be,o.registry=In.create({type:"grid"}),o.registry.register(o.presets,!0)}(_s||(_s={}));const mm=function(o){const e=document.createElement("canvas"),n=o.width,i=o.height;e.width=2*n,e.height=i;const s=e.getContext("2d");return s.drawImage(o,0,0,n,i),s.translate(2*n,0),s.scale(-1,1),s.drawImage(o,0,0,n,i),e},_m=function(o){const e=document.createElement("canvas"),n=o.width,i=o.height;e.width=n,e.height=2*i;const s=e.getContext("2d");return s.drawImage(o,0,0,n,i),s.translate(0,2*i),s.scale(1,-1),s.drawImage(o,0,0,n,i),e},vm=function(o){const e=document.createElement("canvas"),n=o.width,i=o.height;e.width=2*n,e.height=2*i;const s=e.getContext("2d");return s.drawImage(o,0,0,n,i),s.setTransform(-1,0,0,-1,e.width,e.height),s.drawImage(o,0,0,n,i),s.setTransform(-1,0,0,1,e.width,0),s.drawImage(o,0,0,n,i),s.setTransform(1,0,0,-1,0,e.height),s.drawImage(o,0,0,n,i),e},tb=function(o,e){const n=o.width,i=o.height,s=document.createElement("canvas");s.width=3*n,s.height=3*i;const a=s.getContext("2d"),c=_n.toRad(null!=e.angle?-e.angle:-20),u=s.width/4,g=s.height/4;for(let _=0;_<4;_+=1)for(let z=0;z<4;z+=1)(_+z)%2>0&&(a.setTransform(1,0,0,1,(2*_-1)*u,(2*z-1)*g),a.rotate(c),a.drawImage(o,-n/2,-i/2,n,i));return s};var Oa,Qo;function Ap(o,e){return o??e}function Un(o,e){return null!=o&&Number.isFinite(o)?o:e}function nb(o={}){const e=Ap(o.color,"blue"),n=Un(o.width,1),i=Un(o.margin,2);return`\n    <filter>\n      <feFlood flood-color="${e}" flood-opacity="${Un(o.opacity,1)}" result="colored"/>\n      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${i+n}" />\n      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${i}" />\n      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>\n      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>\n      <feMerge>\n        <feMergeNode in="outline"/>\n        <feMergeNode in="SourceGraphic"/>\n      </feMerge>\n    </filter>\n  `.trim()}function ib(o={}){const e=Ap(o.color,"red"),n=Un(o.blur,0),i=Un(o.width,1);return`\n      <filter>\n        <feFlood flood-color="${e}" flood-opacity="${Un(o.opacity,1)}" result="colored"/>\n        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${i}"/>\n        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>\n        <feGaussianBlur result="blured" in="composed" stdDeviation="${n}"/>\n        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>\n      </filter>\n    `.trim()}function sb(o={}){const e=Un(o.x,2);return`\n    <filter>\n      <feGaussianBlur stdDeviation="${null!=o.y&&Number.isFinite(o.y)?[e,o.y]:e}"/>\n    </filter>\n  `.trim()}function ob(o={}){const e=Un(o.dx,0),n=Un(o.dy,0),i=Ap(o.color,"black"),s=Un(o.blur,4),a=Un(o.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>\n         <feDropShadow stdDeviation="${s}" dx="${e}" dy="${n}" flood-color="${i}" flood-opacity="${a}" />\n       </filter>`.trim():`<filter>\n         <feGaussianBlur in="SourceAlpha" stdDeviation="${s}" />\n         <feOffset dx="${e}" dy="${n}" result="offsetblur" />\n         <feFlood flood-color="${i}" />\n         <feComposite in2="offsetblur" operator="in" />\n         <feComponentTransfer>\n           <feFuncA type="linear" slope="${a}" />\n         </feComponentTransfer>\n         <feMerge>\n           <feMergeNode/>\n           <feMergeNode in="SourceGraphic"/>\n         </feMerge>\n       </filter>`.trim()}function rb(o={}){const e=Un(o.amount,1),i=.7152-.7152*(1-e);return`\n    <filter>\n      <feColorMatrix type="matrix" values="${.2126+.7874*(1-e)} ${i} ${.0722-.0722*(1-e)} 0 0 ${.2126-.2126*(1-e)} ${.7152+.2848*(1-e)} ${.0722-.0722*(1-e)} 0 0 ${.2126-.2126*(1-e)} ${i} ${.0722+.9278*(1-e)} 0 0 0 0 0 1 0"/>\n    </filter>\n  `.trim()}function ab(o={}){const e=Un(o.amount,1);return`\n      <filter>\n        <feColorMatrix type="matrix" values="${.393+.607*(1-e)} ${.769-.769*(1-e)} ${.189-.189*(1-e)} 0 0 ${.349-.349*(1-e)} ${.686+.314*(1-e)} ${.168-.168*(1-e)} 0 0 ${.272-.272*(1-e)} ${.534-.534*(1-e)} ${.131+.869*(1-e)} 0 0 0 0 0 1 0"/>\n      </filter>\n    `.trim()}function lb(o={}){return`\n      <filter>\n        <feColorMatrix type="saturate" values="${1-Un(o.amount,1)}"/>\n      </filter>\n    `.trim()}function cb(o={}){return`\n      <filter>\n        <feColorMatrix type="hueRotate" values="${Un(o.angle,0)}"/>\n      </filter>\n    `.trim()}function hb(o={}){const e=Un(o.amount,1),n=1-e;return`\n      <filter>\n        <feComponentTransfer>\n          <feFuncR type="table" tableValues="${e} ${n}"/>\n          <feFuncG type="table" tableValues="${e} ${n}"/>\n          <feFuncB type="table" tableValues="${e} ${n}"/>\n        </feComponentTransfer>\n      </filter>\n    `.trim()}function db(o={}){const e=Un(o.amount,1);return`\n    <filter>\n      <feComponentTransfer>\n        <feFuncR type="linear" slope="${e}"/>\n        <feFuncG type="linear" slope="${e}"/>\n        <feFuncB type="linear" slope="${e}"/>\n      </feComponentTransfer>\n    </filter>\n  `.trim()}function ub(o={}){const e=Un(o.amount,1),n=.5-e/2;return`\n    <filter>\n     <feComponentTransfer>\n        <feFuncR type="linear" slope="${e}" intercept="${n}"/>\n        <feFuncG type="linear" slope="${e}" intercept="${n}"/>\n        <feFuncB type="linear" slope="${e}" intercept="${n}"/>\n      </feComponentTransfer>\n    </filter>\n  `.trim()}!function(o){o.presets=Object.assign({},re),o.presets["flip-x"]=mm,o.presets["flip-y"]=_m,o.presets["flip-xy"]=vm,o.registry=In.create({type:"background pattern"}),o.registry.register(o.presets,!0)}(Oa||(Oa={})),function(o){o.presets=ue,o.registry=In.create({type:"filter"}),o.registry.register(o.presets,!0)}(Qo||(Qo={}));const pb={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},fb={},Cm={position:pc("x","width","origin")},ym={position:pc("y","height","origin")},gb={position:pc("x","width","corner")},mb={position:pc("y","height","corner")},zm={set:vs("width","width")},bm={set:vs("height","height")},_b={set:vs("rx","width")},vb={set:vs("ry","height")},Sm={set:(o=>{const e=vs("r","width"),n=vs("r","height");return function(i,s){const a=s.refBBox;return Ot(a.height>a.width?e:n,this,i,s)}})()},Cb={set(o,{refBBox:e}){let n=parseFloat(o);const i=Pi(o);i&&(n/=100);const s=Math.sqrt(e.height*e.height+e.width*e.width);let a;return Number.isFinite(n)&&(a=i||n>=0&&n<=1?n*s:Math.max(n+s,0)),{r:a}}},yb={set:vs("cx","width")},zb={set:vs("cy","height")},Tm={set:Dm({resetOffset:!0})},bb={set:Dm({resetOffset:!1})},xm={set:wm({resetOffset:!0})},Sb={set:wm({resetOffset:!1})},Tb=Sm,xb=Tm,Ob=xm,Db=Cm,wb=ym,Mb=zm,Eb=bm;function pc(o,e,n){return(i,{refBBox:s})=>{if(null==i)return null;let a=parseFloat(i);const l=Pi(i);let c;if(l&&(a/=100),Number.isFinite(a)){const g=s[n];c=l||a>0&&a<1?g[o]+s[e]*a:g[o]+a}const u=new Ce;return u[o]=c||0,u}}function vs(o,e){return function(n,{refBBox:i}){let s=parseFloat(n);const a=Pi(n);a&&(s/=100);const l={};if(Number.isFinite(s)){const c=a||s>=0&&s<=1?s*i[e]:Math.max(s+i[e],0);l[o]=c}return l}}function Om(o,e){const n="x6-shape",i=e&&e.resetOffset;return function(s,{elem:a,refBBox:l}){let c=gs(a,n);if(!c||c.value!==s){const V=o(s);c={value:s,shape:V,shapeBBox:V.bbox()},gs(a,n,c)}const u=c.shape.clone(),g=c.shapeBBox.clone(),_=g.getOrigin(),z=l.getOrigin();g.x=z.x,g.y=z.y;const y=l.getMaxScaleToFit(g,z);return u.scale(0===g.width||0===l.width?1:y.sx,0===g.height||0===l.height?1:y.sy,_),i&&u.translate(-_.x,-_.y),u}}function Dm(o){const n=Om(function e(i){return jt.parse(i)},o);return(i,s)=>({d:n(i,s).serialize()})}function wm(o){const e=Om(n=>new Nn(n),o);return(n,i)=>({points:e(n,i).serialize()})}const Pb={qualify:ni,set:(o,{view:e})=>`url(#${e.graph.defineGradient(o)})`},kb={qualify:ni,set(o,{view:e}){const n=e.cell,i=Object.assign({},o);if(n.isEdge()&&"linearGradient"===i.type){const a=e.sourcePoint,l=e.targetPoint;i.id=`gradient-${i.type}-${n.id}`,i.attrs=Object.assign(Object.assign({},i.attrs),{x1:a.x,y1:a.y,x2:l.x,y2:l.y,gradientUnits:"userSpaceOnUse"}),e.graph.defs.remove(i.id)}return`url(#${e.graph.defineGradient(i)})`}},Mm={qualify:(o,{attrs:e})=>null==e.textWrap||!ni(e.textWrap),set(o,{view:e,elem:n,attrs:i}){const s="x6-text",a=gs(n,s),l=_=>{try{return JSON.parse(_)}catch{return _}},c={x:i.x,eol:i.eol,annotations:l(i.annotations),textPath:l(i["text-path"]||i.textPath),textVerticalAnchor:i["text-vertical-anchor"]||i.textVerticalAnchor,displayEmpty:"true"===(i["display-empty"]||i.displayEmpty),lineHeight:i["line-height"]||i.lineHeight},u=i["font-size"]||i.fontSize,g=JSON.stringify([o,c]);if(u&&n.setAttribute("font-size",u),null==a||a!==g){const _=c.textPath;if(null!=_&&"object"==typeof _){const z=_.selector;if("string"==typeof z){const y=e.find(z)[0];y instanceof SVGPathElement&&(Zl(y),c.textPath=Object.assign({"xlink:href":`#${y.id}`},_))}}Sp(n,`${o}`,c),gs(n,s,g)}}},Nb={qualify:ni,set(o,{view:e,elem:n,attrs:i,refBBox:s}){const a=o,l=a.width||0;Pi(l)?s.width*=parseFloat(l)/100:l<=0?s.width+=l:s.width=l;const c=a.height||0;Pi(c)?s.height*=parseFloat(c)/100:c<=0?s.height+=c:s.height=c;let u,g=a.text;null==g&&(g=i.text||n?.textContent),u=null!=g?xp(`${g}`,s,{"font-weight":i["font-weight"]||i.fontWeight,"font-size":i["font-size"]||i.fontSize,"font-family":i["font-family"]||i.fontFamily,lineHeight:i.lineHeight},{ellipsis:a.ellipsis}):"",Ot(Mm.set,this,u,{view:e,elem:n,attrs:i,refBBox:s,cell:e.cell})}},Zo=(o,{attrs:e})=>void 0!==e.text,Ib={qualify:Zo},Ab={qualify:Zo},Rb={qualify:Zo},Fb={qualify:Zo},Bb={qualify:Zo},Lb={qualify:Zo},Vb={qualify:(o,{elem:e})=>e instanceof SVGElement,set(o,{elem:e}){const n="x6-title",i=`${o}`,s=gs(e,n);if(null==s||s!==i){gs(e,n,i);const a=e.firstChild;if(a&&"TITLE"===a.tagName.toUpperCase())a.textContent=i;else{const l=document.createElementNS(e.namespaceURI,"title");l.textContent=i,e.insertBefore(l,a)}}}},$b={offset:Em("x","width","right")},jb={offset:Em("y","height","bottom")},Gb={offset:(o,{refBBox:e})=>o?{x:-e.x,y:-e.y}:{x:0,y:0}};function Em(o,e,n){return(i,{refBBox:s})=>{const a=new Ce;let l;return l="middle"===i?s[e]/2:i===n?s[e]:"number"==typeof i&&Number.isFinite(i)?i>-1&&i<1?-s[e]*i:-i:Pi(i)?s[e]*parseFloat(i)/100:0,a[o]=-(s[o]+l),a}}const Hb={qualify:ni,set(o,{elem:e}){Vo(e,o)}},Ub={set(o,{elem:e}){e.innerHTML=`${o}`}},Xb={qualify:ni,set:(o,{view:e})=>`url(#${e.graph.defineFilter(o)})`},Wb={set:o=>null!=o&&"object"==typeof o&&o.id?o.id:o};function Cs(o,e,n){let i,s;"object"==typeof e?(i=e.x,s=e.y):(i=e,s=n);const a=jt.parse(o),l=a.bbox();if(l){let c=-l.height/2-l.y,u=-l.width/2-l.x;"number"==typeof i&&(u-=i),"number"==typeof s&&(c-=s),a.translate(u,c)}return a.serialize()}var Pm=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};const Yb=o=>{var{size:e,width:n,height:i,offset:s,open:a}=o;return km({size:e,width:n,height:i,offset:s},!0===a,!0,void 0,Pm(o,["size","width","height","offset","open"]))},Kb=o=>{var{size:e,width:n,height:i,offset:s,factor:a}=o;return km({size:e,width:n,height:i,offset:s},!1,!1,a,Pm(o,["size","width","height","offset","factor"]))};function km(o,e,n,i=3/4,s={}){const a=o.size||10,l=o.width||a,c=o.height||a,u=new jt,g={};if(e)u.moveTo(l,0).lineTo(0,c/2).lineTo(l,c),g.fill="none";else{if(u.moveTo(0,c/2),u.lineTo(l,0),!n){const _=ri(i,0,1);u.lineTo(l*_,c/2)}u.lineTo(l,c),u.close()}return Object.assign(Object.assign(Object.assign({},g),s),{tagName:"path",d:Cs(u.serialize(),{x:null!=o.offset?o.offset:-l/2})})}const Zb=o=>{var{size:e,width:n,height:i,offset:s}=o,a=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["size","width","height","offset"]);const l=e||10,c=n||l,u=i||l,g=new jt;return g.moveTo(0,u/2).lineTo(c/2,0).lineTo(c,u/2).lineTo(c/2,u).close(),Object.assign(Object.assign({},a),{tagName:"path",d:Cs(g.serialize(),s??-c/2)})},qb=o=>{var{d:e,offsetX:n,offsetY:i}=o,s=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},s),{tagName:"path",d:Cs(e,n,i)})},t1=o=>{var{size:e,width:n,height:i,offset:s}=o,a=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["size","width","height","offset"]);const l=e||10,c=n||l,u=i||l,g=new jt;return g.moveTo(0,0).lineTo(c,u).moveTo(0,u).lineTo(c,0),Object.assign(Object.assign({},a),{tagName:"path",fill:"none",d:Cs(g.serialize(),s||-c/2)})},s1=o=>{var{width:e,height:n,offset:i,open:s,flip:a}=o,l=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["width","height","offset","open","flip"]);let c=n||6;const u=e||10,g=!0===s,_=!0===a,z=Object.assign(Object.assign({},l),{tagName:"path"});_&&(c=-c);const y=new jt;return y.moveTo(0,c).lineTo(u,0),g?z.fill="none":(y.lineTo(u,c),y.close()),z.d=Cs(y.serialize(),{x:i||-u/2,y:c/2}),z};var Nm=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};const Im=o=>{var{r:e}=o,n=Nm(o,["r"]);const i=e||5;return Object.assign(Object.assign({cx:i},n),{tagName:"circle",r:i})},o1=o=>{var{r:e}=o,n=Nm(o,["r"]);const i=e||5,s=new jt;return s.moveTo(i,0).lineTo(i,2*i),s.moveTo(0,i).lineTo(2*i,i),{children:[Object.assign(Object.assign({},Im({r:i})),{fill:"none"}),Object.assign(Object.assign({},n),{tagName:"path",d:Cs(s.serialize(),-i)})]}},a1=o=>{var{rx:e,ry:n}=o,i=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["rx","ry"]);const s=e||5,a=n||5;return Object.assign(Object.assign({cx:s},i),{tagName:"ellipse",rx:s,ry:a})};var ys;function Rp(o){return"string"==typeof o||ni(o)}(function(o){o.presets=X,o.registry=In.create({type:"marker"}),o.registry.register(o.presets,!0)})(ys||(ys={})),function(o){o.normalize=Cs}(ys||(ys={}));const c1={qualify:Rp,set:(o,{view:e,attrs:n})=>Fp("marker-start",o,e,n)},h1={qualify:Rp,set:(o,{view:e,attrs:n})=>Fp("marker-end",o,e,n,{transform:"rotate(180)"})},d1={qualify:Rp,set:(o,{view:e,attrs:n})=>Fp("marker-mid",o,e,n)};function Fp(o,e,n,i,s={}){const a="string"==typeof e?{name:e}:e,{name:l,args:c}=a,u=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(a,["name","args"]);let g=u;if(l&&"string"==typeof l){const z=ys.registry.get(l);if(!z)return ys.registry.onNotFound(l);g=z(Object.assign(Object.assign({},u),c))}const _=Object.assign(Object.assign(Object.assign({},function u1(o,e){const n={},i=o.stroke;"string"==typeof i&&(n.stroke=i,n.fill=i);let s=o.strokeOpacity;if(null==s&&(s=o["stroke-opacity"]),null==s&&(s=o.opacity),null!=s&&(n["stroke-opacity"]=s,n["fill-opacity"]=s),"marker-mid"!==e){const a=parseFloat(o.strokeWidth||o["stroke-width"]);if(Number.isFinite(a)&&a>1){const l=Math.ceil(a/2);n.refX="marker-start"===e?l:-l}}return n}(i,o)),s),g);return{[o]:`url(#${n.graph.defineMarker(_)})`}}const Da=(o,{view:e})=>e.cell.isEdge(),p1={qualify:Da,set(o,e){var n,i,s,a;const l=e.view,c=o.reverse||!1,u=o.stubs||0;let g;if(Number.isFinite(u)&&0!==u)if(c){let _,z;const y=l.getConnectionLength()||0;u<0?(_=(y+u)/2,z=-u):(_=u,z=y-2*u);const x=l.getConnection();g=null===(a=null===(s=null===(i=null===(n=x?.divideAtLength(_))||void 0===n?void 0:n[1])||void 0===i?void 0:i.divideAtLength(z))||void 0===s?void 0:s[0])||void 0===a?void 0:a.serialize()}else{let _;_=u<0?((l.getConnectionLength()||0)+u)/2:u;const z=l.getConnection();if(z){const y=z.divideAtLength(_),x=z.divideAtLength(-_);y&&x&&(g=`${y[0].serialize()} ${x[1].serialize()}`)}}return{d:g||l.getConnectionPathData()}}},Am={qualify:Da,set:fc("getTangentAtLength",{rotate:!0})},f1={qualify:Da,set:fc("getTangentAtLength",{rotate:!1})},Rm={qualify:Da,set:fc("getTangentAtRatio",{rotate:!0})},g1={qualify:Da,set:fc("getTangentAtRatio",{rotate:!1})},m1=Am,_1=Rm;function fc(o,e){const n={x:1,y:0};return(i,s)=>{let a,l;const c=s.view,u=c[o](Number(i));return u?(l=e.rotate?u.vector().vectorAngle(n):0,a=u.start):(a=c.path.start,l=0),0===l?{transform:`translate(${a.x},${a.y}')`}:{transform:`translate(${a.x},${a.y}') rotate(${l})`}}}var ki;(function(o){o.isValidDefinition=function e(n,i,s){return!(null==n||"string"!=typeof n&&"function"==typeof n.qualify&&!Ot(n.qualify,this,i,s))}})(ki||(ki={})),function(o){o.presets=Object.assign(Object.assign({},pb),ee),o.registry=In.create({type:"attribute definition"}),o.registry.register(o.presets,!0)}(ki||(ki={}));const Xn={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,prefix:o=>`${Xn.prefixCls}-${o}`},Fm=Xn.prefix("highlighted"),v1={highlight(o,e,n){dn(e,n&&n.className||Fm)},unhighlight(o,e,n){ai(e,n&&n.className||Fm)}},Bm=Xn.prefix("highlight-opacity"),C1={highlight(o,e){dn(e,Bm)},unhighlight(o,e){ai(e,Bm)}};var gn;!function(o){function e(y,x){const N=im(y.x,y.y).matrixTransform(x);return new Ce(N.x,N.y)}function s(y,x){const V=pi("svg").createSVGPoint();V.x=y.x,V.y=y.y;const U=V.matrixTransform(x);V.x=y.x+y.width,V.y=y.y;const te=V.matrixTransform(x);V.x=y.x+y.width,V.y=y.y+y.height;const ce=V.matrixTransform(x);V.x=y.x,V.y=y.y+y.height;const q=V.matrixTransform(x),we=Math.min(U.x,te.x,ce.x,q.x),Ne=Math.max(U.x,te.x,ce.x,q.x),Ke=Math.min(U.y,te.y,ce.y,q.y),gt=Math.max(U.y,te.y,ce.y,q.y);return new St(we,Ke,Ne-we,gt-Ke)}function l(y,x={}){let N;if(!y.ownerSVGElement||!ji(y)){if(fp(y)){const{left:ce,top:q,width:we,height:Ne}=c(y);return new St(ce,q,we,Ne)}return new St(0,0,0,0)}let U=x.target;if(!x.recursive){try{N=y.getBBox()}catch{N={x:y.clientLeft,y:y.clientTop,width:y.clientWidth,height:y.clientHeight}}return U?s(N,Ho(y,U)):St.create(N)}{const ce=y.childNodes,q=ce.length;if(0===q)return l(y,{target:U});U||(U=y);for(let we=0;we<q;we+=1){const Ne=ce[we];let Ke;Ke=l(Ne,0===Ne.childNodes.length?{target:U}:{target:U,recursive:!0}),N=N?N.union(Ke):Ke}return N}}function c(y){let x=0,N=0,V=0,U=0;if(y){let te=y;for(;te;)x+=te.offsetLeft,N+=te.offsetTop,te=te.offsetParent,te&&(x+=parseInt(ic(te,"borderLeft"),10),N+=parseInt(ic(te,"borderTop"),10));V=y.offsetWidth,U=y.offsetHeight}return{left:x,top:N,width:V,height:U}}function u(y){const x=N=>{const V=y.getAttribute(N),U=V?parseFloat(V):0;return Number.isNaN(U)?0:U};switch(y instanceof SVGElement&&y.nodeName.toLowerCase()){case"rect":return new St(x("x"),x("y"),x("width"),x("height"));case"circle":return new bi(x("cx"),x("cy"),x("r"),x("r"));case"ellipse":return new bi(x("cx"),x("cy"),x("rx"),x("ry"));case"polyline":{const N=ya(y);return new Nn(N)}case"polygon":{const N=ya(y);return N.length>1&&N.push(N[0]),new Nn(N)}case"path":{let N=y.getAttribute("d");return jt.isValid(N)||(N=jt.normalize(N)),jt.parse(N)}case"line":return new Et(x("x1"),x("y1"),x("x2"),x("y2"))}return l(y)}function _(y){if(null==y)return null;let x=y;do{let N=x.tagName;if("string"!=typeof N)return null;if(N=N.toUpperCase(),Ws(x,"x6-port"))x=x.nextElementSibling;else if("G"===N)x=x.firstElementChild;else{if("TITLE"!==N)break;x=x.nextElementSibling}}while(x);return x}o.normalizeMarker=Cs,o.transformPoint=e,o.transformLine=function n(y,x){return new Et(e(y.start,x),e(y.end,x))},o.transformPolyline=function i(y,x){let N=y instanceof Nn?y.points:y;return Array.isArray(N)||(N=[]),new Nn(N.map(V=>e(V,x)))},o.transformRectangle=s,o.bbox=function a(y,x,N){let V;const U=y.ownerSVGElement;if(!U)return new St(0,0,0,0);try{V=y.getBBox()}catch{V={x:y.clientLeft,y:y.clientTop,width:y.clientWidth,height:y.clientHeight}}return x?St.create(V):s(V,Ho(y,N||U))},o.getBBox=l,o.getBoundingOffsetRect=c,o.toGeometryShape=u,o.translateAndAutoOrient=function g(y,x,N,V){const U=Ce.create(x),te=Ce.create(N);V||(V=y instanceof SVGSVGElement?y:y.ownerSVGElement);const ce=lc(y);y.setAttribute("transform","");const q=l(y,{target:V}).scale(ce.sx,ce.sy),we=jo();we.setTranslate(-q.x-q.width/2,-q.y-q.height/2);const Ne=jo(),Ke=U.angleBetween(te,U.clone().translate(1,0));Ke&&Ne.setRotate(Ke,0,0);const gt=jo(),yt=U.clone().move(te,q.width/2);gt.setTranslate(2*U.x-yt.x,2*U.y-yt.y);const zt=Ho(y,V),Nt=jo();Nt.setMatrix(gt.matrix.multiply(Ne.matrix.multiply(we.matrix.multiply(zt.scale(ce.sx,ce.sy))))),y.setAttribute("transform",Qs(Nt.matrix))},o.findShapeNode=_,o.getBBoxV2=function z(y){const x=_(y);if(!ji(x)){if(fp(y)){const{left:U,top:te,width:ce,height:q}=c(y);return new St(U,te,ce,q)}return new St(0,0,0,0)}return u(x).bbox()||St.create()}}(gn||(gn={}));const y1={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},z1={highlight(o,e,n){const i=zs.getHighlighterId(e,n);if(zs.hasCache(i))return;n=Wu({},n,y1);const s=Qt.create(e);let a,l;try{a=s.toPathData()}catch{l=gn.bbox(s.node,!0),a=Op(Object.assign(Object.assign({},n),l))}const c=pi("path");if(mn(c,Object.assign({d:a,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},n.attrs?Lo(n.attrs):null)),o.isEdgeElement(e))mn(c,"d",o.getConnectionPathData());else{let _=s.getTransformToElement(o.container);const z=n.padding;if(z){null==l&&(l=gn.bbox(s.node,!0));const y=l.x+l.width/2,x=l.y+l.height/2;l=gn.transformRectangle(l,_);const N=Math.max(l.width,1),V=Math.max(l.height,1),U=(N+z)/N,te=(V+z)/V,ce=Vn({a:U,b:0,c:0,d:te,e:y-U*y,f:x-te*x});_=_.multiply(ce)}Zs(c,_)}dn(c,Xn.prefix("highlight-stroke"));const u=o.cell,g=()=>zs.removeHighlighter(i);u.on("removed",g),u.model&&u.model.on("reseted",g),o.container.appendChild(c),zs.setCache(i,c)},unhighlight(o,e,n){zs.removeHighlighter(zs.getHighlighterId(e,n))}};var zs,Hi;function Bp(o,e={}){return new Ce(ui(e.x,o.width),ui(e.y,o.height))}function Lp(o,e,n){return Object.assign({angle:e,position:o.toJSON()},n)}!function(o){o.getHighlighterId=function e(l,c){return Zl(l),l.id+JSON.stringify(c)};const n={};o.setCache=function i(l,c){n[l]=c},o.hasCache=function s(l){return null!=n[l]},o.removeHighlighter=function a(l){const c=n[l];c&&(Ys(c),delete n[l])}}(zs||(zs={})),function(o){o.check=function e(n,i){if("function"!=typeof i.highlight)throw new Error(`Highlighter '${n}' is missing required \`highlight()\` method`);if("function"!=typeof i.unhighlight)throw new Error(`Highlighter '${n}' is missing required \`unhighlight()\` method`)}}(Hi||(Hi={})),function(o){o.presets=le,o.registry=In.create({type:"highlighter"}),o.registry.register(o.presets,!0)}(Hi||(Hi={}));const b1=(o,e)=>o.map(({x:n,y:i,angle:s})=>Lp(Bp(e,{x:n,y:i}),s||0)),S1=(o,e,n)=>{const s=n.step||20;return Lm(o,e,n.start||0,(a,l)=>(a+.5-l/2)*s)},T1=(o,e,n)=>{const s=n.step||360/o.length;return Lm(o,e,n.start||0,a=>a*s)};function Lm(o,e,n,i){const s=e.getCenter(),a=e.getTopCenter(),l=e.width/e.height,c=bi.fromRect(e),u=o.length;return o.map((g,_)=>{const z=n+i(_,u),y=a.clone().rotate(-z,s).scale(l,1,s),x=g.compensateRotate?-c.tangentTheta(y):0;return(g.dx||g.dy)&&y.translate(g.dx||0,g.dy||0),g.dr&&y.move(s,g.dr),Lp(y.round(),x,g)})}const O1=(o,e,n)=>wa(o,Bp(e,n.start||e.getOrigin()),Bp(e,n.end||e.getCorner()),n),D1=(o,e,n)=>wa(o,e.getTopLeft(),e.getBottomLeft(),n),w1=(o,e,n)=>wa(o,e.getTopRight(),e.getBottomRight(),n),M1=(o,e,n)=>wa(o,e.getTopLeft(),e.getTopRight(),n),E1=(o,e,n)=>wa(o,e.getBottomLeft(),e.getBottomRight(),n);function wa(o,e,n,i){const s=new Et(e,n),a=o.length;return o.map((l,c)=>{var{strict:u}=l,g=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(l,["strict"]);const z=s.pointAt(u||i.strict?(c+1)/(a+1):(c+.5)/a);return(g.dx||g.dy)&&z.translate(g.dx||0,g.dy||0),Lp(z.round(),0,g)})}var eo;!function(o){o.presets=pe,o.registry=In.create({type:"port layout"}),o.registry.register(o.presets,!0)}(eo||(eo={}));const P1={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function bs(o,e){const{x:n,y:i,angle:s,attrs:a}=e||{};return Wu({},{angle:s,attrs:a,position:{x:n,y:i}},o,P1)}const k1=(o,e,n)=>bs({position:e.getTopLeft()},n),N1=(o,e,n)=>bs({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},n),I1=(o,e,n)=>bs({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},n),A1=(o,e,n)=>bs({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},n),R1=(o,e,n)=>bs({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},n),F1=(o,e,n)=>Vm(o,e,!1,n),B1=(o,e,n)=>Vm(o,e,!0,n),L1=(o,e,n)=>$m(o,e,!1,n),V1=(o,e,n)=>$m(o,e,!0,n);function Vm(o,e,n,i){const s=null!=i.offset?i.offset:15,a=e.getCenter().theta(o),l=jm(e);let c,u,g,_,z=0;return a<l[1]||a>l[2]?(c=".3em",u=s,g=0,_="start"):a<l[0]?(c="0",u=0,g=-s,n?(z=-90,_="start"):_="middle"):a<l[3]?(c=".3em",u=-s,g=0,_="end"):(c=".6em",u=0,g=s,n?(z=90,_="start"):_="middle"),bs({position:{x:Math.round(u),y:Math.round(g)},angle:z,attrs:{".":{y:c,"text-anchor":_}}},i)}function $m(o,e,n,i){const s=null!=i.offset?i.offset:15,a=e.getCenter().theta(o),l=jm(e);let c,u,g,_,z=0;return a<l[1]||a>l[2]?(c=".3em",u=-s,g=0,_="end"):a<l[0]?(c=".6em",u=0,g=s,n?(z=90,_="start"):_="middle"):a<l[3]?(c=".3em",u=s,g=0,_="start"):(c="0em",u=0,g=-s,n?(z=-90,_="start"):_="middle"),bs({position:{x:Math.round(u),y:Math.round(g)},angle:z,attrs:{".":{y:c,"text-anchor":_}}},i)}function jm(o){const e=o.getCenter(),n=e.theta(o.getTopLeft()),i=e.theta(o.getBottomLeft()),s=e.theta(o.getBottomRight());return[n,e.theta(o.getTopRight()),s,i]}const $1=(o,e,n)=>Gm(o.diff(e.getCenter()),!1,n),j1=(o,e,n)=>Gm(o.diff(e.getCenter()),!0,n);function Gm(o,e,n){const i=null!=n.offset?n.offset:20,s=new Ce(0,0),a=-o.theta(s);let u,c=".3em",g=a;return(a+90)%180==0?(u=e?"end":"middle",!e&&-270===a&&(c="0em")):a>-270&&a<-90?(u="start",g=a-180):u="end",bs({position:o.clone().move(s,i).diff(o).round().round().toJSON(),angle:e?g:0,attrs:{".":{y:c,"text-anchor":u}}},n)}var Jo,Vp,Sn;!function(o){o.presets=K,o.registry=In.create({type:"port label layout"}),o.registry.register(o.presets,!0)}(Jo||(Jo={}));class bn extends ii{get priority(){return 2}get disposeContainer(){return!0}constructor(){super(),this.cid=Vp.uniqueId(),bn.views[this.cid]=this}confirmUpdate(e,n){return 0}empty(e=this.container){return Fo(e),this}unmount(e=this.container){return Ys(e),this}remove(e=this.container){return e===this.container?(this.removeEventListeners(document),this.onRemove(),delete bn.views[this.cid],this.disposeContainer&&this.unmount(e)):this.unmount(e),this}onRemove(){}setClass(e,n=this.container){n.classList.value=Array.isArray(e)?e.join(" "):e}addClass(e,n=this.container){return dn(n,Array.isArray(e)?e.join(" "):e),this}removeClass(e,n=this.container){return ai(n,Array.isArray(e)?e.join(" "):e),this}setStyle(e,n=this.container){return Vo(n,e),this}setAttrs(e,n=this.container){return null!=e&&null!=n&&mn(n,e),this}findAttr(e,n=this.container){let i=n;for(;i&&1===i.nodeType;){const s=i.getAttribute(e);if(null!=s)return s;if(i===this.container)return null;i=i.parentNode}return null}find(e,n=this.container,i=this.selectors){return bn.find(e,n,i).elems}findOne(e,n=this.container,i=this.selectors){const s=this.find(e,n,i);return s.length>0?s[0]:null}findByAttr(e,n=this.container){let i=n;for(;i&&i.getAttribute;){const s=i.getAttribute(e);if((null!=s||i===this.container)&&"false"!==s)return i;i=i.parentNode}return null}getSelector(e,n){let i;if(e===this.container)return"string"==typeof n&&(i=`> ${n}`),i;if(e){const s=ql(e)+1;i=`${e.tagName.toLowerCase()}:nth-child(${s})`,n&&(i+=` > ${n}`),i=this.getSelector(e.parentNode,i)}return i}prefixClassName(e){return Xn.prefix(e)}delegateEvents(e,n){if(null==e)return this;n||this.undelegateEvents();const i=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach(s=>{const a=s.match(i);if(null==a)return;const l=this.getEventHandler(e[s]);"function"==typeof l&&this.delegateEvent(a[1],a[2],l)}),this}undelegateEvents(){return Hn.off(this.container,this.getEventNamespace()),this}delegateDocumentEvents(e,n){return this.addEventListeners(document,e,n),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(e,n,i){return Hn.on(this.container,e+this.getEventNamespace(),n,i),this}undelegateEvent(e,n,i){const s=e+this.getEventNamespace();return null==n?Hn.off(this.container,s):"string"==typeof n?Hn.off(this.container,s,n,i):Hn.off(this.container,s,n),this}addEventListeners(e,n,i){if(null==n)return this;const s=this.getEventNamespace();return Object.keys(n).forEach(a=>{const l=this.getEventHandler(n[a]);"function"==typeof l&&Hn.on(e,a+s,i,l)}),this}removeEventListeners(e){return null!=e&&Hn.off(e,this.getEventNamespace()),this}getEventNamespace(){return`.${Xn.prefixCls}-event-${this.cid}`}getEventHandler(e){let n;if("string"==typeof e){const i=this[e];"function"==typeof i&&(n=(...s)=>i.call(this,...s))}else n=(...i)=>e.call(this,...i);return n}getEventTarget(e,n={}){const{target:i,type:s,clientX:a=0,clientY:l=0}=e;return n.fromPoint||"touchmove"===s||"touchend"===s?document.elementFromPoint(a,l):i}stopPropagation(e){return this.setEventData(e,{propagationStopped:!0}),this}isPropagationStopped(e){return!0===this.getEventData(e).propagationStopped}getEventData(e){return this.eventData(e)}setEventData(e,n){return this.eventData(e,n)}eventData(e,n){if(null==e)throw new TypeError("Event object required");let i=e.data;const s=`__${this.cid}__`;return null==n?null==i?{}:i[s]||{}:(null==i&&(i=e.data={}),i[s]=Object.assign(null==i[s]?{}:Object.assign({},i[s]),n),i[s])}normalizeEvent(e){return bn.normalizeEvent(e)}dispose(){this.remove()}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([bn.dispose()],bn.prototype,"dispose",null),function(o){o.createElement=function e(s,a){return a?pi(s||"g"):Jl(s||"div")},o.find=function n(s,a,l){if(!s||"."===s)return{elems:[a]};if(l){const c=l[s];if(c)return{elems:Array.isArray(c)?c:[c]}}if(Xn.useCSSSelector){const c=s.includes(">")?`:scope ${s}`:s;return{isCSSSelector:!0,elems:Array.prototype.slice.call(a.querySelectorAll(c))}}return{elems:[]}},o.normalizeEvent=function i(s){let a=s;const l=s.originalEvent,c=l&&l.changedTouches&&l.changedTouches[0];if(c){for(const u in s)void 0===c[u]&&(c[u]=s[u]);a=c}return a}}(bn||(bn={})),function(o){o.views={},o.getView=function e(n){return o.views[n]||null}}(bn||(bn={})),function(o){let e=0;o.uniqueId=function n(){const i=`v${e}`;return e+=1,i}}(Vp||(Vp={}));class H1{constructor(e){this.view=e,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Np,this.pathCache={}}get(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}getData(e){const n=this.get(e);return n.data||(n.data={}),n.data}getMatrix(e){const n=this.get(e);return null==n.matrix&&(n.matrix=lm(e,this.view.container)),Vn(n.matrix)}getShape(e){const n=this.get(e);return null==n.shape&&(n.shape=gn.toGeometryShape(e)),n.shape.clone()}getBoundingRect(e){const n=this.get(e);return null==n.boundingRect&&(n.boundingRect=gn.getBBoxV2(e)),n.boundingRect.clone()}}(function(o){function n(g){return null!=g&&"string"==typeof g}function a(g,_={ns:Ln.svg}){const z=document.createDocumentFragment(),y={},x={},N=[{markup:Array.isArray(g)?g:[g],parent:z,ns:_.ns}];for(;N.length>0;){const V=N.pop();let U=V.ns||Ln.svg;const ce=V.parent;V.markup.forEach(q=>{const we=q.tagName;if(!we)throw new TypeError("Invalid tagName");q.ns&&(U=q.ns);const Ne=U?Jl(we,U):dp(we),Ke=q.attrs;Ke&&mn(Ne,Lo(Ke));const gt=q.style;gt&&Vo(Ne,gt);const yt=q.className;null!=yt&&Ne.setAttribute("class",Array.isArray(yt)?yt.join(" "):yt),q.textContent&&(Ne.textContent=q.textContent);const zt=q.selector;if(null!=zt){if(x[zt])throw new TypeError("Selector must be unique");x[zt]=Ne}if(q.groupSelector){let Tt=q.groupSelector;Array.isArray(Tt)||(Tt=[Tt]),Tt.forEach(Bt=>{y[Bt]||(y[Bt]=[]),y[Bt].push(Ne)})}ce.appendChild(Ne);const Nt=q.children;Array.isArray(Nt)&&N.push({ns:U,markup:Nt,parent:Ne})})}return Object.keys(y).forEach(V=>{if(x[V])throw new Error("Ambiguous group selector");x[V]=y[V]}),{fragment:z,selectors:x,groups:y}}function l(g){return g instanceof SVGElement?pi("g"):dp("div")}o.isJSONMarkup=function e(g){return null!=g&&!n(g)},o.isStringMarkup=n,o.clone=function i(g){return null==g||n(g)?g:En(g)},o.sanitize=function s(g){return`${g}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")},o.parseJSONMarkup=a,o.renderMarkup=function c(g){if(n(g)){const x=Qt.createVectors(g),N=x.length;if(1===N)return{elem:x[0].node};if(N>1){const V=l(x[0].node);return x.forEach(U=>{V.appendChild(U.node)}),{elem:V}}return{}}const _=a(g),z=_.fragment;let y=null;return z.childNodes.length>1?(y=l(z.firstChild),y.appendChild(z)):y=z.firstChild,{elem:y,selectors:_.selectors}},o.parseLabelStringMarkup=function u(g){const _=Qt.createVectors(g),z=document.createDocumentFragment();for(let y=0,x=_.length;y<x;y+=1)z.appendChild(_[y].node);return{fragment:z,selectors:{}}}})(Sn||(Sn={})),function(o){o.getSelector=function e(n,i,s){if(null!=n){let a;const l=n.tagName.toLowerCase();if(n===i)return a="string"==typeof s?`> ${l} > ${s}`:`> ${l}`,a;const c=n.parentNode;return a=c&&c.childNodes.length>1?`${l}:nth-child(${ql(n)+1})`:l,s&&(a+=` > ${s}`),e(n.parentNode,i,a)}return s}}(Sn||(Sn={})),function(o){o.getPortContainerMarkup=function e(){return"g"},o.getPortMarkup=function n(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}},o.getPortLabelMarkup=function i(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}}(Sn||(Sn={})),function(o){o.getEdgeMarkup=function e(){return[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}]}}(Sn||(Sn={})),function(o){o.getForeignObjectMarkup=function e(n=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:Ln.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:Ln.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:n?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}}(Sn||(Sn={}));class Hm{constructor(e){this.view=e}get cell(){return this.view.cell}getDefinition(e){return this.cell.getAttrDefinition(e)}processAttrs(e,n){let i,s,a,l;const c=[];return Object.keys(n).forEach(u=>{const g=n[u],_=this.getDefinition(u),z=Ot(ki.isValidDefinition,this.view,_,g,{elem:e,attrs:n,cell:this.cell,view:this.view});if(_&&z)"string"==typeof _?(null==i&&(i={}),i[_]=g):null!==g&&c.push({name:u,definition:_});else{null==i&&(i={});const y=gp.includes(u)?u:fg(u);i[y]=g}}),c.forEach(({name:u,definition:g})=>{const _=n[u];"function"==typeof g.set&&(null==s&&(s={}),s[u]=_),"function"==typeof g.offset&&(null==a&&(a={}),a[u]=_),"function"==typeof g.position&&(null==l&&(l={}),l[u]=_)}),{raw:n,normal:i,set:s,offset:a,position:l}}mergeProcessedAttrs(e,n){e.set=Object.assign(Object.assign({},e.set),n.set),e.position=Object.assign(Object.assign({},e.position),n.position),e.offset=Object.assign(Object.assign({},e.offset),n.offset);const i=e.normal&&e.normal.transform;null!=i&&n.normal&&(n.normal.transform=i),e.normal=n.normal}findAttrs(e,n,i,s){const a=[],l=new Np;return Object.keys(e).forEach(c=>{const u=e[c];if(!ni(u))return;const{isCSSSelector:g,elems:_}=bn.find(c,n,s);i[c]=_;for(let z=0,y=_.length;z<y;z+=1){const x=_[z],N=s&&s[c]===x,V=l.get(x);if(V){V.array||(a.push(x),V.array=!0,V.attrs=[V.attrs],V.priority=[V.priority]);const U=V.attrs,te=V.priority;if(N)U.unshift(u),te.unshift(-1);else{const ce=If(te,g?-1:y);U.splice(ce,0,u),te.splice(ce,0,y)}}else l.set(x,{elem:x,attrs:u,priority:N?-1:y,array:!1})}}),a.forEach(c=>{const u=l.get(c);u.attrs=u.attrs.reduceRight((_,z)=>Mn(_,z),{})}),l}updateRelativeAttrs(e,n,i){const s=n.raw||{};let a=n.normal||{};const l=n.set,c=n.position,u=n.offset,g=()=>({elem:e,cell:this.cell,view:this.view,attrs:s,refBBox:i.clone()});if(null!=l&&Object.keys(l).forEach(U=>{const te=l[U],ce=this.getDefinition(U);if(null!=ce){const q=Ot(ce.set,this.view,te,g());"object"==typeof q?a=Object.assign(Object.assign({},a),q):null!=q&&(a[U]=q)}}),e instanceof HTMLElement)return void this.view.setAttrs(a,e);const _=a.transform,y=Go(_?`${_}`:null),x=new Ce(y.e,y.f);_&&(delete a.transform,y.e=0,y.f=0);let N=!1;null!=c&&Object.keys(c).forEach(U=>{const te=c[U],ce=this.getDefinition(U);if(null!=ce){const q=Ot(ce.position,this.view,te,g());null!=q&&(N=!0,x.translate(Ce.create(q)))}}),this.view.setAttrs(a,e);let V=!1;if(null!=u){const U=this.view.getBoundingRectOfElement(e);if(U.width>0&&U.height>0){const te=gn.transformRectangle(U,y);Object.keys(u).forEach(ce=>{const q=u[ce],we=this.getDefinition(ce);if(null!=we){const Ne=Ot(we.offset,this.view,q,{elem:e,cell:this.cell,view:this.view,attrs:s,refBBox:te});null!=Ne&&(V=!0,x.translate(Ce.create(Ne)))}})}}(null!=_||N||V)&&(x.round(1),y.e=x.x,y.f=x.y,e.setAttribute("transform",Qs(y)))}update(e,n,i){const s={},a=this.findAttrs(i.attrs||n,e,s,i.selectors),l=i.attrs?this.findAttrs(n,e,s,i.selectors):a,c=[];a.each(_=>{const z=_.elem,y=_.attrs,x=this.processAttrs(z,y);if(null==x.set&&null==x.position&&null==x.offset)this.view.setAttrs(x.normal,z);else{const N=l.get(z),V=N?N.attrs:null,U=V&&null==y.ref?V.ref:y.ref;let te;if(U){if(te=(s[U]||this.view.find(U,e,i.selectors))[0],!te)throw new Error(`"${U}" reference does not exist.`)}else te=null;const ce={node:z,refNode:te,attributes:V,processedAttributes:x},q=c.findIndex(we=>we.refNode===z);q>-1?c.splice(q,0,ce):c.push(ce)}});const u=new Np;let g;c.forEach(_=>{const z=_.node,y=_.refNode;let x;const N=null!=y&&null!=i.rotatableNode&&pp(i.rotatableNode,y);let V;y&&(x=u.get(y)),x||(x=y?gn.getBBox(y,{target:N?i.rotatableNode:e}):i.rootBBox,y&&u.set(y,x)),i.attrs&&_.attributes?(V=this.processAttrs(z,_.attributes),this.mergeProcessedAttrs(V,_.processedAttributes)):V=_.processedAttributes;let U=x;N&&null!=i.rotatableNode&&!i.rotatableNode.contains(z)&&(g||(g=Go(mn(i.rotatableNode,"transform"))),U=gn.transformRectangle(x,g)),this.updateRelativeAttrs(z,V,U)})}}class Um{get cell(){return this.view.cell}constructor(e,n,i=[]){this.view=e;const s={},a={};let l=0;Object.keys(n).forEach(u=>{let g=n[u];Array.isArray(g)||(g=[g]),g.forEach(_=>{let z=s[_];z||(l+=1,z=s[_]=1<<l),a[u]|=z})});let c=i;if(Array.isArray(c)||(c=[c]),c.forEach(u=>{s[u]||(l+=1,s[u]=1<<l)}),l>25)throw new Error("Maximum number of flags exceeded.");this.flags=s,this.attrs=a,this.bootstrap=i}getFlag(e){const n=this.flags;return null==n?0:Array.isArray(e)?e.reduce((i,s)=>i|n[s],0):0|n[e]}hasAction(e,n){return e&this.getFlag(n)}removeAction(e,n){return e^e&this.getFlag(n)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let e=0;return this.attrs&&Object.keys(this.attrs).forEach(n=>{this.cell.hasChanged(n)&&(e|=this.attrs[n])}),e}}class An extends bn{static getDefaults(){return this.defaults}static config(e){this.defaults=this.getOptions(e)}static getOptions(e){const n=(g,_)=>null!=_?Qu([...Array.isArray(g)?g:[g],...Array.isArray(_)?_:[_]]):Array.isArray(g)?[...g]:[g],i=En(this.getDefaults()),{bootstrap:s,actions:a,events:l,documentEvents:c}=e,u=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(e,["bootstrap","actions","events","documentEvents"]);return s&&(i.bootstrap=n(i.bootstrap,s)),a&&Object.entries(a).forEach(([g,_])=>{const z=i.actions[g];_&&z?i.actions[g]=n(z,_):_&&(i.actions[g]=n(_))}),l&&(i.events=Object.assign(Object.assign({},i.events),l)),e.documentEvents&&(i.documentEvents=Object.assign(Object.assign({},i.documentEvents),c)),Mn(i,u)}get[Symbol.toStringTag](){return An.toStringTag}constructor(e,n={}){super(),this.cell=e,this.options=this.ensureOptions(n),this.graph=this.options.graph,this.attr=new Hm(this),this.flag=new Um(this,this.options.actions,this.options.bootstrap),this.cache=new H1(this),this.setContainer(this.ensureContainer()),this.setup(),this.init()}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(e){return this.getConstructor().getOptions(e)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return bn.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(e){if(this.container!==e){this.undelegateEvents(),this.container=e,null!=this.options.events&&this.delegateEvents(this.options.events);const n=this.getContainerAttrs();null!=n&&this.setAttrs(n,e);const i=this.getContainerStyle();null!=i&&this.setStyle(i,e);const s=this.getContainerClassName();null!=s&&this.addClass(s,e)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(e,n={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(e){return this.flag.getFlag(e)}hasAction(e,n){return this.flag.hasAction(e,n)}removeAction(e,n){return this.flag.removeAction(e,n)}handleAction(e,n,i,s){if(this.hasAction(e,n)){i();const a=[n];return s&&("string"==typeof s?a.push(s):a.push(...s)),this.removeAction(e,a)}return e}setup(){this.cell.on("changed",this.onCellChanged,this)}onCellChanged({options:e}){this.onAttrsChange(e)}onAttrsChange(e){let n=this.flag.getChangedFlag();e.updated||!n||(e.dirty&&this.hasAction(n,"update")&&(n|=this.getFlag("render")),e.toolId&&(e.async=!1),null!=this.graph&&this.graph.renderer.requestViewUpdate(this,n,e))}parseJSONMarkup(e,n){const i=Sn.parseJSONMarkup(e),s=i.selectors,a=this.rootSelector;if(n&&a){if(s[a])throw new Error("Invalid root selector");s[a]=n}return i}can(e){let n=this.graph.options.interacting;if("function"==typeof n&&(n=Ot(n,this.graph,this)),"object"==typeof n){let i=n[e];return"function"==typeof i&&(i=Ot(i,this.graph,this)),!1!==i}return"boolean"==typeof n&&n}cleanCache(){return this.cache.clean(),this}getCache(e){return this.cache.get(e)}getDataOfElement(e){return this.cache.getData(e)}getMatrixOfElement(e){return this.cache.getMatrix(e)}getShapeOfElement(e){return this.cache.getShape(e)}getBoundingRectOfElement(e){return this.cache.getBoundingRect(e)}getBBoxOfElement(e){const n=this.getBoundingRectOfElement(e),i=this.getMatrixOfElement(e),s=this.getRootRotatedMatrix(),a=this.getRootTranslatedMatrix();return gn.transformRectangle(n,a.multiply(s).multiply(i))}getUnrotatedBBoxOfElement(e){const n=this.getBoundingRectOfElement(e),i=this.getMatrixOfElement(e),s=this.getRootTranslatedMatrix();return gn.transformRectangle(n,s.multiply(i))}getBBox(e={}){let n;if(e.useCellGeometry){const i=this.cell,s=i.isNode()?i.getAngle():0;n=i.getBBox().bbox(s)}else n=this.getBBoxOfElement(this.container);return this.graph.coord.localToGraphRect(n)}getRootTranslatedMatrix(){const e=this.cell,n=e.isNode()?e.getPosition():{x:0,y:0};return Vn().translate(n.x,n.y)}getRootRotatedMatrix(){let e=Vn();const n=this.cell,i=n.isNode()?n.getAngle():0;if(i){const s=n.getBBox(),a=s.width/2,l=s.height/2;e=e.translate(a,l).rotate(i).translate(-a,-l)}return e}findMagnet(e=this.container){return this.findByAttr("magnet",e)}updateAttrs(e,n,i={}){null==i.rootBBox&&(i.rootBBox=new St),null==i.selectors&&(i.selectors=this.selectors),this.attr.update(e,n,i)}isEdgeElement(e){return this.cell.isEdge()&&(null==e||e===this.container)}prepareHighlight(e,n={}){const i=e||this.container;return n.partial=i===this.container,i}highlight(e,n={}){const i=this.prepareHighlight(e,n);return this.notify("cell:highlight",{magnet:i,options:n,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:i,options:n,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:i,options:n,view:this,node:this.cell,cell:this.cell}),this}unhighlight(e,n={}){const i=this.prepareHighlight(e,n);return this.notify("cell:unhighlight",{magnet:i,options:n,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:i,options:n,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:i,options:n,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(e,n){}getEdgeTerminal(e,n,i,s,a){const l=this.cell,c=this.findAttr("port",e),u=e.getAttribute("data-selector"),g={cell:l.id};return null!=u&&(g.magnet=u),null!=c?(g.port=c,l.isNode()&&!l.hasPort(c)&&null==u&&(g.selector=this.getSelector(e))):null==u&&this.container!==e&&(g.selector=this.getSelector(e)),g}getMagnetFromEdgeTerminal(e){const n=this.cell,i=this.container,s=e.port;let l,a=e.magnet;return null!=s&&n.isNode()&&n.hasPort(s)?l=this.findPortElem(s,a)||i:(a||(a=e.selector),!a&&null!=s&&(a=`[port="${s}"]`),l=this.findOne(a,i,this.selectors)),l}hasTools(e){const n=this.tools;return null!=n&&(null==e||n.name===e)}addTools(e){if(this.removeTools(),e){if(!this.can("toolsAddable"))return this;const n=Fn.isToolsView(e)?e:new Fn(e);this.tools=n,n.config({view:this}),n.mount()}return this}updateTools(e={}){return this.tools&&this.tools.update(e),this}removeTools(){return this.tools&&(this.tools.remove(),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}notify(e,n){return this.trigger(e,n),this.graph.trigger(e,n),this}getEventArgs(e,n,i){const s=this,a=s.cell;return null==n||null==i?{e,view:s,cell:a}:{e,x:n,y:i,view:s,cell:a}}onClick(e,n,i){this.notify("cell:click",this.getEventArgs(e,n,i))}onDblClick(e,n,i){this.notify("cell:dblclick",this.getEventArgs(e,n,i))}onContextMenu(e,n,i){this.notify("cell:contextmenu",this.getEventArgs(e,n,i))}onMouseDown(e,n,i){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(e,n,i))}onMouseUp(e,n,i){this.notify("cell:mouseup",this.getEventArgs(e,n,i)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(e,n,i){this.notify("cell:mousemove",this.getEventArgs(e,n,i))}onMouseOver(e){this.notify("cell:mouseover",this.getEventArgs(e))}onMouseOut(e){this.notify("cell:mouseout",this.getEventArgs(e))}onMouseEnter(e){this.notify("cell:mouseenter",this.getEventArgs(e))}onMouseLeave(e){this.notify("cell:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,i,s){this.notify("cell:mousewheel",Object.assign({delta:s},this.getEventArgs(e,n,i)))}onCustomEvent(e,n,i,s){this.notify("cell:customevent",Object.assign({name:n},this.getEventArgs(e,i,s))),this.notify(n,Object.assign({},this.getEventArgs(e,i,s)))}onMagnetMouseDown(e,n,i,s){}onMagnetDblClick(e,n,i,s){}onMagnetContextMenu(e,n,i,s){}onLabelMouseDown(e,n,i){}checkMouseleave(e){const n=this.getEventTarget(e,{fromPoint:!0}),i=this.graph.findViewByElem(n);i!==this&&(this.onMouseLeave(e),i&&i.onMouseEnter(e))}dispose(){this.cell.off("changed",this.onCellChanged,this)}}An.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([An.dispose()],An.prototype,"dispose",null),function(o){o.Flag=Um,o.Attr=Hm}(An||(An={})),function(o){o.toStringTag=`X6.${o.name}`,o.isCellView=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNodeView&&"function"==typeof n.isEdgeView&&"function"==typeof n.confirmUpdate}}(An||(An={})),function(o){o.priority=function e(i){return function(s){s.config({priority:i})}},o.bootstrap=function n(i){return function(s){s.config({bootstrap:i})}}}(An||(An={})),function(o){o.registry=In.create({type:"view"})}(An||(An={}));class Fn extends bn{get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return Fn.toStringTag}constructor(e={}){super(),this.svgContainer=this.createContainer(!0,e),this.htmlContainer=this.createContainer(!1,e),this.config(e)}createContainer(e,n){const i=e?bn.createElement("g",!0):bn.createElement("div",!1);return dn(i,this.prefixClassName("cell-tools")),n.className&&dn(i,n.className),i}config(e){if(this.options=Object.assign(Object.assign({},this.options),e),!An.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(dn(this.svgContainer,this.prefixClassName("edge-tools")),dn(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(dn(this.svgContainer,this.prefixClassName("node-tools")),dn(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const n=this.options.items;if(!Array.isArray(n))return this;this.tools=[];const i=[];n.forEach(s=>{Fn.ToolItem.isToolItem(s)?"vertices"===s.name?i.unshift(s):i.push(s):"vertices"===("object"==typeof s?s.name:s)?i.unshift(s):i.push(s)});for(let s=0;s<i.length;s+=1){const a=i[s];let l;if(Fn.ToolItem.isToolItem(a))l=a;else{const c="object"==typeof a?a.name:a,u="object"==typeof a&&a.args||{};if(c)if(this.cell.isNode()){const g=er.registry.get(c);if(!g)return er.registry.onNotFound(c);l=new g(u)}else if(this.cell.isEdge()){const g=tr.registry.get(c);if(!g)return tr.registry.onNotFound(c);l=new g(u)}}l&&(l.config(this.cellView,this),l.render(),(!1!==l.options.isSVGElement?this.svgContainer:this.htmlContainer).appendChild(l.container),this.tools.push(l))}return this}update(e={}){const n=this.tools;return n&&n.forEach(i=>{e.toolId!==i.cid&&i.isVisible()&&i.update()}),this}focus(e){const n=this.tools;return n&&n.forEach(i=>{e===i?i.show():i.hide()}),this}blur(e){const n=this.tools;return n&&n.forEach(i=>{i!==e&&!i.isVisible()&&(i.show(),i.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const e=this.tools;return e&&(e.forEach(n=>n.remove()),this.tools=null),Ys(this.svgContainer),Ys(this.htmlContainer),super.remove()}mount(){const e=this.tools,n=this.cellView;if(n&&e){const i=e.some(a=>!1!==a.options.isSVGElement),s=e.some(a=>!1===a.options.isSVGElement);i&&(this.options.local?n.container:n.graph.view.decorator).appendChild(this.svgContainer),s&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(o){o.toStringTag=`X6.${o.name}`,o.isToolsView=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&null!=n.graph&&null!=n.cell&&"function"==typeof n.config&&"function"==typeof n.update&&"function"==typeof n.focus&&"function"==typeof n.blur&&"function"==typeof n.show&&"function"==typeof n.hide}})(Fn||(Fn={})),function(o){let e=(()=>{class n extends bn{static getDefaults(){return this.defaults}static config(s){this.defaults=this.getOptions(s)}static getOptions(s){return Mn(En(this.getDefaults()),s)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return n.toStringTag}constructor(s={}){super(),this.visible=!0,this.options=this.getOptions(s),this.container=bn.createElement(this.options.tagName||"g",!1!==this.options.isSVGElement),dn(this.container,this.prefixClassName("cell-tool")),"string"==typeof this.options.className&&dn(this.container,this.options.className),this.init()}init(){}getOptions(s){return this.constructor.getOptions(s)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(s,a){return this.cellView=s,this.parent=a,this.stamp(this.container),this.cell.isEdge()?dn(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&dn(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const s=this.options.markup;if(s){const a=Sn.parseJSONMarkup(s);this.container.appendChild(a.fragment),this.childNodes=a.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(s){s&&s.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const s=this.options.focusOpacity;return null!=s&&Number.isFinite(s)&&(this.container.style.opacity=`${s}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(s){return null==this.graph||null==this.cellView||this.graph.view.guard(s,this.cellView)}}return n.defaults={isSVGElement:!0,tagName:"g"},n})();var n;o.ToolItem=e,function(n){let i=0;n.define=function a(l){const c=Wl(function s(l){return l?ip(l):(i+=1,`CustomTool${i}`)}(l.name),this);return c.config(l),c}}(e=o.ToolItem||(o.ToolItem={})),(n=e=o.ToolItem||(o.ToolItem={})).toStringTag=`X6.${n.name}`,n.isToolItem=function i(s){if(null==s)return!1;if(s instanceof n)return!0;const a=s[Symbol.toStringTag];return(null==a||a===n.toStringTag)&&null!=s.graph&&null!=s.cell&&"function"==typeof s.config&&"function"==typeof s.update&&"function"==typeof s.focus&&"function"==typeof s.blur&&"function"==typeof s.show&&"function"==typeof s.hide&&"function"==typeof s.isVisible}}(Fn||(Fn={}));const W1=o=>o;function Xm(o,e){return 0===e?"0%":`${Math.round(o/e*100)}%`}function Wm(o){return(n,i,s,a)=>i.isEdgeElement(s)?function K1(o,e,n,i,s){const a=n.getConnection();if(!a)return e;const l=a.closestPointLength(s);if(o){const c=a.length();e.anchor={name:"ratio",args:{ratio:l/c}}}else e.anchor={name:"length",args:{length:l}};return e}(o,n,i,0,a):function Y1(o,e,n,i,s){const a=n.cell,l=a.getAngle(),c=n.getUnrotatedBBoxOfElement(i),u=a.getBBox().getCenter(),g=Ce.create(s).rotate(l,u);let _=g.x-c.x,z=g.y-c.y;return o&&(_=Xm(_,c.width),z=Xm(z,c.height)),e.anchor={name:"topLeft",args:{dx:_,dy:z,rotate:!0}},e}(o,n,i,s,a)}const Q1=Wm(!0),Z1=Wm(!1);var $p;function Ym(o,e,n,i){return Ot($p.presets.pinRelative,this.graph,{},e,n,o,this.cell,i,{}).anchor}function Km(o,e){return e?o.cell.getBBox():o.cell.isEdge()?o.getConnection().bbox():o.getUnrotatedBBoxOfElement(o.container)}!function(o){o.presets=G,o.registry=In.create({type:"connection strategy"}),o.registry.register(o.presets,!0)}($p||($p={}));class Ss extends Fn.ToolItem{onRender(){dn(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const n=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();Zs(this.container,n,{absolute:!0})}getNodeMatrix(){const e=this.cellView,n=this.options;let{x:i=0,y:s=0}=n;const{offset:a,useCellGeometry:l,rotate:c}=n;let u=Km(e,l);const g=e.cell.getAngle();c||(u=u.bbox(g));let _=0,z=0;"number"==typeof a?(_=a,z=a):"object"==typeof a&&(_=a.x,z=a.y),i=ui(i,u.width),s=ui(s,u.height);let y=Vn().translate(u.x+u.width/2,u.y+u.height/2);return c&&(y=y.rotate(g)),y=y.translate(i+_-u.width/2,s+z-u.height/2),y}getEdgeMatrix(){const e=this.cellView,n=this.options,{offset:i=0,distance:s=0,rotate:a}=n;let l,c,u;const g=ui(s,1);l=g>=0&&g<=1?e.getTangentAtRatio(g):e.getTangentAtLength(g),l?(c=l.start,u=l.vector().vectorAngle(new Ce(1,0))||0):(c=e.getConnection().start,u=0);let _=Vn().translate(c.x,c.y).rotate(u);return _="object"==typeof i?_.translate(i.x||0,i.y||0):_.translate(0,i),a||(_=_.rotate(-u)),_}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const n=this.options.onClick;"function"==typeof n&&Ot(n,this.cellView,{e,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(o){o.config({name:"button",useCellGeometry:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Ss||(Ss={})),function(o){o.Remove=o.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,useCellGeometry:!0,onClick({view:e,btn:n}){n.parent.remove(),e.cell.remove({ui:!0,toolId:n.cid})}})}(Ss||(Ss={}));class gc extends Fn.ToolItem{onRender(){if(dn(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const e=this.options.attrs,{class:n}=e,i=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(e,["class"]);mn(this.container,Lo(i)),n&&dn(this.container,n)}this.update()}update(){const e=this.cellView,n=this.options,{useCellGeometry:i,rotate:s}=n,a=ps(n.padding);let l=Km(e,i).moveAndExpand({x:-a.left,y:-a.top,width:a.left+a.right,height:a.top+a.bottom});const c=e.cell;if(c.isNode()){const u=c.getAngle();if(u)if(s){const g=c.getBBox().getCenter();ac(this.container,u,g.x,g.y,{absolute:!0})}else l=l.bbox(u)}return mn(this.container,l.toJSON()),this}}!function(o){o.config({name:"boundary",tagName:"rect",padding:10,useCellGeometry:!0,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})}(gc||(gc={}));class Ma extends Fn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(n=>{this.stopHandleListening(n),n.remove()})}renderHandles(){const e=this.vertices;for(let n=0,i=e.length;n<i;n+=1){const s=e[n],l=this.options.processHandle,c=(0,this.options.createHandle)({index:n,graph:this.graph,guard:u=>this.guard(u),attrs:this.options.attrs||{}});l&&l(c),c.updatePosition(s.x,s.y),this.stamp(c.container),this.container.appendChild(c.container),this.handles.push(c),this.startHandleListening(c)}}updateHandles(){const e=this.vertices;for(let n=0,i=e.length;n<i;n+=1){const s=e[n],a=this.handles[n];a&&a.updatePosition(s.x,s.y)}}updatePath(){const e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(e){const n=this.cellView;n.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),n.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}stopHandleListening(e){const n=this.cellView;n.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),n.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}getNeighborPoints(e){const n=this.cellView,i=this.vertices,a=e<i.length-1?i[e+1]:n.targetAnchor;return{prev:Ce.create(e>0?i[e-1]:n.sourceAnchor),next:Ce.create(a)}}getMouseEventArgs(e){const n=this.normalizeEvent(e),{x:i,y:s}=this.graph.snapToGrid(n.clientX,n.clientY);return{e:n,x:i,y:s}}onHandleChange({e}){this.focus();const n=this.cellView;if(n.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:i,x:s,y:a}=this.getMouseEventArgs(e);this.eventData(i,{start:{x:s,y:a}}),n.notifyMouseDown(i,s,a)}}onHandleChanging({handle:e,e:n}){const i=this.cellView,s=e.options.index,{e:a,x:l,y:c}=this.getMouseEventArgs(n),u={x:l,y:c};this.snapVertex(u,s),i.cell.setVertexAt(s,u,{ui:!0,toolId:this.cid}),e.updatePosition(u.x,u.y),this.options.stopPropagation||i.notifyMouseMove(a,l,c)}stopBatch(e){this.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),e&&this.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid})}onHandleChanged({e}){const n=this.options,i=this.cellView;if(n.addable&&this.updatePath(),!n.removeRedundancies)return void this.stopBatch(this.eventData(e).vertexAdded);i.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),this.stopBatch(this.eventData(e).vertexAdded);const{e:a,x:l,y:c}=this.getMouseEventArgs(e);if(!this.options.stopPropagation){i.notifyMouseUp(a,l,c);const{start:u}=this.eventData(a);if(u){const{x:g,y:_}=u;g===l&&_===c&&i.onClick(a,l,c)}}i.checkMouseleave(a),n.onChanged&&n.onChanged({edge:i.cell,edgeView:i})}snapVertex(e,n){const i=this.options.snapRadius||0;if(i>0){const s=this.getNeighborPoints(n),a=s.prev,l=s.next;Math.abs(e.x-a.x)<i?e.x=a.x:Math.abs(e.x-l.x)<i&&(e.x=l.x),Math.abs(e.y-a.y)<i?e.y=s.prev.y:Math.abs(e.y-l.y)<i&&(e.y=l.y)}}onHandleRemove({handle:e,e:n}){if(this.options.removable){const s=this.cellView;s.cell.removeVertexAt(e.options.index,{ui:!0}),this.options.addable&&this.updatePath(),s.checkMouseleave(this.normalizeEvent(n))}}allowAddVertex(e){const n=this.guard(e),i=this.options.addable&&this.cellView.can("vertexAddable"),s=!this.options.modifiers||qs.isMatch(e,this.options.modifiers);return!n&&i&&s}onPathMouseDown(e){const n=this.cellView;if(!this.allowAddVertex(e))return;e.stopPropagation(),e.preventDefault();const i=this.normalizeEvent(e),s=this.graph.snapToGrid(i.clientX,i.clientY).toJSON();n.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const a=n.getVertexIndex(s.x,s.y);this.snapVertex(s,a),n.cell.insertVertex(s,a,{ui:!0,toolId:this.cid}),this.render();const l=this.handles[a];this.eventData(i,{vertexAdded:!0}),l.onMouseDown(i)}onRemove(){this.resetHandles()}}(function(o){o.Handle=class e extends bn{get graph(){return this.options.graph}constructor(i){super(),this.options=i,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}render(){this.container=bn.createElement("circle",!0);const i=this.options.attrs;if("function"==typeof i){const s=o.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),i(this)))}else this.setAttrs(i);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(i,s){this.setAttrs({cx:i,cy:s})}onMouseDown(i){this.options.guard(i)||(i.stopPropagation(),i.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.data),this.emit("change",{e:i,handle:this}))}onMouseMove(i){this.emit("changing",{e:i,handle:this})}onMouseUp(i){this.emit("changed",{e:i,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(i){this.emit("remove",{e:i,handle:this})}}})(Ma||(Ma={})),function(o){const e=Xn.prefix("edge-tool-vertex-path");o.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:n=>new o.Handle(n),markup:[{tagName:"path",selector:"connection",className:e,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${e}`]:"onPathMouseDown",[`touchstart .${e}`]:"onPathMouseDown"}})}(Ma||(Ma={}));class Ea extends Fn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){dn(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const e=this.cellView,n=[...this.vertices];n.unshift(e.sourcePoint),n.push(e.targetPoint);for(let i=0,s=n.length;i<s-1;i+=1){const c=this.renderHandle(n[i],n[i+1],i);this.stamp(c.container),this.handles.push(c)}return this}renderHandle(e,n,i){const s=this.options.createHandle({index:i,graph:this.graph,guard:a=>this.guard(a),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(s),this.updateHandle(s,e,n),this.container.appendChild(s.container),this.startHandleListening(s),s}startHandleListening(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}stopHandleListening(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(n=>{this.stopHandleListening(n),n.remove()})}shiftHandleIndexes(e){const n=this.handles;for(let i=0,s=n.length;i<s;i+=1)n[i].options.index+=e}resetAnchor(e,n){const i=this.cellView.cell,s={ui:!0,toolId:this.cid};n?i.prop([e,"anchor"],n,s):i.removeProp([e,"anchor"],s)}snapHandle(e,n,i){const s=e.options.axis,a=e.options.index,u=this.cellView.cell.getVertices(),g=u[a-2]||i.sourceAnchor,_=u[a+1]||i.targetAnchor,z=this.options.snapRadius;return Math.abs(n[s]-g[s])<z?n[s]=g[s]:Math.abs(n[s]-_[s])<z&&(n[s]=_[s]),n}onHandleChanging({handle:e,e:n}){const i=this.graph,s=this.options,a=this.cellView,l=s.anchor,c=e.options.axis,u=e.options.index-1,g=this.getEventData(n),_=this.normalizeEvent(n),z=i.snapToGrid(_.clientX,_.clientY),y=this.snapHandle(e,z.clone(),g),x=En(this.vertices);let N=x[u],V=x[u+1];const U=a.sourceView,te=a.sourceBBox;let ce=!1,q=!1;if(N?0===u?te.containsPoint(N)?(x.shift(),this.shiftHandleIndexes(-1),ce=!0):(N[c]=y[c],q=!0):N[c]=y[c]:(N=a.sourceAnchor.toJSON(),N[c]=y[c],te.containsPoint(N)?ce=!0:(x.unshift(N),this.shiftHandleIndexes(1),q=!0)),"function"==typeof l&&U){if(ce){const yt=g.sourceAnchor.clone();yt[c]=y[c];const zt=Ot(l,a,yt,U,a.sourceMagnet||U.container,"source",a,this);this.resetAnchor("source",zt)}q&&this.resetAnchor("source",g.sourceAnchorDef)}const we=a.targetView,Ne=a.targetBBox;let Ke=!1,gt=!1;if(V?u===x.length-2?Ne.containsPoint(V)?(x.pop(),Ke=!0):(V[c]=y[c],gt=!0):V[c]=y[c]:(V=a.targetAnchor.toJSON(),V[c]=y[c],Ne.containsPoint(V)?Ke=!0:(x.push(V),gt=!0)),"function"==typeof l&&we){if(Ke){const yt=g.targetAnchor.clone();yt[c]=y[c];const zt=Ot(l,a,yt,we,a.targetMagnet||we.container,"target",a,this);this.resetAnchor("target",zt)}gt&&this.resetAnchor("target",g.targetAnchorDef)}Ce.equalPoints(x,this.vertices)||this.cellView.cell.setVertices(x,{ui:!0,toolId:this.cid}),this.updateHandle(e,N,V,0),s.stopPropagation||a.notifyMouseMove(_,z.x,z.y)}onHandleChange({handle:e,e:n}){const i=this.options,s=this.handles,a=this.cellView,l=e.options.index;if(Array.isArray(s)){for(let c=0,u=s.length;c<u;c+=1)c!==l&&s[c].hide();if(this.focus(),this.setEventData(n,{sourceAnchor:a.sourceAnchor.clone(),targetAnchor:a.targetAnchor.clone(),sourceAnchorDef:En(this.cell.prop(["source","anchor"])),targetAnchorDef:En(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!i.stopPropagation){const c=this.normalizeEvent(n),u=this.graph.snapToGrid(c.clientX,c.clientY);a.notifyMouseDown(c,u.x,u.y)}}}onHandleChanged({e}){const n=this.options,i=this.cellView;n.removeRedundancies&&i.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const s=this.normalizeEvent(e),a=this.graph.snapToGrid(s.clientX,s.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),n.stopPropagation||i.notifyMouseUp(s,a.x,a.y),i.checkMouseleave(s),n.onChanged&&n.onChanged({edge:i.cell,edgeView:i})}updateHandle(e,n,i,s=0){const a=this.options.precision||0,l=Math.abs(n.x-i.x)<a,c=Math.abs(n.y-i.y)<a;if(l||c){const u=new Et(n,i);if(u.length()<this.options.threshold)e.hide();else{const _=u.getCenter(),z=l?"x":"y";_[z]+=s||0;const y=u.vector().vectorAngle(new Ce(1,0));e.updatePosition(_.x,_.y,y,this.cellView),e.show(),e.options.axis=z}}else e.hide()}onRemove(){this.resetHandles()}}(function(o){o.Handle=class e extends bn{constructor(i){super(),this.options=i,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=bn.createElement("rect",!0);const i=this.options.attrs;if("function"==typeof i){const s=o.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),i(this)))}else this.setAttrs(i);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(i,s,a,l){const c=l.getClosestPoint(new Ce(i,s))||new Ce(i,s);let u=Vn().translate(c.x,c.y);if(c.equals({x:i,y:s}))u=u.rotate(a);else{let _=new Et(i,s,c.x,c.y).vector().vectorAngle(new Ce(1,0));0!==_&&(_+=90),u=u.rotate(_)}this.setAttrs({transform:Qs(u),cursor:a%180==0?"row-resize":"col-resize"})}onMouseDown(i){this.options.guard(i)||(this.trigger("change",{e:i,handle:this}),i.stopPropagation(),i.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.data))}onMouseMove(i){this.emit("changing",{e:i,handle:this})}onMouseUp(i){this.emit("changed",{e:i,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}})(Ea||(Ea={})),function(o){o.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:e=>new o.Handle(e),anchor:Ym})}(Ea||(Ea={}));class mc extends Fn.ToolItem{get type(){return this.options.type}onRender(){dn(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){return this.cellView.getTerminalView(this.type)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const e=this.childNodes;if(!e)return;const n=e.anchor;if(!n)return;const i=this.type,s=this.cellView,a=this.options,l=s.getTerminalAnchor(i),c=s.cell.prop([i,"anchor"]);n.setAttribute("transform",`translate(${l.x}, ${l.y})`);const u=c?a.customAnchorAttrs:a.defaultAnchorAttrs;u&&Object.keys(u).forEach(g=>{n.setAttribute(g,u[g])})}updateArea(){const e=this.childNodes;if(!e)return;const n=e.area;if(!n)return;const i=this.type,s=this.cellView,a=s.getTerminalView(i);if(a){const l=a.cell,c=s.getTerminalMagnet(i);let g,_,z,u=this.options.areaPadding||0;Number.isFinite(u)||(u=0),a.isEdgeElement(c)?(g=a.getBBox(),_=0,z=g.getCenter()):(g=a.getUnrotatedBBoxOfElement(c),_=l.getAngle(),z=g.getCenter(),_&&z.rotate(-_,l.getBBox().getCenter())),g.inflate(u),mn(n,{x:-g.width/2,y:-g.height/2,width:g.width,height:g.height,transform:`translate(${z.x}, ${z.y}) rotate(${_})`})}}toggleArea(e){if(this.childNodes){const n=this.childNodes.area;n&&(n.style.display=e?"":"none")}}onMouseDown(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(e){const n=this.type,i=this.cell;e?i.prop([n,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):i.removeProp([n,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(e){const n=this.type,i=this.cellView,s=i.getTerminalView(n);if(null==s)return;const a=this.normalizeEvent(e),l=s.cell,c=i.getTerminalMagnet(n);let u=this.graph.coord.clientToLocalPoint(a.clientX,a.clientY);const g=this.options.snap;if("function"==typeof g){const y=Ot(g,i,u,s,c,n,i,this);u=Ce.create(y)}if(this.options.restrictArea)if(s.isEdgeElement(c)){const y=s.getClosestPoint(u);y&&(u=y)}else{const y=s.getUnrotatedBBoxOfElement(c),x=l.getAngle(),N=l.getBBox().getCenter(),V=u.clone().rotate(x,N);y.containsPoint(V)||(u=y.getNearestPointToPoint(V).rotate(-x,N))}let _;const z=this.options.anchor;"function"==typeof z&&(_=Ot(z,i,u,s,c,n,i,this)),this.resetAnchor(_),this.update()}onMouseUp(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1),this.options.removeRedundancies&&this.cellView.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const e=this.options.resetAnchor;e&&this.resetAnchor(!0===e?void 0:e),this.update()}}!function(o){o.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:Ym,snap(e,n,i,s,a,l){const c=l.options.snapRadius||0,u="source"===s,_=this.cell.getVertexAt(u?0:-1)||this.getTerminalAnchor(u?"target":"source");return _&&(Math.abs(_.x-e.x)<c&&(e.x=_.x),Math.abs(_.y-e.y)<c&&(e.y=_.y)),e}})}(mc||(mc={}));const q1=mc.define({name:"source-anchor",type:"source"}),eS=mc.define({name:"target-anchor",type:"target"});class _c extends Fn.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const e=this.options.attrs,{class:n}=e,i=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(e,["class"]);this.setAttrs(i,this.container),n&&dn(this.container,n)}}onRender(){dn(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const e=this.ratio,n=this.cellView,i=n.getTangentAtRatio(e),s=i?i.start:n.getPointAtRatio(e),a=i&&i.vector().vectorAngle(new Ce(1,0))||0;if(!s)return this;const l=Vn().translate(s.x,s.y).rotate(a);return Zs(this.container,l,{absolute:!0}),this}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const n=this.cellView;if(n.can("arrowheadMovable")){n.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const i=this.graph.snapToGrid(e.clientX,e.clientY),s=n.prepareArrowheadDragging(this.type,{x:i.x,y:i.y,options:Object.assign(Object.assign({},this.options),{toolId:this.cid})});this.cellView.setEventData(e,s),this.delegateDocumentEvents(this.options.documentEvents,e.data),n.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(e){const n=this.normalizeEvent(e),i=this.graph.snapToGrid(n.clientX,n.clientY);this.cellView.onMouseMove(n,i.x,i.y),this.update()}onMouseUp(e){this.undelegateDocumentEvents();const n=this.normalizeEvent(e),i=this.cellView,s=this.graph.snapToGrid(n.clientX,n.clientY);i.onMouseUp(n,s.x,s.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",i.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}!function(o){o.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})}(_c||(_c={}));const nS=_c.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),iS=_c.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class qo extends Fn.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5,this.dblClick=this.onCellDblClick.bind(this)}onRender(){const e=this.cellView;e&&e.on("cell:dblclick",this.dblClick)}createElement(){const e=[this.prefixClassName((this.cell.isEdge()?"edge":"node")+"-tool-editor"),this.prefixClassName("cell-tool-editor")];this.editor=Fn.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}removeElement(){this.undelegateDocumentEvents(),this.editor&&(this.container.removeChild(this.editor),this.editor=null)}updateEditor(){const{cell:e,editor:n}=this;if(!n)return;const{style:i}=n;e.isNode()?this.updateNodeEditorTransform():e.isEdge()&&this.updateEdgeEditorTransform();const{attrs:s}=this.options;i.fontSize=`${s.fontSize}px`,i.fontFamily=s.fontFamily,i.color=s.color,i.backgroundColor=s.backgroundColor;const a=this.getCellText()||"";return n.innerText=a,this.setCellText(""),this}updateNodeEditorTransform(){const{graph:e,cell:n,editor:i}=this;if(!i)return;let s=Ce.create(),a=20,l="",{x:c,y:u}=this.options;const{width:g,height:_}=this.options;if(typeof c<"u"&&typeof u<"u"){const x=n.getBBox();c=ui(c,x.width),u=ui(u,x.height),s=x.topLeft.translate(c,u),a=x.width-2*c}else{const x=n.getBBox();s=x.center,a=x.width-4,l="translate(-50%, -50%)"}const z=e.scale(),{style:y}=i;s=e.localToGraph(s),y.left=`${s.x}px`,y.top=`${s.y}px`,y.transform=`scale(${z.sx}, ${z.sy}) ${l}`,y.minWidth=`${a}px`,"number"==typeof g&&(y.width=`${g}px`),"number"==typeof _&&(y.height=`${_}px`)}updateEdgeEditorTransform(){if(!this.event)return;const{graph:e,editor:n}=this;if(!n)return;let i=Ce.create(),s=20;const{style:a}=n,l=this.event.target,c=l.parentElement;if(c&&Ws(c,this.prefixClassName("edge-label"))){const _=c.getAttribute("data-index")||"0";this.labelIndex=parseInt(_,10);const z=c.getAttribute("transform"),{translation:y}=za(z);i=new Ce(y.tx,y.ty),s=gn.getBBox(l).width}else{if(!this.options.labelAddable)return this;i=e.clientToLocal(Ce.create(this.event.clientX,this.event.clientY));const z=this.cellView.path.closestPointLength(i);this.distance=z,this.labelIndex=-1}i=e.localToGraph(i);const g=e.scale();a.left=`${i.x}px`,a.top=`${i.y}px`,a.minWidth=`${s}px`,a.transform=`scale(${g.sx}, ${g.sy}) translate(-50%, -50%)`}onDocumentMouseUp(e){if(this.editor&&e.target!==this.editor){const n=this.editor.innerText.replace(/\n$/,"")||"";this.setCellText(""!==n?n:null),this.removeElement()}}onCellDblClick({e}){this.editor||(e.stopPropagation(),this.removeElement(),this.event=e,this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents))}onMouseDown(e){e.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor&&(this.editor.focus(),this.selectText())})}selectText(){if(window.getSelection&&this.editor){const e=document.createRange(),n=window.getSelection();e.selectNodeContents(this.editor),n.removeAllRanges(),n.addRange(e)}}getCellText(){const{getText:e}=this.options;if("function"==typeof e)return Ot(e,this.cellView,{cell:this.cell,index:this.labelIndex});if("string"==typeof e){if(this.cell.isNode())return this.cell.attr(e);if(this.cell.isEdge()&&-1!==this.labelIndex)return this.cell.prop(`labels/${this.labelIndex}/attrs/${e}`)}}setCellText(e){const n=this.options.setText;if("function"!=typeof n){if("string"==typeof n){if(this.cell.isNode())return void(null!==e&&this.cell.attr(n,e));if(this.cell.isEdge()){const i=this.cell;if(-1===this.labelIndex){if(e){const s={position:{distance:this.distance},attrs:{}};Hs(s,`attrs/${n}`,e),i.appendLabel(s)}}else null!==e?i.prop(`labels/${this.labelIndex}/attrs/${n}`,e):"number"==typeof this.labelIndex&&i.removeLabelAt(this.labelIndex)}}}else Ot(n,this.cellView,{cell:this.cell,value:e,index:this.labelIndex,distance:this.distance})}onRemove(){const e=this.cellView;e&&e.off("cell:dblclick",this.dblClick),this.removeElement()}}(function(o){o.config({tagName:"div",isSVGElement:!1,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mouseup:"onDocumentMouseUp",touchend:"onDocumentMouseUp",touchcancel:"onDocumentMouseUp"}})})(qo||(qo={})),function(o){o.NodeEditor=o.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText:"text/text",setText:"text/text"}),o.EdgeEditor=o.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText:"label/text",setText:"label/text"})}(qo||(qo={}));var er,tr,Qm=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};!function(o){o.presets={boundary:gc,button:Ss,"button-remove":Ss.Remove,"node-editor":qo.NodeEditor},o.registry=In.create({type:"node tool",process(e,n){if("function"==typeof n)return n;let i=Fn.ToolItem;const{inherit:s}=n,a=Qm(n,["inherit"]);if(s){const l=this.get(s);null==l?this.onNotFound(s,"inherited"):i=l}return null==a.name&&(a.name=e),i.define.call(i,a)}}),o.registry.register(o.presets,!0)}(er||(er={})),function(o){o.presets={boundary:gc,vertices:Ma,segments:Ea,button:Ss,"button-remove":Ss.Remove,"source-anchor":q1,"target-anchor":eS,"source-arrowhead":nS,"target-arrowhead":iS,"edge-editor":qo.EdgeEditor},o.registry=In.create({type:"edge tool",process(e,n){if("function"==typeof n)return n;let i=Fn.ToolItem;const{inherit:s}=n,a=Qm(n,["inherit"]);if(s){const l=this.get(s);null==l?this.onNotFound(s,"inherited"):i=l}return null==a.name&&(a.name=e),i.define.call(i,a)}}),o.registry.register(o.presets,!0)}(tr||(tr={}));const sS=Ui("center"),oS=Ui("topCenter"),rS=Ui("bottomCenter"),aS=Ui("leftMiddle"),lS=Ui("rightMiddle"),cS=Ui("topLeft"),hS=Ui("topRight"),dS=Ui("bottomLeft"),uS=Ui("bottomRight");function Ui(o){return function(e,n,i,s={}){const a=s.rotate?e.getUnrotatedBBoxOfElement(n):e.getBBoxOfElement(n),l=a[o];l.x+=ui(s.dx,a.width),l.y+=ui(s.dy,a.height);const c=e.cell;return s.rotate?l.rotate(-c.getAngle(),c.getBBox().getCenter()):l}}function vc(o){return function(e,n,i,s){if(i instanceof Element){const a=this.graph.findViewByElem(i);let l;return l=a?a.isEdgeElement(i)?Zm(a,null!=s.fixedAt?s.fixedAt:"50%"):a.getBBoxOfElement(i).getCenter():new Ce,o.call(this,e,n,l,s)}return o.apply(this,arguments)}}function Zm(o,e){const n=Pi(e),i="string"==typeof e?parseFloat(e):e;return n?o.getPointAtRatio(i/100):o.getPointAtLength(i)}const pS=vc(function(o,e,n,i){const s=_n.normalize(o.cell.getAngle()),a=o.getBBoxOfElement(e),l=a.getCenter(),c=a.getTopLeft(),u=a.getBottomRight();let g=i.padding;if(Number.isFinite(g)||(g=0),c.y+g<=n.y&&n.y<=u.y-g){const _=n.y-l.y;l.x+=0===s||180===s?0:1*_/Math.tan(_n.toRad(s)),l.y+=_}else if(c.x+g<=n.x&&n.x<=u.x-g){const _=n.x-l.x;l.y+=90===s||270===s?0:_*Math.tan(_n.toRad(s)),l.x+=_}return l}),fS=function(o,e,n,i,s){const a=o.cell.getConnectionPoint(this.cell,s);return(i.dx||i.dy)&&a.translate(i.dx||0,i.dy||0),a},gS=vc(function(o,e,n,i){let s,l,a=0;const c=o.cell;i.rotate?(s=o.getUnrotatedBBoxOfElement(e),l=c.getBBox().getCenter(),a=c.getAngle()):s=o.getBBoxOfElement(e);const u=i.padding;null!=u&&Number.isFinite(u)&&s.inflate(u),i.rotate&&n.rotate(a,l);const g=s.getNearestSideToPoint(n);let _;switch(g){case"left":_=s.getLeftMiddle();break;case"right":_=s.getRightMiddle();break;case"top":_=s.getTopCenter();break;case"bottom":_=s.getBottomCenter()}const z=i.direction;return"H"===z?("top"===g||"bottom"===g)&&(_=n.x<=s.x+s.width?s.getLeftMiddle():s.getRightMiddle()):"V"===z&&(_=n.y<=s.y+s.height?s.getTopCenter():s.getBottomCenter()),i.rotate?_.rotate(-a,l):_});var nr;!function(o){o.presets=fe,o.registry=In.create({type:"node endpoint"}),o.registry.register(o.presets,!0)}(nr||(nr={}));const mS=function(o,e,n,i){let s=null!=i.ratio?i.ratio:.5;return s>1&&(s/=100),o.getPointAtRatio(s)},_S=function(o,e,n,i){return o.getPointAtLength(null!=i.length?i.length:20)},Jm=function(o,e,n,i){return o.getClosestPoint(n)??new Ce},vS=vc(Jm),CS=vc(function(o,e,n,i){const a=o.getConnection(),l=o.getConnectionSubdivisions(),c=new Et(n.clone().translate(0,1e6),n.clone().translate(0,-1e6)),u=new Et(n.clone().translate(1e6,0),n.clone().translate(-1e6,0)),g=c.intersect(a,{segmentSubdivisions:l}),_=u.intersect(a,{segmentSubdivisions:l}),z=[];return g&&z.push(...g),_&&z.push(..._),z.length>0?n.closest(z):null!=i.fallbackAt?Zm(o,i.fallbackAt):Ot(Jm,this,o,e,n,i)});var ir;function Cc(o,e,n){let i;if("object"==typeof n){if(Number.isFinite(n.y)){const a=new Et(e,o),{start:l,end:c}=a.parallel(n.y);e=l,o=c}i=n.x}else i=n;if(null==i||!Number.isFinite(i))return o;const s=o.distance(e);return 0===i&&s>0?o:o.move(e,-Math.min(i,s-1))}function yc(o){const e=o.getAttribute("stroke-width");return null===e?0:parseFloat(e)||0}!function(o){o.presets=ze,o.registry=In.create({type:"edge endpoint"}),o.registry.register(o.presets,!0)}(ir||(ir={}));const qm=function(o,e,n,i){const s=e.getBBoxOfElement(n);i.stroked&&s.inflate(yc(n)/2);const a=o.intersect(s);return Cc(a&&a.length?o.start.closest(a):o.end,o.start,i.offset)},zS=function(o,e,n,i,s){const a=e.cell,l=a.isNode()?a.getAngle():0;if(0===l)return Ot(qm,this,o,e,n,i,s);const c=e.getUnrotatedBBoxOfElement(n);i.stroked&&c.inflate(yc(n)/2);const u=c.getCenter(),g=o.clone().rotate(l,u),_=g.setLength(1e6).intersect(c);return Cc(_&&_.length?g.start.closest(_).rotate(-l,u):o.end,o.start,i.offset)},bS=function(o,e,n,i){let s,a;const l=o.end,c=i.selector;if(s="string"==typeof c?e.findOne(c):Array.isArray(c)?Yl(n,c):function yS(o){if(null==o)return null;let e=o;do{let n=e.tagName;if("string"!=typeof n)return null;if(n=n.toUpperCase(),"G"===n)e=e.firstElementChild;else{if("TITLE"!==n)break;e=e.nextElementSibling}}while(e);return e}(n),!ji(s)){if(s===n||!ji(n))return l;s=n}const u=e.getShapeOfElement(s),g=e.getMatrixOfElement(s),_=e.getRootTranslatedMatrix(),z=e.getRootRotatedMatrix(),y=_.multiply(z).multiply(g),x=y.inverse(),N=gn.transformLine(o,x),V=N.start.clone(),U=e.getDataOfElement(s);if(!1===i.insideout){null==U.shapeBBox&&(U.shapeBBox=u.bbox());const we=U.shapeBBox;if(null!=we&&we.containsPoint(V))return l}let te;if(!0===i.extrapolate&&N.setLength(1e6),jt.isPath(u)){const we=i.precision||2;null==U.segmentSubdivisions&&(U.segmentSubdivisions=u.getSegmentSubdivisions({precision:we})),te={precision:we,segmentSubdivisions:U.segmentSubdivisions},a=N.intersect(u,te)}else a=N.intersect(u);a?Array.isArray(a)&&(a=V.closest(a)):!0===i.sticky&&(a=St.isRectangle(u)?u.getNearestPointToPoint(V):bi.isEllipse(u)?u.intersectsWithLineFromCenterToPoint(V):u.closestPoint(V,te));const ce=a?gn.transformPoint(a,y):l;let q=i.offset||0;return!1!==i.stroked&&("object"==typeof q?(q=Object.assign({},q),null==q.x&&(q.x=0),q.x+=yc(s)/2):q+=yc(s)/2),Cc(ce,o.start,q)},TS=function(o,e,n,i){const{alignOffset:s,align:a}=i;return a&&function SS(o,e,n=0){const{start:i,end:s}=o;let a,l,c,u;switch(e){case"left":u="x",a=s,l=i,c=-1;break;case"right":u="x",a=i,l=s,c=1;break;case"top":u="y",a=s,l=i,c=-1;break;case"bottom":u="y",a=i,l=s,c=1;break;default:return}i[u]<s[u]?a[u]=l[u]:l[u]=a[u],Number.isFinite(n)&&(a[u]+=c*n,l[u]+=c*n)}(o,a,s),Cc(o.end,o.start,i.offset)};var sr;!function(o){o.presets=xe,o.registry=In.create({type:"connection point"}),o.registry.register(o.presets,!0)}(sr||(sr={}));const xS=function(o){return[...o]},OS=function(o,e,n){const i=e.side||"bottom",s=ps(e.padding||40),a=n.sourceBBox,l=n.targetBBox,c=a.getCenter(),u=l.getCenter();let g,_,z;switch(i){case"top":z=-1,g="y",_="height";break;case"left":z=-1,g="x",_="width";break;case"right":z=1,g="x",_="width";break;default:z=1,g="y",_="height"}return c[g]+=z*(a[_]/2+s[i]),u[g]+=z*(l[_]/2+s[i]),z*(c[g]-u[g])>0?u[g]=c[g]:c[g]=u[g],[c.toJSON(),...o,u.toJSON()]};function zc(o){return new St(o.x,o.y,0,0)}function bc(o={}){const e=ps(o.padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function e_(o,e={}){return o.sourceBBox.clone().moveAndExpand(bc(e))}function t_(o,e={}){return o.targetBBox.clone().moveAndExpand(bc(e))}const n_=function(o,e,n){let i=e_(n,e),s=t_(n,e);const a=function DS(o,e={}){return o.sourceAnchor?o.sourceAnchor:e_(o,e).getCenter()}(n,e),l=function wS(o,e={}){return o.targetAnchor?o.targetAnchor:t_(o,e).getCenter()}(n,e);i=i.union(zc(a)),s=s.union(zc(l));const c=o.map(_=>Ce.create(_));c.unshift(a),c.push(l);let u=null;const g=[];for(let _=0,z=c.length-1;_<z;_+=1){let y=null;const x=c[_],N=c[_+1],V=null!=gi.getBearing(x,N);if(0===_)_+1===z?i.intersectsWithRect(s.clone().inflate(1))?y=gi.insideNode(x,N,i,s):V||(y=gi.nodeToNode(x,N,i,s)):i.containsPoint(N)?y=gi.insideNode(x,N,i,zc(N).moveAndExpand(bc(e))):V||(y=gi.nodeToVertex(x,N,i));else if(_+1===z){const U=V&&gi.getBearing(N,x)===u;s.containsPoint(x)||U?y=gi.insideNode(x,N,zc(x).moveAndExpand(bc(e)),s,u):V||(y=gi.vertexToNode(x,N,s,u))}else V||(y=gi.vertexToVertex(x,N,u));y?(g.push(...y.points),u=y.direction):u=gi.getBearing(x,N),_+1<z&&g.push(N)}return g};var gi;!function(o){const e={N:"S",S:"N",E:"W",W:"E"},n={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function i(z,y,x){let N=new Ce(z.x,y.y);return x.containsPoint(N)&&(N=new Ce(y.x,z.y)),N}function s(z,y){return z["W"===y||"E"===y?"width":"height"]}function a(z,y){return z.x===y.x?z.y>y.y?"N":"S":z.y===y.y?z.x>y.x?"W":"E":null}function l(z,y,x){const N=new Ce(z.x,y.y),V=new Ce(y.x,z.y),U=a(z,N),te=a(z,V),ce=x?e[x]:null,q=U===x||U!==ce&&(te===ce||te!==x)?N:V;return{points:[q],direction:a(q,y)}}function c(z,y,x){const N=i(z,y,x);return{points:[N],direction:a(N,y)}}o.getBBoxSize=s,o.getBearing=a,o.vertexToVertex=l,o.nodeToVertex=c,o.vertexToNode=function u(z,y,x,N){const V=[new Ce(z.x,y.y),new Ce(y.x,z.y)],U=V.filter(q=>!x.containsPoint(q)),te=U.filter(q=>a(q,z)!==N);let ce;if(te.length>0)return ce=te.filter(q=>a(z,q)===N).pop(),ce=ce||te[0],{points:[ce],direction:a(ce,y)};{ce=Vf(V,U)[0];const q=Ce.create(y).move(ce,-s(x,N)/2);return{points:[i(q,z,x),q],direction:a(q,y)}}},o.nodeToNode=function g(z,y,x,N){let V=c(y,z,N);const U=V.points[0];if(x.containsPoint(U)){V=c(z,y,x);const te=V.points[0];if(N.containsPoint(te)){const ce=Ce.create(z).move(te,-s(x,a(z,te))/2),q=Ce.create(y).move(U,-s(N,a(y,U))/2),we=new Et(ce,q).getCenter(),Ne=c(z,we,x),Ke=l(we,y,Ne.direction);V.points=[Ne.points[0],Ke.points[0]],V.direction=Ke.direction}}return V},o.insideNode=function _(z,y,x,N,V){const U=x.union(N).inflate(1),te=U.getCenter(),ce=te.distance(y)>te.distance(z),q=ce?y:z,we=ce?z:y;let Ne,Ke,gt,yt;return V?(Ne=Ce.fromPolar(U.width+U.height,n[V],q),Ne=U.getNearestPointToPoint(Ne).move(Ne,-1)):Ne=U.getNearestPointToPoint(q).move(q,1),Ke=i(Ne,we,U),Ne.round().equals(Ke.round())?(Ke=Ce.fromPolar(U.width+U.height,_n.toRad(Ne.theta(q))+Math.PI/2,we),Ke=U.getNearestPointToPoint(Ke).move(we,1).round(),gt=i(Ne,Ke,U),yt=ce?[Ke,gt,Ne]:[Ne,gt,Ke]):yt=ce?[Ke,Ne]:[Ne,Ke],{points:yt,direction:a(ce?Ne:Ke,y)}}}(gi||(gi={}));const MS={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeNodes:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return Ts(this.step,this)},directions(){const o=Ts(this.step,this),e=Ts(this.cost,this);return[{cost:e,offsetX:o,offsetY:0},{cost:e,offsetX:-o,offsetY:0},{cost:e,offsetX:0,offsetY:o},{cost:e,offsetX:0,offsetY:-o}]},penalties(){const o=Ts(this.step,this);return{0:0,45:o/2,90:o/2}},paddingBox(){const o=Ts(this.step,this);return{x:-o,y:-o,width:2*o,height:2*o}},fallbackRouter:n_,draggingRouter:null,snapToGrid:!0};function Ts(o,e){return"function"==typeof o?o.call(e):o}class PS{constructor(){this.items=[],this.hash={},this.values={}}add(e,n){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=1,this.values[e]=n;const i=Ff(this.items,e,s=>this.values[s]);this.items.splice(i,0,e)}pop(){const e=this.items.shift();return e&&(this.hash[e]=2),e}isOpen(e){return 1===this.hash[e]}isClose(e){return 2===this.hash[e]}isEmpty(){return 0===this.items.length}}class kS{constructor(e){this.options=e,this.mapGridSize=100,this.map={}}build(e,n){const i=this.options,s=i.excludeTerminals.reduce((g,_)=>{const z=n[_];if(z){const y=e.getCell(z.cell);y&&g.push(y)}return g},[]);let a=[];const l=e.getCell(n.getSourceCellId());l&&(a=Zu(a,l.getAncestors().map(g=>g.id)));const c=e.getCell(n.getTargetCellId());c&&(a=Zu(a,c.getAncestors().map(g=>g.id)));const u=this.mapGridSize;return e.getNodes().reduce((g,_)=>{const z=s.some(U=>U.id===_.id),y=!!_.shape&&i.excludeShapes.includes(_.shape),x=i.excludeNodes.some(U=>"string"==typeof U?_.id===U:U===_),N=a.includes(_.id),V=y||z||x||N;if(_.isVisible()&&!V){const U=_.getBBox().moveAndExpand(i.paddingBox),te=U.getOrigin().snapToGrid(u),ce=U.getCorner().snapToGrid(u);for(let q=te.x;q<=ce.x;q+=u)for(let we=te.y;we<=ce.y;we+=u){const Ne=new Ce(q,we).toString();null==g[Ne]&&(g[Ne]=[]),g[Ne].push(U)}}return g},this.map),this}isAccessible(e){const n=e.clone().snapToGrid(this.mapGridSize).toString(),i=this.map[n];return!i||i.every(s=>!s.containsPoint(e))}}function o_(o,e){const n=o.sourceBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function r_(o,e){const n=o.targetBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function a_(o,e){return o.sourceAnchor?o.sourceAnchor:o_(o,e).getCenter()}function jp(o,e,n,i,s){const a=360/n,l=o.theta(function IS(o,e,n,i){const s=i.step;return new Ce(o.x+(e.x-o.x)/n.x*s,o.y+(e.y-o.y)/n.y*s)}(o,e,i,s)),c=_n.normalize(l+a/2);return a*Math.floor(c/a)}function l_(o,e){const n=Math.abs(o-e);return n>180?360-n:n}function c_(o,e){if(!o)return e;const n=Math.abs(o),i=Math.round(n/e);return i?e+(n-i*e)/i:n}function Pa(o,e){return o.round(e)}function Sc(o,e,n){return Pa(function FS(o,e){const n=e.source,i=vn.snapToGrid(o.x-n.x,e.x)+n.x,s=vn.snapToGrid(o.y-n.y,e.y)+n.y;return new Ce(i,s)}(o.clone(),e),n)}function ka(o){return o.toString()}function Gp(o){return new Ce(0===o.x?0:Math.abs(o.x)/o.x,0===o.y?0:Math.abs(o.y)/o.y)}function h_(o,e){let n=1/0;for(let i=0,s=e.length;i<s;i+=1){const a=o.manhattanDistance(e[i]);a<n&&(n=a)}return n}function d_(o,e,n,i,s){const a=s.precision,l=s.directionMap,c=o.diff(e.getCenter()),u=Object.keys(l).reduce((g,_)=>{if(n.includes(_)){const z=l[_],y=new Ce(o.x+z.x*(Math.abs(c.x)+e.width),o.y+z.y*(Math.abs(c.y)+e.height)),N=new Et(o,y).intersect(e)||[];let V,U=null;for(let te=0;te<N.length;te+=1){const ce=N[te],q=o.squaredDistance(ce);(null==V||q>V)&&(V=q,U=ce)}if(U){let te=Sc(U,i,a);e.containsPoint(te)&&(te=Sc(te.translate(z.x*i.x,z.y*i.y),i,a)),g.push(te)}}return g},[]);return e.containsPoint(o)||u.push(Sc(o,i,a)),u}function BS(o,e,n,i,s){const a=[];let g,l=Gp(s.diff(n)),c=ka(n),u=o[c];for(;u;){g=e[c];const y=Gp(g.diff(u));y.equals(l)||(a.unshift(g),l=y),c=ka(u),u=o[c]}const _=e[c];return Gp(_.diff(i)).equals(l)||a.unshift(_),a}function LS(o,e,n,i,s){const a=s.precision;let l,c;l=St.isRectangle(e)?Pa(a_(o,s).clone(),a):Pa(e.clone(),a),c=St.isRectangle(n)?Pa(function NS(o,e){return o.targetAnchor?o.targetAnchor:r_(o,e).getCenter()}(o,s).clone(),a):Pa(n.clone(),a);const u=function RS(o,e,n){return{source:e.clone(),x:c_(n.x-e.x,o),y:c_(n.y-e.y,o)}}(s.step,l,c),g=l,_=c;let z,y;if(z=St.isRectangle(e)?d_(g,e,s.startDirections,u,s):[g],y=St.isRectangle(n)?d_(c,n,s.endDirections,u,s):[_],z=z.filter(x=>i.isAccessible(x)),y=y.filter(x=>i.isAccessible(x)),z.length>0&&y.length>0){const x=new PS,N={},V={},U={};for(let Nt=0,Tt=z.length;Nt<Tt;Nt+=1){const Bt=z[Nt],Tn=ka(Bt);x.add(Tn,h_(Bt,y)),N[Tn]=Bt,U[Tn]=0}const te=s.previousDirectionAngle,ce=void 0===te;let q,we;const Ne=function AS(o,e){const n=e.step;return e.directions.forEach(i=>{i.gridOffsetX=i.offsetX/n*o.x,i.gridOffsetY=i.offsetY/n*o.y}),e.directions}(u,s),Ke=Ne.length,gt=y.reduce((Nt,Tt)=>{const Bt=ka(Tt);return Nt.push(Bt),Nt},[]),yt=Ce.equalPoints(z,y);let zt=s.maxLoopCount;for(;!x.isEmpty()&&zt>0;){const Nt=x.pop(),Tt=N[Nt],Bt=V[Nt],Tn=U[Nt],cn=Tt.equals(g),it=null==Bt;let _t;if(_t=it?ce?cn?null:jp(g,Tt,Ke,u,s):te:jp(Bt,Tt,Ke,u,s),(!it||!yt)&&gt.indexOf(Nt)>=0)return s.previousDirectionAngle=_t,BS(V,N,Tt,g,_);for(let On=0;On<Ke;On+=1){q=Ne[On];const Dn=q.angle;if(we=l_(_t,Dn),(!ce||!cn)&&we>s.maxDirectionChange)continue;const Gn=Sc(Tt.clone().translate(q.gridOffsetX||0,q.gridOffsetY||0),u,a),qn=ka(Gn);if(x.isClose(qn)||!i.isAccessible(Gn))continue;if(gt.indexOf(qn)>=0&&!Gn.equals(_)&&l_(Dn,jp(Gn,_,Ke,u,s))>s.maxDirectionChange)continue;const ws=Tn+q.cost+(cn?0:s.penalties[we]);(!x.isOpen(qn)||ws<U[qn])&&(N[qn]=Gn,V[qn]=Tt,U[qn]=ws,x.add(qn,ws+h_(Gn,y)))}zt-=1}}return s.fallbackRoute?Ot(s.fallbackRoute,this,g,_,s):null}const $S=function(o,e,n){const i=function ES(o){const e=Object.keys(o).reduce((n,i)=>(n[i]="fallbackRouter"===i||"draggingRouter"===i||"fallbackRoute"===i?o[i]:Ts(o[i],o),n),{});if(e.padding){const n=ps(e.padding);e.paddingBox={x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom}}return e.directions.forEach(n=>{const i=new Ce(0,0),s=new Ce(n.offsetX,n.offsetY);n.angle=_n.normalize(i.theta(s))}),e}(e),s=o_(n,i),a=r_(n,i),l=a_(n,i),c=new kS(i).build(n.graph.model,n.cell),u=o.map(x=>Ce.create(x)),g=[];let z,y,_=l;for(let x=0,N=u.length;x<=N;x+=1){let V=null;if(z=y||s,y=u[x],null==y){y=a;const te=n.cell;if((null==te.getSourceCellId()||null==te.getTargetCellId())&&"function"==typeof i.draggingRouter){const q=z===s?l:z,we=y.getOrigin();V=Ot(i.draggingRouter,n,q,we,i)}}if(null==V&&(V=LS(n,z,y,c,i)),null===V)return console.warn("Unable to execute manhattan algorithm, use orth instead"),Ot(i.fallbackRouter,this,o,i,n);const U=V[0];U&&U.equals(_)&&V.shift(),_=V[V.length-1]||_,g.push(...V)}return i.snapToGrid?function VS(o,e=10){if(o.length<=1)return o;for(let n=0,i=o.length;n<i-1;n+=1){const s=o[n],a=o[n+1];if(s.x===a.x){const l=e*Math.round(s.x/e);s.x!==l&&(s.x=l,a.x=l)}else if(s.y===a.y){const l=e*Math.round(s.y/e);s.y!==l&&(s.y=l,a.y=l)}}return o}(g,n.graph.grid.getGridSize()):g},u_=function(o,e,n){return Ot($S,this,o,Object.assign(Object.assign({},MS),e),n)},jS={maxDirectionChange:45,directions(){const o=Ts(this.step,this),e=Ts(this.cost,this),n=Math.ceil(Math.sqrt(o*o<<1));return[{cost:e,offsetX:o,offsetY:0},{cost:n,offsetX:o,offsetY:o},{cost:e,offsetX:0,offsetY:o},{cost:n,offsetX:-o,offsetY:o},{cost:e,offsetX:-o,offsetY:0},{cost:n,offsetX:-o,offsetY:-o},{cost:e,offsetX:0,offsetY:-o},{cost:n,offsetX:o,offsetY:-o}]},fallbackRoute(o,e,n){const i=o.theta(e),s=[];let a={x:e.x,y:o.y},l={x:o.x,y:e.y};if(i%180>90){const q=a;a=l,l=q}const c=i%90<45?a:l,u=new Et(o,c),g=90*Math.ceil(i/90),_=Ce.fromPolar(u.squaredLength(),_n.toRad(g+135),c),z=new Et(e,_),y=u.intersectsWithLine(z),x=y||e,V=360/n.directions.length,U=(y?x:o).theta(e),te=_n.normalize(U+V/2),ce=V*Math.floor(te/V);return n.previousDirectionAngle=ce,x&&s.push(x.round()),s.push(e),s}},GS=function(o,e,n){return Ot(u_,this,o,Object.assign(Object.assign({},jS),e),n)},HS=function(o,e,n){const i=e.offset||32,s=null==e.min?16:e.min;let a=0,l=e.direction;const c=n.sourceBBox,u=n.targetBBox,g=c.getCenter(),_=u.getCenter();if("number"==typeof i&&(a=i),null==l){let te=u.left-c.right,ce=u.top-c.bottom;te>=0&&ce>=0?l=te>=ce?"L":"T":te<=0&&ce>=0?(te=c.left-u.right,l=te>=0&&te>=ce?"R":"T"):te>=0&&ce<=0?(ce=c.top-u.bottom,l=ce>=0?te>=ce?"L":"B":"L"):(te=c.left-u.right,ce=c.top-u.bottom,l=te>=0&&ce>=0?te>=ce?"R":"B":te<=0&&ce>=0?"B":te>=0&&ce<=0||Math.abs(te)>Math.abs(ce)?"R":"B")}let z,y,x;"H"===l?l=_.x-g.x>=0?"L":"R":"V"===l&&(l=_.y-g.y>=0?"T":"B"),"center"===i&&("L"===l?a=(u.left-c.right)/2:"R"===l?a=(c.left-u.right)/2:"T"===l?a=(u.top-c.bottom)/2:"B"===l&&(a=(c.top-u.bottom)/2));const N="L"===l||"R"===l;if(N){if(_.y===g.y)return[...o];x="L"===l?1:-1,z="x",y="width"}else{if(_.x===g.x)return[...o];x="T"===l?1:-1,z="y",y="height"}const V=g.clone(),U=_.clone();if(V[z]+=x*(c[y]/2+a),U[z]-=x*(u[y]/2+a),N){const te=V.x,ce=U.x,q=c.width/2+s,we=u.width/2+s;_.x>g.x?ce<=te&&(V.x=Math.max(ce,g.x+q),U.x=Math.min(te,_.x-we)):ce>=te&&(V.x=Math.min(ce,g.x-q),U.x=Math.max(te,_.x+we))}else{const te=V.y,ce=U.y,q=c.height/2+s,we=u.height/2+s;_.y>g.y?ce<=te&&(V.y=Math.max(ce,g.y+q),U.y=Math.min(te,_.y-we)):ce>=te&&(V.y=Math.min(ce,g.y-q),U.y=Math.max(te,_.y+we))}return[V.toJSON(),...o,U.toJSON()]};function or(o,e){if(null!=e&&!1!==e){const n="boolean"==typeof e?0:e;if(n>0){const i=Ce.create(o[1]).move(o[2],n),s=Ce.create(o[1]).move(o[0],n);return[i.toJSON(),...o,s.toJSON()]}{const i=o[1];return[Object.assign({},i),...o,Object.assign({},i)]}}return o}const US=function(o,e,n){const i=e.width||50,a=(e.height||80)/2,l=e.angle||"auto",c=n.sourceAnchor,u=n.targetAnchor,g=n.sourceBBox,_=n.targetBBox;if(c.equals(u)){const z=te=>{const ce=_n.toRad(te),q=Math.sin(ce),we=Math.cos(ce),Ne=new Ce(c.x+we*i,c.y+q*i),Ke=new Ce(Ne.x-we*a,Ne.y-q*a),gt=Ke.clone().rotate(-90,Ne),yt=Ke.clone().rotate(90,Ne);return[gt.toJSON(),Ne.toJSON(),yt.toJSON()]},y=te=>{const ce=c.clone().move(te,-1),q=new Et(ce,te);return!g.containsPoint(te)&&!g.intersectsWithLine(q)},x=[0,90,180,270,45,135,225,315];if("number"==typeof l)return or(z(l),e.merge);const N=g.getCenter();if(N.equals(c))return or(z(0),e.merge);const V=N.angleBetween(c,N.clone().translate(1,0));let U=z(V);if(y(U[1]))return or(U,e.merge);for(let te=1,ce=x.length;te<ce;te+=1)if(U=z(V+x[te]),y(U[1]))return or(U,e.merge);return or(U,e.merge)}{const z=new Et(c,u);let y=z.parallel(-i),x=y.getCenter(),N=y.start.clone().move(y.end,a),V=y.end.clone().move(y.start,a);const U=z.parallel(-1),te=new Et(U.start,x),ce=new Et(U.end,x);if((g.containsPoint(x)||_.containsPoint(x)||g.intersectsWithLine(te)||g.intersectsWithLine(ce)||_.intersectsWithLine(te)||_.intersectsWithLine(ce))&&(y=z.parallel(i),x=y.getCenter(),N=y.start.clone().move(y.end,a),V=y.end.clone().move(y.start,a)),e.merge){const q=new Et(c,u),we=new Et(x,q.center).setLength(Number.MAX_SAFE_INTEGER),Ne=g.intersectsWithLine(we),Ke=_.intersectsWithLine(we),gt=Ne?Array.isArray(Ne)?Ne:[Ne]:[];Ke&&(Array.isArray(Ke)?gt.push(...Ke):gt.push(Ke));const yt=q.center.closest(gt);yt?(n.sourceAnchor=yt.clone(),n.targetAnchor=yt.clone()):(n.sourceAnchor=q.center.clone(),n.targetAnchor=q.center.clone())}return or([N.toJSON(),x.toJSON(),V.toJSON()],e.merge)}};var xs;!function(o){o.presets=Fe,o.registry=In.create({type:"router"}),o.registry.register(o.presets,!0)}(xs||(xs={}));const XS=function(o,e,n,i={}){const s=[o,...n,e],a=new Nn(s),l=new jt(a);return i.raw?l:l.serialize()},WS=function(o,e,n,i={}){const s=3===n.length?0:1,a=Ce.create(n[0+s]),l=Ce.create(n[2+s]),c=Ce.create(n[1+s]);if(!Ce.equals(o,e)){const g=new Ce((o.x+e.x)/2,(o.y+e.y)/2),_=g.angleBetween(Ce.create(o).rotate(90,g),c);_>1&&(a.rotate(180-_,g),l.rotate(180-_,g),c.rotate(180-_,g))}const u=`\n     M ${o.x} ${o.y}\n     Q ${a.x} ${a.y} ${c.x} ${c.y}\n     Q ${l.x} ${l.y} ${e.x} ${e.y}\n  `;return i.raw?jt.parse(u):u},YS=function(o,e,n,i={}){const s=new jt;s.appendSegment(jt.createSegment("M",o));const a=1/3,l=2/3,c=i.radius||10;let u,g;for(let _=0,z=n.length;_<z;_+=1){const y=Ce.create(n[_]),x=n[_-1]||o,N=n[_+1]||e;u=g||y.distance(x)/2,g=y.distance(N)/2;const V=-Math.min(c,u),U=-Math.min(c,g),te=y.clone().move(x,V).round(),ce=y.clone().move(N,U).round(),q=new Ce(a*te.x+l*y.x,l*y.y+a*te.y),we=new Ce(a*ce.x+l*y.x,l*y.y+a*ce.y);s.appendSegment(jt.createSegment("L",te)),s.appendSegment(jt.createSegment("C",q,we,ce))}return s.appendSegment(jt.createSegment("L",e)),i.raw?s:s.serialize()},KS=function(o,e,n,i={}){let s,a=i.direction;if(n&&0!==n.length){const l=[o,...n,e],c=Pn.throughPoints(l);s=new jt(c)}else if(s=new jt,s.appendSegment(jt.createSegment("M",o)),a||(a=Math.abs(o.x-e.x)>=Math.abs(o.y-e.y)?"H":"V"),"H"===a){const l=(o.x+e.x)/2;s.appendSegment(jt.createSegment("C",l,o.y,l,e.y,e.x,e.y))}else{const l=(o.y+e.y)/2;s.appendSegment(jt.createSegment("C",o.x,l,e.x,l,e.x,e.y))}return i.raw?s:s.serialize()},Tc=1/3,xc=2/3;function Hp(o,e,n=[]){const i=[o,...n,e],s=[];return i.forEach((a,l)=>{const c=i[l+1];null!=c&&s.push(new Et(a,c))}),s}function f_(o,e){return new Et(o,e).squaredLength()}function g_(o,e,n,i){const s=new jt;let a;return a=jt.createSegment("M",o[0].start),s.appendSegment(a),o.forEach((l,c)=>{if(Na.includes(l)){let u,g,_,z;if("arc"===n){u=-90,g=l.start.diff(l.end),(g.x<0||0===g.x&&g.y<0)&&(u+=180);const x=l.getCenter(),N=new Et(x,l.end).rotate(u,x);let V;V=new Et(l.start,x),_=V.pointAt(2/3).rotate(u,l.start),z=N.pointAt(1/3).rotate(-u,N.end),a=jt.createSegment("C",_,z,N.end),s.appendSegment(a),V=new Et(x,l.end),_=N.pointAt(1/3).rotate(u,N.end),z=V.pointAt(1/3).rotate(-u,l.end),a=jt.createSegment("C",_,z,l.end),s.appendSegment(a)}else if("gap"===n)a=jt.createSegment("M",l.end),s.appendSegment(a);else if("cubic"===n){u=l.start.theta(l.end);const y=.6*e;let x=1.35*e;g=l.start.diff(l.end),(g.x<0||0===g.x&&g.y<0)&&(x*=-1),_=new Ce(l.start.x+y,l.start.y+x).rotate(u,l.start),z=new Ce(l.end.x-y,l.end.y+x).rotate(u,l.end),a=jt.createSegment("C",_,z,l.end),s.appendSegment(a)}}else{const u=o[c+1];0===i||!u||Na.includes(u)?(a=jt.createSegment("L",l.end),s.appendSegment(a)):function qS(o,e,n,i,s){const a=n.distance(i)/2,l=n.distance(s)/2,c=-Math.min(o,a),u=-Math.min(o,l),g=n.clone().move(i,c).round(),_=n.clone().move(s,u).round(),z=new Ce(Tc*g.x+xc*n.x,xc*n.y+Tc*g.y),y=new Ce(Tc*_.x+xc*n.x,xc*n.y+Tc*_.y);let x;x=jt.createSegment("L",g),e.appendSegment(x),x=jt.createSegment("C",z,y,_),e.appendSegment(x)}(i,s,l.end,l.start,u.end)}}),s}let Na,Oc;const eT=function(o,e,n,i={}){Na=[],Oc=[],function QS(o){let e=o.graph._jumpOverUpdateList;if(null==e&&(e=o.graph._jumpOverUpdateList=[],o.graph.on("cell:mouseup",()=>{const n=o.graph._jumpOverUpdateList;setTimeout(()=>{for(let i=0;i<n.length;i+=1)n[i].update()})}),o.graph.on("model:reseted",()=>{e=o.graph._jumpOverUpdateList=[]})),e.indexOf(o)<0){e.push(o);const n=()=>e.splice(e.indexOf(o),1);o.cell.once("change:connector",n),o.cell.once("removed",n)}}(this);const s=i.size||5,a=i.type||"arc",l=i.radius||0,c=i.ignoreConnectors||["smooth"],u=this.graph,_=u.model.getEdges();if(1===_.length)return g_(Hp(o,e,n),s,a,l);const z=this.cell,y=_.indexOf(z),x=u.options.connecting.connector||{},N=_.filter((we,Ne)=>{const Ke=we.getConnector()||x;return!(c.includes(Ke.name)||Ne>y&&"jumpover"===Ke.name)}),V=N.map(we=>u.findViewByCell(we)),U=Hp(o,e,n),te=V.map(we=>null==we?[]:we===this?U:Hp(we.sourcePoint,we.targetPoint,we.routePoints)),ce=[];U.forEach(we=>{const Ne=N.reduce((Ke,gt,yt)=>{if(gt!==z){const zt=function ZS(o,e){const n=[];return e.forEach(i=>{const s=o.intersectsWithLine(i);s&&n.push(s)}),n}(we,te[yt]);Ke.push(...zt)}return Ke},[]).sort((Ke,gt)=>f_(we.start,Ke)-f_(we.start,gt));Ne.length>0?ce.push(...function JS(o,e,n){return e.reduce((i,s,a)=>{if(Oc.includes(s))return i;const l=i.pop()||o,c=Ce.create(s).move(l.start,-n);let u=Ce.create(s).move(l.start,+n);const g=e[a+1];if(null!=g){const y=u.distance(g);y<=n&&(u=g.move(l.start,y),Oc.push(g))}else if(c.distance(l.end)<2*n+1)return i.push(l),i;if(u.distance(l.start)<2*n+1)return i.push(l),i;const z=new Et(c,u);return Na.push(z),i.push(new Et(l.start,c),z,new Et(u,l.end)),i},[])}(we,Ne,s)):ce.push(we)});const q=g_(ce,s,a,l);return Na=[],Oc=[],i.raw?q:q.serialize()};var to;!function(o){o.presets=Ge,o.registry=In.create({type:"connector"}),o.registry.register(o.presets,!0)}(to||(to={}));class m_ extends ii{constructor(e={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(En(e)),this.changed={}}mutate(e,n={}){const i=!0===n.unset,s=!0===n.silent,a=[],l=this.changing;this.changing=!0,l||(this.previous=En(this.data),this.changed={});const c=this.data,u=this.previous,g=this.changed;if(Object.keys(e).forEach(_=>{const z=_,y=e[z];di(c[z],y)||a.push(z),di(u[z],y)?delete g[z]:g[z]=y,i?delete c[z]:c[z]=y}),!s&&a.length>0&&(this.pending=!0,this.pendingOptions=n,a.forEach(_=>{this.emit("change:*",{key:_,options:n,store:this,current:c[_],previous:u[_]})})),l)return this;if(!s)for(;this.pending;)this.pending=!1,this.emit("changed",{current:c,previous:u,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(e,n){return null==e?this.data:this.data[e]??n}getPrevious(e){if(this.previous)return this.previous[e]??void 0}set(e,n,i){return null!=e&&("object"==typeof e?this.mutate(e,n):this.mutate({[e]:n},i)),this}remove(e,n){const s={};let a;if("string"==typeof e)s[e]=void 0,a=n;else if(Array.isArray(e))e.forEach(l=>s[l]=void 0),a=n;else{for(const l in this.data)s[l]=void 0;a=e}return this.mutate(s,Object.assign(Object.assign({},a),{unset:!0})),this}getByPath(e){return Yl(this.data,e,"/")}setByPath(e,n,i={}){const s="/",a=Array.isArray(e)?[...e]:e.split(s),l=Array.isArray(e)?e.join(s):e,c=a[0],u=a.length;if(i.propertyPath=l,i.propertyValue=n,i.propertyPathArray=a,1===u)this.set(c,n,i);else{const g={};let _=g,z=c;for(let N=1;N<u;N+=1){const V=a[N],U=Number.isFinite(Number(V));_=_[z]=U?[]:{},z=V}Hs(g,a,n,s);const y=En(this.data);i.rewrite&&Ku(y,e,s);const x=Mn(y,g);this.set(c,x[c],i)}return this}removeByPath(e,n){const i=Array.isArray(e)?e:e.split("/"),s=i[0];if(1===i.length)this.remove(s,n);else{const a=i.slice(1),l=En(this.get(s));l&&Ku(l,a),this.set(s,l,n)}return this}hasChanged(e){return null==e?Object.keys(this.changed).length>0:e in this.changed}getChanges(e){if(null==e)return this.hasChanged()?En(this.changed):null;const n=this.changing?this.previous:this.data,i={};let s;for(const a in e){const l=e[a];di(n[a],l)||(i[a]=l,s=!0)}return s?En(i):null}toJSON(){return En(this.data)}clone(){return new(0,this.constructor)(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([ii.dispose()],m_.prototype,"dispose",null);class Ia{constructor(e){this.cell=e,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(e,n,i={},s="/"){const a=this.cell.getPropByPath(e),l=Tf(i,Ia.defaultOptions),c=this.getTiming(l.timing),u=this.getInterp(l.interp,a,n);let g=0;const _=Array.isArray(e)?e.join(s):e,z=Array.isArray(e)?e:e.split(s),y=()=>{const x=(new Date).getTime();0===g&&(g=x);let V=(x-g)/l.duration;V<1?this.ids[_]=requestAnimationFrame(y):V=1;const U=u(c(V));this.cell.setPropByPath(z,U),i.progress&&i.progress(Object.assign({progress:V,currentValue:U},this.getArgs(_))),1===V&&(this.cell.notify("transition:complete",this.getArgs(_)),i.complete&&i.complete(this.getArgs(_)),this.cell.notify("transition:finish",this.getArgs(_)),i.finish&&i.finish(this.getArgs(_)),this.clean(_))};return setTimeout(()=>{this.stop(e,void 0,s),this.cache[_]={startValue:a,targetValue:n,options:l},this.ids[_]=requestAnimationFrame(y),this.cell.notify("transition:start",this.getArgs(_)),i.start&&i.start(this.getArgs(_))},i.delay),this.stop.bind(this,e,s,i)}stop(e,n={},i="/"){const s=Array.isArray(e)?e:e.split(i);return Object.keys(this.ids).filter(a=>di(s,a.split(i).slice(0,s.length))).forEach(a=>{cancelAnimationFrame(this.ids[a]);const l=this.cache[a],c=this.getArgs(a),u=Object.assign(Object.assign({},l.options),n),g=u.jumpedToEnd;g&&null!=l.targetValue&&(this.cell.setPropByPath(a,l.targetValue),this.cell.notify("transition:end",Object.assign({},c)),this.cell.notify("transition:complete",Object.assign({},c)),u.complete&&u.complete(Object.assign({},c)));const _=Object.assign({jumpedToEnd:g},c);this.cell.notify("transition:stop",Object.assign({},_)),u.stop&&u.stop(Object.assign({},_)),this.cell.notify("transition:finish",Object.assign({},c)),u.finish&&u.finish(Object.assign({},c)),this.clean(a)}),this}clean(e){delete this.ids[e],delete this.cache[e]}getTiming(e){return"string"==typeof e?Xo[e]:e}getInterp(e,n,i){return e?e(n,i):"number"==typeof i?Wo.number(n,i):"string"==typeof i?"#"===i[0]?Wo.color(n,i):Wo.unit(n,i):Wo.object(n,i)}getArgs(e){const n=this.cache[e];return{path:e,startValue:n.startValue,targetValue:n.targetValue,cell:this.cell}}}!function(o){o.defaultOptions={delay:10,duration:100,timing:"linear"}}(Ia||(Ia={}));var rr,__=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};class an extends ii{static config(e){const{markup:n,propHooks:i,attrHooks:s}=e,a=__(e,["markup","propHooks","attrHooks"]);null!=n&&(this.markup=n),i&&(this.propHooks=this.propHooks.slice(),Array.isArray(i)?this.propHooks.push(...i):"function"==typeof i?this.propHooks.push(i):Object.values(i).forEach(l=>{"function"==typeof l&&this.propHooks.push(l)})),s&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),s)),this.defaults=Mn({},this.defaults,a)}static getMarkup(){return this.markup}static getDefaults(e){return e?this.defaults:En(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(e,n){return this.propHooks.reduce((i,s)=>s?Ot(s,e,i):i,n)}get[Symbol.toStringTag](){return an.toStringTag}constructor(e={}){super();const i=this.constructor.getDefaults(!0),s=Mn({},this.preprocess(i),this.preprocess(e));this.id=s.id||Ql(),this.store=new m_(s),this.animation=new Ia(this),this.setup(),this.init(),this.postprocess(e)}init(){}get model(){return this._model}set model(e){this._model!==e&&(this._model=e)}preprocess(e,n){const i=e.id,a=this.constructor.applyPropHooks(this,e);return null==i&&!0!==n&&(a.id=Ql()),a}postprocess(e){}setup(){this.store.on("change:*",e=>{const{key:n,current:i,previous:s,options:a}=e;this.notify("change:*",{key:n,options:a,current:i,previous:s,cell:this}),this.notify(`change:${n}`,{options:a,current:i,previous:s,cell:this}),("source"===n||"target"===n)&&this.notify("change:terminal",{type:n,current:i,previous:s,options:a,cell:this})}),this.store.on("changed",({options:e})=>this.notify("changed",{options:e,cell:this}))}notify(e,n){this.trigger(e,n);const i=this.model;return i&&(i.notify(`cell:${e}`,n),this.isNode()?i.notify(`node:${e}`,Object.assign(Object.assign({},n),{node:this})):this.isEdge()&&i.notify(`edge:${e}`,Object.assign(Object.assign({},n),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(e){return this.store===e.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(e,n){return null==e?this.store.get():this.store.get(e,n)}setProp(e,n,i){if("string"==typeof e)this.store.set(e,n,i);else{const s=this.preprocess(e,!0);this.store.set(Mn({},this.getProp(),s),n),this.postprocess(e)}return this}removeProp(e,n){return"string"==typeof e||Array.isArray(e)?this.store.removeByPath(e,n):this.store.remove(n),this}hasChanged(e){return null==e?this.store.hasChanged():this.store.hasChanged(e)}getPropByPath(e){return this.store.getByPath(e)}setPropByPath(e,n,i={}){return this.model&&("children"===e?this._children=n?n.map(s=>this.model.getCell(s)).filter(s=>null!=s):null:"parent"===e&&(this._parent=n?this.model.getCell(n):null)),this.store.setByPath(e,n,i),this}removePropByPath(e,n={}){const i=Array.isArray(e)?e:e.split("/");return"attrs"===i[0]&&(n.dirty=!0),this.store.removeByPath(i,n),this}prop(e,n,i){return null==e?this.getProp():"string"==typeof e||Array.isArray(e)?1===arguments.length?this.getPropByPath(e):null==n?this.removePropByPath(e,i||{}):this.setPropByPath(e,n,i||{}):this.setProp(e,n||{})}previous(e){return this.store.getPrevious(e)}get zIndex(){return this.getZIndex()}set zIndex(e){null==e?this.removeZIndex():this.setZIndex(e)}getZIndex(){return this.store.get("zIndex")}setZIndex(e,n={}){return this.store.set("zIndex",e,n),this}removeZIndex(e={}){return this.store.remove("zIndex",e),this}toFront(e={}){const n=this.model;if(n){let s,i=n.getMaxZIndex();e.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this],i=i-s.length+1;const a=n.total();let l=n.indexOf(this)!==a-s.length;l||(l=s.some((c,u)=>c.getZIndex()!==i+u)),l&&this.batchUpdate("to-front",()=>{i+=s.length,s.forEach((c,u)=>{c.setZIndex(i+u,e)})})}return this}toBack(e={}){const n=this.model;if(n){let s,i=n.getMinZIndex();e.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this];let a=0!==n.indexOf(this);a||(a=s.some((l,c)=>l.getZIndex()!==i+c)),a&&this.batchUpdate("to-back",()=>{i-=s.length,s.forEach((l,c)=>{l.setZIndex(i+c,e)})})}return this}get markup(){return this.getMarkup()}set markup(e){null==e?this.removeMarkup():this.setMarkup(e)}getMarkup(){let e=this.store.get("markup");return null==e&&(e=this.constructor.getMarkup()),e}setMarkup(e,n={}){return this.store.set("markup",e,n),this}removeMarkup(e={}){return this.store.remove("markup",e),this}get attrs(){return this.getAttrs()}set attrs(e){null==e?this.removeAttrs():this.setAttrs(e)}getAttrs(){const e=this.store.get("attrs");return e?Object.assign({},e):{}}setAttrs(e,n={}){if(null==e)this.removeAttrs(n);else{const i=s=>this.store.set("attrs",s,n);if(!0===n.overwrite)i(e);else{const s=this.getAttrs();i(!1===n.deep?Object.assign(Object.assign({},s),e):Mn({},s,e))}}return this}replaceAttrs(e,n={}){return this.setAttrs(e,Object.assign(Object.assign({},n),{overwrite:!0}))}updateAttrs(e,n={}){return this.setAttrs(e,Object.assign(Object.assign({},n),{deep:!1}))}removeAttrs(e={}){return this.store.remove("attrs",e),this}getAttrDefinition(e){if(!e)return null;const i=this.constructor.getAttrHooks()||{};let s=i[e]||ki.registry.get(e);if(!s){const a=ga(e);s=i[a]||ki.registry.get(a)}return s||null}getAttrByPath(e){return null==e||""===e?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}setAttrByPath(e,n,i={}){return this.setPropByPath(this.prefixAttrPath(e),n,i),this}removeAttrByPath(e,n={}){return this.removePropByPath(this.prefixAttrPath(e),n),this}prefixAttrPath(e){return Array.isArray(e)?["attrs"].concat(e):`attrs/${e}`}attr(e,n,i){return null==e?this.getAttrByPath():"string"==typeof e||Array.isArray(e)?1===arguments.length?this.getAttrByPath(e):null==n?this.removeAttrByPath(e,i||{}):this.setAttrByPath(e,n,i||{}):this.setAttrs(e,n||{})}get visible(){return this.isVisible()}set visible(e){this.setVisible(e)}setVisible(e,n={}){return this.store.set("visible",e,n),this}isVisible(){return!1!==this.store.get("visible")}show(e={}){return this.isVisible()||this.setVisible(!0,e),this}hide(e={}){return this.isVisible()&&this.setVisible(!1,e),this}toggleVisible(e,n={}){const s="boolean"==typeof e?n:e;return("boolean"==typeof e?e:!this.isVisible())?this.show(s):this.hide(s),this}get data(){return this.getData()}set data(e){this.setData(e)}getData(){return this.store.get("data")}setData(e,n={}){if(null==e)this.removeData(n);else{const i=s=>this.store.set("data",s,n);if(!0===n.overwrite)i(e);else{const s=this.getData();i(!1===n.deep?"object"==typeof e?Object.assign(Object.assign({},s),e):e:Mn({},s,e))}}return this}replaceData(e,n={}){return this.setData(e,Object.assign(Object.assign({},n),{overwrite:!0}))}updateData(e,n={}){return this.setData(e,Object.assign(Object.assign({},n),{deep:!1}))}removeData(e={}){return this.store.remove("data",e),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const e=this.getParentId();if(e&&this.model){const n=this.model.getCell(e);return this._parent=n,n}return null}getChildren(){const e=this.store.get("children");if(e&&e.length&&this.model){const n=e.map(i=>{var s;return null===(s=this.model)||void 0===s?void 0:s.getCell(i)}).filter(i=>null!=i);return this._children=n,[...n]}return null}hasParent(){return null!=this.parent}isParentOf(e){return null!=e&&e.getParent()===this}isChildOf(e){return null!=e&&this.getParent()===e}eachChild(e,n){return this.children&&this.children.forEach(e,n),this}filterChild(e,n){return this.children?this.children.filter(e,n):[]}getChildCount(){return null==this.children?0:this.children.length}getChildIndex(e){return null==this.children?-1:this.children.indexOf(e)}getChildAt(e){return null!=this.children&&e>=0?this.children[e]:null}getAncestors(e={}){const n=[];let i=this.getParent();for(;i;)n.push(i),i=!1!==e.deep?i.getParent():null;return n}getDescendants(e={}){if(!1!==e.deep){if(e.breadthFirst){const n=[],i=this.getChildren()||[];for(;i.length>0;){const s=i.shift(),a=s.getChildren();n.push(s),a&&i.push(...a)}return n}{const n=this.getChildren()||[];return n.forEach(i=>{n.push(...i.getDescendants(e))}),n}}return this.getChildren()||[]}isDescendantOf(e,n={}){if(null==e)return!1;if(!1!==n.deep){let i=this.getParent();for(;i;){if(i===e)return!0;i=i.getParent()}return!1}return this.isChildOf(e)}isAncestorOf(e,n={}){return null!=e&&e.isDescendantOf(this,n)}contains(e){return this.isAncestorOf(e)}getCommonAncestor(...e){return an.getCommonAncestor(this,...e)}setParent(e,n={}){return this._parent=e,e?this.store.set("parent",e.id,n):this.store.remove("parent",n),this}setChildren(e,n={}){return this._children=e,null!=e?this.store.set("children",e.map(i=>i.id),n):this.store.remove("children",n),this}unembed(e,n={}){const i=this.children;if(null!=i&&null!=e){const s=this.getChildIndex(e);-1!==s&&(i.splice(s,1),e.setParent(null,n),this.setChildren(i,n))}return this}embed(e,n={}){return e.addTo(this,n),this}addTo(e,n={}){return an.isCell(e)?e.addChild(this,n):e.addCell(this,n),this}insertTo(e,n,i={}){return e.insertChild(this,n,i),this}addChild(e,n={}){return this.insertChild(e,void 0,n)}insertChild(e,n,i={}){if(null!=e&&e!==this){const s=e.getParent(),a=this!==s;let l=n;if(null==l&&(l=this.getChildCount(),a||(l-=1)),s){const u=s.getChildren();if(u){const g=u.indexOf(e);g>=0&&(e.setParent(null,i),u.splice(g,1),s.setChildren(u,i))}}let c=this.children;if(null==c?(c=[],c.push(e)):c.splice(l,0,e),e.setParent(this,i),this.setChildren(c,i),a&&this.model){const u=this.model.getIncomingEdges(this),g=this.model.getOutgoingEdges(this);u&&u.forEach(_=>_.updateParent(i)),g&&g.forEach(_=>_.updateParent(i))}this.model&&this.model.addCell(e,i)}return this}removeFromParent(e={}){const n=this.getParent();if(null!=n){const i=n.getChildIndex(this);n.removeChildAt(i,e)}return this}removeChild(e,n={}){const i=this.getChildIndex(e);return this.removeChildAt(i,n)}removeChildAt(e,n={}){const i=this.getChildAt(e);return null!=this.children&&null!=i&&(this.unembed(i,n),i.remove(n)),i}remove(e={}){return this.batchUpdate("remove",()=>{const n=this.getParent();n&&n.removeChild(this,e),!1!==e.deep&&this.eachChild(i=>i.remove(e)),this.model&&this.model.removeCell(this,e)}),this}transition(e,n,i={},s="/"){return this.animation.start(e,n,i,s)}stopTransition(e,n,i="/"){return this.animation.stop(e,n,i),this}getTransitions(){return this.animation.get()}translate(e,n,i){return this}scale(e,n,i,s){return this}addTools(e,n,i){const s=Array.isArray(e)?e:[e],a="string"==typeof n?n:null,l="object"==typeof n?n:"object"==typeof i?i:{};if(l.reset)return this.setTools({name:a,items:s,local:l.local},l);let c=En(this.getTools());return null==c||null==a||c.name===a?(null==c&&(c={}),c.items||(c.items=[]),c.name=a,c.items=[...c.items,...s],this.setTools(Object.assign({},c),l)):void 0}setTools(e,n={}){return null==e?this.removeTools():this.store.set("tools",an.normalizeTools(e),n),this}getTools(){return this.store.get("tools")}removeTools(e={}){return this.store.remove("tools",e),this}hasTools(e){const n=this.getTools();return null!=n&&(null==e||n.name===e)}hasTool(e){const n=this.getTools();return null!=n&&n.items.some(i=>"string"==typeof i?i===e:i.name===e)}removeTool(e,n={}){const i=En(this.getTools());if(i){let s=!1;const a=i.items.slice(),l=c=>{a.splice(c,1),s=!0};if("number"==typeof e)l(e);else for(let c=a.length-1;c>=0;c-=1){const u=a[c];("string"==typeof u?u===e:u.name===e)&&l(c)}s&&(i.items=a,this.setTools(i,n))}return this}getBBox(e){return new St}getConnectionPoint(e,n){return new Ce}toJSON(e={}){const n=Object.assign({},this.store.get()),i=Object.prototype.toString,s=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!n.shape){const N=this.constructor;throw new Error(`Unable to serialize ${s} missing "shape" prop, check the ${s} "${N.name||i.call(N)}"`)}const l=!0===e.diff,c=n.attrs||{},u=this.constructor.getDefaults(!0),g=l?this.preprocess(u,!0):u,_=g.attrs||{},z={};Object.entries(n).forEach(([N,V])=>{if(null!=V&&!Array.isArray(V)&&"object"==typeof V&&!ni(V))throw new Error(`Can only serialize ${s} with plain-object props, but got a "${i.call(V)}" type of key "${N}" on ${s} "${this.id}"`);"attrs"!==N&&"shape"!==N&&l&&di(V,g[N])&&delete n[N]}),Object.keys(c).forEach(N=>{const V=c[N],U=_[N];Object.keys(V).forEach(te=>{const ce=V[te],q=U?U[te]:null;null==ce||"object"!=typeof ce||Array.isArray(ce)?(null==U||!di(q,ce))&&(null==z[N]&&(z[N]={}),z[N][te]=ce):Object.keys(ce).forEach(we=>{const Ne=ce[we];null!=U&&null!=q&&Pe(q)&&di(q[we],Ne)||(null==z[N]&&(z[N]={}),null==z[N][te]&&(z[N][te]={}),z[N][te][we]=Ne)})})});const y=Object.assign(Object.assign({},n),{attrs:pa(z)?void 0:z});null==y.attrs&&delete y.attrs;const x=y;return 0===x.angle&&delete x.angle,En(x)}clone(e={}){if(!e.deep){const i=Object.assign({},this.store.get());return e.keepId||delete i.id,delete i.parent,delete i.children,new(0,this.constructor)(i)}return an.deepClone(this)[this.id]}findView(e){return e.findViewByCell(this)}startBatch(e,n={},i=this.model){return this.notify("batch:start",{name:e,data:n,cell:this}),i&&i.startBatch(e,Object.assign(Object.assign({},n),{cell:this})),this}stopBatch(e,n={},i=this.model){return i&&i.stopBatch(e,Object.assign(Object.assign({},n),{cell:this})),this.notify("batch:stop",{name:e,data:n,cell:this}),this}batchUpdate(e,n,i){const s=this.model;this.startBatch(e,i,s);const a=n();return this.stopBatch(e,i,s),a}dispose(){this.removeFromParent(),this.store.dispose()}}an.defaults={},an.attrHooks={},an.propHooks=[],function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([ii.dispose()],an.prototype,"dispose",null),function(o){o.normalizeTools=function e(n){return"string"==typeof n?{items:[n]}:Array.isArray(n)?{items:n}:n.items?n:{items:[n]}}}(an||(an={})),function(o){o.toStringTag=`X6.${o.name}`,o.isCell=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNode&&"function"==typeof n.isEdge&&"function"==typeof n.prop&&"function"==typeof n.attr}}(an||(an={})),function(o){o.getCommonAncestor=function e(...a){const l=a.filter(u=>null!=u).map(u=>u.getAncestors()).sort((u,g)=>u.length-g.length);return l.shift().find(u=>l.every(g=>g.includes(u)))||null},o.getCellsBBox=function n(a,l={}){let c=null;for(let u=0,g=a.length;u<g;u+=1){const _=a[u];let z=_.getBBox(l);if(z){if(_.isNode()){const y=_.getAngle();null!=y&&0!==y&&(z=z.bbox(y))}c=null==c?z:c.union(z)}}return c},o.deepClone=function i(a){const l=[a,...a.getDescendants({deep:!0})];return o.cloneCells(l)},o.cloneCells=function s(a){const l=Qu(a),c=l.reduce((u,g)=>(u[g.id]=g.clone(),u),{});return l.forEach(u=>{const g=c[u.id];if(g.isEdge()){const y=g.getSourceCellId(),x=g.getTargetCellId();y&&c[y]&&g.setSource(Object.assign(Object.assign({},g.getSource()),{cell:c[y].id})),x&&c[x]&&g.setTarget(Object.assign(Object.assign({},g.getTarget()),{cell:c[x].id}))}const _=u.getParent();_&&c[_.id]&&g.setParent(c[_.id]);const z=u.getChildren();if(z&&z.length){const y=z.reduce((x,N)=>(c[N.id]&&x.push(c[N.id]),x),[]);y.length>0&&g.setChildren(y)}}),c}}(an||(an={})),function(o){o.config({propHooks(e){var{tools:n}=e,i=__(e,["tools"]);return n&&(i.tools=o.normalizeTools(n)),i}})}(an||(an={})),function(o){let e,n;o.exist=function i(l,c){return c?null!=e&&e.exist(l):null!=n&&n.exist(l)},o.setEdgeRegistry=function s(l){e=l},o.setNodeRegistry=function a(l){n=l}}(rr||(rr={}));class iT{constructor(e){this.ports=[],this.groups={},this.init(En(e))}getPorts(){return this.ports}getGroup(e){return null!=e?this.groups[e]:null}getPortsByGroup(e){return this.ports.filter(n=>n.group===e||null==n.group&&null==e)}getPortsLayoutByGroup(e,n){const i=this.getPortsByGroup(e),s=e?this.getGroup(e):null,a=s?s.position:null,l=a?a.name:null;let c;if(null!=l){const z=eo.registry.get(l);if(null==z)return eo.registry.onNotFound(l);c=z}else c=eo.presets.left;return c(i.map(z=>z&&z.position&&z.position.args||{}),n,a&&a.args||{}).map((z,y)=>{const x=i[y];return{portLayout:z,portId:x.id,portSize:x.size,portAttrs:x.attrs,labelSize:x.label.size,labelLayout:this.getPortLabelLayout(x,Ce.create(z.position),n)}})}init(e){const{groups:n,items:i}=e;null!=n&&Object.keys(n).forEach(s=>{this.groups[s]=this.parseGroup(n[s])}),Array.isArray(i)&&i.forEach(s=>{this.ports.push(this.parsePort(s))})}parseGroup(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}parsePort(e){const n=Object.assign({},e),i=this.getGroup(e.group)||{};return n.markup=n.markup||i.markup,n.attrs=Mn({},i.attrs,n.attrs),n.position=this.createPosition(i,n),n.label=Mn({},i.label,this.getLabel(n)),n.zIndex=this.getZIndex(i,n),n.size=Object.assign(Object.assign({},i.size),n.size),n}getZIndex(e,n){return"number"==typeof n.zIndex?n.zIndex:"number"==typeof e.zIndex||"auto"===e.zIndex?e.zIndex:"auto"}createPosition(e,n){return Mn({name:"left",args:{}},e.position,{args:n.args})}getPortPosition(e,n=!1){if(null==e){if(n)return{name:"left",args:{}}}else{if("string"==typeof e)return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if("object"==typeof e)return e}return{args:{}}}getPortLabelPosition(e,n=!1){if(null==e){if(n)return{name:"left",args:{}}}else{if("string"==typeof e)return{name:e,args:{}};if("object"==typeof e)return e}return{args:{}}}getLabel(e,n=!1){const i=e.label||{};return i.position=this.getPortLabelPosition(i.position,n),i}getPortLabelLayout(e,n,i){const a=e.label.position.args||{},l=Jo.registry.get(e.label.position.name||"left")||Jo.presets.left;return l?l(n,i,a):null}}var Dc=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};let $n=(()=>{class o extends an{get[Symbol.toStringTag](){return o.toStringTag}constructor(n={}){super(n),this.initPorts()}preprocess(n,i){const{x:s,y:a,width:l,height:c}=n,u=Dc(n,["x","y","width","height"]);if(null!=s||null!=a){const g=u.position;u.position=Object.assign(Object.assign({},g),{x:s??(g?g.x:0),y:a??(g?g.y:0)})}if(null!=l||null!=c){const g=u.size;u.size=Object.assign(Object.assign({},g),{width:l??(g?g.width:0),height:c??(g?g.height:0)})}return super.preprocess(u,i)}isNode(){return!0}size(n,i,s){return void 0===n?this.getSize():"number"==typeof n?this.setSize(n,i,s):this.setSize(n,i)}getSize(){const n=this.store.get("size");return n?Object.assign({},n):{width:1,height:1}}setSize(n,i,s){return"object"==typeof n?this.resize(n.width,n.height,i):this.resize(n,i,s),this}resize(n,i,s={}){this.startBatch("resize",s);const a=s.direction;if(a){const l=this.getSize();switch(a){case"left":case"right":i=l.height;break;case"top":case"bottom":n=l.width}let u={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[a];const g=_n.normalize(this.getAngle()||0);s.absolute&&(u+=Math.floor((g+45)/90),u%=4);const _=this.getBBox();let z;z=0===u?_.getBottomLeft():1===u?_.getCorner():2===u?_.getTopRight():_.getOrigin();const y=z.clone().rotate(-g,_.getCenter()),x=Math.sqrt(n*n+i*i)/2;let N=u*Math.PI/2;N+=Math.atan(u%2==0?i/n:n/i),N-=_n.toRad(g);const U=Ce.fromPolar(x,N,y).clone().translate(n/-2,i/-2);this.store.set("size",{width:n,height:i},s),this.setPosition(U.x,U.y,s)}else this.store.set("size",{width:n,height:i},s);return this.stopBatch("resize",s),this}scale(n,i,s,a={}){const l=this.getBBox().scale(n,i,s??void 0);return this.startBatch("scale",a),this.setPosition(l.x,l.y,a),this.resize(l.width,l.height,a),this.stopBatch("scale"),this}position(n,i,s){return"number"==typeof n?this.setPosition(n,i,s):this.getPosition(n)}getPosition(n={}){if(n.relative){const s=this.getParent();if(null!=s&&s.isNode()){const a=this.getPosition(),l=s.getPosition();return{x:a.x-l.x,y:a.y-l.y}}}const i=this.store.get("position");return i?Object.assign({},i):{x:0,y:0}}setPosition(n,i,s={}){let a,l,c;if("object"==typeof n?(a=n.x,l=n.y,c=i||{}):(a=n,l=i,c=s||{}),c.relative){const u=this.getParent();if(null!=u&&u.isNode()){const g=u.getPosition();a+=g.x,l+=g.y}}if(c.deep){const u=this.getPosition();this.translate(a-u.x,l-u.y,c)}else this.store.set("position",{x:a,y:l},c);return this}translate(n=0,i=0,s={}){if(0===n&&0===i)return this;s.translateBy=s.translateBy||this.id;const a=this.getPosition();if(null!=s.restrict&&s.translateBy===this.id){const c=this.getBBox({deep:!0}),u=s.restrict,g=a.x-c.x,_=a.y-c.y,z=Math.max(u.x+g,Math.min(u.x+u.width+g-c.width,a.x+n)),y=Math.max(u.y+_,Math.min(u.y+u.height+_-c.height,a.y+i));n=z-a.x,i=y-a.y}const l={x:a.x+n,y:a.y+i};return s.tx=n,s.ty=i,s.transition?("object"!=typeof s.transition&&(s.transition={}),this.transition("position",l,Object.assign(Object.assign({},s.transition),{interp:Wo.object})),this.eachChild(c=>{var u;(null===(u=s.exclude)||void 0===u?void 0:u.includes(c))||c.translate(n,i,s)})):(this.startBatch("translate",s),this.store.set("position",l,s),this.eachChild(c=>{var u;(null===(u=s.exclude)||void 0===u?void 0:u.includes(c))||c.translate(n,i,s)}),this.stopBatch("translate",s)),this}angle(n,i){return null==n?this.getAngle():this.rotate(n,i)}getAngle(){return this.store.get("angle",0)}rotate(n,i={}){const s=this.getAngle();if(i.center){const a=this.getSize(),l=this.getPosition(),c=this.getBBox().getCenter();c.rotate(s-n,i.center);const u=c.x-a.width/2-l.x,g=c.y-a.height/2-l.y;this.startBatch("rotate",{angle:n,options:i}),this.setPosition(l.x+u,l.y+g,i),this.rotate(n,Object.assign(Object.assign({},i),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",i.absolute?n:(s+n)%360,i);return this}getBBox(n={}){if(n.deep){const i=this.getDescendants({deep:!0,breadthFirst:!0});return i.push(this),an.getCellsBBox(i)}return St.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(n,i){const s=this.getBBox(),a=s.getCenter(),l=n.getTerminal(i);if(null==l)return a;const c=l.port;if(!c||!this.hasPort(c))return a;const u=this.getPort(c);if(!u||!u.group)return a;const _=this.getPortsPosition(u.group)[c].position,z=Ce.create(_).translate(s.getOrigin()),y=this.getAngle();return y&&z.rotate(-y,a),z}fit(n={}){const s=(this.getChildren()||[]).filter(_=>_.isNode());if(0===s.length)return this;this.startBatch("fit-embeds",n),n.deep&&s.forEach(_=>_.fit(n));let{x:a,y:l,width:c,height:u}=an.getCellsBBox(s);const g=ps(n.padding);return a-=g.left,l-=g.top,c+=g.left+g.right,u+=g.bottom+g.top,this.store.set({position:{x:a,y:l},size:{width:c,height:u}},n),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(n){this.setPortContainerMarkup(n)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Sn.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(n,i={}){return this.store.set("portContainerMarkup",Sn.clone(n),i),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(n){this.setPortMarkup(n)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Sn.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(n,i={}){return this.store.set("portMarkup",Sn.clone(n),i),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(n){this.setPortLabelMarkup(n)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Sn.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(n,i={}){return this.store.set("portLabelMarkup",Sn.clone(n),i),this}get ports(){const n=this.store.get("ports",{items:[]});return null==n.items&&(n.items=[]),n}getPorts(){return En(this.ports.items)}getPortsByGroup(n){return this.getPorts().filter(i=>i.group===n)}getPort(n){return En(this.ports.items.find(i=>i.id&&i.id===n))}getPortAt(n){return this.ports.items[n]||null}hasPorts(){return this.ports.items.length>0}hasPort(n){return-1!==this.getPortIndex(n)}getPortIndex(n){const i="string"==typeof n?n:n.id;return null!=i?this.ports.items.findIndex(s=>s.id===i):-1}getPortsPosition(n){const i=this.getSize();return this.port.getPortsLayoutByGroup(n,new St(0,0,i.width,i.height)).reduce((a,l)=>{const c=l.portLayout;return a[l.portId]={position:Object.assign({},c.position),angle:c.angle||0},a},{})}getPortProp(n,i){return this.getPropByPath(this.prefixPortPath(n,i))}setPortProp(n,i,s,a){if("string"==typeof i||Array.isArray(i)){const u=this.prefixPortPath(n,i);return this.setPropByPath(u,s,a)}const l=this.prefixPortPath(n);return this.setPropByPath(l,i,s)}removePortProp(n,i,s){return"string"==typeof i||Array.isArray(i)?this.removePropByPath(this.prefixPortPath(n,i),s):this.removePropByPath(this.prefixPortPath(n),i)}portProp(n,i,s,a){return null==i?this.getPortProp(n):"string"==typeof i||Array.isArray(i)?2===arguments.length?this.getPortProp(n,i):null==s?this.removePortProp(n,i,a):this.setPortProp(n,i,s,a):this.setPortProp(n,i,s)}prefixPortPath(n,i){const s=this.getPortIndex(n);if(-1===s)throw new Error(`Unable to find port with id: "${n}"`);return null==i||""===i?["ports","items",`${s}`]:Array.isArray(i)?["ports","items",`${s}`,...i]:`ports/items/${s}/${i}`}addPort(n,i){const s=[...this.ports.items];return s.push(n),this.setPropByPath("ports/items",s,i),this}addPorts(n,i){return this.setPropByPath("ports/items",[...this.ports.items,...n],i),this}insertPort(n,i,s){const a=[...this.ports.items];return a.splice(n,0,i),this.setPropByPath("ports/items",a,s),this}removePort(n,i={}){return this.removePortAt(this.getPortIndex(n),i)}removePortAt(n,i={}){if(n>=0){const s=[...this.ports.items];s.splice(n,1),i.rewrite=!0,this.setPropByPath("ports/items",s,i)}return this}removePorts(n,i){let s;if(Array.isArray(n)){if(s=i||{},n.length){s.rewrite=!0;const l=[...this.ports.items].filter(c=>!n.some(u=>c.id===("string"==typeof u?u:u.id)));this.setPropByPath("ports/items",l,s)}}else s=n||{},s.rewrite=!0,this.setPropByPath("ports/items",[],s);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(n,i){return this.port.getPortsLayoutByGroup(n,i)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const i={};this.ports.items.forEach(c=>{c.id&&(i[c.id]=!0)});const s={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(c=>{c.id&&!i[c.id]&&(s[c.id]=!0)});const l=this.model;l&&!pa(s)&&(l.getConnectedEdges(this,{incoming:!0}).forEach(g=>{const _=g.getTargetPortId();_&&s[_]&&g.remove()}),l.getConnectedEdges(this,{outgoing:!0}).forEach(g=>{const _=g.getSourcePortId();_&&s[_]&&g.remove()}))}validatePorts(){const n={},i=[];return this.ports.items.forEach(s=>{"object"!=typeof s&&i.push(`Invalid port ${s}.`),null==s.id&&(s.id=this.generatePortId()),n[s.id]&&i.push("Duplicitied port id."),n[s.id]=!0}),i}generatePortId(){return Ql()}updatePortData(){const n=this.validatePorts();if(n.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(n.join(" "));const i=this.port?this.port.getPorts():null;this.port=new iT(this.ports);const s=this.port.getPorts(),a=i?s.filter(c=>i.find(u=>u.id===c.id)?null:c):[...s],l=i?i.filter(c=>s.find(u=>u.id===c.id)?null:c):[];a.length>0&&this.notify("ports:added",{added:a,cell:this,node:this}),l.length>0&&this.notify("ports:removed",{removed:l,cell:this,node:this})}}return o.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},o})();(function(o){o.toStringTag=`X6.${o.name}`,o.isNode=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNode&&"function"==typeof n.isEdge&&"function"==typeof n.prop&&"function"==typeof n.attr&&"function"==typeof n.size&&"function"==typeof n.position}})($n||($n={})),function(o){o.config({propHooks(e){var{ports:n}=e,i=Dc(e,["ports"]);return n&&(i.ports=Array.isArray(n)?{items:n}:n),i}})}($n||($n={})),function(o){o.registry=In.create({type:"node",process(e,n){if(rr.exist(e,!0))throw new Error(`Node with name '${e}' was registered by anthor Edge`);if("function"==typeof n)return n.config({shape:e}),n;let i=o;const{inherit:s}=n,a=Dc(n,["inherit"]);if(s)if("string"==typeof s){const c=this.get(s);null==c?this.onNotFound(s,"inherited"):i=c}else i=s;null==a.constructorName&&(a.constructorName=e);const l=i.define.call(i,a);return l.config({shape:e}),l}}),rr.setNodeRegistry(o.registry)}($n||($n={})),function(o){let e=0;o.define=function i(a){const{constructorName:l,overwrite:c}=a,u=Dc(a,["constructorName","overwrite"]),g=Wl(function n(a){return a?ip(a):(e+=1,`CustomNode${e}`)}(l||u.shape),this);return g.config(u),u.shape&&o.registry.register(u.shape,g,c),g},o.create=function s(a){const l=a.shape||"rect",c=o.registry.get(l);return c?new c(a):o.registry.onNotFound(l)}}($n||($n={}));var wc=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};let Rn=(()=>{class o extends an{get[Symbol.toStringTag](){return o.toStringTag}constructor(n={}){super(n)}preprocess(n,i){const{source:s,sourceCell:a,sourcePort:l,sourcePoint:c,target:u,targetCell:g,targetPort:_,targetPoint:z}=n,x=wc(n,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),N=V=>"string"==typeof V||"number"==typeof V;if(null!=s)if(an.isCell(s))x.source={cell:s.id};else if(N(s))x.source={cell:s};else if(Ce.isPoint(s))x.source=s.toJSON();else if(Array.isArray(s))x.source={x:s[0],y:s[1]};else{const V=s.cell;x.source=an.isCell(V)?Object.assign(Object.assign({},s),{cell:V.id}):s}if(null!=a||null!=l){let V=x.source;if(null!=a){const U=N(a)?a:a.id;V?V.cell=U:V=x.source={cell:U}}null!=l&&V&&(V.port=l)}else null!=c&&(x.source=Ce.create(c).toJSON());if(null!=u)if(an.isCell(u))x.target={cell:u.id};else if(N(u))x.target={cell:u};else if(Ce.isPoint(u))x.target=u.toJSON();else if(Array.isArray(u))x.target={x:u[0],y:u[1]};else{const V=u.cell;x.target=an.isCell(V)?Object.assign(Object.assign({},u),{cell:V.id}):u}if(null!=g||null!=_){let V=x.target;if(null!=g){const U=N(g)?g:g.id;V?V.cell=U:V=x.target={cell:U}}null!=_&&V&&(V.port=_)}else null!=z&&(x.target=Ce.create(z).toJSON());return super.preprocess(x,i)}setup(){super.setup(),this.on("change:labels",n=>this.onLabelsChanged(n)),this.on("change:vertices",n=>this.onVertexsChanged(n))}isEdge(){return!0}disconnect(n={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},n),this}get source(){return this.getSource()}set source(n){this.setSource(n)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(n,i,s={}){return this.setTerminal("source",n,i,s)}get target(){return this.getTarget()}set target(n){this.setTarget(n)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(n,i,s={}){return this.setTerminal("target",n,i,s)}getTerminal(n){return Object.assign({},this.store.get(n))}setTerminal(n,i,s,a={}){if(an.isCell(i))return this.store.set(n,Mn({},s,{cell:i.id}),a),this;const l=i;return Ce.isPoint(i)||null!=l.x&&null!=l.y?(this.store.set(n,Mn({},s,{x:l.x,y:l.y}),a),this):(this.store.set(n,En(i),a),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(n){const i=this[n];if(Ce.isPointLike(i))return Ce.create(i);const s=this.getTerminalCell(n);return s?s.getConnectionPoint(this,n):new Ce}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(n){if(this.model){const i="source"===n?this.getSourceCellId():this.getTargetCellId();if(i)return this.model.getCell(i)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(n){let i=this;const s={};for(;i&&i.isEdge();){if(s[i.id])return null;s[i.id]=!0,i=i.getTerminalCell(n)}return i&&i.isNode()?i:null}get router(){return this.getRouter()}set router(n){null==n?this.removeRouter():this.setRouter(n)}getRouter(){return this.store.get("router")}setRouter(n,i,s){return"object"==typeof n?this.store.set("router",n,i):this.store.set("router",{name:n,args:i},s),this}removeRouter(n={}){return this.store.remove("router",n),this}get connector(){return this.getConnector()}set connector(n){null==n?this.removeConnector():this.setConnector(n)}getConnector(){return this.store.get("connector")}setConnector(n,i,s){return"object"==typeof n?this.store.set("connector",n,i):this.store.set("connector",{name:n,args:i},s),this}removeConnector(n={}){return this.store.remove("connector",n)}getDefaultLabel(){const n=this.constructor,i=this.store.get("defaultLabel")||n.defaultLabel||{};return En(i)}get labels(){return this.getLabels()}set labels(n){this.setLabels(n)}getLabels(){return[...this.store.get("labels",[])].map(n=>this.parseLabel(n))}setLabels(n,i={}){return this.store.set("labels",Array.isArray(n)?n:[n],i),this}insertLabel(n,i,s={}){const a=this.getLabels(),l=a.length;let c=null!=i&&Number.isFinite(i)?i:l;return c<0&&(c=l+c+1),a.splice(c,0,this.parseLabel(n)),this.setLabels(a,s)}appendLabel(n,i={}){return this.insertLabel(n,-1,i)}getLabelAt(n){const i=this.getLabels();return null!=n&&Number.isFinite(n)?this.parseLabel(i[n]):null}setLabelAt(n,i,s={}){if(null!=n&&Number.isFinite(n)){const a=this.getLabels();a[n]=this.parseLabel(i),this.setLabels(a,s)}return this}removeLabelAt(n,i={}){const s=this.getLabels(),a=null!=n&&Number.isFinite(n)?n:-1,l=s.splice(a,1);return this.setLabels(s,i),l.length?l[0]:null}parseLabel(n){return"string"==typeof n?this.constructor.parseStringLabel(n):n}onLabelsChanged({previous:n,current:i}){const s=n&&i?i.filter(l=>n.find(c=>l===c||di(l,c))?null:l):i?[...i]:[],a=n&&i?n.filter(l=>i.find(c=>l===c||di(l,c))?null:l):n?[...n]:[];s.length>0&&this.notify("labels:added",{added:s,cell:this,edge:this}),a.length>0&&this.notify("labels:removed",{removed:a,cell:this,edge:this})}get vertices(){return this.getVertices()}set vertices(n){this.setVertices(n)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(n,i={}){const s=Array.isArray(n)?n:[n];return this.store.set("vertices",s.map(a=>Ce.toJSON(a)),i),this}insertVertex(n,i,s={}){const a=this.getVertices(),l=a.length;let c=null!=i&&Number.isFinite(i)?i:l;return c<0&&(c=l+c+1),a.splice(c,0,Ce.toJSON(n)),this.setVertices(a,s)}appendVertex(n,i={}){return this.insertVertex(n,-1,i)}getVertexAt(n){return null!=n&&Number.isFinite(n)?this.getVertices()[n]:null}setVertexAt(n,i,s={}){if(null!=n&&Number.isFinite(n)){const a=this.getVertices();a[n]=i,this.setVertices(a,s)}return this}removeVertexAt(n,i={}){const s=this.getVertices(),a=null!=n&&Number.isFinite(n)?n:-1;return s.splice(a,1),this.setVertices(s,i)}onVertexsChanged({previous:n,current:i}){const s=n&&i?i.filter(l=>n.find(c=>Ce.equals(l,c))?null:l):i?[...i]:[],a=n&&i?n.filter(l=>i.find(c=>Ce.equals(l,c))?null:l):n?[...n]:[];s.length>0&&this.notify("vertexs:added",{added:s,cell:this,edge:this}),a.length>0&&this.notify("vertexs:removed",{removed:a,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Sn.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}translate(n,i,s={}){return s.translateBy=s.translateBy||this.id,s.tx=n,s.ty=i,this.applyToPoints(a=>({x:(a.x||0)+n,y:(a.y||0)+i}),s)}scale(n,i,s,a={}){return this.applyToPoints(l=>Ce.create(l).scale(n,i,s).toJSON(),a)}applyToPoints(n,i={}){const s={},a=this.getSource(),l=this.getTarget();Ce.isPointLike(a)&&(s.source=n(a)),Ce.isPointLike(l)&&(s.target=n(l));const c=this.getVertices();return c.length>0&&(s.vertices=c.map(n)),this.store.set(s,i),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const n=[this.getSourcePoint(),...this.getVertices().map(i=>Ce.create(i)),this.getTargetPoint()];return new Nn(n)}updateParent(n){let i=null;const s=this.getSourceCell(),a=this.getTargetCell(),l=this.getParent();return s&&a&&(i=s===a||s.isDescendantOf(a)?a:a.isDescendantOf(s)?s:an.getCommonAncestor(s,a)),l&&i&&i.id!==l.id&&l.unembed(this,n),i&&(!l||l.id!==i.id)&&i.embed(this,n),i}hasLoop(n={}){const i=this.getSource(),s=this.getTarget(),a=i.cell,l=s.cell;if(!a||!l)return!1;let c=a===l;if(!c&&n.deep&&this._model){const u=this.getSourceCell(),g=this.getTargetCell();u&&g&&(c=u.isAncestorOf(g,n)||g.isAncestorOf(u,n))}return c}getFragmentAncestor(){const n=[this,this.getSourceNode(),this.getTargetNode()].filter(i=>null!=i);return this.getCommonAncestor(...n)}isFragmentDescendantOf(n){const i=this.getFragmentAncestor();return!!i&&(i.id===n.id||i.isDescendantOf(n))}}return o.defaults={},o})();(function(o){o.equalTerminals=function e(n,i){return n.cell===i.cell&&(n.port===i.port||null==n.port&&null==i.port)}})(Rn||(Rn={})),function(o){o.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}},o.parseStringLabel=function e(n){return{attrs:{label:{text:n}}}}}(Rn||(Rn={})),function(o){o.toStringTag=`X6.${o.name}`,o.isEdge=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNode&&"function"==typeof n.isEdge&&"function"==typeof n.prop&&"function"==typeof n.attr&&"function"==typeof n.disconnect&&"function"==typeof n.getSource&&"function"==typeof n.getTarget}}(Rn||(Rn={})),function(o){o.registry=In.create({type:"edge",process(e,n){if(rr.exist(e,!1))throw new Error(`Edge with name '${e}' was registered by anthor Node`);if("function"==typeof n)return n.config({shape:e}),n;let i=o;const{inherit:s="edge"}=n,a=wc(n,["inherit"]);if("string"==typeof s){const c=this.get(s||"edge");null==c&&s?this.onNotFound(s,"inherited"):i=c}else i=s;null==a.constructorName&&(a.constructorName=e);const l=i.define.call(i,a);return l.config({shape:e}),l}}),rr.setEdgeRegistry(o.registry)}(Rn||(Rn={})),function(o){let e=0;o.define=function i(a){const{constructorName:l,overwrite:c}=a,u=wc(a,["constructorName","overwrite"]),g=Wl(function n(a){return a?ip(a):(e+=1,`CustomEdge${e}`)}(l||u.shape),this);return g.config(u),u.shape&&o.registry.register(u.shape,g,c),g},o.create=function s(a){const l=a.shape||"edge",c=o.registry.get(l);return c?new c(a):o.registry.onNotFound(l)}}(Rn||(Rn={})),function(o){const e="basic.edge";o.config({shape:e,propHooks(n){const{label:i,vertices:s}=n,a=wc(n,["label","vertices"]);if(i){null==a.labels&&(a.labels=[]);const l="string"==typeof i?o.parseStringLabel(i):i;a.labels.push(l)}return s&&Array.isArray(s)&&(a.vertices=s.map(l=>Ce.create(l).toJSON())),a}}),o.registry.register(e,o)}(Rn||(Rn={}));class Mc extends ii{constructor(e,n={}){super(),this.length=0,this.comparator=n.comparator||"zIndex",this.clean(),e&&this.reset(e,{silent:!0})}toJSON(){return this.cells.map(e=>e.toJSON())}add(e,n,i){let s,a;"number"==typeof n?(s=n,a=Object.assign({merge:!1},i)):(s=this.length,a=Object.assign({merge:!1},n)),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);const l=Array.isArray(e)?e:[e],c=this.comparator&&"number"!=typeof n&&!1!==a.sort,u=this.comparator||null;let g=!1;const _=[],z=[];return l.forEach(y=>{const x=this.get(y);x?a.merge&&!y.isSameStore(x)&&(x.setProp(y.getProp(),i),z.push(x),c&&!g&&(g=null==u||"function"==typeof u?x.hasChanged():"string"==typeof u?x.hasChanged(u):u.some(N=>x.hasChanged(N)))):(_.push(y),this.reference(y))}),_.length&&(c&&(g=!0),this.cells.splice(s,0,..._),this.length=this.cells.length),g&&this.sort({silent:!0}),a.silent||(_.forEach((y,x)=>{const N={cell:y,index:s+x,options:a};this.trigger("added",N),a.dryrun||y.notify("added",Object.assign({},N))}),g&&this.trigger("sorted"),(_.length||z.length)&&this.trigger("updated",{added:_,merged:z,removed:[],options:a})),this}remove(e,n={}){const i=Array.isArray(e)?e:[e],s=this.removeCells(i,n);return!n.silent&&s.length>0&&this.trigger("updated",{options:n,removed:s,added:[],merged:[]}),Array.isArray(e)?s:s[0]}removeCells(e,n){const i=[];for(let s=0;s<e.length;s+=1){const a=this.get(e[s]);if(null==a)continue;const l=this.cells.indexOf(a);this.cells.splice(l,1),this.length-=1,delete this.map[a.id],i.push(a),this.unreference(a),n.dryrun||a.remove(),n.silent||(this.trigger("removed",{cell:a,index:l,options:n}),n.dryrun||a.notify("removed",{cell:a,index:l,options:n}))}return i}reset(e,n={}){const i=this.cells.slice();if(i.forEach(s=>this.unreference(s)),this.clean(),this.add(e,Object.assign({silent:!0},n)),!n.silent){const s=this.cells.slice();this.trigger("reseted",{options:n,previous:i,current:s});const a=[],l=[];s.forEach(c=>{i.some(g=>g.id===c.id)||a.push(c)}),i.forEach(c=>{s.some(g=>g.id===c.id)||l.push(c)}),this.trigger("updated",{options:n,added:a,removed:l,merged:[]})}return this}push(e,n){return this.add(e,this.length,n)}pop(e){const n=this.at(this.length-1);return this.remove(n,e)}unshift(e,n){return this.add(e,0,n)}shift(e){const n=this.at(0);return this.remove(n,e)}get(e){return null==e?null:this.map["string"==typeof e||"number"==typeof e?e:e.id]||null}has(e){return null!=this.get(e)}at(e){return e<0&&(e+=this.length),this.cells[e]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(e){return this.cells.indexOf(e)}toArray(){return this.cells.slice()}sort(e={}){return null!=this.comparator&&(this.cells=Lf(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}clone(){return new(0,this.constructor)(this.cells.slice(),{comparator:this.comparator})}reference(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}unreference(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}notifyCellEvent(e,n){const i=n.cell;this.trigger(`cell:${e}`,n),i&&(i.isNode()?this.trigger(`node:${e}`,Object.assign(Object.assign({},n),{node:i})):i.isEdge()&&this.trigger(`edge:${e}`,Object.assign(Object.assign({},n),{edge:i})))}clean(){this.length=0,this.cells=[],this.map={}}dispose(){this.reset([])}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Mc.dispose()],Mc.prototype,"dispose",null);class mi extends ii{get[Symbol.toStringTag](){return mi.toStringTag}constructor(e=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new Mc(e),this.setup()}notify(e,n){this.trigger(e,n);const i=this.graph;return i&&i.trigger("sorted"===e||"reseted"===e||"updated"===e?`model:${e}`:e,n),this}setup(){const e=this.collection;e.on("sorted",()=>this.notify("sorted",null)),e.on("updated",n=>this.notify("updated",n)),e.on("cell:change:zIndex",()=>this.sortOnChangeZ()),e.on("added",({cell:n})=>{this.onCellAdded(n)}),e.on("removed",n=>{const i=n.cell;this.onCellRemoved(i,n.options),this.notify("cell:removed",n),i.isNode()?this.notify("node:removed",Object.assign(Object.assign({},n),{node:i})):i.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},n),{edge:i}))}),e.on("reseted",n=>{this.onReset(n.current),this.notify("reseted",n)}),e.on("edge:change:source",({edge:n})=>this.onEdgeTerminalChanged(n,"source")),e.on("edge:change:target",({edge:n})=>{this.onEdgeTerminalChanged(n,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(e){const n=e.id;e.isEdge()?(e.updateParent(),this.edges[n]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[n]=!0}onCellRemoved(e,n){const i=e.id;if(e.isEdge()){delete this.edges[i];const s=e.getSource(),a=e.getTarget();if(s&&s.cell){const l=this.outgoings[s.cell],c=l?l.indexOf(i):-1;c>=0&&(l.splice(c,1),0===l.length&&delete this.outgoings[s.cell])}if(a&&a.cell){const l=this.incomings[a.cell],c=l?l.indexOf(i):-1;c>=0&&(l.splice(c,1),0===l.length&&delete this.incomings[a.cell])}}else delete this.nodes[i];n.clear||(n.disconnectEdges?this.disconnectConnectedEdges(e,n):this.removeConnectedEdges(e,n)),e.model===this&&(e.model=null)}onReset(e){this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach(n=>this.onCellAdded(n))}onEdgeTerminalChanged(e,n){const i="source"===n?this.outgoings:this.incomings,s=e.previous(n);if(s&&s.cell){const l=an.isCell(s.cell)?s.cell.id:s.cell,c=i[l],u=c?c.indexOf(e.id):-1;u>=0&&(c.splice(u,1),0===c.length&&delete i[l])}const a=e.getTerminal(n);if(a&&a.cell){const l=an.isCell(a.cell)?a.cell.id:a.cell,c=i[l]||[];-1===c.indexOf(e.id)&&c.push(e.id),i[l]=c}}prepareCell(e,n){return!e.model&&(!n||!n.dryrun)&&(e.model=this),null==e.zIndex&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}resetCells(e,n={}){return e.map(i=>this.prepareCell(i,Object.assign(Object.assign({},n),{dryrun:!0}))),this.collection.reset(e,n),e.map(i=>this.prepareCell(i,{options:n})),this}clear(e={}){const n=this.getCells();if(0===n.length)return this;const i=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",()=>{const s=n.sort((a,l)=>(a.isEdge()?1:2)-(l.isEdge()?1:2));for(;s.length>0;){const a=s.shift();a&&a.remove(i)}},i),this}addNode(e,n={}){const i=$n.isNode(e)?e:this.createNode(e);return this.addCell(i,n),i}updateNode(e,n={}){const i=this.createNode(e),s=i.getProp();return i.dispose(),this.updateCell(s,n)}createNode(e){return $n.create(e)}addEdge(e,n={}){const i=Rn.isEdge(e)?e:this.createEdge(e);return this.addCell(i,n),i}createEdge(e){return Rn.create(e)}updateEdge(e,n={}){const i=this.createEdge(e),s=i.getProp();return i.dispose(),this.updateCell(s,n)}addCell(e,n={}){return Array.isArray(e)?this.addCells(e,n):(!this.collection.has(e)&&!this.addings.has(e)&&(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,n),n),e.eachChild(i=>this.addCell(i,n)),this.addings.delete(e)),this)}addCells(e,n={}){const i=e.length;if(0===i)return this;const s=Object.assign(Object.assign({},n),{position:i-1,maxPosition:i-1});return this.startBatch("add",Object.assign(Object.assign({},s),{cells:e})),e.forEach(a=>{this.addCell(a,s),s.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},s),{cells:e})),this}updateCell(e,n={}){const i=e.id&&this.getCell(e.id);return!!i&&this.batchUpdate("update",()=>(Object.entries(e).forEach(([s,a])=>i.setProp(s,a,n)),!0),e)}removeCell(e,n={}){const i="string"==typeof e?this.getCell(e):e;return i&&this.has(i)?this.collection.remove(i,n):null}updateCellId(e,n){if(e.id===n)return;this.startBatch("update",{id:n}),e.prop("id",n);const i=e.clone({keepId:!0});return this.addCell(i),this.getConnectedEdges(e).forEach(a=>{const l=a.getSourceCell(),c=a.getTargetCell();l===e&&a.setSource(Object.assign(Object.assign({},a.getSource()),{cell:n})),c===e&&a.setTarget(Object.assign(Object.assign({},a.getTarget()),{cell:n}))}),this.removeCell(e),this.stopBatch("update",{id:n}),i}removeCells(e,n={}){return e.length?this.batchUpdate("remove",()=>e.map(i=>this.removeCell(i,n))):[]}removeConnectedEdges(e,n={}){const i=this.getConnectedEdges(e);return i.forEach(s=>{s.remove(n)}),i}disconnectConnectedEdges(e,n={}){const i="string"==typeof e?e:e.id;this.getConnectedEdges(e).forEach(s=>{const a=s.getSourceCellId(),l=s.getTargetCellId();a===i&&s.setSource({x:0,y:0},n),l===i&&s.setTarget({x:0,y:0},n)})}has(e){return this.collection.has(e)}total(){return this.collection.length}indexOf(e){return this.collection.indexOf(e)}getCell(e){return this.collection.get(e)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const e=this.collection.first();return e&&e.getZIndex()||0}getMaxZIndex(){const e=this.collection.last();return e&&e.getZIndex()||0}getCellsFromCache(e){return e?Object.keys(e).map(n=>this.getCell(n)).filter(n=>null!=n):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(e){const i=this.outgoings["string"==typeof e?e:e.id];return i?i.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getIncomingEdges(e){const i=this.incomings["string"==typeof e?e:e.id];return i?i.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getConnectedEdges(e,n={}){const i=[],s="string"==typeof e?this.getCell(e):e;if(null==s)return i;const a={},l=n.indirect;let c=n.incoming,u=n.outgoing;null==c&&null==u&&(c=u=!0);const g=(_,z)=>{const y=z?this.getOutgoingEdges(_):this.getIncomingEdges(_);if(y?.forEach(x=>{a[x.id]||(i.push(x),a[x.id]=!0,l&&(c&&g(x,!1),u&&g(x,!0)))}),l&&_.isEdge()){const x=z?_.getTargetCell():_.getSourceCell();x&&x.isEdge()&&(a[x.id]||(i.push(x),g(x,z)))}};if(u&&g(s,!0),c&&g(s,!1),n.deep){const _=s.getDescendants({deep:!0}),z={};_.forEach(x=>{x.isNode()&&(z[x.id]=!0)});const y=(x,N)=>{const V=N?this.getOutgoingEdges(x.id):this.getIncomingEdges(x.id);V?.forEach(U=>{if(!a[U.id]){const te=U.getSourceCell(),ce=U.getTargetCell();if(!n.enclosed&&te&&z[te.id]&&ce&&z[ce.id])return;i.push(U),a[U.id]=!0}})};_.forEach(x=>{x.isEdge()||(u&&y(x,!0),c&&y(x,!1))})}return i}isBoundary(e,n){const i="string"==typeof e?this.getCell(e):e,s=n?this.getIncomingEdges(i):this.getOutgoingEdges(i);return null==s||0===s.length}getBoundaryNodes(e){const n=[];return Object.keys(this.nodes).forEach(i=>{if(this.isBoundary(i,e)){const s=this.getCell(i);s&&n.push(s)}}),n}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(e){return this.isBoundary(e,!0)}isLeaf(e){return this.isBoundary(e,!1)}getNeighbors(e,n={}){let i=n.incoming,s=n.outgoing;null==i&&null==s&&(i=s=!0);const l=this.getConnectedEdges(e,n).reduce((c,u)=>{const g=u.hasLoop(n),_=u.getSourceCell(),z=u.getTargetCell();return i&&_&&_.isNode()&&!c[_.id]&&(g||_!==e&&(!n.deep||!_.isDescendantOf(e)))&&(c[_.id]=_),s&&z&&z.isNode()&&!c[z.id]&&(g||z!==e&&(!n.deep||!z.isDescendantOf(e)))&&(c[z.id]=z),c},{});if(e.isEdge()){if(i){const c=e.getSourceCell();c&&c.isNode()&&!l[c.id]&&(l[c.id]=c)}if(s){const c=e.getTargetCell();c&&c.isNode()&&!l[c.id]&&(l[c.id]=c)}}return Object.keys(l).map(c=>l[c])}isNeighbor(e,n,i={}){let s=i.incoming,a=i.outgoing;return null==s&&null==a&&(s=a=!0),this.getConnectedEdges(e,i).some(l=>{const c=l.getSourceCell(),u=l.getTargetCell();return!!(s&&c&&c.id===n.id||a&&u&&u.id===n.id)})}getSuccessors(e,n={}){const i=[];return this.search(e,(s,a)=>{s!==e&&this.matchDistance(a,n.distance)&&i.push(s)},Object.assign(Object.assign({},n),{outgoing:!0})),i}isSuccessor(e,n,i={}){let s=!1;return this.search(e,(a,l)=>{if(a===n&&a!==e&&this.matchDistance(l,i.distance))return s=!0,!1},Object.assign(Object.assign({},i),{outgoing:!0})),s}getPredecessors(e,n={}){const i=[];return this.search(e,(s,a)=>{s!==e&&this.matchDistance(a,n.distance)&&i.push(s)},Object.assign(Object.assign({},n),{incoming:!0})),i}isPredecessor(e,n,i={}){let s=!1;return this.search(e,(a,l)=>{if(a===n&&a!==e&&this.matchDistance(l,i.distance))return s=!0,!1},Object.assign(Object.assign({},i),{incoming:!0})),s}matchDistance(e,n){return null==n||("function"==typeof n?n(e):!(!Array.isArray(n)||!n.includes(e))||e===n)}getCommonAncestor(...e){const n=[];return e.forEach(i=>{i&&(Array.isArray(i)?n.push(...i):n.push(i))}),an.getCommonAncestor(...n)}getSubGraph(e,n={}){const i=[],s={},a=[],l=[],c=u=>{s[u.id]||(i.push(u),s[u.id]=u,u.isEdge()&&l.push(u),u.isNode()&&a.push(u))};return e.forEach(u=>{c(u),n.deep&&u.getDescendants({deep:!0}).forEach(_=>c(_))}),l.forEach(u=>{const g=u.getSourceCell(),_=u.getTargetCell();g&&!s[g.id]&&(i.push(g),s[g.id]=g,g.isNode()&&a.push(g)),_&&!s[_.id]&&(i.push(_),s[_.id]=_,_.isNode()&&a.push(_))}),a.forEach(u=>{this.getConnectedEdges(u,n).forEach(_=>{const z=_.getSourceCell(),y=_.getTargetCell();!s[_.id]&&z&&s[z.id]&&y&&s[y.id]&&(i.push(_),s[_.id]=_)})}),i}cloneSubGraph(e,n={}){const i=this.getSubGraph(e,n);return this.cloneCells(i)}cloneCells(e){return an.cloneCells(e)}getNodesFromPoint(e,n){const i="number"==typeof e?{x:e,y:n||0}:e;return this.getNodes().filter(s=>s.getBBox().containsPoint(i))}getNodesInArea(e,n,i,s,a){const l="number"==typeof e?new St(e,n,i,s):St.create(e),c="number"==typeof e?a:n,u=c&&c.strict;return this.getNodes().filter(g=>{const _=g.getBBox();return u?l.containsRect(_):l.isIntersectWithRect(_)})}getEdgesInArea(e,n,i,s,a){const l="number"==typeof e?new St(e,n,i,s):St.create(e),c="number"==typeof e?a:n,u=c&&c.strict;return this.getEdges().filter(g=>{const _=g.getBBox();return 0===_.width?_.inflate(1,0):0===_.height&&_.inflate(0,1),u?l.containsRect(_):l.isIntersectWithRect(_)})}getNodesUnderNode(e,n={}){const i=e.getBBox();return(null==n.by||"bbox"===n.by?this.getNodesInArea(i):this.getNodesFromPoint(i[n.by])).filter(a=>e.id!==a.id&&!a.isDescendantOf(e))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(e,n={}){return an.getCellsBBox(e,n)}search(e,n,i={}){i.breadthFirst?this.breadthFirstSearch(e,n,i):this.depthFirstSearch(e,n,i)}breadthFirstSearch(e,n,i={}){const s=[],a={},l={};for(s.push(e),l[e.id]=0;s.length>0;){const c=s.shift();null==c||a[c.id]||(a[c.id]=!0,!1===Ot(n,this,c,l[c.id]))||this.getNeighbors(c,i).forEach(g=>{l[g.id]=l[c.id]+1,s.push(g)})}}depthFirstSearch(e,n,i={}){const s=[],a={},l={};for(s.push(e),l[e.id]=0;s.length>0;){const c=s.pop();if(null==c||a[c.id]||(a[c.id]=!0,!1===Ot(n,this,c,l[c.id])))continue;const u=this.getNeighbors(c,i),g=s.length;u.forEach(_=>{l[_.id]=l[c.id]+1,s.splice(g,0,_)})}}getShortestPath(e,n,i={}){const s={};this.getEdges().forEach(g=>{const _=g.getSourceCellId(),z=g.getTargetCellId();_&&z&&(s[_]||(s[_]=[]),s[z]||(s[z]=[]),s[_].push(z),i.directed||s[z].push(_))});const l=kp.run(s,"string"==typeof e?e:e.id,i.weight),c=[];let u="string"==typeof n?n:n.id;for(l[u]&&c.push(u);u=l[u];)c.unshift(u);return c}translate(e,n,i){return this.getCells().filter(s=>!s.hasParent()).forEach(s=>s.translate(e,n,i)),this}resize(e,n,i){return this.resizeCells(e,n,this.getCells(),i)}resizeCells(e,n,i,s={}){const a=this.getCellsBBox(i);if(a){const l=Math.max(e/a.width,0),c=Math.max(n/a.height,0),u=a.getOrigin();i.forEach(g=>g.scale(l,c,u,s))}return this}toJSON(e={}){return mi.toJSON(this.getCells(),e)}parseJSON(e){return mi.fromJSON(e)}fromJSON(e,n={}){const i=this.parseJSON(e);return this.resetCells(i,n),this}startBatch(e,n={}){return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:n}),this}stopBatch(e,n={}){return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:n}),this}batchUpdate(e,n,i={}){this.startBatch(e,i);const s=n();return this.stopBatch(e,i),s}hasActiveBatch(e=Object.keys(this.batches)){return(Array.isArray(e)?e:[e]).some(i=>this.batches[i]>0)}dispose(){this.collection.dispose()}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([mi.dispose()],mi.prototype,"dispose",null),function(o){o.toStringTag=`X6.${o.name}`,o.isModel=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.addNode&&"function"==typeof n.addEdge&&null!=n.collection}}(mi||(mi={})),function(o){o.toJSON=function e(i,s={}){return{cells:i.map(a=>a.toJSON(s))}},o.fromJSON=function n(i){const s=[];return Array.isArray(i)?s.push(...i):(i.cells&&s.push(...i.cells),i.nodes&&i.nodes.forEach(a=>{null==a.shape&&(a.shape="rect"),s.push(a)}),i.edges&&i.edges.forEach(a=>{null==a.shape&&(a.shape="edge"),s.push(a)})),s.map(a=>{const l=a.shape;if(l){if($n.registry.exist(l))return $n.create(a);if(Rn.registry.exist(l))return Rn.create(a)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}}(mi||(mi={}));class Os extends $n{get label(){return this.getLabel()}set label(e){this.setLabel(e)}getLabel(){return this.getAttrByPath("text/text")}setLabel(e,n){return null==e?this.removeLabel():this.setAttrByPath("text/text",e,n),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}function lT(o,e="body"){return[{tagName:o,selector:e},{tagName:"text",selector:"label"}]}function ar(o,e,n={}){const i={constructorName:o,markup:lT(o,n.selector),attrs:{[o]:Object.assign({},Os.bodyAttr)}};return(n.parent||Os).define(Mn(i,e,{shape:o}))}!function(o){o.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},o.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},o.config({attrs:{text:Object.assign({},o.labelAttr)},propHooks(e){const{label:n}=e,i=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(e,["label"]);return n&&Hs(i,"attrs/text/text",n),i},visible:!0})}(Os||(Os={})),ar("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});const v_=Rn.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});ar("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});class lr extends Os{get points(){return this.getPoints()}set points(e){this.setPoints(e)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(e,n){return null==e?this.removePoints():this.setAttrByPath("body/refPoints",lr.pointsToString(e),n),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}!function(o){function e(n){return"string"==typeof n?n:n.map(i=>Array.isArray(i)?i.join(","):Ce.isPointLike(i)?`${i.x}, ${i.y}`:"").join(" ")}o.pointsToString=e,o.config({propHooks(n){const{points:i}=n,s=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(n,["points"]);if(i){const a=e(i);a&&Hs(s,"attrs/body/refPoints",a)}return s}})}(lr||(lr={})),ar("polygon",{},{parent:lr}),ar("polyline",{},{parent:lr}),Os.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(o){const{path:e}=o,n=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["path"]);return e&&Hs(n,"attrs/body/refD",e),n}}),Os.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},fs.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:Ln.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},Os.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(o){const{text:e}=o,n=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["text"]);return e&&Hs(n,"attrs/label/text",e),n},attrHooks:{text:{set(o,{cell:e,view:n,refBBox:i,elem:s,attrs:a}){if(!(s instanceof HTMLElement)){const l=a.style||{},c={text:o,width:-5,height:"100%"},u=Object.assign({textVerticalAnchor:"middle"},l);return Ot(ki.presets.textWrap.set,this,c,{cell:e,view:n,elem:s,refBBox:i,attrs:u}),{fill:l.color||null}}s.textContent=o},position(o,{refBBox:e,elem:n}){if(n instanceof SVGElement)return e.getCenter()}}}}),ar("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:function cT(o="xlink:href"){return n=>{const{imageUrl:i,imageWidth:s,imageHeight:a}=n,l=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(n,["imageUrl","imageWidth","imageHeight"]);if(null!=i||null!=s||null!=a){const c=()=>{if(l.attrs){const u=l.attrs.image;null!=i&&(u[o]=i),null!=s&&(u.width=s),null!=a&&(u.height=a),l.attrs.image=u}};l.attrs?(null==l.attrs.image&&(l.attrs.image={}),c()):(l.attrs={image:{}},c())}return l}}()},{selector:"image"}),ar("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});class _i extends An{constructor(){super(...arguments),this.portsCache={}}get[Symbol.toStringTag](){return _i.toStringTag}getContainerClassName(){const e=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}updateClassName(e){const n=e.target;if(n.hasAttribute("magnet")){const i=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?ai(n,i):dn(n,i)}else{const i=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(i):this.addClass(i)}}isNodeView(){return!0}confirmUpdate(e,n={}){let i=e;return this.hasAction(i,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(i,"render")?(this.render(),i=this.removeAction(i,["render","update","resize","translate","rotate","ports","tools"])):(i=this.handleAction(i,"resize",()=>this.resize(),"update"),i=this.handleAction(i,"update",()=>this.update(),Xn.useCSSSelector?"ports":null),i=this.handleAction(i,"translate",()=>this.translate()),i=this.handleAction(i,"rotate",()=>this.rotate()),i=this.handleAction(i,"ports",()=>this.renderPorts()),i=this.handleAction(i,"tools",()=>{this.getFlag("tools")===e?this.renderTools():this.updateTools(n)})),i}update(e){this.cleanCache(),Xn.useCSSSelector&&this.removePorts();const n=this.cell,i=n.getSize(),s=n.getAttrs();this.updateAttrs(this.container,s,{attrs:e===s?null:e,rootBBox:new St(0,0,i.width,i.height),selectors:this.selectors}),Xn.useCSSSelector&&this.renderPorts()}renderMarkup(){const e=this.cell.markup;if(e){if("string"==typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid node markup.")}renderJSONMarkup(e){const n=this.parseJSONMarkup(e,this.container);this.selectors=n.selectors,this.container.appendChild(n.fragment)}render(){return this.empty(),this.renderMarkup(),this.resize(),this.updateTransform(),Xn.useCSSSelector||this.renderPorts(),this.renderTools(),this}resize(){this.cell.getAngle()&&this.rotate(),this.update()}translate(){this.updateTransform()}rotate(){this.updateTransform()}getTranslationString(){const e=this.cell.getPosition();return`translate(${e.x},${e.y})`}getRotationString(){const e=this.cell.getAngle();if(e){const n=this.cell.getSize();return`rotate(${e},${n.width/2},${n.height/2})`}}updateTransform(){let e=this.getTranslationString();const n=this.getRotationString();n&&(e+=` ${n}`),this.container.setAttribute("transform",e)}findPortElem(e,n){const i=e?this.portsCache[e]:null;return i?this.findOne(n,i.portContentElement,i.portContentSelectors||{}):null}cleanPortsCache(){this.portsCache={}}removePorts(){Object.values(this.portsCache).forEach(e=>{Ys(e.portElement)})}renderPorts(){const e=this.container,n=[];e.childNodes.forEach(l=>{n.push(l)});const i=this.cell.getParsedPorts(),s=qu(i,"zIndex"),a="auto";s[a]&&s[a].forEach(l=>{const c=this.getPortElement(l);e.append(c),n.push(c)}),Object.keys(s).forEach(l=>{if(l!==a){const c=parseInt(l,10);this.appendPorts(s[l],c,n)}}),this.updatePorts()}appendPorts(e,n,i){const s=e.map(a=>this.getPortElement(a));i[n]||n<0?ec(i[Math.max(n,0)],s):Bo(this.container,s)}getPortElement(e){const n=this.portsCache[e.id];return n?n.portElement:this.createPortElement(e)}createPortElement(e){let n=Sn.renderMarkup(this.cell.getPortContainerMarkup());const i=n.elem;if(null==i)throw new Error("Invalid port container markup.");n=Sn.renderMarkup(this.getPortMarkup(e));const s=n.elem,a=n.selectors;if(null==s)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},s);let l="x6-port";e.group&&(l+=` x6-port-${e.group}`),dn(i,l),dn(i,"x6-port"),dn(s,"x6-port-body"),i.appendChild(s);let u,g,c=a;if(this.existPortLabel(e)){if(n=Sn.renderMarkup(this.getPortLabelMarkup(e.label)),u=n.elem,g=n.selectors,null==u)throw new Error("Invalid port label markup.");if(a&&g){for(const z in g)if(a[z]&&z!==this.rootSelector)throw new Error("Selectors within port must be unique.");c=Object.assign(Object.assign({},a),g)}dn(u,"x6-port-label"),i.appendChild(u)}return this.portsCache[e.id]={portElement:i,portSelectors:c,portLabelElement:u,portLabelSelectors:g,portContentElement:s,portContentSelectors:a},this.graph.options.onPortRendered&&this.graph.options.onPortRendered({port:e,node:this.cell,container:i,selectors:c,labelContainer:u,labelSelectors:g,contentContainer:s,contentSelectors:a}),i}updatePorts(){const e=this.cell.getParsedGroups(),n=Object.keys(e);0===n.length?this.updatePortGroup():n.forEach(i=>this.updatePortGroup(i))}updatePortGroup(e){const n=St.fromSize(this.cell.getSize()),i=this.cell.getPortsLayoutByGroup(e,n);for(let s=0,a=i.length;s<a;s+=1){const l=i[s],u=this.portsCache[l.portId]||{},g=l.portLayout;if(this.applyPortTransform(u.portElement,g),null!=l.portAttrs){const z={selectors:u.portSelectors||{}};l.portSize&&(z.rootBBox=St.fromSize(l.portSize)),this.updateAttrs(u.portElement,l.portAttrs,z)}const _=l.labelLayout;if(_&&u.portLabelElement&&(this.applyPortTransform(u.portLabelElement,_,-(g.angle||0)),_.attrs)){const z={selectors:u.portLabelSelectors||{}};l.labelSize&&(z.rootBBox=St.fromSize(l.labelSize)),this.updateAttrs(u.portLabelElement,_.attrs,z)}}}applyPortTransform(e,n,i=0){const s=n.angle,a=n.position;Zs(e,Vn().rotate(i).translate(a.x||0,a.y||0).rotate(s||0),{absolute:!0})}getPortMarkup(e){return e.markup||this.cell.portMarkup}getPortLabelMarkup(e){return e.markup||this.cell.portLabelMarkup}existPortLabel(e){return e.attrs&&e.attrs.text}getEventArgs(e,n,i){const s=this,a=s.cell;return null==n||null==i?{e,view:s,node:a,cell:a}:{e,x:n,y:i,view:s,node:a,cell:a}}getPortEventArgs(e,n,i){const s=this,a=s.cell;return i?{e,x:i.x,y:i.y,view:s,node:a,cell:a,port:n}:{e,view:s,node:a,cell:a,port:n}}notifyMouseDown(e,n,i){super.onMouseDown(e,n,i),this.notify("node:mousedown",this.getEventArgs(e,n,i))}notifyMouseMove(e,n,i){super.onMouseMove(e,n,i),this.notify("node:mousemove",this.getEventArgs(e,n,i))}notifyMouseUp(e,n,i){super.onMouseUp(e,n,i),this.notify("node:mouseup",this.getEventArgs(e,n,i))}notifyPortEvent(e,n,i){const s=this.findAttr("port",n.target);if(s){const a=n.type;"node:port:mouseenter"===e?n.type="mouseenter":"node:port:mouseleave"===e&&(n.type="mouseleave"),this.notify(e,this.getPortEventArgs(n,s,i)),n.type=a}}onClick(e,n,i){super.onClick(e,n,i),this.notify("node:click",this.getEventArgs(e,n,i)),this.notifyPortEvent("node:port:click",e,{x:n,y:i})}onDblClick(e,n,i){super.onDblClick(e,n,i),this.notify("node:dblclick",this.getEventArgs(e,n,i)),this.notifyPortEvent("node:port:dblclick",e,{x:n,y:i})}onContextMenu(e,n,i){super.onContextMenu(e,n,i),this.notify("node:contextmenu",this.getEventArgs(e,n,i)),this.notifyPortEvent("node:port:contextmenu",e,{x:n,y:i})}onMouseDown(e,n,i){this.isPropagationStopped(e)||(this.notifyMouseDown(e,n,i),this.notifyPortEvent("node:port:mousedown",e,{x:n,y:i}),this.startNodeDragging(e,n,i))}onMouseMove(e,n,i){const s=this.getEventData(e),a=s.action;if("magnet"===a)this.dragMagnet(e,n,i);else{if("move"===a){const c=s.targetView||this;c.dragNode(e,n,i),c.notify("node:moving",{e,x:n,y:i,view:c,cell:c.cell,node:c.cell})}this.notifyMouseMove(e,n,i),this.notifyPortEvent("node:port:mousemove",e,{x:n,y:i})}this.setEventData(e,s)}onMouseUp(e,n,i){const s=this.getEventData(e),a=s.action;"magnet"===a?this.stopMagnetDragging(e,n,i):(this.notifyMouseUp(e,n,i),this.notifyPortEvent("node:port:mouseup",e,{x:n,y:i}),"move"===a&&(s.targetView||this).stopNodeDragging(e,n,i));const l=s.targetMagnet;l&&this.onMagnetClick(e,l,n,i),this.checkMouseleave(e)}onMouseOver(e){super.onMouseOver(e),this.notify("node:mouseover",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseenter",e),this.notifyPortEvent("node:port:mouseover",e)}onMouseOut(e){super.onMouseOut(e),this.notify("node:mouseout",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseleave",e),this.notifyPortEvent("node:port:mouseout",e)}onMouseEnter(e){this.updateClassName(e),super.onMouseEnter(e),this.notify("node:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("node:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,i,s){super.onMouseWheel(e,n,i,s),this.notify("node:mousewheel",Object.assign({delta:s},this.getEventArgs(e,n,i)))}onMagnetClick(e,n,i,s){const a=this.graph;a.view.getMouseMovedCount(e)>a.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:n},this.getEventArgs(e,i,s)))}onMagnetDblClick(e,n,i,s){this.notify("node:magnet:dblclick",Object.assign({magnet:n},this.getEventArgs(e,i,s)))}onMagnetContextMenu(e,n,i,s){this.notify("node:magnet:contextmenu",Object.assign({magnet:n},this.getEventArgs(e,i,s)))}onMagnetMouseDown(e,n,i,s){this.startMagnetDragging(e,i,s)}onCustomEvent(e,n,i,s){this.notify("node:customevent",Object.assign({name:n},this.getEventArgs(e,i,s))),super.onCustomEvent(e,n,i,s)}prepareEmbedding(e){const n=this.graph,s=this.getEventData(e).cell||this.cell,a=n.findViewByCell(s),l=n.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e,node:s,view:a,cell:s,x:l.x,y:l.y,currentParent:s.getParent()})}processEmbedding(e,n){const i=n.cell||this.cell,s=n.graph||this.graph,a=s.options.embedding,l=a.findParent;let c="function"==typeof l?Ot(l,s,{view:this,node:this.cell}).filter(y=>an.isCell(y)&&this.cell.id!==y.id&&!y.isDescendantOf(this.cell)):s.model.getNodesUnderNode(i,{by:l});if(a.frontOnly&&c.length>0){const y=qu(c,"zIndex"),x=$f(Object.keys(y).map(N=>parseInt(N,10)));x&&(c=y[x])}c=c.filter(y=>y.visible);let u=null;const g=n.candidateEmbedView,_=a.validate;for(let y=c.length-1;y>=0;y-=1){const x=c[y];if(g&&g.cell.id===x.id){u=g;break}{const N=x.findView(s);if(_&&Ot(_,s,{child:this.cell,parent:N.cell,childView:this,parentView:N})){u=N;break}}}this.clearEmbedding(n),u&&u.highlight(null,{type:"embedding"}),n.candidateEmbedView=u;const z=s.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e,cell:i,node:i,view:s.findViewByCell(i),x:z.x,y:z.y,currentParent:i.getParent(),candidateParent:u?u.cell:null})}clearEmbedding(e){const n=e.candidateEmbedView;n&&(n.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}finalizeEmbedding(e,n){this.graph.startBatch("embedding");const i=n.cell||this.cell,s=n.graph||this.graph,a=s.findViewByCell(i),l=i.getParent(),c=n.candidateEmbedView;if(c?(c.unhighlight(null,{type:"embedding"}),n.candidateEmbedView=null,(null==l||l.id!==c.cell.id)&&c.cell.insertChild(i,void 0,{ui:!0})):l&&l.unembed(i,{ui:!0}),s.model.getConnectedEdges(i,{deep:!0}).forEach(u=>{u.updateParent({ui:!0})}),a&&c){const u=s.snapToGrid(e.clientX,e.clientY);a.notify("node:embedded",{e,cell:i,x:u.x,y:u.y,node:i,view:s.findViewByCell(i),previousParent:l,currentParent:i.getParent()})}this.graph.stopBatch("embedding")}getDelegatedView(){let e=this.cell,n=this;for(;n&&!e.isEdge();){if(!e.hasParent()||n.can("stopDelegateOnDragging"))return n;e=e.getParent(),n=this.graph.findViewByCell(e)}return null}validateMagnet(e,n,i){if("passive"!==n.getAttribute("magnet")){const s=this.graph.options.connecting.validateMagnet;return!s||Ot(s,this.graph,{e:i,magnet:n,view:e,cell:e.cell})}return!1}startMagnetDragging(e,n,i){if(!this.can("magnetConnectable"))return;e.stopPropagation();const s=e.currentTarget,a=this.graph;this.setEventData(e,{targetMagnet:s}),this.validateMagnet(this,s,e)?(a.options.magnetThreshold<=0&&this.startConnectting(e,s,n,i),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):this.onMouseDown(e,n,i),a.view.delegateDragEvents(e,this)}startConnectting(e,n,i,s){this.graph.model.startBatch("add-edge");const a=this.createEdgeFromMagnet(n,i,s);a.setEventData(e,a.prepareArrowheadDragging("target",{x:i,y:s,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:a}),a.notifyMouseDown(e,i,s)}getDefaultEdge(e,n){let i;const s=this.graph.options.connecting.createEdge;return s&&(i=Ot(s,this.graph,{sourceMagnet:n,sourceView:e,sourceCell:e.cell})),i}createEdgeFromMagnet(e,n,i){const s=this.graph,a=s.model,l=this.getDefaultEdge(this,e);return l.setSource(Object.assign(Object.assign({},l.getSource()),this.getEdgeTerminal(e,n,i,l,"source"))),l.setTarget(Object.assign(Object.assign({},l.getTarget()),{x:n,y:i})),l.addTo(a,{async:!1,ui:!0}),l.findView(s)}dragMagnet(e,n,i){const s=this.getEventData(e),a=s.edgeView;if(a)a.onMouseMove(e,n,i),this.autoScrollGraph(e.clientX,e.clientY);else{const l=this.graph,c=l.options.magnetThreshold,u=this.getEventTarget(e),g=s.targetMagnet;if("onleave"===c){if(g===u||g.contains(u))return}else if(l.view.getMouseMovedCount(e)<=c)return;this.startConnectting(e,g,n,i)}}stopMagnetDragging(e,n,i){const a=this.eventData(e).edgeView;a&&(a.onMouseUp(e,n,i),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(e,n,i){this.notify("node:unhandled:mousedown",{e,x:n,y:i,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(e,n,i,s,a){let l=[a];const c=this.graph.getPlugin("selection");if(c&&c.isSelectionMovable()){const u=c.getSelectedCells();u.includes(a)&&(l=u.filter(g=>g.isNode()))}l.forEach(u=>{this.notify(e,{e:n,x:i,y:s,cell:u,node:u,view:u.findView(this.graph)})})}getRestrictArea(e){const n=this.graph.options.translating.restrict,i="function"==typeof n?Ot(n,this.graph,e):n;return"number"==typeof i?this.graph.transform.getGraphArea().inflate(i):!0===i?this.graph.transform.getGraphArea():i||null}startNodeDragging(e,n,i){const s=this.getDelegatedView();if(null==s||!s.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,n,i);this.setEventData(e,{targetView:s,action:"move"});const a=Ce.create(s.cell.getPosition());s.setEventData(e,{moving:!1,offset:a.diff(n,i),restrict:this.getRestrictArea(s)})}dragNode(e,n,i){const s=this.cell,a=this.graph,l=a.getGridSize(),c=this.getEventData(e),u=c.offset,g=c.restrict;c.moving||(c.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,n,i,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);const _=vn.snapToGrid(n+u.x,l),z=vn.snapToGrid(i+u.y,l);s.setPosition(_,z,{restrict:g,deep:!0,ui:!0}),a.options.embedding.enabled&&(c.embedding||(this.prepareEmbedding(e),c.embedding=!0),this.processEmbedding(e,c))}stopNodeDragging(e,n,i){const s=this.getEventData(e);s.embedding&&this.finalizeEmbedding(e,s),s.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,n,i,this.cell)),s.moving=!1,s.embedding=!1}autoScrollGraph(e,n){const i=this.graph.getPlugin("scroller");i&&i.autoScroll(e,n)}}(function(o){o.toStringTag=`X6.${o.name}`,o.isNodeView=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNodeView&&"function"==typeof n.isEdgeView&&"function"==typeof n.confirmUpdate&&"function"==typeof n.update&&"function"==typeof n.findPortElem&&"function"==typeof n.resize&&"function"==typeof n.rotate&&"function"==typeof n.translate}})(_i||(_i={})),_i.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),_i.registry.register("node",_i,!0);class Xi extends An{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.labelDestroyFn={}}get[Symbol.toStringTag](){return Xi.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const e=this.sourceView;if(!e){const i=this.cell.getSource();return new St(i.x,i.y)}const n=this.sourceMagnet;return e.isEdgeElement(n)?new St(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(n||e.container)}get targetBBox(){const e=this.targetView;if(!e){const i=this.cell.getTarget();return new St(i.x,i.y)}const n=this.targetMagnet;return e.isEdgeElement(n)?new St(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(n||e.container)}isEdgeView(){return!0}confirmUpdate(e,n={}){let i=e;if(this.hasAction(i,"source")){if(!this.updateTerminalProperties("source"))return i;i=this.removeAction(i,"source")}if(this.hasAction(i,"target")){if(!this.updateTerminalProperties("target"))return i;i=this.removeAction(i,"target")}return this.hasAction(i,"render")?(this.render(),i=this.removeAction(i,["render","update","labels","tools"]),i):(i=this.handleAction(i,"update",()=>this.update(n)),i=this.handleAction(i,"labels",()=>this.onLabelsChange(n)),i=this.handleAction(i,"tools",()=>this.renderTools()),i)}render(){return this.empty(),this.renderMarkup(),this.labelContainer=null,this.renderLabels(),this.update(),this.renderTools(),this}renderMarkup(){const e=this.cell.markup;if(e){if("string"==typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid edge markup.")}renderJSONMarkup(e){const n=this.parseJSONMarkup(e,this.container);this.selectors=n.selectors,this.container.append(n.fragment)}customizeLabels(){if(this.labelContainer){const e=this.cell,n=e.labels;for(let i=0,s=n.length;i<s;i+=1){const u=this.graph.options.onEdgeLabelRendered;if(u){const g=u({edge:e,label:n[i],container:this.labelCache[i],selectors:this.labelSelectors[i]});g&&(this.labelDestroyFn[i]=g)}}}}destroyCustomizeLabels(){const e=this.cell.labels;if(this.labelCache&&this.labelSelectors&&this.labelDestroyFn)for(let n=0,i=e.length;n<i;n+=1){const s=this.labelDestroyFn[n],a=this.labelCache[n],l=this.labelSelectors[n];s&&a&&l&&s({edge:this.cell,label:e[n],container:a,selectors:l})}this.labelDestroyFn={}}renderLabels(){const e=this.cell,n=e.getLabels(),i=n.length;let s=this.labelContainer;if(this.labelCache={},this.labelSelectors={},i<=0)return s&&s.parentNode&&s.parentNode.removeChild(s),this;s?this.empty(s):(s=pi("g"),this.addClass(this.prefixClassName("edge-labels"),s),this.labelContainer=s);for(let a=0,l=n.length;a<l;a+=1){const u=this.normalizeLabelMarkup(this.parseLabelMarkup(n[a].markup));let g,_;if(u)g=u.node,_=u.selectors;else{const y=e.getDefaultLabel(),x=this.normalizeLabelMarkup(this.parseLabelMarkup(y.markup));g=x.node,_=x.selectors}g.setAttribute("data-index",`${a}`),s.appendChild(g);const z=this.rootSelector;if(_[z])throw new Error("Ambiguous label root selector.");_[z]=g,this.labelCache[a]=g,this.labelSelectors[a]=_}return null==s.parentNode&&this.container.appendChild(s),this.updateLabels(),this.customizeLabels(),this}onLabelsChange(e={}){this.destroyCustomizeLabels(),this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(e={}){const n=this.cell.previous("labels");if(null==n)return!0;if("propertyPathArray"in e&&"propertyValue"in e){const i=e.propertyPathArray||[],s=i.length;if(s>1&&n[i[1]]){if(2===s)return"object"==typeof e.propertyValue&&Is(e.propertyValue,"markup");if("markup"!==i[2])return!1}}return!0}parseLabelMarkup(e){return e?"string"==typeof e?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}parseLabelStringMarkup(e){const n=Qt.createVectors(e),i=document.createDocumentFragment();for(let s=0,a=n.length;s<a;s+=1)i.appendChild(n[s].node);return{fragment:i,selectors:{}}}normalizeLabelMarkup(e){if(null==e)return;const n=e.fragment;if(!(n instanceof DocumentFragment&&n.hasChildNodes()))throw new Error("Invalid label markup.");let i;const s=n.childNodes;return i=s.length>1||"G"!==s[0].nodeName.toUpperCase()?Qt.create("g").append(n):Qt.create(s[0]),i.addClass(this.prefixClassName("edge-label")),{node:i.node,selectors:e.selectors}}updateLabels(){if(this.labelContainer){const e=this.cell,n=e.labels,i=this.can("edgeLabelMovable"),s=e.getDefaultLabel();for(let a=0,l=n.length;a<l;a+=1){const c=this.labelCache[a],u=this.labelSelectors[a];c.setAttribute("cursor",i?"move":"default");const g=n[a],_=Mn({},s.attrs,g.attrs);this.updateAttrs(c,_,{selectors:u,rootBBox:g.size?St.fromSize(g.size):void 0})}}}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}update(e={}){this.cleanCache(),this.updateConnection(e);const s=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(this.cell.getAttrs(),["text"]);return null!=s&&this.updateAttrs(this.container,s,{selectors:this.selectors}),this.updateLabelPositions(),this.updateTools(e),this}removeRedundantLinearVertices(e={}){const n=this.cell,i=n.getVertices(),s=[this.sourceAnchor,...i,this.targetAnchor],a=s.length,l=new Nn(s);l.simplify({threshold:.01});const c=l.points.map(g=>g.toJSON()),u=c.length;return a===u?0:(n.setVertices(c.slice(1,u-1),e),a-u)}getTerminalView(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalAnchor(e){switch(e){case"source":return Ce.create(this.sourceAnchor);case"target":return Ce.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalConnectionPoint(e){switch(e){case"source":return Ce.create(this.sourcePoint);case"target":return Ce.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalMagnet(e,n={}){switch(e){case"source":{if(n.raw)return this.sourceMagnet;const i=this.sourceView;return i?this.sourceMagnet||i.container:null}case"target":{if(n.raw)return this.targetMagnet;const i=this.targetView;return i?this.targetMagnet||i.container:null}default:throw new Error(`Unknown terminal type '${e}'`)}}updateConnection(e={}){const n=this.cell;if(e.translateBy&&n.isFragmentDescendantOf(e.translateBy)){const i=e.tx||0,s=e.ty||0;this.routePoints=new Nn(this.routePoints).translate(i,s).points,this.translateConnectionPoints(i,s),this.path.translate(i,s)}else{const i=n.getVertices(),s=this.findAnchors(i);this.sourceAnchor=s.source,this.targetAnchor=s.target,this.routePoints=this.findRoutePoints(i);const a=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=a.source,this.targetPoint=a.target;const l=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,l.source||this.sourcePoint,l.target||this.targetPoint)}this.cleanCache()}findAnchors(e){const n=this.cell,a=e[0],l=e[e.length-1];return n.target.priority&&!n.source.priority?this.findAnchorsOrdered("target",l,"source",a):this.findAnchorsOrdered("source",a,"target",l)}findAnchorsOrdered(e,n,i,s){let a,l;const c=this.cell,u=c[e],g=c[i],_=this.getTerminalView(e),z=this.getTerminalView(i),y=this.getTerminalMagnet(e),x=this.getTerminalMagnet(i);if(_){let N;N=n?Ce.create(n):z?x:Ce.create(g),a=this.getAnchor(u.anchor,_,y,N,e)}else a=Ce.create(u);if(z){const N=Ce.create(s||a);l=this.getAnchor(g.anchor,z,x,N,i)}else l=Ce.isPointLike(g)?Ce.create(g):new Ce;return{[e]:a,[i]:l}}getAnchor(e,n,i,s,a){const l=n.isEdgeElement(i),c=this.graph.options.connecting;let g,u="string"==typeof e?{name:e}:e;if(!u){const z=l?("source"===a?c.sourceEdgeAnchor:c.targetEdgeAnchor)||c.edgeAnchor:("source"===a?c.sourceAnchor:c.targetAnchor)||c.anchor;u="string"==typeof z?{name:z}:z}if(!u)throw new Error("Anchor should be specified.");const _=u.name;if(l){const z=ir.registry.get(_);if("function"!=typeof z)return ir.registry.onNotFound(_);g=Ot(z,this,n,i,s,u.args||{},a)}else{const z=nr.registry.get(_);if("function"!=typeof z)return nr.registry.onNotFound(_);g=Ot(z,this,n,i,s,u.args||{},a)}return g?g.round(this.POINT_ROUNDING):new Ce}findRoutePoints(e=[]){const n=this.graph.options.connecting.router||xs.presets.normal,i=this.cell.getRouter()||n;let s;if("function"==typeof i)s=Ot(i,this,e,{},this);else{const a="string"==typeof i?i:i.name,l="string"==typeof i?{}:i.args||{},c=a?xs.registry.get(a):xs.presets.normal;if("function"!=typeof c)return xs.registry.onNotFound(a);s=Ot(c,this,e,l,this)}return null==s?e.map(a=>Ce.create(a)):s.map(a=>Ce.create(a))}findConnectionPoints(e,n,i){const s=this.cell,a=this.graph.options.connecting,l=s.getSource(),c=s.getTarget(),u=this.sourceView,g=this.targetView,_=e[0],z=e[e.length-1];let y,x;if(u&&!u.isEdgeElement(this.sourceMagnet)){const N=this.sourceMagnet||u.container,U=new Et(_||i,n);y=this.getConnectionPoint(l.connectionPoint||a.sourceConnectionPoint||a.connectionPoint,u,N,U,"source")}else y=n;if(g&&!g.isEdgeElement(this.targetMagnet)){const N=this.targetMagnet||g.container,V=c.connectionPoint||a.targetConnectionPoint||a.connectionPoint,te=new Et(z||n,i);x=this.getConnectionPoint(V,g,N,te,"target")}else x=i;return{source:y,target:x}}getConnectionPoint(e,n,i,s,a){const l=s.end;if(null==e)return l;const c="string"==typeof e?e:e.name,u="string"==typeof e?{}:e.args,g=sr.registry.get(c);if("function"!=typeof g)return sr.registry.onNotFound(c);const _=Ot(g,this,s,n,i,u||{},a);return _?_.round(this.POINT_ROUNDING):l}findMarkerPoints(e,n,i){const s=z=>{const y=this.cell.getAttrs(),x=Object.keys(y);for(let N=0,V=x.length;N<V;N+=1){const U=y[x[N]];if(U[`${z}Marker`]||U[`${z}-marker`]){const te=U.strokeWidth||U["stroke-width"];if(te)return parseFloat(te);break}}return null},a=e[0],l=e[e.length-1];let c,u;const g=s("source");g&&(c=n.clone().move(a||i,-g));const _=s("target");return _&&(u=i.clone().move(l||n,-_)),this.sourceMarkerPoint=c||n.clone(),this.targetMarkerPoint=u||i.clone(),{source:c,target:u}}findPath(e,n,i){const s=this.cell.getConnector()||this.graph.options.connecting.connector;let a,l,c;if("string"==typeof s?a=s:(a=s.name,l=s.args),a){const g=to.registry.get(a);if("function"!=typeof g)return to.registry.onNotFound(a);c=g}else c=to.presets.normal;const u=Ot(c,this,n,i,e,Object.assign(Object.assign({},l),{raw:!0}),this);return"string"==typeof u?jt.parse(u):u}translateConnectionPoints(e,n){this.sourcePoint.translate(e,n),this.targetPoint.translate(e,n),this.sourceAnchor.translate(e,n),this.targetAnchor.translate(e,n),this.sourceMarkerPoint.translate(e,n),this.targetMarkerPoint.translate(e,n)}updateLabelPositions(){if(null==this.labelContainer)return this;if(!this.path)return this;const n=this.cell,i=n.getLabels();if(0===i.length)return this;const s=n.getDefaultLabel(),a=this.normalizeLabelPosition(s.position);for(let l=0,c=i.length;l<c;l+=1){const u=i[l],g=this.labelCache[l];if(!g)continue;const _=this.normalizeLabelPosition(u.position),z=Mn({},a,_),y=this.getLabelTransformationMatrix(z);g.setAttribute("transform",Qs(y))}return this}updateTerminalProperties(e){const i=this.graph,s=this.cell[e],a=s&&s.cell,l=`${e}View`;if(!a)return this[l]=null,this.updateTerminalMagnet(e),!0;const c=i.getCellById(a);if(!c)throw new Error(`Edge's ${e} node with id "${a}" not exists`);const u=c.findView(i);return!!u&&(this[l]=u,this.updateTerminalMagnet(e),!0)}updateTerminalMagnet(e){const n=`${e}Magnet`,i=this.getTerminalView(e);if(i){let s=i.getMagnetFromEdgeTerminal(this.cell[e]);s===i.container&&(s=null),this[n]=s}else this[n]=null}getLabelPositionAngle(e){const n=this.cell.getLabelAt(e);return n&&n.position&&"object"==typeof n.position&&n.position.angle||0}getLabelPositionArgs(e){const n=this.cell.getLabelAt(e);if(n&&n.position&&"object"==typeof n.position)return n.position.options}getDefaultLabelPositionArgs(){const e=this.cell.getDefaultLabel();if(e&&e.position&&"object"==typeof e.position)return e.position.options}mergeLabelPositionArgs(e,n){return null===e?null:void 0===e?null===n?null:n:Mn({},n,e)}getConnection(){return null!=this.path?this.path.clone():null}getConnectionPathData(){if(null==this.path)return"";const e=this.cache.pathCache;return Is(e,"data")||(e.data=this.path.serialize()),e.data||""}getConnectionSubdivisions(){if(null==this.path)return null;const e=this.cache.pathCache;return Is(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}getConnectionLength(){if(null==this.path)return 0;const e=this.cache.pathCache;return Is(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}getPointAtLength(e){return null==this.path?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(e){return null==this.path?null:(Pi(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(e){return null==this.path?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(e){return null==this.path?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(e){return null==this.path?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(e){return null==this.path?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(e){return null==this.path?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(e,n,i,s){const a={distance:0};let c,l=0;"number"==typeof i?(l=i,c=s):c=i,null!=c&&(a.options=c);const u=c&&c.absoluteOffset,g=!(c&&c.absoluteDistance),_=c&&c.absoluteDistance&&c.reverseDistance,z=this.path,y={segmentSubdivisions:this.getConnectionSubdivisions()},x=new Ce(e,n),N=z.closestPointT(x,y),V=this.getConnectionLength()||0;let te,ce,U=z.lengthAtT(N,y);if(g&&(U=V>0?U/V:0),_&&(U=-1*(V-U)||1),a.distance=U,u||(te=z.tangentAtT(N)),te)ce=te.pointOffset(x);else{const q=z.pointAtT(N),we=x.diff(q);ce={x:we.x,y:we.y}}return a.offset=ce,a.angle=l,a}normalizeLabelPosition(e){return"number"==typeof e?{distance:e}:e}getLabelTransformationMatrix(e){const n=this.normalizeLabelPosition(e),i=n.options||{},s=n.angle||0,a=n.distance,l=a>0&&a<=1;let c=0;const u={x:0,y:0},g=n.offset;g&&("number"==typeof g?c=g:(null!=g.x&&(u.x=g.x),null!=g.y&&(u.y=g.y)));const _=0!==u.x||0!==u.y||0===c,z=i.keepGradient,y=i.ensureLegibility,x=this.path,N={segmentSubdivisions:this.getConnectionSubdivisions()},V=l?a*this.getConnectionLength():a,U=x.tangentAtLength(V,N);let te,ce=s;if(U){if(_)te=U.start,te.translate(u);else{const q=U.clone();q.rotate(-90,U.start),q.setLength(c),te=q.end}z&&(ce=U.angle()+s,y&&(ce=_n.normalize((ce+90)%180-90)))}else te=x.start,_&&te.translate(u);return Vn().translate(te.x,te.y).rotate(ce)}getVertexIndex(e,n){const s=this.cell.getVertices(),a=this.getClosestPointLength(new Ce(e,n));let l=0;if(null!=a)for(const c=s.length;l<c;l+=1){const g=this.getClosestPointLength(s[l]);if(null!=g&&a<g)break}return l}getEventArgs(e,n,i){const s=this,a=s.cell;return null==n||null==i?{e,view:s,edge:a,cell:a}:{e,x:n,y:i,view:s,edge:a,cell:a}}notifyUnhandledMouseDown(e,n,i){this.notify("edge:unhandled:mousedown",{e,x:n,y:i,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(e,n,i){super.onMouseDown(e,n,i),this.notify("edge:mousedown",this.getEventArgs(e,n,i))}notifyMouseMove(e,n,i){super.onMouseMove(e,n,i),this.notify("edge:mousemove",this.getEventArgs(e,n,i))}notifyMouseUp(e,n,i){super.onMouseUp(e,n,i),this.notify("edge:mouseup",this.getEventArgs(e,n,i))}onClick(e,n,i){super.onClick(e,n,i),this.notify("edge:click",this.getEventArgs(e,n,i))}onDblClick(e,n,i){super.onDblClick(e,n,i),this.notify("edge:dblclick",this.getEventArgs(e,n,i))}onContextMenu(e,n,i){super.onContextMenu(e,n,i),this.notify("edge:contextmenu",this.getEventArgs(e,n,i))}onMouseDown(e,n,i){this.notifyMouseDown(e,n,i),this.startEdgeDragging(e,n,i)}onMouseMove(e,n,i){const s=this.getEventData(e);switch(s.action){case"drag-label":this.dragLabel(e,n,i);break;case"drag-arrowhead":this.dragArrowhead(e,n,i);break;case"drag-edge":this.dragEdge(e,n,i)}return this.notifyMouseMove(e,n,i),s}onMouseUp(e,n,i){const s=this.getEventData(e);switch(s.action){case"drag-label":this.stopLabelDragging(e,n,i);break;case"drag-arrowhead":this.stopArrowheadDragging(e,n,i);break;case"drag-edge":this.stopEdgeDragging(e,n,i)}return this.notifyMouseUp(e,n,i),this.checkMouseleave(e),s}onMouseOver(e){super.onMouseOver(e),this.notify("edge:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("edge:mouseout",this.getEventArgs(e))}onMouseEnter(e){super.onMouseEnter(e),this.notify("edge:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("edge:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,i,s){super.onMouseWheel(e,n,i,s),this.notify("edge:mousewheel",Object.assign({delta:s},this.getEventArgs(e,n,i)))}onCustomEvent(e,n,i,s){if(up(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if("edge:remove"===n)return void this.cell.remove({ui:!0});this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,i,s)))}this.notifyMouseDown(e,i,s)}else this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,i,s))),super.onCustomEvent(e,n,i,s)}onLabelMouseDown(e,n,i){this.notifyMouseDown(e,n,i),this.startLabelDragging(e,n,i),this.getEventData(e).stopPropagation&&e.stopPropagation()}startEdgeDragging(e,n,i){this.can("edgeMovable")?this.setEventData(e,{x:n,y:i,moving:!1,action:"drag-edge"}):this.notifyUnhandledMouseDown(e,n,i)}dragEdge(e,n,i){const s=this.getEventData(e);s.moving||(s.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e,x:n,y:i,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(n-s.x,i-s.y,{ui:!0}),this.setEventData(e,{x:n,y:i}),this.notify("edge:moving",{e,x:n,y:i,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(e,n,i){const s=this.getEventData(e);s.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e,x:n,y:i,view:this,cell:this.cell,edge:this.cell})),s.moving=!1}prepareArrowheadDragging(e,n){const i=this.getTerminalMagnet(e),s={action:"drag-arrowhead",x:n.x,y:n.y,isNewEdge:!0===n.isNewEdge,terminalType:e,initialMagnet:i,initialTerminal:Xl(this.cell[e]),fallbackAction:n.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:n.options};return this.beforeArrowheadDragging(s),s}createValidateConnectionArgs(e){const n=[];n[4]=e,n[5]=this;let i,s=0,a=0;"source"===e?(s=2,i="target"):(a=2,i="source");const l=this.cell[i],c=l.cell;if(c){let u;const g=n[s]=this.graph.findViewByCell(c);g&&(u=g.getMagnetFromEdgeTerminal(l),u===g.container&&(u=void 0)),n[s+1]=u}return(u,g)=>(n[a]=u,n[a+1]=u.container===g?void 0:g,n)}beforeArrowheadDragging(e){e.zIndex=this.cell.zIndex,this.cell.toFront();const n=this.container.style;e.pointerEvents=n.pointerEvents,n.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}afterArrowheadDragging(e){null!=e.zIndex&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null),this.container.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}validateConnection(e,n,i,s,a,l,c){const u=this.graph.options.connecting,g=u.allowLoop,_=u.allowNode,z=u.allowEdge,y=u.allowPort,x=u.allowMulti,N=u.validateConnection,V=l?l.cell:null,U="target"===a?i:e,te="target"===a?s:n;let ce=!0;const q=we=>{const Ne="source"===a?c?c.port:null:V?V.getSourcePortId():null,Ke="target"===a?c?c.port:null:V?V.getTargetPortId():null;return Ot(we,this.graph,{edge:V,edgeView:l,sourceView:e,targetView:i,sourcePort:Ne,targetPort:Ke,sourceMagnet:n,targetMagnet:s,sourceCell:e?e.cell:null,targetCell:i?i.cell:null,type:a})};if(null!=g&&("boolean"==typeof g?!g&&e===i&&(ce=!1):ce=q(g)),ce&&null!=y&&("boolean"==typeof y?!y&&te&&(ce=!1):ce=q(y)),ce&&null!=z&&("boolean"==typeof z?!z&&Xi.isEdgeView(U)&&(ce=!1):ce=q(z)),ce&&null!=_&&null==te&&("boolean"==typeof _?!_&&_i.isNodeView(U)&&(ce=!1):ce=q(_)),ce&&null!=x&&l){const we=l.cell,Ne="source"===a?c:we.getSource(),Ke="target"===a?c:we.getTarget(),gt=c?this.graph.getCellById(c.cell):null;if(Ne&&Ke&&Ne.cell&&Ke.cell&&gt)if("function"==typeof x)ce=q(x);else{const yt=this.graph.model.getConnectedEdges(gt,{outgoing:"source"===a,incoming:"target"===a});yt.length&&("withPort"===x?yt.some(Nt=>{const Tt=Nt.getSource(),Bt=Nt.getTarget();return Tt&&Bt&&Tt.cell===Ne.cell&&Bt.cell===Ke.cell&&null!=Tt.port&&Tt.port===Ne.port&&null!=Bt.port&&Bt.port===Ke.port})&&(ce=!1):x||yt.some(Nt=>{const Tt=Nt.getSource(),Bt=Nt.getTarget();return Tt&&Bt&&Tt.cell===Ne.cell&&Bt.cell===Ke.cell})&&(ce=!1))}}return ce&&null!=N&&(ce=q(N)),ce}allowConnectToBlank(e){const n=this.graph,s=n.options.connecting.allowBlank;if("function"!=typeof s)return!!s;const a=n.findViewByCell(e),l=e.getSourceCell(),c=e.getTargetCell(),u=n.findViewByCell(l),g=n.findViewByCell(c);return Ot(s,n,{edge:e,edgeView:a,sourceCell:l,targetCell:c,sourceView:u,targetView:g,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:a.sourceMagnet,targetMagnet:a.targetMagnet})}validateEdge(e,n,i){const s=this.graph;if(!this.allowConnectToBlank(e)){const l=e.getSourceCellId(),c=e.getTargetCellId();if(!l||!c)return!1}const a=s.options.connecting.validateEdge;return!a||Ot(a,s,{edge:e,type:n,previous:i})}arrowheadDragging(e,n,i,s){s.x=n,s.y=i,s.currentTarget!==e&&(s.currentMagnet&&s.currentView&&s.currentView.unhighlight(s.currentMagnet,{type:"magnetAdsorbed"}),s.currentView=this.graph.findViewByElem(e),s.currentView?(s.currentMagnet=s.currentView.findMagnet(e),s.currentMagnet&&this.validateConnection(...s.getValidateConnectionArgs(s.currentView,s.currentMagnet),s.currentView.getEdgeTerminal(s.currentMagnet,n,i,this.cell,s.terminalType))?s.currentView.highlight(s.currentMagnet,{type:"magnetAdsorbed"}):s.currentMagnet=null):s.currentMagnet=null),s.currentTarget=e,this.cell.prop(s.terminalType,{x:n,y:i},Object.assign(Object.assign({},s.options),{ui:!0}))}arrowheadDragged(e,n,i){const s=e.currentView,a=e.currentMagnet;if(!a||!s)return;s.unhighlight(a,{type:"magnetAdsorbed"});const l=e.terminalType,c=s.getEdgeTerminal(a,n,i,this.cell,l);this.cell.setTerminal(l,c,{ui:!0})}snapArrowhead(e,n,i){const s=this.graph,{snap:a,allowEdge:l}=s.options.connecting,c="object"==typeof a&&a.radius||50,u="object"==typeof a&&a.anchor||"center",g=s.renderer.findViewsInArea({x:e-c,y:n-c,width:2*c,height:2*c},{nodeOnly:!0});if(l){const we=s.renderer.findEdgeViewsFromPoint({x:e,y:n},c).filter(Ne=>Ne!==this);g.push(...we)}const _=i.closestView||null,z=i.closestMagnet||null;i.closestView=null,i.closestMagnet=null;let y,x=Number.MAX_SAFE_INTEGER;const N=new Ce(e,n);let V;g.forEach(we=>{if("false"!==we.container.getAttribute("magnet")){if(we.isNodeView())y="center"===u?we.cell.getBBox().getCenter().distance(N):we.cell.getBBox().getNearestPointToPoint(N).distance(N);else if(we.isEdgeView()){const Ne=we.getClosestPoint(N);y=Ne?Ne.distance(N):Number.MAX_SAFE_INTEGER}y<c&&y<x&&(z===we.container||this.validateConnection(...i.getValidateConnectionArgs(we,null),we.getEdgeTerminal(we.container,e,n,this.cell,i.terminalType)))&&(x=y,i.closestView=we,i.closestMagnet=we.container)}we.container.querySelectorAll("[magnet]").forEach(Ne=>{if("false"!==Ne.getAttribute("magnet")){const Ke=we.getBBoxOfElement(Ne);y=N.distance(Ke.getCenter()),y<c&&y<x&&(z===Ne||this.validateConnection(...i.getValidateConnectionArgs(we,Ne),we.getEdgeTerminal(Ne,e,n,this.cell,i.terminalType)))&&(x=y,i.closestView=we,i.closestMagnet=Ne)}})});const U=i.terminalType,te=i.closestView,ce=i.closestMagnet,q=z!==ce;if(_&&q&&_.unhighlight(z,{type:"magnetAdsorbed"}),te){if(!q)return;te.highlight(ce,{type:"magnetAdsorbed"}),V=te.getEdgeTerminal(ce,e,n,this.cell,U)}else V={x:e,y:n};this.cell.setTerminal(U,V,{},Object.assign(Object.assign({},i.options),{ui:!0}))}snapArrowheadEnd(e){const n=e.closestView,i=e.closestMagnet;n&&i&&(n.unhighlight(i,{type:"magnetAdsorbed"}),e.currentMagnet=n.findMagnet(i)),e.closestView=null,e.closestMagnet=null}finishEmbedding(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}fallbackConnection(e){"remove"===e.fallbackAction?this.cell.remove({ui:!0}):this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0})}notifyConnectionEvent(e,n){const i=e.terminalType,s=e.initialTerminal,a=this.cell[i];if(a&&!Rn.equalTerminals(s,a)){const c=this.graph,u=s,g=u.cell?c.getCellById(u.cell):null,_=u.port,z=g?c.findViewByCell(g):null,y=g||e.isNewEdge?null:Ce.create(s).toJSON(),x=a,N=x.cell?c.getCellById(x.cell):null,V=x.port,U=N?c.findViewByCell(N):null,te=N?null:Ce.create(a).toJSON();this.notify("edge:connected",{e:n,previousCell:g,previousPort:_,previousView:z,previousPoint:y,currentCell:N,currentView:U,currentPort:V,currentPoint:te,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:i,isNew:e.isNewEdge})}}highlightAvailableMagnets(e){const n=this.graph,i=n.model.getCells();e.marked={};for(let s=0,a=i.length;s<a;s+=1){const l=n.findViewByCell(i[s]);if(!l||l.cell.id===this.cell.id)continue;const c=Array.prototype.slice.call(l.container.querySelectorAll("[magnet]"));"false"!==l.container.getAttribute("magnet")&&c.push(l.container);const u=c.filter(g=>this.validateConnection(...e.getValidateConnectionArgs(l,g),l.getEdgeTerminal(g,e.x,e.y,this.cell,e.terminalType)));if(u.length>0){for(let g=0,_=u.length;g<_;g+=1)l.highlight(u[g],{type:"magnetAvailable"});l.highlight(null,{type:"nodeAvailable"}),e.marked[l.cell.id]=u}}}unhighlightAvailableMagnets(e){const n=e.marked||{};Object.keys(n).forEach(i=>{const s=this.graph.findViewByCell(i);s&&(n[i].forEach(l=>{s.unhighlight(l,{type:"magnetAvailable"})}),s.unhighlight(null,{type:"nodeAvailable"}))}),e.marked=null}startArrowheadDragging(e,n,i){if(!this.can("arrowheadMovable"))return void this.notifyUnhandledMouseDown(e,n,i);const a=e.target.getAttribute("data-terminal"),l=this.prepareArrowheadDragging(a,{x:n,y:i});this.setEventData(e,l)}dragArrowhead(e,n,i){const s=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(n,i,s):this.arrowheadDragging(this.getEventTarget(e),n,i,s)}stopArrowheadDragging(e,n,i){const s=this.graph,a=this.getEventData(e);s.options.connecting.snap?this.snapArrowheadEnd(a):this.arrowheadDragged(a,n,i),this.validateEdge(this.cell,a.terminalType,a.initialTerminal)?(this.finishEmbedding(a),this.notifyConnectionEvent(a,e)):this.fallbackConnection(a),this.afterArrowheadDragging(a)}startLabelDragging(e,n,i){if(this.can("edgeLabelMovable")){const a=parseInt(e.currentTarget.getAttribute("data-index"),10),l=this.getLabelPositionAngle(a),c=this.getLabelPositionArgs(a),u=this.getDefaultLabelPositionArgs(),g=this.mergeLabelPositionArgs(c,u);this.setEventData(e,{index:a,positionAngle:l,positionArgs:g,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}dragLabel(e,n,i){const s=this.getEventData(e),a=this.cell.getLabelAt(s.index),l=Mn({},a,{position:this.getLabelPosition(n,i,s.positionAngle,s.positionArgs)});this.cell.setLabelAt(s.index,l)}stopLabelDragging(e,n,i){}}(function(o){o.toStringTag=`X6.${o.name}`,o.isEdgeView=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNodeView&&"function"==typeof n.isEdgeView&&"function"==typeof n.confirmUpdate&&"function"==typeof n.update&&"function"==typeof n.getConnection}})(Xi||(Xi={})),Xi.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],tools:["tools"],vertices:["vertices","update"]}}),Xi.registry.register("edge",Xi,!0);class Ni extends bn{get disposeContainer(){return!1}get options(){return this.graph.options}constructor(e){super(),this.graph=e;const{selectors:n,fragment:i}=Sn.parseJSONMarkup(Ni.markup);this.background=n.background,this.grid=n.grid,this.svg=n.svg,this.defs=n.defs,this.viewport=n.viewport,this.primer=n.primer,this.stage=n.stage,this.decorator=n.decorator,this.overlay=n.overlay,this.container=this.options.container,this.restore=Ni.snapshoot(this.container),dn(this.container,this.prefixClassName("graph")),Bo(this.container,i),this.delegateEvents()}delegateEvents(){return super.delegateEvents(this.constructor.events),this}guard(e,n){return!!("mousedown"===e.type&&2===e.button||this.options.guard&&this.options.guard(e,n))||(e.data&&void 0!==e.data.guarded?e.data.guarded:!(n&&n.cell&&an.isCell(n.cell)||this.svg===e.target||this.container===e.target||this.svg.contains(e.target)))}findView(e){return this.graph.findViewByElem(e)}onDblClick(e){this.options.preventDefaultDblClick&&e.preventDefault();const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;const s=this.graph.snapToGrid(n.clientX,n.clientY);i?i.onDblClick(n,s.x,s.y):this.graph.trigger("blank:dblclick",{e:n,x:s.x,y:s.y})}onClick(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;const s=this.graph.snapToGrid(n.clientX,n.clientY);i?i.onClick(n,s.x,s.y):this.graph.trigger("blank:click",{e:n,x:s.x,y:s.y})}}isPreventDefaultContextMenu(e){let n=this.options.preventDefaultContextMenu;return"function"==typeof n&&(n=Ot(n,this.graph,{view:e})),n}onContextMenu(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.isPreventDefaultContextMenu(i)&&e.preventDefault(),this.guard(n,i))return;const s=this.graph.snapToGrid(n.clientX,n.clientY);i?i.onContextMenu(n,s.x,s.y):this.graph.trigger("blank:contextmenu",{e:n,x:s.x,y:s.y})}delegateDragEvents(e,n){null==e.data&&(e.data={}),this.setEventData(e,{currentView:n||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}}),this.delegateDocumentEvents(this.constructor.documentEvents,e.data),this.undelegateEvents()}getMouseMovedCount(e){return this.getEventData(e).mouseMovedCount||0}onMouseDown(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;this.options.preventDefaultMouseDown&&e.preventDefault();const s=this.graph.snapToGrid(n.clientX,n.clientY);i?i.onMouseDown(n,s.x,s.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(n.type)&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e:n,x:s.x,y:s.y})),this.delegateDragEvents(n,i)}onMouseMove(e){const n=this.getEventData(e),i=n.startPosition;if(i&&i.x===e.clientX&&i.y===e.clientY||(null==n.mouseMovedCount&&(n.mouseMovedCount=0),n.mouseMovedCount+=1,n.mouseMovedCount<=this.options.moveThreshold))return;const a=this.normalizeEvent(e),l=this.graph.snapToGrid(a.clientX,a.clientY),c=n.currentView;c?c.onMouseMove(a,l.x,l.y):this.graph.trigger("blank:mousemove",{e:a,x:l.x,y:l.y}),this.setEventData(a,n)}onMouseUp(e){this.undelegateDocumentEvents();const n=this.normalizeEvent(e),i=this.graph.snapToGrid(n.clientX,n.clientY),a=this.getEventData(e).currentView;if(a?a.onMouseUp(n,i.x,i.y):this.graph.trigger("blank:mouseup",{e:n,x:i.x,y:i.y}),!e.isPropagationStopped()){const l=new zi(e,{type:"click",data:e.data});this.onClick(l)}e.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(!this.guard(n,i))if(i)i.onMouseOver(n);else{if(this.container===n.target)return;this.graph.trigger("blank:mouseover",{e:n})}}onMouseOut(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(!this.guard(n,i))if(i)i.onMouseOut(n);else{if(this.container===n.target)return;this.graph.trigger("blank:mouseout",{e:n})}}onMouseEnter(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;const s=this.graph.findViewByElem(n.relatedTarget);if(i){if(s===i)return;i.onMouseEnter(n)}else{if(s)return;this.graph.trigger("graph:mouseenter",{e:n})}}onMouseLeave(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;const s=this.graph.findViewByElem(n.relatedTarget);if(i){if(s===i)return;i.onMouseLeave(n)}else{if(s)return;this.graph.trigger("graph:mouseleave",{e:n})}}onMouseWheel(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;const s=n.originalEvent,a=this.graph.snapToGrid(s.clientX,s.clientY),l=Math.max(-1,Math.min(1,s.wheelDelta||-s.detail));i?i.onMouseWheel(n,a.x,a.y,l):this.graph.trigger("blank:mousewheel",{e:n,delta:l,x:a.x,y:a.y})}onCustomEvent(e){const n=e.currentTarget,i=n.getAttribute("event")||n.getAttribute("data-event");if(i){const s=this.findView(n);if(s){const a=this.normalizeEvent(e);if(this.guard(a,s))return;const l=this.graph.snapToGrid(a.clientX,a.clientY);s.onCustomEvent(a,i,l.x,l.y)}}}handleMagnetEvent(e,n){const i=e.currentTarget,s=i.getAttribute("magnet");if(s&&"false"!==s.toLowerCase()){const a=this.findView(i);if(a){const l=this.normalizeEvent(e);if(this.guard(l,a))return;const c=this.graph.snapToGrid(l.clientX,l.clientY);Ot(n,this.graph,a,l,i,c.x,c.y)}}}onMagnetMouseDown(e){this.handleMagnetEvent(e,(n,i,s,a,l)=>{n.onMagnetMouseDown(i,s,a,l)})}onMagnetDblClick(e){this.handleMagnetEvent(e,(n,i,s,a,l)=>{n.onMagnetDblClick(i,s,a,l)})}onMagnetContextMenu(e){const n=this.findView(e.target);this.isPreventDefaultContextMenu(n)&&e.preventDefault(),this.handleMagnetEvent(e,(i,s,a,l,c)=>{i.onMagnetContextMenu(s,a,l,c)})}onLabelMouseDown(e){const i=this.findView(e.currentTarget);if(i){const s=this.normalizeEvent(e);if(this.guard(s,i))return;const a=this.graph.snapToGrid(s.clientX,s.clientY);i.onLabelMouseDown(s,a.x,a.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([bn.dispose()],Ni.prototype,"dispose",null),function(o){const e=`${Xn.prefixCls}-graph`;o.markup=[{ns:Ln.xhtml,tagName:"div",selector:"background",className:`${e}-background`},{ns:Ln.xhtml,tagName:"div",selector:"grid",className:`${e}-grid`},{ns:Ln.svg,tagName:"svg",selector:"svg",className:`${e}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":Ln.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${e}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${e}-svg-primer`},{tagName:"g",selector:"stage",className:`${e}-svg-stage`},{tagName:"g",selector:"decorator",className:`${e}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${e}-svg-overlay`}]}]}],o.snapshoot=function n(i){const s=i.cloneNode();return i.childNodes.forEach(a=>s.appendChild(a)),()=>{for(Fo(i);i.attributes.length>0;)i.removeAttribute(i.attributes[0].name);for(let a=0,l=s.attributes.length;a<l;a+=1){const c=s.attributes[a];i.setAttribute(c.name,c.value)}s.childNodes.forEach(a=>i.appendChild(a))}}}(Ni||(Ni={})),function(o){const e=Xn.prefixCls;o.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${e}-cell`]:"onMouseEnter",[`mouseleave  .${e}-cell`]:"onMouseLeave",[`mouseenter  .${e}-cell-tools`]:"onMouseEnter",[`mouseleave  .${e}-cell-tools`]:"onMouseLeave",[`mousedown   .${e}-cell [event]`]:"onCustomEvent",[`touchstart  .${e}-cell [event]`]:"onCustomEvent",[`mousedown   .${e}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${e}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${e}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${e}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${e}-cell image`]:"onImageDragStart",[`mousedown   .${e}-edge .${e}-edge-label`]:"onLabelMouseDown",[`touchstart  .${e}-edge .${e}-edge-label`]:"onLabelMouseDown"},o.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(Ni||(Ni={}));class Wn extends Z{get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}constructor(e){super(),this.graph=e,this.init()}init(){}}class Up extends Wn{init(){Xn.autoInsertCSS&&dm("core",".x6-graph {\n  position: relative;\n  overflow: hidden;\n  outline: none;\n  touch-action: none;\n}\n.x6-graph-background,\n.x6-graph-grid,\n.x6-graph-svg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-background-stage,\n.x6-graph-grid-stage,\n.x6-graph-svg-stage {\n  user-select: none;\n}\n.x6-graph.x6-graph-pannable {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.x6-graph.x6-graph-panning {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  user-select: none;\n}\n.x6-node {\n  cursor: move;\n  /* stylelint-disable-next-line */\n}\n.x6-node.x6-node-immovable {\n  cursor: default;\n}\n.x6-node * {\n  -webkit-user-drag: none;\n}\n.x6-node .scalable * {\n  vector-effect: non-scaling-stroke;\n}\n.x6-node [magnet='true'] {\n  cursor: crosshair;\n  transition: opacity 0.3s;\n}\n.x6-node [magnet='true']:hover {\n  opacity: 0.7;\n}\n.x6-node foreignObject {\n  display: block;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-node foreignObject > body {\n  position: static;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-edge .source-marker,\n.x6-edge .target-marker {\n  vector-effect: non-scaling-stroke;\n}\n.x6-edge .connection {\n  stroke-linejoin: round;\n  fill: none;\n}\n.x6-edge .connection-wrap {\n  cursor: move;\n  opacity: 0;\n  fill: none;\n  stroke: #000;\n  stroke-width: 15;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n}\n.x6-edge .connection-wrap:hover {\n  opacity: 0.4;\n  stroke-opacity: 0.4;\n}\n.x6-edge .vertices {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .vertices .vertex {\n  fill: #1abc9c;\n}\n.x6-edge .vertices .vertex :hover {\n  fill: #34495e;\n  stroke: none;\n}\n.x6-edge .vertices .vertex-remove {\n  cursor: pointer;\n  fill: #fff;\n}\n.x6-edge .vertices .vertex-remove-area {\n  cursor: pointer;\n  opacity: 0.1;\n}\n.x6-edge .vertices .vertex-group:hover .vertex-remove-area {\n  opacity: 1;\n}\n.x6-edge .arrowheads {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .arrowheads .arrowhead {\n  fill: #1abc9c;\n}\n.x6-edge .arrowheads .arrowhead :hover {\n  fill: #f39c12;\n  stroke: none;\n}\n.x6-edge .tools {\n  cursor: pointer;\n  opacity: 0;\n}\n.x6-edge .tools .tool-options {\n  display: none;\n}\n.x6-edge .tools .tool-remove circle {\n  fill: #f00;\n}\n.x6-edge .tools .tool-remove path {\n  fill: #fff;\n}\n.x6-edge:hover .vertices,\n.x6-edge:hover .arrowheads,\n.x6-edge:hover .tools {\n  opacity: 1;\n}\n.x6-highlight-opacity {\n  opacity: 0.3;\n}\n.x6-cell-tool-editor {\n  position: relative;\n  display: inline-block;\n  min-height: 1em;\n  margin: 0;\n  padding: 0;\n  line-height: 1;\n  white-space: normal;\n  text-align: center;\n  vertical-align: top;\n  overflow-wrap: normal;\n  outline: none;\n  transform-origin: 0 0;\n  -webkit-user-drag: none;\n}\n.x6-edge-tool-editor {\n  border: 1px solid #275fc5;\n  border-radius: 2px;\n}\n")}dispose(){um("core")}}var Aa;!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Up.dispose()],Up.prototype,"dispose",null),function(o){o.get=function e(n){const{grid:i}=n,c=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(n,["grid","panning","mousewheel","embedding"]),u=n.container;if(null==u)throw new Error("Ensure the container of the graph is specified and valid");null==c.width&&(c.width=u.clientWidth),null==c.height&&(c.height=u.clientHeight);const g=Mn({},o.defaults,c);return g.grid="number"==typeof i?{size:i,visible:!1}:Object.assign(Object.assign({},{size:10,visible:!1}),"boolean"==typeof i?{visible:i}:i),["panning","mousewheel","embedding"].forEach(y=>{const x=n[y];"boolean"==typeof x?g[y].enabled=x:g[y]=Object.assign(Object.assign({},g[y]),x)}),g}}(Aa||(Aa={})),function(o){o.defaults={x:0,y:0,scaling:{min:.01,max:16},grid:{size:10,visible:!1},background:!1,panning:{enabled:!1,eventTypes:["leftMouseDown"]},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Xn.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Xn.prefix("available-magnet")}}},connecting:{snap:!1,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,allowBlank:!0,allowMulti:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",router:"normal",connector:"normal",validateConnection:({type:e,sourceView:n,targetView:i})=>null!=("target"===e?i:n),createEdge:()=>new v_},translating:{restrict:!1},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},async:!0,virtual:!1,guard:()=>!1}}(Aa||(Aa={}));class Xp extends Wn{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}getGridSize(){return this.grid.size}setGridSize(e){this.grid.size=Math.max(e,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}update(e={}){const n=this.grid.size;if(n<=1||!this.grid.visible)return this.clear();const i=this.graph.matrix(),s=this.getInstance(),a=Array.isArray(e)?e:[e];this.patterns.forEach((u,g)=>{const _=`pattern_${g}`,z=i.a||1,y=i.d||1,{update:x,markup:N}=u,V=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(u,["update","markup"]),U=Object.assign(Object.assign(Object.assign({},V),a[g]),{sx:z,sy:y,ox:i.e||0,oy:i.f||0,width:n*z,height:n*y});s.has(_)||s.add(_,Qt.create("pattern",{id:_,patternUnits:"userSpaceOnUse"},Qt.createVectors(N)).node);const te=s.get(_);"function"==typeof x&&x(te.childNodes[0],U);let ce=U.ox%U.width;ce<0&&(ce+=U.width);let q=U.oy%U.height;q<0&&(q+=U.height),mn(te,{x:ce,y:q,width:U.width,height:U.height})});const l=(new XMLSerializer).serializeToString(s.root),c=`url(data:image/svg+xml;base64,${btoa(l)})`;this.elem.style.backgroundImage=c}getInstance(){return this.instance||(this.instance=new _s),this.instance}resolveGrid(e){if(!e)return[];const n=e.type;if(null==n)return[Object.assign(Object.assign({},_s.presets.dot),e.args)];const i=_s.registry.get(n);if(i){let s=e.args||[];return Array.isArray(s)||(s=[s]),Array.isArray(i)?i.map((a,l)=>Object.assign(Object.assign({},a),s[l])):[Object.assign(Object.assign({},i),s[0])]}return _s.registry.onNotFound(n)}dispose(){this.stopListening(),this.clear()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],Xp.prototype,"dispose",null);class C_ extends Wn{get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get stage(){return this.graph.view.stage}init(){this.resize()}getMatrix(){const e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),Vn(this.viewportMatrix)}setMatrix(e){const n=Vn(e),i=Qs(n);this.viewport.setAttribute("transform",i),this.viewportMatrix=n,this.viewportTransformString=i}resize(e,n){let i=void 0===e?this.options.width:e,s=void 0===n?this.options.height:n;this.options.width=i,this.options.height=s,"number"==typeof i&&(i=Math.round(i)),"number"==typeof s&&(s=Math.round(s)),this.container.style.width=null==i?"":`${i}px`,this.container.style.height=null==s?"":`${s}px`;const a=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},a)),this}getComputedSize(){let e=this.options.width,n=this.options.height;return op(e)||(e=this.container.clientWidth),op(n)||(n=this.container.clientHeight),{width:e,height:n}}getScale(){return om(this.getMatrix())}scale(e,n=e,i=0,s=0){if(e=this.clampScale(e),n=this.clampScale(n),i||s){const l=this.getTranslation(),c=l.tx-i*(e-1),u=l.ty-s*(n-1);(c!==l.tx||u!==l.ty)&&this.translate(c,u)}const a=this.getMatrix();return a.a=e,a.d=n,this.setMatrix(a),this.graph.trigger("scale",{sx:e,sy:n,ox:i,oy:s}),this}clampScale(e){const n=this.graph.options.scaling;return ri(e,n.min||.01,n.max||16)}getZoom(){return this.getScale().sx}zoom(e,n){n=n||{};let i=e,s=e;const a=this.getScale(),l=this.getComputedSize();let c=l.width/2,u=l.height/2;if(n.absolute||(i+=a.sx,s+=a.sy),n.scaleGrid&&(i=Math.round(i/n.scaleGrid)*n.scaleGrid,s=Math.round(s/n.scaleGrid)*n.scaleGrid),n.maxScale&&(i=Math.min(n.maxScale,i),s=Math.min(n.maxScale,s)),n.minScale&&(i=Math.max(n.minScale,i),s=Math.max(n.minScale,s)),n.center&&(c=n.center.x,u=n.center.y),i=this.clampScale(i),s=this.clampScale(s),c||u){const g=this.getTranslation(),_=c-i/a.sx*(c-g.tx),z=u-s/a.sy*(u-g.ty);(_!==g.tx||z!==g.ty)&&this.translate(_,z)}return this.scale(i,s),this}getRotation(){return rm(this.getMatrix())}rotate(e,n,i){if(null==n||null==i){const a=gn.getBBox(this.stage);n=a.width/2,i=a.height/2}const s=this.getMatrix().translate(n,i).rotate(e).translate(-n,-i);return this.setMatrix(s),this}getTranslation(){return am(this.getMatrix())}translate(e,n){const i=this.getMatrix();i.e=e||0,i.f=n||0,this.setMatrix(i);const s=this.getTranslation();return this.options.x=s.tx,this.options.y=s.ty,this.graph.trigger("translate",Object.assign({},s)),this}setOrigin(e,n){return this.translate(e||0,n||0)}fitToContent(e,n,i,s){if("object"==typeof e){const q=e;e=q.gridWidth||1,n=q.gridHeight||1,i=q.padding||0,s=q}else e=e||1,n=n||1,i=i||0,null==s&&(s={});const a=ps(i),l=s.border||0,c=s.contentArea?St.create(s.contentArea):this.getContentArea(s);l>0&&c.inflate(l);const u=this.getScale(),g=this.getTranslation(),_=u.sx,z=u.sy;c.x*=_,c.y*=z,c.width*=_,c.height*=z;let y=Math.max(Math.ceil((c.width+c.x)/e),1)*e,x=Math.max(Math.ceil((c.height+c.y)/n),1)*n,N=0,V=0;("negative"===s.allowNewOrigin&&c.x<0||"positive"===s.allowNewOrigin&&c.x>=0||"any"===s.allowNewOrigin)&&(N=Math.ceil(-c.x/e)*e,N+=a.left,y+=N),("negative"===s.allowNewOrigin&&c.y<0||"positive"===s.allowNewOrigin&&c.y>=0||"any"===s.allowNewOrigin)&&(V=Math.ceil(-c.y/n)*n,V+=a.top,x+=V),y+=a.right,x+=a.bottom,y=Math.max(y,s.minWidth||0),x=Math.max(x,s.minHeight||0),y=Math.min(y,s.maxWidth||Number.MAX_SAFE_INTEGER),x=Math.min(x,s.maxHeight||Number.MAX_SAFE_INTEGER);const U=this.getComputedSize(),te=y!==U.width||x!==U.height;return(N!==g.tx||V!==g.ty)&&this.translate(N,V),te&&this.resize(y,x),new St(-N/_,-V/z,y/_,x/z)}scaleContentToFit(e={}){this.scaleContentToFitImpl(e)}scaleContentToFitImpl(e={},n=!0){let i,s;if(e.contentArea){const te=e.contentArea;i=this.graph.localToGraph(te),s=Ce.create(te)}else i=this.getContentBBox(e),s=this.graph.graphToLocal(i);if(!i.width||!i.height)return;const a=ps(e.padding),l=e.minScale||0,c=e.maxScale||Number.MAX_SAFE_INTEGER,u=e.minScaleX||l,g=e.maxScaleX||c,_=e.minScaleY||l,z=e.maxScaleY||c;let y;if(e.viewportArea)y=e.viewportArea;else{const te=this.getComputedSize(),ce=this.getTranslation();y={x:ce.tx,y:ce.ty,width:te.width,height:te.height}}y=St.create(y).moveAndExpand({x:a.left,y:a.top,width:-a.left-a.right,height:-a.top-a.bottom});const x=this.getScale();let N=y.width/i.width*x.sx,V=y.height/i.height*x.sy;!1!==e.preserveAspectRatio&&(N=V=Math.min(N,V));const U=e.scaleGrid;if(U&&(N=U*Math.floor(N/U),V=U*Math.floor(V/U)),N=ri(N,u,g),V=ri(V,_,z),this.scale(N,V),n){const te=this.options;this.translate(y.x-s.x*N-te.x,y.y-s.y*V-te.y)}}getContentArea(e={}){return!1!==e.useCellGeometry?this.model.getAllCellsBBox()||new St:gn.getBBox(this.stage)}getContentBBox(e={}){return this.graph.localToGraph(this.getContentArea(e))}getGraphArea(){const e=St.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}zoomToRect(e,n={}){const i=St.create(e),s=this.graph;n.contentArea=i,null==n.viewportArea&&(n.viewportArea={x:s.options.x,y:s.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(n,!1);const a=i.getCenter();return this.centerPoint(a.x,a.y),this}zoomToFit(e={}){return this.zoomToRect(this.getContentArea(e),e)}centerPoint(e,n){const i=this.getComputedSize(),s=this.getScale(),a=this.getTranslation(),l=i.width/2,c=i.height/2;n=c-(n="number"==typeof n?n:c)*s.sy,(a.tx!==(e=l-(e="number"==typeof e?e:l)*s.sx)||a.ty!==n)&&this.translate(e,n)}centerContent(e){const i=this.graph.getContentArea(e).getCenter();this.centerPoint(i.x,i.y)}centerCell(e){return this.positionCell(e,"center")}positionPoint(e,n,i){const s=this.getComputedSize();(n=ui(n,Math.max(0,s.width)))<0&&(n=s.width+n),(i=ui(i,Math.max(0,s.height)))<0&&(i=s.height+i);const a=this.getTranslation(),l=this.getScale(),c=n-e.x*l.sx,u=i-e.y*l.sy;(a.tx!==c||a.ty!==u)&&this.translate(c,u)}positionRect(e,n){const i=St.create(e);switch(n){case"center":return this.positionPoint(i.getCenter(),"50%","50%");case"top":return this.positionPoint(i.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(i.getTopRight(),"100%",0);case"right":return this.positionPoint(i.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(i.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(i.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(i.getBottomLeft(),0,"100%");case"left":return this.positionPoint(i.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(i.getTopLeft(),0,0);default:return this}}positionCell(e,n){const i=e.getBBox();return this.positionRect(i,n)}positionContent(e,n){const i=this.graph.getContentArea(n);return this.positionRect(i,e)}}class Wp extends Wn{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(e={}){let n=e.size||"auto auto",i=e.position||"center";const s=this.graph.transform.getScale(),a=this.graph.translate();"object"==typeof i&&(i=`${a.tx+s.sx*(i.x||0)}px ${a.ty+s.sy*(i.y||0)}px`),"object"==typeof n&&(n=St.fromSize(n).scale(s.sx,s.sy),n=`${n.width}px ${n.height}px`),this.elem.style.backgroundSize=n,this.elem.style.backgroundPosition=i}drawBackgroundImage(e,n={}){if(!(e instanceof HTMLImageElement))return void(this.elem.style.backgroundImage="");const i=this.optionsCache;if(i&&i.image!==n.image)return;let s;const a=n.opacity,l=n.size;let c=n.repeat||"no-repeat";const u=Oa.registry.get(c);if("function"==typeof u){const _=n.quality||1;e.width*=_,e.height*=_;const z=u(e,n);if(!(z instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");s=z.toDataURL("image/png"),c=n.repeat&&c!==n.repeat?n.repeat:"repeat","object"==typeof l?(l.width*=z.width/e.width,l.height*=z.height/e.height):void 0===l&&(n.size={width:z.width/_,height:z.height/_})}else s=e.src,void 0===l&&(n.size={width:e.width,height:e.height});null!=i&&"object"==typeof n.size&&n.image===i.image&&n.repeat===i.repeat&&n.quality===i.quality&&(i.size=Xl(n.size));const g=this.elem.style;g.backgroundImage=`url(${s})`,g.backgroundRepeat=c,g.opacity=null==a||a>=1?"":`${a}`,this.updateBackgroundImage(n)}updateBackgroundColor(e){this.elem.style.backgroundColor=e||""}updateBackgroundOptions(e){this.graph.options.background=e}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(e){const n=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(n.color),n.image){this.optionsCache=Xl(n);const i=document.createElement("img");i.onload=()=>this.drawBackgroundImage(i,e),i.setAttribute("crossorigin","anonymous"),i.src=n.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],Wp.prototype,"dispose",null);class Yp extends Wn{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&!0===this.widgetOptions.enabled}init(){this.onRightMouseDown=this.onRightMouseDown.bind(this),this.onSpaceKeyDown=this.onSpaceKeyDown.bind(this),this.onSpaceKeyUp=this.onSpaceKeyUp.bind(this),this.startListening(),this.updateClassName()}startListening(){this.graph.on("blank:mousedown",this.onMouseDown,this),this.graph.on("node:unhandled:mousedown",this.onMouseDown,this),this.graph.on("edge:unhandled:mousedown",this.onMouseDown,this),Hn.on(this.graph.container,"mousedown",this.onRightMouseDown),Hn.on(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle=new Ep(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()}stopListening(){this.graph.off("blank:mousedown",this.onMouseDown,this),this.graph.off("node:unhandled:mousedown",this.onMouseDown,this),this.graph.off("edge:unhandled:mousedown",this.onMouseDown,this),Hn.off(this.graph.container,"mousedown",this.onRightMouseDown),Hn.off(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle&&this.mousewheelHandle.disable()}allowPanning(e,n){return e.spaceKey=this.isSpaceKeyPressed,this.pannable&&qs.isMatch(e,this.widgetOptions.modifiers,n)}startPanning(e){const n=this.view.normalizeEvent(e);this.clientX=n.clientX,this.clientY=n.clientY,this.panning=!0,this.updateClassName(),Hn.on(document.body,{"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),Hn.on(window,"mouseup.panning",this.stopPanning.bind(this))}pan(e){const n=this.view.normalizeEvent(e),i=n.clientX-this.clientX,s=n.clientY-this.clientY;this.clientX=n.clientX,this.clientY=n.clientY,this.graph.translateBy(i,s)}stopPanning(e){this.panning=!1,this.updateClassName(),Hn.off(document.body,".panning"),Hn.off(window,".panning")}updateClassName(){const e=this.view.container,n=this.view.prefixClassName("graph-panning"),i=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(dn(e,n),ai(e,i)):(ai(e,n),dn(e,i)):(ai(e,n),ai(e,i))}onMouseDown({e}){if(!this.allowBlankMouseDown(e))return;const n=this.graph.getPlugin("selection"),i=n&&n.allowRubberband(e,!0);(this.allowPanning(e,!0)||this.allowPanning(e)&&!i)&&this.startPanning(e)}onRightMouseDown(e){const n=this.widgetOptions.eventTypes;n?.includes("rightMouseDown")&&2===e.button&&this.allowPanning(e,!0)&&this.startPanning(e)}onMouseWheel(e,n,i){this.graph.translateBy(-n,-i)}onSpaceKeyDown(e){32===e.which&&(this.isSpaceKeyPressed=!0)}onSpaceKeyUp(e){32===e.which&&(this.isSpaceKeyPressed=!1)}allowBlankMouseDown(e){const n=this.widgetOptions.eventTypes;return n?.includes("leftMouseDown")&&0===e.button||n?.includes("mouseWheelDown")&&1===e.button}allowMouseWheel(e){var n;return this.pannable&&!e.ctrlKey&&(null===(n=this.widgetOptions.eventTypes)||void 0===n?void 0:n.includes("mouseWheel"))}autoPanning(e,n){const s=this.graph.getGraphArea();let a=0,l=0;e<=s.left+10&&(a=-10),n<=s.top+10&&(l=-10),e>=s.right-10&&(a=10),n>=s.bottom-10&&(l=10),(0!==a||0!==l)&&this.graph.translateBy(-a,-l)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],Yp.prototype,"dispose",null);class Kp extends Wn{constructor(){super(...arguments),this.cumulatedFactor=1}get widgetOptions(){return this.options.mousewheel}init(){this.container=this.graph.container,this.target=this.widgetOptions.global?document:this.container,this.mousewheelHandle=new Ep(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.widgetOptions.enabled&&this.enable(!0)}get disabled(){return!0!==this.widgetOptions.enabled}enable(e){(this.disabled||e)&&(this.widgetOptions.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.widgetOptions.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(e){const n=this.widgetOptions.guard;return(null==n||n(e))&&qs.isMatch(e,this.widgetOptions.modifiers)}onMouseWheel(e){const n=this.widgetOptions.guard;if((null==n||n(e))&&qs.isMatch(e,this.widgetOptions.modifiers)){const i=this.widgetOptions.factor||1.2;null==this.currentScale&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*i*20)/20/this.currentScale,1===this.cumulatedFactor&&(this.cumulatedFactor=1.05)):this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*(1/i)*20)/20/this.currentScale,1===this.cumulatedFactor&&(this.cumulatedFactor=.95)),this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const a=this.currentScale;let l=this.graph.transform.clampScale(a*this.cumulatedFactor);if(l=ri(l,this.widgetOptions.minScale||Number.MIN_SAFE_INTEGER,this.widgetOptions.maxScale||Number.MAX_SAFE_INTEGER),l!==a)if(this.widgetOptions.zoomAtMousePosition){const _=this.graph.getPlugin("scroller")?this.graph.clientToLocal(this.startPos):this.graph.clientToGraph(this.startPos);this.graph.zoom(l,{absolute:!0,center:_.clone()})}else this.graph.zoom(l,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Z.dispose()],Kp.prototype,"dispose",null);class y_ extends Wn{init(){this.resetRenderArea=It(this.resetRenderArea,200,{leading:!0}),this.resetRenderArea(),this.startListening()}startListening(){this.graph.on("translate",this.resetRenderArea,this),this.graph.on("scale",this.resetRenderArea,this),this.graph.on("resize",this.resetRenderArea,this)}stopListening(){this.graph.off("translate",this.resetRenderArea,this),this.graph.off("scale",this.resetRenderArea,this),this.graph.off("resize",this.resetRenderArea,this)}enableVirtualRender(){this.options.virtual=!0,this.resetRenderArea()}disableVirtualRender(){this.options.virtual=!1,this.graph.renderer.setRenderArea(void 0)}resetRenderArea(){if(this.options.virtual){const e=this.graph.getGraphArea();this.graph.renderer.setRenderArea(e)}}dispose(){this.stopListening()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],y_.prototype,"dispose",null);class TT{constructor(){this.isFlushing=!1,this.isFlushPending=!1,this.scheduleId=0,this.queue=[],this.frameInterval=33,this.initialTime=Date.now()}queueJob(e){if(e.priority&Ds.PRIOR)e.cb();else{const n=this.findInsertionIndex(e);n>=0&&this.queue.splice(n,0,e)}}queueFlush(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.scheduleJob())}queueFlushSync(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.flushJobsSync())}clearJobs(){this.queue.length=0,this.isFlushing=!1,this.isFlushPending=!1,this.cancelScheduleJob()}flushJobs(){this.isFlushPending=!1,this.isFlushing=!0;const e=this.getCurrentTime();let n;for(;(n=this.queue.shift())&&(n.cb(),!(this.getCurrentTime()-e>=this.frameInterval)););this.isFlushing=!1,this.queue.length&&this.queueFlush()}flushJobsSync(){let e;for(this.isFlushPending=!1,this.isFlushing=!0;e=this.queue.shift();)try{e.cb()}catch(n){console.log(n)}this.isFlushing=!1}findInsertionIndex(e){let n=0,i=this.queue.length,s=i-1;const a=e.priority;for(;n<=s;){const l=(s-n>>1)+n;a<=this.queue[l].priority?n=l+1:(i=l,s=l-1)}return i}scheduleJob(){"requestIdleCallback"in window?(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.requestIdleCallback(this.flushJobs.bind(this),{timeout:100})):(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.setTimeout(this.flushJobs.bind(this)))}cancelScheduleJob(){"cancelIdleCallback"in window?(this.scheduleId&&window.cancelIdleCallback(this.scheduleId),this.scheduleId=0):(this.scheduleId&&clearTimeout(this.scheduleId),this.scheduleId=0)}getCurrentTime(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():Date.now()-this.initialTime}}var Ds=function(o){return o[o.Update=2]="Update",o[o.RenderEdge=4]="RenderEdge",o[o.RenderNode=8]="RenderNode",o[o.PRIOR=1048576]="PRIOR",o}(Ds||{});class jn extends Z{get model(){return this.graph.model}get container(){return this.graph.view.stage}constructor(e){super(),this.views={},this.willRemoveViews={},this.queue=new TT,this.graph=e,this.init()}init(){this.startListening(),this.renderViews(this.model.getCells())}startListening(){this.model.on("reseted",this.onModelReseted,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("reseted",this.onModelReseted,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}onModelReseted({options:e}){this.queue.clearJobs(),this.removeZPivots(),this.resetViews();const n=this.model.getCells();this.renderViews(n,Object.assign(Object.assign({},e),{queue:n.map(i=>i.id)}))}onCellAdded({cell:e,options:n}){this.renderViews([e],n)}onCellRemoved({cell:e}){this.removeViews([e])}onCellZIndexChanged({cell:e,options:n}){const i=this.views[e.id];i&&this.requestViewUpdate(i.view,jn.FLAG_INSERT,n,Ds.Update,!0)}onCellVisibleChanged({cell:e,current:n}){this.toggleVisible(e,!!n)}requestViewUpdate(e,n,i={},s=Ds.Update,a=!0){const l=e.cell.id,c=this.views[l];c&&(c.flag=n,c.options=i,(e.hasAction(n,["translate","resize","rotate"])||!1===i.async)&&(s=Ds.PRIOR,a=!1),this.queue.queueJob({id:l,priority:s,cb:()=>{this.renderViewInArea(e,n,i);const _=i.queue;if(_){const z=_.indexOf(e.cell.id);z>=0&&_.splice(z,1),0===_.length&&this.graph.trigger("render:done")}}}),this.getEffectedEdges(e).forEach(_=>{this.requestViewUpdate(_.view,_.flag,i,s,!1)}),a&&this.flush())}setRenderArea(e){this.renderArea=e,this.flushWaitingViews()}isViewMounted(e){if(null==e)return!1;const n=this.views[e.cell.id];return!!n&&n.state===jn.ViewState.MOUNTED}renderViews(e,n={}){e.sort((i,s)=>i.isNode()&&s.isEdge()?-1:0),e.forEach(i=>{const s=i.id;let l=0,c=this.views[s];if(c)l=jn.FLAG_INSERT;else{const u=this.createCellView(i);u&&(u.graph=this.graph,l=jn.FLAG_INSERT|u.getBootstrapFlag(),c={view:u,flag:l,options:n,state:jn.ViewState.CREATED},this.views[s]=c)}c&&this.requestViewUpdate(c.view,l,n,this.getRenderPriority(c.view),!1)}),this.flush()}renderViewInArea(e,n,i={}){const s=e.cell,a=s.id,l=this.views[a];if(!l)return;let c=0;this.isUpdatable(e)||l.state===jn.ViewState.MOUNTED?(c=this.updateView(e,n,i),l.flag=c):l.state=jn.ViewState.WAITING,c&&s.isEdge()&&!(c&e.getFlag(["source","target"]))&&this.queue.queueJob({id:a,priority:Ds.RenderEdge,cb:()=>{this.updateView(e,n,i)}})}removeViews(e){e.forEach(n=>{const i=n.id,s=this.views[i];s&&(this.willRemoveViews[i]=s,delete this.views[i],this.queue.queueJob({id:i,priority:this.getRenderPriority(s.view),cb:()=>{this.removeView(s.view)}}))}),this.flush()}flush(){this.graph.options.async?this.queue.queueFlush():this.queue.queueFlushSync()}flushWaitingViews(){Object.values(this.views).forEach(e=>{if(e&&e.state===jn.ViewState.WAITING){const{view:n,flag:i,options:s}=e;this.requestViewUpdate(n,i,s,this.getRenderPriority(n),!1)}}),this.flush()}updateView(e,n,i={}){if(null==e)return 0;if(An.isCellView(e)){if(n&jn.FLAG_REMOVE)return this.removeView(e.cell),0;n&jn.FLAG_INSERT&&(this.insertView(e),n^=jn.FLAG_INSERT)}return n?e.confirmUpdate(n,i):0}insertView(e){const n=this.views[e.cell.id];if(n){const i=e.cell.getZIndex(),s=this.addZPivot(i);this.container.insertBefore(e.container,s),e.cell.isVisible()||this.toggleVisible(e.cell,!1),n.state=jn.ViewState.MOUNTED,this.graph.trigger("view:mounted",{view:e})}}resetViews(){this.willRemoveViews=Object.assign(Object.assign({},this.views),this.willRemoveViews),Object.values(this.willRemoveViews).forEach(e=>{e&&this.removeView(e.view)}),this.views={},this.willRemoveViews={}}removeView(e){const n=e.cell,i=this.willRemoveViews[n.id];i&&e&&(i.view.remove(),delete this.willRemoveViews[n.id],this.graph.trigger("view:unmounted",{view:e}))}toggleVisible(e,n){const i=this.model.getConnectedEdges(e);for(let a=0,l=i.length;a<l;a+=1){const c=i[a];if(n){const u=c.getSourceCell(),g=c.getTargetCell();if(u&&!u.isVisible()||g&&!g.isVisible())continue;this.toggleVisible(c,!0)}else this.toggleVisible(c,!1)}const s=this.views[e.id];s&&Vo(s.view.container,{display:n?"unset":"none"})}addZPivot(e=0){null==this.zPivots&&(this.zPivots={});const n=this.zPivots;let i=n[e];if(i)return i;i=n[e]=document.createComment(`z-index:${e+1}`);let s=-1/0;for(const l in n){const c=+l;c<e&&c>s&&(s=c)}const a=this.container;return a.insertBefore(i,s!==-1/0?n[s].nextSibling:a.firstChild),i}removeZPivots(){this.zPivots&&Object.values(this.zPivots).forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}createCellView(e){const n={graph:this.graph},i=this.graph.options.createCellView;if(i){const a=Ot(i,this.graph,e);if(a)return new a(e,n);if(null===a)return null}const s=e.view;if(null!=s&&"string"==typeof s){const a=An.registry.get(s);return a?new a(e,n):An.registry.onNotFound(s)}return e.isNode()?new _i(e,n):e.isEdge()?new Xi(e,n):null}getEffectedEdges(e){const n=[],i=e.cell,s=this.model.getConnectedEdges(i);for(let a=0,l=s.length;a<l;a+=1){const c=s[a],u=this.views[c.id];if(!u)continue;const g=u.view;if(!this.isViewMounted(g))continue;const _=["update"];c.getTargetCell()===i&&_.push("target"),c.getSourceCell()===i&&_.push("source"),n.push({id:c.id,view:g,flag:g.getFlag(_)})}return n}isUpdatable(e){if(e.isNodeView())return!this.renderArea||this.renderArea.isIntersectWithRect(e.cell.getBBox());if(e.isEdgeView()){const n=e.cell,i=n.getSourceCell(),s=n.getTargetCell();if(this.renderArea&&i&&s)return this.renderArea.isIntersectWithRect(i.getBBox())||this.renderArea.isIntersectWithRect(s.getBBox())}return!0}getRenderPriority(e){return e.cell.isNode()?Ds.RenderNode:Ds.RenderEdge}dispose(){this.stopListening(),Object.keys(this.views).forEach(e=>{this.views[e].view.dispose()}),this.views={}}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([Z.dispose()],jn.prototype,"dispose",null),function(o){o.FLAG_INSERT=1<<30,o.FLAG_REMOVE=1<<29,o.FLAG_RENDER=67108863}(jn||(jn={})),function(o){let e;var n;(n=e=o.ViewState||(o.ViewState={}))[n.CREATED=0]="CREATED",n[n.MOUNTED=1]="MOUNTED",n[n.WAITING=2]="WAITING"}(jn||(jn={}));class Qp extends Wn{constructor(){super(...arguments),this.schedule=new jn(this.graph)}requestViewUpdate(e,n,i={}){this.schedule.requestViewUpdate(e,n,i)}isViewMounted(e){return this.schedule.isViewMounted(e)}setRenderArea(e){this.schedule.setRenderArea(e)}findViewByElem(e){if(null==e)return null;const i="string"==typeof e?this.options.container.querySelector(e):e instanceof Element?e:e[0];if(i){const s=this.graph.view.findAttr("data-cell-id",i);if(s){const a=this.schedule.views;if(a[s])return a[s].view}}return null}findViewByCell(e){if(null==e)return null;const n=an.isCell(e)?e.id:e,i=this.schedule.views;return i[n]?i[n].view:null}findViewsFromPoint(e){const n={x:e.x,y:e.y};return this.model.getCells().map(i=>this.findViewByCell(i)).filter(i=>null!=i&&gn.getBBox(i.container,{target:this.view.stage}).containsPoint(n))}findEdgeViewsFromPoint(e,n=5){return this.model.getEdges().map(i=>this.findViewByCell(i)).filter(i=>{if(null!=i){const s=i.getClosestPoint(e);if(s)return s.distance(e)<=n}return!1})}findViewsInArea(e,n={}){const i=St.create(e);return this.model.getCells().map(s=>this.findViewByCell(s)).filter(s=>{if(s){if(n.nodeOnly&&!s.isNodeView())return!1;const a=gn.getBBox(s.container,{target:this.view.stage});return 0===a.width?a.inflate(1,0):0===a.height&&a.inflate(0,1),n.strict?i.containsRect(a):i.isIntersectWithRect(a)}return!1})}dispose(){this.schedule.dispose()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],Qp.prototype,"dispose",null);var z_=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};class b_ extends Wn{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(e){return null!=this.svg.getElementById(e)}filter(e){let n=e.id;const i=e.name;if(n||(n=`filter-${i}-${this.cid}-${sp(JSON.stringify(e))}`),!this.isDefined(n)){const s=Qo.registry.get(i);if(null==s)return Qo.registry.onNotFound(i);const a=s(e.args||{}),l=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:n});Qt.create(Sn.sanitize(a),l).appendTo(this.defs)}return n}gradient(e){let n=e.id;const i=e.type;if(n||(n=`gradient-${i}-${this.cid}-${sp(JSON.stringify(e))}`),!this.isDefined(n)){const l=`<${i}>${e.stops.map(u=>{const g=null!=u.opacity&&Number.isFinite(u.opacity)?u.opacity:1;return`<stop offset="${u.offset}" stop-color="${u.color}" stop-opacity="${g}"/>`}).join("")}</${i}>`,c=Object.assign({id:n},e.attrs);Qt.create(l,c).appendTo(this.defs)}return n}marker(e){const{id:n,refX:i,refY:s,markerUnits:a,markerOrient:l,tagName:c,children:u}=e,g=z_(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let _=n;if(_||(_=`marker-${this.cid}-${sp(JSON.stringify(e))}`),!this.isDefined(_)){"path"!==c&&delete g.d;const z=Qt.create("marker",{refX:i,refY:s,id:_,overflow:"visible",orient:l??"auto",markerUnits:a||"userSpaceOnUse"},u?u.map(y=>{var{tagName:x}=y,N=z_(y,["tagName"]);return Qt.create(`${x}`||"path",Lo(Object.assign(Object.assign({},g),N)))}):[Qt.create(c||"path",Lo(g))]);this.defs.appendChild(z.node)}return _}remove(e){const n=this.svg.getElementById(e);n&&n.parentNode&&n.parentNode.removeChild(n)}}class S_ extends Wn{getClientMatrix(){return Vn(this.view.stage.getScreenCTM())}getClientOffset(){const e=this.view.svg.getBoundingClientRect();return new Ce(e.left,e.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(e,n){return("number"==typeof e?this.clientToLocalPoint(e,n):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(e,n){const i=Ce.create(e,n);return gn.transformPoint(i,this.graph.matrix())}localToClientPoint(e,n){const i=Ce.create(e,n);return gn.transformPoint(i,this.getClientMatrix())}localToPagePoint(e,n){return("number"==typeof e?this.localToGraphPoint(e,n):this.localToGraphPoint(e)).translate(this.getPageOffset())}localToGraphRect(e,n,i,s){const a=St.create(e,n,i,s);return gn.transformRectangle(a,this.graph.matrix())}localToClientRect(e,n,i,s){const a=St.create(e,n,i,s);return gn.transformRectangle(a,this.getClientMatrix())}localToPageRect(e,n,i,s){return("number"==typeof e?this.localToGraphRect(e,n,i,s):this.localToGraphRect(e)).translate(this.getPageOffset())}graphToLocalPoint(e,n){const i=Ce.create(e,n);return gn.transformPoint(i,this.graph.matrix().inverse())}clientToLocalPoint(e,n){const i=Ce.create(e,n);return gn.transformPoint(i,this.getClientMatrix().inverse())}clientToGraphPoint(e,n){const i=Ce.create(e,n);return gn.transformPoint(i,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(e,n){const s=Ce.create(e,n).diff(this.getPageOffset());return this.graphToLocalPoint(s)}graphToLocalRect(e,n,i,s){const a=St.create(e,n,i,s);return gn.transformRectangle(a,this.graph.matrix().inverse())}clientToLocalRect(e,n,i,s){const a=St.create(e,n,i,s);return gn.transformRectangle(a,this.getClientMatrix().inverse())}clientToGraphRect(e,n,i,s){const a=St.create(e,n,i,s);return gn.transformRectangle(a,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(e,n,i,s){const a=St.create(e,n,i,s),l=this.getPageOffset();return a.x-=l.x,a.y-=l.y,this.graphToLocalRect(a)}}class Ec extends Wn{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:e,magnet:n,options:i={}}){const s=this.resolveHighlighter(i);if(!s)return;const a=this.getHighlighterId(n,s);if(!this.highlights[a]){const l=s.highlighter;l.highlight(e,n,Object.assign({},s.args)),this.highlights[a]={cellView:e,magnet:n,highlighter:l,args:s.args}}}onCellUnhighlight({magnet:e,options:n={}}){const i=this.resolveHighlighter(n);if(!i)return;const s=this.getHighlighterId(e,i);this.unhighlight(s)}resolveHighlighter(e){const n=this.options;let i=e.highlighter;if(null==i){const c=e.type;i=c&&n.highlighting[c]||n.highlighting.default}if(null==i)return null;const s="string"==typeof i?{name:i}:i,a=s.name,l=Hi.registry.get(a);return null==l?Hi.registry.onNotFound(a):(Hi.check(a,l),{name:a,highlighter:l,args:s.args||{}})}getHighlighterId(e,n){return Zl(e),n.name+e.id+JSON.stringify(n.args)}unhighlight(e){const n=this.highlights[e];n&&(n.highlighter.unhighlight(n.cellView,n.magnet,n.args),delete this.highlights[e])}dispose(){Object.keys(this.highlights).forEach(e=>this.unhighlight(e)),this.stopListening()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Ec.dispose()],Ec.prototype,"dispose",null);class T_ extends Wn{getScroller(){const e=this.graph.getPlugin("scroller");return e&&e.options.enabled?e:null}getContainer(){const e=this.getScroller();return e?e.container.parentElement:this.graph.container.parentElement}getSensorTarget(){const e=this.options.autoResize;if(e)return"boolean"==typeof e?this.getContainer():e}init(){if(this.options.autoResize){const n=this.getSensorTarget();n&&cc.bind(n,()=>{this.resize(n.offsetWidth,n.offsetHeight)})}}resize(e,n){const i=this.getScroller();i?i.resize(e,n):this.graph.transform.resize(e,n)}dispose(){cc.clear(this.graph.container)}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],T_.prototype,"dispose",null);class ti extends ii{get container(){return this.options.container}get[Symbol.toStringTag](){return ti.toStringTag}constructor(e){super(),this.installedPlugins=new Set,this.options=Aa.get(e),this.css=new Up(this),this.view=new Ni(this),this.defs=new b_(this),this.coord=new S_(this),this.transform=new C_(this),this.highlight=new Ec(this),this.grid=new Xp(this),this.background=new Wp(this),this.options.model?this.model=this.options.model:(this.model=new mi,this.model.graph=this),this.renderer=new Qp(this),this.panning=new Yp(this),this.mousewheel=new Kp(this),this.virtualRender=new y_(this),this.size=new T_(this)}isNode(e){return e.isNode()}isEdge(e){return e.isEdge()}resetCells(e,n={}){return this.model.resetCells(e,n),this}clearCells(e={}){return this.model.clear(e),this}toJSON(e={}){return this.model.toJSON(e)}parseJSON(e){return this.model.parseJSON(e)}fromJSON(e,n={}){return this.model.fromJSON(e,n),this}getCellById(e){return this.model.getCell(e)}addNode(e,n={}){return this.model.addNode(e,n)}addNodes(e,n={}){return this.addCell(e.map(i=>$n.isNode(i)?i:this.createNode(i)),n)}createNode(e){return this.model.createNode(e)}removeNode(e,n={}){return this.model.removeCell(e,n)}addEdge(e,n={}){return this.model.addEdge(e,n)}addEdges(e,n={}){return this.addCell(e.map(i=>Rn.isEdge(i)?i:this.createEdge(i)),n)}removeEdge(e,n={}){return this.model.removeCell(e,n)}createEdge(e){return this.model.createEdge(e)}addCell(e,n={}){return this.model.addCell(e,n),this}removeCell(e,n={}){return this.model.removeCell(e,n)}removeCells(e,n={}){return this.model.removeCells(e,n)}removeConnectedEdges(e,n={}){return this.model.removeConnectedEdges(e,n)}disconnectConnectedEdges(e,n={}){return this.model.disconnectConnectedEdges(e,n),this}hasCell(e){return this.model.has(e)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(e){return this.model.getOutgoingEdges(e)}getIncomingEdges(e){return this.model.getIncomingEdges(e)}getConnectedEdges(e,n={}){return this.model.getConnectedEdges(e,n)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(e){return this.model.isRoot(e)}isLeafNode(e){return this.model.isLeaf(e)}getNeighbors(e,n={}){return this.model.getNeighbors(e,n)}isNeighbor(e,n,i={}){return this.model.isNeighbor(e,n,i)}getSuccessors(e,n={}){return this.model.getSuccessors(e,n)}isSuccessor(e,n,i={}){return this.model.isSuccessor(e,n,i)}getPredecessors(e,n={}){return this.model.getPredecessors(e,n)}isPredecessor(e,n,i={}){return this.model.isPredecessor(e,n,i)}getCommonAncestor(...e){return this.model.getCommonAncestor(...e)}getSubGraph(e,n={}){return this.model.getSubGraph(e,n)}cloneSubGraph(e,n={}){return this.model.cloneSubGraph(e,n)}cloneCells(e){return this.model.cloneCells(e)}getNodesFromPoint(e,n){return this.model.getNodesFromPoint(e,n)}getNodesInArea(e,n,i,s,a){return this.model.getNodesInArea(e,n,i,s,a)}getNodesUnderNode(e,n={}){return this.model.getNodesUnderNode(e,n)}searchCell(e,n,i={}){return this.model.search(e,n,i),this}getShortestPath(e,n,i={}){return this.model.getShortestPath(e,n,i)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(e,n={}){return this.model.getCellsBBox(e,n)}startBatch(e,n={}){this.model.startBatch(e,n)}stopBatch(e,n={}){this.model.stopBatch(e,n)}batchUpdate(e,n,i){const s="string"==typeof e?e:"update",a="string"==typeof e?n:e,l="function"==typeof n?i:n;this.startBatch(s,l);const c=a();return this.stopBatch(s,l),c}updateCellId(e,n){return this.model.updateCellId(e,n)}findView(e){return an.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}findViews(e){return St.isRectangleLike(e)?this.findViewsInArea(e):Ce.isPointLike(e)?this.findViewsFromPoint(e):[]}findViewByCell(e){return this.renderer.findViewByCell(e)}findViewByElem(e){return this.renderer.findViewByElem(e)}findViewsFromPoint(e,n){return this.renderer.findViewsFromPoint("number"==typeof e?{x:e,y:n}:e)}findViewsInArea(e,n,i,s,a){return this.renderer.findViewsInArea("number"==typeof e?{x:e,y:n,width:i,height:s}:e,"number"==typeof e?a:n)}matrix(e){return typeof e>"u"?this.transform.getMatrix():(this.transform.setMatrix(e),this)}resize(e,n){const i=this.getPlugin("scroller");return i?i.resize(e,n):this.transform.resize(e,n),this}scale(e,n=e,i=0,s=0){return typeof e>"u"?this.transform.getScale():(this.transform.scale(e,n,i,s),this)}zoom(e,n){const i=this.getPlugin("scroller");if(i){if(typeof e>"u")return i.zoom();i.zoom(e,n)}else{if(typeof e>"u")return this.transform.getZoom();this.transform.zoom(e,n)}return this}zoomTo(e,n={}){const i=this.getPlugin("scroller");return i?i.zoom(e,Object.assign(Object.assign({},n),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},n),{absolute:!0})),this}zoomToRect(e,n={}){const i=this.getPlugin("scroller");return i?i.zoomToRect(e,n):this.transform.zoomToRect(e,n),this}zoomToFit(e={}){const n=this.getPlugin("scroller");return n?n.zoomToFit(e):this.transform.zoomToFit(e),this}rotate(e,n,i){return typeof e>"u"?this.transform.getRotation():(this.transform.rotate(e,n,i),this)}translate(e,n){return typeof e>"u"?this.transform.getTranslation():(this.transform.translate(e,n),this)}translateBy(e,n){const i=this.translate();return this.translate(i.tx+e,i.ty+n)}getGraphArea(){return this.transform.getGraphArea()}getContentArea(e={}){return this.transform.getContentArea(e)}getContentBBox(e={}){return this.transform.getContentBBox(e)}fitToContent(e,n,i,s){return this.transform.fitToContent(e,n,i,s)}scaleContentToFit(e={}){return this.transform.scaleContentToFit(e),this}center(e){return this.centerPoint(e)}centerPoint(e,n,i){const s=this.getPlugin("scroller");return s?s.centerPoint(e,n,i):this.transform.centerPoint(e,n),this}centerContent(e){const n=this.getPlugin("scroller");return n?n.centerContent(e):this.transform.centerContent(e),this}centerCell(e,n){const i=this.getPlugin("scroller");return i?i.centerCell(e,n):this.transform.centerCell(e),this}positionPoint(e,n,i,s={}){const a=this.getPlugin("scroller");return a?a.positionPoint(e,n,i,s):this.transform.positionPoint(e,n,i),this}positionRect(e,n,i){const s=this.getPlugin("scroller");return s?s.positionRect(e,n,i):this.transform.positionRect(e,n),this}positionCell(e,n,i){const s=this.getPlugin("scroller");return s?s.positionCell(e,n,i):this.transform.positionCell(e,n),this}positionContent(e,n){const i=this.getPlugin("scroller");return i?i.positionContent(e,n):this.transform.positionContent(e,n),this}snapToGrid(e,n){return this.coord.snapToGrid(e,n)}pageToLocal(e,n,i,s){return St.isRectangleLike(e)?this.coord.pageToLocalRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.pageToLocalRect(e,n,i,s):this.coord.pageToLocalPoint(e,n)}localToPage(e,n,i,s){return St.isRectangleLike(e)?this.coord.localToPageRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.localToPageRect(e,n,i,s):this.coord.localToPagePoint(e,n)}clientToLocal(e,n,i,s){return St.isRectangleLike(e)?this.coord.clientToLocalRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.clientToLocalRect(e,n,i,s):this.coord.clientToLocalPoint(e,n)}localToClient(e,n,i,s){return St.isRectangleLike(e)?this.coord.localToClientRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.localToClientRect(e,n,i,s):this.coord.localToClientPoint(e,n)}localToGraph(e,n,i,s){return St.isRectangleLike(e)?this.coord.localToGraphRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.localToGraphRect(e,n,i,s):this.coord.localToGraphPoint(e,n)}graphToLocal(e,n,i,s){return St.isRectangleLike(e)?this.coord.graphToLocalRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.graphToLocalRect(e,n,i,s):this.coord.graphToLocalPoint(e,n)}clientToGraph(e,n,i,s){return St.isRectangleLike(e)?this.coord.clientToGraphRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.clientToGraphRect(e,n,i,s):this.coord.clientToGraphPoint(e,n)}defineFilter(e){return this.defs.filter(e)}defineGradient(e){return this.defs.gradient(e)}defineMarker(e){return this.defs.marker(e)}getGridSize(){return this.grid.getGridSize()}setGridSize(e){return this.grid.setGridSize(e),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(e){return this.grid.draw(e),this}updateBackground(){return this.background.update(),this}drawBackground(e,n){const i=this.getPlugin("scroller");return null==i||null!=this.options.background&&n?this.background.draw(e):i.drawBackground(e,n),this}clearBackground(e){const n=this.getPlugin("scroller");return null==n||null!=this.options.background&&e?this.background.clear():n.clearBackground(e),this}enableVirtualRender(){return this.virtualRender.enableVirtualRender(),this}disableVirtualRender(){return this.virtualRender.disableVirtualRender(),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(e){return null==e?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){const e=this.getPlugin("scroller");return e?e.isPannable():this.panning.pannable}enablePanning(){const e=this.getPlugin("scroller");return e?e.enablePanning():this.panning.enablePanning(),this}disablePanning(){const e=this.getPlugin("scroller");return e?e.disablePanning():this.panning.disablePanning(),this}togglePanning(e){return null==e?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}use(e,...n){return this.installedPlugins.has(e)||(this.installedPlugins.add(e),e.init(this,...n)),this}getPlugin(e){return Array.from(this.installedPlugins).find(n=>n.name===e)}getPlugins(e){return Array.from(this.installedPlugins).filter(n=>e.includes(n.name))}enablePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const i=this.getPlugins(n);return i?.forEach(s=>{var a;null===(a=s?.enable)||void 0===a||a.call(s)}),this}disablePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const i=this.getPlugins(n);return i?.forEach(s=>{var a;null===(a=s?.disable)||void 0===a||a.call(s)}),this}isPluginEnabled(e){var n;const i=this.getPlugin(e);return null===(n=i?.isEnabled)||void 0===n?void 0:n.call(i)}disposePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const i=this.getPlugins(n);return i?.forEach(s=>{s.dispose(),this.installedPlugins.delete(s)}),this}dispose(e=!0){e&&this.model.dispose(),this.css.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.highlight.dispose(),this.background.dispose(),this.mousewheel.dispose(),this.panning.dispose(),this.view.dispose(),this.renderer.dispose(),this.installedPlugins.forEach(n=>{n.dispose()})}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([ii.dispose()],ti.prototype,"dispose",null),function(o){o.View=Ni,o.Renderer=Qp,o.MouseWheel=Kp,o.DefsManager=b_,o.GridManager=Xp,o.CoordManager=S_,o.TransformManager=C_,o.HighlightManager=Ec,o.BackgroundManager=Wp,o.PanningManager=Yp}(ti||(ti={})),function(o){o.toStringTag=`X6.${o.name}`,o.isGraph=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return null==i||i===o.toStringTag}}(ti||(ti={})),function(o){o.render=function e(n,i){const s=n instanceof HTMLElement?new o({container:n}):new o(n);return null!=i&&s.fromJSON(i),s}}(ti||(ti={})),function(o){o.registerNode=$n.registry.register,o.registerEdge=Rn.registry.register,o.registerView=An.registry.register,o.registerAttr=ki.registry.register,o.registerGrid=_s.registry.register,o.registerFilter=Qo.registry.register,o.registerNodeTool=er.registry.register,o.registerEdgeTool=tr.registry.register,o.registerBackground=Oa.registry.register,o.registerHighlighter=Hi.registry.register,o.registerPortLayout=eo.registry.register,o.registerPortLabelLayout=Jo.registry.register,o.registerMarker=ys.registry.register,o.registerRouter=xs.registry.register,o.registerConnector=to.registry.register,o.registerAnchor=nr.registry.register,o.registerEdgeAnchor=ir.registry.register,o.registerConnectionPoint=sr.registry.register}(ti||(ti={})),function(o){o.unregisterNode=$n.registry.unregister,o.unregisterEdge=Rn.registry.unregister,o.unregisterView=An.registry.unregister,o.unregisterAttr=ki.registry.unregister,o.unregisterGrid=_s.registry.unregister,o.unregisterFilter=Qo.registry.unregister,o.unregisterNodeTool=er.registry.unregister,o.unregisterEdgeTool=tr.registry.unregister,o.unregisterBackground=Oa.registry.unregister,o.unregisterHighlighter=Hi.registry.unregister,o.unregisterPortLayout=eo.registry.unregister,o.unregisterPortLabelLayout=Jo.registry.unregister,o.unregisterMarker=ys.registry.unregister,o.unregisterRouter=xs.registry.unregister,o.unregisterConnector=to.registry.unregister,o.unregisterAnchor=nr.registry.unregister,o.unregisterEdgeAnchor=ir.registry.unregister,o.unregisterConnectionPoint=sr.registry.unregister}(ti||(ti={}));class no extends $n{}(function(o){class e extends _i{init(){super.init(),this.cell.on("change:*",this.onCellChangeAny,this)}onCellChangeAny({key:i}){const s=o.shapeMaps[this.cell.shape];if(s){const{effect:a}=s;(!a||a.includes(i))&&this.renderHTMLComponent()}}confirmUpdate(i){const s=super.confirmUpdate(i);return this.handleAction(s,e.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const i=this.selectors&&this.selectors.foContent;if(i){Fo(i);const s=o.shapeMaps[this.cell.shape];if(!s)return;let{html:a}=s;"function"==typeof a&&(a=a(this.cell)),a&&("string"==typeof a?i.innerHTML=a:Bo(i,a))}}dispose(){this.cell.off("change:*",this.onCellChangeAny,this)}}var n;(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([e.dispose()],e.prototype,"dispose",null),o.View=e,(n=e=o.View||(o.View={})).action="html",n.config({bootstrap:[n.action],actions:{html:n.action}}),_i.registry.register("html-view",n,!0)})(no||(no={})),function(o){o.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Sn.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),$n.registry.register("html",o,!0)}(no||(no={})),function(o){o.shapeMaps={},o.register=function e(n){const{shape:i,html:s,effect:a,inherit:l}=n,c=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(n,["shape","html","effect","inherit"]);if(!i)throw new Error("should specify shape in config");o.shapeMaps[i]={html:s,effect:a},ti.registerNode(i,Object.assign({inherit:l||"html"},c),!0)}}(no||(no={}))},4104:(Lt,ct,C)=>{"use strict";C.d(ct,{b:()=>X});var t=C(1413),f=C(1325),m=C(3796),v=C(3179),Y=C(4438),Ve=C(5013),be=C(1626),re=C(345),ue=C(6504);let X=(()=>{class ee{Ready(){return this.readySub.asObservable()}constructor(pe,K,G,fe,ze){this.rs=pe,this.injector=K,this.httpClient=G,this.sanitizer=fe,this.ns=ze,this.ready=!1,this.readySub=new t.B,this.components={},this.PutCollections(m.p)}PutComponent(pe){if(this.components[pe.id]=pe,pe.listeners)for(let K in pe.listeners){if(!pe.listeners.hasOwnProperty(K))return;const G=pe.listeners[K];if("string"==typeof G)try{pe.listeners[K]=new Function("cell","event",G)}catch(fe){this.ns.error("\u7f16\u8bd1\u9519\u8bef",fe.message)}}if("string"==typeof pe.html)try{pe.html=new Function("cell",func)}catch(K){this.ns.error("\u7f16\u8bd1\u9519\u8bef",K.message)}if(pe.hooks)for(let K in pe.hooks){if(!pe.hooks.hasOwnProperty(K))return;const G=pe.hooks[K];if("string"==typeof G)try{pe.hooks[K]=new Function("value","cell",G)}catch(fe){this.ns.error("\u7f16\u8bd1\u9519\u8bef",fe.message)}}}PutCollections(pe){pe.forEach(K=>this.PutCollection(K))}PutCollection(pe){pe.components=pe.components||[],pe.components.forEach(K=>{this.PutComponent(K)})}CheckRegister(pe){if(!pe.registered&&!pe.internal){switch(pe.registered=!0,pe.type){case"line":if(pe.extends)return f.ke.registerEdge(pe.id,pe.extends),!0;this.ns.error("\u7f16\u8bd1\u9519\u8bef",pe.id+" "+pe.name+"\u7f3a\u5c11extends");break;case"shape":if(pe.extends)return f.ke.registerNode(pe.id,pe.extends),!0;this.ns.error("\u7f16\u8bd1\u9519\u8bef",pe.id+" "+pe.name+"\u7f3a\u5c11extends");break;case"html":f.yp.g3.register({shape:pe.id,width:pe.metadata?.width||100,height:pe.metadata?.height||100,html:pe.html});break;case"angular":if(pe.content)return(0,v.kz)({shape:pe.id,width:pe.metadata?.width||100,height:pe.metadata?.height||100,content:pe.content,injector:this.injector}),pe.registered=!0,!0;this.ns.error("\u7f16\u8bd1\u9519\u8bef",pe.id+" "+pe.name+"\u7f3a\u5c11content")}return!1}}Get(pe){const K=this.components[pe];return K&&this.CheckRegister(K),K}static#e=this.\u0275fac=function(K){return new(K||ee)(Y.KVO(Ve.By),Y.KVO(Y.zZn),Y.KVO(be.Qq),Y.KVO(re.up),Y.KVO(ue.xY))};static#t=this.\u0275prov=Y.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},763:(Lt,ct,C)=>{"use strict";C.d(ct,{y:()=>ee});var t=C(1325),f=C(4438),m=C(345),v=C(3053);const Y=["iframe"];function Ve(le,pe){if(1&le&&(f.j41(0,"div"),f.EFF(1),f.k0s()),2&le){const K=f.XpG();f.R7$(),f.JRh(K.title)}}let be=(()=>{class le{set url(K){this.safeUrl=this.san.bypassSecurityTrustResourceUrl(K)}constructor(K){this.san=K,this.title="\u7a97\u53e3",this.width=400,this.height=300}load(K){console.log("iframe load",K);const G=this.iframe.nativeElement.contentWindow;this.title=G.document.title,setTimeout(()=>{this.title=G.document.title},500),setTimeout(()=>{this.title=G.document.title},2e3)}static#e=this.\u0275fac=function(G){return new(G||le)(f.rXU(m.up))};static#t=this.\u0275cmp=f.VBU({type:le,selectors:[["app-window"]],viewQuery:function(G,fe){if(1&G&&f.GBs(Y,5),2&G){let ze;f.mGM(ze=f.lsd())&&(fe.iframe=ze.first)}},inputs:{title:"title",width:"width",height:"height",url:"url"},decls:3,vars:5,consts:[["iframe",""],[4,"nzModalTitle"],[3,"load","src"]],template:function(G,fe){if(1&G){const ze=f.RV6();f.DNE(0,Ve,2,1,"div",1),f.j41(1,"iframe",2,0),f.bIt("load",function(Fe){return f.eBV(ze),f.Njj(fe.load(Fe))}),f.k0s()}2&G&&(f.R7$(),f.xc7("width",fe.width+"px")("height",fe.height+"px"),f.Y8G("src",fe.safeUrl,f.f$h))},dependencies:[v.hk],styles:["iframe[_ngcontent-%COMP%]{border:none}"]})}return le})();var re=C(5013),ue=C(4104),X=C(6504);let ee=(()=>{class le{set page(K){this._page=K,this.render(K)}get page(){return this._page}constructor(K,G,fe,ze,xe){this.rs=K,this.cs=G,this.ns=fe,this.ms=ze,this.subs=[],this.mousewheel=!1,this.panning=!1,this.full=!1,this.padding=10,this.tools={go:Fe=>{},window:(Fe,Ge=400,he=300,Te="\u7a97\u53e3")=>{this.ms.create({nzContent:be,nzData:{url:Fe,width:Ge,height:he,title:Te},nzWidth:Ge+48,nzFooter:null})},open:(Fe,Ge=!1)=>{Ge?window.open(Fe):location.href=Fe},get:(Fe,Ge)=>{this.rs.get(Fe,Ge).subscribe(()=>{})},post:(Fe,Ge)=>{this.rs.post(Fe,Ge).subscribe(()=>{})},auth:Fe=>{}},this.graph=new t.ke({container:xe.nativeElement,interacting:!1,mousewheel:this.mousewheel,panning:this.panning,autoResize:this.full}),this.graph.on("cell:click",({cell:Fe,e:Ge})=>{try{Fe.data?.listeners?.click?.call(this,Fe,Ge,this.tools),this.cs.Get(Fe.shape)?.listeners?.click?.call(this,Fe,Ge,this.tools)}catch(he){this.ns.error("\u70b9\u51fb\u4e8b\u4ef6\u5904\u7406\u9519\u8bef",he.message)}}),this.graph.on("cell:mouseenter",({cell:Fe,e:Ge})=>{try{this.cs.Get(Fe.shape)?.listeners?.mouseenter?.call(this,Fe,Ge,this.tools)}catch(he){this.ns.error("\u9f20\u6807\u4e8b\u4ef6\u5904\u7406\u9519\u8bef",he.message)}}),this.graph.on("cell:mouseleave",({cell:Fe,e:Ge})=>{try{this.cs.Get(Fe.shape)?.listeners?.mouseleave?.call(this,Fe,Ge,this.tools)}catch(he){this.ns.error("\u9f20\u6807\u4e8b\u4ef6\u5904\u7406\u9519\u8bef",he.message)}}),this.graph.on("cell:custom",Fe=>{try{Fe.cell?.data.listeners?.[Fe.event]?.call(this,Fe.cell,Fe.value,this.tools)}catch(Ge){this.ns.error("\u7ec4\u4ef6\u4e8b\u4ef6\u54cd\u5e94\u5904\u7406\u9519\u8bef",Ge.message)}})}evaluate(K,G){const fe=Object.keys(G),ze=Object.values(G);return new Function(...fe,"return "+K)(...ze)}render(K){K.content?.cells?.forEach(G=>{this.cs.Get(G.shape)}),this.graph.drawBackground({color:K.background_color,image:K.background_image}),this.graph.fromJSON(K.content),this.full&&(this.graph.centerContent(),this.graph.zoomToFit({padding:this.padding})),this.subs.forEach(G=>G.unsubscribe()),this.subs=[],this.graph.getCells().forEach(G=>{const fe=this.cs.Get(G.shape);if(G.data?.bindings)for(const ze in G.data.bindings)G.data.bindings.hasOwnProperty(ze)&&console.log("binding",fe.id,ze,G.data.bindings[ze]);if(G.data?.listeners)for(const ze in G.data.listeners){if(!G.data.listeners.hasOwnProperty(ze))continue;const xe=G.data.listeners[ze];if("string"==typeof xe&&xe.length>0)try{G.data.listeners[ze]=new Function("cell","event","tools",xe)}catch(Fe){this.ns.error("\u811a\u672c\u7f16\u8bd1\u9519\u8bef"+ze,xe+" "+Fe.message),G.data.listeners[ze]=()=>{this.ns.error("\u7ec4\u4ef6\u811a\u672c\u9519\u8bef"+ze,xe+" "+Fe.message)}}}})}onResize(K){this.full&&(this.graph.resize(K.target.innerWidth,K.target.innerHeight),this.graph.centerContent(),this.graph.zoomToFit({padding:this.padding}))}ngOnDestroy(){this.subs.forEach(K=>K.unsubscribe())}static#e=this.\u0275fac=function(G){return new(G||le)(f.rXU(re.By),f.rXU(ue.b),f.rXU(X.xY),f.rXU(v.N_),f.rXU(f.aKT))};static#t=this.\u0275cmp=f.VBU({type:le,selectors:[["app-render"]],hostBindings:function(G,fe){1&G&&f.bIt("resize",function(xe){return fe.onResize(xe)},!1,f.tSv)},inputs:{page:"page",mousewheel:"mousewheel",panning:"panning",full:"full",padding:"padding"},standalone:!0,features:[f.aNF],decls:2,vars:0,template:function(G,fe){1&G&&(f.j41(0,"p"),f.EFF(1,"render"),f.k0s())},styles:["[_nghost-%COMP%]{display:block;overflow:hidden}"]})}return le})()},2513:(Lt,ct,C)=>{"use strict";C.d(ct,{d:()=>f});const f={name:"\u56fe\u7247",id:"image",icon:"assets/widgets/image.svg",type:"shape",internal:!0,extends:{inherit:"image"},events:[...C(43).J1],metadata:{width:100,height:80,imageUrl:"assets/widgets/image.svg"},properties:[{label:"\u56fe\u7247",key:"attrs/image/xlink:href",type:"file"}]}},43:(Lt,ct,C)=>{"use strict";C.d(ct,{J1:()=>v,Rb:()=>be,YQ:()=>Y,mC:()=>Ve});var v=[{name:"click",label:"\u70b9\u51fb"}];function Y(re){return[{label:"X\u5706\u89d2",key:`attrs/${re}/rx`,type:"number",min:0,max:65535},{label:"Y\u5706\u89d2",key:`attrs/${re}/ry`,type:"number",min:0,max:65535}]}function Ve(re,ue=""){return[{label:ue+"\u586b\u5145\u989c\u8272",key:`attrs/${re}/fill`,type:"color",clear:!0},{label:ue+"\u8fb9\u6846\u989c\u8272",key:`attrs/${re}/stroke`,type:"color",clear:!0},{label:ue+"\u8fb9\u6846\u5927\u5c0f",key:`attrs/${re}/strokeWidth`,type:"number",min:0,max:65535},{label:ue+"\u8fb9\u6846\u7ebf\u5f62",key:`attrs/${re}/strokeDasharray`,type:"select",default:"",options:[{value:"",label:"\u5b9e\u7ebf"},{value:"5 5",label:"\u865a\u7ebf1"},{value:"10 10",label:"\u865a\u7ebf2"},{value:"15 15",label:"\u865a\u7ebf3"},{value:"20 20",label:"\u865a\u7ebf4"},{value:"30 30",label:"\u865a\u7ebf5"},{value:"50 50",label:"\u865a\u7ebf6"},{value:"80 80",label:"\u865a\u7ebf7"}]}]}const be=[{label:"\u6587\u672c",key:"attrs/text/text",type:"text",max:200},{label:"\u989c\u8272",key:"attrs/text/fill",type:"color",clear:!0},{label:"\u5b57\u53f7",key:"attrs/text/fontSize",type:"number",min:0,max:65535,default:16},{label:"\u5b57\u4f53",key:"attrs/text/fontFamily",type:"select",options:[{value:"SimHei",label:"\u9ed1\u4f53"},{value:"SimSun",label:"\u5b8b\u4f53"},{value:"FangSong",label:"\u4eff\u5b8b"},{value:"KaiTi",label:"\u6977\u4f53"},{value:"LiSu",label:"\u96b6\u4e66"},{value:"YouYuan",label:"\u5e7c\u5706"}],default:"SimHei"},{label:"\u52a0\u7c97",key:"attrs/text/fontWeight",type:"select",options:[{value:"lighter",label:"\u7ec6"},{value:"normal",label:"\u6b63\u5e38"},{value:"bold",label:"\u7c97"},{value:"bolder",label:"\u52a0\u7c97"}],default:"normal"},{label:"\u98ce\u683c",key:"attrs/text/fontStyle",type:"select",options:[{value:"normal",label:"\u6b63\u5e38"},{value:"italic",label:"\u659c\u4f53"}],default:"normal"}]},3796:(Lt,ct,C)=>{"use strict";C.d(ct,{p:()=>me});var t=C(43);const f={name:"\u7ebf\u6761",id:":line:",icon:"assets/widgets/line.svg",type:"line",extends:{inherit:"edge"},metadata:{markup:[{tagName:"path",selector:"wrap"},{tagName:"path",selector:"line"}],attrs:{wrap:{fill:"none",connection:!0,stroke:"#ccc",strokeWidth:0,strokeLinejoin:"round"},line:{fill:"none",connection:!0,stroke:"#000",strokeWidth:2,strokeLinejoin:"round",targetMarker:null}},tools:{items:["edge-editor"]}},properties:[...(0,t.mC)("line")],bindings:[],hooks:{}};var m=C(513),v=C(177),Y=C(4438);const be={name:"\u6309\u94ae",id:":button:",icon:"assets/widgets/button.svg",type:"angular",metadata:{width:100,height:40},content:(()=>{class W{constructor(){this.text="\u6309\u94ae",this.fontSize=16}onClick(D){}static#e=this.\u0275fac=function(j){return new(j||W)};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["nuwa-control-button"]],inputs:{text:"text",fontSize:"fontSize"},standalone:!0,features:[Y.aNF],decls:2,vars:3,consts:[["type","button","nz-button","",3,"click"]],template:function(j,Q){1&j&&(Y.j41(0,"button",0),Y.bIt("click",function(Ye){return Q.onClick(Ye)}),Y.EFF(1),Y.k0s()),2&j&&(Y.xc7("font-size",Q.fontSize+"px"),Y.R7$(),Y.JRh(Q.text))},dependencies:[v.MD,m.aO],styles:["button[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return W})(),events:[...t.J1],properties:[{label:"\u5b57\u53f7",key:"data/ngArguments/fontSize",type:"number",min:0,max:255,default:16}],bindings:[],hooks:{}},re={name:"\u6587\u672c",id:":text:",icon:"assets/widgets/text.svg",type:"shape",extends:{inherit:"rect"},metadata:{width:100,height:30,attrs:{rect:{fill:"none",stroke:"none",strokeWidth:2},text:{text:"\u6587\u672c\u6846"}}},events:[...t.J1],properties:[...t.Rb,...(0,t.mC)("rect")],bindings:[],hooks:{}},ue={name:"\u77e9\u5f62",id:"rect",icon:"assets/widgets/rect.svg",type:"shape",internal:!0,metadata:{width:100,height:40},events:[...t.J1],properties:[...(0,t.mC)("rect"),...(0,t.YQ)("rect")],bindings:[],hooks:{}},X={name:"\u5706\u5f62",id:"circle",icon:"assets/widgets/circle.svg",type:"shape",internal:!0,metadata:{width:100,height:100},events:[...t.J1],properties:[...(0,t.mC)("circle")],bindings:[],hooks:{}},ee={name:"\u692d\u5706",id:"ellipse",icon:"assets/widgets/ellipse.svg",type:"shape",internal:!0,metadata:{width:100,height:60},events:[...t.J1],properties:[...(0,t.mC)("ellipse")],bindings:[],hooks:{}};var le=C(2513);const pe={name:"\u6570\u503c",id:":number:",icon:"assets/widgets/number.svg",type:"shape",extends:{inherit:"rect"},metadata:{width:100,height:30,attrs:{rect:{fill:"none",stroke:"none"},text:{text:"XXX.XX"}}},events:[...t.J1],properties:[...t.Rb,...(0,t.mC)("rect"),{label:"\u5c0f\u6570\u4f4d\u6570",key:"data/fixed",type:"number",default:0}],bindings:[{name:"value",label:"\u6570\u503c",default:12.06}],hooks:{value(W,b){let D=W.getPropByPath("data/fixed")||0;W.setPropByPath("attrs/text/text",b?.toFixed(D))}}};var K=C(2820);const fe={name:"\u56fe\u8868",id:":echarts:",icon:"assets/widgets/echarts.svg",type:"angular",metadata:{width:400,height:300},content:(()=>{class W{chartInit(D){this.chart=D,console.log(this.elementRef.nativeElement.clientWidth,this.elementRef.nativeElement.clientHeight)}resize(){this.chart.resize()}constructor(D){this.elementRef=D,this.option={title:{text:"echarts"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:"line"},{data:[100,200,200,60,90,177,130],type:"bar"}]}}static#e=this.\u0275fac=function(j){return new(j||W)(Y.rXU(Y.aKT))};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["app-echarts"]],inputs:{option:"option"},standalone:!0,features:[Y.aNF],decls:1,vars:5,consts:[[1,"chart",3,"chartInit","options"]],template:function(j,Q){1&j&&(Y.j41(0,"echarts",0),Y.bIt("chartInit",function(Ye){return Q.chartInit(Ye)}),Y.k0s()),2&j&&(Y.xc7("width",Q.elementRef.nativeElement.clientWidth+"px")("height",Q.elementRef.nativeElement.clientHeight+"px"),Y.Y8G("options",Q.option))},dependencies:[v.MD,K.sN,K.$P],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"]})}return W})(),properties:[],bindings:[],hooks:{}},xe={name:"\u67f1\u72b6\u56fe",id:":echarts-bar:",icon:"assets/widgets/echarts-bar.svg",type:"angular",metadata:{width:400,height:300},content:(()=>{class W{option(){return{xAxis:{type:"category",data:this.xAxis},yAxis:{type:"value"},series:[{data:this.yAxis,type:"bar"}]}}chartInit(D){this.chart=D}resize(){this.chart.resize()}constructor(D){this.elementRef=D,this.xAxis=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03"],this.yAxis=[100,110,120,130,120,110,100]}static#e=this.\u0275fac=function(j){return new(j||W)(Y.rXU(Y.aKT))};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["app-echarts-bar"]],inputs:{xAxis:"xAxis",yAxis:"yAxis"},standalone:!0,features:[Y.aNF],decls:1,vars:5,consts:[[1,"chart",3,"chartInit","options"]],template:function(j,Q){1&j&&(Y.j41(0,"echarts",0),Y.bIt("chartInit",function(Ye){return Q.chartInit(Ye)}),Y.k0s()),2&j&&(Y.xc7("width",Q.elementRef.nativeElement.clientWidth+"px")("height",Q.elementRef.nativeElement.clientHeight+"px"),Y.Y8G("options",Q.option()))},dependencies:[v.MD,K.sN,K.$P],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"]})}return W})(),properties:[],bindings:[],hooks:{}},Ge={name:"\u4eea\u8868\u76d8",id:":echarts-gauge:",icon:"assets/widgets/echarts-gauge.svg",type:"angular",metadata:{width:300,height:300},content:(()=>{class W{option(){return{series:[{type:"gauge",progress:{show:!0},axisTick:{show:!1},data:[{value:this.value}]}]}}chartInit(D){this.chart=D}resize(){this.chart.resize()}constructor(D){this.elementRef=D,this.name="",this.value=30}static#e=this.\u0275fac=function(j){return new(j||W)(Y.rXU(Y.aKT))};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["app-echarts-bar"]],inputs:{name:"name",value:"value"},standalone:!0,features:[Y.aNF],decls:1,vars:5,consts:[[1,"chart",3,"chartInit","options"]],template:function(j,Q){1&j&&(Y.j41(0,"echarts",0),Y.bIt("chartInit",function(Ye){return Q.chartInit(Ye)}),Y.k0s()),2&j&&(Y.xc7("width",Q.elementRef.nativeElement.clientWidth+"px")("height",Q.elementRef.nativeElement.clientHeight+"px"),Y.Y8G("options",Q.option()))},dependencies:[v.MD,K.sN,K.$P],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"]})}return W})(),properties:[],bindings:[],hooks:{}},Te={name:"\u6298\u7ebf\u56fe",id:":echarts-line:",icon:"assets/widgets/echarts-line.svg",type:"angular",metadata:{width:400,height:300},content:(()=>{class W{option(){return{xAxis:{type:"category",data:this.xAxis},yAxis:{type:"value"},series:[{data:this.yAxis,type:"line"}]}}chartInit(D){this.chart=D}resize(){this.chart.resize()}constructor(D){this.elementRef=D,this.xAxis=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03"],this.yAxis=[100,110,120,130,120,110,100]}static#e=this.\u0275fac=function(j){return new(j||W)(Y.rXU(Y.aKT))};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["app-echarts-bar"]],inputs:{xAxis:"xAxis",yAxis:"yAxis"},standalone:!0,features:[Y.aNF],decls:1,vars:5,consts:[[1,"chart",3,"chartInit","options"]],template:function(j,Q){1&j&&(Y.j41(0,"echarts",0),Y.bIt("chartInit",function(Ye){return Q.chartInit(Ye)}),Y.k0s()),2&j&&(Y.xc7("width",Q.elementRef.nativeElement.clientWidth+"px")("height",Q.elementRef.nativeElement.clientHeight+"px"),Y.Y8G("options",Q.option()))},dependencies:[v.MD,K.sN,K.$P],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"]})}return W})(),properties:[],bindings:[],hooks:{}},Se={name:"\u997c\u56fe",id:":echarts-pie:",icon:"assets/widgets/echarts-pie.svg",type:"angular",metadata:{width:400,height:400},content:(()=>{class W{option(){return{tooltip:{trigger:"item"},series:[{name:"Name",type:"pie",radius:"50%",data:this.data}]}}chartInit(D){this.chart=D}resize(){this.chart.resize()}constructor(D){this.elementRef=D,this.data=[{value:1048,name:"Search"},{value:735,name:"Direct"},{value:580,name:"Email"}]}static#e=this.\u0275fac=function(j){return new(j||W)(Y.rXU(Y.aKT))};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["app-echarts-bar"]],inputs:{data:"data"},standalone:!0,features:[Y.aNF],decls:1,vars:5,consts:[[1,"chart",3,"chartInit","options"]],template:function(j,Q){1&j&&(Y.j41(0,"echarts",0),Y.bIt("chartInit",function(Ye){return Q.chartInit(Ye)}),Y.k0s()),2&j&&(Y.xc7("width",Q.elementRef.nativeElement.clientWidth+"px")("height",Q.elementRef.nativeElement.clientHeight+"px"),Y.Y8G("options",Q.option()))},dependencies:[v.MD,K.sN,K.$P],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"]})}return W})(),properties:[],bindings:[],hooks:{}};var ae=C(1011),Ze=C(4341);const Pe=()=>({standalone:!0}),qe={name:"\u8f93\u5165\u6846",id:":input:",icon:"assets/widgets/input.svg",type:"angular",metadata:{width:160,height:30},content:(()=>{class W{constructor(){this.type="",this.placeholder=""}onChange(D){}static#e=this.\u0275fac=function(j){return new(j||W)};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["nuwa-control-input"]],inputs:{value:"value",type:"type",placeholder:"placeholder"},standalone:!0,features:[Y.aNF],decls:1,vars:5,consts:[["nz-input","",3,"ngModelChange","change","ngModel","ngModelOptions","type","placeholder"]],template:function(j,Q){1&j&&(Y.j41(0,"input",0),Y.mxI("ngModelChange",function(Ye){return Y.DH7(Q.value,Ye)||(Q.value=Ye),Ye}),Y.bIt("change",function(Ye){return Q.onChange(Ye)}),Y.k0s()),2&j&&(Y.R50("ngModel",Q.value),Y.Y8G("ngModelOptions",Y.lJ4(4,Pe))("type",Q.type)("placeholder",Q.placeholder))},dependencies:[v.MD,ae.Sy,Ze.YN,Ze.me,Ze.BC,Ze.vS],styles:["input[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return W})(),events:[...t.J1,{name:"blur",label:"\u5931\u53bb\u7126\u70b9"},{name:"change",label:"\u53d8\u5316"}],properties:[],bindings:[],hooks:{}};var Be=C(7481);const tt=()=>({standalone:!0}),pt={name:"\u5f00\u5173",id:":switch:",icon:"assets/widgets/switch.svg",type:"angular",metadata:{width:100,height:40},content:(()=>{class W{constructor(){this.value=60}onChange(D){}static#e=this.\u0275fac=function(j){return new(j||W)};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["nuwa-control-switch"]],inputs:{value:"value"},standalone:!0,features:[Y.aNF],decls:1,vars:3,consts:[[3,"ngModelChange","change","ngModel","ngModelOptions"]],template:function(j,Q){1&j&&(Y.j41(0,"nz-switch",0),Y.mxI("ngModelChange",function(Ye){return Y.DH7(Q.value,Ye)||(Q.value=Ye),Ye}),Y.bIt("change",function(Ye){return Q.onChange(Ye)}),Y.k0s()),2&j&&(Y.R50("ngModel",Q.value),Y.Y8G("ngModelOptions",Y.lJ4(2,tt)))},dependencies:[v.MD,Ze.YN,Ze.BC,Ze.vS,Be.u],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}nz-switch[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return W})(),events:[...t.J1,{name:"change",label:"\u53d8\u5316"}],properties:[],bindings:[],hooks:{}};var et=C(7064);const mt={name:"\u8fdb\u5ea6\u6761",id:":progress:",icon:"assets/widgets/progress.svg",type:"angular",metadata:{width:200,height:30},content:(()=>{class W{constructor(D){this.elementRef=D,this.percent=60,this.color="#6992ff"}static#e=this.\u0275fac=function(j){return new(j||W)(Y.rXU(Y.aKT))};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["nuwa-control-progress"]],inputs:{percent:"percent",color:"color"},standalone:!0,features:[Y.aNF],decls:1,vars:4,consts:[["nzStrokeLinecap","square",3,"nzPercent","nzShowInfo","nzStrokeColor","nzStrokeWidth"]],template:function(j,Q){1&j&&Y.nrm(0,"nz-progress",0),2&j&&Y.Y8G("nzPercent",Q.percent)("nzShowInfo",!1)("nzStrokeColor",Q.color)("nzStrokeWidth",Q.elementRef.nativeElement.clientHeight||10)},dependencies:[v.MD,et.V],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}nz-progress[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return W})(),events:[...t.J1],properties:[],bindings:[],hooks:{}};var ht=C(1997);const xt=()=>({standalone:!0}),Me={name:"\u9009\u62e9",id:":select:",icon:"assets/widgets/select.svg",type:"angular",metadata:{width:100,height:40},content:(()=>{class W{constructor(){this.options=[]}onChange(D){}static#e=this.\u0275fac=function(j){return new(j||W)};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["nuwa-control-select"]],inputs:{value:"value",options:"options"},standalone:!0,features:[Y.aNF],decls:1,vars:4,consts:[[3,"ngModelChange","change","ngModel","ngModelOptions","nzOptions"]],template:function(j,Q){1&j&&(Y.j41(0,"nz-select",0),Y.mxI("ngModelChange",function(Ye){return Y.DH7(Q.value,Ye)||(Q.value=Ye),Ye}),Y.bIt("change",function(Ye){return Q.onChange(Ye)}),Y.k0s()),2&j&&(Y.R50("ngModel",Q.value),Y.Y8G("ngModelOptions",Y.lJ4(3,xt))("nzOptions",Q.options))},dependencies:[v.MD,Ze.YN,Ze.BC,Ze.vS,ht.WI],styles:["nz-select[_ngcontent-%COMP%]{width:100%}"]})}return W})(),events:[...t.J1,{name:"change",label:"\u53d8\u5316"}],properties:[],bindings:[],hooks:{}};var nt=C(1166);const ie=()=>({standalone:!0}),_e={name:"\u6ed1\u5757",id:":slider:",icon:"assets/widgets/slider.svg",type:"angular",metadata:{width:200,height:200},content:(()=>{class W{constructor(){this.value=60,this.min=0,this.max=100,this.step=1,this.vertical=!1}onChange(D){}static#e=this.\u0275fac=function(j){return new(j||W)};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["nuwa-control-slider"]],inputs:{value:"value",min:"min",max:"max",step:"step",vertical:"vertical"},standalone:!0,features:[Y.aNF],decls:1,vars:7,consts:[[3,"ngModelChange","change","ngModel","ngModelOptions","nzMin","nzMax","nzStep","nzVertical"]],template:function(j,Q){1&j&&(Y.j41(0,"nz-slider",0),Y.mxI("ngModelChange",function(Ye){return Y.DH7(Q.value,Ye)||(Q.value=Ye),Ye}),Y.bIt("change",function(Ye){return Q.onChange(Ye)}),Y.k0s()),2&j&&(Y.R50("ngModel",Q.value),Y.Y8G("ngModelOptions",Y.lJ4(6,ie))("nzMin",Q.min)("nzMax",Q.max)("nzStep",Q.step)("nzVertical",Q.vertical))},dependencies:[v.MD,Ze.YN,Ze.BC,Ze.vS,nt.pT],styles:["nz-select[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return W})(),events:[...t.J1,{name:"change",label:"\u53d8\u5316"}],properties:[],bindings:[],hooks:{}};var ne=C(345);const je={name:"Web\u5b50\u9875\u9762",id:":iframe:",icon:"assets/widgets/web.svg",type:"angular",metadata:{width:200,height:160,tools:["boundary"]},content:(()=>{class W{set url(D){this.src=this.sanitizer.bypassSecurityTrustResourceUrl(D)}constructor(D){this.sanitizer=D,this.src=this.sanitizer.bypassSecurityTrustResourceUrl("")}static#e=this.\u0275fac=function(j){return new(j||W)(Y.rXU(ne.up))};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["nuwa-misc-web"]],inputs:{url:"url"},standalone:!0,features:[Y.aNF],decls:1,vars:1,consts:[[3,"src"]],template:function(j,Q){1&j&&Y.nrm(0,"iframe",0),2&j&&Y.Y8G("src",Q.src,Y.f$h)},dependencies:[v.MD],styles:["iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none;background-color:#e1e1e1}"]})}return W})(),properties:[{key:"data/ngArguments/url",label:"URL",type:"text"},{key:"data/name",label:"\u540d\u79f0",type:"text",default:"\u65b0\u5efaweb\u5165\u53e3"}],bindings:[],hooks:{}},Pt={name:"\u5b50\u9875\u9762",id:":outlet:",icon:"assets/widgets/outlet.svg",type:"angular",metadata:{width:300,height:200,tools:["boundary"]},content:C(763).y,properties:[{key:"data/name",label:"\u540d\u79f0",type:"text",default:"\u65b0\u5efa\u5b50\u9875\u9762\u5165\u53e3"}],bindings:[],hooks:{}},qt={name:"\u5929\u6c14",id:":weather:",icon:"assets/widgets/weather.svg",type:"angular",metadata:{width:200,height:100,tools:["boundary"]},content:(()=>{class W{set code(D){this._code=D,this.setUrl()}set id(D){this._id=D,this.setUrl()}setUrl(){this.src=this.sanitizer.bypassSecurityTrustResourceUrl(this.base+"?c="+this._code+"&id="+this._id)}constructor(D){this.sanitizer=D,this.base="https://i.tianqi.com/",this._code="code",this._id=1,this.setUrl()}static#e=this.\u0275fac=function(j){return new(j||W)(Y.rXU(ne.up))};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["nuwa-misc-weather"]],inputs:{code:"code",id:"id"},standalone:!0,features:[Y.aNF],decls:1,vars:1,consts:[[3,"src"]],template:function(j,Q){1&j&&Y.nrm(0,"iframe",0),2&j&&Y.Y8G("src",Q.src,Y.f$h)},dependencies:[v.MD],styles:["iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}"]})}return W})(),properties:[{key:"data/ngArguments/code",label:"\u6388\u6743\u7801",type:"text",default:"code"},{key:"data/ngArguments/id",label:"\u6837\u5f0f",type:"select",options:function Wt(){let W=[];for(let b=1;b<50;b++)W.push({label:"\u6837\u5f0f"+b,value:b});return W}(),default:1}],bindings:[],hooks:{}},lt={name:"\u6d41\u52a8\u7ebf\u6761",id:":flow:",icon:"assets/widgets/flow.svg",type:"line",extends:{inherit:"edge"},metadata:{markup:[{tagName:"path",selector:"wrap"},{tagName:"path",selector:"line"}],attrs:{wrap:{fill:"none",connection:!0,stroke:"#63baff",strokeWidth:10,strokeLinejoin:"round"},line:{fill:"none",connection:!0,stroke:"#02207a",strokeWidth:6,strokeLinejoin:"round",strokeLinecap:"round",strokeDasharray:"10 10",targetMarker:null}},tools:{items:["edge-editor"]}},properties:[...(0,t.mC)("wrap","\u5e95"),...(0,t.mC)("line"),{label:"\u8fb9\u6846\u52a8\u753b",key:"attrs/line/style/animation",type:"select",default:"",options:[{value:"",label:"\u65e0"},{value:"line-flow-animation 100s infinite linear",label:"\u6162"},{value:"line-flow-animation 50s infinite linear",label:"\u6b63\u5e38"},{value:"line-flow-animation 30s infinite linear",label:"\u5feb"},{value:"line-flow-animation 10s infinite linear",label:"\u52a0\u5feb"},{value:"line-flow-animation 5s infinite linear",label:"\u6781\u5feb"}]}],bindings:[],hooks:{}};var Mt=C(5362);const me=[{name:"\u57fa\u7840\u7ec4\u4ef6",components:[f,re,ue,X,ee,le.d]},{name:"\u4ea4\u4e92\u63a7\u4ef6",components:[be,pe,qe,pt,mt,Me,_e]},{name:"\u56fe\u8868\u7ec4\u4ef6",components:[fe,xe,Ge,Te,Se]},{name:"\u5176\u4ed6\u7ec4\u4ef6",components:[lt,qt,Pt,je,{name:"\u9ad8\u5fb7\u5730\u56fe",id:":amap:",icon:"assets/widgets/amap.svg",type:"angular",metadata:{width:200,height:100,tools:["boundary"]},content:(()=>{class W{set zoom(D){this._zoom=D,this.map?.setZoom(D)}set style(D){this._style=D,this.map?.setMapStyle(D)}set city(D){this._city=D,this.map?.setCity(D)}constructor(D){this.element=D,this.id="amap_"+Math.random().toString(36),this.key="eb6a831c04b6dfedda190d6254febb58",this.secret="55de9923dc16159e4750b7c743117e0d",this._zoom=12,this._style="amap://styles/normal",this._city="\u65e0\u9521"}ngOnInit(){window._AMapSecurityConfig={securityJsCode:this.secret},(0,Mt.load)({key:this.key,version:"2.0",plugins:["AMap.Icon","AMap.Marker"],AMapUI:{version:"1.1",plugins:[]}}).then(D=>{this.map=new D.Map(this.id,{resizeEnable:!0,mapStyle:this._style,zoom:this._zoom}),this.map.setCity(this._city),this.map.setFitView()}).catch(D=>{console.log(D)})}static#e=this.\u0275fac=function(j){return new(j||W)(Y.rXU(Y.aKT))};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["nuwa-misc-amap"]],inputs:{key:"key",secret:"secret",_zoom:"_zoom",zoom:"zoom",style:"style",city:"city"},standalone:!0,features:[Y.aNF],decls:1,vars:1,consts:[[1,"container",3,"id"]],template:function(j,Q){1&j&&Y.nrm(0,"div",0),2&j&&Y.Y8G("id",Q.id)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.container[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return W})(),properties:[{key:"data/ngArguments/key",label:"KEY",type:"text",default:"eb6a831c04b6dfedda190d6254febb58"},{key:"data/ngArguments/secret",label:"\u79d8\u94a5",type:"text",default:"55de9923dc16159e4750b7c743117e0d"},{key:"data/ngArguments/city",label:"\u57ce\u5e02",type:"text",default:"\u65e0\u9521"},{key:"data/ngArguments/zoom",label:"\u7f29\u653e",type:"number",default:12,min:2,max:30},{key:"data/ngArguments/style",label:"\u98ce\u683c",type:"select",options:[{value:"amap://styles/normal",label:"\u6807\u51c6"},{value:"amap://styles/dark",label:"\u5e7b\u5f71\u9ed1"},{value:"amap://styles/light",label:"\u6708\u5149\u94f6"},{value:"amap://styles/whitesmoke",label:"\u8fdc\u5c71\u9edb"},{value:"amap://styles/fresh",label:"\u8349\u8272\u9752"},{value:"amap://styles/grey",label:"\u96c5\u58eb\u7070"},{value:"amap://styles/graffiti",label:"\u6d82\u9e26"},{value:"amap://styles/macaron",label:"\u9a6c\u5361\u9f99"},{value:"amap://styles/blue",label:"\u975b\u9752\u84dd"},{value:"amap://styles/darkblue",label:"\u6781\u591c\u84dd"},{value:"amap://styles/wine",label:"\u9171\u7c7d"}]}],bindings:[],hooks:{}},{name:"\u70b9\u4e5d\u56fe",id:":.9:",icon:"assets/widgets/rect.svg",type:"angular",metadata:{width:200,height:200,tools:["boundary"]},content:(()=>{class W{constructor(){this.url="assets/widgets/.9.png",this.top=58,this.right=58,this.bottom=58,this.left=58}static#e=this.\u0275fac=function(j){return new(j||W)};static#t=this.\u0275cmp=Y.VBU({type:W,selectors:[["nuwa-misc-web"]],hostVars:6,hostBindings:function(j,Q){2&j&&Y.xc7("border-width",Q.top+"px "+Q.right+"px "+Q.bottom+"px "+Q.left+"px")("border-image-slice",Q.top+" "+Q.right+" "+Q.bottom+" "+Q.left+" fill")("border-image-source","url("+Q.url+")")},inputs:{url:"url",top:"top",right:"right",bottom:"bottom",left:"left"},standalone:!0,features:[Y.aNF],decls:0,vars:0,template:function(j,Q){},dependencies:[v.MD],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;box-sizing:border-box;border-color:transparent;border-style:solid;border-image-repeat:repeat}"]})}return W})(),properties:[{key:"data/ngArguments/url",label:"URL",type:"text",default:"assets/widgets/.9.png"},{key:"data/ngArguments/top",label:"\u4e0a\u8fb9\u8ddd",type:"number",min:0,max:999999,default:58},{key:"data/ngArguments/bottom",label:"\u4e0b\u8fb9\u8ddd",type:"number",min:0,max:999999,default:58},{key:"data/ngArguments/left",label:"\u5de6\u8fb9\u8ddd",type:"number",min:0,max:999999,default:58},{key:"data/ngArguments/right",label:"\u53f3\u8fb9\u8ddd",type:"number",min:0,max:999999,default:58}],bindings:[],hooks:{}}]}]},3726:(Lt,ct,C)=>{"use strict";C.d(ct,{R:()=>X});var t=C(8750),f=C(1985),m=C(1397),v=C(7441),Y=C(8071),Ve=C(6450);const be=["addListener","removeListener"],re=["addEventListener","removeEventListener"],ue=["on","off"];function X(G,fe,ze,xe){if((0,Y.T)(ze)&&(xe=ze,ze=void 0),xe)return X(G,fe,ze).pipe((0,Ve.I)(xe));const[Fe,Ge]=function K(G){return(0,Y.T)(G.addEventListener)&&(0,Y.T)(G.removeEventListener)}(G)?re.map(he=>Te=>G[he](fe,Te,ze)):function le(G){return(0,Y.T)(G.addListener)&&(0,Y.T)(G.removeListener)}(G)?be.map(ee(G,fe)):function pe(G){return(0,Y.T)(G.on)&&(0,Y.T)(G.off)}(G)?ue.map(ee(G,fe)):[];if(!Fe&&(0,v.X)(G))return(0,m.Z)(he=>X(he,fe,ze))((0,t.Tg)(G));if(!Fe)throw new TypeError("Invalid event target");return new f.c(he=>{const Te=(...Z)=>he.next(1<Z.length?Z:Z[0]);return Fe(Te),()=>Ge(Te)})}function ee(G,fe){return ze=>xe=>G[ze](fe,xe)}},7786:(Lt,ct,C)=>{"use strict";C.d(ct,{h:()=>Ve});var t=C(6365),f=C(8750),m=C(983),v=C(9326),Y=C(6648);function Ve(...be){const re=(0,v.lI)(be),ue=(0,v.R0)(be,1/0),X=be;return X.length?1===X.length?(0,f.Tg)(X[0]):(0,t.U)(ue)((0,Y.H)(X,re)):m.w}},3798:(Lt,ct,C)=>{"use strict";C.d(ct,{Z:()=>be});var t=C(3236),f=C(9974),m=C(8750),v=C(4360),Ve=C(1584);function be(re,ue=t.E){return function Y(re){return(0,f.N)((ue,X)=>{let ee=!1,le=null,pe=null,K=!1;const G=()=>{if(pe?.unsubscribe(),pe=null,ee){ee=!1;const ze=le;le=null,X.next(ze)}K&&X.complete()},fe=()=>{pe=null,K&&X.complete()};ue.subscribe((0,v._)(X,ze=>{ee=!0,le=ze,pe||(0,m.Tg)(re(ze)).subscribe(pe=(0,v._)(X,G,fe))},()=>{K=!0,(!ee||!pe||pe.closed)&&X.complete()}))})}(()=>(0,Ve.O)(re,ue))}},152:(Lt,ct,C)=>{"use strict";C.d(ct,{B:()=>v});var t=C(3236),f=C(9974),m=C(4360);function v(Y,Ve=t.E){return(0,f.N)((be,re)=>{let ue=null,X=null,ee=null;const le=()=>{if(ue){ue.unsubscribe(),ue=null;const K=X;X=null,re.next(K)}};function pe(){const K=ee+Y,G=Ve.now();if(G<K)return ue=this.schedule(void 0,K-G),void re.add(ue);le()}be.subscribe((0,m._)(re,K=>{X=K,ee=Ve.now(),ue||(ue=Ve.schedule(pe,Y),re.add(ue))},()=>{le(),re.complete()},void 0,()=>{X=ue=null}))})}},1986:(Lt,ct,C)=>{"use strict";C.d(ct,{c:()=>pe});var t=C(3236),f=C(8793),m=C(6697),v=C(9974),Y=C(4360),Ve=C(5343),re=C(3703),ue=C(1397),X=C(8750);function ee(K,G){return G?fe=>(0,f.x)(G.pipe((0,m.s)(1),function be(){return(0,v.N)((K,G)=>{K.subscribe((0,Y._)(G,Ve.l))})}()),fe.pipe(ee(K))):(0,ue.Z)((fe,ze)=>(0,X.Tg)(K(fe,ze)).pipe((0,m.s)(1),(0,re.u)(fe)))}var le=C(1584);function pe(K,G=t.E){const fe=(0,le.O)(K,G);return ee(()=>fe)}},3294:(Lt,ct,C)=>{"use strict";C.d(ct,{F:()=>v});var t=C(3669),f=C(9974),m=C(4360);function v(Ve,be=t.D){return Ve=Ve??Y,(0,f.N)((re,ue)=>{let X,ee=!0;re.subscribe((0,m._)(ue,le=>{const pe=be(le);(ee||!Ve(X,pe))&&(ee=!1,X=pe,ue.next(le))}))})}function Y(Ve,be){return Ve===be}},5245:(Lt,ct,C)=>{"use strict";C.d(ct,{i:()=>f});var t=C(5964);function f(m){return(0,t.p)((v,Y)=>m<=Y)}},3993:(Lt,ct,C)=>{"use strict";C.d(ct,{E:()=>be});var t=C(9974),f=C(4360),m=C(8750),v=C(3669),Y=C(5343),Ve=C(9326);function be(...re){const ue=(0,Ve.ms)(re);return(0,t.N)((X,ee)=>{const le=re.length,pe=new Array(le);let K=re.map(()=>!1),G=!1;for(let fe=0;fe<le;fe++)(0,m.Tg)(re[fe]).subscribe((0,f._)(ee,ze=>{pe[fe]=ze,!G&&!K[fe]&&(K[fe]=!0,(G=K.every(v.D))&&(K=null))},Y.l));X.subscribe((0,f._)(ee,fe=>{if(G){const ze=[fe,...pe];ee.next(ue?ue(...ze):ze)}}))})}},536:(Lt,ct,C)=>{"use strict";C.d(ct,{X:()=>be});var t=C(6780),f=C(8359);const m={schedule(ue){let X=requestAnimationFrame,ee=cancelAnimationFrame;const{delegate:le}=m;le&&(X=le.requestAnimationFrame,ee=le.cancelAnimationFrame);const pe=X(K=>{ee=void 0,ue(K)});return new f.yU(()=>ee?.(pe))},requestAnimationFrame(...ue){const{delegate:X}=m;return(X?.requestAnimationFrame||requestAnimationFrame)(...ue)},cancelAnimationFrame(...ue){const{delegate:X}=m;return(X?.cancelAnimationFrame||cancelAnimationFrame)(...ue)},delegate:void 0};var Y=C(9687);const be=new class Ve extends Y.q{flush(X){this._active=!0;const ee=this._scheduled;this._scheduled=void 0;const{actions:le}=this;let pe;X=X||le.shift();do{if(pe=X.execute(X.state,X.delay))break}while((X=le[0])&&X.id===ee&&le.shift());if(this._active=!1,pe){for(;(X=le[0])&&X.id===ee&&le.shift();)X.unsubscribe();throw pe}}}(class v extends t.R{constructor(X,ee){super(X,ee),this.scheduler=X,this.work=ee}requestAsyncId(X,ee,le=0){return null!==le&&le>0?super.requestAsyncId(X,ee,le):(X.actions.push(this),X._scheduled||(X._scheduled=m.requestAnimationFrame(()=>X.flush(void 0))))}recycleAsyncId(X,ee,le=0){var pe;if(null!=le?le>0:this.delay>0)return super.recycleAsyncId(X,ee,le);const{actions:K}=X;null!=ee&&(null===(pe=K[K.length-1])||void 0===pe?void 0:pe.id)!==ee&&(m.cancelAnimationFrame(ee),X._scheduled=void 0)}})},5007:(Lt,ct,C)=>{"use strict";C.d(ct,{$:()=>K});var t=C(6780);let m,f=1;const v={};function Y(fe){return fe in v&&(delete v[fe],!0)}const Ve={setImmediate(fe){const ze=f++;return v[ze]=!0,m||(m=Promise.resolve()),m.then(()=>Y(ze)&&fe()),ze},clearImmediate(fe){Y(fe)}},{setImmediate:re,clearImmediate:ue}=Ve,X={setImmediate(...fe){const{delegate:ze}=X;return(ze?.setImmediate||re)(...fe)},clearImmediate(fe){const{delegate:ze}=X;return(ze?.clearImmediate||ue)(fe)},delegate:void 0};var le=C(9687);const K=new class pe extends le.q{flush(ze){this._active=!0;const xe=this._scheduled;this._scheduled=void 0;const{actions:Fe}=this;let Ge;ze=ze||Fe.shift();do{if(Ge=ze.execute(ze.state,ze.delay))break}while((ze=Fe[0])&&ze.id===xe&&Fe.shift());if(this._active=!1,Ge){for(;(ze=Fe[0])&&ze.id===xe&&Fe.shift();)ze.unsubscribe();throw Ge}}}(class ee extends t.R{constructor(ze,xe){super(ze,xe),this.scheduler=ze,this.work=xe}requestAsyncId(ze,xe,Fe=0){return null!==Fe&&Fe>0?super.requestAsyncId(ze,xe,Fe):(ze.actions.push(this),ze._scheduled||(ze._scheduled=X.setImmediate(ze.flush.bind(ze,void 0))))}recycleAsyncId(ze,xe,Fe=0){var Ge;if(null!=Fe?Fe>0:this.delay>0)return super.recycleAsyncId(ze,xe,Fe);const{actions:he}=ze;null!=xe&&(null===(Ge=he[he.length-1])||void 0===Ge?void 0:Ge.id)!==xe&&(X.clearImmediate(xe),ze._scheduled===xe&&(ze._scheduled=void 0))}})},851:(Lt,ct,C)=>{"use strict";C.d(ct,{Pd:()=>kn,vR:()=>It,Bu:()=>ht,FN:()=>Ie,GX:()=>lt,_G:()=>W,w6:()=>b});var t=C(177),f=C(4438),m=C(6860),v=C(1413),Y=C(8359),Ve=C(4412),be=C(7673),re=C(7336),ue=C(8141),X=C(152),ee=C(5964),le=C(6354),pe=C(6697),K=C(5245),G=C(3294),fe=C(6977);let xe=(()=>{class $e{create(de){return typeof MutationObserver>"u"?null:new MutationObserver(de)}static#e=this.\u0275fac=function(De){return new(De||$e)};static#t=this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})(),he=(()=>{class $e{static#e=this.\u0275fac=function(De){return new(De||$e)};static#t=this.\u0275mod=f.$C({type:$e});static#n=this.\u0275inj=f.G2t({providers:[xe]})}return $e})();var Te=C(4085),Z=C(9327);class Le{constructor(Re,de){this._items=Re,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new v.B,this._typeaheadSubscription=Y.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=De=>De.disabled,this._pressedLetters=[],this.tabOut=new v.B,this.change=new v.B,Re instanceof f.rOR?this._itemChangesSubscription=Re.changes.subscribe(De=>this._itemsChanged(De.toArray())):(0,f.Hps)(Re)&&(this._effectRef=(0,f.QZP)(()=>this._itemsChanged(Re()),{injector:de}))}skipPredicate(Re){return this._skipPredicateFn=Re,this}withWrap(Re=!0){return this._wrap=Re,this}withVerticalOrientation(Re=!0){return this._vertical=Re,this}withHorizontalOrientation(Re){return this._horizontal=Re,this}withAllowedModifierKeys(Re){return this._allowedModifierKeys=Re,this}withTypeAhead(Re=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ue.M)(de=>this._pressedLetters.push(de)),(0,X.B)(Re),(0,ee.p)(()=>this._pressedLetters.length>0),(0,le.T)(()=>this._pressedLetters.join(""))).subscribe(de=>{const De=this._getItemsArray();for(let ot=1;ot<De.length+1;ot++){const ge=(this._activeItemIndex+ot)%De.length,$=De[ge];if(!this._skipPredicateFn($)&&0===$.getLabel().toUpperCase().trim().indexOf(de)){this.setActiveItem(ge);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Re=!0){return this._homeAndEnd=Re,this}withPageUpDown(Re=!0,de=10){return this._pageUpAndDown={enabled:Re,delta:de},this}setActiveItem(Re){const de=this._activeItem;this.updateActiveItem(Re),this._activeItem!==de&&this.change.next(this._activeItemIndex)}onKeydown(Re){const de=Re.keyCode,ot=["altKey","ctrlKey","metaKey","shiftKey"].every(ge=>!Re[ge]||this._allowedModifierKeys.indexOf(ge)>-1);switch(de){case re.wn:return void this.tabOut.next();case re.n6:if(this._vertical&&ot){this.setNextItemActive();break}return;case re.i7:if(this._vertical&&ot){this.setPreviousItemActive();break}return;case re.LE:if(this._horizontal&&ot){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case re.UQ:if(this._horizontal&&ot){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case re.yZ:if(this._homeAndEnd&&ot){this.setFirstItemActive();break}return;case re.Kp:if(this._homeAndEnd&&ot){this.setLastItemActive();break}return;case re.w_:if(this._pageUpAndDown.enabled&&ot){const ge=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(ge>0?ge:0,1);break}return;case re.dB:if(this._pageUpAndDown.enabled&&ot){const ge=this._activeItemIndex+this._pageUpAndDown.delta,$=this._getItemsArray().length;this._setActiveItemByIndex(ge<$?ge:$-1,-1);break}return;default:return void((ot||(0,re.rp)(Re,"shiftKey"))&&(Re.key&&1===Re.key.length?this._letterKeyStream.next(Re.key.toLocaleUpperCase()):(de>=re.A&&de<=re.Z||de>=re.f2&&de<=re.bn)&&this._letterKeyStream.next(String.fromCharCode(de))))}this._pressedLetters=[],Re.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Re){const de=this._getItemsArray(),De="number"==typeof Re?Re:de.indexOf(Re);this._activeItem=de[De]??null,this._activeItemIndex=De}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Re){this._wrap?this._setActiveInWrapMode(Re):this._setActiveInDefaultMode(Re)}_setActiveInWrapMode(Re){const de=this._getItemsArray();for(let De=1;De<=de.length;De++){const ot=(this._activeItemIndex+Re*De+de.length)%de.length;if(!this._skipPredicateFn(de[ot]))return void this.setActiveItem(ot)}}_setActiveInDefaultMode(Re){this._setActiveItemByIndex(this._activeItemIndex+Re,Re)}_setActiveItemByIndex(Re,de){const De=this._getItemsArray();if(De[Re]){for(;this._skipPredicateFn(De[Re]);)if(!De[Re+=de])return;this.setActiveItem(Re)}}_getItemsArray(){return(0,f.Hps)(this._items)?this._items():this._items instanceof f.rOR?this._items.toArray():this._items}_itemsChanged(Re){if(this._activeItem){const de=Re.indexOf(this._activeItem);de>-1&&de!==this._activeItemIndex&&(this._activeItemIndex=de)}}}class ht extends Le{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Re){return this._origin=Re,this}setActiveItem(Re){super.setActiveItem(Re),this.activeItem&&this.activeItem.focus(this._origin)}}let Gt=(()=>{class $e{constructor(de){this._platform=de}isDisabled(de){return de.hasAttribute("disabled")}isVisible(de){return function nt($e){return!!($e.offsetWidth||$e.offsetHeight||"function"==typeof $e.getClientRects&&$e.getClientRects().length)}(de)&&"visible"===getComputedStyle(de).visibility}isTabbable(de){if(!this._platform.isBrowser)return!1;const De=function Me($e){try{return $e.frameElement}catch{return null}}(function Wt($e){return $e.ownerDocument&&$e.ownerDocument.defaultView||window}(de));if(De&&(-1===vt(De)||!this.isVisible(De)))return!1;let ot=de.nodeName.toLowerCase(),ge=vt(de);return de.hasAttribute("contenteditable")?-1!==ge:!("iframe"===ot||"object"===ot||this._platform.WEBKIT&&this._platform.IOS&&!function Pt($e){let Re=$e.nodeName.toLowerCase(),de="input"===Re&&$e.type;return"text"===de||"password"===de||"select"===Re||"textarea"===Re}(de))&&("audio"===ot?!!de.hasAttribute("controls")&&-1!==ge:"video"===ot?-1!==ge&&(null!==ge||this._platform.FIREFOX||de.hasAttribute("controls")):de.tabIndex>=0)}isFocusable(de,De){return function At($e){return!function F($e){return function ne($e){return"input"==$e.nodeName.toLowerCase()}($e)&&"hidden"==$e.type}($e)&&(function ie($e){let Re=$e.nodeName.toLowerCase();return"input"===Re||"select"===Re||"button"===Re||"textarea"===Re}($e)||function _e($e){return function Oe($e){return"a"==$e.nodeName.toLowerCase()}($e)&&$e.hasAttribute("href")}($e)||$e.hasAttribute("contenteditable")||je($e))}(de)&&!this.isDisabled(de)&&(De?.ignoreVisibility||this.isVisible(de))}static#e=this.\u0275fac=function(De){return new(De||$e)(f.KVO(m.OD))};static#t=this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})();function je($e){if(!$e.hasAttribute("tabindex")||void 0===$e.tabIndex)return!1;let Re=$e.getAttribute("tabindex");return!(!Re||isNaN(parseInt(Re,10)))}function vt($e){if(!je($e))return null;const Re=parseInt($e.getAttribute("tabindex")||"",10);return isNaN(Re)?-1:Re}class qt{get enabled(){return this._enabled}set enabled(Re){this._enabled=Re,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Re,this._startAnchor),this._toggleAnchorTabIndex(Re,this._endAnchor))}constructor(Re,de,De,ot,ge=!1){this._element=Re,this._checker=de,this._ngZone=De,this._document=ot,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,ge||this.attachAnchors()}destroy(){const Re=this._startAnchor,de=this._endAnchor;Re&&(Re.removeEventListener("focus",this.startAnchorListener),Re.remove()),de&&(de.removeEventListener("focus",this.endAnchorListener),de.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Re){return new Promise(de=>{this._executeOnStable(()=>de(this.focusInitialElement(Re)))})}focusFirstTabbableElementWhenReady(Re){return new Promise(de=>{this._executeOnStable(()=>de(this.focusFirstTabbableElement(Re)))})}focusLastTabbableElementWhenReady(Re){return new Promise(de=>{this._executeOnStable(()=>de(this.focusLastTabbableElement(Re)))})}_getRegionBoundary(Re){const de=this._element.querySelectorAll(`[cdk-focus-region-${Re}], [cdkFocusRegion${Re}], [cdk-focus-${Re}]`);return"start"==Re?de.length?de[0]:this._getFirstTabbableElement(this._element):de.length?de[de.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Re){const de=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(de){if(!this._checker.isFocusable(de)){const De=this._getFirstTabbableElement(de);return De?.focus(Re),!!De}return de.focus(Re),!0}return this.focusFirstTabbableElement(Re)}focusFirstTabbableElement(Re){const de=this._getRegionBoundary("start");return de&&de.focus(Re),!!de}focusLastTabbableElement(Re){const de=this._getRegionBoundary("end");return de&&de.focus(Re),!!de}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Re){if(this._checker.isFocusable(Re)&&this._checker.isTabbable(Re))return Re;const de=Re.children;for(let De=0;De<de.length;De++){const ot=de[De].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(de[De]):null;if(ot)return ot}return null}_getLastTabbableElement(Re){if(this._checker.isFocusable(Re)&&this._checker.isTabbable(Re))return Re;const de=Re.children;for(let De=de.length-1;De>=0;De--){const ot=de[De].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(de[De]):null;if(ot)return ot}return null}_createAnchor(){const Re=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Re),Re.classList.add("cdk-visually-hidden"),Re.classList.add("cdk-focus-trap-anchor"),Re.setAttribute("aria-hidden","true"),Re}_toggleAnchorTabIndex(Re,de){Re?de.setAttribute("tabindex","0"):de.removeAttribute("tabindex")}toggleAnchors(Re){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Re,this._startAnchor),this._toggleAnchorTabIndex(Re,this._endAnchor))}_executeOnStable(Re){this._ngZone.isStable?Re():this._ngZone.onStable.pipe((0,pe.s)(1)).subscribe(Re)}}let lt=(()=>{class $e{constructor(de,De,ot){this._checker=de,this._ngZone=De,this._document=ot}create(de,De=!1){return new qt(de,this._checker,this._ngZone,this._document,De)}static#e=this.\u0275fac=function(De){return new(De||$e)(f.KVO(Gt),f.KVO(f.SKi),f.KVO(t.qQ))};static#t=this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})();function W($e){return 0===$e.buttons||0===$e.detail}function b($e){const Re=$e.touches&&$e.touches[0]||$e.changedTouches&&$e.changedTouches[0];return!(!Re||-1!==Re.identifier||null!=Re.radiusX&&1!==Re.radiusX||null!=Re.radiusY&&1!==Re.radiusY)}const D=new f.nKC("cdk-input-modality-detector-options"),j={ignoreKeys:[re.A$,re.W3,re.eg,re.Ge,re.FX]},ke=(0,m.BQ)({passive:!0,capture:!0});let Ye=(()=>{class $e{get mostRecentModality(){return this._modality.value}constructor(de,De,ot,ge){this._platform=de,this._mostRecentTarget=null,this._modality=new Ve.t(null),this._lastTouchMs=0,this._onKeydown=$=>{this._options?.ignoreKeys?.some(R=>R===$.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,m.Fb)($))},this._onMousedown=$=>{Date.now()-this._lastTouchMs<650||(this._modality.next(W($)?"keyboard":"mouse"),this._mostRecentTarget=(0,m.Fb)($))},this._onTouchstart=$=>{b($)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,m.Fb)($))},this._options={...j,...ge},this.modalityDetected=this._modality.pipe((0,K.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,G.F)()),de.isBrowser&&De.runOutsideAngular(()=>{ot.addEventListener("keydown",this._onKeydown,ke),ot.addEventListener("mousedown",this._onMousedown,ke),ot.addEventListener("touchstart",this._onTouchstart,ke)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ke),document.removeEventListener("mousedown",this._onMousedown,ke),document.removeEventListener("touchstart",this._onTouchstart,ke))}static#e=this.\u0275fac=function(De){return new(De||$e)(f.KVO(m.OD),f.KVO(f.SKi),f.KVO(t.qQ),f.KVO(D,8))};static#t=this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})();var Ht=function($e){return $e[$e.IMMEDIATE=0]="IMMEDIATE",$e[$e.EVENTUAL=1]="EVENTUAL",$e}(Ht||{});const Ee=new f.nKC("cdk-focus-monitor-default-options"),Je=(0,m.BQ)({passive:!0,capture:!0});let Ie=(()=>{class $e{constructor(de,De,ot,ge,$){this._ngZone=de,this._platform=De,this._inputModalityDetector=ot,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new v.B,this._rootNodeFocusAndBlurListener=R=>{for(let P=(0,m.Fb)(R);P;P=P.parentElement)"focus"===R.type?this._onFocus(R,P):this._onBlur(R,P)},this._document=ge,this._detectionMode=$?.detectionMode||Ht.IMMEDIATE}monitor(de,De=!1){const ot=(0,Te.i8)(de);if(!this._platform.isBrowser||1!==ot.nodeType)return(0,be.of)();const ge=(0,m.KT)(ot)||this._getDocument(),$=this._elementInfo.get(ot);if($)return De&&($.checkChildren=!0),$.subject;const R={checkChildren:De,subject:new v.B,rootNode:ge};return this._elementInfo.set(ot,R),this._registerGlobalListeners(R),R.subject}stopMonitoring(de){const De=(0,Te.i8)(de),ot=this._elementInfo.get(De);ot&&(ot.subject.complete(),this._setClasses(De),this._elementInfo.delete(De),this._removeGlobalListeners(ot))}focusVia(de,De,ot){const ge=(0,Te.i8)(de);ge===this._getDocument().activeElement?this._getClosestElementsInfo(ge).forEach(([R,k])=>this._originChanged(R,De,k)):(this._setOrigin(De),"function"==typeof ge.focus&&ge.focus(ot))}ngOnDestroy(){this._elementInfo.forEach((de,De)=>this.stopMonitoring(De))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(de){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(de)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:de&&this._isLastInteractionFromInputLabel(de)?"mouse":"program"}_shouldBeAttributedToTouch(de){return this._detectionMode===Ht.EVENTUAL||!!de?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(de,De){de.classList.toggle("cdk-focused",!!De),de.classList.toggle("cdk-touch-focused","touch"===De),de.classList.toggle("cdk-keyboard-focused","keyboard"===De),de.classList.toggle("cdk-mouse-focused","mouse"===De),de.classList.toggle("cdk-program-focused","program"===De)}_setOrigin(de,De=!1){this._ngZone.runOutsideAngular(()=>{this._origin=de,this._originFromTouchInteraction="touch"===de&&De,this._detectionMode===Ht.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(de,De){const ot=this._elementInfo.get(De),ge=(0,m.Fb)(de);!ot||!ot.checkChildren&&De!==ge||this._originChanged(De,this._getFocusOrigin(ge),ot)}_onBlur(de,De){const ot=this._elementInfo.get(De);!ot||ot.checkChildren&&de.relatedTarget instanceof Node&&De.contains(de.relatedTarget)||(this._setClasses(De),this._emitOrigin(ot,null))}_emitOrigin(de,De){de.subject.observers.length&&this._ngZone.run(()=>de.subject.next(De))}_registerGlobalListeners(de){if(!this._platform.isBrowser)return;const De=de.rootNode,ot=this._rootNodeFocusListenerCount.get(De)||0;ot||this._ngZone.runOutsideAngular(()=>{De.addEventListener("focus",this._rootNodeFocusAndBlurListener,Je),De.addEventListener("blur",this._rootNodeFocusAndBlurListener,Je)}),this._rootNodeFocusListenerCount.set(De,ot+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,fe.Q)(this._stopInputModalityDetector)).subscribe(ge=>{this._setOrigin(ge,!0)}))}_removeGlobalListeners(de){const De=de.rootNode;if(this._rootNodeFocusListenerCount.has(De)){const ot=this._rootNodeFocusListenerCount.get(De);ot>1?this._rootNodeFocusListenerCount.set(De,ot-1):(De.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Je),De.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Je),this._rootNodeFocusListenerCount.delete(De))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(de,De,ot){this._setClasses(de,De),this._emitOrigin(ot,De),this._lastFocusOrigin=De}_getClosestElementsInfo(de){const De=[];return this._elementInfo.forEach((ot,ge)=>{(ge===de||ot.checkChildren&&ge.contains(de))&&De.push([ge,ot])}),De}_isLastInteractionFromInputLabel(de){const{_mostRecentTarget:De,mostRecentModality:ot}=this._inputModalityDetector;if("mouse"!==ot||!De||De===de||"INPUT"!==de.nodeName&&"TEXTAREA"!==de.nodeName||de.disabled)return!1;const ge=de.labels;if(ge)for(let $=0;$<ge.length;$++)if(ge[$].contains(De))return!0;return!1}static#e=this.\u0275fac=function(De){return new(De||$e)(f.KVO(f.SKi),f.KVO(m.OD),f.KVO(Ye),f.KVO(t.qQ,8),f.KVO(Ee,8))};static#t=this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})(),It=(()=>{class $e{constructor(de,De){this._elementRef=de,this._focusMonitor=De,this._focusOrigin=null,this.cdkFocusChange=new f.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const de=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(de,1===de.nodeType&&de.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(De=>{this._focusOrigin=De,this.cdkFocusChange.emit(De)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(De){return new(De||$e)(f.rXU(f.aKT),f.rXU(Ie))};static#t=this.\u0275dir=f.FsC({type:$e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return $e})();var Rt=function($e){return $e[$e.NONE=0]="NONE",$e[$e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",$e[$e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",$e}(Rt||{});const Ot="cdk-high-contrast-black-on-white",Ft="cdk-high-contrast-white-on-black",en="cdk-high-contrast-active";let wn=(()=>{class $e{constructor(de,De){this._platform=de,this._document=De,this._breakpointSubscription=(0,f.WQX)(Z.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Rt.NONE;const de=this._document.createElement("div");de.style.backgroundColor="rgb(1,2,3)",de.style.position="absolute",this._document.body.appendChild(de);const De=this._document.defaultView||window,ot=De&&De.getComputedStyle?De.getComputedStyle(de):null,ge=(ot&&ot.backgroundColor||"").replace(/ /g,"");switch(de.remove(),ge){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Rt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Rt.BLACK_ON_WHITE}return Rt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const de=this._document.body.classList;de.remove(en,Ot,Ft),this._hasCheckedHighContrastMode=!0;const De=this.getHighContrastMode();De===Rt.BLACK_ON_WHITE?de.add(en,Ot):De===Rt.WHITE_ON_BLACK&&de.add(en,Ft)}}static#e=this.\u0275fac=function(De){return new(De||$e)(f.KVO(m.OD),f.KVO(t.qQ))};static#t=this.\u0275prov=f.jDH({token:$e,factory:$e.\u0275fac,providedIn:"root"})}return $e})(),kn=(()=>{class $e{constructor(de){de._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(De){return new(De||$e)(f.KVO(wn))};static#t=this.\u0275mod=f.$C({type:$e});static#n=this.\u0275inj=f.G2t({imports:[he]})}return $e})()},8203:(Lt,ct,C)=>{"use strict";C.d(ct,{dS:()=>be,jI:()=>ue});var t=C(4438),f=C(177);const m=new t.nKC("cdk-dir-doc",{providedIn:"root",factory:function v(){return(0,t.WQX)(f.qQ)}}),Y=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let be=(()=>{class X{constructor(le){this.value="ltr",this.change=new t.bkB,le&&(this.value=function Ve(X){const ee=X?.toLowerCase()||"";return"auto"===ee&&typeof navigator<"u"&&navigator?.language?Y.test(navigator.language)?"rtl":"ltr":"rtl"===ee?"rtl":"ltr"}((le.body?le.body.dir:null)||(le.documentElement?le.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(pe){return new(pe||X)(t.KVO(m,8))};static#t=this.\u0275prov=t.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})(),ue=(()=>{class X{static#e=this.\u0275fac=function(pe){return new(pe||X)};static#t=this.\u0275mod=t.$C({type:X});static#n=this.\u0275inj=t.G2t({})}return X})()},1875:(Lt,ct,C)=>{"use strict";C.d(ct,{T1:()=>Rt,Fb:()=>Ee,O7:()=>wn,HD:()=>Mt});var t=C(4438),f=C(177),m=C(494),v=C(6860),Y=C(4085),Ve=C(851),be=C(1413),re=C(8359),ue=C(3236),X=C(1584),le=C(536),pe=C(1985),K=C(7786),G=C(4412),fe=C(6977),ze=C(6354),xe=C(6697),Fe=C(8141),Ge=C(5558),he=C(9172),Te=C(8203);function Z(ge,$,R){for(let k in $)if($.hasOwnProperty(k)){const P=$[k];P?ge.setProperty(k,P,R?.has(k)?"important":""):ge.removeProperty(k)}return ge}function Se(ge,$){const R=$?"":"none";Z(ge.style,{"touch-action":$?"":"none","-webkit-user-drag":$?"":"none","-webkit-tap-highlight-color":$?"":"transparent","user-select":R,"-ms-user-select":R,"-webkit-user-select":R,"-moz-user-select":R})}function ae(ge,$,R){Z(ge.style,{position:$?"":"fixed",top:$?"":"0",opacity:$?"":"0",left:$?"":"-999em"},R)}function Ze(ge,$){return $&&"none"!=$?ge+" "+$:ge}function Pe(ge,$){ge.style.width=`${$.width}px`,ge.style.height=`${$.height}px`,ge.style.transform=We($.left,$.top)}function We(ge,$){return`translate3d(${Math.round(ge)}px, ${Math.round($)}px, 0)`}function qe(ge){const $=ge.getBoundingClientRect();return{top:$.top,right:$.right,bottom:$.bottom,left:$.left,width:$.width,height:$.height,x:$.x,y:$.y}}function Be(ge,$,R){const{top:k,bottom:P,left:w,right:T}=ge;return R>=k&&R<=P&&$>=w&&$<=T}function tt(ge,$,R){ge.top+=$,ge.bottom=ge.top+ge.height,ge.left+=R,ge.right=ge.left+ge.width}function Xe(ge,$,R,k){const{top:P,right:w,bottom:T,left:I,width:E,height:oe}=ge,B=E*$,ve=oe*$;return k>P-ve&&k<T+ve&&R>I-B&&R<w+B}class pt{constructor($){this._document=$,this.positions=new Map}clear(){this.positions.clear()}cache($){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),$.forEach(R=>{this.positions.set(R,{scrollPosition:{top:R.scrollTop,left:R.scrollLeft},clientRect:qe(R)})})}handleScroll($){const R=(0,v.Fb)($),k=this.positions.get(R);if(!k)return null;const P=k.scrollPosition;let w,T;if(R===this._document){const oe=this.getViewportScrollPosition();w=oe.top,T=oe.left}else w=R.scrollTop,T=R.scrollLeft;const I=P.top-w,E=P.left-T;return this.positions.forEach((oe,B)=>{oe.clientRect&&R!==B&&R.contains(B)&&tt(oe.clientRect,I,E)}),P.top=w,P.left=T,{top:I,left:E}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function et(ge){const $=ge.cloneNode(!0),R=$.querySelectorAll("[id]"),k=ge.nodeName.toLowerCase();$.removeAttribute("id");for(let P=0;P<R.length;P++)R[P].removeAttribute("id");return"canvas"===k?xt(ge,$):("input"===k||"select"===k||"textarea"===k)&&ht(ge,$),Le("canvas",ge,$,xt),Le("input, textarea, select",ge,$,ht),$}function Le(ge,$,R,k){const P=$.querySelectorAll(ge);if(P.length){const w=R.querySelectorAll(ge);for(let T=0;T<P.length;T++)k(P[T],w[T])}}let mt=0;function ht(ge,$){"file"!==$.type&&($.value=ge.value),"radio"===$.type&&$.name&&($.name=`mat-clone-${$.name}-${mt++}`)}function xt(ge,$){const R=$.getContext("2d");if(R)try{R.drawImage(ge,0,0)}catch{}}function Gt(ge,$){const R=ge.rootNodes;if(1===R.length&&R[0].nodeType===$.ELEMENT_NODE)return R[0];const k=$.createElement("div");return R.forEach(P=>k.appendChild(P)),k}function Me(ge){const $=ge.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(ge)*$}function ie(ge,$){return ge.getPropertyValue($).split(",").map(k=>k.trim())}const F=new Set(["position"]);class _e{constructor($,R,k,P,w,T,I,E,oe){this._document=$,this._rootElement=R,this._direction=k,this._initialDomRect=P,this._previewTemplate=w,this._previewClass=T,this._pickupPositionOnPage=I,this._initialTransform=E,this._zIndex=oe}attach($){this._wrapper=this._createWrapper(),this._preview=this._createPreview(),this._wrapper.appendChild(this._preview),$.appendChild(this._wrapper),this._wrapper.showPopover&&this._wrapper.showPopover()}destroy(){this._wrapper?.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._wrapper=this._previewEmbeddedView=null}setTransform($){this._preview.style.transform=$}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass($){this._preview.classList.add($)}getTransitionDuration(){return function nt(ge){const $=getComputedStyle(ge),R=ie($,"transition-property"),k=R.find(I=>"transform"===I||"all"===I);if(!k)return 0;const P=R.indexOf(k),w=ie($,"transition-duration"),T=ie($,"transition-delay");return Me(w[P])+Me(T[P])}(this._preview)}addEventListener($,R){this._preview.addEventListener($,R)}removeEventListener($,R){this._preview.removeEventListener($,R)}_createWrapper(){const $=this._document.createElement("div");return $.setAttribute("popover","manual"),$.setAttribute("dir",this._direction),$.classList.add("cdk-drag-preview-container"),Z($.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","z-index":this._zIndex+"",background:"none",border:"none","pointer-events":"none",margin:"0",padding:"0"}),Se($,!1),$}_createPreview(){const $=this._previewTemplate,R=this._previewClass,k=$?$.template:null;let P;if(k&&$){const w=$.matchSize?this._initialDomRect:null,T=$.viewContainer.createEmbeddedView(k,$.context);T.detectChanges(),P=Gt(T,this._document),this._previewEmbeddedView=T,$.matchSize?Pe(P,w):P.style.transform=We(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else P=et(this._rootElement),Pe(P,this._initialDomRect),this._initialTransform&&(P.style.transform=this._initialTransform);return Z(P.style,{"pointer-events":"none",margin:"0",position:"absolute",top:"0",left:"0"},F),Se(P,!1),P.classList.add("cdk-drag-preview"),R&&(Array.isArray(R)?R.forEach(w=>P.classList.add(w)):P.classList.add(R)),P}}const ne=(0,v.BQ)({passive:!0}),Oe=(0,v.BQ)({passive:!1}),je=(0,v.BQ)({passive:!1,capture:!0}),Pt=new Set(["position"]);class At{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled($){$!==this._disabled&&(this._disabled=$,this._toggleNativeDragInteractions(),this._handles.forEach(R=>Se(R,$)))}constructor($,R,k,P,w,T){this._config=R,this._document=k,this._ngZone=P,this._viewportRuler=w,this._dragDropRegistry=T,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new be.B,this._pointerMoveSubscription=re.yU.EMPTY,this._pointerUpSubscription=re.yU.EMPTY,this._scrollSubscription=re.yU.EMPTY,this._resizeSubscription=re.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new be.B,this.started=new be.B,this.released=new be.B,this.ended=new be.B,this.entered=new be.B,this.exited=new be.B,this.dropped=new be.B,this.moved=this._moveEvents,this._pointerDown=I=>{if(this.beforeStarted.next(),this._handles.length){const E=this._getTargetHandle(I);E&&!this._disabledHandles.has(E)&&!this.disabled&&this._initializeDragSequence(E,I)}else this.disabled||this._initializeDragSequence(this._rootElement,I)},this._pointerMove=I=>{const E=this._getPointerPositionOnPage(I);if(!this._hasStartedDragging){if(Math.abs(E.x-this._pickupPositionOnPage.x)+Math.abs(E.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const at=Date.now()>=this._dragStartTime+this._getDragStartDelay(I),Ct=this._dropContainer;if(!at)return void this._endDragSequence(I);(!Ct||!Ct.isDragging()&&!Ct.isReceiving())&&(I.cancelable&&I.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(I)))}return}I.cancelable&&I.preventDefault();const oe=this._getConstrainedPointerPosition(E);if(this._hasMoved=!0,this._lastKnownPointerPosition=E,this._updatePointerDirectionDelta(oe),this._dropContainer)this._updateActiveDropContainer(oe,E);else{const B=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,ve=this._activeTransform;ve.x=oe.x-B.x+this._passiveTransform.x,ve.y=oe.y-B.y+this._passiveTransform.y,this._applyRootElementTransform(ve.x,ve.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:oe,event:I,distance:this._getDragDistance(oe),delta:this._pointerDirectionDelta})})},this._pointerUp=I=>{this._endDragSequence(I)},this._nativeDragStart=I=>{if(this._handles.length){const E=this._getTargetHandle(I);E&&!this._disabledHandles.has(E)&&!this.disabled&&I.preventDefault()}else this.disabled||I.preventDefault()},this.withRootElement($).withParent(R.parentDragRef||null),this._parentPositions=new pt(k),T.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles($){this._handles=$.map(k=>(0,Y.i8)(k)),this._handles.forEach(k=>Se(k,this.disabled)),this._toggleNativeDragInteractions();const R=new Set;return this._disabledHandles.forEach(k=>{this._handles.indexOf(k)>-1&&R.add(k)}),this._disabledHandles=R,this}withPreviewTemplate($){return this._previewTemplate=$,this}withPlaceholderTemplate($){return this._placeholderTemplate=$,this}withRootElement($){const R=(0,Y.i8)($);return R!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{R.addEventListener("mousedown",this._pointerDown,Oe),R.addEventListener("touchstart",this._pointerDown,ne),R.addEventListener("dragstart",this._nativeDragStart,Oe)}),this._initialTransform=void 0,this._rootElement=R),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement($){return this._boundaryElement=$?(0,Y.i8)($):null,this._resizeSubscription.unsubscribe(),$&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent($){return this._parentDragRef=$,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle($){!this._disabledHandles.has($)&&this._handles.indexOf($)>-1&&(this._disabledHandles.add($),Se($,!0))}enableHandle($){this._disabledHandles.has($)&&(this._disabledHandles.delete($),Se($,this.disabled))}withDirection($){return this._direction=$,this}_withDropContainer($){this._dropContainer=$}getFreeDragPosition(){const $=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:$.x,y:$.y}}setFreeDragPosition($){return this._activeTransform={x:0,y:0},this._passiveTransform.x=$.x,this._passiveTransform.y=$.y,this._dropContainer||this._applyRootElementTransform($.x,$.y),this}withPreviewContainer($){return this._previewContainer=$,this}_sortFromLastPointerPosition(){const $=this._lastKnownPointerPosition;$&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition($),$)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",lt,je)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence($){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:$}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts($),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const R=this._getPointerPositionOnPage($);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(R),dropPoint:R,event:$})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence($){qt($)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const R=this._getShadowRoot(),k=this._dropContainer;if(R&&this._ngZone.runOutsideAngular(()=>{R.addEventListener("selectstart",lt,je)}),k){const P=this._rootElement,w=P.parentNode,T=this._placeholder=this._createPlaceholderElement(),I=this._anchor=this._anchor||this._document.createComment("");w.insertBefore(I,P),this._initialTransform=P.style.transform||"",this._preview=new _e(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(w,R)),ae(P,!1,Pt),this._document.body.appendChild(w.replaceChild(T,P)),this.started.next({source:this,event:$}),k.start(),this._initialContainer=k,this._initialIndex=k.getItemIndex(this)}else this.started.next({source:this,event:$}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(k?k.getScrollableParents():[])}_initializeDragSequence($,R){this._parentDragRef&&R.stopPropagation();const k=this.isDragging(),P=qt(R),w=!P&&0!==R.button,T=this._rootElement,I=(0,v.Fb)(R),E=!P&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),oe=P?(0,Ve.w6)(R):(0,Ve._G)(R);if(I&&I.draggable&&"mousedown"===R.type&&R.preventDefault(),k||w||E||oe)return;if(this._handles.length){const Qe=T.style;this._rootElementTapHighlight=Qe.webkitTapHighlightColor||"",Qe.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Qe=>this._updateOnScroll(Qe)),this._boundaryElement&&(this._boundaryRect=qe(this._boundaryElement));const B=this._previewTemplate;this._pickupPositionInElement=B&&B.template&&!B.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,$,R);const ve=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(R);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:ve.x,y:ve.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,R)}_cleanupDragArtifacts($){ae(this._rootElement,!0,Pt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const R=this._dropContainer,k=R.getItemIndex(this),P=this._getPointerPositionOnPage($),w=this._getDragDistance(P),T=R._isOverContainer(P.x,P.y);this.ended.next({source:this,distance:w,dropPoint:P,event:$}),this.dropped.next({item:this,currentIndex:k,previousIndex:this._initialIndex,container:R,previousContainer:this._initialContainer,isPointerOverContainer:T,distance:w,dropPoint:P,event:$}),R.drop(this,k,this._initialIndex,this._initialContainer,T,w,P,$),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:$,y:R},{x:k,y:P}){let w=this._initialContainer._getSiblingContainerFromPosition(this,$,R);!w&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer($,R)&&(w=this._initialContainer),w&&w!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=w,this._dropContainer.enter(this,$,R,w===this._initialContainer&&w.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:w,currentIndex:w.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(k,P),this._dropContainer._sortItem(this,$,R,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform($,R):this._applyPreviewTransform($-this._pickupPositionInElement.x,R-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const $=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform($.left,$.top);const R=this._preview.getTransitionDuration();return 0===R?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(k=>{const P=T=>{(!T||(0,v.Fb)(T)===this._preview&&"transform"===T.propertyName)&&(this._preview?.removeEventListener("transitionend",P),k(),clearTimeout(w))},w=setTimeout(P,1.5*R);this._preview.addEventListener("transitionend",P)}))}_createPlaceholderElement(){const $=this._placeholderTemplate,R=$?$.template:null;let k;return R?(this._placeholderRef=$.viewContainer.createEmbeddedView(R,$.context),this._placeholderRef.detectChanges(),k=Gt(this._placeholderRef,this._document)):k=et(this._rootElement),k.style.pointerEvents="none",k.classList.add("cdk-drag-placeholder"),k}_getPointerPositionInElement($,R,k){const P=R===this._rootElement?null:R,w=P?P.getBoundingClientRect():$,T=qt(k)?k.targetTouches[0]:k,I=this._getViewportScrollPosition();return{x:w.left-$.left+(T.pageX-w.left-I.left),y:w.top-$.top+(T.pageY-w.top-I.top)}}_getPointerPositionOnPage($){const R=this._getViewportScrollPosition(),k=qt($)?$.touches[0]||$.changedTouches[0]||{pageX:0,pageY:0}:$,P=k.pageX-R.left,w=k.pageY-R.top;if(this._ownerSVGElement){const T=this._ownerSVGElement.getScreenCTM();if(T){const I=this._ownerSVGElement.createSVGPoint();return I.x=P,I.y=w,I.matrixTransform(T.inverse())}}return{x:P,y:w}}_getConstrainedPointerPosition($){const R=this._dropContainer?this._dropContainer.lockAxis:null;let{x:k,y:P}=this.constrainPosition?this.constrainPosition($,this,this._initialDomRect,this._pickupPositionInElement):$;if("x"===this.lockAxis||"x"===R?P=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===R)&&(k=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:w,y:T}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,I=this._boundaryRect,{width:E,height:oe}=this._getPreviewRect(),B=I.top+T,ve=I.bottom-(oe-T);k=Wt(k,I.left+w,I.right-(E-w)),P=Wt(P,B,ve)}return{x:k,y:P}}_updatePointerDirectionDelta($){const{x:R,y:k}=$,P=this._pointerDirectionDelta,w=this._pointerPositionAtLastDirectionChange,T=Math.abs(R-w.x),I=Math.abs(k-w.y);return T>this._config.pointerDirectionChangeThreshold&&(P.x=R>w.x?1:-1,w.x=R),I>this._config.pointerDirectionChangeThreshold&&(P.y=k>w.y?1:-1,w.y=k),P}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const $=this._handles.length>0||!this.isDragging();$!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=$,Se(this._rootElement,$))}_removeRootElementListeners($){$.removeEventListener("mousedown",this._pointerDown,Oe),$.removeEventListener("touchstart",this._pointerDown,ne),$.removeEventListener("dragstart",this._nativeDragStart,Oe)}_applyRootElementTransform($,R){const k=We($,R),P=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=P.transform&&"none"!=P.transform?P.transform:""),P.transform=Ze(k,this._initialTransform)}_applyPreviewTransform($,R){const k=this._previewTemplate?.template?void 0:this._initialTransform,P=We($,R);this._preview.setTransform(Ze(P,k))}_getDragDistance($){const R=this._pickupPositionOnPage;return R?{x:$.x-R.x,y:$.y-R.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:$,y:R}=this._passiveTransform;if(0===$&&0===R||this.isDragging()||!this._boundaryElement)return;const k=this._rootElement.getBoundingClientRect(),P=this._boundaryElement.getBoundingClientRect();if(0===P.width&&0===P.height||0===k.width&&0===k.height)return;const w=P.left-k.left,T=k.right-P.right,I=P.top-k.top,E=k.bottom-P.bottom;P.width>k.width?(w>0&&($+=w),T>0&&($-=T)):$=0,P.height>k.height?(I>0&&(R+=I),E>0&&(R-=E)):R=0,($!==this._passiveTransform.x||R!==this._passiveTransform.y)&&this.setFreeDragPosition({y:R,x:$})}_getDragStartDelay($){const R=this.dragStartDelay;return"number"==typeof R?R:qt($)?R.touch:R?R.mouse:0}_updateOnScroll($){const R=this._parentPositions.handleScroll($);if(R){const k=(0,v.Fb)($);this._boundaryRect&&k!==this._boundaryElement&&k.contains(this._boundaryElement)&&tt(this._boundaryRect,R.top,R.left),this._pickupPositionOnPage.x+=R.left,this._pickupPositionOnPage.y+=R.top,this._dropContainer||(this._activeTransform.x-=R.left,this._activeTransform.y-=R.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,v.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint($,R){const k=this._previewContainer||"global";if("parent"===k)return $;if("global"===k){const P=this._document;return R||P.fullscreenElement||P.webkitFullscreenElement||P.mozFullScreenElement||P.msFullscreenElement||P.body}return(0,Y.i8)(k)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle($){return this._handles.find(R=>$.target&&($.target===R||R.contains($.target)))}}function Wt(ge,$,R){return Math.max($,Math.min(R,ge))}function qt(ge){return"t"===ge.type[0]}function lt(ge){ge.preventDefault()}function Mt(ge,$,R){const k=J($,ge.length-1),P=J(R,ge.length-1);if(k===P)return;const w=ge[k],T=P<k?-1:1;for(let I=k;I!==P;I+=T)ge[I]=ge[I+T];ge[P]=w}function J(ge,$){return Math.max(0,Math.min($,ge))}class He{constructor($,R){this._element=$,this._dragDropRegistry=R,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start($){this.withItems($)}sort($,R,k,P){const w=this._itemPositions,T=this._getItemIndexFromPointerPosition($,R,k,P);if(-1===T&&w.length>0)return null;const I="horizontal"===this.orientation,E=w.findIndex(Kt=>Kt.drag===$),oe=w[T],ve=oe.clientRect,Qe=E>T?1:-1,at=this._getItemOffsetPx(w[E].clientRect,ve,Qe),Ct=this._getSiblingOffsetPx(E,w,Qe),Ut=w.slice();return Mt(w,E,T),w.forEach((Kt,nn)=>{if(Ut[nn]===Kt)return;const un=Kt.drag===$,yn=un?at:Ct,sn=un?$.getPlaceholderElement():Kt.drag.getRootElement();Kt.offset+=yn,I?(sn.style.transform=Ze(`translate3d(${Math.round(Kt.offset)}px, 0, 0)`,Kt.initialTransform),tt(Kt.clientRect,0,yn)):(sn.style.transform=Ze(`translate3d(0, ${Math.round(Kt.offset)}px, 0)`,Kt.initialTransform),tt(Kt.clientRect,yn,0))}),this._previousSwap.overlaps=Be(ve,R,k),this._previousSwap.drag=oe.drag,this._previousSwap.delta=I?P.x:P.y,{previousIndex:E,currentIndex:T}}enter($,R,k,P){const w=null==P||P<0?this._getItemIndexFromPointerPosition($,R,k):P,T=this._activeDraggables,I=T.indexOf($),E=$.getPlaceholderElement();let oe=T[w];if(oe===$&&(oe=T[w+1]),!oe&&(null==w||-1===w||w<T.length-1)&&this._shouldEnterAsFirstChild(R,k)&&(oe=T[0]),I>-1&&T.splice(I,1),oe&&!this._dragDropRegistry.isDragging(oe)){const B=oe.getRootElement();B.parentElement.insertBefore(E,B),T.splice(w,0,$)}else(0,Y.i8)(this._element).appendChild(E),T.push($);E.style.transform="",this._cacheItemPositions()}withItems($){this._activeDraggables=$.slice(),this._cacheItemPositions()}withSortPredicate($){this._sortPredicate=$}reset(){this._activeDraggables.forEach($=>{const R=$.getRootElement();if(R){const k=this._itemPositions.find(P=>P.drag===$)?.initialTransform;R.style.transform=k||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex($){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(k=>k.drag===$)}updateOnScroll($,R){this._itemPositions.forEach(({clientRect:k})=>{tt(k,$,R)}),this._itemPositions.forEach(({drag:k})=>{this._dragDropRegistry.isDragging(k)&&k._sortFromLastPointerPosition()})}_cacheItemPositions(){const $="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(R=>{const k=R.getVisibleElement();return{drag:R,offset:0,initialTransform:k.style.transform||"",clientRect:qe(k)}}).sort((R,k)=>$?R.clientRect.left-k.clientRect.left:R.clientRect.top-k.clientRect.top)}_getItemOffsetPx($,R,k){const P="horizontal"===this.orientation;let w=P?R.left-$.left:R.top-$.top;return-1===k&&(w+=P?R.width-$.width:R.height-$.height),w}_getSiblingOffsetPx($,R,k){const P="horizontal"===this.orientation,w=R[$].clientRect,T=R[$+-1*k];let I=w[P?"width":"height"]*k;if(T){const E=P?"left":"top",oe=P?"right":"bottom";-1===k?I-=T.clientRect[E]-w[oe]:I+=w[E]-T.clientRect[oe]}return I}_shouldEnterAsFirstChild($,R){if(!this._activeDraggables.length)return!1;const k=this._itemPositions,P="horizontal"===this.orientation;if(k[0].drag!==this._activeDraggables[0]){const T=k[k.length-1].clientRect;return P?$>=T.right:R>=T.bottom}{const T=k[0].clientRect;return P?$<=T.left:R<=T.top}}_getItemIndexFromPointerPosition($,R,k,P){const w="horizontal"===this.orientation,T=this._itemPositions.findIndex(({drag:I,clientRect:E})=>I!==$&&((!P||I!==this._previousSwap.drag||!this._previousSwap.overlaps||(w?P.x:P.y)!==this._previousSwap.delta)&&(w?R>=Math.floor(E.left)&&R<Math.floor(E.right):k>=Math.floor(E.top)&&k<Math.floor(E.bottom))));return-1!==T&&this._sortPredicate(T,$)?T:-1}}var b=function(ge){return ge[ge.NONE=0]="NONE",ge[ge.UP=1]="UP",ge[ge.DOWN=2]="DOWN",ge}(b||{}),D=function(ge){return ge[ge.NONE=0]="NONE",ge[ge.LEFT=1]="LEFT",ge[ge.RIGHT=2]="RIGHT",ge}(D||{});class j{constructor($,R,k,P,w){this._dragDropRegistry=R,this._ngZone=P,this._viewportRuler=w,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new be.B,this.entered=new be.B,this.exited=new be.B,this.dropped=new be.B,this.sorted=new be.B,this.receivingStarted=new be.B,this.receivingStopped=new be.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=re.yU.EMPTY,this._verticalScrollDirection=b.NONE,this._horizontalScrollDirection=D.NONE,this._stopScrollTimers=new be.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function ee(ge=0,$=ue.E){return ge<0&&(ge=0),(0,X.O)(ge,ge,$)}(0,le.X).pipe((0,fe.Q)(this._stopScrollTimers)).subscribe(()=>{const T=this._scrollNode,I=this.autoScrollStep;this._verticalScrollDirection===b.UP?T.scrollBy(0,-I):this._verticalScrollDirection===b.DOWN&&T.scrollBy(0,I),this._horizontalScrollDirection===D.LEFT?T.scrollBy(-I,0):this._horizontalScrollDirection===D.RIGHT&&T.scrollBy(I,0)})},this.element=(0,Y.i8)($),this._document=k,this.withScrollableParents([this.element]),R.registerDropContainer(this),this._parentPositions=new pt(k),this._sortStrategy=new He(this.element,R),this._sortStrategy.withSortPredicate((T,I)=>this.sortPredicate(T,I,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter($,R,k,P){this._draggingStarted(),null==P&&this.sortingDisabled&&(P=this._draggables.indexOf($)),this._sortStrategy.enter($,R,k,P),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:$,container:this,currentIndex:this.getItemIndex($)})}exit($){this._reset(),this.exited.next({item:$,container:this})}drop($,R,k,P,w,T,I,E={}){this._reset(),this.dropped.next({item:$,currentIndex:R,previousIndex:k,container:this,previousContainer:P,isPointerOverContainer:w,distance:T,dropPoint:I,event:E})}withItems($){const R=this._draggables;return this._draggables=$,$.forEach(k=>k._withDropContainer(this)),this.isDragging()&&(R.filter(P=>P.isDragging()).every(P=>-1===$.indexOf(P))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection($){return this._sortStrategy.direction=$,this}connectedTo($){return this._siblings=$.slice(),this}withOrientation($){return this._sortStrategy.orientation=$,this}withScrollableParents($){const R=(0,Y.i8)(this.element);return this._scrollableElements=-1===$.indexOf(R)?[R,...$]:$.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex($){return this._isDragging?this._sortStrategy.getItemIndex($):this._draggables.indexOf($)}isReceiving(){return this._activeSiblings.size>0}_sortItem($,R,k,P){if(this.sortingDisabled||!this._domRect||!Xe(this._domRect,.05,R,k))return;const w=this._sortStrategy.sort($,R,k,P);w&&this.sorted.next({previousIndex:w.previousIndex,currentIndex:w.currentIndex,container:this,item:$})}_startScrollingIfNecessary($,R){if(this.autoScrollDisabled)return;let k,P=b.NONE,w=D.NONE;if(this._parentPositions.positions.forEach((T,I)=>{I===this._document||!T.clientRect||k||Xe(T.clientRect,.05,$,R)&&([P,w]=function Ye(ge,$,R,k,P){const w=Q($,P),T=ke($,k);let I=b.NONE,E=D.NONE;if(w){const oe=ge.scrollTop;w===b.UP?oe>0&&(I=b.UP):ge.scrollHeight-oe>ge.clientHeight&&(I=b.DOWN)}if(T){const oe=ge.scrollLeft;"rtl"===R?T===D.RIGHT?oe<0&&(E=D.RIGHT):ge.scrollWidth+oe>ge.clientWidth&&(E=D.LEFT):T===D.LEFT?oe>0&&(E=D.LEFT):ge.scrollWidth-oe>ge.clientWidth&&(E=D.RIGHT)}return[I,E]}(I,T.clientRect,this._sortStrategy.direction,$,R),(P||w)&&(k=I))}),!P&&!w){const{width:T,height:I}=this._viewportRuler.getViewportSize(),E={width:T,height:I,top:0,right:T,bottom:I,left:0};P=Q(E,R),w=ke(E,$),k=window}k&&(P!==this._verticalScrollDirection||w!==this._horizontalScrollDirection||k!==this._scrollNode)&&(this._verticalScrollDirection=P,this._horizontalScrollDirection=w,this._scrollNode=k,(P||w)&&k?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const $=(0,Y.i8)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=$.msScrollSnapType||$.scrollSnapType||"",$.scrollSnapType=$.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const $=(0,Y.i8)(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get($).clientRect}_reset(){this._isDragging=!1;const $=(0,Y.i8)(this.element).style;$.scrollSnapType=$.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(R=>R._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer($,R){return null!=this._domRect&&Be(this._domRect,$,R)}_getSiblingContainerFromPosition($,R,k){return this._siblings.find(P=>P._canReceive($,R,k))}_canReceive($,R,k){if(!this._domRect||!Be(this._domRect,R,k)||!this.enterPredicate($,this))return!1;const P=this._getShadowRoot().elementFromPoint(R,k);if(!P)return!1;const w=(0,Y.i8)(this.element);return P===w||w.contains(P)}_startReceiving($,R){const k=this._activeSiblings;!k.has($)&&R.every(P=>this.enterPredicate(P,this)||this._draggables.indexOf(P)>-1)&&(k.add($),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:$,receiver:this,items:R}))}_stopReceiving($){this._activeSiblings.delete($),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:$,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe($=>{if(this.isDragging()){const R=this._parentPositions.handleScroll($);R&&this._sortStrategy.updateOnScroll(R.top,R.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const $=(0,v.KT)((0,Y.i8)(this.element));this._cachedShadowRoot=$||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const $=this._sortStrategy.getActiveItemsSnapshot().filter(R=>R.isDragging());this._siblings.forEach(R=>R._startReceiving(this,$))}}function Q(ge,$){const{top:R,bottom:k,height:P}=ge,w=.05*P;return $>=R-w&&$<=R+w?b.UP:$>=k-w&&$<=k+w?b.DOWN:b.NONE}function ke(ge,$){const{left:R,right:k,width:P}=ge,w=.05*P;return $>=R-w&&$<=R+w?D.LEFT:$>=k-w&&$<=k+w?D.RIGHT:D.NONE}const dt=(0,v.BQ)({passive:!1,capture:!0});let bt=(()=>{class ge{constructor(R,k){this._ngZone=R,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=P=>P.isDragging(),this.pointerMove=new be.B,this.pointerUp=new be.B,this.scroll=new be.B,this._preventDefaultWhileDragging=P=>{this._activeDragInstances.length>0&&P.preventDefault()},this._persistentTouchmoveListener=P=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&P.preventDefault(),this.pointerMove.next(P))},this._document=k}registerDropContainer(R){this._dropInstances.has(R)||this._dropInstances.add(R)}registerDragItem(R){this._dragInstances.add(R),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,dt)})}removeDropContainer(R){this._dropInstances.delete(R)}removeDragItem(R){this._dragInstances.delete(R),this.stopDragging(R),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,dt)}startDragging(R,k){if(!(this._activeDragInstances.indexOf(R)>-1)&&(this._activeDragInstances.push(R),1===this._activeDragInstances.length)){const P=k.type.startsWith("touch");this._globalListeners.set(P?"touchend":"mouseup",{handler:w=>this.pointerUp.next(w),options:!0}).set("scroll",{handler:w=>this.scroll.next(w),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:dt}),P||this._globalListeners.set("mousemove",{handler:w=>this.pointerMove.next(w),options:dt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((w,T)=>{this._document.addEventListener(T,w.handler,w.options)})})}}stopDragging(R){const k=this._activeDragInstances.indexOf(R);k>-1&&(this._activeDragInstances.splice(k,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(R){return this._activeDragInstances.indexOf(R)>-1}scrolled(R){const k=[this.scroll];return R&&R!==this._document&&k.push(new pe.c(P=>this._ngZone.runOutsideAngular(()=>{const T=I=>{this._activeDragInstances.length&&P.next(I)};return R.addEventListener("scroll",T,!0),()=>{R.removeEventListener("scroll",T,!0)}}))),(0,K.h)(...k)}ngOnDestroy(){this._dragInstances.forEach(R=>this.removeDragItem(R)),this._dropInstances.forEach(R=>this.removeDropContainer(R)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((R,k)=>{this._document.removeEventListener(k,R.handler,R.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(k){return new(k||ge)(t.KVO(t.SKi),t.KVO(f.qQ))};static#t=this.\u0275prov=t.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();const kt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let wt=(()=>{class ge{constructor(R,k,P,w){this._document=R,this._ngZone=k,this._viewportRuler=P,this._dragDropRegistry=w}createDrag(R,k=kt){return new At(R,k,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(R){return new j(R,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(k){return new(k||ge)(t.KVO(f.qQ),t.KVO(t.SKi),t.KVO(m.Xj),t.KVO(bt))};static#t=this.\u0275prov=t.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();const Yt=new t.nKC("CDK_DRAG_PARENT"),Ht=new t.nKC("CdkDragHandle");let Ee=(()=>{class ge{get disabled(){return this._disabled}set disabled(R){this._disabled=R,this._stateChanges.next(this)}constructor(R,k){this.element=R,this._parentDrag=k,this._stateChanges=new be.B,this._disabled=!1,k?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static#e=this.\u0275fac=function(k){return new(k||ge)(t.rXU(t.aKT),t.rXU(Yt,12))};static#t=this.\u0275dir=t.FsC({type:ge,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[t.Mj6.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",t.L39]},standalone:!0,features:[t.Jv_([{provide:Ht,useExisting:ge}]),t.GFd]})}return ge})();const Je=new t.nKC("CDK_DRAG_CONFIG"),It=new t.nKC("CdkDropList");let Rt=(()=>{class ge{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(R){this._disabled=R,this._dragRef.disabled=this._disabled}constructor(R,k,P,w,T,I,E,oe,B,ve,Qe){this.element=R,this.dropContainer=k,this._ngZone=w,this._viewContainerRef=T,this._dir=E,this._changeDetectorRef=B,this._selfHandle=ve,this._parentDrag=Qe,this._destroyed=new be.B,this._handles=new G.t([]),this.started=new t.bkB,this.released=new t.bkB,this.ended=new t.bkB,this.entered=new t.bkB,this.exited=new t.bkB,this.dropped=new t.bkB,this.moved=new pe.c(at=>{const Ct=this._dragRef.moved.pipe((0,ze.T)(Ut=>({source:this,pointerPosition:Ut.pointerPosition,event:Ut.event,delta:Ut.delta,distance:Ut.distance}))).subscribe(at);return()=>{Ct.unsubscribe()}}),this._dragRef=oe.createDrag(R,{dragStartThreshold:I&&null!=I.dragStartThreshold?I.dragStartThreshold:5,pointerDirectionChangeThreshold:I&&null!=I.pointerDirectionChangeThreshold?I.pointerDirectionChangeThreshold:5,zIndex:I?.zIndex}),this._dragRef.data=this,ge._dragInstances.push(this),I&&this._assignDefaults(I),k&&(this._dragRef._withDropContainer(k._dropListRef),k.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(R){this._dragRef.setFreeDragPosition(R)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,xe.s)(1),(0,fe.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(R){const k=R.rootElementSelector,P=R.freeDragPosition;k&&!k.firstChange&&this._updateRootElement(),P&&!P.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const R=ge._dragInstances.indexOf(this);R>-1&&ge._dragInstances.splice(R,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(R){const k=this._handles.getValue();k.push(R),this._handles.next(k)}_removeHandle(R){const k=this._handles.getValue(),P=k.indexOf(R);P>-1&&(k.splice(P,1),this._handles.next(k))}_setPreviewTemplate(R){this._previewTemplate=R}_resetPreviewTemplate(R){R===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(R){this._placeholderTemplate=R}_resetPlaceholderTemplate(R){R===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const R=this.element.nativeElement;let k=R;this.rootElementSelector&&(k=void 0!==R.closest?R.closest(this.rootElementSelector):R.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(k||R)}_getBoundaryElement(){const R=this.boundaryElement;return R?"string"==typeof R?this.element.nativeElement.closest(R):(0,Y.i8)(R):null}_syncInputs(R){R.beforeStarted.subscribe(()=>{if(!R.isDragging()){const k=this._dir,P=this.dragStartDelay,w=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,T=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;R.disabled=this.disabled,R.lockAxis=this.lockAxis,R.dragStartDelay="object"==typeof P&&P?P:(0,Y.OE)(P),R.constrainPosition=this.constrainPosition,R.previewClass=this.previewClass,R.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(w).withPreviewTemplate(T).withPreviewContainer(this.previewContainer||"global"),k&&R.withDirection(k.value)}}),R.beforeStarted.pipe((0,xe.s)(1)).subscribe(()=>{if(this._parentDrag)return void R.withParent(this._parentDrag._dragRef);let k=this.element.nativeElement.parentElement;for(;k;){if(k.classList.contains("cdk-drag")){R.withParent(ge._dragInstances.find(P=>P.element.nativeElement===k)?._dragRef||null);break}k=k.parentElement}})}_handleEvents(R){R.started.subscribe(k=>{this.started.emit({source:this,event:k.event}),this._changeDetectorRef.markForCheck()}),R.released.subscribe(k=>{this.released.emit({source:this,event:k.event})}),R.ended.subscribe(k=>{this.ended.emit({source:this,distance:k.distance,dropPoint:k.dropPoint,event:k.event}),this._changeDetectorRef.markForCheck()}),R.entered.subscribe(k=>{this.entered.emit({container:k.container.data,item:this,currentIndex:k.currentIndex})}),R.exited.subscribe(k=>{this.exited.emit({container:k.container.data,item:this})}),R.dropped.subscribe(k=>{this.dropped.emit({previousIndex:k.previousIndex,currentIndex:k.currentIndex,previousContainer:k.previousContainer.data,container:k.container.data,isPointerOverContainer:k.isPointerOverContainer,item:this,distance:k.distance,dropPoint:k.dropPoint,event:k.event})})}_assignDefaults(R){const{lockAxis:k,dragStartDelay:P,constrainPosition:w,previewClass:T,boundaryElement:I,draggingDisabled:E,rootElementSelector:oe,previewContainer:B}=R;this.disabled=E??!1,this.dragStartDelay=P||0,k&&(this.lockAxis=k),w&&(this.constrainPosition=w),T&&(this.previewClass=T),I&&(this.boundaryElement=I),oe&&(this.rootElementSelector=oe),B&&(this.previewContainer=B)}_setupHandlesListener(){this._handles.pipe((0,Fe.M)(R=>{const k=R.map(P=>P.element);this._selfHandle&&this.rootElementSelector&&k.push(this.element),this._dragRef.withHandles(k)}),(0,Ge.n)(R=>(0,K.h)(...R.map(k=>k._stateChanges.pipe((0,he.Z)(k))))),(0,fe.Q)(this._destroyed)).subscribe(R=>{const k=this._dragRef,P=R.element.nativeElement;R.disabled?k.disableHandle(P):k.enableHandle(P)})}static#t=this.\u0275fac=function(k){return new(k||ge)(t.rXU(t.aKT),t.rXU(It,12),t.rXU(f.qQ),t.rXU(t.SKi),t.rXU(t.c1b),t.rXU(Je,8),t.rXU(Te.dS,8),t.rXU(wt),t.rXU(t.gRc),t.rXU(Ht,10),t.rXU(Yt,12))};static#n=this.\u0275dir=t.FsC({type:ge,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(k,P){2&k&&t.AVh("cdk-drag-disabled",P.disabled)("cdk-drag-dragging",P._dragRef.isDragging())},inputs:{data:[t.Mj6.None,"cdkDragData","data"],lockAxis:[t.Mj6.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[t.Mj6.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[t.Mj6.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[t.Mj6.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[t.Mj6.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[t.Mj6.HasDecoratorInputTransform,"cdkDragDisabled","disabled",t.L39],constrainPosition:[t.Mj6.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[t.Mj6.None,"cdkDragPreviewClass","previewClass"],previewContainer:[t.Mj6.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[t.Jv_([{provide:Yt,useExisting:ge}]),t.GFd,t.OA$]})}return ge})();const Ot=new t.nKC("CdkDropListGroup");let en=0,wn=(()=>{class ge{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(R){this._dropListRef.disabled=this._disabled=R}constructor(R,k,P,w,T,I,E){this.element=R,this._changeDetectorRef=P,this._scrollDispatcher=w,this._dir=T,this._group=I,this._destroyed=new be.B,this.connectedTo=[],this.id="cdk-drop-list-"+en++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.bkB,this.entered=new t.bkB,this.exited=new t.bkB,this.sorted=new t.bkB,this._unsortedItems=new Set,this._dropListRef=k.createDropList(R),this._dropListRef.data=this,E&&this._assignDefaults(E),this._dropListRef.enterPredicate=(oe,B)=>this.enterPredicate(oe.data,B.data),this._dropListRef.sortPredicate=(oe,B,ve)=>this.sortPredicate(oe,B.data,ve.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),ge._dropLists.push(this),I&&I._items.add(this)}addItem(R){this._unsortedItems.add(R),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(R){this._unsortedItems.delete(R),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((R,k)=>R._dragRef.getVisibleElement().compareDocumentPosition(k._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const R=ge._dropLists.indexOf(this);R>-1&&ge._dropLists.splice(R,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(R){this._dir&&this._dir.change.pipe((0,he.Z)(this._dir.value),(0,fe.Q)(this._destroyed)).subscribe(k=>R.withDirection(k)),R.beforeStarted.subscribe(()=>{const k=(0,Y.FG)(this.connectedTo).map(P=>"string"==typeof P?ge._dropLists.find(T=>T.id===P):P);if(this._group&&this._group._items.forEach(P=>{-1===k.indexOf(P)&&k.push(P)}),!this._scrollableParentsResolved){const P=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(w=>w.getElementRef().nativeElement);this._dropListRef.withScrollableParents(P),this._scrollableParentsResolved=!0}R.disabled=this.disabled,R.lockAxis=this.lockAxis,R.sortingDisabled=this.sortingDisabled,R.autoScrollDisabled=this.autoScrollDisabled,R.autoScrollStep=(0,Y.OE)(this.autoScrollStep,2),R.connectedTo(k.filter(P=>P&&P!==this).map(P=>P._dropListRef)).withOrientation(this.orientation)})}_handleEvents(R){R.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),R.entered.subscribe(k=>{this.entered.emit({container:this,item:k.item.data,currentIndex:k.currentIndex})}),R.exited.subscribe(k=>{this.exited.emit({container:this,item:k.item.data}),this._changeDetectorRef.markForCheck()}),R.sorted.subscribe(k=>{this.sorted.emit({previousIndex:k.previousIndex,currentIndex:k.currentIndex,container:this,item:k.item.data})}),R.dropped.subscribe(k=>{this.dropped.emit({previousIndex:k.previousIndex,currentIndex:k.currentIndex,previousContainer:k.previousContainer.data,container:k.container.data,item:k.item.data,isPointerOverContainer:k.isPointerOverContainer,distance:k.distance,dropPoint:k.dropPoint,event:k.event}),this._changeDetectorRef.markForCheck()}),(0,K.h)(R.receivingStarted,R.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(R){const{lockAxis:k,draggingDisabled:P,sortingDisabled:w,listAutoScrollDisabled:T,listOrientation:I}=R;this.disabled=P??!1,this.sortingDisabled=w??!1,this.autoScrollDisabled=T??!1,this.orientation=I||"vertical",k&&(this.lockAxis=k)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(R=>R._dragRef))}static#t=this.\u0275fac=function(k){return new(k||ge)(t.rXU(t.aKT),t.rXU(wt),t.rXU(t.gRc),t.rXU(m.R),t.rXU(Te.dS,8),t.rXU(Ot,12),t.rXU(Je,8))};static#n=this.\u0275dir=t.FsC({type:ge,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(k,P){2&k&&(t.BMQ("id",P.id),t.AVh("cdk-drop-list-disabled",P.disabled)("cdk-drop-list-dragging",P._dropListRef.isDragging())("cdk-drop-list-receiving",P._dropListRef.isReceiving()))},inputs:{connectedTo:[t.Mj6.None,"cdkDropListConnectedTo","connectedTo"],data:[t.Mj6.None,"cdkDropListData","data"],orientation:[t.Mj6.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[t.Mj6.None,"cdkDropListLockAxis","lockAxis"],disabled:[t.Mj6.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",t.L39],sortingDisabled:[t.Mj6.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",t.L39],enterPredicate:[t.Mj6.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[t.Mj6.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[t.Mj6.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",t.L39],autoScrollStep:[t.Mj6.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[t.Jv_([{provide:Ot,useValue:void 0},{provide:It,useExisting:ge}]),t.GFd]})}return ge})()},7336:(Lt,ct,C)=>{"use strict";C.d(ct,{A:()=>Gt,A$:()=>re,FX:()=>Ve,Fm:()=>Y,G_:()=>f,Ge:()=>ke,Kp:()=>G,LE:()=>Fe,UQ:()=>ze,W3:()=>be,Z:()=>Q,_f:()=>ee,bn:()=>et,dB:()=>K,eg:()=>Ii,f2:()=>ae,i7:()=>xe,n6:()=>Ge,rp:()=>Si,t6:()=>le,w_:()=>pe,wn:()=>m,yZ:()=>fe});const f=8,m=9,Y=13,Ve=16,be=17,re=18,ee=27,le=32,pe=33,K=34,G=35,fe=36,ze=37,xe=38,Fe=39,Ge=40,ae=48,et=57,Gt=65,Q=90,ke=91,Ii=224;function Si(si,...Ti){return Ti.length?Ti.some(ei=>si[ei]):si.altKey||si.shiftKey||si.ctrlKey||si.metaKey}},9327:(Lt,ct,C)=>{"use strict";C.d(ct,{DY:()=>ze,QP:()=>Ge});var t=C(4438),f=C(4085),m=C(1413),v=C(4572),Y=C(8793),Ve=C(1985),be=C(6697),re=C(5245),ue=C(152),X=C(6354),ee=C(9172),le=C(6977),pe=C(6860);const G=new Set;let fe,ze=(()=>{class Z{constructor(ae,Ze){this._platform=ae,this._nonce=Ze,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Fe}matchMedia(ae){return(this._platform.WEBKIT||this._platform.BLINK)&&function xe(Z,Se){if(!G.has(Z))try{fe||(fe=document.createElement("style"),Se&&fe.setAttribute("nonce",Se),fe.setAttribute("type","text/css"),document.head.appendChild(fe)),fe.sheet&&(fe.sheet.insertRule(`@media ${Z} {body{ }}`,0),G.add(Z))}catch(ae){console.error(ae)}}(ae,this._nonce),this._matchMedia(ae)}static#e=this.\u0275fac=function(Ze){return new(Ze||Z)(t.KVO(pe.OD),t.KVO(t.BIS,8))};static#t=this.\u0275prov=t.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();function Fe(Z){return{matches:"all"===Z||""===Z,media:Z,addListener:()=>{},removeListener:()=>{}}}let Ge=(()=>{class Z{constructor(ae,Ze){this._mediaMatcher=ae,this._zone=Ze,this._queries=new Map,this._destroySubject=new m.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ae){return he((0,f.FG)(ae)).some(Pe=>this._registerQuery(Pe).mql.matches)}observe(ae){const Pe=he((0,f.FG)(ae)).map(qe=>this._registerQuery(qe).observable);let We=(0,v.z)(Pe);return We=(0,Y.x)(We.pipe((0,be.s)(1)),We.pipe((0,re.i)(1),(0,ue.B)(0))),We.pipe((0,X.T)(qe=>{const Be={matches:!1,breakpoints:{}};return qe.forEach(({matches:tt,query:Xe})=>{Be.matches=Be.matches||tt,Be.breakpoints[Xe]=tt}),Be}))}_registerQuery(ae){if(this._queries.has(ae))return this._queries.get(ae);const Ze=this._mediaMatcher.matchMedia(ae),We={observable:new Ve.c(qe=>{const Be=tt=>this._zone.run(()=>qe.next(tt));return Ze.addListener(Be),()=>{Ze.removeListener(Be)}}).pipe((0,ee.Z)(Ze),(0,X.T)(({matches:qe})=>({query:ae,matches:qe})),(0,le.Q)(this._destroySubject)),mql:Ze};return this._queries.set(ae,We),We}static#e=this.\u0275fac=function(Ze){return new(Ze||Z)(t.KVO(ze),t.KVO(t.SKi))};static#t=this.\u0275prov=t.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();function he(Z){return Z.map(Se=>Se.split(",")).reduce((Se,ae)=>Se.concat(ae)).map(Se=>Se.trim())}},6969:(Lt,ct,C)=>{"use strict";C.d(ct,{WB:()=>ye,$Q:()=>Mt,uH:()=>We,hJ:()=>Wt,rR:()=>Pe,z_:()=>He,yY:()=>ht});var t=C(494),f=C(177),m=C(4438),v=C(4085),Y=C(6860),Ve=C(5964),be=C(6697),re=C(6977),ue=C(9974),X=C(4360),le=C(8203),pe=C(6939),K=C(1413),G=C(8359),fe=C(7786),ze=C(7336);const xe=(0,Y.CZ)();class Fe{constructor(b,D){this._viewportRuler=b,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=D}attach(){}enable(){if(this._canBeEnabled()){const b=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=b.style.left||"",this._previousHTMLStyles.top=b.style.top||"",b.style.left=(0,v.a1)(-this._previousScrollPosition.left),b.style.top=(0,v.a1)(-this._previousScrollPosition.top),b.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const b=this._document.documentElement,j=b.style,Q=this._document.body.style,ke=j.scrollBehavior||"",Ye=Q.scrollBehavior||"";this._isEnabled=!1,j.left=this._previousHTMLStyles.left,j.top=this._previousHTMLStyles.top,b.classList.remove("cdk-global-scrollblock"),xe&&(j.scrollBehavior=Q.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xe&&(j.scrollBehavior=ke,Q.scrollBehavior=Ye)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const D=this._document.body,j=this._viewportRuler.getViewportSize();return D.scrollHeight>j.height||D.scrollWidth>j.width}}class he{constructor(b,D,j,Q){this._scrollDispatcher=b,this._ngZone=D,this._viewportRuler=j,this._config=Q,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(b){this._overlayRef=b}enable(){if(this._scrollSubscription)return;const b=this._scrollDispatcher.scrolled(0).pipe((0,Ve.p)(D=>!D||!this._overlayRef.overlayElement.contains(D.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=b.subscribe(()=>{const D=this._viewportRuler.getViewportScrollPosition().top;Math.abs(D-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=b.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Te{enable(){}disable(){}attach(){}}function Z(W,b){return b.some(D=>W.bottom<D.top||W.top>D.bottom||W.right<D.left||W.left>D.right)}function Se(W,b){return b.some(D=>W.top<D.top||W.bottom>D.bottom||W.left<D.left||W.right>D.right)}class ae{constructor(b,D,j,Q){this._scrollDispatcher=b,this._viewportRuler=D,this._ngZone=j,this._config=Q,this._scrollSubscription=null}attach(b){this._overlayRef=b}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const D=this._overlayRef.overlayElement.getBoundingClientRect(),{width:j,height:Q}=this._viewportRuler.getViewportSize();Z(D,[{width:j,height:Q,bottom:Q,right:j,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ze=(()=>{class W{constructor(D,j,Q,ke){this._scrollDispatcher=D,this._viewportRuler=j,this._ngZone=Q,this.noop=()=>new Te,this.close=Ye=>new he(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ye),this.block=()=>new Fe(this._viewportRuler,this._document),this.reposition=Ye=>new ae(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ye),this._document=ke}static#e=this.\u0275fac=function(j){return new(j||W)(m.KVO(t.R),m.KVO(t.Xj),m.KVO(m.SKi),m.KVO(f.qQ))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();class Pe{constructor(b){if(this.scrollStrategy=new Te,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,b){const D=Object.keys(b);for(const j of D)void 0!==b[j]&&(this[j]=b[j])}}}class We{constructor(b,D,j,Q,ke){this.offsetX=j,this.offsetY=Q,this.panelClass=ke,this.originX=b.originX,this.originY=b.originY,this.overlayX=D.overlayX,this.overlayY=D.overlayY}}class Be{constructor(b,D){this.connectionPair=b,this.scrollableViewProperties=D}}let pt=(()=>{class W{constructor(D){this._attachedOverlays=[],this._document=D}ngOnDestroy(){this.detach()}add(D){this.remove(D),this._attachedOverlays.push(D)}remove(D){const j=this._attachedOverlays.indexOf(D);j>-1&&this._attachedOverlays.splice(j,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(j){return new(j||W)(m.KVO(f.qQ))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),et=(()=>{class W extends pt{constructor(D,j){super(D),this._ngZone=j,this._keydownListener=Q=>{const ke=this._attachedOverlays;for(let Ye=ke.length-1;Ye>-1;Ye--)if(ke[Ye]._keydownEvents.observers.length>0){const dt=ke[Ye]._keydownEvents;this._ngZone?this._ngZone.run(()=>dt.next(Q)):dt.next(Q);break}}}add(D){super.add(D),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(j){return new(j||W)(m.KVO(f.qQ),m.KVO(m.SKi,8))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),Le=(()=>{class W extends pt{constructor(D,j,Q){super(D),this._platform=j,this._ngZone=Q,this._cursorStyleIsSet=!1,this._pointerDownListener=ke=>{this._pointerDownEventTarget=(0,Y.Fb)(ke)},this._clickListener=ke=>{const Ye=(0,Y.Fb)(ke),dt="click"===ke.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ye;this._pointerDownEventTarget=null;const bt=this._attachedOverlays.slice();for(let kt=bt.length-1;kt>-1;kt--){const wt=bt[kt];if(wt._outsidePointerEvents.observers.length<1||!wt.hasAttached())continue;if(wt.overlayElement.contains(Ye)||wt.overlayElement.contains(dt))break;const Yt=wt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Yt.next(ke)):Yt.next(ke)}}}add(D){if(super.add(D),!this._isAttached){const j=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(j)):this._addEventListeners(j),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=j.style.cursor,j.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const D=this._document.body;D.removeEventListener("pointerdown",this._pointerDownListener,!0),D.removeEventListener("click",this._clickListener,!0),D.removeEventListener("auxclick",this._clickListener,!0),D.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(D.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(D){D.addEventListener("pointerdown",this._pointerDownListener,!0),D.addEventListener("click",this._clickListener,!0),D.addEventListener("auxclick",this._clickListener,!0),D.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(j){return new(j||W)(m.KVO(f.qQ),m.KVO(Y.OD),m.KVO(m.SKi,8))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),mt=(()=>{class W{constructor(D,j){this._platform=j,this._document=D}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const D="cdk-overlay-container";if(this._platform.isBrowser||(0,Y.v8)()){const Q=this._document.querySelectorAll(`.${D}[platform="server"], .${D}[platform="test"]`);for(let ke=0;ke<Q.length;ke++)Q[ke].remove()}const j=this._document.createElement("div");j.classList.add(D),(0,Y.v8)()?j.setAttribute("platform","test"):this._platform.isBrowser||j.setAttribute("platform","server"),this._document.body.appendChild(j),this._containerElement=j}static#e=this.\u0275fac=function(j){return new(j||W)(m.KVO(f.qQ),m.KVO(Y.OD))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();class ht{constructor(b,D,j,Q,ke,Ye,dt,bt,kt,wt=!1){this._portalOutlet=b,this._host=D,this._pane=j,this._config=Q,this._ngZone=ke,this._keyboardDispatcher=Ye,this._document=dt,this._location=bt,this._outsideClickDispatcher=kt,this._animationsDisabled=wt,this._backdropElement=null,this._backdropClick=new K.B,this._attachments=new K.B,this._detachments=new K.B,this._locationChanges=G.yU.EMPTY,this._backdropClickHandler=Yt=>this._backdropClick.next(Yt),this._backdropTransitionendHandler=Yt=>{this._disposeBackdrop(Yt.target)},this._keydownEvents=new K.B,this._outsidePointerEvents=new K.B,Q.scrollStrategy&&(this._scrollStrategy=Q.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Q.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(b){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const D=this._portalOutlet.attach(b);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,be.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof D?.onDestroy&&D.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),D}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const b=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),b}dispose(){const b=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,b&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(b){b!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=b,this.hasAttached()&&(b.attach(this),this.updatePosition()))}updateSize(b){this._config={...this._config,...b},this._updateElementSize()}setDirection(b){this._config={...this._config,direction:b},this._updateElementDirection()}addPanelClass(b){this._pane&&this._toggleClasses(this._pane,b,!0)}removePanelClass(b){this._pane&&this._toggleClasses(this._pane,b,!1)}getDirection(){const b=this._config.direction;return b?"string"==typeof b?b:b.value:"ltr"}updateScrollStrategy(b){b!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=b,this.hasAttached()&&(b.attach(this),b.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const b=this._pane.style;b.width=(0,v.a1)(this._config.width),b.height=(0,v.a1)(this._config.height),b.minWidth=(0,v.a1)(this._config.minWidth),b.minHeight=(0,v.a1)(this._config.minHeight),b.maxWidth=(0,v.a1)(this._config.maxWidth),b.maxHeight=(0,v.a1)(this._config.maxHeight)}_togglePointerEvents(b){this._pane.style.pointerEvents=b?"":"none"}_attachBackdrop(){const b="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(b)})}):this._backdropElement.classList.add(b)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const b=this._backdropElement;if(b){if(this._animationsDisabled)return void this._disposeBackdrop(b);b.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{b.addEventListener("transitionend",this._backdropTransitionendHandler)}),b.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(b)},500))}}_toggleClasses(b,D,j){const Q=(0,v.FG)(D||[]).filter(ke=>!!ke);Q.length&&(j?b.classList.add(...Q):b.classList.remove(...Q))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const b=this._ngZone.onStable.pipe((0,re.Q)((0,fe.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),b.unsubscribe())})})}_disposeScrollStrategy(){const b=this._scrollStrategy;b&&(b.disable(),b.detach&&b.detach())}_disposeBackdrop(b){b&&(b.removeEventListener("click",this._backdropClickHandler),b.removeEventListener("transitionend",this._backdropTransitionendHandler),b.remove(),this._backdropElement===b&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const xt="cdk-overlay-connected-position-bounding-box",Gt=/([A-Za-z%]+)$/;class Me{get positions(){return this._preferredPositions}constructor(b,D,j,Q,ke){this._viewportRuler=D,this._document=j,this._platform=Q,this._overlayContainer=ke,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new K.B,this._resizeSubscription=G.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(b)}attach(b){this._validatePositions(),b.hostElement.classList.add(xt),this._overlayRef=b,this._boundingBox=b.hostElement,this._pane=b.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const b=this._originRect,D=this._overlayRect,j=this._viewportRect,Q=this._containerRect,ke=[];let Ye;for(let dt of this._preferredPositions){let bt=this._getOriginPoint(b,Q,dt),kt=this._getOverlayPoint(bt,D,dt),wt=this._getOverlayFit(kt,D,j,dt);if(wt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(dt,bt);this._canFitWithFlexibleDimensions(wt,kt,j)?ke.push({position:dt,origin:bt,overlayRect:D,boundingBoxRect:this._calculateBoundingBoxRect(bt,dt)}):(!Ye||Ye.overlayFit.visibleArea<wt.visibleArea)&&(Ye={overlayFit:wt,overlayPoint:kt,originPoint:bt,position:dt,overlayRect:D})}if(ke.length){let dt=null,bt=-1;for(const kt of ke){const wt=kt.boundingBoxRect.width*kt.boundingBoxRect.height*(kt.position.weight||1);wt>bt&&(bt=wt,dt=kt)}return this._isPushed=!1,void this._applyPosition(dt.position,dt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ye.position,Ye.originPoint);this._applyPosition(Ye.position,Ye.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&nt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const b=this._lastPosition;if(b){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const D=this._getOriginPoint(this._originRect,this._containerRect,b);this._applyPosition(b,D)}else this.apply()}withScrollableContainers(b){return this._scrollables=b,this}withPositions(b){return this._preferredPositions=b,-1===b.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(b){return this._viewportMargin=b,this}withFlexibleDimensions(b=!0){return this._hasFlexibleDimensions=b,this}withGrowAfterOpen(b=!0){return this._growAfterOpen=b,this}withPush(b=!0){return this._canPush=b,this}withLockedPosition(b=!0){return this._positionLocked=b,this}setOrigin(b){return this._origin=b,this}withDefaultOffsetX(b){return this._offsetX=b,this}withDefaultOffsetY(b){return this._offsetY=b,this}withTransformOriginOn(b){return this._transformOriginSelector=b,this}_getOriginPoint(b,D,j){let Q,ke;if("center"==j.originX)Q=b.left+b.width/2;else{const Ye=this._isRtl()?b.right:b.left,dt=this._isRtl()?b.left:b.right;Q="start"==j.originX?Ye:dt}return D.left<0&&(Q-=D.left),ke="center"==j.originY?b.top+b.height/2:"top"==j.originY?b.top:b.bottom,D.top<0&&(ke-=D.top),{x:Q,y:ke}}_getOverlayPoint(b,D,j){let Q,ke;return Q="center"==j.overlayX?-D.width/2:"start"===j.overlayX?this._isRtl()?-D.width:0:this._isRtl()?0:-D.width,ke="center"==j.overlayY?-D.height/2:"top"==j.overlayY?0:-D.height,{x:b.x+Q,y:b.y+ke}}_getOverlayFit(b,D,j,Q){const ke=F(D);let{x:Ye,y:dt}=b,bt=this._getOffset(Q,"x"),kt=this._getOffset(Q,"y");bt&&(Ye+=bt),kt&&(dt+=kt);let rt=0-dt,Ht=dt+ke.height-j.height,Ee=this._subtractOverflows(ke.width,0-Ye,Ye+ke.width-j.width),Je=this._subtractOverflows(ke.height,rt,Ht),Ie=Ee*Je;return{visibleArea:Ie,isCompletelyWithinViewport:ke.width*ke.height===Ie,fitsInViewportVertically:Je===ke.height,fitsInViewportHorizontally:Ee==ke.width}}_canFitWithFlexibleDimensions(b,D,j){if(this._hasFlexibleDimensions){const Q=j.bottom-D.y,ke=j.right-D.x,Ye=ie(this._overlayRef.getConfig().minHeight),dt=ie(this._overlayRef.getConfig().minWidth);return(b.fitsInViewportVertically||null!=Ye&&Ye<=Q)&&(b.fitsInViewportHorizontally||null!=dt&&dt<=ke)}return!1}_pushOverlayOnScreen(b,D,j){if(this._previousPushAmount&&this._positionLocked)return{x:b.x+this._previousPushAmount.x,y:b.y+this._previousPushAmount.y};const Q=F(D),ke=this._viewportRect,Ye=Math.max(b.x+Q.width-ke.width,0),dt=Math.max(b.y+Q.height-ke.height,0),bt=Math.max(ke.top-j.top-b.y,0),kt=Math.max(ke.left-j.left-b.x,0);let wt=0,Yt=0;return wt=Q.width<=ke.width?kt||-Ye:b.x<this._viewportMargin?ke.left-j.left-b.x:0,Yt=Q.height<=ke.height?bt||-dt:b.y<this._viewportMargin?ke.top-j.top-b.y:0,this._previousPushAmount={x:wt,y:Yt},{x:b.x+wt,y:b.y+Yt}}_applyPosition(b,D){if(this._setTransformOrigin(b),this._setOverlayElementStyles(D,b),this._setBoundingBoxStyles(D,b),b.panelClass&&this._addPanelClasses(b.panelClass),this._positionChanges.observers.length){const j=this._getScrollVisibility();if(b!==this._lastPosition||!this._lastScrollVisibility||!function _e(W,b){return W===b||W.isOriginClipped===b.isOriginClipped&&W.isOriginOutsideView===b.isOriginOutsideView&&W.isOverlayClipped===b.isOverlayClipped&&W.isOverlayOutsideView===b.isOverlayOutsideView}(this._lastScrollVisibility,j)){const Q=new Be(b,j);this._positionChanges.next(Q)}this._lastScrollVisibility=j}this._lastPosition=b,this._isInitialRender=!1}_setTransformOrigin(b){if(!this._transformOriginSelector)return;const D=this._boundingBox.querySelectorAll(this._transformOriginSelector);let j,Q=b.overlayY;j="center"===b.overlayX?"center":this._isRtl()?"start"===b.overlayX?"right":"left":"start"===b.overlayX?"left":"right";for(let ke=0;ke<D.length;ke++)D[ke].style.transformOrigin=`${j} ${Q}`}_calculateBoundingBoxRect(b,D){const j=this._viewportRect,Q=this._isRtl();let ke,Ye,dt,wt,Yt,rt;if("top"===D.overlayY)Ye=b.y,ke=j.height-Ye+this._viewportMargin;else if("bottom"===D.overlayY)dt=j.height-b.y+2*this._viewportMargin,ke=j.height-dt+this._viewportMargin;else{const Ht=Math.min(j.bottom-b.y+j.top,b.y),Ee=this._lastBoundingBoxSize.height;ke=2*Ht,Ye=b.y-Ht,ke>Ee&&!this._isInitialRender&&!this._growAfterOpen&&(Ye=b.y-Ee/2)}if("end"===D.overlayX&&!Q||"start"===D.overlayX&&Q)rt=j.width-b.x+2*this._viewportMargin,wt=b.x-this._viewportMargin;else if("start"===D.overlayX&&!Q||"end"===D.overlayX&&Q)Yt=b.x,wt=j.right-b.x;else{const Ht=Math.min(j.right-b.x+j.left,b.x),Ee=this._lastBoundingBoxSize.width;wt=2*Ht,Yt=b.x-Ht,wt>Ee&&!this._isInitialRender&&!this._growAfterOpen&&(Yt=b.x-Ee/2)}return{top:Ye,left:Yt,bottom:dt,right:rt,width:wt,height:ke}}_setBoundingBoxStyles(b,D){const j=this._calculateBoundingBoxRect(b,D);!this._isInitialRender&&!this._growAfterOpen&&(j.height=Math.min(j.height,this._lastBoundingBoxSize.height),j.width=Math.min(j.width,this._lastBoundingBoxSize.width));const Q={};if(this._hasExactPosition())Q.top=Q.left="0",Q.bottom=Q.right=Q.maxHeight=Q.maxWidth="",Q.width=Q.height="100%";else{const ke=this._overlayRef.getConfig().maxHeight,Ye=this._overlayRef.getConfig().maxWidth;Q.height=(0,v.a1)(j.height),Q.top=(0,v.a1)(j.top),Q.bottom=(0,v.a1)(j.bottom),Q.width=(0,v.a1)(j.width),Q.left=(0,v.a1)(j.left),Q.right=(0,v.a1)(j.right),Q.alignItems="center"===D.overlayX?"center":"end"===D.overlayX?"flex-end":"flex-start",Q.justifyContent="center"===D.overlayY?"center":"bottom"===D.overlayY?"flex-end":"flex-start",ke&&(Q.maxHeight=(0,v.a1)(ke)),Ye&&(Q.maxWidth=(0,v.a1)(Ye))}this._lastBoundingBoxSize=j,nt(this._boundingBox.style,Q)}_resetBoundingBoxStyles(){nt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){nt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(b,D){const j={},Q=this._hasExactPosition(),ke=this._hasFlexibleDimensions,Ye=this._overlayRef.getConfig();if(Q){const wt=this._viewportRuler.getViewportScrollPosition();nt(j,this._getExactOverlayY(D,b,wt)),nt(j,this._getExactOverlayX(D,b,wt))}else j.position="static";let dt="",bt=this._getOffset(D,"x"),kt=this._getOffset(D,"y");bt&&(dt+=`translateX(${bt}px) `),kt&&(dt+=`translateY(${kt}px)`),j.transform=dt.trim(),Ye.maxHeight&&(Q?j.maxHeight=(0,v.a1)(Ye.maxHeight):ke&&(j.maxHeight="")),Ye.maxWidth&&(Q?j.maxWidth=(0,v.a1)(Ye.maxWidth):ke&&(j.maxWidth="")),nt(this._pane.style,j)}_getExactOverlayY(b,D,j){let Q={top:"",bottom:""},ke=this._getOverlayPoint(D,this._overlayRect,b);return this._isPushed&&(ke=this._pushOverlayOnScreen(ke,this._overlayRect,j)),"bottom"===b.overlayY?Q.bottom=this._document.documentElement.clientHeight-(ke.y+this._overlayRect.height)+"px":Q.top=(0,v.a1)(ke.y),Q}_getExactOverlayX(b,D,j){let Ye,Q={left:"",right:""},ke=this._getOverlayPoint(D,this._overlayRect,b);return this._isPushed&&(ke=this._pushOverlayOnScreen(ke,this._overlayRect,j)),Ye=this._isRtl()?"end"===b.overlayX?"left":"right":"end"===b.overlayX?"right":"left","right"===Ye?Q.right=this._document.documentElement.clientWidth-(ke.x+this._overlayRect.width)+"px":Q.left=(0,v.a1)(ke.x),Q}_getScrollVisibility(){const b=this._getOriginRect(),D=this._pane.getBoundingClientRect(),j=this._scrollables.map(Q=>Q.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Se(b,j),isOriginOutsideView:Z(b,j),isOverlayClipped:Se(D,j),isOverlayOutsideView:Z(D,j)}}_subtractOverflows(b,...D){return D.reduce((j,Q)=>j-Math.max(Q,0),b)}_getNarrowedViewportRect(){const b=this._document.documentElement.clientWidth,D=this._document.documentElement.clientHeight,j=this._viewportRuler.getViewportScrollPosition();return{top:j.top+this._viewportMargin,left:j.left+this._viewportMargin,right:j.left+b-this._viewportMargin,bottom:j.top+D-this._viewportMargin,width:b-2*this._viewportMargin,height:D-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(b,D){return"x"===D?null==b.offsetX?this._offsetX:b.offsetX:null==b.offsetY?this._offsetY:b.offsetY}_validatePositions(){}_addPanelClasses(b){this._pane&&(0,v.FG)(b).forEach(D=>{""!==D&&-1===this._appliedPanelClasses.indexOf(D)&&(this._appliedPanelClasses.push(D),this._pane.classList.add(D))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(b=>{this._pane.classList.remove(b)}),this._appliedPanelClasses=[])}_getOriginRect(){const b=this._origin;if(b instanceof m.aKT)return b.nativeElement.getBoundingClientRect();if(b instanceof Element)return b.getBoundingClientRect();const D=b.width||0,j=b.height||0;return{top:b.y,bottom:b.y+j,left:b.x,right:b.x+D,height:j,width:D}}}function nt(W,b){for(let D in b)b.hasOwnProperty(D)&&(W[D]=b[D]);return W}function ie(W){if("number"!=typeof W&&null!=W){const[b,D]=W.split(Gt);return D&&"px"!==D?null:parseFloat(b)}return W||null}function F(W){return{top:Math.floor(W.top),right:Math.floor(W.right),bottom:Math.floor(W.bottom),left:Math.floor(W.left),width:Math.floor(W.width),height:Math.floor(W.height)}}const je="cdk-global-overlay-wrapper";class vt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(b){const D=b.getConfig();this._overlayRef=b,this._width&&!D.width&&b.updateSize({width:this._width}),this._height&&!D.height&&b.updateSize({height:this._height}),b.hostElement.classList.add(je),this._isDisposed=!1}top(b=""){return this._bottomOffset="",this._topOffset=b,this._alignItems="flex-start",this}left(b=""){return this._xOffset=b,this._xPosition="left",this}bottom(b=""){return this._topOffset="",this._bottomOffset=b,this._alignItems="flex-end",this}right(b=""){return this._xOffset=b,this._xPosition="right",this}start(b=""){return this._xOffset=b,this._xPosition="start",this}end(b=""){return this._xOffset=b,this._xPosition="end",this}width(b=""){return this._overlayRef?this._overlayRef.updateSize({width:b}):this._width=b,this}height(b=""){return this._overlayRef?this._overlayRef.updateSize({height:b}):this._height=b,this}centerHorizontally(b=""){return this.left(b),this._xPosition="center",this}centerVertically(b=""){return this.top(b),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const b=this._overlayRef.overlayElement.style,D=this._overlayRef.hostElement.style,j=this._overlayRef.getConfig(),{width:Q,height:ke,maxWidth:Ye,maxHeight:dt}=j,bt=!("100%"!==Q&&"100vw"!==Q||Ye&&"100%"!==Ye&&"100vw"!==Ye),kt=!("100%"!==ke&&"100vh"!==ke||dt&&"100%"!==dt&&"100vh"!==dt),wt=this._xPosition,Yt=this._xOffset,rt="rtl"===this._overlayRef.getConfig().direction;let Ht="",Ee="",Je="";bt?Je="flex-start":"center"===wt?(Je="center",rt?Ee=Yt:Ht=Yt):rt?"left"===wt||"end"===wt?(Je="flex-end",Ht=Yt):("right"===wt||"start"===wt)&&(Je="flex-start",Ee=Yt):"left"===wt||"start"===wt?(Je="flex-start",Ht=Yt):("right"===wt||"end"===wt)&&(Je="flex-end",Ee=Yt),b.position=this._cssPosition,b.marginLeft=bt?"0":Ht,b.marginTop=kt?"0":this._topOffset,b.marginBottom=this._bottomOffset,b.marginRight=bt?"0":Ee,D.justifyContent=Je,D.alignItems=kt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const b=this._overlayRef.overlayElement.style,D=this._overlayRef.hostElement,j=D.style;D.classList.remove(je),j.justifyContent=j.alignItems=b.marginTop=b.marginBottom=b.marginLeft=b.marginRight=b.position="",this._overlayRef=null,this._isDisposed=!0}}let Pt=(()=>{class W{constructor(D,j,Q,ke){this._viewportRuler=D,this._document=j,this._platform=Q,this._overlayContainer=ke}global(){return new vt}flexibleConnectedTo(D){return new Me(D,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(j){return new(j||W)(m.KVO(t.Xj),m.KVO(f.qQ),m.KVO(Y.OD),m.KVO(mt))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),At=0,Wt=(()=>{class W{constructor(D,j,Q,ke,Ye,dt,bt,kt,wt,Yt,rt,Ht){this.scrollStrategies=D,this._overlayContainer=j,this._componentFactoryResolver=Q,this._positionBuilder=ke,this._keyboardDispatcher=Ye,this._injector=dt,this._ngZone=bt,this._document=kt,this._directionality=wt,this._location=Yt,this._outsideClickDispatcher=rt,this._animationsModuleType=Ht}create(D){const j=this._createHostElement(),Q=this._createPaneElement(j),ke=this._createPortalOutlet(Q),Ye=new Pe(D);return Ye.direction=Ye.direction||this._directionality.value,new ht(ke,j,Q,Ye,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(D){const j=this._document.createElement("div");return j.id="cdk-overlay-"+At++,j.classList.add("cdk-overlay-pane"),D.appendChild(j),j}_createHostElement(){const D=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(D),D}_createPortalOutlet(D){return this._appRef||(this._appRef=this._injector.get(m.o8S)),new pe.aI(D,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(j){return new(j||W)(m.KVO(Ze),m.KVO(mt),m.KVO(m.OM3),m.KVO(Pt),m.KVO(et),m.KVO(m.zZn),m.KVO(m.SKi),m.KVO(f.qQ),m.KVO(le.dS),m.KVO(f.aZ),m.KVO(Le),m.KVO(m.bc$,8))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();const qt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],lt=new m.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const W=(0,m.WQX)(Wt);return()=>W.scrollStrategies.reposition()}});let Mt=(()=>{class W{constructor(D){this.elementRef=D}static#e=this.\u0275fac=function(j){return new(j||W)(m.rXU(m.aKT))};static#t=this.\u0275dir=m.FsC({type:W,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return W})(),ye=(()=>{class W{get offsetX(){return this._offsetX}set offsetX(D){this._offsetX=D,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(D){this._offsetY=D,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(D){this._disposeOnNavigation=D}constructor(D,j,Q,ke,Ye){this._overlay=D,this._dir=Ye,this._backdropSubscription=G.yU.EMPTY,this._attachSubscription=G.yU.EMPTY,this._detachSubscription=G.yU.EMPTY,this._positionSubscription=G.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,m.WQX)(m.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new m.bkB,this.positionChange=new m.bkB,this.attach=new m.bkB,this.detach=new m.bkB,this.overlayKeydown=new m.bkB,this.overlayOutsideClick=new m.bkB,this._templatePortal=new pe.VA(j,Q),this._scrollStrategyFactory=ke,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(D){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),D.origin&&this.open&&this._position.apply()),D.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=qt);const D=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=D.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=D.detachments().subscribe(()=>this.detach.emit()),D.keydownEvents().subscribe(j=>{this.overlayKeydown.next(j),j.keyCode===ze._f&&!this.disableClose&&!(0,ze.rp)(j)&&(j.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(j=>{this.overlayOutsideClick.next(j)})}_buildConfig(){const D=this._position=this.positionStrategy||this._createPositionStrategy(),j=new Pe({direction:this._dir,positionStrategy:D,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(j.width=this.width),(this.height||0===this.height)&&(j.height=this.height),(this.minWidth||0===this.minWidth)&&(j.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(j.minHeight=this.minHeight),this.backdropClass&&(j.backdropClass=this.backdropClass),this.panelClass&&(j.panelClass=this.panelClass),j}_updatePositionStrategy(D){const j=this.positions.map(Q=>({originX:Q.originX,originY:Q.originY,overlayX:Q.overlayX,overlayY:Q.overlayY,offsetX:Q.offsetX||this.offsetX,offsetY:Q.offsetY||this.offsetY,panelClass:Q.panelClass||void 0}));return D.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(j).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const D=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(D),D}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Mt?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(D=>{this.backdropClick.emit(D)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function ee(W,b=!1){return(0,ue.N)((D,j)=>{let Q=0;D.subscribe((0,X._)(j,ke=>{const Ye=W(ke,Q++);(Ye||b)&&j.next(ke),!Ye&&j.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(D=>{this._ngZone.run(()=>this.positionChange.emit(D)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(j){return new(j||W)(m.rXU(Wt),m.rXU(m.C4Q),m.rXU(m.c1b),m.rXU(lt),m.rXU(le.dS,8))};static#t=this.\u0275dir=m.FsC({type:W,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[m.Mj6.None,"cdkConnectedOverlayOrigin","origin"],positions:[m.Mj6.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[m.Mj6.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[m.Mj6.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[m.Mj6.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[m.Mj6.None,"cdkConnectedOverlayWidth","width"],height:[m.Mj6.None,"cdkConnectedOverlayHeight","height"],minWidth:[m.Mj6.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[m.Mj6.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[m.Mj6.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[m.Mj6.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[m.Mj6.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[m.Mj6.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[m.Mj6.None,"cdkConnectedOverlayOpen","open"],disableClose:[m.Mj6.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[m.Mj6.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",m.L39],lockPosition:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",m.L39],flexibleDimensions:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",m.L39],growAfterOpen:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",m.L39],push:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",m.L39],disposeOnNavigation:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",m.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[m.GFd,m.OA$]})}return W})();const J={provide:lt,deps:[Wt],useFactory:function st(W){return()=>W.scrollStrategies.reposition()}};let He=(()=>{class W{static#e=this.\u0275fac=function(j){return new(j||W)};static#t=this.\u0275mod=m.$C({type:W});static#n=this.\u0275inj=m.G2t({providers:[Wt,J],imports:[le.jI,pe.jc,t.E9,t.E9]})}return W})()},6939:(Lt,ct,C)=>{"use strict";C.d(ct,{A8:()=>X,I3:()=>Fe,VA:()=>ee,aI:()=>G,jc:()=>he,lb:()=>pe});var t=C(4438),f=C(177);class ue{attach(Se){return this._attachedHost=Se,Se.attach(this)}detach(){let Se=this._attachedHost;null!=Se&&(this._attachedHost=null,Se.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Se){this._attachedHost=Se}}class X extends ue{constructor(Se,ae,Ze,Pe,We){super(),this.component=Se,this.viewContainerRef=ae,this.injector=Ze,this.componentFactoryResolver=Pe,this.projectableNodes=We}}class ee extends ue{constructor(Se,ae,Ze,Pe){super(),this.templateRef=Se,this.viewContainerRef=ae,this.context=Ze,this.injector=Pe}get origin(){return this.templateRef.elementRef}attach(Se,ae=this.context){return this.context=ae,super.attach(Se)}detach(){return this.context=void 0,super.detach()}}class le extends ue{constructor(Se){super(),this.element=Se instanceof t.aKT?Se.nativeElement:Se}}class pe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Se){return Se instanceof X?(this._attachedPortal=Se,this.attachComponentPortal(Se)):Se instanceof ee?(this._attachedPortal=Se,this.attachTemplatePortal(Se)):this.attachDomPortal&&Se instanceof le?(this._attachedPortal=Se,this.attachDomPortal(Se)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Se){this._disposeFn=Se}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class G extends pe{constructor(Se,ae,Ze,Pe,We){super(),this.outletElement=Se,this._componentFactoryResolver=ae,this._appRef=Ze,this._defaultInjector=Pe,this.attachDomPortal=qe=>{const Be=qe.element,tt=this._document.createComment("dom-portal");Be.parentNode.insertBefore(tt,Be),this.outletElement.appendChild(Be),this._attachedPortal=qe,super.setDisposeFn(()=>{tt.parentNode&&tt.parentNode.replaceChild(Be,tt)})},this._document=We}attachComponentPortal(Se){const Ze=(Se.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Se.component);let Pe;return Se.viewContainerRef?(Pe=Se.viewContainerRef.createComponent(Ze,Se.viewContainerRef.length,Se.injector||Se.viewContainerRef.injector,Se.projectableNodes||void 0),this.setDisposeFn(()=>Pe.destroy())):(Pe=Ze.create(Se.injector||this._defaultInjector||t.zZn.NULL),this._appRef.attachView(Pe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Pe.hostView),Pe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Pe)),this._attachedPortal=Se,Pe}attachTemplatePortal(Se){let ae=Se.viewContainerRef,Ze=ae.createEmbeddedView(Se.templateRef,Se.context,{injector:Se.injector});return Ze.rootNodes.forEach(Pe=>this.outletElement.appendChild(Pe)),Ze.detectChanges(),this.setDisposeFn(()=>{let Pe=ae.indexOf(Ze);-1!==Pe&&ae.remove(Pe)}),this._attachedPortal=Se,Ze}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Se){return Se.hostView.rootNodes[0]}}let Fe=(()=>{class Z extends pe{constructor(ae,Ze,Pe){super(),this._componentFactoryResolver=ae,this._viewContainerRef=Ze,this._isInitialized=!1,this.attached=new t.bkB,this.attachDomPortal=We=>{const qe=We.element,Be=this._document.createComment("dom-portal");We.setAttachedHost(this),qe.parentNode.insertBefore(Be,qe),this._getRootNode().appendChild(qe),this._attachedPortal=We,super.setDisposeFn(()=>{Be.parentNode&&Be.parentNode.replaceChild(qe,Be)})},this._document=Pe}get portal(){return this._attachedPortal}set portal(ae){this.hasAttached()&&!ae&&!this._isInitialized||(this.hasAttached()&&super.detach(),ae&&super.attach(ae),this._attachedPortal=ae||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(ae){ae.setAttachedHost(this);const Ze=null!=ae.viewContainerRef?ae.viewContainerRef:this._viewContainerRef,We=(ae.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ae.component),qe=Ze.createComponent(We,Ze.length,ae.injector||Ze.injector,ae.projectableNodes||void 0);return Ze!==this._viewContainerRef&&this._getRootNode().appendChild(qe.hostView.rootNodes[0]),super.setDisposeFn(()=>qe.destroy()),this._attachedPortal=ae,this._attachedRef=qe,this.attached.emit(qe),qe}attachTemplatePortal(ae){ae.setAttachedHost(this);const Ze=this._viewContainerRef.createEmbeddedView(ae.templateRef,ae.context,{injector:ae.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ae,this._attachedRef=Ze,this.attached.emit(Ze),Ze}_getRootNode(){const ae=this._viewContainerRef.element.nativeElement;return ae.nodeType===ae.ELEMENT_NODE?ae:ae.parentNode}static#e=this.\u0275fac=function(Ze){return new(Ze||Z)(t.rXU(t.OM3),t.rXU(t.c1b),t.rXU(f.qQ))};static#t=this.\u0275dir=t.FsC({type:Z,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[t.Mj6.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[t.Vt3]})}return Z})(),he=(()=>{class Z{static#e=this.\u0275fac=function(Ze){return new(Ze||Z)};static#t=this.\u0275mod=t.$C({type:Z});static#n=this.\u0275inj=t.G2t({})}return Z})()},494:(Lt,ct,C)=>{"use strict";C.d(ct,{yg:()=>ie,E$:()=>Mt,d6:()=>qt,R:()=>_e,E9:()=>He,Xj:()=>je});var t=C(4085),f=C(4438),m=C(1413),v=C(7673),Y=C(1985),Ve=C(3726),be=C(536),re=C(5007),ue=C(8359),X=C(4402),ee=C(3294),le=C(3798),pe=C(5964),K=C(6977),G=C(9172),fe=C(9974),ze=C(4360),Fe=C(5558),Ge=C(2771),he=C(7647),Z=C(6860),Se=C(177),ae=C(8203),Ze=C(17);class Pe{}class qe extends Pe{constructor(W){super(),this._data=W}connect(){return(0,X.A)(this._data)?this._data:(0,v.of)(this._data)}disconnect(){}}var Be=function(me){return me[me.REPLACED=0]="REPLACED",me[me.INSERTED=1]="INSERTED",me[me.MOVED=2]="MOVED",me[me.REMOVED=3]="REMOVED",me}(Be||{});const tt=new f.nKC("_ViewRepeater");class pt{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(W,b,D,j,Q){W.forEachOperation((ke,Ye,dt)=>{let bt,kt;null==ke.previousIndex?(bt=this._insertView(()=>D(ke,Ye,dt),dt,b,j(ke)),kt=bt?Be.INSERTED:Be.REPLACED):null==dt?(this._detachAndCacheView(Ye,b),kt=Be.REMOVED):(bt=this._moveView(Ye,dt,b,j(ke)),kt=Be.MOVED),Q&&Q({context:bt?.context,operation:kt,record:ke})})}detach(){for(const W of this._viewCache)W.destroy();this._viewCache=[]}_insertView(W,b,D,j){const Q=this._insertViewFromCache(b,D);if(Q)return void(Q.context.$implicit=j);const ke=W();return D.createEmbeddedView(ke.templateRef,ke.context,ke.index)}_detachAndCacheView(W,b){const D=b.detach(W);this._maybeCacheView(D,b)}_moveView(W,b,D,j){const Q=D.get(W);return D.move(Q,b),Q.context.$implicit=j,Q}_maybeCacheView(W,b){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(W);else{const D=b.indexOf(W);-1===D?W.destroy():b.remove(D)}}_insertViewFromCache(W,b){const D=this._viewCache.pop();return D&&b.insert(D,W),D||null}}const ht=["contentWrapper"],xt=["*"],Gt=new f.nKC("VIRTUAL_SCROLL_STRATEGY");class Me{constructor(W,b,D){this._scrolledIndexChange=new m.B,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,ee.F)()),this._viewport=null,this._itemSize=W,this._minBufferPx=b,this._maxBufferPx=D}attach(W){this._viewport=W,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(W,b,D){this._itemSize=W,this._minBufferPx=b,this._maxBufferPx=D,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(W,b){this._viewport&&this._viewport.scrollToOffset(W*this._itemSize,b)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const W=this._viewport.getRenderedRange(),b={start:W.start,end:W.end},D=this._viewport.getViewportSize(),j=this._viewport.getDataLength();let Q=this._viewport.measureScrollOffset(),ke=this._itemSize>0?Q/this._itemSize:0;if(b.end>j){const dt=Math.ceil(D/this._itemSize),bt=Math.max(0,Math.min(ke,j-dt));ke!=bt&&(ke=bt,Q=bt*this._itemSize,b.start=Math.floor(ke)),b.end=Math.max(0,Math.min(j,b.start+dt))}const Ye=Q-b.start*this._itemSize;if(Ye<this._minBufferPx&&0!=b.start){const dt=Math.ceil((this._maxBufferPx-Ye)/this._itemSize);b.start=Math.max(0,b.start-dt),b.end=Math.min(j,Math.ceil(ke+(D+this._minBufferPx)/this._itemSize))}else{const dt=b.end*this._itemSize-(Q+D);if(dt<this._minBufferPx&&b.end!=j){const bt=Math.ceil((this._maxBufferPx-dt)/this._itemSize);bt>0&&(b.end=Math.min(j,b.end+bt),b.start=Math.max(0,Math.floor(ke-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(b),this._viewport.setRenderedContentOffset(this._itemSize*b.start),this._scrolledIndexChange.next(Math.floor(ke))}}function nt(me){return me._scrollStrategy}let ie=(()=>{class me{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Me(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(b){this._itemSize=(0,t.OE)(b)}get minBufferPx(){return this._minBufferPx}set minBufferPx(b){this._minBufferPx=(0,t.OE)(b)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(b){this._maxBufferPx=(0,t.OE)(b)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(D){return new(D||me)};static#t=this.\u0275dir=f.FsC({type:me,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[f.Jv_([{provide:Gt,useFactory:nt,deps:[(0,f.Rfq)(()=>me)]}]),f.OA$]})}return me})(),_e=(()=>{class me{constructor(b,D,j){this._ngZone=b,this._platform=D,this._scrolled=new m.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=j}register(b){this.scrollContainers.has(b)||this.scrollContainers.set(b,b.elementScrolled().subscribe(()=>this._scrolled.next(b)))}deregister(b){const D=this.scrollContainers.get(b);D&&(D.unsubscribe(),this.scrollContainers.delete(b))}scrolled(b=20){return this._platform.isBrowser?new Y.c(D=>{this._globalSubscription||this._addGlobalListener();const j=b>0?this._scrolled.pipe((0,le.Z)(b)).subscribe(D):this._scrolled.subscribe(D);return this._scrolledCount++,()=>{j.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,v.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((b,D)=>this.deregister(D)),this._scrolled.complete()}ancestorScrolled(b,D){const j=this.getAncestorScrollContainers(b);return this.scrolled(D).pipe((0,pe.p)(Q=>!Q||j.indexOf(Q)>-1))}getAncestorScrollContainers(b){const D=[];return this.scrollContainers.forEach((j,Q)=>{this._scrollableContainsElement(Q,b)&&D.push(Q)}),D}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(b,D){let j=(0,t.i8)(D),Q=b.getElementRef().nativeElement;do{if(j==Q)return!0}while(j=j.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const b=this._getWindow();return(0,Ve.R)(b.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(D){return new(D||me)(f.KVO(f.SKi),f.KVO(Z.OD),f.KVO(Se.qQ,8))};static#t=this.\u0275prov=f.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})(),ne=(()=>{class me{constructor(b,D,j,Q){this.elementRef=b,this.scrollDispatcher=D,this.ngZone=j,this.dir=Q,this._destroyed=new m.B,this._elementScrolled=new Y.c(ke=>this.ngZone.runOutsideAngular(()=>(0,Ve.R)(this.elementRef.nativeElement,"scroll").pipe((0,K.Q)(this._destroyed)).subscribe(ke)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(b){const D=this.elementRef.nativeElement,j=this.dir&&"rtl"==this.dir.value;null==b.left&&(b.left=j?b.end:b.start),null==b.right&&(b.right=j?b.start:b.end),null!=b.bottom&&(b.top=D.scrollHeight-D.clientHeight-b.bottom),j&&(0,Z.BD)()!=Z.r5.NORMAL?(null!=b.left&&(b.right=D.scrollWidth-D.clientWidth-b.left),(0,Z.BD)()==Z.r5.INVERTED?b.left=b.right:(0,Z.BD)()==Z.r5.NEGATED&&(b.left=b.right?-b.right:b.right)):null!=b.right&&(b.left=D.scrollWidth-D.clientWidth-b.right),this._applyScrollToOptions(b)}_applyScrollToOptions(b){const D=this.elementRef.nativeElement;(0,Z.CZ)()?D.scrollTo(b):(null!=b.top&&(D.scrollTop=b.top),null!=b.left&&(D.scrollLeft=b.left))}measureScrollOffset(b){const D="left",j="right",Q=this.elementRef.nativeElement;if("top"==b)return Q.scrollTop;if("bottom"==b)return Q.scrollHeight-Q.clientHeight-Q.scrollTop;const ke=this.dir&&"rtl"==this.dir.value;return"start"==b?b=ke?j:D:"end"==b&&(b=ke?D:j),ke&&(0,Z.BD)()==Z.r5.INVERTED?b==D?Q.scrollWidth-Q.clientWidth-Q.scrollLeft:Q.scrollLeft:ke&&(0,Z.BD)()==Z.r5.NEGATED?b==D?Q.scrollLeft+Q.scrollWidth-Q.clientWidth:-Q.scrollLeft:b==D?Q.scrollLeft:Q.scrollWidth-Q.clientWidth-Q.scrollLeft}static#e=this.\u0275fac=function(D){return new(D||me)(f.rXU(f.aKT),f.rXU(_e),f.rXU(f.SKi),f.rXU(ae.dS,8))};static#t=this.\u0275dir=f.FsC({type:me,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return me})(),je=(()=>{class me{constructor(b,D,j){this._platform=b,this._change=new m.B,this._changeListener=Q=>{this._change.next(Q)},this._document=j,D.runOutsideAngular(()=>{if(b.isBrowser){const Q=this._getWindow();Q.addEventListener("resize",this._changeListener),Q.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const b=this._getWindow();b.removeEventListener("resize",this._changeListener),b.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const b={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),b}getViewportRect(){const b=this.getViewportScrollPosition(),{width:D,height:j}=this.getViewportSize();return{top:b.top,left:b.left,bottom:b.top+j,right:b.left+D,height:j,width:D}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const b=this._document,D=this._getWindow(),j=b.documentElement,Q=j.getBoundingClientRect();return{top:-Q.top||b.body.scrollTop||D.scrollY||j.scrollTop||0,left:-Q.left||b.body.scrollLeft||D.scrollX||j.scrollLeft||0}}change(b=20){return b>0?this._change.pipe((0,le.Z)(b)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const b=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:b.innerWidth,height:b.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(D){return new(D||me)(f.KVO(Z.OD),f.KVO(f.SKi),f.KVO(Se.qQ,8))};static#t=this.\u0275prov=f.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})();const vt=new f.nKC("VIRTUAL_SCROLLABLE");let Pt=(()=>{class me extends ne{constructor(b,D,j,Q){super(b,D,j,Q)}measureViewportSize(b){const D=this.elementRef.nativeElement;return"horizontal"===b?D.clientWidth:D.clientHeight}static#e=this.\u0275fac=function(D){return new(D||me)(f.rXU(f.aKT),f.rXU(_e),f.rXU(f.SKi),f.rXU(ae.dS,8))};static#t=this.\u0275dir=f.FsC({type:me,features:[f.Vt3]})}return me})();const Wt=typeof requestAnimationFrame<"u"?be.X:re.$;let qt=(()=>{class me extends Pt{get orientation(){return this._orientation}set orientation(b){this._orientation!==b&&(this._orientation=b,this._calculateSpacerSize())}constructor(b,D,j,Q,ke,Ye,dt,bt){super(b,Ye,j,ke),this.elementRef=b,this._changeDetectorRef=D,this._scrollStrategy=Q,this.scrollable=bt,this._platform=(0,f.WQX)(Z.OD),this._detachedSubject=new m.B,this._renderedRangeSubject=new m.B,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new Y.c(kt=>this._scrollStrategy.scrolledIndexChange.subscribe(wt=>Promise.resolve().then(()=>this.ngZone.run(()=>kt.next(wt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ue.yU.EMPTY,this._viewportChanges=dt.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,G.Z)(null),(0,le.Z)(0,Wt),(0,K.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(b){this.ngZone.runOutsideAngular(()=>{this._forOf=b,this._forOf.dataStream.pipe((0,K.Q)(this._detachedSubject)).subscribe(D=>{const j=D.length;j!==this._dataLength&&(this._dataLength=j,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(b){return this.getElementRef().nativeElement.getBoundingClientRect()[b]}setTotalContentSize(b){this._totalContentSize!==b&&(this._totalContentSize=b,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(b){(function At(me,W){return me.start==W.start&&me.end==W.end})(this._renderedRange,b)||(this.appendOnly&&(b={start:0,end:Math.max(this._renderedRange.end,b.end)}),this._renderedRangeSubject.next(this._renderedRange=b),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(b,D="to-start"){b=this.appendOnly&&"to-start"===D?0:b;const Q="horizontal"==this.orientation,ke=Q?"X":"Y";let dt=`translate${ke}(${Number((Q&&this.dir&&"rtl"==this.dir.value?-1:1)*b)}px)`;this._renderedContentOffset=b,"to-end"===D&&(dt+=` translate${ke}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=dt&&(this._renderedContentTransform=dt,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(b,D="auto"){const j={behavior:D};"horizontal"===this.orientation?j.start=b:j.top=b,this.scrollable.scrollTo(j)}scrollToIndex(b,D="auto"){this._scrollStrategy.scrollToIndex(b,D)}measureScrollOffset(b){let D;return D=this.scrollable==this?j=>super.measureScrollOffset(j):j=>this.scrollable.measureScrollOffset(j),Math.max(0,D(b??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(b){let D;const j="left",Q="right",ke="rtl"==this.dir?.value;D="start"==b?ke?Q:j:"end"==b?ke?j:Q:b||("horizontal"===this.orientation?"left":"top");const Ye=this.scrollable.measureBoundingClientRectWithScrollOffset(D);return this.elementRef.nativeElement.getBoundingClientRect()[D]-Ye}measureRenderedContentSize(){const b=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?b.offsetWidth:b.offsetHeight}measureRangeSize(b){return this._forOf?this._forOf.measureRangeSize(b,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(b){b&&this._runAfterChangeDetection.push(b),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const b=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const D of b)D()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(D){return new(D||me)(f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(f.SKi),f.rXU(Gt,8),f.rXU(ae.dS,8),f.rXU(_e),f.rXU(je),f.rXU(vt,8))};static#t=this.\u0275cmp=f.VBU({type:me,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(D,j){if(1&D&&f.GBs(ht,7),2&D){let Q;f.mGM(Q=f.lsd())&&(j._contentWrapper=Q.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(D,j){2&D&&f.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===j.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==j.orientation)},inputs:{orientation:"orientation",appendOnly:[f.Mj6.HasDecoratorInputTransform,"appendOnly","appendOnly",f.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[f.Jv_([{provide:ne,useFactory:(b,D)=>b||D,deps:[[new f.Xx1,new f.y_5(vt)],me]}]),f.GFd,f.Vt3,f.aNF],ngContentSelectors:xt,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(D,j){1&D&&(f.NAR(),f.j41(0,"div",1,0),f.SdG(2),f.k0s(),f.nrm(3,"div",2)),2&D&&(f.R7$(3),f.xc7("width",j._totalContentWidth)("height",j._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return me})();function lt(me,W,b){if(!b.getBoundingClientRect)return 0;const j=b.getBoundingClientRect();return"horizontal"===me?"start"===W?j.left:j.right:"start"===W?j.top:j.bottom}let Mt=(()=>{class me{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(b){this._cdkVirtualForOf=b,function We(me){return me&&"function"==typeof me.connect&&!(me instanceof Ze.G)}(b)?this._dataSourceChanges.next(b):this._dataSourceChanges.next(new qe((0,X.A)(b)?b:Array.from(b||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(b){this._needsUpdate=!0,this._cdkVirtualForTrackBy=b?(D,j)=>b(D+(this._renderedRange?this._renderedRange.start:0),j):void 0}set cdkVirtualForTemplate(b){b&&(this._needsUpdate=!0,this._template=b)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(b){this._viewRepeater.viewCacheSize=(0,t.OE)(b)}constructor(b,D,j,Q,ke,Ye){this._viewContainerRef=b,this._template=D,this._differs=j,this._viewRepeater=Q,this._viewport=ke,this.viewChange=new m.B,this._dataSourceChanges=new m.B,this.dataStream=this._dataSourceChanges.pipe((0,G.Z)(null),function xe(){return(0,fe.N)((me,W)=>{let b,D=!1;me.subscribe((0,ze._)(W,j=>{const Q=b;b=j,D&&W.next([Q,j]),D=!0}))})}(),(0,Fe.n)(([dt,bt])=>this._changeDataSource(dt,bt)),function Te(me,W,b){let D,j=!1;return me&&"object"==typeof me?({bufferSize:D=1/0,windowTime:W=1/0,refCount:j=!1,scheduler:b}=me):D=me??1/0,(0,he.u)({connector:()=>new Ge.m(D,W,b),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:j})}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new m.B,this.dataStream.subscribe(dt=>{this._data=dt,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,K.Q)(this._destroyed)).subscribe(dt=>{this._renderedRange=dt,this.viewChange.observers.length&&Ye.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(b,D){if(b.start>=b.end)return 0;const j=b.start-this._renderedRange.start,Q=b.end-b.start;let ke,Ye;for(let dt=0;dt<Q;dt++){const bt=this._viewContainerRef.get(dt+j);if(bt&&bt.rootNodes.length){ke=Ye=bt.rootNodes[0];break}}for(let dt=Q-1;dt>-1;dt--){const bt=this._viewContainerRef.get(dt+j);if(bt&&bt.rootNodes.length){Ye=bt.rootNodes[bt.rootNodes.length-1];break}}return ke&&Ye?lt(D,"end",Ye)-lt(D,"start",ke):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const b=this._differ.diff(this._renderedItems);b?this._applyChanges(b):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((b,D)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(b,D):D)),this._needsUpdate=!0)}_changeDataSource(b,D){return b&&b.disconnect(this),this._needsUpdate=!0,D?D.connect(this):(0,v.of)()}_updateContext(){const b=this._data.length;let D=this._viewContainerRef.length;for(;D--;){const j=this._viewContainerRef.get(D);j.context.index=this._renderedRange.start+D,j.context.count=b,this._updateComputedContextProperties(j.context),j.detectChanges()}}_applyChanges(b){this._viewRepeater.applyChanges(b,this._viewContainerRef,(Q,ke,Ye)=>this._getEmbeddedViewArgs(Q,Ye),Q=>Q.item),b.forEachIdentityChange(Q=>{this._viewContainerRef.get(Q.currentIndex).context.$implicit=Q.item});const D=this._data.length;let j=this._viewContainerRef.length;for(;j--;){const Q=this._viewContainerRef.get(j);Q.context.index=this._renderedRange.start+j,Q.context.count=D,this._updateComputedContextProperties(Q.context)}}_updateComputedContextProperties(b){b.first=0===b.index,b.last=b.index===b.count-1,b.even=b.index%2==0,b.odd=!b.even}_getEmbeddedViewArgs(b,D){return{templateRef:this._template,context:{$implicit:b.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:D}}static#e=this.\u0275fac=function(D){return new(D||me)(f.rXU(f.c1b),f.rXU(f.C4Q),f.rXU(f._q3),f.rXU(tt),f.rXU(qt,4),f.rXU(f.SKi))};static#t=this.\u0275dir=f.FsC({type:me,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[f.Jv_([{provide:tt,useClass:pt}])]})}return me})(),J=(()=>{class me{static#e=this.\u0275fac=function(D){return new(D||me)};static#t=this.\u0275mod=f.$C({type:me});static#n=this.\u0275inj=f.G2t({})}return me})(),He=(()=>{class me{static#e=this.\u0275fac=function(D){return new(D||me)};static#t=this.\u0275mod=f.$C({type:me});static#n=this.\u0275inj=f.G2t({imports:[ae.jI,J,ae.jI,J]})}return me})()},5013:(Lt,ct,C)=>{"use strict";C.d(ct,{By:()=>Xu,Ay:()=>Hl});var t=C(4438),f=C(177),m=C(4341),v=C(8927),Y=C(2358),Ve=C(9247),be=C(1875),re=C(1011),ue=C(513),X=C(1635),ee=C(1413),le=C(5964),pe=C(152),K=C(6977),G=C(317),fe=C(6969),ze=C(713),xe=C(6035),Fe=C(6841),Ge=C(7806),he=C(5463),Te=C(5154),Z=C(8203);function Se(h,M){if(1&h&&(t.qex(0),t.EFF(1),t.bVm()),2&h){const r=t.XpG(3);t.R7$(),t.JRh(r.nzTitle)}}function ae(h,M){if(1&h&&(t.j41(0,"div",7),t.DNE(1,Se,2,1,"ng-container",9),t.k0s()),2&h){const r=t.XpG(2);t.R7$(),t.Y8G("nzStringTemplateOutlet",r.nzTitle)}}function Ze(h,M){if(1&h&&(t.qex(0),t.EFF(1),t.bVm()),2&h){const r=t.XpG(2);t.R7$(),t.JRh(r.nzContent)}}function Pe(h,M){if(1&h&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.nrm(3,"span",5),t.k0s(),t.j41(4,"div",6)(5,"div"),t.DNE(6,ae,2,1,"div",7),t.j41(7,"div",8),t.DNE(8,Ze,2,1,"ng-container",9),t.k0s()()()()()),2&h){const r=t.XpG();t.AVh("ant-popover-rtl","rtl"===r.dir),t.Y8G("ngClass",r._classMap)("ngStyle",r.nzOverlayStyle)("@.disabled",!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("nzNoAnimation",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),t.R7$(6),t.vxM(6,r.nzTitle?6:-1),t.R7$(2),t.Y8G("nzStringTemplateOutlet",r.nzContent)}}let qe=(()=>{class h extends Te.ME{getProxyPropertyMap(){return{nzPopoverBackdrop:["nzBackdrop",()=>this.nzPopoverBackdrop],...super.getProxyPropertyMap()}}constructor(r,d,p,S,se){super(r,d,p,S,se),this._nzModuleName="popover",this.trigger="hover",this.placement="top",this.nzPopoverBackdrop=!1,this.visibleChange=new t.bkB,this.componentRef=this.hostView.createComponent(Be)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.aKT),t.rXU(t.c1b),t.rXU(t.sFG),t.rXU(Fe.z,9),t.rXU(xe.yx))};static#t=this.\u0275dir=t.FsC({type:h,selectors:[["","nz-popover",""]],hostVars:2,hostBindings:function(d,p){2&d&&t.AVh("ant-popover-open",p.visible)},inputs:{arrowPointAtCenter:[t.Mj6.None,"nzPopoverArrowPointAtCenter","arrowPointAtCenter"],title:[t.Mj6.None,"nzPopoverTitle","title"],content:[t.Mj6.None,"nzPopoverContent","content"],directiveTitle:[t.Mj6.None,"nz-popover","directiveTitle"],trigger:[t.Mj6.None,"nzPopoverTrigger","trigger"],placement:[t.Mj6.None,"nzPopoverPlacement","placement"],origin:[t.Mj6.None,"nzPopoverOrigin","origin"],visible:[t.Mj6.None,"nzPopoverVisible","visible"],mouseEnterDelay:[t.Mj6.None,"nzPopoverMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[t.Mj6.None,"nzPopoverMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[t.Mj6.None,"nzPopoverOverlayClassName","overlayClassName"],overlayStyle:[t.Mj6.None,"nzPopoverOverlayStyle","overlayStyle"],nzPopoverBackdrop:"nzPopoverBackdrop"},outputs:{visibleChange:"nzPopoverVisibleChange"},exportAs:["nzPopover"],standalone:!0,features:[t.Vt3]})}return(0,X.Cg)([(0,G.H3)()],h.prototype,"arrowPointAtCenter",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzPopoverBackdrop",void 0),h})(),Be=(()=>{class h extends Te.VJ{constructor(r,d,p){super(r,d,p),this._prefix="ant-popover"}get hasBackdrop(){return"click"===this.nzTrigger&&this.nzBackdrop}isEmpty(){return(0,Te.t)(this.nzTitle)&&(0,Te.t)(this.nzContent)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc),t.rXU(Z.dS,8),t.rXU(Fe.z,9))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-popover"]],exportAs:["nzPopoverComponent"],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],[1,"ant-popover",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-arrow-content"],["role","tooltip",1,"ant-popover-inner"],[1,"ant-popover-title"],[1,"ant-popover-inner-content"],[4,"nzStringTemplateOutlet"]],template:function(d,p){if(1&d){const S=t.RV6();t.DNE(0,Pe,9,9,"ng-template",1,0,t.C5r),t.bIt("overlayOutsideClick",function(Ue){return t.eBV(S),t.Njj(p.onClickOutside(Ue))})("detach",function(){return t.eBV(S),t.Njj(p.hide())})("positionChange",function(Ue){return t.eBV(S),t.Njj(p.onPositionChange(Ue))})}2&d&&t.Y8G("cdkConnectedOverlayHasBackdrop",p.hasBackdrop)("cdkConnectedOverlayOrigin",p.origin)("cdkConnectedOverlayPositions",p._positions)("cdkConnectedOverlayOpen",p._visible)("cdkConnectedOverlayPush",p.cdkConnectedOverlayPush)("nzArrowPointAtCenter",p.nzArrowPointAtCenter)},dependencies:[fe.z_,fe.WB,he.$_,he.vT,f.YU,f.B3,Fe.z,Ge.C,Ge.m],encapsulation:2,data:{animation:[ze.uX]},changeDetection:0})}return h})();var Xe=C(4369),pt=C(2047),et=C(1997);const Le=["*"],mt=["slider"],ht=["transform"];function xt(h,M){}function Gt(h,M){if(1&h&&(t.qex(0),t.DNE(1,xt,0,0,"ng-template",7),t.bVm()),2&h){const r=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",r.panelRenderHeader)}}function Me(h,M){if(1&h){const r=t.RV6();t.qex(0),t.j41(1,"color-slider",8),t.bIt("nzOnChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.handleChange(p,"alpha"))})("nzOnChangeComplete",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.nzOnChangeComplete.emit(p))}),t.k0s(),t.bVm()}if(2&h){const r=t.XpG();t.R7$(),t.Y8G("color",r.colorValue)("value",r.toRgbString)("gradientColors",r.gradientColors)("disabled",r.disabled)}}function nt(h,M){}function ie(h,M){if(1&h&&(t.qex(0),t.DNE(1,nt,0,0,"ng-template",7),t.bVm()),2&h){const r=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",r.panelRenderFooter)}}function F(h,M){1&h&&(t.j41(0,"div",8)(1,"nz-input-group",9),t.nrm(2,"input",10),t.k0s()())}function _e(h,M){if(1&h&&(t.j41(0,"div",11)(1,"div",12),t.nrm(2,"nz-input-number",13),t.k0s(),t.j41(3,"div",12),t.nrm(4,"nz-input-number",14),t.k0s(),t.j41(5,"div",12),t.nrm(6,"nz-input-number",15),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.Y8G("nzMin",0)("nzMax",360)("nzStep",1)("nzPrecision",0),t.R7$(2),t.Y8G("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",r.formatterPercent)("nzParser",r.parserPercent),t.R7$(2),t.Y8G("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",r.formatterPercent)("nzParser",r.parserPercent)}}function ne(h,M){1&h&&(t.j41(0,"div",16)(1,"div",17),t.nrm(2,"nz-input-number",18),t.k0s(),t.j41(3,"div",17),t.nrm(4,"nz-input-number",19),t.k0s(),t.j41(5,"div",17),t.nrm(6,"nz-input-number",20),t.k0s()()),2&h&&(t.R7$(2),t.Y8G("nzMin",0)("nzMax",255)("nzStep",1),t.R7$(2),t.Y8G("nzMin",0)("nzMax",255)("nzStep",1),t.R7$(2),t.Y8G("nzMin",0)("nzMax",255)("nzStep",1))}function Oe(h,M){if(1&h&&(t.j41(0,"div",7),t.nrm(1,"nz-input-number",21),t.k0s()),2&h){const r=t.XpG();t.R7$(),t.Y8G("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",r.formatterPercent)("nzParser",r.parserPercent)}}function je(h,M){if(1&h&&t.nrm(0,"nz-color-block",4),2&h){const r=t.XpG();t.Y8G("nzColor",r.blockColor)("nzSize",r.nzSize)}}function vt(h,M){}function Pt(h,M){if(1&h&&t.DNE(0,vt,0,0,"ng-template",6),2&h){const r=t.XpG();t.Y8G("ngTemplateOutlet",r.nzFlipFlop)}}function At(h,M){if(1&h&&(t.j41(0,"div",5),t.EFF(1),t.k0s()),2&h){const r=t.XpG();t.R7$(),t.SpI(" ",r.showText," ")}}function Wt(h,M){if(1&h){const r=t.RV6();t.j41(0,"ng-antd-color-picker",7),t.bIt("nzOnChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.colorChange(p))}),t.k0s()}if(2&h){const r=t.XpG(),d=t.sdS(7),p=t.sdS(9);t.Y8G("value",r.nzValue)("defaultValue",r.nzDefaultValue)("disabled",r.nzDisabled)("panelRenderHeader",d)("panelRenderFooter",p)("disabledAlpha",r.nzDisabledAlpha)}}function qt(h,M){1&h&&t.eu8(0)}function lt(h,M){if(1&h&&t.DNE(0,qt,1,0,"ng-container",12),2&h){const r=t.XpG(3);t.Y8G("ngTemplateOutlet",r.nzTitle)}}function Mt(h,M){if(1&h&&t.nrm(0,"span",10),2&h){const r=t.XpG(3);t.Y8G("innerHTML",r.nzTitle,t.npT)}}function ye(h,M){if(1&h){const r=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){t.eBV(r);const p=t.XpG(3);return t.Njj(p.clearColorHandle())}),t.k0s()}}function st(h,M){if(1&h&&(t.j41(0,"div",8)(1,"div",9),t.DNE(2,lt,1,1,"ng-container")(3,Mt,1,1,"span",10),t.k0s(),t.DNE(4,ye,1,0,"div",11),t.k0s()),2&h){const r=t.XpG(2);t.R7$(2),t.vxM(2,r.isNzTitleTemplateRef?2:-1),t.R7$(),t.vxM(3,r.isNzTitleNonEmptyString?3:-1),t.R7$(),t.vxM(4,r.nzAllowClear?4:-1)}}function J(h,M){if(1&h&&t.DNE(0,st,5,3,"div",8),2&h){const r=t.XpG();t.vxM(0,r.nzTitle||r.nzAllowClear?0:-1)}}function He(h,M){if(1&h){const r=t.RV6();t.j41(0,"nz-color-format",14),t.bIt("formatChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.formatChange(p))})("nzOnFormatChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.nzOnFormatChange.emit(p))}),t.k0s()}if(2&h){const r=t.XpG();t.Y8G("colorValue",r.blockColor)("clearColor",r.clearColor)("format",r.nzFormat)("nzDisabledAlpha",r.nzDisabledAlpha)}}const me=h=>Math.round(Number(h||0));class b extends Xe.q{constructor(M){super((h=>{if(h&&"object"==typeof h&&"h"in h&&"b"in h){const{b:M,...r}=h;return{...r,v:M}}return"string"==typeof h&&/hsb/.test(h)?h.replace(/hsb/,"hsv"):h})(M))}toHsbString(){const M=this.toHsb(),r=me(100*M.s),d=me(100*M.b),p=me(M.h),S=M.a,se=`hsb(${p}, ${r}%, ${d}%)`,Ue=`hsba(${p}, ${r}%, ${d}%, ${S.toFixed(0===S?0:2)})`;return 1===S?se:Ue}toHsb(){let M=this.toHsv();"object"==typeof this.originalInput&&this.originalInput&&"h"in this.originalInput&&(M=this.originalInput);const{v:r,...d}=M;return{...d,b:M.v}}}const D=h=>h instanceof b?h:new b(h),j=D("#1677ff");function Q(h,M,r,d,p){const{width:S,height:se}=M.getBoundingClientRect(),{width:Ue,height:Dt}=r.getBoundingClientRect(),on=Ue/2,hn=(h.x+on)/S,rn=1-(h.y+Dt/2)/se,xn=d?.toHsb()||{a:0,h:0,s:0,b:0},Bn=hn,Zn=(h.x+on)/S*360;if(p)switch(p){case"hue":return D({...xn,h:Zn<=0?0:Zn});case"alpha":return D({...xn,a:Bn<=0?0:Bn})}return D({h:xn.h,s:hn<=0?0:hn,b:rn>=1?1:rn,a:xn.a})}const ke=(h,M,r,d)=>{const{width:p,height:S}=h.getBoundingClientRect(),{width:se,height:Ue}=M.getBoundingClientRect(),Dt=se/2,on=Ue/2,ln=r?.toHsb()||{a:0,h:0,s:0,b:0};if(0===se&&0===Ue||se!==Ue)return null;if(d)switch(d){case"hue":return{x:ln.h/360*p-Dt,y:-on/3};case"alpha":return{x:ln.a*p-Dt,y:-on/3}}return{x:ln.s*p-Dt,y:(1-ln.b)*S-on}};let Ye=(()=>{class h{constructor(){this.color=j.toHsbString(),this.nzOnClick=new t.bkB}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["ng-antd-color-block"]],inputs:{color:"color"},outputs:{nzOnClick:"nzOnClick"},standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[[1,"ant-color-picker-color-block",3,"click"],[1,"ant-color-picker-color-block-inner"]],template:function(d,p){1&d&&(t.j41(0,"div",0),t.bIt("click",function(){return p.nzOnClick.emit(!0)}),t.nrm(1,"div",1),t.k0s()),2&d&&(t.R7$(),t.xc7("background-color",p.color))},encapsulation:2})}return h})(),dt=(()=>{class h{constructor(){this.color=null,this.size="default"}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["color-handler"]],inputs:{color:"color",size:"size"},standalone:!0,features:[t.aNF],decls:1,vars:4,consts:[[1,"ant-color-picker-handler"]],template:function(d,p){1&d&&t.nrm(0,"div",0),2&d&&(t.xc7("background-color",p.color),t.AVh("ant-color-picker-handler-sm","small"===p.size))},encapsulation:2})}return h})(),bt=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["color-palette"]],standalone:!0,features:[t.aNF],ngContentSelectors:Le,decls:2,vars:0,consts:[[1,"ant-color-picker-palette",2,"position","relative"]],template:function(d,p){1&d&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.k0s())},encapsulation:2})}return h})(),wt=(()=>{class h{toRgbString(){return this.color?.toRgbString()}toHsb(){return`hsl(${this.color?.toHsb().h},100%, 50%)`}constructor(r,d){this.cdr=r,this.document=d,this.color=null,this.nzOnChange=new t.bkB,this.nzOnChangeComplete=new t.bkB,this.disabled=!1,this.offsetValue={x:0,y:0},this.dragRef=!1,this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.updateOffset=(p,S="y")=>{const{pageX:se,pageY:Ue}=function kt(h){const M="touches"in h?h.touches[0]:h,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,d=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:M.pageX-r,pageY:M.pageY-d}}(p),{x:Dt,y:on,width:ln,height:hn}=this.containerRef?.nativeElement?.getBoundingClientRect()||{x:0,y:0,width:0,height:0},{width:rn,height:xn}=this.transformRef?.nativeElement?.getBoundingClientRect()||{width:0,height:0},Bn=rn/2,Zn=xn/2,$s=Math.max(0,Math.min(se-Dt,ln))-Bn,js=Math.max(0,Math.min(Ue-on,hn))-Zn,Gs={x:$s,y:"x"===S?this.offsetValue.y:js};0===rn&&0===xn||rn!==xn||(this.offsetValue=Gs,this.nzOnChange.emit(Q(Gs,this.containerRef.nativeElement,this.transformRef.nativeElement,this.color)),this.cdr.detectChanges())},this.onDragMove=p=>{p.preventDefault(),this.updateOffset(p)},this.onDragStop=p=>{p.preventDefault(),this.dragRef=!1,this.document.removeEventListener("mousemove",this.onDragMove),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.nzOnChangeComplete?.emit()},this.onDragStart=p=>{this.disabled||(this.updateOffset(p),this.dragRef=!0,this.document.addEventListener("mousemove",this.onDragMove),this.document.addEventListener("mouseup",this.onDragStop),this.document.addEventListener("touchmove",this.onDragMove),this.document.addEventListener("touchend",this.onDragStop),this.mouseMoveRef=this.onDragMove,this.mouseUpRef=this.onDragStop,this.cdr.markForCheck())}}ngOnInit(){this.document.removeEventListener("mousemove",this.mouseMoveRef),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null}ngOnChanges(r){const{color:d}=r;if(d&&!this.dragRef&&this.containerRef&&this.transformRef){const p=ke(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color);p&&(this.offsetValue=p,this.cdr.detectChanges())}}ngAfterViewInit(){if(!this.dragRef&&this.containerRef&&this.transformRef){const r=ke(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color);r&&(this.offsetValue=r,this.cdr.detectChanges())}}dragStartHandle(r){this.onDragStart(r)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc),t.rXU(f.qQ))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["color-picker"]],viewQuery:function(d,p){if(1&d&&(t.GBs(mt,5),t.GBs(ht,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.containerRef=S.first),t.mGM(S=t.lsd())&&(p.transformRef=S.first)}},inputs:{color:"color",disabled:"disabled"},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},standalone:!0,features:[t.OA$,t.aNF],decls:7,vars:7,consts:[["slider",""],["transform",""],[1,"ant-color-picker-select",3,"mousedown","touchstart"],[2,"position","absolute","z-index","1"],[3,"color"],[1,"ant-color-picker-saturation",2,"background-image","linear-gradient(0deg, #000, transparent),\n          linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"div",2,0),t.bIt("mousedown",function(Ue){return t.eBV(S),t.Njj(p.dragStartHandle(Ue))})("touchstart",function(Ue){return t.eBV(S),t.Njj(p.dragStartHandle(Ue))}),t.j41(2,"color-palette")(3,"div",3,1),t.nrm(5,"color-handler",4),t.k0s(),t.nrm(6,"div",5),t.k0s()()}2&d&&(t.R7$(3),t.xc7("left",p.offsetValue.x+"px")("top",p.offsetValue.y+"px"),t.R7$(2),t.Y8G("color",p.toRgbString()),t.R7$(),t.xc7("background-color",p.toHsb()))},dependencies:[dt,bt],encapsulation:2})}return h})(),Yt=(()=>{class h{constructor(){this.colors=[],this.direction="to right",this.type="hue",this.gradientColors=""}ngOnInit(){this.useMemo()}ngOnChanges(r){const{colors:d,type:p}=r;(d||p)&&this.useMemo()}useMemo(){this.gradientColors=this.colors.map((r,d)=>{const p=D(r);return"alpha"===this.type&&d===this.colors.length-1&&p.setAlpha(1),p.toRgbString()}).join(",")}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["color-gradient"]],inputs:{colors:"colors",direction:"direction",type:"type"},standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:Le,decls:2,vars:2,consts:[[1,"ant-color-picker-gradient",2,"position","absolute","inset","0"]],template:function(d,p){1&d&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.k0s()),2&d&&t.xc7("background","linear-gradient("+p.direction+", "+p.gradientColors+")")},encapsulation:2})}return h})(),Ht=(()=>{class h{constructor(r,d){this.cdr=r,this.document=d,this.gradientColors=[],this.direction="to right",this.type="hue",this.color=null,this.value=null,this.disabled=!1,this.nzOnChange=new t.bkB,this.nzOnChangeComplete=new t.bkB,this.offsetValue={x:0,y:0},this.dragRef=!1,this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.updateOffset=(p,S="x")=>{const{pageX:se,pageY:Ue}=function rt(h){const M="touches"in h?h.touches[0]:h,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,d=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:M.pageX-r,pageY:M.pageY-d}}(p),{x:Dt,y:on,width:ln,height:hn}=this.containerRef?.nativeElement?.getBoundingClientRect()||{x:0,y:0,width:0,height:0},{width:rn,height:xn}=this.transformRef?.nativeElement?.getBoundingClientRect()||{width:0,height:0},Bn=rn/2,Zn=xn/2,$s=Math.max(0,Math.min(se-Dt,ln))-Bn,js=Math.max(0,Math.min(Ue-on,hn))-Zn,Gs={x:$s,y:"x"===S?this.offsetValue.y:js};0===rn&&0===xn||rn!==xn||(this.offsetValue=Gs,this.nzOnChange.emit(Q(Gs,this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type)),this.cdr.detectChanges())},this.onDragMove=p=>{p.preventDefault(),this.updateOffset(p)},this.onDragStop=p=>{p.preventDefault(),this.dragRef=!1,this.document.removeEventListener("mousemove",this.onDragMove),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.nzOnChangeComplete?.emit(this.type)},this.onDragStart=p=>{this.disabled||(this.updateOffset(p),this.dragRef=!0,this.document.addEventListener("mousemove",this.onDragMove),this.document.addEventListener("mouseup",this.onDragStop),this.document.addEventListener("touchmove",this.onDragMove),this.document.addEventListener("touchend",this.onDragStop),this.mouseMoveRef=this.onDragMove,this.mouseUpRef=this.onDragStop,this.cdr.markForCheck())}}ngOnInit(){this.document.removeEventListener("mousemove",this.mouseMoveRef),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null}ngOnChanges(r){const{color:d}=r;if(d&&!this.dragRef&&this.containerRef&&this.transformRef){const p=ke(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type);p&&(this.offsetValue=p,this.cdr.detectChanges())}}ngAfterViewInit(){if(!this.dragRef&&this.containerRef&&this.transformRef){const r=ke(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type);r&&(this.offsetValue=r,this.cdr.detectChanges())}}dragStartHandle(r){this.onDragStart(r)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc),t.rXU(f.qQ))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["color-slider"]],viewQuery:function(d,p){if(1&d&&(t.GBs(mt,5),t.GBs(ht,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.containerRef=S.first),t.mGM(S=t.lsd())&&(p.transformRef=S.first)}},inputs:{gradientColors:"gradientColors",direction:"direction",type:"type",color:"color",value:"value",disabled:"disabled"},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},standalone:!0,features:[t.OA$,t.aNF],decls:7,vars:9,consts:[["slider",""],["transform",""],[1,"ant-color-picker-slider",3,"mousedown","touchstart","ngClass"],[2,"position","absolute","z-index","1"],["size","small",3,"color"],[3,"colors","direction","type"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"div",2,0),t.bIt("mousedown",function(Ue){return t.eBV(S),t.Njj(p.dragStartHandle(Ue))})("touchstart",function(Ue){return t.eBV(S),t.Njj(p.dragStartHandle(Ue))}),t.j41(2,"color-palette")(3,"div",3,1),t.nrm(5,"color-handler",4),t.k0s(),t.nrm(6,"color-gradient",5),t.k0s()()}2&d&&(t.Y8G("ngClass","ant-color-picker-slider-"+p.type),t.R7$(3),t.xc7("left",p.offsetValue.x+"px")("top",p.offsetValue.y+"px"),t.R7$(2),t.Y8G("color",p.value),t.R7$(),t.Y8G("colors",p.gradientColors)("direction",p.direction)("type",p.type))},dependencies:[bt,Yt,dt,f.YU],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return h})(),Ee=(()=>{class h{constructor(r){this.cdr=r,this.nzOnChange=new t.bkB,this.nzOnChangeComplete=new t.bkB,this.panelRenderHeader=null,this.panelRenderFooter=null,this.disabledAlpha=!1,this.disabled=!1,this.colorValue=null,this.alphaColor="",this.hueColor=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"],this.gradientColors=["rgba(255, 0, 4, 0) 0%",this.alphaColor],this.toRgbString=this.colorValue?.toRgbString()||""}ngOnInit(){this.setColorValue(this.value)}ngOnChanges(r){const{value:d,defaultValue:p}=r;(d||p)&&this.setColorValue(this.value)}hasValue(r){return!!r}setColorValue(r){let d;d=this.hasValue(r)?r:this.hasValue(this.defaultValue)?this.defaultValue:j,this.colorValue=D(d),this.setAlphaColor(this.colorValue),this.toRgbString=this.colorValue?.toRgbString()||"",this.cdr.detectChanges()}setAlphaColor(r){const d=D(r.toRgbString());this.alphaColor=d.toRgbString(),this.gradientColors=["rgba(255, 0, 4, 0) 0%",this.alphaColor],this.cdr.markForCheck()}handleChange(r,d){this.setColorValue(r),this.nzOnChange.emit({color:r,type:d})}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["ng-antd-color-picker"]],inputs:{value:"value",defaultValue:"defaultValue",panelRenderHeader:"panelRenderHeader",panelRenderFooter:"panelRenderFooter",disabledAlpha:"disabledAlpha",disabled:"disabled"},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},standalone:!0,features:[t.OA$,t.aNF],decls:9,vars:14,consts:[[1,"ant-color-picker-panel"],[4,"ngIf"],[3,"nzOnChange","nzOnChangeComplete","color","disabled"],[1,"ant-color-picker-slider-container"],[1,"ant-color-picker-slider-group"],[3,"nzOnChange","nzOnChangeComplete","color","value","gradientColors","disabled"],[3,"color"],[3,"ngTemplateOutlet"],["type","alpha",3,"nzOnChange","nzOnChangeComplete","color","value","gradientColors","disabled"]],template:function(d,p){if(1&d&&(t.j41(0,"div",0),t.DNE(1,Gt,2,1,"ng-container",1),t.j41(2,"color-picker",2),t.bIt("nzOnChange",function(se){return p.handleChange(se)})("nzOnChangeComplete",function(se){return p.nzOnChangeComplete.emit(se)}),t.k0s(),t.j41(3,"div",3)(4,"div",4)(5,"color-slider",5),t.bIt("nzOnChange",function(se){return p.handleChange(se,"hue")})("nzOnChangeComplete",function(se){return p.nzOnChangeComplete.emit(se)}),t.k0s(),t.DNE(6,Me,2,4,"ng-container",1),t.k0s(),t.nrm(7,"ng-antd-color-block",6),t.k0s(),t.DNE(8,ie,2,1,"ng-container",1),t.k0s()),2&d){let S;t.AVh("ant-color-picker-panel-disabled",p.disabled),t.R7$(),t.Y8G("ngIf",p.panelRenderHeader),t.R7$(),t.Y8G("color",p.colorValue)("disabled",p.disabled),t.R7$(2),t.AVh("ant-color-picker-slider-group-disabled-alpha",p.disabledAlpha),t.R7$(),t.Y8G("color",p.colorValue)("value","hsl("+(null==p.colorValue||null==(S=p.colorValue.toHsb())?null:S.h)+",100%, 50%)")("gradientColors",p.hueColor)("disabled",p.disabled),t.R7$(),t.Y8G("ngIf",!p.disabledAlpha),t.R7$(),t.Y8G("color",p.toRgbString),t.R7$(),t.Y8G("ngIf",p.panelRenderFooter)}},dependencies:[f.bT,wt,Ht,Ye,f.T3],encapsulation:2})}return h})(),Je=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({})}return h})(),Ie=(()=>{class h{constructor(){this.nzColor=j.toHexString(),this.nzSize="default",this.nzOnClick=new t.bkB}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-color-block"]],hostAttrs:[1,"ant-color-picker-inline"],hostVars:4,hostBindings:function(d,p){2&d&&t.AVh("ant-color-picker-inline-sm","small"===p.nzSize)("ant-color-picker-inline-lg","large"===p.nzSize)},inputs:{nzColor:"nzColor",nzSize:"nzSize"},outputs:{nzOnClick:"nzOnClick"},exportAs:["NzColorBlock"],standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[3,"nzOnClick","color"]],template:function(d,p){1&d&&(t.j41(0,"ng-antd-color-block",0),t.bIt("nzOnClick",function(se){return p.nzOnClick.emit(se)}),t.k0s()),2&d&&t.Y8G("color",p.nzColor)},dependencies:[Je,Ye],encapsulation:2,changeDetection:0})}return h})(),It=(()=>{class h{validatorFn(){return r=>r.value&&/^[0-9a-fA-F]{6}$/.test(r.value)?null:{error:!0}}constructor(r){this.formBuilder=r,this.format=null,this.colorValue="",this.clearColor=!1,this.nzDisabledAlpha=!1,this.formatChange=new t.bkB,this.nzOnFormatChange=new t.bkB,this.destroy$=new ee.B,this.formatterPercent=d=>`${d} %`,this.parserPercent=d=>d.replace(" %",""),this.validateForm=this.formBuilder.nonNullable.group({isFormat:this.formBuilder.control("hex"),hex:this.formBuilder.control("1677FF",this.validatorFn()),hsbH:215,hsbS:91,hsbB:100,rgbR:22,rgbG:119,rgbB:255,roundA:100})}ngOnInit(){this.validateForm.valueChanges.pipe((0,le.p)(()=>this.validateForm.valid),(0,pe.B)(200),(0,K.Q)(this.destroy$)).subscribe(r=>{let d="";switch(r.isFormat){case"hsb":d=D({h:Number(r.hsbH),s:Number(r.hsbS)/100,b:Number(r.hsbB)/100,a:Number(r.roundA)/100}).toHsbString();break;case"rgb":d=D({r:Number(r.rgbR),g:Number(r.rgbG),b:Number(r.rgbB),a:Number(r.roundA)/100}).toRgbString();break;default:const p=D(r.hex),S=D({r:p.r,g:p.g,b:p.b,a:Number(r.roundA)/100});d=S.getAlpha()<1?S.toHex8String():S.toHexString()}this.formatChange.emit({color:d,format:r.isFormat||this.format||"hex"})}),this.validateForm.get("isFormat")?.valueChanges.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.nzOnFormatChange.emit(r)})}ngOnChanges(r){const{colorValue:d,format:p,clearColor:S}=r;if(d){const se={hex:D(this.colorValue).toHex(),hsbH:Math.round(D(this.colorValue).toHsb().h),hsbS:Math.round(100*D(this.colorValue).toHsb().s),hsbB:Math.round(100*D(this.colorValue).toHsb().b),rgbR:Math.round(D(this.colorValue).r),rgbG:Math.round(D(this.colorValue).g),rgbB:Math.round(D(this.colorValue).b),roundA:Math.round(100*D(this.colorValue).roundA)};this.validateForm.patchValue(se)}p&&this.format&&this.validateForm.get("isFormat")?.patchValue(this.format),S&&this.clearColor&&this.validateForm.get("roundA")?.patchValue(0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(m.ok))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-color-format"]],inputs:{format:"format",colorValue:"colorValue",clearColor:"clearColor",nzDisabledAlpha:"nzDisabledAlpha"},outputs:{formatChange:"formatChange",nzOnFormatChange:"nzOnFormatChange"},exportAs:["NzColorFormat"],standalone:!0,features:[t.OA$,t.aNF],decls:11,vars:3,consts:[[1,"ant-color-picker-input-container",3,"formGroup"],[1,"ant-color-picker-format-select"],["formControlName","isFormat","nzBorderless","","nzSize","small"],["nzValue","hex","nzLabel","HEX"],["nzValue","hsb","nzLabel","HSB"],["nzValue","rgb","nzLabel","RGB"],[1,"ant-color-picker-input"],[1,"ant-color-picker-steppers","ant-color-picker-alpha-input"],[1,"ant-color-picker-hex-input"],["nzPrefix","#","nzSize","small"],["nz-input","","nzSize","small","formControlName","hex"],[1,"ant-color-picker-hsb-input"],[1,"ant-color-picker-steppers","ant-color-picker-hsb-input"],["formControlName","hsbH","nzSize","small",3,"nzMin","nzMax","nzStep","nzPrecision"],["formControlName","hsbS","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"],["formControlName","hsbB","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"],[1,"ant-color-picker-rgb-input"],[1,"ant-color-picker-steppers","ant-color-picker-rgb-input"],["formControlName","rgbR","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","rgbG","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","rgbB","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","roundA","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"]],template:function(d,p){if(1&d&&(t.j41(0,"div",0)(1,"div",1)(2,"nz-select",2),t.nrm(3,"nz-option",3)(4,"nz-option",4)(5,"nz-option",5),t.k0s()(),t.j41(6,"div",6),t.DNE(7,F,3,0)(8,_e,7,14)(9,ne,7,9),t.k0s(),t.DNE(10,Oe,2,5,"div",7),t.k0s()),2&d){let S;t.Y8G("formGroup",p.validateForm),t.R7$(7),t.vxM(7,"hex"===(S=p.validateForm.controls.isFormat.value)?7:"hsb"===S?8:9),t.R7$(3),t.vxM(10,p.nzDisabledAlpha?-1:10)}},dependencies:[m.X1,m.me,m.BC,m.cb,m.j4,m.JD,et.DH,et.ld,et.WI,re.Sy,re.tg,pt.FG],encapsulation:2,changeDetection:0})}return(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDisabledAlpha",void 0),h})(),Rt=(()=>{class h{constructor(r,d){this.formBuilder=r,this.cdr=d,this.nzFormat=null,this.nzValue="",this.nzSize="default",this.nzDefaultValue="",this.nzTrigger="click",this.nzTitle="",this.nzFlipFlop=null,this.nzShowText=!1,this.nzOpen=!1,this.nzAllowClear=!1,this.nzDisabled=!1,this.nzDisabledAlpha=!1,this.nzOnChange=new t.bkB,this.nzOnFormatChange=new t.bkB,this.nzOnClear=new t.bkB,this.nzOnOpenChange=new t.bkB,this.isTemplateRef=G.my,this.isNonEmptyString=G.uI,this.destroy$=new ee.B,this.isNzDisableFirstChange=!0,this.blockColor="",this.clearColor=!1,this.showText=j.toHexString(),this.formControl=this.formBuilder.control(""),this.onChange=()=>{}}writeValue(r){this.nzValue=r,this.getBlockColor(),this.formControl.patchValue(r)}registerOnChange(r){this.onChange=r}registerOnTouched(){}setDisabledState(r){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||r,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}ngOnInit(){this.getBlockColor(),this.formControl.valueChanges.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{if(r){let d=r;"hex"===this.nzFormat?d=D(r).getAlpha()<1?D(r).toHex8String():D(r).toHexString():"hsb"===this.nzFormat?d=D(r).toHsbString():"rgb"===this.nzFormat&&(d=D(r).toRgbString()),this.showText=d,this.onChange(d),this.cdr.markForCheck()}})}ngOnChanges(r){const{nzValue:d,nzDefaultValue:p}=r;(d||p)&&this.getBlockColor()}clearColorHandle(){this.clearColor=!0,this.nzOnClear.emit(!0),this.cdr.markForCheck()}getBlockColor(){this.blockColor=this.nzValue?D(this.nzValue).toRgbString():this.nzDefaultValue?D(this.nzDefaultValue).toRgbString():j.toHexString()}colorChange(r){this.blockColor=r.color.getAlpha()<1?r.color.toHex8String():r.color.toHexString(),this.clearColor=!1,this.cdr.markForCheck()}formatChange(r){this.nzValue=r.color,this.clearColor=!1,this.getBlockColor(),this.nzOnChange.emit({color:D(r.color),format:r.format}),this.formControl.patchValue(r.color),this.cdr.markForCheck()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get isNzTitleNonEmptyString(){return(0,G.uI)(this.nzTitle)}get isNzTitleTemplateRef(){return(0,G.my)(this.nzTitle)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(m.ok),t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-color-picker"]],hostAttrs:[1,"ant-color-picker-inline"],hostVars:2,hostBindings:function(d,p){2&d&&t.AVh("ant-color-picker-disabled",p.nzDisabled)},inputs:{nzFormat:"nzFormat",nzValue:"nzValue",nzSize:"nzSize",nzDefaultValue:"nzDefaultValue",nzTrigger:"nzTrigger",nzTitle:"nzTitle",nzFlipFlop:"nzFlipFlop",nzShowText:"nzShowText",nzOpen:"nzOpen",nzAllowClear:"nzAllowClear",nzDisabled:"nzDisabled",nzDisabledAlpha:"nzDisabledAlpha"},outputs:{nzOnChange:"nzOnChange",nzOnFormatChange:"nzOnFormatChange",nzOnClear:"nzOnClear",nzOnOpenChange:"nzOnOpenChange"},exportAs:["NzColorPicker"],standalone:!0,features:[t.Jv_([{provide:m.kq,useExisting:(0,t.Rfq)(()=>h),multi:!0}]),t.OA$,t.aNF],decls:10,vars:11,consts:[["colorPicker",""],["nzPanelRenderHeader",""],["nzPanelRenderFooter",""],["nz-popover","",3,"nzPopoverVisibleChange","nzPopoverContent","nzPopoverTrigger","nzPopoverVisible"],[3,"nzColor","nzSize"],[1,"ant-color-picker-trigger-text"],[3,"ngTemplateOutlet"],[3,"nzOnChange","value","defaultValue","disabled","panelRenderHeader","panelRenderFooter","disabledAlpha"],[1,"ant-color-picker-title"],[1,"ant-color-picker-title-content"],[3,"innerHTML"],[1,"ant-color-picker-clear"],[4,"ngTemplateOutlet"],[1,"ant-color-picker-clear",3,"click"],[3,"formatChange","nzOnFormatChange","colorValue","clearColor","format","nzDisabledAlpha"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"div",3),t.bIt("nzPopoverVisibleChange",function(Ue){return t.eBV(S),t.Njj(p.nzOnOpenChange.emit(Ue))}),t.DNE(1,je,1,2,"nz-color-block",4)(2,Pt,1,1)(3,At,2,1,"div",5),t.k0s(),t.DNE(4,Wt,1,6,"ng-template",null,0,t.C5r)(6,J,1,1,"ng-template",null,1,t.C5r)(8,He,1,4,"ng-template",null,2,t.C5r)}if(2&d){const S=t.sdS(5);t.AVh("ant-color-picker-trigger",!p.nzFlipFlop)("ant-color-picker-sm","small"===p.nzSize)("ant-color-picker-lg","large"===p.nzSize),t.Y8G("nzPopoverContent",S)("nzPopoverTrigger",p.nzDisabled?null:p.nzTrigger)("nzPopoverVisible",p.nzOpen),t.R7$(),t.vxM(1,p.nzFlipFlop?2:1),t.R7$(2),t.vxM(3,p.nzShowText&&p.showText&&!p.nzFlipFlop?3:-1)}},dependencies:[Je,Ee,qe,Ie,It,f.T3],encapsulation:2,changeDetection:0})}return(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowText",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzOpen",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzAllowClear",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDisabledAlpha",void 0),h})(),Ot=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({imports:[Rt,It]})}return h})();var Ft=C(4608),en=C(3341),wn=C(6389),kn=C(5930),$e=C(7336),Re=C(2771),de=C(7786),De=C(3726),ot=C(7673),ge=C(3294),$=C(3993),R=C(6354),k=C(7891),P=C(1025),w=C(5103),T=C(2764),I=C(1265),E=C(4500),oe=C(6860);const B=["hourListElement"],ve=["minuteListElement"],Qe=["secondListElement"],at=["use12HoursListElement"];function Ct(h,M){if(1&h&&(t.j41(0,"div",8)(1,"div",9),t.EFF(2),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.JRh(r.dateHelper.format(null==r.time?null:r.time.value,r.format)||"\xa0")}}function Ut(h,M){if(1&h){const r=t.RV6();t.j41(0,"li",13),t.bIt("click",function(){t.eBV(r);const p=t.XpG().$implicit,S=t.XpG(2);return t.Njj(S.selectHour(p))}),t.j41(1,"div",14),t.EFF(2),t.nI1(3,"number"),t.k0s()()}if(2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.AVh("ant-picker-time-panel-cell-selected",d.isSelectedHour(r))("ant-picker-time-panel-cell-disabled",r.disabled),t.R7$(2),t.JRh(t.i5U(3,5,r.index,"2.0-0"))}}function Kt(h,M){if(1&h&&(t.qex(0),t.DNE(1,Ut,4,8,"li",12),t.bVm()),2&h){const r=M.$implicit,d=t.XpG(2);t.R7$(),t.Y8G("ngIf",!(d.nzHideDisabledOptions&&r.disabled))}}function nn(h,M){if(1&h&&(t.j41(0,"ul",10,0),t.DNE(2,Kt,2,1,"ng-container",11),t.k0s()),2&h){const r=t.XpG();t.R7$(2),t.Y8G("ngForOf",r.hourRange)("ngForTrackBy",r.trackByFn)}}function un(h,M){if(1&h){const r=t.RV6();t.j41(0,"li",13),t.bIt("click",function(){t.eBV(r);const p=t.XpG().$implicit,S=t.XpG(2);return t.Njj(S.selectMinute(p))}),t.j41(1,"div",14),t.EFF(2),t.nI1(3,"number"),t.k0s()()}if(2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.AVh("ant-picker-time-panel-cell-selected",d.isSelectedMinute(r))("ant-picker-time-panel-cell-disabled",r.disabled),t.R7$(2),t.JRh(t.i5U(3,5,r.index,"2.0-0"))}}function yn(h,M){if(1&h&&(t.qex(0),t.DNE(1,un,4,8,"li",12),t.bVm()),2&h){const r=M.$implicit,d=t.XpG(2);t.R7$(),t.Y8G("ngIf",!(d.nzHideDisabledOptions&&r.disabled))}}function sn(h,M){if(1&h&&(t.j41(0,"ul",10,1),t.DNE(2,yn,2,1,"ng-container",11),t.k0s()),2&h){const r=t.XpG();t.R7$(2),t.Y8G("ngForOf",r.minuteRange)("ngForTrackBy",r.trackByFn)}}function pn(h,M){if(1&h){const r=t.RV6();t.j41(0,"li",13),t.bIt("click",function(){t.eBV(r);const p=t.XpG().$implicit,S=t.XpG(2);return t.Njj(S.selectSecond(p))}),t.j41(1,"div",14),t.EFF(2),t.nI1(3,"number"),t.k0s()()}if(2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.AVh("ant-picker-time-panel-cell-selected",d.isSelectedSecond(r))("ant-picker-time-panel-cell-disabled",r.disabled),t.R7$(2),t.JRh(t.i5U(3,5,r.index,"2.0-0"))}}function Ki(h,M){if(1&h&&(t.qex(0),t.DNE(1,pn,4,8,"li",12),t.bVm()),2&h){const r=M.$implicit,d=t.XpG(2);t.R7$(),t.Y8G("ngIf",!(d.nzHideDisabledOptions&&r.disabled))}}function Qi(h,M){if(1&h&&(t.j41(0,"ul",10,2),t.DNE(2,Ki,2,1,"ng-container",11),t.k0s()),2&h){const r=t.XpG();t.R7$(2),t.Y8G("ngForOf",r.secondRange)("ngForTrackBy",r.trackByFn)}}function Zi(h,M){if(1&h){const r=t.RV6();t.qex(0),t.j41(1,"li",13),t.bIt("click",function(){const p=t.eBV(r).$implicit,S=t.XpG(2);return t.Njj(S.select12Hours(p))}),t.j41(2,"div",14),t.EFF(3),t.k0s()(),t.bVm()}if(2&h){const r=M.$implicit,d=t.XpG(2);t.R7$(),t.AVh("ant-picker-time-panel-cell-selected",d.isSelected12Hours(r)),t.R7$(2),t.JRh(r.value)}}function Ji(h,M){if(1&h&&(t.j41(0,"ul",10,3),t.DNE(2,Zi,4,3,"ng-container",15),t.k0s()),2&h){const r=t.XpG();t.R7$(2),t.Y8G("ngForOf",r.use12HoursRange)}}function qi(h,M){}function es(h,M){if(1&h&&(t.j41(0,"div",23),t.DNE(1,qi,0,0,"ng-template",24),t.k0s()),2&h){const r=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",r.nzAddOn)}}function ts(h,M){if(1&h){const r=t.RV6();t.j41(0,"div",16),t.DNE(1,es,2,1,"div",17),t.j41(2,"ul",18)(3,"li",19)(4,"a",20),t.bIt("click",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.onClickNow())}),t.EFF(5),t.nI1(6,"nzI18n"),t.k0s()(),t.j41(7,"li",21)(8,"button",22),t.bIt("click",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.onClickOk())}),t.EFF(9),t.nI1(10,"nzI18n"),t.k0s()()()()}if(2&h){const r=t.XpG();t.R7$(),t.Y8G("ngIf",r.nzAddOn),t.R7$(4),t.SpI(" ",r.nzNowText||t.bMT(6,3,"Calendar.lang.now")," "),t.R7$(4),t.SpI(" ",r.nzOkText||t.bMT(10,5,"Calendar.lang.ok")," ")}}const ns=["inputElement"];function Ii(h,M){if(1&h&&(t.qex(0),t.nrm(1,"span",8),t.bVm()),2&h){const r=M.$implicit;t.R7$(),t.Y8G("nzType",r)}}function Si(h,M){if(1&h&&t.nrm(0,"nz-form-item-feedback-icon",9),2&h){const r=t.XpG();t.Y8G("status",r.status)}}function si(h,M){if(1&h){const r=t.RV6();t.j41(0,"span",10),t.bIt("click",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onClickClearBtn(p))}),t.nrm(1,"span",11),t.k0s()}if(2&h){const r=t.XpG();t.R7$(),t.BMQ("aria-label",r.nzClearText)("title",r.nzClearText)}}function Ti(h,M){if(1&h){const r=t.RV6();t.j41(0,"div",12)(1,"div",13)(2,"div",14)(3,"nz-time-picker-panel",15),t.nI1(4,"async"),t.mxI("ngModelChange",function(p){t.eBV(r);const S=t.XpG();return t.DH7(S.value,p)||(S.value=p),t.Njj(p)}),t.bIt("ngModelChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onPanelValueChange(p))})("closePanel",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.closePanel())}),t.k0s()()()()}if(2&h){const r=t.XpG();t.Y8G("@slideMotion","enter"),t.R7$(3),t.Y8G("ngClass",r.nzPopupClassName)("format",r.nzFormat)("nzHourStep",r.nzHourStep)("nzMinuteStep",r.nzMinuteStep)("nzSecondStep",r.nzSecondStep)("nzDisabledHours",r.nzDisabledHours)("nzDisabledMinutes",r.nzDisabledMinutes)("nzDisabledSeconds",r.nzDisabledSeconds)("nzPlaceHolder",r.nzPlaceHolder||t.bMT(4,19,r.i18nPlaceHolder$))("nzHideDisabledOptions",r.nzHideDisabledOptions)("nzUse12Hours",r.nzUse12Hours)("nzDefaultOpenValue",r.nzDefaultOpenValue)("nzAddOn",r.nzAddOn)("nzClearText",r.nzClearText)("nzNowText",r.nzNowText)("nzOkText",r.nzOkText)("nzAllowEmpty",r.nzAllowEmpty),t.R50("ngModel",r.value)}}class ei{setMinutes(M,r){return r||(this.initValue(),this.value.setMinutes(M),this.update()),this}setHours(M,r){return r||(this.initValue(),this.value.setHours(this._use12Hours?"PM"===this.selected12Hours&&12!==M?M+12:"AM"===this.selected12Hours&&12===M?0:M:M),this.update()),this}setSeconds(M,r){return r||(this.initValue(),this.value.setSeconds(M),this.update()),this}setUse12Hours(M){return this._use12Hours=M,this}get changes(){return this._changes.asObservable()}setValue(M,r){return(0,G.n9)(r)&&(this._use12Hours=r),M!==this.value&&(this._value=M,(0,G.n9)(this.value)?this._use12Hours&&(0,G.n9)(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){(0,G.gD)(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!((0,G.n9)(this.hours)||(0,G.n9)(this.minutes)||(0,G.n9)(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:((0,G.n9)(this.hours)&&this.value.setHours(this.hours),(0,G.n9)(this.minutes)&&this.value.setMinutes(this.minutes),(0,G.n9)(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&("PM"===this.selected12Hours&&this.hours<12&&this.value.setHours(this.hours+12),"AM"===this.selected12Hours&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&(0,G.n9)(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(M){M.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=M.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(M){return this._defaultOpenValue=M,this}constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new ee.B}calculateViewHour(M){const r=this.selected12Hours;return"PM"===r&&M>12?M-12:"AM"===r&&0===M?12:M}}function Ai(h,M=1,r=0){return new Array(Math.ceil(h/M)).fill(0).map((d,p)=>(p+r)*M)}let oi=(()=>{class h{set nzAllowEmpty(r){(0,G.n9)(r)&&(this._allowEmpty=r)}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(r){this._disabledHours=r,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(r){(0,G.n9)(r)&&(this._disabledMinutes=r,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(r){(0,G.n9)(r)&&(this._disabledSeconds=r,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(r){if((0,G.n9)(r)){this._format=r,this.enabledColumns=0;const d=new Set(r);this.hourEnabled=d.has("H")||d.has("h"),this.minuteEnabled=d.has("m"),this.secondEnabled=d.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(r){(0,G.n9)(r)&&(this._nzHourStep=r,this.buildHours())}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(r){(0,G.n9)(r)&&(this._nzMinuteStep=r,this.buildMinutes())}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(r){(0,G.n9)(r)&&(this._nzSecondStep=r,this.buildSeconds())}get nzSecondStep(){return this._nzSecondStep}trackByFn(r){return r}buildHours(){let r=24,d=this.nzDisabledHours?.(),p=0;if(this.nzUse12Hours&&(r=12,d&&(d="PM"===this.time.selected12Hours?d.filter(S=>S>=12).map(S=>S>12?S-12:S):d.filter(S=>S<12||24===S).map(S=>24===S||0===S?12:S)),p=1),this.hourRange=Ai(r,this.nzHourStep,p).map(S=>({index:S,disabled:!!d&&-1!==d.indexOf(S)})),this.nzUse12Hours&&12===this.hourRange[this.hourRange.length-1].index){const S=[...this.hourRange];S.unshift(S[S.length-1]),S.splice(S.length-1,1),this.hourRange=S}}buildMinutes(){this.minuteRange=Ai(60,this.nzMinuteStep).map(r=>({index:r,disabled:!!this.nzDisabledMinutes&&-1!==this.nzDisabledMinutes(this.time.hours).indexOf(r)}))}buildSeconds(){this.secondRange=Ai(60,this.nzSecondStep).map(r=>({index:r,disabled:!!this.nzDisabledSeconds&&-1!==this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(r)}))}build12Hours(){const r=this._format.includes("A");this.use12HoursRange=[{index:0,value:r?"AM":"am"},{index:1,value:r?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(r=0){this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,r,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,r,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,r,"second"),this.nzUse12Hours&&this.use12HoursListElement&&this.scrollToSelected(this.use12HoursListElement.nativeElement,"AM"===this.time.selected12Hours?0:1,r,"12-hour")}selectHour(r){this.time.setHours(r.index,r.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(r){this.time.setMinutes(r.index,r.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(r){this.time.setSeconds(r.index,r.disabled)}select12Hours(r){this.time.setSelected12Hours(r.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(r,d,p=0,S){if(!r)return;const se=this.translateIndex(d,S);this.scrollTo(r,(r.children[se]||r.children[0]).offsetTop,p)}translateIndex(r,d){return"hour"===d?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(p=>p.index).indexOf(r)):"minute"===d?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(p=>p.index).indexOf(r)):"second"===d?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(p=>p.index).indexOf(r)):this.calcIndex([],this.use12HoursRange.map(p=>p.index).indexOf(r))}scrollTo(r,d,p){if(p<=0)return void(r.scrollTop=d);const se=(d-r.scrollTop)/p*10;this.ngZone.runOutsideAngular(()=>{(0,E.j)(()=>{r.scrollTop=r.scrollTop+se,r.scrollTop!==d&&this.scrollTo(r,d,p-10)})})}calcIndex(r,d){return r?.length&&this.nzHideDisabledOptions?d-r.reduce((p,S)=>p+(S<d?1:0),0):d}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(r){const d=r.getHours(),p=r.getMinutes(),S=r.getSeconds();return(this.nzDisabledHours?.().indexOf(d)??-1)>-1||(this.nzDisabledMinutes?.(d).indexOf(p)??-1)>-1||(this.nzDisabledSeconds?.(d,p).indexOf(S)??-1)>-1}onClickNow(){const r=new Date;this.timeDisabled(r)||(this.time.setValue(r),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(r){return r.index===this.time.viewHours}isSelectedMinute(r){return r.index===this.time.minutes}isSelectedSecond(r){return r.index===this.time.seconds}isSelected12Hours(r){return r.value.toUpperCase()===this.time.selected12Hours}constructor(r,d,p,S){this.ngZone=r,this.cdr=d,this.dateHelper=p,this.elementRef=S,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new ee.B,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new ei,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new t.bkB}ngOnInit(){this.time.changes.pipe((0,K.Q)(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),(0,De.R)(this.elementRef.nativeElement,"mousedown").pipe((0,K.Q)(this.unsubscribe$)).subscribe(r=>{r.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(r){const{nzUse12Hours:d,nzDefaultOpenValue:p}=r;!d?.previousValue&&d?.currentValue&&(this.build12Hours(),this.enabledColumns++),p?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(r){this.time.setValue(r,this.nzUse12Hours),this.buildTimes(),r&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouch=r}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(en.cr),t.rXU(t.aKT))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-time-picker-panel"]],viewQuery:function(d,p){if(1&d&&(t.GBs(B,5),t.GBs(ve,5),t.GBs(Qe,5),t.GBs(at,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.hourListElement=S.first),t.mGM(S=t.lsd())&&(p.minuteListElement=S.first),t.mGM(S=t.lsd())&&(p.secondListElement=S.first),t.mGM(S=t.lsd())&&(p.use12HoursListElement=S.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(d,p){2&d&&t.AVh("ant-picker-time-panel-column-0",0===p.enabledColumns&&!p.nzInDatePicker)("ant-picker-time-panel-column-1",1===p.enabledColumns&&!p.nzInDatePicker)("ant-picker-time-panel-column-2",2===p.enabledColumns&&!p.nzInDatePicker)("ant-picker-time-panel-column-3",3===p.enabledColumns&&!p.nzInDatePicker)("ant-picker-time-panel-narrow",p.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!p.nzInDatePicker)},inputs:{nzInDatePicker:"nzInDatePicker",nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:"nzUse12Hours",nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],standalone:!0,features:[t.Jv_([{provide:m.kq,useExisting:h,multi:!0}]),t.OA$,t.aNF],decls:7,vars:6,consts:[["hourListElement",""],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],[4,"ngFor","ngForOf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(d,p){1&d&&(t.DNE(0,Ct,3,1,"div",4),t.j41(1,"div",5),t.DNE(2,nn,3,2,"ul",6)(3,sn,3,2,"ul",6)(4,Qi,3,2,"ul",6)(5,Ji,3,1,"ul",6),t.k0s(),t.DNE(6,ts,11,7,"div",7)),2&d&&(t.Y8G("ngIf",p.nzInDatePicker),t.R7$(2),t.Y8G("ngIf",p.hourEnabled),t.R7$(),t.Y8G("ngIf",p.minuteEnabled),t.R7$(),t.Y8G("ngIf",p.secondEnabled),t.R7$(),t.Y8G("ngIf",p.nzUse12Hours),t.R7$(),t.Y8G("ngIf",!p.nzInDatePicker))},dependencies:[f.bT,f.Sq,f.QX,f.T3,en.bP,en.Vc,ue.Zw,ue.aO,wn.c,kn.p],encapsulation:2,changeDetection:0})}return(0,X.Cg)([(0,G.H3)()],h.prototype,"nzUse12Hours",void 0),h})(),io=(()=>{class h{emitValue(r){this.setValue(r,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(r,d=!1){d&&(this.preValue=(0,T.A)(r)?new Date(r):null),this.value=(0,T.A)(r)?new Date(r):null,this.inputValue=this.dateHelper.format(r,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(r){r.stopPropagation(),this.emitValue(null)}onClickOutside(r){this.element.nativeElement.contains(r.target)||this.setCurrentValueAndClose()}onFocus(r){this.focused=r,r||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&(0,T.A)(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(r){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(r))}onPanelValueChange(r){this.setValue(r),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(r,d,p,S,se,Ue,Dt,on,ln,hn){this.nzConfigService=r,this.i18n=d,this.element=p,this.renderer=S,this.cdr=se,this.dateHelper=Ue,this.platform=Dt,this.directionality=on,this.nzFormStatusService=ln,this.nzFormNoStatusService=hn,this._nzModuleName="timePicker",this.destroy$=new ee.B,this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=(0,ot.of)(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new t.bkB,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,ge.F)((r,d)=>r.status===d.status&&r.hasFeedback===d.hasFeedback),(0,$.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,ot.of)(!1)),(0,R.T)(([{status:r,hasFeedback:d},p])=>({status:p?"":r,hasFeedback:d})),(0,K.Q)(this.destroy$)).subscribe(({status:r,hasFeedback:d})=>{this.setStatusStyles(r,d)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new fe.$Q(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe((0,R.T)(r=>r.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.dir=r})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(r){const{nzUse12Hours:d,nzFormat:p,nzDisabled:S,nzAutoFocus:se,nzStatus:Ue}=r;if(d&&!d.previousValue&&d.currentValue&&!p&&(this.nzFormat="h:mm:ss a"),S){const on=this.inputRef.nativeElement;S.currentValue?this.renderer.setAttribute(on,"disabled",""):this.renderer.removeAttribute(on,"disabled")}se&&this.updateAutoFocus(),Ue&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(r){const d=this.dateHelper.parseTime(r,this.nzFormat)||null;(0,T.A)(d)&&(this.value=d,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(r){let d;r instanceof Date?d=r:(0,G.gD)(r)?d=null:((0,I.R8)('Non-Date type is not recommended for time-picker, use "Date" type.'),d=new Date(r)),this.setValue(d,!0)}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||r,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(r){if(!r)return!0;const d=this.nzDisabledHours?.(),p=this.nzDisabledMinutes?.(r.getHours()),S=this.nzDisabledSeconds?.(r.getHours(),r.getMinutes());return!(d?.includes(r.getHours())||p?.includes(r.getMinutes())||S?.includes(r.getSeconds()))}setStatusStyles(r,d){this.status=r,this.hasFeedback=d,this.cdr.markForCheck(),this.statusCls=(0,G.LP)(this.prefixCls,r,d),Object.keys(this.statusCls).forEach(p=>{this.statusCls[p]?this.renderer.addClass(this.element.nativeElement,p):this.renderer.removeClass(this.element.nativeElement,p)})}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(xe.yx),t.rXU(en.Og),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(en.cr),t.rXU(oe.OD),t.rXU(Z.dS,8),t.rXU(k.is,8),t.rXU(k.n1,8))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-time-picker"]],viewQuery:function(d,p){if(1&d&&t.GBs(ns,7),2&d){let S;t.mGM(S=t.lsd())&&(p.inputRef=S.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(d,p){1&d&&t.bIt("click",function(){return p.open()}),2&d&&t.AVh("ant-picker-large","large"===p.nzSize)("ant-picker-small","small"===p.nzSize)("ant-picker-disabled",p.nzDisabled)("ant-picker-focused",p.focused)("ant-picker-rtl","rtl"===p.dir)("ant-picker-borderless",p.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:"nzUse12Hours",nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:"nzHideDisabledOptions",nzAllowEmpty:"nzAllowEmpty",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzBackdrop:"nzBackdrop",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],standalone:!0,features:[t.Jv_([{provide:m.kq,useExisting:h,multi:!0}]),t.OA$,t.aNF],decls:9,vars:16,consts:[["inputElement",""],[1,"ant-picker-input"],["type","text","autocomplete","off",3,"ngModelChange","focus","blur","keyup.enter","keyup.escape","size","placeholder","ngModel","disabled","readOnly"],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status",4,"ngIf"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"detach","overlayOutsideClick","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-icon","",3,"nzType"],[3,"status"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngModelChange","closePanel","ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"div",1)(1,"input",2,0),t.nI1(3,"async"),t.mxI("ngModelChange",function(Ue){return t.eBV(S),t.DH7(p.inputValue,Ue)||(p.inputValue=Ue),t.Njj(Ue)}),t.bIt("focus",function(){return t.eBV(S),t.Njj(p.onFocus(!0))})("blur",function(){return t.eBV(S),t.Njj(p.onFocus(!1))})("keyup.enter",function(){return t.eBV(S),t.Njj(p.onKeyupEnter())})("keyup.escape",function(){return t.eBV(S),t.Njj(p.onKeyupEsc())})("ngModelChange",function(Ue){return t.eBV(S),t.Njj(p.onInputChange(Ue))}),t.k0s(),t.j41(4,"span",3),t.DNE(5,Ii,2,1,"ng-container",4)(6,Si,1,1,"nz-form-item-feedback-icon",5),t.k0s(),t.DNE(7,si,2,2,"span",6),t.k0s(),t.DNE(8,Ti,5,21,"ng-template",7),t.bIt("detach",function(){return t.eBV(S),t.Njj(p.close())})("overlayOutsideClick",function(Ue){return t.eBV(S),t.Njj(p.onClickOutside(Ue))})}2&d&&(t.R7$(),t.Y8G("size",p.inputSize)("placeholder",p.nzPlaceHolder||t.bMT(3,14,p.i18nPlaceHolder$)),t.R50("ngModel",p.inputValue),t.Y8G("disabled",p.nzDisabled)("readOnly",p.nzInputReadOnly),t.BMQ("id",p.nzId),t.R7$(4),t.Y8G("nzStringTemplateOutlet",p.nzSuffixIcon),t.R7$(),t.Y8G("ngIf",p.hasFeedback&&!!p.status),t.R7$(),t.Y8G("ngIf",p.nzAllowEmpty&&!p.nzDisabled&&p.value),t.R7$(),t.Y8G("cdkConnectedOverlayHasBackdrop",p.nzBackdrop)("cdkConnectedOverlayPositions",p.overlayPositions)("cdkConnectedOverlayOrigin",p.origin)("cdkConnectedOverlayOpen",p.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[f.Jj,m.YN,m.me,m.BC,m.vS,Ge.C,Ge.m,w.Y3,w.Dn,k.J1,k.Xd,f.bT,oi,f.YU,he.$_,he.vT,fe.z_,fe.WB],encapsulation:2,data:{animation:[ze.U1]},changeDetection:0})}return(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzHourStep",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzMinuteStep",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzSecondStep",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzClearText",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzNowText",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzOkText",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzPopupClassName",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzFormat",void 0),(0,X.Cg)([(0,xe.H4)(),(0,G.H3)()],h.prototype,"nzUse12Hours",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzSuffixIcon",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzHideDisabledOptions",void 0),(0,X.Cg)([(0,xe.H4)(),(0,G.H3)()],h.prototype,"nzAllowEmpty",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzAutoFocus",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzBackdrop",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzBorderless",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzInputReadOnly",void 0),h})(),hr=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({imports:[io,oi]})}return h})();var dr=C(5979);function ur(h,M){1&h&&t.eu8(0)}function pr(h,M){if(1&h&&t.DNE(0,ur,1,0,"ng-container",3),2&h){const r=t.XpG(2);t.Y8G("ngTemplateOutlet",r.extraFooter)}}function fr(h,M){if(1&h&&t.nrm(0,"span",2),2&h){const r=t.XpG(2);t.Y8G("innerHTML",r.extraFooter,t.npT)}}function gr(h,M){if(1&h&&(t.j41(0,"div"),t.DNE(1,pr,1,1,"ng-container")(2,fr,1,1,"span",2),t.k0s()),2&h){const r=t.XpG();t.ZvI("",r.prefixCls,"-footer-extra"),t.R7$(),t.vxM(1,r.isExtraFooterTemplateRef?1:-1),t.R7$(),t.vxM(2,r.isExtraFooterNonEmptyString?2:-1)}}function mr(h,M){if(1&h){const r=t.RV6();t.j41(0,"a",4),t.bIt("click",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.isTodayDisabled?null:p.onClickToday())}),t.EFF(1),t.k0s()}if(2&h){const r=t.XpG();t.STu("",r.prefixCls,"-today-btn ",r.isTodayDisabled?r.prefixCls+"-today-btn-disabled":"",""),t.FS9("title",r.todayTitle),t.R7$(),t.SpI(" ",r.locale.today," ")}}function _r(h,M){1&h&&t.eu8(0)}function vr(h,M){if(1&h){const r=t.RV6();t.j41(0,"li")(1,"a",5),t.bIt("click",function(){t.eBV(r);const p=t.XpG(2);return t.Njj(p.isTodayDisabled?null:p.onClickToday())}),t.EFF(2),t.k0s()()}if(2&h){const r=t.XpG(2);t.ZvI("",r.prefixCls,"-now"),t.R7$(),t.ZvI("",r.prefixCls,"-now-btn"),t.R7$(),t.SpI(" ",r.locale.now," ")}}function Cr(h,M){if(1&h){const r=t.RV6();t.j41(0,"li")(1,"button",6),t.bIt("click",function(){t.eBV(r);const p=t.XpG(2);return t.Njj(p.okDisabled?null:p.clickOk.emit())}),t.EFF(2),t.k0s()()}if(2&h){const r=t.XpG(2);t.ZvI("",r.prefixCls,"-ok"),t.R7$(),t.Y8G("disabled",r.okDisabled),t.R7$(),t.SpI(" ",r.locale.ok," ")}}function yr(h,M){if(1&h&&(t.j41(0,"ul"),t.DNE(1,_r,1,0,"ng-container",3)(2,vr,3,7,"li",0)(3,Cr,3,5,"li",0),t.k0s()),2&h){const r=t.XpG();t.ZvI("",r.prefixCls,"-ranges"),t.R7$(),t.Y8G("ngTemplateOutlet",r.rangeQuickSelector),t.R7$(),t.vxM(2,r.showNow?2:-1),t.R7$(),t.vxM(3,r.hasTimePicker?3:-1)}}function zr(h,M){if(1&h){const r=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onClick())}),t.EFF(1),t.k0s()}if(2&h){const r=M.$implicit;t.HbH(r.className),t.FS9("title",r.title||null),t.R7$(),t.SpI(" ",r.label," ")}}const ci=(h,M)=>M.trackByIndex,Qn=h=>({$implicit:h});function xi(h,M){1&h&&t.nrm(0,"th",3)}function so(h,M){if(1&h&&(t.j41(0,"th",4),t.EFF(1),t.k0s()),2&h){const r=M.$implicit;t.FS9("title",r.title),t.R7$(),t.SpI(" ",r.content," ")}}function br(h,M){if(1&h&&(t.j41(0,"thead")(1,"tr",2),t.DNE(2,xi,1,0,"th",3),t.Z7z(3,so,2,2,"th",4,t.fX1),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.vxM(2,r.showWeek?2:-1),t.R7$(),t.Dyx(r.headRow)}}function Sr(h,M){if(1&h&&(t.j41(0,"td",7),t.EFF(1),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG();t.ZvI("",d.prefixCls,"-cell-week"),t.R7$(),t.SpI(" ",r.weekNum," ")}}function Tr(h,M){1&h&&t.eu8(0)}function Oi(h,M){if(1&h&&t.DNE(0,Tr,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function xr(h,M){if(1&h&&t.nrm(0,"span",10),2&h){const r=t.XpG(2).$implicit;t.Y8G("innerHTML",r.cellRender,t.npT)}}function is(h,M){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-cell-inner"),t.BMQ("aria-selected",r.isSelected)("aria-disabled",r.isDisabled),t.R7$(),t.SpI(" ",r.content," ")}}function Or(h,M){if(1&h&&t.DNE(0,Oi,1,4,"ng-container")(1,xr,1,1)(2,is,2,6),2&h){const r=t.XpG().$implicit;t.vxM(0,r.isTemplateRef?0:r.isNonEmptyString?1:2)}}function Dr(h,M){1&h&&t.eu8(0)}function wr(h,M){if(1&h&&t.DNE(0,Dr,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.fullCellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function Mr(h,M){1&h&&t.eu8(0)}function Er(h,M){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s(),t.j41(2,"div"),t.DNE(3,Mr,1,0,"ng-container",9),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date-value"),t.R7$(),t.JRh(r.content),t.R7$(),t.ZvI("",d.prefixCls,"-date-content"),t.R7$(),t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(9,Qn,r.value))}}function Pr(h,M){if(1&h&&(t.j41(0,"div"),t.DNE(1,wr,1,4,"ng-container")(2,Er,4,11),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date ant-picker-cell-inner"),t.AVh("ant-picker-calendar-date-today",r.isToday),t.R7$(),t.vxM(1,r.fullCellRender?1:2)}}function kr(h,M){if(1&h){const r=t.RV6();t.j41(0,"td",8),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.isDisabled?null:p.onClick())})("mouseenter",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onMouseEnter())}),t.DNE(1,Or,3,1)(2,Pr,3,6),t.k0s()}if(2&h){let r;const d=M.$implicit,p=t.XpG(2);t.FS9("title",d.title),t.Y8G("ngClass",d.classMap),t.R7$(),t.vxM(1,"ant-picker"===(r=p.prefixCls)?1:"ant-picker-calendar"===r?2:-1)}}function oo(h,M){if(1&h&&(t.j41(0,"tr",1),t.DNE(1,Sr,2,4,"td",5),t.Z7z(2,kr,3,3,"td",6,ci),t.k0s()),2&h){const r=M.$implicit;t.Y8G("ngClass",r.classMap),t.R7$(),t.vxM(1,r.weekNum?1:-1),t.R7$(),t.Dyx(r.dateCells)}}function ro(h,M){if(1&h){const r=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onClick())}),t.EFF(1),t.k0s()}if(2&h){const r=M.$implicit;t.HbH(r.className),t.FS9("title",r.title||null),t.R7$(),t.SpI(" ",r.label," ")}}function Nr(h,M){1&h&&t.nrm(0,"th",3)}function Di(h,M){if(1&h&&(t.j41(0,"th",4),t.EFF(1),t.k0s()),2&h){const r=M.$implicit;t.FS9("title",r.title),t.R7$(),t.SpI(" ",r.content," ")}}function Ri(h,M){if(1&h&&(t.j41(0,"thead")(1,"tr",2),t.DNE(2,Nr,1,0,"th",3),t.Z7z(3,Di,2,2,"th",4,t.fX1),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.vxM(2,r.showWeek?2:-1),t.R7$(),t.Dyx(r.headRow)}}function ao(h,M){if(1&h&&(t.j41(0,"td",7),t.EFF(1),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG();t.ZvI("",d.prefixCls,"-cell-week"),t.R7$(),t.SpI(" ",r.weekNum," ")}}function Fi(h,M){1&h&&t.eu8(0)}function vi(h,M){if(1&h&&t.DNE(0,Fi,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function Ir(h,M){if(1&h&&t.nrm(0,"span",10),2&h){const r=t.XpG(2).$implicit;t.Y8G("innerHTML",r.cellRender,t.npT)}}function Es(h,M){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-cell-inner"),t.BMQ("aria-selected",r.isSelected)("aria-disabled",r.isDisabled),t.R7$(),t.SpI(" ",r.content," ")}}function Fa(h,M){if(1&h&&t.DNE(0,vi,1,4,"ng-container")(1,Ir,1,1)(2,Es,2,6),2&h){const r=t.XpG().$implicit;t.vxM(0,r.isTemplateRef?0:r.isNonEmptyString?1:2)}}function Ar(h,M){1&h&&t.eu8(0)}function Bi(h,M){if(1&h&&t.DNE(0,Ar,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.fullCellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function lo(h,M){1&h&&t.eu8(0)}function Rr(h,M){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s(),t.j41(2,"div"),t.DNE(3,lo,1,0,"ng-container",9),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date-value"),t.R7$(),t.JRh(r.content),t.R7$(),t.ZvI("",d.prefixCls,"-date-content"),t.R7$(),t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(9,Qn,r.value))}}function Ba(h,M){if(1&h&&(t.j41(0,"div"),t.DNE(1,Bi,1,4,"ng-container")(2,Rr,4,11),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date ant-picker-cell-inner"),t.AVh("ant-picker-calendar-date-today",r.isToday),t.R7$(),t.vxM(1,r.fullCellRender?1:2)}}function La(h,M){if(1&h){const r=t.RV6();t.j41(0,"td",8),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.isDisabled?null:p.onClick())})("mouseenter",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onMouseEnter())}),t.DNE(1,Fa,3,1)(2,Ba,3,6),t.k0s()}if(2&h){let r;const d=M.$implicit,p=t.XpG(2);t.FS9("title",d.title),t.Y8G("ngClass",d.classMap),t.R7$(),t.vxM(1,"ant-picker"===(r=p.prefixCls)?1:"ant-picker-calendar"===r?2:-1)}}function Va(h,M){if(1&h&&(t.j41(0,"tr",1),t.DNE(1,ao,2,4,"td",5),t.Z7z(2,La,3,3,"td",6,ci),t.k0s()),2&h){const r=M.$implicit;t.Y8G("ngClass",r.classMap),t.R7$(),t.vxM(1,r.weekNum?1:-1),t.R7$(),t.Dyx(r.dateCells)}}function co(h,M){if(1&h){const r=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onClick())}),t.EFF(1),t.k0s()}if(2&h){const r=M.$implicit;t.HbH(r.className),t.FS9("title",r.title||null),t.R7$(),t.SpI(" ",r.label," ")}}function Fr(h,M){1&h&&t.nrm(0,"th",3)}function Br(h,M){if(1&h&&(t.j41(0,"th",4),t.EFF(1),t.k0s()),2&h){const r=M.$implicit;t.FS9("title",r.title),t.R7$(),t.SpI(" ",r.content," ")}}function wi(h,M){if(1&h&&(t.j41(0,"thead")(1,"tr",2),t.DNE(2,Fr,1,0,"th",3),t.Z7z(3,Br,2,2,"th",4,t.fX1),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.vxM(2,r.showWeek?2:-1),t.R7$(),t.Dyx(r.headRow)}}function Mi(h,M){if(1&h&&(t.j41(0,"td",7),t.EFF(1),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG();t.ZvI("",d.prefixCls,"-cell-week"),t.R7$(),t.SpI(" ",r.weekNum," ")}}function Ps(h,M){1&h&&t.eu8(0)}function ks(h,M){if(1&h&&t.DNE(0,Ps,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function ho(h,M){if(1&h&&t.nrm(0,"span",10),2&h){const r=t.XpG(2).$implicit;t.Y8G("innerHTML",r.cellRender,t.npT)}}function uo(h,M){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-cell-inner"),t.BMQ("aria-selected",r.isSelected)("aria-disabled",r.isDisabled),t.R7$(),t.SpI(" ",r.content," ")}}function po(h,M){if(1&h&&t.DNE(0,ks,1,4,"ng-container")(1,ho,1,1)(2,uo,2,6),2&h){const r=t.XpG().$implicit;t.vxM(0,r.isTemplateRef?0:r.isNonEmptyString?1:2)}}function fo(h,M){1&h&&t.eu8(0)}function Lr(h,M){if(1&h&&t.DNE(0,fo,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.fullCellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function $a(h,M){1&h&&t.eu8(0)}function Vr(h,M){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s(),t.j41(2,"div"),t.DNE(3,$a,1,0,"ng-container",9),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date-value"),t.R7$(),t.JRh(r.content),t.R7$(),t.ZvI("",d.prefixCls,"-date-content"),t.R7$(),t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(9,Qn,r.value))}}function L(h,M){if(1&h&&(t.j41(0,"div"),t.DNE(1,Lr,1,4,"ng-container")(2,Vr,4,11),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date ant-picker-cell-inner"),t.AVh("ant-picker-calendar-date-today",r.isToday),t.R7$(),t.vxM(1,r.fullCellRender?1:2)}}function ut(h,M){if(1&h){const r=t.RV6();t.j41(0,"td",8),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.isDisabled?null:p.onClick())})("mouseenter",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onMouseEnter())}),t.DNE(1,po,3,1)(2,L,3,6),t.k0s()}if(2&h){let r;const d=M.$implicit,p=t.XpG(2);t.FS9("title",d.title),t.Y8G("ngClass",d.classMap),t.R7$(),t.vxM(1,"ant-picker"===(r=p.prefixCls)?1:"ant-picker-calendar"===r?2:-1)}}function O(h,M){if(1&h&&(t.j41(0,"tr",1),t.DNE(1,Mi,2,4,"td",5),t.Z7z(2,ut,3,3,"td",6,ci),t.k0s()),2&h){const r=M.$implicit;t.Y8G("ngClass",r.classMap),t.R7$(),t.vxM(1,r.weekNum?1:-1),t.R7$(),t.Dyx(r.dateCells)}}function A(h,M){if(1&h){const r=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onClick())}),t.EFF(1),t.k0s()}if(2&h){const r=M.$implicit;t.HbH(r.className),t.FS9("title",r.title||null),t.R7$(),t.SpI(" ",r.label," ")}}function H(h,M){1&h&&t.nrm(0,"th",3)}function Ae(h,M){if(1&h&&(t.j41(0,"th",4),t.EFF(1),t.k0s()),2&h){const r=M.$implicit;t.FS9("title",r.title),t.R7$(),t.SpI(" ",r.content," ")}}function ft(h,M){if(1&h&&(t.j41(0,"thead")(1,"tr",2),t.DNE(2,H,1,0,"th",3),t.Z7z(3,Ae,2,2,"th",4,t.fX1),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.vxM(2,r.showWeek?2:-1),t.R7$(),t.Dyx(r.headRow)}}function Vt(h,M){if(1&h&&(t.j41(0,"td",7),t.EFF(1),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG();t.ZvI("",d.prefixCls,"-cell-week"),t.R7$(),t.SpI(" ",r.weekNum," ")}}function Xt(h,M){1&h&&t.eu8(0)}function tn(h,M){if(1&h&&t.DNE(0,Xt,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function fn(h,M){if(1&h&&t.nrm(0,"span",10),2&h){const r=t.XpG(2).$implicit;t.Y8G("innerHTML",r.cellRender,t.npT)}}function $t(h,M){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-cell-inner"),t.BMQ("aria-selected",r.isSelected)("aria-disabled",r.isDisabled),t.R7$(),t.SpI(" ",r.content," ")}}function Yn(h,M){if(1&h&&t.DNE(0,tn,1,4,"ng-container")(1,fn,1,1)(2,$t,2,6),2&h){const r=t.XpG().$implicit;t.vxM(0,r.isTemplateRef?0:r.isNonEmptyString?1:2)}}function hi(h,M){1&h&&t.eu8(0)}function Ci(h,M){if(1&h&&t.DNE(0,hi,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.fullCellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function ja(h,M){1&h&&t.eu8(0)}function Nc(h,M){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s(),t.j41(2,"div"),t.DNE(3,ja,1,0,"ng-container",9),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date-value"),t.R7$(),t.JRh(r.content),t.R7$(),t.ZvI("",d.prefixCls,"-date-content"),t.R7$(),t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(9,Qn,r.value))}}function Ic(h,M){if(1&h&&(t.j41(0,"div"),t.DNE(1,Ci,1,4,"ng-container")(2,Nc,4,11),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date ant-picker-cell-inner"),t.AVh("ant-picker-calendar-date-today",r.isToday),t.R7$(),t.vxM(1,r.fullCellRender?1:2)}}function Ac(h,M){if(1&h){const r=t.RV6();t.j41(0,"td",8),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.isDisabled?null:p.onClick())})("mouseenter",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onMouseEnter())}),t.DNE(1,Yn,3,1)(2,Ic,3,6),t.k0s()}if(2&h){let r;const d=M.$implicit,p=t.XpG(2);t.FS9("title",d.title),t.Y8G("ngClass",d.classMap),t.R7$(),t.vxM(1,"ant-picker"===(r=p.prefixCls)?1:"ant-picker-calendar"===r?2:-1)}}function ss(h,M){if(1&h&&(t.j41(0,"tr",1),t.DNE(1,Vt,2,4,"td",5),t.Z7z(2,Ac,3,3,"td",6,ci),t.k0s()),2&h){const r=M.$implicit;t.Y8G("ngClass",r.classMap),t.R7$(),t.vxM(1,r.weekNum?1:-1),t.R7$(),t.Dyx(r.dateCells)}}function Rc(h,M){if(1&h){const r=t.RV6();t.j41(0,"decade-header",1),t.mxI("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.DH7(S.activeDate,p)||(S.activeDate=p),t.Njj(p)}),t.bIt("panelModeChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.panelModeChange.emit(p))})("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.headerChange.emit(p))}),t.k0s(),t.j41(1,"div")(2,"decade-table",2),t.bIt("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onChooseDecade(p))}),t.k0s()()}if(2&h){const r=t.XpG();t.R50("value",r.activeDate),t.Y8G("locale",r.locale)("showSuperPreBtn",r.enablePrevNext("prev","decade"))("showSuperNextBtn",r.enablePrevNext("next","decade"))("showNextBtn",!1)("showPreBtn",!1),t.R7$(),t.ZvI("",r.prefixCls,"-body"),t.R7$(),t.Y8G("activeDate",r.activeDate)("value",r.value)("locale",r.locale)("disabledDate",r.disabledDate)}}function Fc(h,M){if(1&h){const r=t.RV6();t.j41(0,"year-header",1),t.mxI("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.DH7(S.activeDate,p)||(S.activeDate=p),t.Njj(p)}),t.bIt("panelModeChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.panelModeChange.emit(p))})("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.headerChange.emit(p))}),t.k0s(),t.j41(1,"div")(2,"year-table",3),t.bIt("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onChooseYear(p))})("cellHover",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.cellHover.emit(p))}),t.k0s()()}if(2&h){const r=t.XpG();t.R50("value",r.activeDate),t.Y8G("locale",r.locale)("showSuperPreBtn",r.enablePrevNext("prev","year"))("showSuperNextBtn",r.enablePrevNext("next","year"))("showNextBtn",!1)("showPreBtn",!1),t.R7$(),t.ZvI("",r.prefixCls,"-body"),t.R7$(),t.Y8G("activeDate",r.activeDate)("value",r.value)("locale",r.locale)("disabledDate",r.disabledDate)("selectedValue",r.selectedValue)("hoverValue",r.hoverValue)}}function Bc(h,M){if(1&h){const r=t.RV6();t.j41(0,"month-header",1),t.mxI("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.DH7(S.activeDate,p)||(S.activeDate=p),t.Njj(p)}),t.bIt("panelModeChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.panelModeChange.emit(p))})("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.headerChange.emit(p))}),t.k0s(),t.j41(1,"div")(2,"month-table",4),t.bIt("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onChooseMonth(p))})("cellHover",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.cellHover.emit(p))}),t.k0s()()}if(2&h){const r=t.XpG();t.R50("value",r.activeDate),t.Y8G("locale",r.locale)("showSuperPreBtn",r.enablePrevNext("prev","month"))("showSuperNextBtn",r.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),t.R7$(),t.ZvI("",r.prefixCls,"-body"),t.R7$(),t.Y8G("value",r.value)("activeDate",r.activeDate)("locale",r.locale)("disabledDate",r.disabledDate)("selectedValue",r.selectedValue)("hoverValue",r.hoverValue)}}function go(h,M){if(1&h){const r=t.RV6();t.j41(0,"date-header",5),t.mxI("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.DH7(S.activeDate,p)||(S.activeDate=p),t.Njj(p)}),t.bIt("panelModeChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.panelModeChange.emit(p))})("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.headerChange.emit(p))}),t.k0s(),t.j41(1,"div")(2,"date-table",6),t.bIt("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onSelectDate(p))})("cellHover",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.cellHover.emit(p))}),t.k0s()()}if(2&h){const r=t.XpG();t.R50("value",r.activeDate),t.Y8G("locale",r.locale)("showSuperPreBtn",r.enablePrevNext("prev","week"===r.panelMode?"week":"date"))("showSuperNextBtn",r.enablePrevNext("next","week"===r.panelMode?"week":"date"))("showPreBtn",r.enablePrevNext("prev","week"===r.panelMode?"week":"date"))("showNextBtn",r.enablePrevNext("next","week"===r.panelMode?"week":"date")),t.R7$(),t.ZvI("",r.prefixCls,"-body"),t.R7$(),t.Y8G("locale",r.locale)("showWeek",r.showWeek)("value",r.value)("activeDate",r.activeDate)("disabledDate",r.disabledDate)("cellRender",r.dateRender)("selectedValue",r.selectedValue)("hoverValue",r.hoverValue)("canSelectWeek","week"===r.panelMode)}}function Lc(h,M){if(1&h){const r=t.RV6();t.j41(0,"nz-time-picker-panel",7),t.bIt("ngModelChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onSelectTime(p))}),t.k0s()}if(2&h){const r=t.XpG();t.Y8G("nzInDatePicker",!0)("ngModel",null==r.value?null:r.value.nativeDate)("format",r.timeOptions.nzFormat)("nzHourStep",r.timeOptions.nzHourStep)("nzMinuteStep",r.timeOptions.nzMinuteStep)("nzSecondStep",r.timeOptions.nzSecondStep)("nzDisabledHours",r.timeOptions.nzDisabledHours)("nzDisabledMinutes",r.timeOptions.nzDisabledMinutes)("nzDisabledSeconds",r.timeOptions.nzDisabledSeconds)("nzHideDisabledOptions",!!r.timeOptions.nzHideDisabledOptions)("nzDefaultOpenValue",r.timeOptions.nzDefaultOpenValue)("nzUse12Hours",!!r.timeOptions.nzUse12Hours)("nzAddOn",r.timeOptions.nzAddOn)}}const Vc=h=>({partType:h}),mo=()=>({partType:"left"}),Ga=()=>({partType:"right"});function $c(h,M){1&h&&t.eu8(0)}function Ns(h,M){if(1&h&&t.DNE(0,$c,1,0,"ng-container",6),2&h){const r=t.XpG(2),d=t.sdS(3);t.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",t.eq3(2,Vc,r.datePickerService.activeInput))}}function jc(h,M){1&h&&t.eu8(0)}function Ha(h,M){1&h&&t.eu8(0)}function Gc(h,M){if(1&h&&t.DNE(0,jc,1,0,"ng-container",6)(1,Ha,1,0,"ng-container",6),2&h){t.XpG(2);const r=t.sdS(3);t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(4,mo)),t.R7$(),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(5,Ga))}}function Is(h,M){1&h&&t.eu8(0)}function Hc(h,M){if(1&h&&(t.j41(0,"div"),t.nrm(1,"div",4),t.j41(2,"div")(3,"div"),t.DNE(4,Ns,1,4,"ng-container")(5,Gc,2,6),t.k0s(),t.DNE(6,Is,1,0,"ng-container",5),t.k0s()()),2&h){const r=t.XpG(),d=t.sdS(5);t.STu("",r.prefixCls,"-range-wrapper ",r.prefixCls,"-date-range-wrapper"),t.R7$(),t.ZvI("",r.prefixCls,"-range-arrow"),t.Y8G("ngStyle",r.arrowPosition),t.R7$(),t.STu("",r.prefixCls,"-panel-container ",r.showWeek?r.prefixCls+"-week-number":"",""),t.R7$(),t.ZvI("",r.prefixCls,"-panels"),t.R7$(),t.vxM(4,r.hasTimePicker?4:5),t.R7$(2),t.Y8G("ngTemplateOutlet",d)}}function _o(h,M){1&h&&t.eu8(0)}function Uc(h,M){1&h&&t.eu8(0)}function vo(h,M){if(1&h&&(t.j41(0,"div")(1,"div",7),t.DNE(2,_o,1,0,"ng-container",5)(3,Uc,1,0,"ng-container",5),t.k0s()()),2&h){const r=t.XpG(),d=t.sdS(3),p=t.sdS(5);t.ee0("",r.prefixCls,"-panel-container ",r.showWeek?r.prefixCls+"-week-number":""," ",r.hasTimePicker?r.prefixCls+"-time":""," ",r.isRange?r.prefixCls+"-range":"",""),t.R7$(),t.ZvI("",r.prefixCls,"-panel"),t.AVh("ant-picker-panel-rtl","rtl"===r.dir),t.R7$(),t.Y8G("ngTemplateOutlet",d),t.R7$(),t.Y8G("ngTemplateOutlet",p)}}function Xc(h,M){if(1&h){const r=t.RV6();t.j41(0,"div")(1,"inner-popup",8),t.bIt("panelModeChange",function(p){const S=t.eBV(r).partType,se=t.XpG();return t.Njj(se.onPanelModeChange(p,S))})("cellHover",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onCellHover(p))})("selectDate",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.changeValueFromSelect(p,!S.showTime))})("selectTime",function(p){const S=t.eBV(r).partType,se=t.XpG();return t.Njj(se.onSelectTime(p,S))})("headerChange",function(p){const S=t.eBV(r).partType,se=t.XpG();return t.Njj(se.onActiveDateChange(p,S))}),t.k0s()()}if(2&h){const r=M.partType,d=t.XpG();t.ZvI("",d.prefixCls,"-panel"),t.AVh("ant-picker-panel-rtl","rtl"===d.dir),t.R7$(),t.Y8G("showWeek",d.showWeek)("endPanelMode",d.getPanelMode(d.endPanelMode,r))("partType",r)("locale",d.locale)("showTimePicker",d.hasTimePicker)("timeOptions",d.getTimeOptions(r))("panelMode",d.getPanelMode(d.panelMode,r))("activeDate",d.getActiveDate(r))("value",d.getValue(r))("disabledDate",d.disabledDate)("dateRender",d.dateRender)("selectedValue",null==d.datePickerService?null:d.datePickerService.value)("hoverValue",d.hoverValue)}}function Co(h,M){if(1&h){const r=t.RV6();t.j41(0,"calendar-footer",10),t.bIt("clickOk",function(){t.eBV(r);const p=t.XpG(2);return t.Njj(p.onClickOk())})("clickToday",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onClickToday(p))}),t.k0s()}if(2&h){const r=t.XpG(2),d=t.sdS(7);t.Y8G("locale",r.locale)("isRange",r.isRange)("showToday",r.showToday)("showNow",r.showNow)("hasTimePicker",r.hasTimePicker)("okDisabled",!r.isAllowed(null==r.datePickerService?null:r.datePickerService.value))("extraFooter",r.extraFooter)("rangeQuickSelector",r.ranges?d:null)}}function Wc(h,M){if(1&h&&t.DNE(0,Co,1,8,"calendar-footer",9),2&h){const r=t.XpG();t.vxM(0,r.hasFooter?0:-1)}}function Yc(h,M){if(1&h){const r=t.RV6();t.j41(0,"li",11),t.bIt("click",function(){const p=t.eBV(r).$implicit,S=t.XpG(2);return t.Njj(S.onClickPresetRange(S.ranges[p]))})("mouseenter",function(){const p=t.eBV(r).$implicit,S=t.XpG(2);return t.Njj(S.onHoverPresetRange(S.ranges[p]))})("mouseleave",function(){t.eBV(r);const p=t.XpG(2);return t.Njj(p.onPresetRangeMouseLeave())}),t.j41(1,"span",12),t.EFF(2),t.k0s()()}if(2&h){const r=M.$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-preset"),t.R7$(2),t.JRh(r)}}function Kc(h,M){if(1&h&&t.Z7z(0,Yc,3,4,"li",3,t.fX1),2&h){const r=t.XpG();t.Dyx(r.getObjectKeys(r.ranges))}}const $r=["separatorElement"],Qc=["pickerInput"],Zc=["rangePickerInput"];function Jc(h,M){1&h&&t.eu8(0)}function qc(h,M){if(1&h){const r=t.RV6();t.j41(0,"div")(1,"input",8,3),t.mxI("ngModelChange",function(p){t.eBV(r);const S=t.XpG(2);return t.DH7(S.inputValue,p)||(S.inputValue=p),t.Njj(p)}),t.bIt("focus",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onFocus(p))})("focusout",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onFocusout(p))})("ngModelChange",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onInputChange(p))})("keyup.enter",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onKeyupEnter(p))}),t.k0s(),t.DNE(3,Jc,1,0,"ng-container",9),t.k0s()}if(2&h){const r=t.XpG(2),d=t.sdS(5);t.ZvI("",r.prefixCls,"-input"),t.R7$(),t.AVh("ant-input-disabled",r.nzDisabled),t.FS9("placeholder",r.getPlaceholder()),t.Y8G("disabled",r.nzDisabled)("readOnly",r.nzInputReadOnly),t.R50("ngModel",r.inputValue),t.Y8G("size",r.inputSize),t.BMQ("id",r.nzId),t.R7$(2),t.Y8G("ngTemplateOutlet",d)}}function eh(h,M){1&h&&t.eu8(0)}function th(h,M){if(1&h&&t.EFF(0),2&h){const r=t.XpG(4);t.SpI(" ",r.nzSeparator," ")}}function nh(h,M){1&h&&t.nrm(0,"span",12)}function Ua(h,M){if(1&h&&(t.qex(0),t.DNE(1,th,1,1)(2,nh,1,0),t.bVm()),2&h){const r=t.XpG(3);t.R7$(),t.vxM(1,r.nzSeparator?1:2)}}function ih(h,M){1&h&&t.eu8(0)}function sh(h,M){1&h&&t.eu8(0)}function oh(h,M){if(1&h&&(t.j41(0,"div"),t.DNE(1,eh,1,0,"ng-container",10),t.k0s(),t.j41(2,"div",null,4)(4,"span"),t.DNE(5,Ua,3,1,"ng-container",11),t.k0s()(),t.j41(6,"div"),t.DNE(7,ih,1,0,"ng-container",10),t.k0s(),t.DNE(8,sh,1,0,"ng-container",9)),2&h){const r=t.XpG(2),d=t.sdS(3),p=t.sdS(5);t.ZvI("",r.prefixCls,"-input"),t.R7$(),t.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",t.lJ4(18,mo)),t.R7$(),t.ZvI("",r.prefixCls,"-range-separator"),t.R7$(2),t.ZvI("",r.prefixCls,"-separator"),t.R7$(),t.Y8G("nzStringTemplateOutlet",r.nzSeparator),t.R7$(),t.ZvI("",r.prefixCls,"-input"),t.R7$(),t.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",t.lJ4(19,Ga)),t.R7$(),t.Y8G("ngTemplateOutlet",p)}}function jr(h,M){if(1&h&&t.DNE(0,qc,4,12,"div",7)(1,oh,9,20),2&h){const r=t.XpG();t.vxM(0,r.isRange?1:0)}}function Xa(h,M){}function rh(h,M){if(1&h&&t.DNE(0,Xa,0,0,"ng-template",13),2&h){t.XpG();const r=t.sdS(7);t.Y8G("ngTemplateOutlet",r)}}function ah(h,M){if(1&h){const r=t.RV6();t.j41(0,"input",14,5),t.bIt("click",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onClickInputBox(p))})("focusout",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onFocusout(p))})("focus",function(p){const S=t.eBV(r).partType,se=t.XpG();return t.Njj(se.onFocus(p,S))})("keyup.enter",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onKeyupEnter(p))}),t.mxI("ngModelChange",function(p){const S=t.eBV(r).partType,se=t.XpG();return t.DH7(se.inputValue[se.datePickerService.getActiveIndex(S)],p)||(se.inputValue[se.datePickerService.getActiveIndex(S)]=p),t.Njj(p)}),t.bIt("ngModelChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onInputChange(p))}),t.k0s()}if(2&h){const r=M.partType,d=t.XpG();t.FS9("placeholder",d.getPlaceholder(r)),t.Y8G("disabled",d.nzDisabled)("readOnly",d.nzInputReadOnly)("size",d.inputSize),t.R50("ngModel",d.inputValue[d.datePickerService.getActiveIndex(r)]),t.BMQ("id",d.nzId)}}function Wa(h,M){if(1&h){const r=t.RV6();t.j41(0,"span",17),t.bIt("click",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onClickClear(p))}),t.nrm(1,"span",18),t.k0s()}if(2&h){const r=t.XpG(2);t.ZvI("",r.prefixCls,"-clear")}}function yo(h,M){if(1&h&&(t.qex(0),t.nrm(1,"span",19),t.bVm()),2&h){const r=M.$implicit;t.R7$(),t.Y8G("nzType",r)}}function lh(h,M){if(1&h&&t.nrm(0,"nz-form-item-feedback-icon",16),2&h){const r=t.XpG(2);t.Y8G("status",r.status)}}function ch(h,M){if(1&h&&(t.nrm(0,"div",15),t.DNE(1,Wa,2,3,"span",7),t.j41(2,"span"),t.DNE(3,yo,2,1,"ng-container",11)(4,lh,1,1,"nz-form-item-feedback-icon",16),t.k0s()),2&h){const r=t.XpG();t.ZvI("",r.prefixCls,"-active-bar"),t.Y8G("ngStyle",r.activeBarStyle),t.R7$(),t.vxM(1,r.showClear?1:-1),t.R7$(),t.ZvI("",r.prefixCls,"-suffix"),t.R7$(),t.Y8G("nzStringTemplateOutlet",r.nzSuffixIcon),t.R7$(),t.vxM(4,r.hasFeedback&&r.status?4:-1)}}function hh(h,M){if(1&h){const r=t.RV6();t.j41(0,"div",15)(1,"date-range-popup",20),t.bIt("panelModeChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onPanelModeChange(p))})("calendarChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onCalendarChange(p))})("resultOk",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.onResultOk())}),t.k0s()()}if(2&h){const r=t.XpG();t.STu("",r.prefixCls,"-dropdown ",r.nzDropdownClassName,""),t.AVh("ant-picker-dropdown-rtl","rtl"===r.dir)("ant-picker-dropdown-placement-bottomLeft","bottom"===r.currentPositionY&&"start"===r.currentPositionX)("ant-picker-dropdown-placement-topLeft","top"===r.currentPositionY&&"start"===r.currentPositionX)("ant-picker-dropdown-placement-bottomRight","bottom"===r.currentPositionY&&"end"===r.currentPositionX)("ant-picker-dropdown-placement-topRight","top"===r.currentPositionY&&"end"===r.currentPositionX)("ant-picker-dropdown-range",r.isRange)("ant-picker-active-left","left"===r.datePickerService.activeInput)("ant-picker-active-right","right"===r.datePickerService.activeInput),t.Y8G("ngStyle",r.nzPopupStyle),t.R7$(),t.Y8G("isRange",r.isRange)("inline",r.nzInline)("defaultPickerValue",r.nzDefaultPickerValue)("showWeek",r.nzShowWeekNumber||"week"===r.nzMode)("panelMode",r.panelMode)("locale",null==r.nzLocale?null:r.nzLocale.lang)("showToday","date"===r.nzMode&&r.nzShowToday&&!r.isRange&&!r.nzShowTime)("showNow","date"===r.nzMode&&r.nzShowNow&&!r.isRange&&!!r.nzShowTime)("showTime",r.nzShowTime)("dateRender",r.nzDateRender)("disabledDate",r.nzDisabledDate)("disabledTime",r.nzDisabledTime)("extraFooter",r.extraFooter)("ranges",r.nzRanges)("dir",r.dir)}}function Ya(h,M){1&h&&t.eu8(0)}function Ka(h,M){if(1&h&&(t.j41(0,"div",21),t.DNE(1,Ya,1,0,"ng-container",9),t.k0s()),2&h){const r=t.XpG(),d=t.sdS(7);t.xc7("position","relative"),t.Y8G("nzNoAnimation",!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("@slideMotion","enter"),t.R7$(),t.Y8G("ngTemplateOutlet",d)}}const zo="ant-picker",Qa={nzDisabledHours:()=>[],nzDisabledMinutes:()=>[],nzDisabledSeconds:()=>[]};function Za(h,M){let r=M?M(h&&h.nativeDate):{};return r={...Qa,...r},r}function yi(h,M,r){return!(!h||M&&M(h.nativeDate)||r&&!function uh(h,M){return function dh(h,M){let r=!1;if(h){const d=h.getHours(),p=h.getMinutes(),S=h.getSeconds();r=-1!==M.nzDisabledHours().indexOf(d)||-1!==M.nzDisabledMinutes(d).indexOf(p)||-1!==M.nzDisabledSeconds(d,p).indexOf(S)}return!r}(h,Za(h,M))}(h,r))}function bo(h){return h&&h.replace(/Y/g,"y").replace(/D/g,"d")}let ph=(()=>{class h{constructor(r){this.dateHelper=r,this.showToday=!1,this.showNow=!1,this.hasTimePicker=!1,this.isRange=!1,this.okDisabled=!1,this.rangeQuickSelector=null,this.clickOk=new t.bkB,this.clickToday=new t.bkB,this.prefixCls=zo,this.isTemplateRef=G.my,this.isNonEmptyString=G.uI,this.isTodayDisabled=!1,this.todayTitle=""}ngOnChanges(r){const d=new Date;if(r.disabledDate&&(this.isTodayDisabled=!(!this.disabledDate||!this.disabledDate(d))),r.locale){const p=bo(this.locale.dateFormat);this.todayTitle=this.dateHelper.format(d,p)}}onClickToday(){const r=new Ft.KV;this.clickToday.emit(r.clone())}get isExtraFooterTemplateRef(){return(0,G.my)(this.extraFooter)}get isExtraFooterNonEmptyString(){return(0,G.uI)(this.extraFooter)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["calendar-footer"]],inputs:{locale:"locale",showToday:"showToday",showNow:"showNow",hasTimePicker:"hasTimePicker",isRange:"isRange",okDisabled:"okDisabled",disabledDate:"disabledDate",extraFooter:"extraFooter",rangeQuickSelector:"rangeQuickSelector"},outputs:{clickOk:"clickOk",clickToday:"clickToday"},exportAs:["calendarFooter"],standalone:!0,features:[t.OA$,t.aNF],decls:4,vars:6,consts:[[3,"class"],["role","button",3,"class","title"],[3,"innerHTML"],[4,"ngTemplateOutlet"],["role","button",3,"click","title"],[3,"click"],["nz-button","","type","button","nzType","primary","nzSize","small",3,"click","disabled"]],template:function(d,p){1&d&&(t.j41(0,"div"),t.DNE(1,gr,3,5,"div",0)(2,mr,2,6,"a",1)(3,yr,4,6,"ul",0),t.k0s()),2&d&&(t.ZvI("",p.prefixCls,"-footer"),t.R7$(),t.vxM(1,p.extraFooter?1:-1),t.R7$(),t.vxM(2,p.showToday?2:-1),t.R7$(),t.vxM(3,p.hasTimePicker||p.rangeQuickSelector?3:-1))},dependencies:[f.T3,ue.Zw,ue.aO,wn.c,kn.p],encapsulation:2,changeDetection:0})}return h})(),Gr=(()=>{class h{constructor(){this.activeInput="left",this.arrowLeft=0,this.isRange=!1,this.valueChange$=new Re.m(1),this.emitValue$=new ee.B,this.inputPartChange$=new ee.B}initValue(r=!1){r&&(this.initialValue=this.isRange?[]:null),this.setValue(this.initialValue)}hasValue(r=this.value){return Array.isArray(r)?!!r[0]||!!r[1]:!!r}makeValue(r){return this.isRange?r?r.map(d=>new Ft.KV(d)):[]:r?new Ft.KV(r):null}setActiveDate(r,d=!1,p="month"){this.activeDate=this.isRange?(0,Ft.aV)(r,d,{date:"month",month:"year",year:"decade"}[p],this.activeInput):(0,Ft.ad)(r)}setValue(r){this.value=r,this.valueChange$.next(this.value)}getActiveIndex(r=this.activeInput){return{left:0,right:1}[r]}ngOnDestroy(){this.valueChange$.complete(),this.emitValue$.complete(),this.inputPartChange$.complete()}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac})}return h})(),So=(()=>{class h{constructor(){this.prefixCls="ant-picker-header",this.selectors=[],this.showSuperPreBtn=!0,this.showSuperNextBtn=!0,this.showPreBtn=!0,this.showNextBtn=!0,this.panelModeChange=new t.bkB,this.valueChange=new t.bkB}superPreviousTitle(){return this.locale.previousYear}previousTitle(){return this.locale.previousMonth}superNextTitle(){return this.locale.nextYear}nextTitle(){return this.locale.nextMonth}superPrevious(){this.changeValue(this.value.addYears(-1))}superNext(){this.changeValue(this.value.addYears(1))}previous(){this.changeValue(this.value.addMonths(-1))}next(){this.changeValue(this.value.addMonths(1))}changeValue(r){this.value!==r&&(this.value=r,this.valueChange.emit(this.value),this.render())}changeMode(r){this.panelModeChange.emit(r)}render(){this.value&&(this.selectors=this.getSelectors())}ngOnInit(){this.value||(this.value=new Ft.KV),this.selectors=this.getSelectors()}ngOnChanges(r){(r.value||r.locale)&&this.render()}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275dir=t.FsC({type:h,inputs:{value:"value",locale:"locale",showSuperPreBtn:"showSuperPreBtn",showSuperNextBtn:"showSuperNextBtn",showPreBtn:"showPreBtn",showNextBtn:"showNextBtn"},outputs:{panelModeChange:"panelModeChange",valueChange:"valueChange"},features:[t.OA$]})}return h})(),fh=(()=>{class h extends So{previous(){}next(){}get startYear(){return 100*parseInt(""+this.value.getYear()/100,10)}get endYear(){return this.startYear+99}superPrevious(){this.changeValue(this.value.addYears(-100))}superNext(){this.changeValue(this.value.addYears(100))}getSelectors(){return[{className:`${this.prefixCls}-decade-btn`,title:"",onClick:()=>{},label:`${this.startYear}-${this.endYear}`}]}static#e=this.\u0275fac=(()=>{let r;return function(p){return(r||(r=t.xGo(h)))(p||h)}})();static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["decade-header"]],exportAs:["decadeHeader"],standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(d,p){1&d&&(t.j41(0,"div")(1,"button",0),t.bIt("click",function(){return p.superPrevious()}),t.nrm(2,"span",1),t.k0s(),t.j41(3,"button",0),t.bIt("click",function(){return p.previous()}),t.nrm(4,"span",2),t.k0s(),t.j41(5,"div"),t.Z7z(6,zr,2,5,"button",3,t.fX1),t.k0s(),t.j41(8,"button",0),t.bIt("click",function(){return p.next()}),t.nrm(9,"span",4),t.k0s(),t.j41(10,"button",0),t.bIt("click",function(){return p.superNext()}),t.nrm(11,"span",5),t.k0s()()),2&d&&(t.HbH(p.prefixCls),t.R7$(),t.ZvI("",p.prefixCls,"-super-prev-btn"),t.xc7("visibility",p.showSuperPreBtn?"visible":"hidden"),t.FS9("title",p.superPreviousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-prev-btn"),t.xc7("visibility",p.showPreBtn?"visible":"hidden"),t.FS9("title",p.previousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-view"),t.R7$(),t.Dyx(p.selectors),t.R7$(2),t.ZvI("",p.prefixCls,"-next-btn"),t.xc7("visibility",p.showNextBtn?"visible":"hidden"),t.FS9("title",p.nextTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-super-next-btn"),t.xc7("visibility",p.showSuperNextBtn?"visible":"hidden"),t.FS9("title",p.superNextTitle()))},encapsulation:2,changeDetection:0})}return h})(),To=(()=>{class h{constructor(){this.headRow=[],this.bodyRows=[],this.MAX_ROW=6,this.MAX_COL=7,this.prefixCls="ant-picker",this.activeDate=new Ft.KV,this.showWeek=!1,this.selectedValue=[],this.hoverValue=[],this.canSelectWeek=!1,this.valueChange=new t.bkB,this.cellHover=new t.bkB}render(){this.activeDate&&(this.headRow=this.makeHeadRow(),this.bodyRows=this.makeBodyRows())}hasRangeValue(){return this.selectedValue?.length>0||this.hoverValue?.length>0}getClassMap(r){return{"ant-picker-cell":!0,"ant-picker-cell-in-view":!0,"ant-picker-cell-selected":r.isSelected,"ant-picker-cell-disabled":r.isDisabled,"ant-picker-cell-in-range":!!r.isInSelectedRange,"ant-picker-cell-range-start":!!r.isSelectedStart,"ant-picker-cell-range-end":!!r.isSelectedEnd,"ant-picker-cell-range-start-single":!!r.isStartSingle,"ant-picker-cell-range-end-single":!!r.isEndSingle,"ant-picker-cell-range-hover":!!r.isInHoverRange,"ant-picker-cell-range-hover-start":!!r.isHoverStart,"ant-picker-cell-range-hover-end":!!r.isHoverEnd,"ant-picker-cell-range-hover-edge-start":!!r.isFirstCellInPanel,"ant-picker-cell-range-hover-edge-end":!!r.isLastCellInPanel,"ant-picker-cell-range-start-near-hover":!!r.isRangeStartNearHover,"ant-picker-cell-range-end-near-hover":!!r.isRangeEndNearHover}}ngOnInit(){this.render()}ngOnChanges(r){r.activeDate&&!r.activeDate.currentValue&&(this.activeDate=new Ft.KV),(r.disabledDate||r.locale||r.showWeek||r.selectWeek||this.isDateRealChange(r.activeDate)||this.isDateRealChange(r.value)||this.isDateRealChange(r.selectedValue)||this.isDateRealChange(r.hoverValue))&&this.render()}isDateRealChange(r){if(r){const d=r.previousValue,p=r.currentValue;return Array.isArray(p)?!Array.isArray(d)||p.length!==d.length||p.some((S,se)=>{const Ue=d[se];return Ue instanceof Ft.KV?Ue.isSameDay(S):Ue!==S}):!this.isSameDate(d,p)}return!1}isSameDate(r,d){return!r&&!d||r&&d&&d.isSameDay(r)}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275dir=t.FsC({type:h,inputs:{prefixCls:"prefixCls",value:"value",locale:"locale",activeDate:"activeDate",showWeek:"showWeek",selectedValue:"selectedValue",hoverValue:"hoverValue",disabledDate:"disabledDate",cellRender:"cellRender",fullCellRender:"fullCellRender",canSelectWeek:"canSelectWeek"},outputs:{valueChange:"valueChange",cellHover:"cellHover"},features:[t.OA$]})}return h})(),Ja=(()=>{class h extends To{get startYear(){return 100*parseInt(""+this.activeDate.getYear()/100,10)}get endYear(){return this.startYear+99}makeHeadRow(){return[]}makeBodyRows(){const r=[],d=this.value&&this.value.getYear(),p=this.startYear,S=this.endYear,se=p-10;let Ue=0;for(let Dt=0;Dt<4;Dt++){const on={dateCells:[],trackByIndex:Dt};for(let ln=0;ln<3;ln++){const hn=se+10*Ue,rn=se+10*Ue+9,xn=`${hn}-${rn}`,Bn={trackByIndex:ln,value:this.activeDate.setYear(hn).nativeDate,content:xn,title:xn,isDisabled:!1,isSelected:d>=hn&&d<=rn,isLowerThanStart:rn<p,isBiggerThanEnd:hn>S,classMap:{},onClick(){},onMouseEnter(){}};Bn.classMap=this.getClassMap(Bn),Bn.onClick=()=>this.chooseDecade(hn),Ue++,on.dateCells.push(Bn)}r.push(on)}return r}getClassMap(r){return{[`${this.prefixCls}-cell`]:!0,[`${this.prefixCls}-cell-in-view`]:!r.isBiggerThanEnd&&!r.isLowerThanStart,[`${this.prefixCls}-cell-selected`]:r.isSelected,[`${this.prefixCls}-cell-disabled`]:r.isDisabled}}chooseDecade(r){this.value=this.activeDate.setYear(r),this.valueChange.emit(this.value)}static#e=this.\u0275fac=(()=>{let r;return function(p){return(r||(r=t.xGo(h)))(p||h)}})();static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["decade-table"]],exportAs:["decadeTable"],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(d,p){1&d&&(t.j41(0,"table",0),t.DNE(1,br,5,1,"thead"),t.j41(2,"tbody"),t.Z7z(3,oo,4,2,"tr",1,ci),t.k0s()()),2&d&&(t.R7$(),t.vxM(1,p.headRow&&p.headRow.length>0?1:-1),t.R7$(2),t.Dyx(p.bodyRows))},dependencies:[f.YU,f.T3],encapsulation:2,changeDetection:0})}return h})(),mh=(()=>{class h extends So{get startYear(){return 10*parseInt(""+this.value.getYear()/10,10)}get endYear(){return this.startYear+9}superPrevious(){this.changeValue(this.value.addYears(-10))}superNext(){this.changeValue(this.value.addYears(10))}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:"",onClick:()=>this.changeMode("decade"),label:`${this.startYear}-${this.endYear}`}]}static#e=this.\u0275fac=(()=>{let r;return function(p){return(r||(r=t.xGo(h)))(p||h)}})();static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["year-header"]],exportAs:["yearHeader"],standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(d,p){1&d&&(t.j41(0,"div")(1,"button",0),t.bIt("click",function(){return p.superPrevious()}),t.nrm(2,"span",1),t.k0s(),t.j41(3,"button",0),t.bIt("click",function(){return p.previous()}),t.nrm(4,"span",2),t.k0s(),t.j41(5,"div"),t.Z7z(6,ro,2,5,"button",3,t.fX1),t.k0s(),t.j41(8,"button",0),t.bIt("click",function(){return p.next()}),t.nrm(9,"span",4),t.k0s(),t.j41(10,"button",0),t.bIt("click",function(){return p.superNext()}),t.nrm(11,"span",5),t.k0s()()),2&d&&(t.HbH(p.prefixCls),t.R7$(),t.ZvI("",p.prefixCls,"-super-prev-btn"),t.xc7("visibility",p.showSuperPreBtn?"visible":"hidden"),t.FS9("title",p.superPreviousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-prev-btn"),t.xc7("visibility",p.showPreBtn?"visible":"hidden"),t.FS9("title",p.previousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-view"),t.R7$(),t.Dyx(p.selectors),t.R7$(2),t.ZvI("",p.prefixCls,"-next-btn"),t.xc7("visibility",p.showNextBtn?"visible":"hidden"),t.FS9("title",p.nextTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-super-next-btn"),t.xc7("visibility",p.showSuperNextBtn?"visible":"hidden"),t.FS9("title",p.superNextTitle()))},encapsulation:2,changeDetection:0})}return h})(),Jp=(()=>{class h extends To{constructor(r){super(),this.dateHelper=r,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){const r=this.activeDate&&this.activeDate.getYear(),d=10*parseInt(""+r/10,10),p=d+9,S=d-1,se=[];let Ue=0;for(let Dt=0;Dt<this.MAX_ROW;Dt++){const on={dateCells:[],trackByIndex:Dt};for(let ln=0;ln<this.MAX_COL;ln++){const hn=S+Ue,rn=this.activeDate.setYear(hn),xn=this.dateHelper.format(rn.nativeDate,"yyyy"),Bn=this.isDisabledYear(rn),Zn={trackByIndex:ln,value:rn.nativeDate,isDisabled:Bn,isSameDecade:hn>=d&&hn<=p,isSelected:hn===(this.value&&this.value.getYear()),content:xn,title:xn,classMap:{},isLastCellInPanel:rn.getYear()===p,isFirstCellInPanel:rn.getYear()===d,cellRender:(0,G.XQ)(this.cellRender,rn),fullCellRender:(0,G.XQ)(this.fullCellRender,rn),onClick:()=>this.chooseYear(Zn.value.getFullYear()),onMouseEnter:()=>this.cellHover.emit(rn)};this.addCellProperty(Zn,rn),on.dateCells.push(Zn),Ue++}se.push(on)}return se}getClassMap(r){return{...super.getClassMap(r),"ant-picker-cell-in-view":!!r.isSameDecade}}isDisabledYear(r){if(!this.disabledDate)return!1;for(let p=r.setMonth(0).setDate(1);p.getYear()===r.getYear();p=p.addDays(1))if(!this.disabledDate(p.nativeDate))return!1;return!0}addCellProperty(r,d){if(this.hasRangeValue()){const[p,S]=this.hoverValue,[se,Ue]=this.selectedValue;se?.isSameYear(d)&&(r.isSelectedStart=!0,r.isSelected=!0),Ue?.isSameYear(d)&&(r.isSelectedEnd=!0,r.isSelected=!0),p&&S&&(r.isHoverStart=p.isSameYear(d),r.isHoverEnd=S.isSameYear(d),r.isInHoverRange=p.isBeforeYear(d)&&d.isBeforeYear(S)),r.isStartSingle=se&&!Ue,r.isEndSingle=!se&&Ue,r.isInSelectedRange=se?.isBeforeYear(d)&&d?.isBeforeYear(Ue),r.isRangeStartNearHover=se&&r.isInHoverRange,r.isRangeEndNearHover=Ue&&r.isInHoverRange}else d.isSameYear(this.value)&&(r.isSelected=!0);r.classMap=this.getClassMap(r)}chooseYear(r){this.value=this.activeDate.setYear(r),this.valueChange.emit(this.value),this.render()}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["year-table"]],exportAs:["yearTable"],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(d,p){1&d&&(t.j41(0,"table",0),t.DNE(1,Ri,5,1,"thead"),t.j41(2,"tbody"),t.Z7z(3,Va,4,2,"tr",1,ci),t.k0s()()),2&d&&(t.R7$(),t.vxM(1,p.headRow&&p.headRow.length>0?1:-1),t.R7$(2),t.Dyx(p.bodyRows))},dependencies:[f.YU,f.T3],encapsulation:2,changeDetection:0})}return h})(),_h=(()=>{class h extends So{constructor(r){super(),this.dateHelper=r}getSelectors(){return[{className:`${this.prefixCls}-month-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,bo(this.locale.yearFormat))}]}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["month-header"]],exportAs:["monthHeader"],standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(d,p){1&d&&(t.j41(0,"div")(1,"button",0),t.bIt("click",function(){return p.superPrevious()}),t.nrm(2,"span",1),t.k0s(),t.j41(3,"button",0),t.bIt("click",function(){return p.previous()}),t.nrm(4,"span",2),t.k0s(),t.j41(5,"div"),t.Z7z(6,co,2,5,"button",3,t.fX1),t.k0s(),t.j41(8,"button",0),t.bIt("click",function(){return p.next()}),t.nrm(9,"span",4),t.k0s(),t.j41(10,"button",0),t.bIt("click",function(){return p.superNext()}),t.nrm(11,"span",5),t.k0s()()),2&d&&(t.HbH(p.prefixCls),t.R7$(),t.ZvI("",p.prefixCls,"-super-prev-btn"),t.xc7("visibility",p.showSuperPreBtn?"visible":"hidden"),t.FS9("title",p.superPreviousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-prev-btn"),t.xc7("visibility",p.showPreBtn?"visible":"hidden"),t.FS9("title",p.previousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-view"),t.R7$(),t.Dyx(p.selectors),t.R7$(2),t.ZvI("",p.prefixCls,"-next-btn"),t.xc7("visibility",p.showNextBtn?"visible":"hidden"),t.FS9("title",p.nextTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-super-next-btn"),t.xc7("visibility",p.showSuperNextBtn?"visible":"hidden"),t.FS9("title",p.superNextTitle()))},encapsulation:2,changeDetection:0})}return h})(),vh=(()=>{class h extends To{constructor(r){super(),this.dateHelper=r,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){const r=[];let d=0;for(let p=0;p<this.MAX_ROW;p++){const S={dateCells:[],trackByIndex:p};for(let se=0;se<this.MAX_COL;se++){const Ue=this.activeDate.setMonth(d),Dt=this.isDisabledMonth(Ue),on=this.dateHelper.format(Ue.nativeDate,"MMM"),ln={trackByIndex:se,value:Ue.nativeDate,isDisabled:Dt,isSelected:Ue.isSameMonth(this.value),content:on,title:on,classMap:{},cellRender:(0,G.XQ)(this.cellRender,Ue),fullCellRender:(0,G.XQ)(this.fullCellRender,Ue),onClick:()=>this.chooseMonth(ln.value.getMonth()),onMouseEnter:()=>this.cellHover.emit(Ue)};this.addCellProperty(ln,Ue),S.dateCells.push(ln),d++}r.push(S)}return r}isDisabledMonth(r){if(!this.disabledDate)return!1;for(let p=r.setDate(1);p.getMonth()===r.getMonth();p=p.addDays(1))if(!this.disabledDate(p.nativeDate))return!1;return!0}addCellProperty(r,d){if(this.hasRangeValue()){const[p,S]=this.hoverValue,[se,Ue]=this.selectedValue;se?.isSameMonth(d)&&(r.isSelectedStart=!0,r.isSelected=!0),Ue?.isSameMonth(d)&&(r.isSelectedEnd=!0,r.isSelected=!0),p&&S&&(r.isHoverStart=p.isSameMonth(d),r.isHoverEnd=S.isSameMonth(d),r.isLastCellInPanel=11===d.getMonth(),r.isFirstCellInPanel=0===d.getMonth(),r.isInHoverRange=p.isBeforeMonth(d)&&d.isBeforeMonth(S)),r.isStartSingle=se&&!Ue,r.isEndSingle=!se&&Ue,r.isInSelectedRange=se?.isBeforeMonth(d)&&d?.isBeforeMonth(Ue),r.isRangeStartNearHover=se&&r.isInHoverRange,r.isRangeEndNearHover=Ue&&r.isInHoverRange}else d.isSameMonth(this.value)&&(r.isSelected=!0);r.classMap=this.getClassMap(r)}chooseMonth(r){this.value=this.activeDate.setMonth(r),this.valueChange.emit(this.value)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["month-table"]],exportAs:["monthTable"],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(d,p){1&d&&(t.j41(0,"table",0),t.DNE(1,wi,5,1,"thead"),t.j41(2,"tbody"),t.Z7z(3,O,4,2,"tr",1,ci),t.k0s()()),2&d&&(t.R7$(),t.vxM(1,p.headRow&&p.headRow.length>0?1:-1),t.R7$(2),t.Dyx(p.bodyRows))},dependencies:[f.YU,f.T3],encapsulation:2,changeDetection:0})}return h})(),Ch=(()=>{class h extends So{constructor(r){super(),this.dateHelper=r}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,bo(this.locale.yearFormat))},{className:`${this.prefixCls}-month-btn`,title:this.locale.monthSelect,onClick:()=>this.changeMode("month"),label:this.dateHelper.format(this.value.nativeDate,this.locale.monthFormat||"MMM")}]}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["date-header"]],exportAs:["dateHeader"],standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(d,p){1&d&&(t.j41(0,"div")(1,"button",0),t.bIt("click",function(){return p.superPrevious()}),t.nrm(2,"span",1),t.k0s(),t.j41(3,"button",0),t.bIt("click",function(){return p.previous()}),t.nrm(4,"span",2),t.k0s(),t.j41(5,"div"),t.Z7z(6,A,2,5,"button",3,t.fX1),t.k0s(),t.j41(8,"button",0),t.bIt("click",function(){return p.next()}),t.nrm(9,"span",4),t.k0s(),t.j41(10,"button",0),t.bIt("click",function(){return p.superNext()}),t.nrm(11,"span",5),t.k0s()()),2&d&&(t.HbH(p.prefixCls),t.R7$(),t.ZvI("",p.prefixCls,"-super-prev-btn"),t.xc7("visibility",p.showSuperPreBtn?"visible":"hidden"),t.FS9("title",p.superPreviousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-prev-btn"),t.xc7("visibility",p.showPreBtn?"visible":"hidden"),t.FS9("title",p.previousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-view"),t.R7$(),t.Dyx(p.selectors),t.R7$(2),t.ZvI("",p.prefixCls,"-next-btn"),t.xc7("visibility",p.showNextBtn?"visible":"hidden"),t.FS9("title",p.nextTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-super-next-btn"),t.xc7("visibility",p.showSuperNextBtn?"visible":"hidden"),t.FS9("title",p.superNextTitle()))},encapsulation:2,changeDetection:0})}return h})(),yh=(()=>{class h extends To{constructor(r,d){super(),this.i18n=r,this.dateHelper=d}changeValueFromInside(r){this.activeDate=this.activeDate.setYear(r.getYear()).setMonth(r.getMonth()).setDate(r.getDate()),this.valueChange.emit(this.activeDate),this.activeDate.isSameMonth(this.value)||this.render()}makeHeadRow(){const r=[],d=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let p=0;p<this.MAX_COL;p++){const S=d.addDays(p);r.push({trackByIndex:null,value:S.nativeDate,title:this.dateHelper.format(S.nativeDate,"E"),content:this.dateHelper.format(S.nativeDate,this.getVeryShortWeekFormat()),isSelected:!1,isDisabled:!1,onClick(){},onMouseEnter(){}})}return r}getVeryShortWeekFormat(){return 0===this.i18n.getLocaleId().toLowerCase().indexOf("zh")?"EEEEE":"EEEEEE"}makeBodyRows(){const r=[],d=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let p=0;p<this.MAX_ROW;p++){const S=d.addDays(7*p),se={isActive:!1,dateCells:[],trackByIndex:p};for(let Ue=0;Ue<7;Ue++){const Dt=S.addDays(Ue),on=bo(this.i18n.getLocaleData("DatePicker.lang.dateFormat","YYYY-MM-DD")),ln=this.dateHelper.format(Dt.nativeDate,on),hn=this.dateHelper.format(Dt.nativeDate,"dd"),rn={trackByIndex:Ue,value:Dt.nativeDate,label:hn,isSelected:!1,isDisabled:!1,isToday:!1,title:ln,cellRender:(0,G.XQ)(this.cellRender,Dt),fullCellRender:(0,G.XQ)(this.fullCellRender,Dt),content:`${Dt.getDate()}`,onClick:()=>this.changeValueFromInside(Dt),onMouseEnter:()=>this.cellHover.emit(Dt)};this.addCellProperty(rn,Dt),this.showWeek&&!se.weekNum&&(se.weekNum=this.dateHelper.getISOWeek(Dt.nativeDate)),Dt.isSameDay(this.value)&&(se.isActive=Dt.isSameDay(this.value)),se.dateCells.push(rn)}se.classMap={"ant-picker-week-panel-row":this.canSelectWeek,"ant-picker-week-panel-row-selected":this.canSelectWeek&&se.isActive},r.push(se)}return r}addCellProperty(r,d){if(r.isTemplateRef=(0,G.my)(r.cellRender),r.isNonEmptyString=(0,G.uI)(r.cellRender),this.hasRangeValue()&&!this.canSelectWeek){const[p,S]=this.hoverValue,[se,Ue]=this.selectedValue;se?.isSameDay(d)&&(r.isSelectedStart=!0,r.isSelected=!0),Ue?.isSameDay(d)&&(r.isSelectedEnd=!0,r.isSelected=!0),p&&S&&(r.isHoverStart=p.isSameDay(d),r.isHoverEnd=S.isSameDay(d),r.isLastCellInPanel=d.isLastDayOfMonth(),r.isFirstCellInPanel=d.isFirstDayOfMonth(),r.isInHoverRange=p.isBeforeDay(d)&&d.isBeforeDay(S)),r.isStartSingle=se&&!Ue,r.isEndSingle=!se&&Ue,r.isInSelectedRange=se?.isBeforeDay(d)&&d.isBeforeDay(Ue),r.isRangeStartNearHover=se&&r.isInHoverRange,r.isRangeEndNearHover=Ue&&r.isInHoverRange}r.isToday=d.isToday(),r.isSelected=d.isSameDay(this.value),r.isDisabled=!!this.disabledDate?.(d.nativeDate),r.classMap=this.getClassMap(r)}getClassMap(r){const d=new Ft.KV(r.value);return{...super.getClassMap(r),"ant-picker-cell-today":!!r.isToday,"ant-picker-cell-in-view":d.isSameMonth(this.activeDate)}}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.Og),t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["date-table"]],inputs:{locale:"locale"},exportAs:["dateTable"],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(d,p){1&d&&(t.j41(0,"table",0),t.DNE(1,ft,5,1,"thead"),t.j41(2,"tbody"),t.Z7z(3,ss,4,2,"tr",1,ci),t.k0s()()),2&d&&(t.R7$(),t.vxM(1,p.headRow&&p.headRow.length>0?1:-1),t.R7$(2),t.Dyx(p.bodyRows))},dependencies:[f.YU,f.T3],encapsulation:2,changeDetection:0})}return h})(),zh=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({})}return h})(),bh=(()=>{class h{constructor(){this.panelModeChange=new t.bkB,this.headerChange=new t.bkB,this.selectDate=new t.bkB,this.selectTime=new t.bkB,this.cellHover=new t.bkB,this.prefixCls=zo}enablePrevNext(r,d){return!(!this.showTimePicker&&d===this.endPanelMode&&("left"===this.partType&&"next"===r||"right"===this.partType&&"prev"===r))}onSelectTime(r){this.selectTime.emit(new Ft.KV(r))}onSelectDate(r){const d=r instanceof Ft.KV?r:new Ft.KV(r),p=this.timeOptions&&this.timeOptions.nzDefaultOpenValue;!this.value&&p&&d.setHms(p.getHours(),p.getMinutes(),p.getSeconds()),this.selectDate.emit(d)}onChooseMonth(r){this.activeDate=this.activeDate.setMonth(r.getMonth()),"month"===this.endPanelMode?(this.value=r,this.selectDate.emit(r)):(this.headerChange.emit(r),this.panelModeChange.emit(this.endPanelMode))}onChooseYear(r){this.activeDate=this.activeDate.setYear(r.getYear()),"year"===this.endPanelMode?(this.value=r,this.selectDate.emit(r)):(this.headerChange.emit(r),this.panelModeChange.emit(this.endPanelMode))}onChooseDecade(r){this.activeDate=this.activeDate.setYear(r.getYear()),"decade"===this.endPanelMode?(this.value=r,this.selectDate.emit(r)):(this.headerChange.emit(r),this.panelModeChange.emit("year"))}ngOnChanges(r){r.activeDate&&!r.activeDate.currentValue&&(this.activeDate=new Ft.KV),r.panelMode&&"time"===r.panelMode.currentValue&&(this.panelMode="date")}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["inner-popup"]],inputs:{activeDate:"activeDate",endPanelMode:"endPanelMode",panelMode:"panelMode",showWeek:"showWeek",locale:"locale",showTimePicker:"showTimePicker",timeOptions:"timeOptions",disabledDate:"disabledDate",dateRender:"dateRender",selectedValue:"selectedValue",hoverValue:"hoverValue",value:"value",partType:"partType"},outputs:{panelModeChange:"panelModeChange",headerChange:"headerChange",selectDate:"selectDate",selectTime:"selectTime",cellHover:"cellHover"},exportAs:["innerPopup"],standalone:!0,features:[t.OA$,t.aNF],decls:7,vars:8,consts:[[3,"nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"],[3,"valueChange","panelModeChange","value","locale","showSuperPreBtn","showSuperNextBtn","showNextBtn","showPreBtn"],[3,"valueChange","activeDate","value","locale","disabledDate"],[3,"valueChange","cellHover","activeDate","value","locale","disabledDate","selectedValue","hoverValue"],[3,"valueChange","cellHover","value","activeDate","locale","disabledDate","selectedValue","hoverValue"],[3,"valueChange","panelModeChange","value","locale","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn"],[3,"valueChange","cellHover","locale","showWeek","value","activeDate","disabledDate","cellRender","selectedValue","hoverValue","canSelectWeek"],[3,"ngModelChange","nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"]],template:function(d,p){if(1&d&&(t.j41(0,"div")(1,"div"),t.DNE(2,Rc,3,13)(3,Fc,3,15)(4,Bc,3,15)(5,go,3,18),t.k0s(),t.DNE(6,Lc,1,13,"nz-time-picker-panel",0),t.k0s()),2&d){let S;t.AVh("ant-picker-datetime-panel",p.showTimePicker),t.R7$(),t.STu("",p.prefixCls,"-",p.panelMode,"-panel"),t.R7$(),t.vxM(2,"decade"===(S=p.panelMode)?2:"year"===S?3:"month"===S?4:5),t.R7$(4),t.vxM(6,p.showTimePicker&&p.timeOptions?6:-1)}},dependencies:[zh,Ch,yh,fh,Ja,_h,vh,mh,Jp,hr,oi,m.YN,m.BC,m.vS],encapsulation:2,changeDetection:0})}return h})(),qa=(()=>{class h{get hasTimePicker(){return!!this.showTime}get hasFooter(){return this.showToday||this.hasTimePicker||!!this.extraFooter||!!this.ranges}get arrowPosition(){return"rtl"===this.dir?{right:`${this.datePickerService?.arrowLeft}px`}:{left:`${this.datePickerService?.arrowLeft}px`}}constructor(r,d,p,S){this.datePickerService=r,this.cdr=d,this.ngZone=p,this.host=S,this.inline=!1,this.dir="ltr",this.panelModeChange=new t.bkB,this.calendarChange=new t.bkB,this.resultOk=new t.bkB,this.prefixCls=zo,this.endPanelMode="date",this.timeOptions=null,this.hoverValue=[],this.checkedPartArr=[!1,!1],this.destroy$=new ee.B,this.disabledStartTime=se=>this.disabledTime&&this.disabledTime(se,"start"),this.disabledEndTime=se=>this.disabledTime&&this.disabledTime(se,"end")}ngOnInit(){(0,de.h)(this.datePickerService.valueChange$,this.datePickerService.inputPartChange$).pipe((0,K.Q)(this.destroy$)).subscribe(()=>{this.updateActiveDate(),this.cdr.markForCheck()}),this.ngZone.runOutsideAngular(()=>{(0,De.R)(this.host.nativeElement,"mousedown").pipe((0,K.Q)(this.destroy$)).subscribe(r=>r.preventDefault())})}ngOnChanges(r){(r.showTime||r.disabledTime)&&this.showTime&&this.buildTimeOptions(),r.panelMode&&(this.endPanelMode=this.panelMode),r.defaultPickerValue&&this.updateActiveDate()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}updateActiveDate(){const r=this.datePickerService.hasValue()?this.datePickerService.value:this.datePickerService.makeValue(this.defaultPickerValue);this.datePickerService.setActiveDate(r,this.hasTimePicker,this.getPanelMode(this.endPanelMode))}onClickOk(){this.changeValueFromSelect(this.isRange?this.datePickerService.value[{left:0,right:1}[this.datePickerService.activeInput]]:this.datePickerService.value),this.resultOk.emit()}onClickToday(r){this.changeValueFromSelect(r,!this.showTime)}onCellHover(r){if(!this.isRange)return;const p=this.datePickerService.value[{left:1,right:0}[this.datePickerService.activeInput]];p&&(this.hoverValue=p.isBeforeDay(r)?[p,r]:[r,p])}onPanelModeChange(r,d){this.panelMode=this.isRange?0===this.datePickerService.getActiveIndex(d)?[r,this.panelMode[1]]:[this.panelMode[0],r]:r,this.panelModeChange.emit(this.panelMode)}onActiveDateChange(r,d){if(this.isRange){const p=[];p[this.datePickerService.getActiveIndex(d)]=r,this.datePickerService.setActiveDate(p,this.hasTimePicker,this.getPanelMode(this.endPanelMode,d))}else this.datePickerService.setActiveDate(r)}onSelectTime(r,d){if(this.isRange){const p=(0,Ft.ad)(this.datePickerService.value),S=this.datePickerService.getActiveIndex(d);p[S]=this.overrideHms(r,p[S]),this.datePickerService.setValue(p)}else{const p=this.overrideHms(r,this.datePickerService.value);this.datePickerService.setValue(p)}this.datePickerService.inputPartChange$.next(null),this.buildTimeOptions()}changeValueFromSelect(r,d=!0){if(this.isRange){const p=(0,Ft.ad)(this.datePickerService.value),S=this.datePickerService.activeInput;let se=S;p[this.datePickerService.getActiveIndex(S)]=r,this.checkedPartArr[this.datePickerService.getActiveIndex(S)]=!0,this.hoverValue=p,d?this.inline?(se=this.reversedPart(S),"right"===se&&(p[this.datePickerService.getActiveIndex(se)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(se)]=!1),this.datePickerService.setValue(p),this.calendarChange.emit(p),this.isBothAllowed(p)&&this.checkedPartArr[0]&&this.checkedPartArr[1]&&(this.clearHoverValue(),this.datePickerService.emitValue$.next())):((0,Ft.yZ)(p)&&(se=this.reversedPart(S),p[this.datePickerService.getActiveIndex(se)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(se)]=!1),this.datePickerService.setValue(p),this.isBothAllowed(p)&&this.checkedPartArr[0]&&this.checkedPartArr[1]?(this.calendarChange.emit(p),this.clearHoverValue(),this.datePickerService.emitValue$.next()):this.isAllowed(p)&&(se=this.reversedPart(S),this.calendarChange.emit([r.clone()]))):this.datePickerService.setValue(p),this.datePickerService.inputPartChange$.next(se)}else this.datePickerService.setValue(r),this.datePickerService.inputPartChange$.next(null),d&&this.isAllowed(r)&&this.datePickerService.emitValue$.next();this.buildTimeOptions()}reversedPart(r){return"left"===r?"right":"left"}getPanelMode(r,d){return this.isRange?r[this.datePickerService.getActiveIndex(d)]:r}getValue(r){return this.isRange?(this.datePickerService.value||[])[this.datePickerService.getActiveIndex(r)]:this.datePickerService.value}getActiveDate(r){return this.isRange?this.datePickerService.activeDate[this.datePickerService.getActiveIndex(r)]:this.datePickerService.activeDate}isOneAllowed(r){const d=this.datePickerService.getActiveIndex();return yi(r[d],this.disabledDate,[this.disabledStartTime,this.disabledEndTime][d])}isBothAllowed(r){return yi(r[0],this.disabledDate,this.disabledStartTime)&&yi(r[1],this.disabledDate,this.disabledEndTime)}isAllowed(r,d=!1){return this.isRange?d?this.isBothAllowed(r):this.isOneAllowed(r):yi(r,this.disabledDate,this.disabledTime)}getTimeOptions(r){return this.showTime&&this.timeOptions?this.timeOptions instanceof Array?this.timeOptions[this.datePickerService.getActiveIndex(r)]:this.timeOptions:null}onClickPresetRange(r){const d="function"==typeof r?r():r;d&&(this.datePickerService.setValue([new Ft.KV(d[0]),new Ft.KV(d[1])]),this.datePickerService.emitValue$.next())}onPresetRangeMouseLeave(){this.clearHoverValue()}onHoverPresetRange(r){"function"!=typeof r&&(this.hoverValue=[new Ft.KV(r[0]),new Ft.KV(r[1])])}getObjectKeys(r){return r?Object.keys(r):[]}show(r){return!(this.showTime&&this.isRange&&this.datePickerService.activeInput!==r)}clearHoverValue(){this.hoverValue=[]}buildTimeOptions(){if(this.showTime){const r="object"==typeof this.showTime?this.showTime:{};if(this.isRange){const d=this.datePickerService.value;this.timeOptions=[this.overrideTimeOptions(r,d[0],"start"),this.overrideTimeOptions(r,d[1],"end")]}else this.timeOptions=this.overrideTimeOptions(r,this.datePickerService.value)}else this.timeOptions=null}overrideTimeOptions(r,d,p){let S;return S=p?"start"===p?this.disabledStartTime:this.disabledEndTime:this.disabledTime,{...r,...Za(d,S)}}overrideHms(r,d){return r=r||new Ft.KV,(d=d||new Ft.KV).setHms(r.getHours(),r.getMinutes(),r.getSeconds())}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(Gr),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(t.aKT))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["date-range-popup"]],inputs:{isRange:"isRange",inline:"inline",showWeek:"showWeek",locale:"locale",disabledDate:"disabledDate",disabledTime:"disabledTime",showToday:"showToday",showNow:"showNow",showTime:"showTime",extraFooter:"extraFooter",ranges:"ranges",dateRender:"dateRender",panelMode:"panelMode",defaultPickerValue:"defaultPickerValue",dir:"dir"},outputs:{panelModeChange:"panelModeChange",calendarChange:"calendarChange",resultOk:"resultOk"},exportAs:["dateRangePopup"],standalone:!0,features:[t.OA$,t.aNF],decls:8,vars:1,consts:[["tplInnerPopup",""],["tplFooter",""],["tplRangeQuickSelector",""],[3,"class"],[3,"ngStyle"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1"],[3,"panelModeChange","cellHover","selectDate","selectTime","headerChange","showWeek","endPanelMode","partType","locale","showTimePicker","timeOptions","panelMode","activeDate","value","disabledDate","dateRender","selectedValue","hoverValue"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"clickOk","clickToday","locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"click","mouseenter","mouseleave"],[1,"ant-tag","ant-tag-blue"]],template:function(d,p){1&d&&t.DNE(0,Hc,7,17,"div",3)(1,vo,4,13)(2,Xc,2,18,"ng-template",null,0,t.C5r)(4,Wc,1,1,"ng-template",null,1,t.C5r)(6,Kc,2,0,"ng-template",null,2,t.C5r),2&d&&t.vxM(0,p.isRange?0:1)},dependencies:[bh,f.T3,ph,f.B3],encapsulation:2,changeDetection:0})}return h})();const Hr={position:"relative"};let Th=(()=>{class h{get nzShowTime(){return this.showTime}set nzShowTime(r){this.showTime="object"==typeof r?r:(0,G.G4)(r)}get realOpenState(){return this.isOpenHandledByUser()?!!this.nzOpen:this.overlayOpen}ngAfterViewInit(){this.nzAutoFocus&&this.focus(),this.isRange&&this.platform.isBrowser&&this.nzResizeObserver.observe(this.elementRef).pipe((0,K.Q)(this.destroy$)).subscribe(()=>{this.updateInputWidthAndArrowLeft()}),this.datePickerService.inputPartChange$.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{r&&(this.datePickerService.activeInput=r),this.focus(),this.updateInputWidthAndArrowLeft()}),this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>(0,De.R)(this.elementRef.nativeElement,"mousedown").pipe((0,K.Q)(this.destroy$)).subscribe(r=>{"input"!==r.target.tagName.toLowerCase()&&r.preventDefault()}))}updateInputWidthAndArrowLeft(){this.inputWidth=this.rangePickerInputs?.first?.nativeElement.offsetWidth||0;const r={position:"absolute",width:`${this.inputWidth}px`};this.datePickerService.arrowLeft="left"===this.datePickerService.activeInput?0:this.inputWidth+this.separatorElement?.nativeElement.offsetWidth||0,this.activeBarStyle="rtl"===this.dir?{...r,right:`${this.datePickerService.arrowLeft}px`}:{...r,left:`${this.datePickerService.arrowLeft}px`},this.cdr.markForCheck()}getInput(r){if(!this.nzInline)return this.isRange?"left"===r?this.rangePickerInputs?.first.nativeElement:this.rangePickerInputs?.last.nativeElement:this.pickerInput.nativeElement}focus(){const r=this.getInput(this.datePickerService.activeInput);this.document.activeElement!==r&&r?.focus()}onFocus(r,d){r.preventDefault(),d&&this.datePickerService.inputPartChange$.next(d),this.renderClass(!0)}onFocusout(r){r.preventDefault(),this.onTouchedFn(),this.elementRef.nativeElement.contains(r.relatedTarget)||this.checkAndClose(),this.renderClass(!1)}open(){this.nzInline||!this.realOpenState&&!this.nzDisabled&&(this.updateInputWidthAndArrowLeft(),this.overlayOpen=!0,this.nzOnOpenChange.emit(!0),this.focus(),this.cdr.markForCheck())}close(){this.nzInline||this.realOpenState&&(this.overlayOpen=!1,this.nzOnOpenChange.emit(!1))}get showClear(){return!this.nzDisabled&&!this.isEmptyValue(this.datePickerService.value)&&this.nzAllowClear}checkAndClose(){if(this.realOpenState)if(this.panel.isAllowed(this.datePickerService.value,!0)){if(Array.isArray(this.datePickerService.value)&&(0,Ft.yZ)(this.datePickerService.value)){const r=this.datePickerService.getActiveIndex();return void this.panel.changeValueFromSelect(this.datePickerService.value[r],!0)}this.updateInputValue(),this.datePickerService.emitValue$.next()}else this.datePickerService.setValue(this.datePickerService.initialValue),this.close()}onClickInputBox(r){r.stopPropagation(),this.focus(),this.isOpenHandledByUser()||this.open()}onOverlayKeydown(r){r.keyCode===$e._f&&this.datePickerService.initValue()}onPositionChange(r){this.currentPositionX=r.connectionPair.originX,this.currentPositionY=r.connectionPair.originY,this.cdr.detectChanges()}onClickClear(r){r.preventDefault(),r.stopPropagation(),this.datePickerService.initValue(!0),this.datePickerService.emitValue$.next()}updateInputValue(){const r=this.datePickerService.value;this.inputValue=this.isRange?r?r.map(d=>this.formatValue(d)):["",""]:this.formatValue(r),this.cdr.markForCheck()}formatValue(r){return this.dateHelper.format(r&&r.nativeDate,this.nzFormat)}onInputChange(r,d=!1){if(!this.platform.TRIDENT&&this.document.activeElement===this.getInput(this.datePickerService.activeInput)&&!this.realOpenState)return void this.open();const p=this.checkValidDate(r);p&&this.realOpenState&&this.panel.changeValueFromSelect(p,d)}onKeyupEnter(r){this.onInputChange(r.target.value,!0)}checkValidDate(r){const d=new Ft.KV(this.dateHelper.parseDate(r,this.nzFormat));return d.isValid()&&r===this.dateHelper.format(d.nativeDate,this.nzFormat)?d:null}getPlaceholder(r){return this.isRange?this.nzPlaceHolder[this.datePickerService.getActiveIndex(r)]:this.nzPlaceHolder}isEmptyValue(r){return null===r||(this.isRange?!r||!Array.isArray(r)||r.every(d=>!d):!r)}isOpenHandledByUser(){return void 0!==this.nzOpen}constructor(r,d,p,S,se,Ue,Dt,on,ln,hn,rn,xn,Bn,Zn,$s,js){this.nzConfigService=r,this.datePickerService=d,this.i18n=p,this.cdr=S,this.renderer=se,this.ngZone=Ue,this.elementRef=Dt,this.dateHelper=on,this.nzResizeObserver=ln,this.platform=hn,this.destroy$=rn,this.directionality=Bn,this.noAnimation=Zn,this.nzFormStatusService=$s,this.nzFormNoStatusService=js,this._nzModuleName="datePicker",this.isRange=!1,this.dir="ltr",this.statusCls={},this.status="",this.hasFeedback=!1,this.panelMode="date",this.isCustomPlaceHolder=!1,this.isCustomFormat=!1,this.showTime=!1,this.isNzDisableFirstChange=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzInline=!1,this.nzPlaceHolder="",this.nzPopupStyle=Hr,this.nzSize="default",this.nzStatus="",this.nzShowToday=!0,this.nzMode="date",this.nzShowNow=!0,this.nzDefaultPickerValue=null,this.nzSeparator=void 0,this.nzSuffixIcon="calendar",this.nzBackdrop=!1,this.nzId=null,this.nzPlacement="bottomLeft",this.nzShowWeekNumber=!1,this.nzOnPanelChange=new t.bkB,this.nzOnCalendarChange=new t.bkB,this.nzOnOk=new t.bkB,this.nzOnOpenChange=new t.bkB,this.inputSize=12,this.prefixCls=zo,this.activeBarStyle={},this.overlayOpen=!1,this.overlayPositions=[...he.DN],this.currentPositionX="start",this.currentPositionY="bottom",this.onChangeFn=()=>{},this.onTouchedFn=()=>{},this.document=xn,this.origin=new fe.$Q(this.elementRef)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,ge.F)((r,d)=>r.status===d.status&&r.hasFeedback===d.hasFeedback),(0,$.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,ot.of)(!1)),(0,R.T)(([{status:r,hasFeedback:d},p])=>({status:p?"":r,hasFeedback:d})),(0,K.Q)(this.destroy$)).subscribe(({status:r,hasFeedback:d})=>{this.setStatusStyles(r,d)}),this.nzLocale||this.i18n.localeChange.pipe((0,K.Q)(this.destroy$)).subscribe(()=>this.setLocale()),this.datePickerService.isRange=this.isRange,this.datePickerService.initValue(!0),this.datePickerService.emitValue$.pipe((0,K.Q)(this.destroy$)).subscribe(()=>{const r=this.showTime?"second":"day",d=this.datePickerService.value,p=this.datePickerService.initialValue;if(!this.isRange&&d?.isSame(p?.nativeDate,r))return this.onTouchedFn(),this.close();if(this.isRange){const[S,se]=p,[Ue,Dt]=d;if(S?.isSame(Ue?.nativeDate,r)&&se?.isSame(Dt?.nativeDate,r))return this.onTouchedFn(),this.close()}if(this.datePickerService.initialValue=(0,Ft.ad)(d),this.isRange){const S=d;this.onChangeFn(S.length?[S[0]?.nativeDate??null,S[1]?.nativeDate??null]:[])}else this.onChangeFn(d?d.nativeDate:null);this.onTouchedFn(),this.close()}),this.directionality.change?.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.inputValue=this.isRange?["",""]:"",this.setModeAndFormat(),this.datePickerService.valueChange$.pipe((0,K.Q)(this.destroy$)).subscribe(()=>{this.updateInputValue()})}ngOnChanges(r){const{nzStatus:d,nzPlacement:p}=r;r.nzPopupStyle&&(this.nzPopupStyle=this.nzPopupStyle?{...this.nzPopupStyle,...Hr}:Hr),r.nzPlaceHolder?.currentValue&&(this.isCustomPlaceHolder=!0),r.nzFormat?.currentValue&&(this.isCustomFormat=!0),r.nzLocale&&this.setDefaultPlaceHolder(),r.nzRenderExtraFooter&&(this.extraFooter=(0,G.XQ)(this.nzRenderExtraFooter)),r.nzMode&&(this.setDefaultPlaceHolder(),this.setModeAndFormat()),d&&this.setStatusStyles(this.nzStatus,this.hasFeedback),p&&this.setPlacement(this.nzPlacement)}setModeAndFormat(){const r={year:"yyyy",month:"yyyy-MM",week:"YYYY-ww",date:this.nzShowTime?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"};this.nzMode||(this.nzMode="date"),this.panelMode=this.isRange?[this.nzMode,this.nzMode]:this.nzMode,this.isCustomFormat||(this.nzFormat=r[this.nzMode]),this.inputSize=Math.max(10,this.nzFormat.length)+2,this.updateInputValue()}onOpenChange(r){this.nzOnOpenChange.emit(r)}writeValue(r){this.setValue(r),this.cdr.markForCheck()}registerOnChange(r){this.onChangeFn=r}registerOnTouched(r){this.onTouchedFn=r}setDisabledState(r){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||r,this.cdr.markForCheck(),this.isNzDisableFirstChange=!1}setLocale(){this.nzLocale=this.i18n.getLocaleData("DatePicker",{}),this.setDefaultPlaceHolder(),this.cdr.markForCheck()}setDefaultPlaceHolder(){if(!this.isCustomPlaceHolder&&this.nzLocale){const r={year:this.getPropertyOfLocale("yearPlaceholder"),month:this.getPropertyOfLocale("monthPlaceholder"),week:this.getPropertyOfLocale("weekPlaceholder"),date:this.getPropertyOfLocale("placeholder")},d={year:this.getPropertyOfLocale("rangeYearPlaceholder"),month:this.getPropertyOfLocale("rangeMonthPlaceholder"),week:this.getPropertyOfLocale("rangeWeekPlaceholder"),date:this.getPropertyOfLocale("rangePlaceholder")};this.nzPlaceHolder=this.isRange?d[this.nzMode]:r[this.nzMode]}}getPropertyOfLocale(r){return this.nzLocale.lang[r]||this.i18n.getLocaleData(`DatePicker.lang.${r}`)}setValue(r){const d=this.datePickerService.makeValue(r);this.datePickerService.setValue(d),this.datePickerService.initialValue=(0,Ft.ad)(d),this.cdr.detectChanges()}renderClass(r){r?this.renderer.addClass(this.elementRef.nativeElement,"ant-picker-focused"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-picker-focused")}onPanelModeChange(r){this.nzOnPanelChange.emit(r)}onCalendarChange(r){if(this.isRange&&Array.isArray(r)){const d=r.filter(p=>p instanceof Ft.KV).map(p=>p.nativeDate);this.nzOnCalendarChange.emit(d)}}onResultOk(){if(this.isRange){const r=this.datePickerService.value;this.nzOnOk.emit(r.length?[r[0]?.nativeDate||null,r[1]?.nativeDate||null]:[])}else this.nzOnOk.emit(this.datePickerService.value?this.datePickerService.value.nativeDate:null)}setStatusStyles(r,d){this.status=r,this.hasFeedback=d,this.cdr.markForCheck(),this.statusCls=(0,G.LP)(this.prefixCls,r,d),Object.keys(this.statusCls).forEach(p=>{this.statusCls[p]?this.renderer.addClass(this.elementRef.nativeElement,p):this.renderer.removeClass(this.elementRef.nativeElement,p)})}setPlacement(r){const d=he.l$[r];this.overlayPositions=[d,...he.DN],this.currentPositionX=d.originX,this.currentPositionY=d.originY}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(xe.yx),t.rXU(Gr),t.rXU(en.Og),t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(en.cr),t.rXU(dr.xH),t.rXU(oe.OD),t.rXU(P.y4),t.rXU(f.qQ),t.rXU(Z.dS,8),t.rXU(Fe.z,9),t.rXU(k.is,8),t.rXU(k.n1,8))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-date-picker"],["nz-week-picker"],["nz-month-picker"],["nz-year-picker"],["nz-range-picker"]],viewQuery:function(d,p){if(1&d&&(t.GBs(fe.WB,5),t.GBs(qa,5),t.GBs($r,5),t.GBs(Qc,5),t.GBs(Zc,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.cdkConnectedOverlay=S.first),t.mGM(S=t.lsd())&&(p.panel=S.first),t.mGM(S=t.lsd())&&(p.separatorElement=S.first),t.mGM(S=t.lsd())&&(p.pickerInput=S.first),t.mGM(S=t.lsd())&&(p.rangePickerInputs=S)}},hostVars:16,hostBindings:function(d,p){1&d&&t.bIt("click",function(se){return p.onClickInputBox(se)}),2&d&&t.AVh("ant-picker",!0)("ant-picker-range",p.isRange)("ant-picker-large","large"===p.nzSize)("ant-picker-small","small"===p.nzSize)("ant-picker-disabled",p.nzDisabled)("ant-picker-rtl","rtl"===p.dir)("ant-picker-borderless",p.nzBorderless)("ant-picker-inline",p.nzInline)},inputs:{nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly",nzInline:"nzInline",nzOpen:"nzOpen",nzDisabledDate:"nzDisabledDate",nzLocale:"nzLocale",nzPlaceHolder:"nzPlaceHolder",nzPopupStyle:"nzPopupStyle",nzDropdownClassName:"nzDropdownClassName",nzSize:"nzSize",nzStatus:"nzStatus",nzFormat:"nzFormat",nzDateRender:"nzDateRender",nzDisabledTime:"nzDisabledTime",nzRenderExtraFooter:"nzRenderExtraFooter",nzShowToday:"nzShowToday",nzMode:"nzMode",nzShowNow:"nzShowNow",nzRanges:"nzRanges",nzDefaultPickerValue:"nzDefaultPickerValue",nzSeparator:"nzSeparator",nzSuffixIcon:"nzSuffixIcon",nzBackdrop:"nzBackdrop",nzId:"nzId",nzPlacement:"nzPlacement",nzShowWeekNumber:"nzShowWeekNumber",nzShowTime:"nzShowTime"},outputs:{nzOnPanelChange:"nzOnPanelChange",nzOnCalendarChange:"nzOnCalendarChange",nzOnOk:"nzOnOk",nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzDatePicker"],standalone:!0,features:[t.Jv_([P.y4,Gr,{provide:m.kq,multi:!0,useExisting:(0,t.Rfq)(()=>h)}]),t.OA$,t.aNF],decls:9,vars:6,consts:[["tplRangeInput",""],["tplRightRest",""],["inlineMode",""],["pickerInput",""],["separatorElement",""],["rangePickerInput",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"positionChange","detach","overlayKeydown","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn"],[3,"class"],["autocomplete","off",3,"ngModelChange","focus","focusout","keyup.enter","disabled","readOnly","ngModel","placeholder","size"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","swap-right","nzTheme","outline"],[3,"ngTemplateOutlet"],["autocomplete","off",3,"click","focusout","focus","keyup.enter","ngModelChange","disabled","readOnly","size","ngModel","placeholder"],[3,"ngStyle"],[3,"status"],[3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nz-icon","",3,"nzType"],[3,"panelModeChange","calendarChange","resultOk","isRange","inline","defaultPickerValue","showWeek","panelMode","locale","showToday","showNow","showTime","dateRender","disabledDate","disabledTime","extraFooter","ranges","dir"],[1,"ant-picker-wrapper",3,"nzNoAnimation"]],template:function(d,p){if(1&d){const S=t.RV6();t.DNE(0,jr,2,1)(1,rh,1,1)(2,ah,2,6,"ng-template",null,0,t.C5r)(4,ch,5,10,"ng-template",null,1,t.C5r)(6,hh,2,36,"ng-template",null,2,t.C5r)(8,Ka,2,5,"ng-template",6),t.bIt("positionChange",function(Ue){return t.eBV(S),t.Njj(p.onPositionChange(Ue))})("detach",function(){return t.eBV(S),t.Njj(p.close())})("overlayKeydown",function(Ue){return t.eBV(S),t.Njj(p.onOverlayKeydown(Ue))})}2&d&&(t.vxM(0,p.nzInline?1:0),t.R7$(8),t.Y8G("cdkConnectedOverlayHasBackdrop",p.nzBackdrop)("cdkConnectedOverlayOrigin",p.origin)("cdkConnectedOverlayOpen",p.realOpenState)("cdkConnectedOverlayPositions",p.overlayPositions)("cdkConnectedOverlayTransformOriginOn",".ant-picker-wrapper"))},dependencies:[m.YN,m.me,m.BC,m.vS,f.T3,Ge.C,Ge.m,w.Y3,w.Dn,f.B3,k.J1,k.Xd,qa,fe.WB,he.$_,he.vT,Fe.z],encapsulation:2,data:{animation:[ze.U1]},changeDetection:0})}return(0,X.Cg)([(0,G.H3)()],h.prototype,"nzAllowClear",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzAutoFocus",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzBorderless",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzInputReadOnly",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzInline",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzOpen",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowToday",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowNow",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzSeparator",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzSuffixIcon",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzBackdrop",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowWeekNumber",void 0),h})();var xh=C(1166),Ur=C(7481),Oh=C(4572),nf=C(9172),el=C(8141),tl=C(4412);class Ei{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(M,r=null,d=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,M instanceof Ei)return M;this.service=d||null,this.origin=M,this.key=M.key,this.parentNode=r,this._title=M.title||"---",this._icon=M.icon||"",this._isLeaf=M.isLeaf||!1,this._children=[],this._isChecked=M.checked||!1,this._isSelectable=M.disabled||!1!==M.selectable,this._isDisabled=M.disabled||!1,this._isDisableCheckbox=M.disableCheckbox||!1,this._isExpanded=!M.isLeaf&&(M.expanded||!1),this._isHalfChecked=!1,this._isSelected=!M.disabled&&M.selected||!1,this._isLoading=!1,this.isMatched=!1,this.level=r?r.level+1:0,typeof M.children<"u"&&null!==M.children&&M.children.forEach(p=>{const S=this.treeService;S&&!S.isCheckStrictly&&M.checked&&!M.disabled&&!p.disabled&&!p.disableCheckbox&&(p.checked=M.checked),this._children.push(new Ei(p,this))})}get title(){return this._title}set title(M){this._title=M,this.update()}get icon(){return this._icon}set icon(M){this._icon=M,this.update()}get children(){return this._children}set children(M){this._children=M,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(M){this._isLeaf=M,this.update()}get isChecked(){return this._isChecked}set isChecked(M){this._isChecked=M,this.origin.checked=M,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(M){this._isHalfChecked=M,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(M){this._isSelectable=M,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(M){this._isDisabled=M,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(M){this._isDisableCheckbox=M,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(M){this._isExpanded=M,this.origin.expanded=M,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(M){this._isSelected=M,this.origin.selected=M,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(M){this._isLoading=M,this.update()}setSyncChecked(M=!1,r=!1){this.setChecked(M,r),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(M=!1,r=!1){this.origin.checked=M,this.isChecked=M,this.isHalfChecked=r}setExpanded(M){this._isExpanded=M,this.origin.expanded=M,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(M,r=-1){this.isLeaf||(M.forEach(d=>{const p=se=>{se.getChildren().forEach(Ue=>{Ue.level=Ue.getParentNode().level+1,Ue.origin.level=Ue.level,p(Ue)})};let S=d;S instanceof Ei?S.parentNode=this:S=new Ei(d,this),S.level=this.level+1,S.origin.level=S.level,p(S);try{-1===r?this.children.push(S):this.children.splice(r,0,S)}catch{}}),this.origin.children=this.getChildren().map(d=>d.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){const M=this.getParentNode();M&&(M.children=M.getChildren().filter(r=>r.key!==this.key),M.origin.children=M.origin.children.filter(r=>r.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(M){if(this.treeService)switch(M){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(r=>r.key))}this.update()}update(){this.component&&this.component.markForCheck()}}function xo(h){const{isDisabled:M,isDisableCheckbox:r}=h;return!(!M&&!r)}function nl(h,M){return M.length>0&&M.indexOf(h)>-1}function ol(h=[],M=[]){const r=new Set(!0===M?[]:M),d=[];return function p(S,se=null){return S.map((Ue,Dt)=>{const on=function il(h,M){return`${h}-${M}`}(se?se.pos:"0",Dt),ln=function sl(h,M){return h??M}(Ue.key,on);Ue.isStart=[...se?se.isStart:[],0===Dt],Ue.isEnd=[...se?se.isEnd:[],Dt===S.length-1];const hn={parent:se,pos:on,children:[],data:Ue,isStart:[...se?se.isStart:[],0===Dt],isEnd:[...se?se.isEnd:[],Dt===S.length-1]};return d.push(hn),hn.children=!0===M||r.has(ln)||Ue.isExpanded?p(Ue.children||[],hn):[],hn})}(h),d}let os=(()=>{class h{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new tl.t([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(r){this.rootNodes=r,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(r,d=[]){this.flattenNodes$.next(ol(r,d).map(p=>p.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeKeys(){const r=[],d=this.getCheckedNodeList(),p=S=>{S.forEach(se=>{r.push(se.key),!(se.children.length<1)&&p(se.children)})};return p(d),r}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(r){return r.every(d=>d instanceof Ei)}setSelectedNode(r){this.selectedNode=r}setNodeActive(r){!this.isMultiple&&r.isSelected&&(this.selectedNodeList.forEach(d=>{r.key!==d.key&&(d.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(r,this.isMultiple)}setSelectedNodeList(r,d=!1){const p=this.getIndexOfArray(this.selectedNodeList,r.key);d?r.isSelected&&-1===p&&this.selectedNodeList.push(r):r.isSelected&&-1===p&&(this.selectedNodeList=[r]),r.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(S=>S.key!==r.key))}setHalfCheckedNodeList(r){const d=this.getIndexOfArray(this.halfCheckedNodeList,r.key);r.isHalfChecked&&-1===d?this.halfCheckedNodeList.push(r):!r.isHalfChecked&&d>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(p=>r.key!==p.key))}setCheckedNodeList(r){const d=this.getIndexOfArray(this.checkedNodeList,r.key);r.isChecked&&-1===d?this.checkedNodeList.push(r):!r.isChecked&&d>-1&&(this.checkedNodeList=this.checkedNodeList.filter(p=>r.key!==p.key))}conductNodeState(r="check"){let d=[];switch(r){case"select":d=this.selectedNodeList;break;case"expand":d=this.expandedNodeList;break;case"match":d=this.matchedNodeList;break;case"check":d=this.checkedNodeList;const p=S=>{const se=S.getParentNode();return!!se&&(this.checkedNodeList.findIndex(Ue=>Ue.key===se.key)>-1||p(se))};this.isCheckStrictly||(d=this.checkedNodeList.filter(S=>!p(S)));break;case"halfCheck":this.isCheckStrictly||(d=this.halfCheckedNodeList)}return d}setExpandedNodeList(r){if(r.isLeaf)return;const d=this.getIndexOfArray(this.expandedNodeList,r.key);r.isExpanded&&-1===d?this.expandedNodeList.push(r):!r.isExpanded&&d>-1&&this.expandedNodeList.splice(d,1)}setMatchedNodeList(r){const d=this.getIndexOfArray(this.matchedNodeList,r.key);r.isMatched&&-1===d?this.matchedNodeList.push(r):!r.isMatched&&d>-1&&this.matchedNodeList.splice(d,1)}refreshCheckState(r=!1){r||this.checkedNodeList.forEach(d=>{this.conduct(d,r)})}conduct(r,d=!1){const p=r.isChecked;r&&!d&&(this.conductUp(r),this.conductDown(r,p))}conductUp(r){const d=r.getParentNode();d&&(xo(d)||(d.children.every(p=>xo(p)||!p.isHalfChecked&&p.isChecked)?(d.isChecked=!0,d.isHalfChecked=!1):d.children.some(p=>p.isHalfChecked||p.isChecked)?(d.isChecked=!1,d.isHalfChecked=!0):(d.isChecked=!1,d.isHalfChecked=!1)),this.setCheckedNodeList(d),this.setHalfCheckedNodeList(d),this.conductUp(d))}conductDown(r,d){xo(r)||(r.isChecked=d,r.isHalfChecked=!1,this.setCheckedNodeList(r),this.setHalfCheckedNodeList(r),r.children.forEach(p=>{this.conductDown(p,d)}))}afterRemove(r){const d=p=>{this.selectedNodeList=this.selectedNodeList.filter(S=>S.key!==p.key),this.expandedNodeList=this.expandedNodeList.filter(S=>S.key!==p.key),this.checkedNodeList=this.checkedNodeList.filter(S=>S.key!==p.key),p.children&&p.children.forEach(S=>{d(S)})};r.forEach(p=>{d(p)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(r){0===r.children.length?this.conductUp(r):r.children.forEach(d=>{this.refreshDragNode(d)})}resetNodeLevel(r){const d=r.getParentNode();r.level=d?d.level+1:0;for(const p of r.children)this.resetNodeLevel(p)}calcDropPosition(r){const{clientY:d}=r,{top:p,bottom:S,height:se}=r.target.getBoundingClientRect(),Ue=Math.max(se*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return d<=p+Ue?-1:d>=S-Ue?1:0}dropAndApply(r,d=-1){if(!r||d>1)return;const p=r.treeService,S=r.getParentNode(),se=this.selectedNode.getParentNode();switch(se?se.children=se.children.filter(Ue=>Ue.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(Ue=>Ue.key!==this.selectedNode.key),d){case 0:r.addChildren([this.selectedNode]),this.resetNodeLevel(r);break;case-1:case 1:const Ue=1===d?1:0;if(S){S.addChildren([this.selectedNode],S.children.indexOf(r)+Ue);const Dt=this.selectedNode.getParentNode();Dt&&this.resetNodeLevel(Dt)}else{const Dt=this.rootNodes.indexOf(r)+Ue;this.rootNodes.splice(Dt,0,this.selectedNode),this.rootNodes[Dt].parentNode=null,this.resetNodeLevel(this.rootNodes[Dt])}}this.rootNodes.forEach(Ue=>{Ue.treeService||(Ue.service=p),this.refreshDragNode(Ue)})}formatEvent(r,d,p){const S={eventName:r,node:d,event:p};switch(r){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(S,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(S,{selectedKeys:this.selectedNodeList}),Object.assign(S,{nodes:this.selectedNodeList}),Object.assign(S,{keys:this.selectedNodeList.map(Ue=>Ue.key)});break;case"check":const se=this.getCheckedNodeList();Object.assign(S,{checkedKeys:se}),Object.assign(S,{nodes:se}),Object.assign(S,{keys:se.map(Ue=>Ue.key)});break;case"search":Object.assign(S,{matchedKeys:this.getMatchedNodeList()}),Object.assign(S,{nodes:this.getMatchedNodeList()}),Object.assign(S,{keys:this.getMatchedNodeList().map(Ue=>Ue.key)});break;case"expand":Object.assign(S,{nodes:this.expandedNodeList}),Object.assign(S,{keys:this.expandedNodeList.map(Ue=>Ue.key)})}return S}getIndexOfArray(r,d){return r.findIndex(p=>p.key===d)}conductCheck(r,d){this.checkedNodeList=[],this.halfCheckedNodeList=[];const p=S=>{S.forEach(se=>{null===r?se.isChecked=!!se.origin.checked:nl(se.key,r||[])?(se.isChecked=!0,se.isHalfChecked=!1):(se.isChecked=!1,se.isHalfChecked=!1),se.children.length>0&&p(se.children)})};p(this.rootNodes),this.refreshCheckState(d)}conductExpandedKeys(r=[]){const d=new Set(!0===r?[]:r);this.expandedNodeList=[];const p=S=>{S.forEach(se=>{se.setExpanded(!0===r||d.has(se.key)||!0===se.isExpanded),se.isExpanded&&this.setExpandedNodeList(se),se.children.length>0&&p(se.children)})};p(this.rootNodes)}conductSelectedKeys(r,d){this.selectedNodeList.forEach(S=>S.isSelected=!1),this.selectedNodeList=[];const p=S=>S.every(se=>{if(nl(se.key,r)){if(se.isSelected=!0,this.setSelectedNodeList(se),!d)return!1}else se.isSelected=!1;return!(se.children.length>0)||p(se.children)});p(this.rootNodes)}expandNodeAllParentBySearch(r){const d=p=>{if(p&&(p.canHide=!1,p.setExpanded(!0),this.setExpandedNodeList(p),p.getParentNode()))return d(p.getParentNode())};d(r.getParentNode())}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac})}return h})();const rl=new t.nKC("NzTreeHigherOrder");class Fs{constructor(M){this.nzTreeService=M}coerceTreeNodes(M){let r=[];return r=this.nzTreeService.isArrayOfNzTreeNode(M)?M.map(d=>(d.service=this.nzTreeService,d)):M.map(d=>new Ei(d,null,this.nzTreeService)),r}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(M){const r=[],d=p=>{r.push(p),p.getChildren().forEach(S=>{d(S)})};return this.getTreeNodes().forEach(p=>{d(p)}),r.find(p=>p.key===M)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}}var al=C(1672);const Xr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dh=/([^\#-~ |!])/g;let wh=(()=>{class h{constructor(){this.UNIQUE_WRAPPERS=["##==-open_tag-==##","##==-close_tag-==##"]}transform(r,d,p,S){if(!d)return r;const se=new RegExp(d.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),p);return function ll(h){return h.replace(/&/g,"&amp;").replace(Xr,M=>`&#${1024*(M.charCodeAt(0)-55296)+(M.charCodeAt(1)-56320)+65536};`).replace(Dh,M=>`&#${M.charCodeAt(0)};`).replace(/</g,"&lt;").replace(/>/g,"&gt;")}(r.replace(se,`${this.UNIQUE_WRAPPERS[0]}$&${this.UNIQUE_WRAPPERS[1]}`)).replace(new RegExp(this.UNIQUE_WRAPPERS[0],"g"),S?`<span class="${S}">`:"<span>").replace(new RegExp(this.UNIQUE_WRAPPERS[1],"g"),"</span>")}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275pipe=t.EJ8({name:"nzHighlight",type:h,pure:!0,standalone:!0})}return h})(),cl=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({})}return h})();var rs=C(494);function Mh(h,M){if(1&h&&t.nrm(0,"span"),2&h){const r=M.index,d=t.XpG();t.AVh("ant-tree-indent-unit",!d.nzSelectMode)("ant-select-tree-indent-unit",d.nzSelectMode)("ant-select-tree-indent-unit-start",d.nzSelectMode&&d.nzIsStart[r])("ant-tree-indent-unit-start",!d.nzSelectMode&&d.nzIsStart[r])("ant-select-tree-indent-unit-end",d.nzSelectMode&&d.nzIsEnd[r])("ant-tree-indent-unit-end",!d.nzSelectMode&&d.nzIsEnd[r])}}const hl=["builtin",""],Wr=(h,M)=>({$implicit:h,origin:M});function dl(h,M){if(1&h&&(t.qex(0),t.nrm(1,"span",4),t.bVm()),2&h){const r=t.XpG(3);t.R7$(),t.AVh("ant-select-tree-switcher-icon",r.nzSelectMode)("ant-tree-switcher-icon",!r.nzSelectMode)}}function Eh(h,M){if(1&h&&(t.qex(0),t.DNE(1,dl,2,4,"ng-container",3),t.bVm()),2&h){const r=t.XpG(2);t.R7$(),t.Y8G("nzStringTemplateOutlet",r.nzExpandedIcon)("nzStringTemplateOutletContext",t.l_i(2,Wr,r.context,r.context.origin))}}function Yr(h,M){if(1&h&&(t.qex(0),t.DNE(1,Eh,2,5,"ng-container",2),t.bVm()),2&h){const r=t.XpG(),d=t.sdS(3);t.R7$(),t.Y8G("ngIf",!r.isLoading)("ngIfElse",d)}}function Ph(h,M){if(1&h&&t.nrm(0,"span",7),2&h){const r=t.XpG(4);t.Y8G("nzType",r.isSwitcherOpen?"minus-square":"plus-square")}}function kh(h,M){1&h&&t.nrm(0,"span",8)}function Oo(h,M){if(1&h&&(t.qex(0),t.DNE(1,Ph,1,1,"span",5)(2,kh,1,0,"span",6),t.bVm()),2&h){const r=t.XpG(3);t.R7$(),t.Y8G("ngIf",r.isShowLineIcon),t.R7$(),t.Y8G("ngIf",!r.isShowLineIcon)}}function Nh(h,M){if(1&h&&(t.qex(0),t.DNE(1,Oo,3,2,"ng-container",3),t.bVm()),2&h){const r=t.XpG(2);t.R7$(),t.Y8G("nzStringTemplateOutlet",r.nzExpandedIcon)("nzStringTemplateOutletContext",t.l_i(2,Wr,r.context,r.context.origin))}}function ul(h,M){if(1&h&&(t.qex(0),t.DNE(1,Nh,2,5,"ng-container",2),t.bVm()),2&h){const r=t.XpG(),d=t.sdS(3);t.R7$(),t.Y8G("ngIf",!r.isLoading)("ngIfElse",d)}}function Ih(h,M){1&h&&t.nrm(0,"span",9),2&h&&t.Y8G("nzSpin",!0)}function Li(h,M){}function Ah(h,M){if(1&h&&t.nrm(0,"span",6),2&h){const r=t.XpG(3);t.Y8G("nzType",r.icon)}}function Do(h,M){if(1&h&&(t.j41(0,"span")(1,"span"),t.DNE(2,Ah,1,1,"span",5),t.k0s()()),2&h){const r=t.XpG(2);t.AVh("ant-tree-icon__open",r.isSwitcherOpen)("ant-tree-icon__close",r.isSwitcherClose)("ant-tree-icon_loading",r.isLoading)("ant-select-tree-iconEle",r.selectMode)("ant-tree-iconEle",!r.selectMode),t.R7$(),t.AVh("ant-select-tree-iconEle",r.selectMode)("ant-select-tree-icon__customize",r.selectMode)("ant-tree-iconEle",!r.selectMode)("ant-tree-icon__customize",!r.selectMode),t.R7$(),t.Y8G("ngIf",r.icon)}}function Rh(h,M){if(1&h&&(t.qex(0),t.DNE(1,Do,3,19,"span",3),t.nrm(2,"span",4),t.nI1(3,"nzHighlight"),t.bVm()),2&h){const r=t.XpG();t.R7$(),t.Y8G("ngIf",r.icon&&r.showIcon),t.R7$(),t.Y8G("innerHTML",t.ii3(3,2,r.title,r.matchedValue,"i","font-highlight"),t.npT)}}function Fh(h,M){if(1&h&&t.nrm(0,"nz-tree-drop-indicator",7),2&h){const r=t.XpG();t.Y8G("dropPosition",r.dragPosition)("level",r.context.level)}}function pl(h,M){if(1&h){const r=t.RV6();t.j41(0,"nz-tree-node-switcher",4),t.bIt("click",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.clickExpand(p))}),t.k0s()}if(2&h){const r=t.XpG();t.Y8G("nzShowExpand",r.nzShowExpand)("nzShowLine",r.nzShowLine)("nzExpandedIcon",r.nzExpandedIcon)("nzSelectMode",r.nzSelectMode)("context",r.nzTreeNode)("isLeaf",r.isLeaf)("isExpanded",r.isExpanded)("isLoading",r.isLoading)}}function fl(h,M){if(1&h){const r=t.RV6();t.j41(0,"nz-tree-node-checkbox",5),t.bIt("click",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.clickCheckBox(p))}),t.k0s()}if(2&h){const r=t.XpG();t.Y8G("nzSelectMode",r.nzSelectMode)("isChecked",r.isChecked)("isHalfChecked",r.isHalfChecked)("isDisabled",r.isDisabled)("isDisableCheckbox",r.isDisableCheckbox)}}const Bh=["nzTreeTemplate"],Kr=h=>({$implicit:h});function Lh(h,M){}function Vh(h,M){if(1&h&&(t.qex(0),t.DNE(1,Lh,0,0,"ng-template",10),t.bVm()),2&h){const r=M.$implicit;t.XpG(2);const d=t.sdS(9);t.R7$(),t.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",t.eq3(2,Kr,r))}}function as(h,M){if(1&h&&(t.j41(0,"cdk-virtual-scroll-viewport",8),t.DNE(1,Vh,2,4,"ng-container",9),t.k0s()),2&h){const r=t.XpG();t.xc7("height",r.nzVirtualHeight),t.AVh("ant-select-tree-list-holder-inner",r.nzSelectMode)("ant-tree-list-holder-inner",!r.nzSelectMode),t.Y8G("itemSize",r.nzVirtualItemSize)("minBufferPx",r.nzVirtualMinBufferPx)("maxBufferPx",r.nzVirtualMaxBufferPx),t.R7$(),t.Y8G("cdkVirtualForOf",r.nzFlattenNodes)("cdkVirtualForTrackBy",r.trackByFlattenNode)}}function $h(h,M){}function jh(h,M){if(1&h&&(t.qex(0),t.DNE(1,$h,0,0,"ng-template",10),t.bVm()),2&h){const r=M.$implicit;t.XpG(2);const d=t.sdS(9);t.R7$(),t.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",t.eq3(2,Kr,r))}}function Gh(h,M){if(1&h&&(t.j41(0,"div",11),t.DNE(1,jh,2,4,"ng-container",12),t.k0s()),2&h){const r=t.XpG();t.AVh("ant-select-tree-list-holder-inner",r.nzSelectMode)("ant-tree-list-holder-inner",!r.nzSelectMode),t.Y8G("@.disabled",r.beforeInit||!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("nzNoAnimation",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("@treeCollapseMotion",r.nzFlattenNodes.length),t.R7$(),t.Y8G("ngForOf",r.nzFlattenNodes)("ngForTrackBy",r.trackByFlattenNode)}}function gl(h,M){if(1&h){const r=t.RV6();t.j41(0,"nz-tree-node",13),t.bIt("nzExpandChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzClick",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzDblClick",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzContextMenu",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzCheckBoxChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDragStart",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDragEnter",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDragOver",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDragLeave",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDragEnd",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDrop",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))}),t.k0s()}if(2&h){const r=M.$implicit,d=t.XpG();t.Y8G("icon",r.icon)("title",r.title)("isLoading",r.isLoading)("isSelected",r.isSelected)("isDisabled",r.isDisabled)("isMatched",r.isMatched)("isExpanded",r.isExpanded)("isLeaf",r.isLeaf)("isStart",r.isStart)("isEnd",r.isEnd)("isChecked",r.isChecked)("isHalfChecked",r.isHalfChecked)("isDisableCheckbox",r.isDisableCheckbox)("isSelectable",r.isSelectable)("canHide",r.canHide)("nzTreeNode",r)("nzSelectMode",d.nzSelectMode)("nzShowLine",d.nzShowLine)("nzExpandedIcon",d.nzExpandedIcon)("nzDraggable",d.nzDraggable)("nzCheckable",d.nzCheckable)("nzShowExpand",d.nzShowExpand)("nzAsyncData",d.nzAsyncData)("nzSearchValue",d.nzSearchValue)("nzHideUnMatched",d.nzHideUnMatched)("nzBeforeDrop",d.nzBeforeDrop)("nzShowIcon",d.nzShowIcon)("nzTreeTemplate",d.nzTreeTemplate||d.nzTreeTemplateChild)}}let Hh=(()=>{class h{constructor(r){this.cdr=r,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(r){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(r,d="ltr"){const S="ltr"===d?"left":"right",Ue={[S]:"4px",["ltr"===d?"right":"left"]:"0px"};switch(r){case-1:Ue.top="-3px";break;case 1:Ue.bottom="-3px";break;case 0:Ue.bottom="-3px",Ue[S]="28px";break;default:Ue.display="none"}this.style=Ue,this.cdr.markForCheck()}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(d,p){2&d&&(t.Aen(p.style),t.AVh("ant-tree-drop-indicator",!0))},inputs:{dropPosition:"dropPosition",level:"level",direction:"direction"},exportAs:["NzTreeDropIndicator"],standalone:!0,features:[t.OA$,t.aNF],decls:0,vars:0,template:function(d,p){},encapsulation:2,changeDetection:0})}return h})(),Uh=(()=>{class h{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(r){const{nzTreeLevel:d}=r;d&&(this.listOfUnit=[...new Array(d.currentValue||0)])}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(d,p){2&d&&(t.BMQ("aria-hidden",!0),t.AVh("ant-tree-indent",!p.nzSelectMode)("ant-select-tree-indent",p.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:1,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end",4,"ngFor","ngForOf"]],template:function(d,p){1&d&&t.DNE(0,Mh,1,12,"span",0),2&d&&t.Y8G("ngForOf",p.listOfUnit)},dependencies:[f.Sq],encapsulation:2,changeDetection:0})}return h})(),Xh=(()=>{class h{constructor(){this.nzSelectMode=!1}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(d,p){2&d&&t.AVh("ant-select-tree-checkbox",p.nzSelectMode)("ant-select-tree-checkbox-checked",p.nzSelectMode&&p.isChecked)("ant-select-tree-checkbox-indeterminate",p.nzSelectMode&&p.isHalfChecked)("ant-select-tree-checkbox-disabled",p.nzSelectMode&&(p.isDisabled||p.isDisableCheckbox))("ant-tree-checkbox",!p.nzSelectMode)("ant-tree-checkbox-checked",!p.nzSelectMode&&p.isChecked)("ant-tree-checkbox-indeterminate",!p.nzSelectMode&&p.isHalfChecked)("ant-tree-checkbox-disabled",!p.nzSelectMode&&(p.isDisabled||p.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisabled:"isDisabled",isDisableCheckbox:"isDisableCheckbox"},standalone:!0,features:[t.aNF],attrs:hl,decls:1,vars:4,template:function(d,p){1&d&&t.nrm(0,"span"),2&d&&t.AVh("ant-tree-checkbox-inner",!p.nzSelectMode)("ant-select-tree-checkbox-inner",p.nzSelectMode)},encapsulation:2,changeDetection:0})}return h})(),ni=(()=>{class h{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(d,p){2&d&&t.AVh("ant-select-tree-switcher",p.nzSelectMode)("ant-select-tree-switcher-noop",p.nzSelectMode&&p.isLeaf)("ant-select-tree-switcher_open",p.nzSelectMode&&p.isSwitcherOpen)("ant-select-tree-switcher_close",p.nzSelectMode&&p.isSwitcherClose)("ant-tree-switcher",!p.nzSelectMode)("ant-tree-switcher-noop",!p.nzSelectMode&&p.isLeaf)("ant-tree-switcher_open",!p.nzSelectMode&&p.isSwitcherOpen)("ant-tree-switcher_close",!p.nzSelectMode&&p.isSwitcherClose)},inputs:{nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:"isLeaf",isLoading:"isLoading",isExpanded:"isExpanded"},standalone:!0,features:[t.aNF],decls:4,vars:2,consts:[["loadingTemplate",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"]],template:function(d,p){1&d&&t.DNE(0,Yr,2,2,"ng-container",1)(1,ul,2,2,"ng-container",1)(2,Ih,1,1,"ng-template",null,0,t.C5r),2&d&&(t.Y8G("ngIf",p.isShowSwitchIcon),t.R7$(),t.Y8G("ngIf",p.nzShowLine))},dependencies:[w.Y3,w.Dn,f.bT,Ge.C,Ge.m],encapsulation:2,changeDetection:0})}return h})(),ml=(()=>{class h{get canDraggable(){return!(!this.draggable||this.isDisabled)||null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}constructor(r){this.cdr=r,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}ngOnChanges(r){const{showIndicator:d,dragPosition:p}=r;(d||p)&&this.cdr.markForCheck()}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(d,p){2&d&&(t.BMQ("title",p.title)("draggable",p.canDraggable)("aria-grabbed",p.canDraggable),t.AVh("draggable",p.canDraggable)("ant-select-tree-node-content-wrapper",p.selectMode)("ant-select-tree-node-content-wrapper-open",p.selectMode&&p.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",p.selectMode&&p.isSwitcherClose)("ant-select-tree-node-selected",p.selectMode&&p.isSelected)("ant-tree-node-content-wrapper",!p.selectMode)("ant-tree-node-content-wrapper-open",!p.selectMode&&p.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!p.selectMode&&p.isSwitcherClose)("ant-tree-node-selected",!p.selectMode&&p.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:"draggable",showIcon:"showIcon",selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",showIndicator:"showIndicator",dragPosition:"dragPosition"},standalone:!0,features:[t.OA$,t.aNF],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"dropPosition","level",4,"ngIf"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"dropPosition","level"]],template:function(d,p){1&d&&t.DNE(0,Li,0,0,"ng-template",0)(1,Rh,4,7,"ng-container",1)(2,Fh,1,2,"nz-tree-drop-indicator",2),2&d&&(t.Y8G("ngTemplateOutlet",p.treeTemplate)("ngTemplateOutletContext",t.l_i(4,Wr,p.context,p.context.origin)),t.R7$(),t.Y8G("ngIf",!p.treeTemplate),t.R7$(),t.Y8G("ngIf",p.showIndicator))},dependencies:[f.T3,f.bT,w.Y3,w.Dn,cl,wh,Hh],encapsulation:2,changeDetection:0})}return h})(),_l=(()=>{class h{get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(r){r.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);const d=this.nzTreeService.formatEvent("expand",this.nzTreeNode,r);this.nzExpandChange.emit(d)}clickSelect(r){r.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);const d=this.nzTreeService.formatEvent("click",this.nzTreeNode,r);this.nzClick.emit(d)}dblClick(r){r.preventDefault();const d=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,r);this.nzDblClick.emit(d)}contextMenu(r){r.preventDefault();const d=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,r);this.nzContextMenu.emit(d)}clickCheckBox(r){if(r.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);const d=this.nzTreeService.formatEvent("check",this.nzTreeNode,r);this.nzCheckBoxChange.emit(d)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(d=>{this.renderer.removeClass(this.elementRef.nativeElement,d)})}handleDragStart(r){try{r.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;const d=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,r);this.nzOnDragStart.emit(d)}handleDragEnter(r){r.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{const d=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,r);this.nzOnDragEnter.emit(d)})}handleDragOver(r){r.preventDefault();const d=this.nzTreeService.calcDropPosition(r);this.dragPos!==d&&(this.clearDragClass(),this.renderIndicator(d),0===this.dragPos&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));const p=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,r);this.nzOnDragOver.emit(p)}handleDragLeave(r){r.preventDefault(),this.renderIndicator(2),this.clearDragClass();const d=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,r);this.nzOnDragLeave.emit(d)}handleDragDrop(r){r.preventDefault(),r.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();const d=this.nzTreeService.getSelectedNode();if(!d||d&&d.key===this.nzTreeNode.key||0===this.dragPos&&this.isLeaf)return;const p=this.nzTreeService.formatEvent("drop",this.nzTreeNode,r),S=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,r);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(se=>{se&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(p),this.nzOnDragEnd.emit(S)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(p))})}handleDragEnd(r){r.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck();else{this.draggingKey=null;const d=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,r);this.nzOnDragEnd.emit(d)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){const r=this.elementRef.nativeElement;this.destroy$=new ee.B,(0,De.R)(r,"dragstart").pipe((0,K.Q)(this.destroy$)).subscribe(d=>this.handleDragStart(d)),(0,De.R)(r,"dragenter").pipe((0,K.Q)(this.destroy$)).subscribe(d=>this.handleDragEnter(d)),(0,De.R)(r,"dragover").pipe((0,K.Q)(this.destroy$)).subscribe(d=>this.handleDragOver(d)),(0,De.R)(r,"dragleave").pipe((0,K.Q)(this.destroy$)).subscribe(d=>this.handleDragLeave(d)),(0,De.R)(r,"drop").pipe((0,K.Q)(this.destroy$)).subscribe(d=>this.handleDragDrop(d)),(0,De.R)(r,"dragend").pipe((0,K.Q)(this.destroy$)).subscribe(d=>this.handleDragEnd(d))}else this.destroy$.next(!0),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}constructor(r,d,p,S,se,Ue){this.nzTreeService=r,this.ngZone=d,this.renderer=p,this.elementRef=S,this.cdr=se,this.noAnimation=Ue,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new t.bkB,this.nzDblClick=new t.bkB,this.nzContextMenu=new t.bkB,this.nzCheckBoxChange=new t.bkB,this.nzExpandChange=new t.bkB,this.nzOnDragStart=new t.bkB,this.nzOnDragEnter=new t.bkB,this.nzOnDragOver=new t.bkB,this.nzOnDragLeave=new t.bkB,this.nzOnDrop=new t.bkB,this.nzOnDragEnd=new t.bkB,this.destroy$=new ee.B,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.draggingKey=null,this.showIndicator=!1}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{(0,De.R)(this.elementRef.nativeElement,"mousedown").pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.nzSelectMode&&r.preventDefault()})})}ngOnChanges(r){const{nzDraggable:d}=r;d&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}renderIndicator(r){this.ngZone.run(()=>{this.showIndicator=2!==r,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||0===r&&this.isLeaf)&&(this.dragPos=r,this.cdr.markForCheck())})}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(os),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(Fe.z,9))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(d,p){2&d&&(t.xc7("display",p.displayStyle),t.AVh("ant-select-tree-treenode",p.nzSelectMode)("ant-select-tree-treenode-disabled",p.nzSelectMode&&p.isDisabled)("ant-select-tree-treenode-switcher-open",p.nzSelectMode&&p.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",p.nzSelectMode&&p.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",p.nzSelectMode&&p.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",p.nzSelectMode&&p.isHalfChecked)("ant-select-tree-treenode-selected",p.nzSelectMode&&p.isSelected)("ant-select-tree-treenode-loading",p.nzSelectMode&&p.isLoading)("ant-tree-treenode",!p.nzSelectMode)("ant-tree-treenode-disabled",!p.nzSelectMode&&p.isDisabled)("ant-tree-treenode-switcher-open",!p.nzSelectMode&&p.isSwitcherOpen)("ant-tree-treenode-switcher-close",!p.nzSelectMode&&p.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!p.nzSelectMode&&p.isChecked)("ant-tree-treenode-checkbox-indeterminate",!p.nzSelectMode&&p.isHalfChecked)("ant-tree-treenode-selected",!p.nzSelectMode&&p.isSelected)("ant-tree-treenode-loading",!p.nzSelectMode&&p.isLoading)("dragging",p.draggingKey===p.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisableCheckbox:"isDisableCheckbox",isSelectable:"isSelectable",canHide:"canHide",isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable"},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],standalone:!0,features:[t.OA$,t.aNF],attrs:hl,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click",4,"ngIf"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click",4,"ngIf"],[3,"dblclick","click","contextmenu","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition"],[3,"click","nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading"],["builtin","",3,"click","nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox"]],template:function(d,p){1&d&&(t.nrm(0,"nz-tree-indent",0),t.DNE(1,pl,1,8,"nz-tree-node-switcher",1)(2,fl,1,5,"nz-tree-node-checkbox",2),t.j41(3,"nz-tree-node-title",3),t.bIt("dblclick",function(se){return p.dblClick(se)})("click",function(se){return p.clickSelect(se)})("contextmenu",function(se){return p.contextMenu(se)}),t.k0s()),2&d&&(t.Y8G("nzTreeLevel",p.nzTreeNode.level)("nzSelectMode",p.nzSelectMode)("nzIsStart",p.isStart)("nzIsEnd",p.isEnd),t.R7$(),t.Y8G("ngIf",p.nzShowExpand),t.R7$(),t.Y8G("ngIf",p.nzCheckable),t.R7$(),t.Y8G("icon",p.icon)("title",p.title)("isLoading",p.isLoading)("isSelected",p.isSelected)("isDisabled",p.isDisabled)("isMatched",p.isMatched)("isExpanded",p.isExpanded)("isLeaf",p.isLeaf)("searchValue",p.nzSearchValue)("treeTemplate",p.nzTreeTemplate)("draggable",p.nzDraggable)("showIcon",p.nzShowIcon)("selectMode",p.nzSelectMode)("context",p.nzTreeNode)("showIndicator",p.showIndicator)("dragPosition",p.dragPos))},dependencies:[Uh,ni,f.bT,Xh,ml],encapsulation:2,changeDetection:0})}return(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowLine",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowExpand",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzCheckable",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzAsyncData",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzHideUnMatched",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzNoAnimation",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzSelectMode",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowIcon",void 0),h})(),vl=(()=>{class h extends os{constructor(){super()}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac})}return h})();function Wh(){const h=(0,t.WQX)(rl,{skipSelf:!0,optional:!0}),M=(0,t.WQX)(vl);return h??M}let Cl=(()=>{class h extends Fs{writeValue(r){this.handleNzData(r)}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}renderTreeProperties(r){let d=!1,p=!1;const{nzData:S,nzExpandedKeys:se,nzSelectedKeys:Ue,nzCheckedKeys:Dt,nzCheckStrictly:on,nzExpandAll:ln,nzMultiple:hn,nzSearchValue:rn}=r;ln&&(d=!0,p=this.nzExpandAll),hn&&(this.nzTreeService.isMultiple=this.nzMultiple),on&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),S&&this.handleNzData(this.nzData),Dt&&this.handleCheckedKeys(this.nzCheckedKeys),on&&this.handleCheckedKeys(null),(se||ln)&&(d=!0,this.handleExpandedKeys(p||this.nzExpandedKeys)),Ue&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),rn&&(rn.firstChange&&!this.nzSearchValue||(d=!1,this.handleSearchValue(rn.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));const xn=this.getExpandedNodeList().map(Zn=>Zn.key);this.handleFlattenNodes(this.nzTreeService.rootNodes,d?p||this.nzExpandedKeys:xn)}trackByFlattenNode(r,d){return d.key}handleNzData(r){if(Array.isArray(r)){const d=this.coerceTreeNodes(r);this.nzTreeService.initTree(d)}}handleFlattenNodes(r,d=[]){this.nzTreeService.flattenTreeData(r,d)}handleCheckedKeys(r){this.nzTreeService.conductCheck(r,this.nzCheckStrictly)}handleExpandedKeys(r=[]){this.nzTreeService.conductExpandedKeys(r)}handleSelectedKeys(r,d){this.nzTreeService.conductSelectedKeys(r,d)}handleSearchValue(r,d){ol(this.nzTreeService.rootNodes,!0).map(se=>se.data).forEach(se=>{se.isMatched=(se=>d?d(se.origin):!(!r||!se.title.toLowerCase().includes(r.toLowerCase())))(se),se.canHide=!se.isMatched,se.isMatched?this.nzTreeService.expandNodeAllParentBySearch(se):(se.setExpanded(!1),this.nzTreeService.setExpandedNodeList(se)),this.nzTreeService.setMatchedNodeList(se)})}eventTriggerChanged(r){const d=r.node;switch(r.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(r);break;case"click":this.nzClick.emit(r);break;case"dblclick":this.nzDblClick.emit(r);break;case"contextmenu":this.nzContextMenu.emit(r);break;case"check":this.nzTreeService.setCheckedNodeList(d),this.nzCheckStrictly||this.nzTreeService.conduct(d);const p=this.nzTreeService.formatEvent("check",d,r.event);this.nzCheckBoxChange.emit(p);const S=this.nzTreeService.getCheckedNodeKeys();this.nzCheckedKeysChange.emit(S);break;case"dragstart":d.isExpanded&&(d.setExpanded(!d.isExpanded),this.renderTree()),this.nzOnDragStart.emit(r);break;case"dragenter":const se=this.nzTreeService.getSelectedNode();se&&se.key!==d.key&&!d.isExpanded&&!d.isLeaf&&(d.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(r);break;case"dragover":this.nzOnDragOver.emit(r);break;case"dragleave":this.nzOnDragLeave.emit(r);break;case"dragend":this.nzOnDragEnd.emit(r);break;case"drop":this.renderTree(),this.nzOnDrop.emit(r)}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(r=>r.key)),this.cdr.markForCheck()}constructor(r,d,p,S,se){super(r),this.nzConfigService=d,this.cdr=p,this.directionality=S,this.noAnimation=se,this._nzModuleName="tree",this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new t.bkB,this.nzSelectedKeysChange=new t.bkB,this.nzCheckedKeysChange=new t.bkB,this.nzSearchValueChange=new t.bkB,this.nzClick=new t.bkB,this.nzDblClick=new t.bkB,this.nzContextMenu=new t.bkB,this.nzCheckBoxChange=new t.bkB,this.nzExpandChange=new t.bkB,this.nzOnDragStart=new t.bkB,this.nzOnDragEnter=new t.bkB,this.nzOnDragOver=new t.bkB,this.nzOnDragLeave=new t.bkB,this.nzOnDrop=new t.bkB,this.nzOnDragEnd=new t.bkB,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"},this.destroy$=new ee.B,this.onChange=()=>null,this.onTouched=()=>null}ngOnInit(){this.nzTreeService.flattenNodes$.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?r.filter(d=>!d.canHide):r,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()})}ngOnChanges(r){this.renderTreeProperties(r)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(os),t.rXU(xe.yx),t.rXU(t.gRc),t.rXU(Z.dS,8),t.rXU(Fe.z,9))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree"]],contentQueries:function(d,p,S){if(1&d&&t.wni(S,Bh,7),2&d){let se;t.mGM(se=t.lsd())&&(p.nzTreeTemplateChild=se.first)}},viewQuery:function(d,p){if(1&d&&t.GBs(rs.d6,5,rs.d6),2&d){let S;t.mGM(S=t.lsd())&&(p.cdkVirtualScrollViewport=S.first)}},hostVars:20,hostBindings:function(d,p){2&d&&t.AVh("ant-select-tree",p.nzSelectMode)("ant-select-tree-show-line",p.nzSelectMode&&p.nzShowLine)("ant-select-tree-icon-hide",p.nzSelectMode&&!p.nzShowIcon)("ant-select-tree-block-node",p.nzSelectMode&&p.nzBlockNode)("ant-tree",!p.nzSelectMode)("ant-tree-rtl","rtl"===p.dir)("ant-tree-show-line",!p.nzSelectMode&&p.nzShowLine)("ant-tree-icon-hide",!p.nzSelectMode&&!p.nzShowIcon)("ant-tree-block-node",!p.nzSelectMode&&p.nzBlockNode)("draggable-tree",p.nzDraggable)},inputs:{nzShowIcon:"nzShowIcon",nzHideUnMatched:"nzHideUnMatched",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzMultiple:"nzMultiple",nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],standalone:!0,features:[t.Jv_([vl,{provide:os,useFactory:Wh},{provide:m.kq,useExisting:(0,t.Rfq)(()=>h),multi:!0}]),t.Vt3,t.OA$,t.aNF],decls:10,vars:6,consts:[["nodeTemplate",""],[3,"ngStyle"],[1,"ant-tree-treenode",3,"ngStyle"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height",4,"ngIf"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation",4,"ngIf"],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],[4,"ngFor","ngForOf","ngForTrackBy"],["builtin","",3,"nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate"]],template:function(d,p){1&d&&(t.j41(0,"div"),t.nrm(1,"input",1),t.k0s(),t.j41(2,"div",2)(3,"div",3),t.nrm(4,"div",4),t.k0s()(),t.j41(5,"div",5),t.DNE(6,as,2,11,"cdk-virtual-scroll-viewport",6)(7,Gh,2,9,"div",7),t.k0s(),t.DNE(8,gl,1,28,"ng-template",null,0,t.C5r)),2&d&&(t.R7$(),t.Y8G("ngStyle",p.HIDDEN_STYLE),t.R7$(),t.Y8G("ngStyle",p.HIDDEN_NODE_STYLE),t.R7$(3),t.AVh("ant-select-tree-list",p.nzSelectMode),t.R7$(),t.Y8G("ngIf",p.nzVirtualHeight),t.R7$(),t.Y8G("ngIf",!p.nzVirtualHeight))},dependencies:[f.B3,rs.d6,rs.yg,f.bT,rs.E$,f.T3,Fe.z,f.Sq,_l],encapsulation:2,data:{animation:[ze.iA]},changeDetection:0})}return(0,X.Cg)([(0,G.H3)(),(0,xe.H4)()],h.prototype,"nzShowIcon",void 0),(0,X.Cg)([(0,G.H3)(),(0,xe.H4)()],h.prototype,"nzHideUnMatched",void 0),(0,X.Cg)([(0,G.H3)(),(0,xe.H4)()],h.prototype,"nzBlockNode",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzExpandAll",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzSelectMode",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzCheckStrictly",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowExpand",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowLine",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzCheckable",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzAsyncData",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDraggable",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzMultiple",void 0),h})(),Kh=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({imports:[Cl,_l,ni,ml]})}return h})();var Qh=C(851);const Zh=["nzTreeTemplate"],Jh=["treeRef"],Qr=()=>[];function qh(h,M){if(1&h&&(t.j41(0,"span",13),t.nrm(1,"nz-embed-empty",14),t.k0s()),2&h){const r=t.XpG(2);t.R7$(),t.Y8G("nzComponentName","tree-select")("specificContent",r.nzNotFoundContent)}}function ed(h,M){if(1&h){const r=t.RV6();t.j41(0,"div",10)(1,"nz-tree",11,0),t.bIt("nzExpandChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onExpandedKeysChange(p))})("nzClick",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.nzTreeClick.emit(p))})("nzCheckedKeysChange",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.updateSelectedNodes())})("nzSelectedKeysChange",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.updateSelectedNodes())})("nzCheckBoxChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.nzTreeCheckBoxChange.emit(p))})("nzSearchValueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.setSearchValues(p))}),t.k0s(),t.DNE(3,qh,2,2,"span",12),t.k0s()}if(2&h){const r=t.XpG();t.AVh("ant-select-dropdown-placement-bottomLeft","bottom"===r.dropDownPosition)("ant-select-dropdown-placement-topLeft","top"===r.dropDownPosition)("ant-tree-select-dropdown-rtl","rtl"===r.dir),t.Y8G("@slideMotion","enter")("ngClass",r.dropdownClassName)("@.disabled",!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("nzNoAnimation",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("dir",r.dir)("ngStyle",r.nzDropdownStyle),t.R7$(),t.Y8G("hidden",r.isNotFound)("nzData",r.nzNodes)("nzMultiple",r.nzMultiple)("nzSearchValue",r.inputValue)("nzHideUnMatched",r.nzHideUnMatched)("nzShowIcon",r.nzShowIcon)("nzCheckable",r.nzCheckable)("nzAsyncData",r.nzAsyncData)("nzShowExpand",r.nzShowExpand)("nzShowLine",r.nzShowLine)("nzExpandedIcon",r.nzExpandedIcon)("nzExpandAll",r.nzDefaultExpandAll)("nzExpandedKeys",r.expandedKeys)("nzCheckedKeys",r.nzCheckable?r.value:t.lJ4(34,Qr))("nzSelectedKeys",r.nzCheckable?t.lJ4(35,Qr):r.value)("nzTreeTemplate",r.treeTemplate)("nzCheckStrictly",r.nzCheckStrictly)("nzVirtualItemSize",r.nzVirtualItemSize)("nzVirtualMaxBufferPx",r.nzVirtualMaxBufferPx)("nzVirtualMinBufferPx",r.nzVirtualMinBufferPx)("nzVirtualHeight",r.nzVirtualHeight),t.R7$(2),t.Y8G("ngIf",0===r.nzNodes.length||r.isNotFound)}}function td(h,M){if(1&h){const r=t.RV6();t.j41(0,"nz-select-item",17),t.bIt("delete",function(){const p=t.eBV(r).$implicit,S=t.XpG(2);return t.Njj(S.removeSelected(p,!0))}),t.k0s()}if(2&h){const r=M.$implicit,d=t.XpG(2);t.Y8G("deletable",!0)("disabled",r.isDisabled||d.nzDisabled)("label",d.nzDisplayWith(r))}}function nd(h,M){if(1&h&&(t.nrm(0,"nz-select-item",18),t.nI1(1,"slice")),2&h){const r=t.XpG(2);t.Y8G("contentTemplateOutlet",r.nzMaxTagPlaceholder)("contentTemplateOutletContext",t.i5U(1,5,r.selectedNodes,r.nzMaxTagCount))("deletable",!1)("disabled",!1)("label","+ "+(r.selectedNodes.length-r.nzMaxTagCount)+" ...")}}function id(h,M){if(1&h&&(t.qex(0),t.DNE(1,td,1,3,"nz-select-item",15),t.nI1(2,"slice"),t.DNE(3,nd,2,8,"nz-select-item",16),t.bVm()),2&h){const r=t.XpG();t.R7$(),t.Y8G("ngForOf",t.brH(2,3,r.selectedNodes,0,r.nzMaxTagCount))("ngForTrackBy",r.trackValue),t.R7$(2),t.Y8G("ngIf",r.selectedNodes.length>r.nzMaxTagCount)}}function sd(h,M){if(1&h&&t.nrm(0,"nz-select-placeholder",19),2&h){const r=t.XpG();t.xc7("display",r.placeHolderDisplay),t.Y8G("placeholder",r.nzPlaceHolder)}}function od(h,M){if(1&h&&t.nrm(0,"nz-select-item",20),2&h){const r=t.XpG();t.Y8G("deletable",!1)("disabled",!1)("label",r.nzDisplayWith(r.selectedNodes[0]))}}function rd(h,M){1&h&&t.nrm(0,"nz-select-arrow")}function ad(h,M){if(1&h&&t.nrm(0,"nz-form-item-feedback-icon",23),2&h){const r=t.XpG(3);t.Y8G("status",r.status)}}function ld(h,M){if(1&h&&t.DNE(0,ad,1,1,"nz-form-item-feedback-icon",22),2&h){const r=t.XpG(2);t.Y8G("ngIf",r.hasFeedback&&!!r.status)}}function cd(h,M){if(1&h&&(t.j41(0,"nz-select-arrow",21),t.DNE(1,ld,1,1,"ng-template",null,1,t.C5r),t.k0s()),2&h){const r=t.sdS(2),d=t.XpG();t.Y8G("showArrow",!d.isMultiple)("feedbackIcon",r)}}function hd(h,M){if(1&h){const r=t.RV6();t.j41(0,"nz-select-clear",24),t.bIt("clear",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.onClearSelection())}),t.k0s()}}let Zr=(()=>{class h extends os{static#e=this.\u0275fac=(()=>{let r;return function(p){return(r||(r=t.xGo(h)))(p||h)}})();static#t=this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac})}return h})();const Jr="ant-select-dropdown ant-select-tree-dropdown",dd=[he.pn.bottomLeft,he.pn.bottomRight,he.pn.topRight,he.pn.topLeft];let ud=(()=>{class h extends Fs{set nzExpandedKeys(r){this.expandedKeys=r}get nzExpandedKeys(){return this.expandedKeys}get treeTemplate(){return this.nzTreeTemplate||this.nzTreeTemplateChild}get placeHolderDisplay(){return this.inputValue||this.isComposing||this.selectedNodes.length?"none":"block"}get isMultiple(){return this.nzMultiple||this.nzCheckable}constructor(r,d,p,S,se,Ue,Dt,on,ln,hn){super(r),this.nzConfigService=d,this.renderer=p,this.cdr=S,this.elementRef=se,this.directionality=Ue,this.focusMonitor=Dt,this.noAnimation=on,this.nzFormStatusService=ln,this.nzFormNoStatusService=hn,this._nzModuleName="treeSelect",this.nzId=null,this.nzAllowClear=!0,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzDropdownMatchSelectWidth=!0,this.nzCheckable=!1,this.nzHideUnMatched=!1,this.nzShowIcon=!1,this.nzShowSearch=!1,this.nzDisabled=!1,this.nzAsyncData=!1,this.nzMultiple=!1,this.nzDefaultExpandAll=!1,this.nzCheckStrictly=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzNodes=[],this.nzOpen=!1,this.nzSize="default",this.nzPlaceHolder="",this.nzDropdownStyle=null,this.nzBackdrop=!1,this.nzStatus="",this.nzPlacement="",this.nzDisplayWith=rn=>rn.title,this.nzMaxTagPlaceholder=null,this.nzOpenChange=new t.bkB,this.nzCleared=new t.bkB,this.nzRemoved=new t.bkB,this.nzExpandChange=new t.bkB,this.nzTreeClick=new t.bkB,this.nzTreeCheckBoxChange=new t.bkB,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.dropdownClassName=Jr,this.isComposing=!1,this.isDestroy=!0,this.isNotFound=!1,this.focused=!1,this.inputValue="",this.dropDownPosition="bottom",this.selectedNodes=[],this.expandedKeys=[],this.value=[],this.dir="ltr",this.positions=[],this.destroy$=new ee.B,this.isNzDisableFirstChange=!0,this.isComposingChange$=new ee.B,this.searchValueChange$=new ee.B,this.onChange=rn=>{},this.onTouched=()=>{},this.renderer.addClass(this.elementRef.nativeElement,"ant-select"),this.renderer.addClass(this.elementRef.nativeElement,"ant-tree-select")}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,ge.F)((r,d)=>r.status===d.status&&r.hasFeedback===d.hasFeedback),(0,$.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,ot.of)(!1)),(0,R.T)(([{status:r,hasFeedback:d},p])=>({status:p?"":r,hasFeedback:d})),(0,K.Q)(this.destroy$)).subscribe(({status:r,hasFeedback:d})=>{this.setStatusStyles(r,d)}),this.isDestroy=!1,this.subscribeSelectionChange(),this.directionality.change?.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.focusMonitor.monitor(this.elementRef,!0).pipe((0,K.Q)(this.destroy$)).subscribe(r=>{r?(this.focused=!0,this.cdr.markForCheck()):(this.focused=!1,this.cdr.markForCheck(),Promise.resolve().then(()=>{this.onTouched()}))}),(0,Oh.z)([this.searchValueChange$,this.isComposingChange$.pipe((0,nf.Z)(!1))]).pipe((0,K.Q)(this.destroy$)).subscribe(([r,d])=>{this.isComposing=d,d||(this.inputValue=r,this.updatePosition())})}ngOnDestroy(){this.isDestroy=!0,this.closeDropDown(),this.destroy$.next(),this.destroy$.complete()}isComposingChange(r){this.isComposingChange$.next(r)}setDisabledState(r){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||r,this.closeDropDown(),this.isNzDisableFirstChange=!1}setStatusStyles(r,d){this.status=r,this.hasFeedback=d,this.cdr.markForCheck(),this.statusCls=(0,G.LP)(this.prefixCls,r,d),Object.keys(this.statusCls).forEach(p=>{this.statusCls[p]?this.renderer.addClass(this.elementRef.nativeElement,p):this.renderer.removeClass(this.elementRef.nativeElement,p)})}ngOnChanges(r){const{nzNodes:d,nzDropdownClassName:p,nzStatus:S,nzPlacement:se}=r;if(d&&this.updateSelectedNodes(!0),p){const Ue=this.nzDropdownClassName&&this.nzDropdownClassName.trim();this.dropdownClassName=Ue?`${Jr} ${Ue}`:Jr}S&&this.setStatusStyles(this.nzStatus,this.hasFeedback),se&&this.nzPlacement&&he.pn[this.nzPlacement]&&(this.positions=[he.pn[this.nzPlacement]])}writeValue(r){(0,G.n9)(r)?(this.value=this.isMultiple&&Array.isArray(r)?r:[r],this.updateSelectedNodes(!0)):(this.value=[],this.selectedNodes.forEach(d=>{this.removeSelected(d,!1)}),this.selectedNodes=[]),this.cdr.markForCheck()}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}onKeydown(r){if(!this.nzDisabled)switch(r.keyCode){case $e._f:break;case $e.wn:this.closeDropDown();break;default:this.nzOpen||this.openDropdown()}}trigger(){this.nzDisabled||!this.nzDisabled&&this.nzOpen?this.closeDropDown():this.openDropdown()}openDropdown(){this.nzDisabled||(this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen),this.updateCdkConnectedOverlayStatus(),(this.nzShowSearch||this.isMultiple)&&this.focusOnInput())}closeDropDown(){this.onTouched(),this.nzOpen=!1,this.inputValue="",this.isNotFound=!1,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck()}onKeyDownInput(r){if(this.isMultiple&&!r.target.value&&r.keyCode===$e.G_&&(r.preventDefault(),this.selectedNodes.length)){const S=this.selectedNodes[this.selectedNodes.length-1];S&&!S.isDisabled&&this.removeSelected(S)}}onExpandedKeysChange(r){this.nzExpandChange.emit(r),this.expandedKeys=[...r.keys]}setInputValue(r){this.searchValueChange$.next(r)}removeSelected(r,d=!0){r.isSelected=!1,r.isChecked=!1,this.nzCheckable?this.nzTreeService.conduct(r,this.nzCheckStrictly):this.nzTreeService.setSelectedNodeList(r,this.nzMultiple),d&&this.nzRemoved.emit(r)}focusOnInput(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}subscribeSelectionChange(){(0,de.h)(this.nzTreeClick.pipe((0,el.M)(r=>{const d=r.node;this.nzCheckable&&!d.isDisabled&&!d.isDisableCheckbox&&(d.isChecked=!d.isChecked,d.isHalfChecked=!1,this.nzCheckStrictly||this.nzTreeService.conduct(d)),this.nzCheckable&&(d.isSelected=!1)}),(0,le.p)(r=>{const d=r.node;return this.nzCheckable?!d.isDisabled&&!d.isDisableCheckbox:!d.isDisabled&&d.isSelectable})),this.nzCheckable?this.nzTreeCheckBoxChange.asObservable():(0,ot.of)(),this.nzCleared,this.nzRemoved).pipe((0,K.Q)(this.destroy$)).subscribe(()=>{this.updateSelectedNodes();const r=this.selectedNodes.map(d=>d.key);this.value=[...r],(this.nzShowSearch||this.isMultiple)&&(this.inputValue="",this.isNotFound=!1),this.isMultiple?(this.onChange(r),this.focusOnInput(),this.updatePosition()):(this.closeDropDown(),this.onChange(r.length?r[0]:null))})}updateSelectedNodes(r=!1){if(r){const d=this.coerceTreeNodes(this.nzNodes);this.nzTreeService.isMultiple=this.isMultiple,this.nzTreeService.isCheckStrictly=this.nzCheckStrictly,this.nzTreeService.initTree(d),this.nzCheckable?this.nzTreeService.conductCheck(this.value,this.nzCheckStrictly):this.nzTreeService.conductSelectedKeys(this.value,this.isMultiple)}this.selectedNodes=[...this.nzCheckable?this.getCheckedNodeList():this.getSelectedNodeList()].sort((d,p)=>{const S=this.value.indexOf(d.key),se=this.value.indexOf(p.key);return-1!==S&&-1!==se?S-se:-1!==S?-1:-1!==se?1:0})}updatePosition(){(0,E.j)(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}onPositionChange(r){this.dropDownPosition=r.connectionPair.originY}onClearSelection(){this.selectedNodes.forEach(r=>{this.removeSelected(r,!1)}),this.nzCleared.emit()}onClickOutside(r){this.elementRef.nativeElement.contains(r.target)||this.closeDropDown()}setSearchValues(r){Promise.resolve().then(()=>{this.isNotFound=(this.nzShowSearch||this.isMultiple)&&!!this.inputValue&&0===r.matchedKeys.length})}updateCdkConnectedOverlayStatus(){(!this.nzPlacement||!dd.includes(he.pn[this.nzPlacement]))&&(this.triggerWidth=this.cdkOverlayOrigin.elementRef.nativeElement.getBoundingClientRect().width)}trackValue(r,d){return d.key}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(Zr),t.rXU(xe.yx),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(Z.dS,8),t.rXU(Qh.FN),t.rXU(Fe.z,9),t.rXU(k.is,8),t.rXU(k.n1,8))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-select"]],contentQueries:function(d,p,S){if(1&d&&t.wni(S,Zh,7),2&d){let se;t.mGM(se=t.lsd())&&(p.nzTreeTemplateChild=se.first)}},viewQuery:function(d,p){if(1&d&&(t.GBs(et.e6,5),t.GBs(Jh,5),t.GBs(fe.$Q,7),t.GBs(fe.WB,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.nzSelectSearchComponent=S.first),t.mGM(S=t.lsd())&&(p.treeRef=S.first),t.mGM(S=t.lsd())&&(p.cdkOverlayOrigin=S.first),t.mGM(S=t.lsd())&&(p.cdkConnectedOverlay=S.first)}},hostAttrs:[1,"ant-select"],hostVars:24,hostBindings:function(d,p){1&d&&t.bIt("click",function(){return p.trigger()})("keydown",function(se){return p.onKeydown(se)}),2&d&&t.AVh("ant-select-in-form-item",!!p.nzFormStatusService)("ant-select-lg","large"===p.nzSize)("ant-select-rtl","rtl"===p.dir)("ant-select-sm","small"===p.nzSize)("ant-select-disabled",p.nzDisabled)("ant-select-single",!p.isMultiple)("ant-select-show-arrow",!p.isMultiple)("ant-select-show-search",!p.isMultiple)("ant-select-multiple",p.isMultiple)("ant-select-allow-clear",p.nzAllowClear)("ant-select-open",p.nzOpen)("ant-select-focused",p.nzOpen||p.focused)},inputs:{nzId:"nzId",nzAllowClear:"nzAllowClear",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzCheckable:"nzCheckable",nzHideUnMatched:"nzHideUnMatched",nzShowIcon:"nzShowIcon",nzShowSearch:"nzShowSearch",nzDisabled:"nzDisabled",nzAsyncData:"nzAsyncData",nzMultiple:"nzMultiple",nzDefaultExpandAll:"nzDefaultExpandAll",nzCheckStrictly:"nzCheckStrictly",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzExpandedIcon:"nzExpandedIcon",nzNotFoundContent:"nzNotFoundContent",nzNodes:"nzNodes",nzOpen:"nzOpen",nzSize:"nzSize",nzPlaceHolder:"nzPlaceHolder",nzDropdownStyle:"nzDropdownStyle",nzDropdownClassName:"nzDropdownClassName",nzBackdrop:"nzBackdrop",nzStatus:"nzStatus",nzPlacement:"nzPlacement",nzExpandedKeys:"nzExpandedKeys",nzDisplayWith:"nzDisplayWith",nzMaxTagCount:"nzMaxTagCount",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzTreeTemplate:"nzTreeTemplate"},outputs:{nzOpenChange:"nzOpenChange",nzCleared:"nzCleared",nzRemoved:"nzRemoved",nzExpandChange:"nzExpandChange",nzTreeClick:"nzTreeClick",nzTreeCheckBoxChange:"nzTreeCheckBoxChange"},exportAs:["nzTreeSelect"],standalone:!0,features:[t.Jv_([Zr,{provide:rl,useExisting:Zr},{provide:m.kq,useExisting:(0,t.Rfq)(()=>h),multi:!0}]),t.Vt3,t.OA$,t.aNF],decls:9,vars:20,consts:[["treeRef",""],["feedbackIconTpl",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth"],["cdkOverlayOrigin","",1,"ant-select-selector"],[4,"ngIf"],[3,"keydown","isComposingChange","valueChange","nzId","showInput","value","mirrorSync","disabled","focusTrigger"],[3,"placeholder","display",4,"ngIf"],[3,"deletable","disabled","label",4,"ngIf"],[3,"showArrow","feedbackIcon",4,"ngIf"],[3,"clear",4,"ngIf"],[3,"ngClass","nzNoAnimation","dir","ngStyle"],["nzNoAnimation","","nzSelectMode","","nzBlockNode","",3,"nzExpandChange","nzClick","nzCheckedKeysChange","nzSelectedKeysChange","nzCheckBoxChange","nzSearchValueChange","hidden","nzData","nzMultiple","nzSearchValue","nzHideUnMatched","nzShowIcon","nzCheckable","nzAsyncData","nzShowExpand","nzShowLine","nzExpandedIcon","nzExpandAll","nzExpandedKeys","nzCheckedKeys","nzSelectedKeys","nzTreeTemplate","nzCheckStrictly","nzVirtualItemSize","nzVirtualMaxBufferPx","nzVirtualMinBufferPx","nzVirtualHeight"],["class","ant-select-not-found",4,"ngIf"],[1,"ant-select-not-found"],[3,"nzComponentName","specificContent"],[3,"deletable","disabled","label","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"contentTemplateOutlet","contentTemplateOutletContext","deletable","disabled","label",4,"ngIf"],[3,"delete","deletable","disabled","label"],[3,"contentTemplateOutlet","contentTemplateOutletContext","deletable","disabled","label"],[3,"placeholder"],[3,"deletable","disabled","label"],[3,"showArrow","feedbackIcon"],[3,"status",4,"ngIf"],[3,"status"],[3,"clear"]],template:function(d,p){1&d&&(t.DNE(0,ed,4,36,"ng-template",2),t.bIt("overlayOutsideClick",function(se){return p.onClickOutside(se)})("detach",function(){return p.closeDropDown()})("positionChange",function(se){return p.onPositionChange(se)}),t.j41(1,"div",3),t.DNE(2,id,4,7,"ng-container",4),t.j41(3,"nz-select-search",5),t.bIt("keydown",function(se){return p.onKeyDownInput(se)})("isComposingChange",function(se){return p.isComposingChange(se)})("valueChange",function(se){return p.setInputValue(se)}),t.k0s(),t.DNE(4,sd,1,3,"nz-select-placeholder",6)(5,od,1,3,"nz-select-item",7)(6,rd,1,0,"nz-select-arrow",4)(7,cd,3,2,"nz-select-arrow",8)(8,hd,1,0,"nz-select-clear",9),t.k0s()),2&d&&(t.Y8G("cdkConnectedOverlayHasBackdrop",p.nzBackdrop)("cdkConnectedOverlayOrigin",p.cdkOverlayOrigin)("cdkConnectedOverlayPositions",p.nzPlacement?p.positions:t.lJ4(19,Qr))("cdkConnectedOverlayOpen",p.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-select-tree-dropdown")("cdkConnectedOverlayMinWidth",p.nzDropdownMatchSelectWidth?null:p.triggerWidth)("cdkConnectedOverlayWidth",p.nzDropdownMatchSelectWidth?p.triggerWidth:null),t.R7$(2),t.Y8G("ngIf",p.isMultiple),t.R7$(),t.Y8G("nzId",p.nzId)("showInput",p.nzShowSearch)("value",p.inputValue)("mirrorSync",p.isMultiple)("disabled",p.nzDisabled)("focusTrigger",p.nzOpen),t.R7$(),t.Y8G("ngIf",p.nzPlaceHolder&&0===p.selectedNodes.length),t.R7$(),t.Y8G("ngIf",!p.isMultiple&&1===p.selectedNodes.length&&!p.isComposing&&""===p.inputValue),t.R7$(),t.Y8G("ngIf",!p.isMultiple),t.R7$(),t.Y8G("ngIf",!p.isMultiple||p.hasFeedback&&!!p.status),t.R7$(),t.Y8G("ngIf",p.nzAllowClear&&!p.nzDisabled&&p.selectedNodes.length))},dependencies:[he.$_,he.vT,fe.WB,f.YU,Fe.z,f.B3,Kh,Cl,f.bT,al._v,al.E8,fe.$Q,f.P9,et.DH,et.jF,et.vB,et.Tb,et.$$,et.e6,f.pM,k.J1,k.Xd],encapsulation:2,data:{animation:[ze.U1]}})}return(0,X.Cg)([(0,G.H3)()],h.prototype,"nzAllowClear",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowExpand",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowLine",void 0),(0,X.Cg)([(0,G.H3)(),(0,xe.H4)()],h.prototype,"nzDropdownMatchSelectWidth",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzCheckable",void 0),(0,X.Cg)([(0,G.H3)(),(0,xe.H4)()],h.prototype,"nzHideUnMatched",void 0),(0,X.Cg)([(0,G.H3)(),(0,xe.H4)()],h.prototype,"nzShowIcon",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzShowSearch",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzAsyncData",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzMultiple",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDefaultExpandAll",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzCheckStrictly",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzSize",void 0),(0,X.Cg)([(0,xe.H4)()],h.prototype,"nzBackdrop",void 0),h})();var Mo=C(7685),Vi=C(8359),yl=C(9030),qr=C(1986),zl=C(5558),ls=C(6939),bl=C(1985);const pd=new t.nKC("nz-after-next-render",{providedIn:"root",factory:()=>{const h=(0,t.WQX)(t.zZn);return new bl.c(M=>{const r=(0,t.mal)(()=>{M.next(),M.complete()},{injector:h});return()=>r.destroy()})}}),Eo=[[["nz-auto-option"]]],fd=["nz-auto-option"];function ea(h,M){if(1&h&&(t.qex(0),t.EFF(1),t.bVm()),2&h){const r=t.XpG();t.R7$(),t.JRh(r.nzLabel)}}const Sl=["*"],Bs=["panel"],gd=["content"];function md(h,M){}function _d(h,M){1&h&&t.DNE(0,md,0,0,"ng-template")}function vd(h,M){1&h&&t.SdG(0)}function Cd(h,M){if(1&h&&(t.j41(0,"nz-auto-option",8),t.EFF(1),t.k0s()),2&h){const r=M.$implicit;t.Y8G("nzValue",r.value)("nzLabel",r.label),t.R7$(),t.SpI(" ",r.label," ")}}function Tl(h,M){if(1&h&&t.DNE(0,Cd,2,3,"nz-auto-option",7),2&h){const r=t.XpG(2);t.Y8G("ngForOf",r.normalizedDataSource)}}function yd(h,M){if(1&h){const r=t.RV6();t.j41(0,"div",3,0),t.bIt("@slideMotion.done",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onAnimationEvent(p))}),t.j41(2,"div",4)(3,"div",5),t.DNE(4,_d,1,0,null,6),t.k0s()()(),t.DNE(5,vd,1,0,"ng-template",null,1,t.C5r)(7,Tl,1,1,"ng-template",null,2,t.C5r)}if(2&h){const r=t.sdS(6),d=t.sdS(8),p=t.XpG();t.AVh("ant-select-dropdown-hidden",!p.showPanel)("ant-select-dropdown-rtl","rtl"===p.dir),t.Y8G("ngClass",p.nzOverlayClassName)("ngStyle",p.nzOverlayStyle)("nzNoAnimation",null==p.noAnimation?null:p.noAnimation.nzNoAnimation)("@slideMotion",void 0)("@.disabled",!(null==p.noAnimation||!p.noAnimation.nzNoAnimation)),t.R7$(4),t.Y8G("ngTemplateOutlet",p.nzDataSource?d:r)}}let xl=(()=>{class h{constructor(){}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-auto-optgroup"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzAutoOptgroup"],standalone:!0,features:[t.aNF],ngContentSelectors:fd,decls:3,vars:1,consts:[[1,"ant-select-item","ant-select-item-group"],[4,"nzStringTemplateOutlet"]],template:function(d,p){1&d&&(t.NAR(Eo),t.j41(0,"div",0),t.DNE(1,ea,2,1,"ng-container",1),t.k0s(),t.SdG(2)),2&d&&(t.R7$(),t.Y8G("nzStringTemplateOutlet",p.nzLabel))},dependencies:[Ge.C,Ge.m],encapsulation:2,changeDetection:0})}return h})();class zd{constructor(M,r=!1){this.source=M,this.isUserInput=r}}let ta=(()=>{class h{constructor(r,d,p,S){this.ngZone=r,this.changeDetectorRef=d,this.element=p,this.nzAutocompleteOptgroupComponent=S,this.nzDisabled=!1,this.selectionChange=new t.bkB,this.mouseEntered=new t.bkB,this.active=!1,this.selected=!1,this.destroy$=new ee.B}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,De.R)(this.element.nativeElement,"mouseenter").pipe((0,le.p)(()=>this.mouseEntered.observers.length>0),(0,K.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>this.mouseEntered.emit(this))}),(0,De.R)(this.element.nativeElement,"mousedown").pipe((0,K.Q)(this.destroy$)).subscribe(r=>r.preventDefault())})}ngOnDestroy(){this.destroy$.next()}select(r=!0){this.selected=!0,this.changeDetectorRef.markForCheck(),r&&this.emitSelectionChangeEvent()}deselect(){this.selected=!1,this.changeDetectorRef.markForCheck(),this.emitSelectionChangeEvent()}getLabel(){return this.nzLabel||this.nzValue.toString()}setActiveStyles(){this.active||(this.active=!0,this.changeDetectorRef.markForCheck())}setInactiveStyles(){this.active&&(this.active=!1,this.changeDetectorRef.markForCheck())}scrollIntoViewIfNeeded(){(0,G.Rt)(this.element.nativeElement)}selectViaInteraction(){this.nzDisabled||(this.selected=!this.selected,this.selected?this.setActiveStyles():this.setInactiveStyles(),this.emitSelectionChangeEvent(!0),this.changeDetectorRef.markForCheck())}emitSelectionChangeEvent(r=!1){this.selectionChange.emit(new zd(this,r))}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(xl,8))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-auto-option"]],hostAttrs:["role","menuitem",1,"ant-select-item","ant-select-item-option"],hostVars:10,hostBindings:function(d,p){1&d&&t.bIt("click",function(){return p.selectViaInteraction()}),2&d&&(t.BMQ("aria-selected",p.selected.toString())("aria-disabled",p.nzDisabled.toString()),t.AVh("ant-select-item-option-grouped",p.nzAutocompleteOptgroupComponent)("ant-select-item-option-selected",p.selected)("ant-select-item-option-active",p.active)("ant-select-item-option-disabled",p.nzDisabled))},inputs:{nzValue:"nzValue",nzLabel:"nzLabel",nzDisabled:"nzDisabled"},outputs:{selectionChange:"selectionChange",mouseEntered:"mouseEntered"},exportAs:["nzAutoOption"],standalone:!0,features:[t.aNF],ngContentSelectors:Sl,decls:2,vars:0,consts:[[1,"ant-select-item-option-content"]],template:function(d,p){1&d&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.k0s())},encapsulation:2,changeDetection:0})}return(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),h})();const bd={provide:m.kq,useExisting:(0,t.Rfq)(()=>Ol),multi:!0};let Ol=(()=>{class h{get activeOption(){return this.nzAutocomplete&&this.nzAutocomplete.options.length?this.nzAutocomplete.activeItem:null}constructor(r,d,p,S,se,Ue){this.ngZone=r,this.elementRef=d,this.overlay=p,this.viewContainerRef=S,this.nzInputGroupWhitSuffixOrPrefixDirective=se,this.document=Ue,this.onChange=()=>{},this.onTouched=()=>{},this.panelOpen=!1,this.destroy$=new ee.B,this.overlayRef=null,this.portal=null,this.previousValue=null}ngAfterViewInit(){this.nzAutocomplete&&this.nzAutocomplete.animationStateChange.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{"void"===r.toState&&this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroyPanel()}writeValue(r){this.ngZone.runOutsideAngular(()=>Promise.resolve(null).then(()=>this.setTriggerValue(r)))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r,this.closePanel()}openPanel(){this.previousValue=this.elementRef.nativeElement.value,this.attachOverlay(),this.updateStatus()}closePanel(){this.panelOpen&&(this.nzAutocomplete.isOpen=this.panelOpen=!1,this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.selectionChangeSubscription.unsubscribe(),this.overlayOutsideClickSubscription.unsubscribe(),this.optionsChangeSubscription.unsubscribe(),this.portal=null))}handleKeydown(r){const d=r.keyCode,p=d===$e.i7||d===$e.n6;d===$e._f&&r.preventDefault(),!this.panelOpen||d!==$e._f&&d!==$e.wn?this.panelOpen&&d===$e.Fm?this.nzAutocomplete.showPanel&&(r.preventDefault(),this.activeOption?this.activeOption.selectViaInteraction():this.closePanel()):this.panelOpen&&p&&this.nzAutocomplete.showPanel&&(r.stopPropagation(),r.preventDefault(),d===$e.i7?this.nzAutocomplete.setPreviousItemActive():this.nzAutocomplete.setNextItemActive(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded(),this.doBackfill()):(this.activeOption&&this.activeOption.getLabel()!==this.previousValue&&this.setTriggerValue(this.previousValue),this.closePanel())}handleInput(r){const d=r.target,p=this.document;let S=d.value;"number"===d.type&&(S=""===S?null:parseFloat(S)),this.previousValue!==S&&(this.previousValue=S,this.onChange(S),this.canOpen()&&p.activeElement===r.target&&this.openPanel())}handleFocus(){this.canOpen()&&this.openPanel()}handleBlur(){this.onTouched()}subscribeOptionsChange(){return this.nzAutocomplete.options.changes.pipe((0,el.M)(()=>this.positionStrategy.reapplyLastPosition()),(0,qr.c)(0)).subscribe(()=>{this.resetActiveItem(),this.panelOpen&&this.overlayRef.updatePosition()})}subscribeSelectionChange(){return this.nzAutocomplete.selectionChange.subscribe(r=>{this.setValueAndClose(r)})}subscribeOverlayOutsideClick(){return this.overlayRef.outsidePointerEvents().pipe((0,le.p)(r=>!this.elementRef.nativeElement.contains(r.target))).subscribe(()=>{this.closePanel()})}attachOverlay(){if(!this.nzAutocomplete)throw function Sd(){return Error("Attempting to open an undefined instance of `nz-autocomplete`. Make sure that the id passed to the `nzAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.")}();!this.portal&&this.nzAutocomplete.template&&(this.portal=new ls.VA(this.nzAutocomplete.template,this.viewContainerRef)),this.overlayRef||(this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.selectionChangeSubscription=this.subscribeSelectionChange(),this.optionsChangeSubscription=this.subscribeOptionsChange(),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick(),this.overlayRef.detachments().pipe((0,K.Q)(this.destroy$)).subscribe(()=>{this.closePanel()})),this.nzAutocomplete.isOpen=this.panelOpen=!0}updateStatus(){this.overlayRef&&this.overlayRef.updateSize({width:this.nzAutocomplete.nzWidth||this.getHostWidth()}),this.nzAutocomplete.setVisibility(),this.resetActiveItem(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded()}destroyPanel(){this.overlayRef&&this.closePanel()}getOverlayConfig(){return new fe.rR({positionStrategy:this.getOverlayPosition(),disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.reposition(),width:this.nzAutocomplete.nzWidth||this.getHostWidth()})}getConnectedElement(){return this.nzInputGroupWhitSuffixOrPrefixDirective?this.nzInputGroupWhitSuffixOrPrefixDirective.elementRef:this.elementRef}getHostWidth(){return this.getConnectedElement().nativeElement.getBoundingClientRect().width}getOverlayPosition(){const r=[new fe.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new fe.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPositions(r).withTransformOriginOn(".ant-select-dropdown"),this.positionStrategy}resetActiveItem(){const r=this.nzAutocomplete.getOptionIndex(this.previousValue);this.nzAutocomplete.clearSelectedOptions(null,!0),-1!==r?(this.nzAutocomplete.setActiveItem(r),this.nzAutocomplete.activeItem.select(!1)):this.nzAutocomplete.setActiveItem(this.nzAutocomplete.nzDefaultActiveFirstOption?0:-1)}setValueAndClose(r){const d=r.nzValue;this.setTriggerValue(r.getLabel()),this.onChange(d),this.elementRef.nativeElement.focus(),this.closePanel()}setTriggerValue(r){const d=this.nzAutocomplete.getOption(r),p=d?d.getLabel():r;this.elementRef.nativeElement.value=p??"",this.nzAutocomplete.nzBackfill||(this.previousValue=p)}doBackfill(){this.nzAutocomplete.nzBackfill&&this.nzAutocomplete.activeItem&&this.setTriggerValue(this.nzAutocomplete.activeItem.getLabel())}canOpen(){const r=this.elementRef.nativeElement;return!r.readOnly&&!r.disabled}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(fe.hJ),t.rXU(t.c1b),t.rXU(re.vN,8),t.rXU(f.qQ,8))};static#t=this.\u0275dir=t.FsC({type:h,selectors:[["input","nzAutocomplete",""],["textarea","nzAutocomplete",""]],hostAttrs:["autocomplete","off","aria-autocomplete","list"],hostBindings:function(d,p){1&d&&t.bIt("focusin",function(){return p.handleFocus()})("blur",function(){return p.handleBlur()})("input",function(se){return p.handleInput(se)})("keydown",function(se){return p.handleKeydown(se)})},inputs:{nzAutocomplete:"nzAutocomplete"},exportAs:["nzAutocompleteTrigger"],standalone:!0,features:[t.Jv_([bd])]})}return h})(),Td=(()=>{class h{get options(){return this.nzDataSource?this.fromDataSourceOptions:this.fromContentOptions}constructor(r,d,p){this.changeDetectorRef=r,this.directionality=d,this.noAnimation=p,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzDefaultActiveFirstOption=!0,this.nzBackfill=!1,this.compareWith=(S,se)=>S===se,this.selectionChange=new t.bkB,this.showPanel=!0,this.isOpen=!1,this.activeItem=null,this.dir="ltr",this.normalizedDataSource=[],this.destroy$=new ee.B,this.animationStateChange=new t.bkB,this.activeItemIndex=-1,this.selectionChangeSubscription=Vi.yU.EMPTY,this.optionMouseEnterSubscription=Vi.yU.EMPTY,this.dataSourceChangeSubscription=Vi.yU.EMPTY,this.optionSelectionChanges=(0,yl.v)(()=>this.options?(0,de.h)(...this.options.map(S=>S.selectionChange)):this.afterNextRender$.pipe((0,zl.n)(()=>this.optionSelectionChanges))),this.optionMouseEnter=(0,yl.v)(()=>this.options?(0,de.h)(...this.options.map(S=>S.mouseEntered)):this.afterNextRender$.pipe((0,zl.n)(()=>this.optionMouseEnter))),this.afterNextRender$=(0,t.WQX)(pd)}ngOnInit(){this.directionality.change?.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.dir=r,this.changeDetectorRef.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(r){const{nzDataSource:d}=r;d&&(this.normalizedDataSource=function cs(h){return h?.map(M=>"number"==typeof M||"string"==typeof M?{label:M.toString(),value:M.toString()}:M)}(d.currentValue))}onAnimationEvent(r){this.animationStateChange.emit(r)}ngAfterContentInit(){this.nzDataSource||this.optionsInit()}ngAfterViewInit(){this.nzDataSource&&this.optionsInit()}ngOnDestroy(){this.dataSourceChangeSubscription.unsubscribe(),this.selectionChangeSubscription.unsubscribe(),this.optionMouseEnterSubscription.unsubscribe(),this.dataSourceChangeSubscription=this.selectionChangeSubscription=this.optionMouseEnterSubscription=null,this.destroy$.next(),this.destroy$.complete()}setVisibility(){this.showPanel=!!this.options.length,this.changeDetectorRef.markForCheck()}setActiveItem(r){const d=this.options.get(r);d&&!d.active?(this.activeItem=d,this.activeItemIndex=r,this.clearSelectedOptions(this.activeItem),this.activeItem.setActiveStyles()):(this.activeItem=null,this.activeItemIndex=-1,this.clearSelectedOptions()),this.changeDetectorRef.markForCheck()}setNextItemActive(){this.setActiveItem(this.activeItemIndex+1<=this.options.length-1?this.activeItemIndex+1:0)}setPreviousItemActive(){this.setActiveItem(this.activeItemIndex-1<0?this.options.length-1:this.activeItemIndex-1)}getOptionIndex(r){return this.options.reduce((d,p,S)=>-1===d?this.compareWith(r,p.nzValue)?S:-1:d,-1)}getOption(r){return this.options.find(d=>this.compareWith(r,d.nzValue))||null}optionsInit(){this.setVisibility(),this.subscribeOptionChanges(),this.dataSourceChangeSubscription=(this.nzDataSource?this.fromDataSourceOptions.changes:this.fromContentOptions.changes).subscribe(d=>{!d.dirty&&this.isOpen&&setTimeout(()=>this.setVisibility()),this.subscribeOptionChanges()})}clearSelectedOptions(r,d=!1){this.options.forEach(p=>{p!==r&&(d&&p.deselect(),p.setInactiveStyles())})}subscribeOptionChanges(){this.selectionChangeSubscription.unsubscribe(),this.selectionChangeSubscription=this.optionSelectionChanges.pipe((0,le.p)(r=>r.isUserInput)).subscribe(r=>{r.source.select(),r.source.setActiveStyles(),this.activeItem=r.source,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(r.source,!0),this.selectionChange.emit(r.source)}),this.optionMouseEnterSubscription.unsubscribe(),this.optionMouseEnterSubscription=this.optionMouseEnter.subscribe(r=>{r.setActiveStyles(),this.activeItem=r,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(r)})}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc),t.rXU(Z.dS,8),t.rXU(Fe.z,9))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-autocomplete"]],contentQueries:function(d,p,S){if(1&d&&t.wni(S,ta,5),2&d){let se;t.mGM(se=t.lsd())&&(p.fromContentOptions=se)}},viewQuery:function(d,p){if(1&d&&(t.GBs(t.C4Q,5),t.GBs(Bs,5),t.GBs(gd,5),t.GBs(ta,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.template=S.first),t.mGM(S=t.lsd())&&(p.panel=S.first),t.mGM(S=t.lsd())&&(p.content=S.first),t.mGM(S=t.lsd())&&(p.fromDataSourceOptions=S)}},inputs:{nzWidth:"nzWidth",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzDefaultActiveFirstOption:"nzDefaultActiveFirstOption",nzBackfill:"nzBackfill",compareWith:"compareWith",nzDataSource:"nzDataSource"},outputs:{selectionChange:"selectionChange"},exportAs:["nzAutocomplete"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:Sl,decls:1,vars:0,consts:[["panel",""],["contentTemplate",""],["optionsTemplate",""],[1,"ant-select-dropdown","ant-select-dropdown-placement-bottomLeft",3,"ngClass","ngStyle","nzNoAnimation"],[2,"max-height","256px","overflow-y","auto","overflow-anchor","none"],[2,"display","flex","flex-direction","column"],[4,"ngTemplateOutlet"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(d,p){1&d&&(t.NAR(),t.DNE(0,yd,9,10,"ng-template"))},dependencies:[f.YU,f.pM,f.B3,f.T3,ta,Fe.z],encapsulation:2,data:{animation:[ze.U1]},changeDetection:0})}return(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDefaultActiveFirstOption",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzBackfill",void 0),h})(),xd=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({imports:[xl]})}return h})();var Od=C(2986),na=C(3190);const Dl=["nz-rate-item",""],Po=h=>({$implicit:h});function Dd(h,M){}function hs(h,M){}function wd(h,M){1&h&&t.nrm(0,"span",4)}const ko=["ulElement"];function Md(h,M){if(1&h){const r=t.RV6();t.j41(0,"li",2)(1,"div",3),t.bIt("itemHover",function(p){const S=t.eBV(r).$index,se=t.XpG();return t.Njj(se.onItemHover(S,p))})("itemClick",function(p){const S=t.eBV(r).$index,se=t.XpG();return t.Njj(se.onItemClick(S,p))}),t.k0s()()}if(2&h){const r=M.$index,d=t.XpG();t.Y8G("ngClass",d.starStyleArray[r]||"")("nzTooltipTitle",d.nzTooltips[r]),t.R7$(),t.Y8G("allowHalf",d.nzAllowHalf)("character",d.nzCharacter)("index",r)}}let wl=(()=>{class h{constructor(){this.index=0,this.allowHalf=!1,this.itemHover=new t.bkB,this.itemClick=new t.bkB}hoverRate(r){this.itemHover.next(r&&this.allowHalf)}clickRate(r){this.itemClick.next(r&&this.allowHalf)}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["","nz-rate-item",""]],inputs:{character:"character",index:"index",allowHalf:"allowHalf"},outputs:{itemHover:"itemHover",itemClick:"itemClick"},exportAs:["nzRateItem"],standalone:!0,features:[t.aNF],attrs:Dl,decls:6,vars:8,consts:[["defaultCharacter",""],[1,"ant-rate-star-second",3,"mouseover","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-rate-star-first",3,"mouseover","click"],["nz-icon","","nzType","star","nzTheme","fill"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"div",1),t.bIt("mouseover",function(Ue){return t.eBV(S),p.hoverRate(!1),t.Njj(Ue.stopPropagation())})("click",function(){return t.eBV(S),t.Njj(p.clickRate(!1))}),t.DNE(1,Dd,0,0,"ng-template",2),t.k0s(),t.j41(2,"div",3),t.bIt("mouseover",function(Ue){return t.eBV(S),p.hoverRate(!0),t.Njj(Ue.stopPropagation())})("click",function(){return t.eBV(S),t.Njj(p.clickRate(!0))}),t.DNE(3,hs,0,0,"ng-template",2),t.k0s(),t.DNE(4,wd,1,0,"ng-template",null,0,t.C5r)}if(2&d){const S=t.sdS(5);t.R7$(),t.Y8G("ngTemplateOutlet",p.character||S)("ngTemplateOutletContext",t.eq3(4,Po,p.index)),t.R7$(2),t.Y8G("ngTemplateOutlet",p.character||S)("ngTemplateOutletContext",t.eq3(6,Po,p.index))}},dependencies:[f.T3,w.Y3,w.Dn],encapsulation:2,changeDetection:0})}return(0,X.Cg)([(0,G.H3)()],h.prototype,"allowHalf",void 0),h})(),Mn=(()=>{class h{get nzValue(){return this._value}set nzValue(r){this._value!==r&&(this._value=r,this.hasHalf=!Number.isInteger(r),this.hoverValue=Math.ceil(r))}constructor(r,d,p,S,se,Ue){this.nzConfigService=r,this.ngZone=d,this.renderer=p,this.cdr=S,this.directionality=se,this.destroy$=Ue,this._nzModuleName="rate",this.nzAllowClear=!0,this.nzAllowHalf=!1,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzCount=5,this.nzTooltips=[],this.nzOnBlur=new t.bkB,this.nzOnFocus=new t.bkB,this.nzOnHoverChange=new t.bkB,this.nzOnKeyDown=new t.bkB,this.classMap={},this.starArray=[],this.starStyleArray=[],this.dir="ltr",this.hasHalf=!1,this.hoverValue=0,this.isFocused=!1,this._value=0,this.isNzDisableFirstChange=!0,this.onChange=()=>null,this.onTouched=()=>null}ngOnChanges(r){const{nzAutoFocus:d,nzCount:p,nzValue:S}=r;if(d&&!d.isFirstChange()){const se=this.ulElement.nativeElement;this.nzAutoFocus&&!this.nzDisabled?this.renderer.setAttribute(se,"autofocus","autofocus"):this.renderer.removeAttribute(se,"autofocus")}p&&this.updateStarArray(),S&&this.updateStarStyle()}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent("rate").pipe((0,K.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change.pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,De.R)(this.ulElement.nativeElement,"focus").pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.isFocused=!0,this.nzOnFocus.observers.length&&this.ngZone.run(()=>this.nzOnFocus.emit(r))}),(0,De.R)(this.ulElement.nativeElement,"blur").pipe((0,K.Q)(this.destroy$)).subscribe(r=>{this.isFocused=!1,this.nzOnBlur.observers.length&&this.ngZone.run(()=>this.nzOnBlur.emit(r))})})}onItemClick(r,d){if(this.nzDisabled)return;this.hoverValue=r+1;const p=d?r+.5:r+1;this.nzValue===p?this.nzAllowClear&&(this.nzValue=0,this.onChange(this.nzValue)):(this.nzValue=p,this.onChange(this.nzValue)),this.updateStarStyle()}onItemHover(r,d){this.nzDisabled||this.hoverValue===r+1&&d===this.hasHalf||(this.hoverValue=r+1,this.hasHalf=d,this.nzOnHoverChange.emit(this.hoverValue),this.updateStarStyle())}onRateLeave(){this.hasHalf=!Number.isInteger(this.nzValue),this.hoverValue=Math.ceil(this.nzValue),this.updateStarStyle()}focus(){this.ulElement.nativeElement.focus()}blur(){this.ulElement.nativeElement.blur()}onKeyDown(r){const d=this.nzValue;r.keyCode===$e.LE&&this.nzValue<this.nzCount?this.nzValue+=this.nzAllowHalf?.5:1:r.keyCode===$e.UQ&&this.nzValue>0&&(this.nzValue-=this.nzAllowHalf?.5:1),d!==this.nzValue&&(this.onChange(this.nzValue),this.nzOnKeyDown.emit(r),this.updateStarStyle(),this.cdr.markForCheck())}updateStarArray(){this.starArray=Array(this.nzCount).fill(0).map((r,d)=>d),this.updateStarStyle()}updateStarStyle(){this.starStyleArray=this.starArray.map(r=>{const d="ant-rate-star",p=r+1;return{[`${d}-full`]:p<this.hoverValue||!this.hasHalf&&p===this.hoverValue,[`${d}-half`]:this.hasHalf&&p===this.hoverValue,[`${d}-active`]:this.hasHalf&&p===this.hoverValue,[`${d}-zero`]:p>this.hoverValue,[`${d}-focused`]:this.hasHalf&&p===this.hoverValue&&this.isFocused}})}writeValue(r){this.nzValue=r||0,this.updateStarArray(),this.cdr.markForCheck()}setDisabledState(r){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||r,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(xe.yx),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(Z.dS,8),t.rXU(P.y4))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-rate"]],viewQuery:function(d,p){if(1&d&&t.GBs(ko,7),2&d){let S;t.mGM(S=t.lsd())&&(p.ulElement=S.first)}},inputs:{nzAllowClear:"nzAllowClear",nzAllowHalf:"nzAllowHalf",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzCharacter:"nzCharacter",nzCount:"nzCount",nzTooltips:"nzTooltips"},outputs:{nzOnBlur:"nzOnBlur",nzOnFocus:"nzOnFocus",nzOnHoverChange:"nzOnHoverChange",nzOnKeyDown:"nzOnKeyDown"},exportAs:["nzRate"],standalone:!0,features:[t.Jv_([P.y4,{provide:m.kq,useExisting:(0,t.Rfq)(()=>h),multi:!0}]),t.OA$,t.aNF],decls:4,vars:6,consts:[["ulElement",""],[1,"ant-rate",3,"keydown","mouseleave","ngClass","tabindex"],["nz-tooltip","",1,"ant-rate-star",3,"ngClass","nzTooltipTitle"],["nz-rate-item","",3,"itemHover","itemClick","allowHalf","character","index"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"ul",1,0),t.bIt("keydown",function(Ue){return t.eBV(S),p.onKeyDown(Ue),t.Njj(Ue.preventDefault())})("mouseleave",function(Ue){return t.eBV(S),p.onRateLeave(),t.Njj(Ue.stopPropagation())}),t.Z7z(2,Md,2,5,"li",2,t.fX1),t.k0s()}2&d&&(t.AVh("ant-rate-disabled",p.nzDisabled)("ant-rate-rtl","rtl"===p.dir),t.Y8G("ngClass",p.classMap)("tabindex",p.nzDisabled?-1:1),t.R7$(2),t.Dyx(p.starArray))},dependencies:[f.YU,Te.Qt,Te.LH,wl],encapsulation:2,changeDetection:0})}return(0,X.Cg)([(0,xe.H4)(),(0,G.H3)()],h.prototype,"nzAllowClear",void 0),(0,X.Cg)([(0,xe.H4)(),(0,G.H3)()],h.prototype,"nzAllowHalf",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),(0,X.Cg)([(0,G.H3)()],h.prototype,"nzAutoFocus",void 0),(0,X.Cg)([(0,G.YI)()],h.prototype,"nzCount",void 0),h})();var El=C(7529),Ed=C(6530),Pd=C(9437),kd=C(6504),No=C(1626);const Ls=(h,M)=>({fields:h,group:M}),Pl=()=>[",","\uff0c"," ",";"],ia=(h,M)=>({field:h,control:M});function Nd(h,M){1&h&&(t.qex(0),t.EFF(1,"\u5fc5\u586b\u9879"),t.bVm())}function sa(h,M){1&h&&(t.qex(0),t.EFF(1,"\u683c\u5f0f\u4e0d\u5bf9"),t.bVm())}function Id(h,M){1&h&&(t.qex(0),t.EFF(1,"\u592a\u5c0f\u4e86"),t.bVm())}function Ad(h,M){1&h&&(t.qex(0),t.EFF(1,"\u592a\u5927\u4e86"),t.bVm())}function Rd(h,M){1&h&&(t.qex(0),t.EFF(1,"\u592a\u77ed\u4e86"),t.bVm())}function kl(h,M){1&h&&(t.qex(0),t.EFF(1,"\u592a\u957f\u4e86"),t.bVm())}function Fd(h,M){if(1&h&&t.DNE(0,Nd,2,0,"ng-container",6)(1,sa,2,0,"ng-container",6)(2,Id,2,0,"ng-container",6)(3,Ad,2,0,"ng-container",6)(4,Rd,2,0,"ng-container",6)(5,kl,2,0,"ng-container",6),2&h){const r=M.$implicit;t.Y8G("ngIf",r.hasError("required")),t.R7$(),t.Y8G("ngIf",r.hasError("pattern")),t.R7$(),t.Y8G("ngIf",r.hasError("min")),t.R7$(),t.Y8G("ngIf",r.hasError("max")),t.R7$(),t.Y8G("ngIf",r.hasError("minlength")),t.R7$(),t.Y8G("ngIf",r.hasError("maxlength"))}}function Bd(h,M){if(1&h&&t.nrm(0,"input",7)(1,"nz-autocomplete",8,3),2&h){const r=t.sdS(2),d=t.XpG(),p=d.field;t.Y8G("formControl",d.control)("minlength",p.min||0)("maxlength",p.max||255)("placeholder",p.placeholder||"")("nzAutocomplete",r),t.R7$(),t.Y8G("nzDataSource",p.auth)}}function Ld(h,M){if(1&h&&t.nrm(0,"input",9),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("minlength",d.min||0)("maxlength",d.max||255)("placeholder",d.placeholder||"")}}function oa(h,M){if(1&h&&t.nrm(0,"nz-input-number",10),2&h){const r=t.XpG(),d=r.field,p=r.control,S=t.XpG();t.Y8G("formControl",p)("nzMin",void 0===d.min?-S.Infinity:d.min)("nzMax",void 0===d.max?S.Infinity:d.max)("nzStep",d.step||1)("nzPlaceHolder",d.placeholder||"")}}function Vd(h,M){if(1&h&&t.nrm(0,"nz-slider",11),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzMin",d.min||0)("nzMax",d.max||100)("nzStep",d.step)}}function $d(h,M){if(1&h&&(t.j41(0,"label",14),t.EFF(1),t.k0s()),2&h){const r=M.$implicit;t.Y8G("nzValue",r.value)("nzDisabled",r.disabled),t.R7$(),t.JRh(r.label)}}function jd(h,M){if(1&h&&(t.j41(0,"nz-radio-group",12),t.DNE(1,$d,2,3,"label",13),t.k0s()),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control),t.R7$(),t.Y8G("ngForOf",d.options)}}function Gd(h,M){if(1&h&&t.nrm(0,"nz-select",15),2&h){const r=t.XpG(),d=r.field,p=r.control,S=t.XpG();t.Y8G("formControl",p)("nzOptions",d.options||S.empty)("nzPlaceHolder",d.placeholder||"")}}function Hd(h,M){if(1&h&&t.nrm(0,"nz-select",16),2&h){const r=t.XpG(),d=r.field,p=r.control,S=t.XpG();t.Y8G("formControl",p)("nzTokenSeparators",t.lJ4(4,Pl))("nzOptions",d.options||S.empty)("nzPlaceHolder",d.placeholder||"\u8f93\u5165 \u9017\u53f7\uff0c\u5206\u53f7\uff0c\u7a7a\u683c \u5206\u9694")}}function Ud(h,M){if(1&h){const r=t.RV6();t.j41(0,"nz-tree-select",17),t.bIt("nzTreeCheckBoxChange",function(p){t.eBV(r);const S=t.XpG().field;return t.Njj(null==S.change?null:S.change(p))}),t.k0s()}if(2&h){const r=t.XpG(),d=r.field,p=r.control,S=t.XpG();t.Y8G("formControl",p)("nzNodes",d.tree||S.empty)("nzMultiple",d.multiple)("nzPlaceHolder",d.placeholder||"")}}function Xd(h,M){if(1&h&&t.nrm(0,"nz-color-picker",18),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzAllowClear",d.clear)}}function Wd(h,M){if(1&h&&t.nrm(0,"nz-switch",19),2&h){const r=t.XpG().control;t.Y8G("formControl",r)}}function Yd(h,M){if(1&h&&t.nrm(0,"label",20),2&h){const r=t.XpG().control;t.Y8G("formControl",r)}}function Kd(h,M){if(1&h&&(t.j41(0,"nz-textarea-count",21),t.nrm(1,"textarea",22),t.k0s()),2&h){const r=t.XpG(),p=r.control;t.Y8G("nzMaxCharacterCount",r.field.max||255),t.R7$(),t.Y8G("formControl",p)}}function Qd(h,M){if(1&h&&t.nrm(0,"nz-slider",23),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzMax",d.max)("nzMin",d.min)("nzStep",d.step)}}function Zd(h,M){if(1&h&&t.nrm(0,"nz-rate",19),2&h){const r=t.XpG().control;t.Y8G("formControl",r)}}function Jd(h,M){if(1&h&&t.nrm(0,"nz-date-picker",24),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzPlaceHolder",d.placeholder||"")}}function Nl(h,M){if(1&h&&t.nrm(0,"nz-date-picker",25),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzPlaceHolder",d.placeholder||"")}}function ra(h,M){if(1&h&&t.nrm(0,"nz-time-picker",25),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzPlaceHolder",d.placeholder||"")}}function qd(h,M){if(1&h){const r=t.RV6();t.j41(0,"nz-upload",28),t.bIt("nzChange",function(p){t.eBV(r);const S=t.XpG(2).control,se=t.XpG();return t.Njj(se.handleUpload(S,p))}),t.j41(1,"button",29),t.EFF(2,"\u4e0a\u4f20"),t.k0s()()}if(2&h){const r=t.XpG(2).field;t.Y8G("nzAction",r.upload)("nzShowUploadList",!1)("nzDisabled",!!r.disabled),t.R7$(),t.Y8G("disabled",!!r.disabled)}}function eu(h,M){if(1&h&&(t.j41(0,"nz-input-group",26),t.nrm(1,"input",27),t.k0s(),t.DNE(2,qd,3,4,"ng-template",null,4,t.C5r)),2&h){const r=t.sdS(3),d=t.XpG(),p=d.field,S=d.control;t.Y8G("nzAddOnAfter",r),t.R7$(),t.Y8G("formControl",S)("placeholder",p.placeholder||"")}}function tu(h,M){if(1&h){const r=t.RV6();t.nrm(0,"nz-select",16),t.j41(1,"nz-upload",30),t.bIt("nzChange",function(p){t.eBV(r);const S=t.XpG().control,se=t.XpG();return t.Njj(se.handleUploadImages(S,p))}),t.j41(2,"button",29),t.EFF(3,"\u4e0a\u4f20"),t.k0s()()}if(2&h){const r=t.XpG(),d=r.field,p=r.control,S=t.XpG();t.Y8G("formControl",p)("nzTokenSeparators",t.lJ4(7,Pl))("nzOptions",d.options||S.empty)("nzPlaceHolder",d.placeholder||"\u8f93\u5165 \u9017\u53f7\uff0c\u5206\u53f7\uff0c\u7a7a\u683c \u5206\u9694"),t.R7$(),t.Y8G("nzAction",d.upload)("nzDisabled",!!d.disabled),t.R7$(),t.Y8G("disabled",!!d.disabled)}}function Il(h,M){1&h&&t.eu8(0)}function nu(h,M){if(1&h&&t.DNE(0,Il,1,0,"ng-container",5),2&h){const r=t.XpG(),d=r.field,p=r.control;t.XpG();const S=t.sdS(5);t.Y8G("ngTemplateOutlet",S)("ngTemplateOutletContext",t.l_i(2,Ls,d.children,p))}}function iu(h,M){1&h&&(t.j41(0,"a",39),t.nrm(1,"i",40),t.EFF(2,"\u6392\u5e8f "),t.k0s())}function su(h,M){if(1&h){const r=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(r);const p=t.XpG().index,S=t.XpG(2),se=S.field,Ue=S.control,Dt=t.XpG();return t.Njj(Dt.copy(se.children,Ue,p))}),t.nrm(1,"i",42),t.EFF(2,"\u590d\u5236 "),t.k0s()}}function Al(h,M){if(1&h){const r=t.RV6();t.j41(0,"a",43),t.bIt("click",function(){t.eBV(r);const p=t.XpG().index,S=t.XpG(2).control,se=t.XpG();return t.Njj(se.remove(S,p))}),t.nrm(1,"i",44),t.EFF(2,"\u5220\u9664 "),t.k0s()}}function ou(h,M){1&h&&t.eu8(0)}function ru(h,M){if(1&h&&(t.j41(0,"div",35)(1,"nz-space"),t.DNE(2,iu,3,0,"a",36)(3,su,3,0,"a",37)(4,Al,3,0,"a",38),t.k0s(),t.DNE(5,ou,1,0,"ng-container",5),t.k0s()),2&h){const r=M.$implicit,d=t.XpG(2).field;t.XpG();const p=t.sdS(5);t.R7$(5),t.Y8G("ngTemplateOutlet",p)("ngTemplateOutletContext",t.l_i(2,Ls,d.children,r))}}function Rl(h,M){if(1&h){const r=t.RV6();t.j41(0,"a",31),t.bIt("click",function(){t.eBV(r);const p=t.XpG(),S=p.field,se=p.control,Ue=t.XpG();return t.Njj(Ue.add(se,S.children))}),t.nrm(1,"i",32),t.EFF(2,"\u6dfb\u52a0 "),t.k0s(),t.j41(3,"div",33),t.bIt("cdkDropListDropped",function(p){t.eBV(r);const S=t.XpG().control,se=t.XpG();return t.Njj(se.drop(S,p))}),t.DNE(4,ru,6,5,"div",34),t.k0s()}if(2&h){const r=t.XpG().control;t.R7$(4),t.Y8G("ngForOf",r.controls)}}function au(h,M){if(1&h&&(t.j41(0,"th"),t.EFF(1),t.k0s()),2&h){const r=M.$implicit;t.R7$(),t.JRh(r.label)}}function aa(h,M){1&h&&t.eu8(0)}function lu(h,M){if(1&h&&(t.j41(0,"td"),t.DNE(1,aa,1,0,"ng-container",5),t.k0s()),2&h){const r=M.$implicit,d=t.XpG().$implicit;t.XpG(3);const p=t.sdS(3);t.R7$(),t.Y8G("ngTemplateOutlet",p)("ngTemplateOutletContext",t.l_i(2,ia,r,d.get(r.key)))}}function cu(h,M){1&h&&(t.j41(0,"a",39),t.nrm(1,"i",40),t.k0s())}function hu(h,M){if(1&h){const r=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(r);const p=t.XpG().index,S=t.XpG(2),se=S.field,Ue=S.control,Dt=t.XpG();return t.Njj(Dt.copy(se.children,Ue,p))}),t.nrm(1,"i",42),t.k0s()}}function du(h,M){if(1&h){const r=t.RV6();t.j41(0,"a",43),t.bIt("click",function(){t.eBV(r);const p=t.XpG().index,S=t.XpG(2).control,se=t.XpG();return t.Njj(se.remove(S,p))}),t.nrm(1,"i",44),t.k0s()}}function uu(h,M){if(1&h&&(t.j41(0,"tr",35),t.DNE(1,lu,2,5,"td",46),t.j41(2,"td",47)(3,"nz-space"),t.DNE(4,cu,2,0,"a",36)(5,hu,2,0,"a",37)(6,du,2,0,"a",38),t.k0s()()()),2&h){const r=t.XpG(2).field;t.R7$(),t.Y8G("ngForOf",r.children)}}function Fl(h,M){if(1&h){const r=t.RV6();t.j41(0,"nz-table",45)(1,"thead")(2,"tr"),t.DNE(3,au,2,1,"th",46),t.j41(4,"th")(5,"a",31),t.bIt("click",function(){t.eBV(r);const p=t.XpG(),S=p.field,se=p.control,Ue=t.XpG();return t.Njj(Ue.add(se,S.children))}),t.nrm(6,"i",32),t.EFF(7,"\u6dfb\u52a0 "),t.k0s()()()(),t.j41(8,"tbody",33),t.bIt("cdkDropListDropped",function(p){t.eBV(r);const S=t.XpG().control,se=t.XpG();return t.Njj(se.drop(S,p))}),t.DNE(9,uu,7,1,"tr",34),t.k0s()()}if(2&h){const r=t.XpG(),d=r.field,p=r.control;t.R7$(3),t.Y8G("ngForOf",d.children),t.R7$(6),t.Y8G("ngForOf",p.controls)}}function pu(h,M){1&h&&t.eu8(0)}function Vs(h,M){if(1&h&&t.DNE(0,pu,1,0,"ng-container",5),2&h){const r=t.XpG(),d=r.field,p=r.control;t.Y8G("ngTemplateOutlet",d.template)("ngTemplateOutletContext",t.l_i(2,ia,d,p))}}function fu(h,M){if(1&h&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&h){const r=t.XpG().field;t.R7$(),t.SpI("\u4e0d\u652f\u6301\u7684\u63a7\u4ef6\u7c7b\u578b\uff1a",r.type,"")}}function la(h,M){if(1&h&&(t.DNE(0,Bd,3,6)(1,Ld,1,4)(2,oa,1,5)(3,Vd,1,4)(4,jd,2,2)(5,Gd,1,3)(6,Hd,1,5)(7,Ud,1,4)(8,Xd,1,2)(9,Wd,1,1)(10,Yd,1,1)(11,Kd,2,2)(12,Qd,1,4)(13,Zd,1,1)(14,Jd,1,2)(15,Nl,1,2)(16,ra,1,2)(17,eu,4,3)(18,tu,4,8)(19,nu,1,5)(20,Rl,5,1)(21,Fl,10,2)(22,Vs,1,5)(23,fu,2,1),t.EFF(24)),2&h){let r;const d=M.field;t.vxM(0,"text"===(r=d.type)?0:"password"===r?1:"number"===r?2:"slider"===r?3:"radio"===r?4:"select"===r?5:"tags"===r?6:"tree"===r?7:"color"===r?8:"switch"===r?9:"checkbox"===r?10:"textarea"===r?11:"slider"===r?12:"rate"===r?13:"datetime"===r?14:"date"===r?15:"time"===r?16:"file"===r?17:"images"===r?18:"object"===r?19:"list"===r?20:"table"===r?21:"template"===r?22:23),t.R7$(24),t.SpI(" ",d.tips,"\n")}}function gu(h,M){if(1&h&&(t.j41(0,"nz-form-label",50),t.EFF(1),t.k0s()),2&h){const r=t.XpG().$implicit;t.Y8G("nzSm",4)("nzXs",24)("nzRequired",r.required)("nzFor",r.key),t.R7$(),t.SpI(" ",r.label," ")}}function mu(h,M){1&h&&t.eu8(0)}function _u(h,M){if(1&h&&(t.j41(0,"nz-form-item"),t.DNE(1,gu,2,5,"nz-form-label",48),t.j41(2,"nz-form-control",49),t.DNE(3,mu,1,0,"ng-container",5),t.k0s()()),2&h){const r=M.$implicit,d=t.XpG().group;t.XpG();const p=t.sdS(1),S=t.sdS(3);t.R7$(),t.Y8G("ngIf",r.label),t.R7$(),t.Y8G("nzSm",20)("nzXs",24)("nzErrorTip",p),t.R7$(),t.Y8G("ngTemplateOutlet",S)("ngTemplateOutletContext",t.l_i(6,ia,r,d.get(r.key)))}}function vu(h,M){1&h&&t.Z7z(0,_u,4,9,"nz-form-item",null,t.fX1),2&h&&t.Dyx(M.fields)}function Cu(h,M){1&h&&t.eu8(0)}let Hl=(()=>{class h{set fields(r){console.log("[SmartEditor] set fields",r),r&&r.length&&setTimeout(()=>{this._fields=r,this.group=this.build(this._fields,this._values)},50)}get fields(){return this._fields}set values(r){console.log("[SmartEditor] set values",r),this._values=r,this._fields&&this._fields.length&&setTimeout(()=>{this.group=this.build(this._fields,this._values)},50)}get values(){return this._values}build(r,d){console.log("[SmartEditor] build",r,d),d=d||{};let p={};return r?.forEach(S=>{if("object"==S.type&&S.children)return p[S.key]=this.build(S.children,d[S.key]),void(S.change&&p[S.key].valueChanges.subscribe(Dt=>S.change?.(Dt)));if("list"==S.type&&S.children)return p[S.key]=this.fb.array(d[S.key]?.map(Dt=>this.build(S.children||[],Dt))||[]),void(S.change&&p[S.key].valueChanges.subscribe(Dt=>S.change?.(Dt)));if("table"==S.type&&S.children)return p[S.key]=this.fb.array(d[S.key]?.map(Dt=>this.build(S.children||[],Dt))||[]),void(S.change&&p[S.key].valueChanges.subscribe(Dt=>S.change?.(Dt)));let Ue,se=[];S.required&&se.push(m.k0.required),void 0!==S.min&&("number"===S.type?se.push(m.k0.min(S.min)):("text"===S.type||"password"===S.type)&&se.push(m.k0.minLength(S.min))),void 0!==S.max&&("number"===S.type?se.push(m.k0.max(S.max)):("text"===S.type||"password"===S.type)&&se.push(m.k0.maxLength(S.max))),S.pattern&&"text"===S.type&&se.push(m.k0.pattern(S.pattern)),S.validators&&(se=se.concat(S.validators)),Ue=d.hasOwnProperty(S.key)?d[S.key]:S.hasOwnProperty("default")?S.default:function Hu(h){if(h.array)return[];switch(h.type){case"text":case"password":case"color":case"textarea":case"file":case"image":return"";case"number":case"slider":return 0;case"radio":case"select":return h.options?.[0]?.value;case"tags":case"images":case"list":case"table":return[];case"checkbox":case"switch":return!1;case"date":case"time":case"datetime":return new Date;case"object":return{}}return""}(S),p[S.key]=new m.MJ(Ue,se),S.change&&p[S.key].valueChanges.subscribe(Dt=>S.change?.(Dt))}),this.fb.group(p)}setValue(r){console.log("[SmartEditor] setValue",r),this._values=r,this._fields&&this._fields.length&&(this.group=this.build(this._fields,r))}patchValue(r){console.log("[SmartEditor] patchValue",r),this.group.patchValue(r)}get valid(){return this.group.valid}get value(){return this.group.value}getRawValue(){return this.group.getRawValue()}constructor(r){this.fb=r,this.group=new m.gE({}),this._fields=[],this._values={},this.empty=[],this.Infinity=1/0}ngOnInit(){this._fields&&this._fields.length&&(this.group=this.build(this._fields,this._values))}handleUpload(r,d){"success"==d.type&&r.setValue(d.file.response.data[0])}handleUploadImages(r,d){let p=[];d.fileList.forEach(S=>{S.response?.data?.[0]&&p.push(S.response.data[0])}),r.setValue(p)}drop(r,d){(0,be.HD)(r.controls,d.previousIndex,d.currentIndex)}copy(r,d,p){let S=d.at(p),se=this.build(r,S.value);d.insert(p,se)}remove(r,d){r.removeAt(d)}add(r,d){r.push(this.build(d,{}))}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(m.ok))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["im-smart-editor"]],inputs:{fields:"fields",values:"values"},standalone:!0,features:[t.aNF],decls:7,vars:5,consts:[["errorTip",""],["controlTpl",""],["groupTpl",""],["auto",""],["suffixButton",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["nz-input","",3,"formControl","minlength","maxlength","placeholder","nzAutocomplete"],[3,"nzDataSource"],["nz-input","","type","password",3,"formControl","minlength","maxlength","placeholder"],[3,"formControl","nzMin","nzMax","nzStep","nzPlaceHolder"],[3,"formControl","nzMin","nzMax","nzStep"],["nzButtonStyle","solid",3,"formControl"],["nz-radio-button","",3,"nzValue","nzDisabled",4,"ngFor","ngForOf"],["nz-radio-button","",3,"nzValue","nzDisabled"],[3,"formControl","nzOptions","nzPlaceHolder"],["nzMode","tags",3,"formControl","nzTokenSeparators","nzOptions","nzPlaceHolder"],["nzShowSearch","","nzCheckable","",3,"nzTreeCheckBoxChange","formControl","nzNodes","nzMultiple","nzPlaceHolder"],["nzShowText","",3,"formControl","nzAllowClear"],[3,"formControl"],["nz-checkbox","",3,"formControl"],[3,"nzMaxCharacterCount"],["rows","4","nz-input","",3,"formControl"],[3,"formControl","nzMax","nzMin","nzStep"],["nzShowTime","",3,"formControl","nzPlaceHolder"],[3,"formControl","nzPlaceHolder"],["nzSearch","",3,"nzAddOnAfter"],["nz-input","",3,"formControl","placeholder"],[3,"nzChange","nzAction","nzShowUploadList","nzDisabled"],["nz-button","","nzType","primary",3,"disabled"],["nzMultiple","",3,"nzChange","nzAction","nzDisabled"],["title","\u6dfb\u52a0",3,"click"],["nz-icon","","nzType","plus"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],["title","\u6392\u5e8f","style","cursor:move;","cdkDragHandle","",4,"nzSpaceItem"],["title","\u590d\u5236",3,"click",4,"nzSpaceItem"],["title","\u5220\u9664",3,"click",4,"nzSpaceItem"],["title","\u6392\u5e8f","cdkDragHandle","",2,"cursor","move"],["nz-icon","","nzType","drag"],["title","\u590d\u5236",3,"click"],["nz-icon","","nzType","copy"],["title","\u5220\u9664",3,"click"],["nz-icon","","nzType","delete"],["nzSize","small","nzTemplateMode","","nzBordered",""],[4,"ngFor","ngForOf"],[1,"operators"],[3,"nzSm","nzXs","nzRequired","nzFor",4,"ngIf"],[3,"nzSm","nzXs","nzErrorTip"],[3,"nzSm","nzXs","nzRequired","nzFor"]],template:function(d,p){if(1&d&&t.DNE(0,Fd,6,6,"ng-template",null,0,t.C5r)(2,la,25,2,"ng-template",null,1,t.C5r)(4,vu,2,0,"ng-template",null,2,t.C5r)(6,Cu,1,0,"ng-container",5),2&d){const S=t.sdS(5);t.R7$(6),t.Y8G("ngTemplateOutlet",S)("ngTemplateOutletContext",t.l_i(2,Ls,p._fields,p.group))}},dependencies:[f.MD,f.Sq,f.bT,f.T3,m.YN,m.me,m.BC,m.xh,m.tU,m.X1,m.l_,v.PQ,El.Uq,El.e,v.Ls,v.Mo,v.zS,Ve.$G,Ve.CP,Ve.SO,Ve._4,Ve.IL,Ve.aj,Ve.kt,be.T1,be.O7,re.Sy,ue.aO,Ot,Rt,Th,re.tg,pt.FG,et.WI,xh.pT,Ur.u,re.F8,io,ud,Y.$W,be.Fb,w.Dn,Mo.pc,Mo.U5,Mo.Dq,xd,Td,Ol,Od.$g,na.Sw,na.lx,na.i3,Mn],styles:["nz-select[_ngcontent-%COMP%]{width:100%}nz-input-number[_ngcontent-%COMP%]{width:100%}"]})}return h})();const Uu=new t.nKC("api_base");let Xu=(()=>{class h{constructor(r,d,p,S){this.ns=r,this.http=d,this.route=p,this.base="/api/",S&&(this.base=S)}request(r,d,p){return p.withCredentials=!0,"/"!=d.substring(0,1)&&(d=this.base+d),this.http.request(r,d,p).pipe((0,Pd.W)(S=>(0,ot.of)(404===S.status?{error:"\u65e0\u6548\u63a5\u53e3 "+r+" "+d}:401===S.status?{error:"\u672a\u767b\u5f55"}:{error:S.message})),(0,R.T)(S=>{if(S&&S.error)throw("Token not found"===S.error||"jwt expired"===S.error)&&this.route.navigate(["/login"]),this.ns.error("\u9519\u8bef",S.error),S.error;return S}))}get(r,d){return this.request("GET",r,{params:d})}put(r,d,p){return this.request("PUT",r,{params:p,body:d})}post(r,d,p){return this.request("POST",r,{params:p,body:d})}patch(r,d,p){return this.request("PATCH",r,{params:p,body:d})}delete(r,d){return this.request("DELETE",r,{params:d})}static#e=this.\u0275fac=function(d){return new(d||h)(t.KVO(kd.xY),t.KVO(No.Qq),t.KVO(Ed.Ix),t.KVO(Uu,8))};static#t=this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},513:(Lt,ct,C)=>{"use strict";C.d(ct,{Zw:()=>Ge,aO:()=>xe,dn:()=>Fe});var t=C(1635),f=C(4438),m=C(1413),v=C(3726),Y=C(6977),Ve=C(9172),be=C(5964),re=C(6035),ue=C(317),X=C(5103),ee=C(8203),le=C(6389),pe=C(5930);const K=["nz-button",""],G=["*"];function fe(he,Te){1&he&&f.nrm(0,"span",0)}let xe=(()=>{class he{insertSpan(Z,Se){Z.forEach(ae=>{if("#text"===ae.nodeName){const Ze=Se.createElement("span"),Pe=Se.parentNode(ae);Se.insertBefore(Pe,Ze,ae),Se.appendChild(Ze,ae)}})}get iconOnly(){const Z=Array.from(this.elementRef?.nativeElement?.childNodes||[]),Se=Z.every(Ze=>"#text"!==Ze.nodeName),ae=0==Z.filter(Ze=>!("#comment"===Ze.nodeName||Ze?.attributes?.getNamedItem("nz-icon"))).length;return!!this.nzIconDirectiveElement&&ae&&Se}constructor(Z,Se,ae,Ze,Pe,We){this.ngZone=Z,this.elementRef=Se,this.cdr=ae,this.renderer=Ze,this.nzConfigService=Pe,this.directionality=We,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new m.B,this.loading$=new m.B,this.nzConfigService.getConfigChangeEventForComponent("button").pipe((0,Y.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,Y.Q)(this.destroy$)).subscribe(Z=>{this.dir=Z,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,v.R)(this.elementRef.nativeElement,"click",{capture:!0}).pipe((0,Y.Q)(this.destroy$)).subscribe(Z=>{(this.disabled&&"A"===Z.target?.tagName||this.nzLoading)&&(Z.preventDefault(),Z.stopImmediatePropagation())})})}ngOnChanges(Z){const{nzLoading:Se}=Z;Se&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,Ve.Z)(this.nzLoading),(0,be.p)(()=>!!this.nzIconDirectiveElement),(0,Y.Q)(this.destroy$)).subscribe(Z=>{const Se=this.nzIconDirectiveElement.nativeElement;Z?this.renderer.setStyle(Se,"display","none"):this.renderer.removeStyle(Se,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Se){return new(Se||he)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(f.sFG),f.rXU(re.yx),f.rXU(ee.dS,8))};static#t=this.\u0275cmp=f.VBU({type:he,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(Se,ae,Ze){if(1&Se&&f.wni(Ze,X.Dn,5,f.aKT),2&Se){let Pe;f.mGM(Pe=f.lsd())&&(ae.nzIconDirectiveElement=Pe.first)}},hostAttrs:[1,"ant-btn"],hostVars:34,hostBindings:function(Se,ae){2&Se&&(f.BMQ("tabindex",ae.disabled?-1:null===ae.tabIndex?null:ae.tabIndex)("disabled",ae.disabled||null),f.AVh("ant-btn-default","default"===ae.nzType)("ant-btn-primary","primary"===ae.nzType)("ant-btn-dashed","dashed"===ae.nzType)("ant-btn-link","link"===ae.nzType)("ant-btn-text","text"===ae.nzType)("ant-btn-circle","circle"===ae.nzShape)("ant-btn-round","round"===ae.nzShape)("ant-btn-lg","large"===ae.nzSize)("ant-btn-sm","small"===ae.nzSize)("ant-btn-dangerous",ae.nzDanger)("ant-btn-loading",ae.nzLoading)("ant-btn-background-ghost",ae.nzGhost)("ant-btn-block",ae.nzBlock)("ant-input-search-button",ae.nzSearch)("ant-btn-rtl","rtl"===ae.dir)("ant-btn-icon-only",ae.iconOnly))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],standalone:!0,features:[f.OA$,f.aNF],attrs:K,ngContentSelectors:G,decls:2,vars:1,consts:[["nz-icon","","nzType","loading"]],template:function(Se,ae){1&Se&&(f.NAR(),f.DNE(0,fe,1,0,"span",0),f.SdG(1)),2&Se&&f.vxM(0,ae.nzLoading?0:-1)},dependencies:[X.Y3,X.Dn],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,ue.H3)()],he.prototype,"nzBlock",void 0),(0,t.Cg)([(0,ue.H3)()],he.prototype,"nzGhost",void 0),(0,t.Cg)([(0,ue.H3)()],he.prototype,"nzSearch",void 0),(0,t.Cg)([(0,ue.H3)()],he.prototype,"nzLoading",void 0),(0,t.Cg)([(0,ue.H3)()],he.prototype,"nzDanger",void 0),(0,t.Cg)([(0,ue.H3)()],he.prototype,"disabled",void 0),(0,t.Cg)([(0,re.H4)()],he.prototype,"nzSize",void 0),he})(),Fe=(()=>{class he{constructor(Z){this.directionality=Z,this.nzSize="default",this.dir="ltr",this.destroy$=new m.B}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,Y.Q)(this.destroy$)).subscribe(Z=>{this.dir=Z})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Se){return new(Se||he)(f.rXU(ee.dS,8))};static#t=this.\u0275cmp=f.VBU({type:he,selectors:[["nz-button-group"]],hostAttrs:[1,"ant-btn-group"],hostVars:6,hostBindings:function(Se,ae){2&Se&&f.AVh("ant-btn-group-lg","large"===ae.nzSize)("ant-btn-group-sm","small"===ae.nzSize)("ant-btn-group-rtl","rtl"===ae.dir)},inputs:{nzSize:"nzSize"},exportAs:["nzButtonGroup"],standalone:!0,features:[f.aNF],ngContentSelectors:G,decls:1,vars:0,template:function(Se,ae){1&Se&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})}return he})(),Ge=(()=>{class he{static#e=this.\u0275fac=function(Se){return new(Se||he)};static#t=this.\u0275mod=f.$C({type:he});static#n=this.\u0275inj=f.G2t({imports:[xe,le.p,pe.o7]})}return he})()},5979:(Lt,ct,C)=>{"use strict";C.d(ct,{xH:()=>Ve});var t=C(4438),f=C(4085),m=C(1985),v=C(1413);let Y=(()=>{class ue{create(ee){return typeof ResizeObserver>"u"?null:new ResizeObserver(ee)}static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275prov=t.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})(),Ve=(()=>{class ue{constructor(ee){this.nzResizeObserverFactory=ee,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((ee,le)=>this.cleanupObserver(le))}observe(ee){const le=(0,f.i8)(ee);return new m.c(pe=>{const G=this.observeElement(le).subscribe(pe);return()=>{G.unsubscribe(),this.unobserveElement(le)}})}observeElement(ee){if(this.observedElements.has(ee))this.observedElements.get(ee).count++;else{const le=new v.B,pe=this.nzResizeObserverFactory.create(K=>le.next(K));pe&&pe.observe(ee),this.observedElements.set(ee,{observer:pe,stream:le,count:1})}return this.observedElements.get(ee).stream}unobserveElement(ee){this.observedElements.has(ee)&&(this.observedElements.get(ee).count--,this.observedElements.get(ee).count||this.cleanupObserver(ee))}cleanupObserver(ee){if(this.observedElements.has(ee)){const{observer:le,stream:pe}=this.observedElements.get(ee);le&&le.disconnect(),pe.complete(),this.observedElements.delete(ee)}}static#e=this.\u0275fac=function(le){return new(le||ue)(t.KVO(Y))};static#t=this.\u0275prov=t.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})()},2986:(Lt,ct,C)=>{"use strict";C.d(ct,{$g:()=>ze,IJ:()=>Fe});var t=C(1635),f=C(4438),m=C(4341),v=C(1413),Y=C(3726),Ve=C(6977),be=C(317),re=C(851),ue=C(8203),X=C(7891);const ee=["*"],le=["inputElement"],pe=["nz-checkbox",""],K=(Ge,he)=>he.value;function G(Ge,he){if(1&Ge){const Te=f.RV6();f.j41(0,"label",1),f.bIt("nzCheckedChange",function(Se){const ae=f.eBV(Te).$implicit,Ze=f.XpG();return f.Njj(Ze.onCheckedChange(ae,Se))}),f.j41(1,"span"),f.EFF(2),f.k0s()()}if(2&Ge){const Te=he.$implicit,Z=f.XpG();f.Y8G("nzDisabled",Te.disabled||Z.nzDisabled)("nzChecked",Te.checked),f.R7$(2),f.JRh(Te.label)}}let fe=(()=>{class Ge{constructor(){this.nzOnChange=new f.bkB,this.checkboxList=[]}addCheckbox(Te){this.checkboxList.push(Te)}removeCheckbox(Te){this.checkboxList.splice(this.checkboxList.indexOf(Te),1)}onChange(){const Te=this.checkboxList.filter(Z=>Z.nzChecked).map(Z=>Z.nzValue);this.nzOnChange.emit(Te)}static#e=this.\u0275fac=function(Z){return new(Z||Ge)};static#t=this.\u0275cmp=f.VBU({type:Ge,selectors:[["nz-checkbox-wrapper"]],hostAttrs:[1,"ant-checkbox-group"],outputs:{nzOnChange:"nzOnChange"},exportAs:["nzCheckboxWrapper"],standalone:!0,features:[f.aNF],ngContentSelectors:ee,decls:1,vars:0,template:function(Z,Se){1&Z&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})}return Ge})(),ze=(()=>{class Ge{innerCheckedChange(Te){this.nzDisabled||(this.nzChecked=Te,this.onChange(this.nzChecked),this.nzCheckedChange.emit(this.nzChecked),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.onChange())}writeValue(Te){this.nzChecked=Te,this.cdr.markForCheck()}registerOnChange(Te){this.onChange=Te}registerOnTouched(Te){this.onTouched=Te}setDisabledState(Te){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||Te,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(Te,Z,Se,ae,Ze,Pe,We){this.ngZone=Te,this.elementRef=Z,this.nzCheckboxWrapperComponent=Se,this.cdr=ae,this.focusMonitor=Ze,this.directionality=Pe,this.nzFormStatusService=We,this.dir="ltr",this.destroy$=new v.B,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzCheckedChange=new f.bkB,this.nzValue=null,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzChecked=!1,this.nzId=null}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe((0,Ve.Q)(this.destroy$)).subscribe(Te=>{Te||Promise.resolve().then(()=>this.onTouched())}),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.addCheckbox(this),this.directionality.change.pipe((0,Ve.Q)(this.destroy$)).subscribe(Te=>{this.dir=Te,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,Y.R)(this.elementRef.nativeElement,"click").pipe((0,Ve.Q)(this.destroy$)).subscribe(Te=>{Te.preventDefault(),this.focus(),!this.nzDisabled&&this.ngZone.run(()=>{this.innerCheckedChange(!this.nzChecked),this.cdr.markForCheck()})}),(0,Y.R)(this.inputElement.nativeElement,"click").pipe((0,Ve.Q)(this.destroy$)).subscribe(Te=>Te.stopPropagation())})}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.removeCheckbox(this),this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Z){return new(Z||Ge)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(fe,8),f.rXU(f.gRc),f.rXU(re.FN),f.rXU(ue.dS,8),f.rXU(X.is,8))};static#t=this.\u0275cmp=f.VBU({type:Ge,selectors:[["","nz-checkbox",""]],viewQuery:function(Z,Se){if(1&Z&&f.GBs(le,7),2&Z){let ae;f.mGM(ae=f.lsd())&&(Se.inputElement=ae.first)}},hostAttrs:[1,"ant-checkbox-wrapper"],hostVars:6,hostBindings:function(Z,Se){2&Z&&f.AVh("ant-checkbox-wrapper-in-form-item",!!Se.nzFormStatusService)("ant-checkbox-wrapper-checked",Se.nzChecked)("ant-checkbox-rtl","rtl"===Se.dir)},inputs:{nzValue:"nzValue",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzChecked:"nzChecked",nzId:"nzId"},outputs:{nzCheckedChange:"nzCheckedChange"},exportAs:["nzCheckbox"],standalone:!0,features:[f.Jv_([{provide:m.kq,useExisting:(0,f.Rfq)(()=>Ge),multi:!0}]),f.aNF],attrs:pe,ngContentSelectors:ee,decls:6,vars:11,consts:[["inputElement",""],[1,"ant-checkbox"],["type","checkbox",1,"ant-checkbox-input",3,"ngModelChange","checked","ngModel","disabled"],[1,"ant-checkbox-inner"]],template:function(Z,Se){if(1&Z){const ae=f.RV6();f.NAR(),f.j41(0,"span",1)(1,"input",2,0),f.bIt("ngModelChange",function(Pe){return f.eBV(ae),f.Njj(Se.innerCheckedChange(Pe))}),f.k0s(),f.nrm(3,"span",3),f.k0s(),f.j41(4,"span"),f.SdG(5),f.k0s()}2&Z&&(f.AVh("ant-checkbox-checked",Se.nzChecked&&!Se.nzIndeterminate)("ant-checkbox-disabled",Se.nzDisabled)("ant-checkbox-indeterminate",Se.nzIndeterminate),f.R7$(),f.Y8G("checked",Se.nzChecked)("ngModel",Se.nzChecked)("disabled",Se.nzDisabled),f.BMQ("autofocus",Se.nzAutoFocus?"autofocus":null)("id",Se.nzId))},dependencies:[m.YN,m.Zm,m.BC,m.vS],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,be.H3)()],Ge.prototype,"nzAutoFocus",void 0),(0,t.Cg)([(0,be.H3)()],Ge.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,be.H3)()],Ge.prototype,"nzIndeterminate",void 0),(0,t.Cg)([(0,be.H3)()],Ge.prototype,"nzChecked",void 0),Ge})(),xe=(()=>{class Ge{onCheckedChange(Te,Z){Te.checked=Z,this.onChange(this.options)}constructor(Te,Z,Se,ae){this.elementRef=Te,this.focusMonitor=Z,this.cdr=Se,this.directionality=ae,this.onChange=()=>{},this.onTouched=()=>{},this.options=[],this.nzDisabled=!1,this.dir="ltr",this.destroy$=new v.B,this.isNzDisableFirstChange=!0}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe((0,Ve.Q)(this.destroy$)).subscribe(Te=>{Te||Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe((0,Ve.Q)(this.destroy$)).subscribe(Te=>{this.dir=Te,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}writeValue(Te){this.options=Te,this.cdr.markForCheck()}registerOnChange(Te){this.onChange=Te}registerOnTouched(Te){this.onTouched=Te}setDisabledState(Te){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||Te,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static#e=this.\u0275fac=function(Z){return new(Z||Ge)(f.rXU(f.aKT),f.rXU(re.FN),f.rXU(f.gRc),f.rXU(ue.dS,8))};static#t=this.\u0275cmp=f.VBU({type:Ge,selectors:[["nz-checkbox-group"]],hostAttrs:[1,"ant-checkbox-group"],hostVars:2,hostBindings:function(Z,Se){2&Z&&f.AVh("ant-checkbox-group-rtl","rtl"===Se.dir)},inputs:{nzDisabled:"nzDisabled"},exportAs:["nzCheckboxGroup"],standalone:!0,features:[f.Jv_([{provide:m.kq,useExisting:(0,f.Rfq)(()=>Ge),multi:!0}]),f.aNF],decls:2,vars:0,consts:[["nz-checkbox","",1,"ant-checkbox-group-item",3,"nzDisabled","nzChecked"],["nz-checkbox","",1,"ant-checkbox-group-item",3,"nzCheckedChange","nzDisabled","nzChecked"]],template:function(Z,Se){1&Z&&f.Z7z(0,G,3,3,"label",0,K),2&Z&&f.Dyx(Se.options)},dependencies:[ze],encapsulation:2})}return(0,t.Cg)([(0,be.H3)()],Ge.prototype,"nzDisabled",void 0),Ge})(),Fe=(()=>{class Ge{static#e=this.\u0275fac=function(Z){return new(Z||Ge)};static#t=this.\u0275mod=f.$C({type:Ge});static#n=this.\u0275inj=f.G2t({imports:[ze,xe]})}return Ge})()},713:(Lt,ct,C)=>{"use strict";C.d(ct,{AJ:()=>X,GE:()=>v,U1:()=>pe,W4:()=>re,eF:()=>G,iA:()=>Y,j:()=>ue,uX:()=>ze});var t=C(9969);let f=(()=>{class Fe{static#e=this.SLOW="0.3s";static#t=this.BASE="0.2s";static#n=this.FAST="0.1s"}return Fe})(),m=(()=>{class Fe{static#e=this.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)";static#t=this.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)";static#n=this.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)";static#i=this.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)";static#s=this.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)";static#o=this.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)";static#r=this.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)";static#a=this.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)";static#l=this.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)";static#c=this.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)";static#h=this.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)";static#d=this.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)";static#u=this.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)";static#p=this.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}return Fe})();const v=(0,t.hZ)("collapseMotion",[(0,t.wk)("expanded",(0,t.iF)({height:"*"})),(0,t.wk)("collapsed",(0,t.iF)({height:0,overflow:"hidden"})),(0,t.wk)("hidden",(0,t.iF)({height:0,overflow:"hidden",borderTopWidth:"0"})),(0,t.kY)("expanded => collapsed",(0,t.i0)(`150ms ${m.EASE_IN_OUT}`)),(0,t.kY)("expanded => hidden",(0,t.i0)(`150ms ${m.EASE_IN_OUT}`)),(0,t.kY)("collapsed => expanded",(0,t.i0)(`150ms ${m.EASE_IN_OUT}`)),(0,t.kY)("hidden => expanded",(0,t.i0)(`150ms ${m.EASE_IN_OUT}`))]),Y=(0,t.hZ)("treeCollapseMotion",[(0,t.kY)("* => *",[(0,t.P)("nz-tree-node:leave,nz-tree-builtin-node:leave",[(0,t.iF)({overflow:"hidden"}),(0,t.yc)(0,[(0,t.i0)(`150ms ${m.EASE_IN_OUT}`,(0,t.iF)({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),(0,t.P)("nz-tree-node:enter,nz-tree-builtin-node:enter",[(0,t.iF)({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),(0,t.yc)(0,[(0,t.i0)(`150ms ${m.EASE_IN_OUT}`,(0,t.iF)({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),re=((0,t.hZ)("drawerMaskMotion",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0}),(0,t.i0)(`${f.SLOW}`,(0,t.iF)({opacity:1}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1}),(0,t.i0)(`${f.SLOW}`,(0,t.iF)({opacity:0}))])]),(0,t.hZ)("fadeMotion",[(0,t.kY)("* => enter",[(0,t.iF)({opacity:0}),(0,t.i0)(`${f.BASE}`,(0,t.iF)({opacity:1}))]),(0,t.kY)("* => leave, :leave",[(0,t.iF)({opacity:1}),(0,t.i0)(`${f.BASE}`,(0,t.iF)({opacity:0}))])]),(0,t.hZ)("helpMotion",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0,transform:"translateY(-5px)"}),(0,t.i0)(`${f.SLOW} ${m.EASE_IN_OUT}`,(0,t.iF)({opacity:1,transform:"translateY(0)"}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1,transform:"translateY(0)"}),(0,t.i0)(`${f.SLOW} ${m.EASE_IN_OUT}`,(0,t.iF)({opacity:0,transform:"translateY(-5px)"}))])])),ue=(0,t.hZ)("moveUpMotion",[(0,t.kY)("* => enter",[(0,t.iF)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),(0,t.i0)(`${f.BASE}`,(0,t.iF)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),(0,t.kY)("* => leave",[(0,t.iF)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),(0,t.i0)(`${f.BASE}`,(0,t.iF)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),X=(0,t.hZ)("notificationMotion",[(0,t.wk)("enterRight",(0,t.iF)({opacity:1,transform:"translateX(0)"})),(0,t.kY)("* => enterRight",[(0,t.iF)({opacity:0,transform:"translateX(5%)"}),(0,t.i0)("100ms linear")]),(0,t.wk)("enterLeft",(0,t.iF)({opacity:1,transform:"translateX(0)"})),(0,t.kY)("* => enterLeft",[(0,t.iF)({opacity:0,transform:"translateX(-5%)"}),(0,t.i0)("100ms linear")]),(0,t.wk)("enterTop",(0,t.iF)({opacity:1,transform:"translateY(0)"})),(0,t.kY)("* => enterTop",[(0,t.iF)({opacity:0,transform:"translateY(-5%)"}),(0,t.i0)("100ms linear")]),(0,t.wk)("enterBottom",(0,t.iF)({opacity:1,transform:"translateY(0)"})),(0,t.kY)("* => enterBottom",[(0,t.iF)({opacity:0,transform:"translateY(5%)"}),(0,t.i0)("100ms linear")]),(0,t.wk)("leave",(0,t.iF)({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),(0,t.kY)("* => leave",[(0,t.iF)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,t.i0)("100ms linear")])]),ee=`${f.BASE} ${m.EASE_OUT_QUINT}`,le=`${f.BASE} ${m.EASE_IN_QUINT}`,pe=(0,t.hZ)("slideMotion",[(0,t.wk)("void",(0,t.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,t.wk)("enter",(0,t.iF)({opacity:1,transform:"scaleY(1)"})),(0,t.kY)("void => *",[(0,t.i0)(ee)]),(0,t.kY)("* => void",[(0,t.i0)(le)])]),G=((0,t.hZ)("slideAlertMotion",[(0,t.kY)(":leave",[(0,t.iF)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,t.i0)(`${f.SLOW} ${m.EASE_IN_OUT_CIRC}`,(0,t.iF)({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),(0,t.hZ)("tabSwitchMotion",[(0,t.wk)("leave",(0,t.iF)({display:"none"})),(0,t.kY)("* => enter",[(0,t.iF)({display:"block",opacity:0}),(0,t.i0)(f.SLOW)]),(0,t.kY)("* => leave, :leave",[(0,t.iF)({position:"absolute",top:0,left:0,width:"100%"}),(0,t.i0)(f.SLOW,(0,t.iF)({opacity:0})),(0,t.iF)({display:"none"})])])),ze=((0,t.hZ)("thumbMotion",[(0,t.wk)("from",(0,t.iF)({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),(0,t.wk)("to",(0,t.iF)({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),(0,t.kY)("from => to",(0,t.i0)(`300ms ${m.EASE_IN_OUT}`))]),(0,t.hZ)("zoomBigMotion",[(0,t.kY)("void => active",[(0,t.iF)({opacity:0,transform:"scale(0.8)"}),(0,t.i0)(`${f.BASE} ${m.EASE_OUT_CIRC}`,(0,t.iF)({opacity:1,transform:"scale(1)"}))]),(0,t.kY)("active => void",[(0,t.iF)({opacity:1,transform:"scale(1)"}),(0,t.i0)(`${f.BASE} ${m.EASE_IN_OUT_CIRC}`,(0,t.iF)({opacity:0,transform:"scale(0.8)"}))])]));(0,t.hZ)("zoomBadgeMotion",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0,transform:"scale(0) translate(50%, -50%)"}),(0,t.i0)(`${f.SLOW} ${m.EASE_OUT_BACK}`,(0,t.iF)({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1,transform:"scale(1) translate(50%, -50%)"}),(0,t.i0)(`${f.SLOW} ${m.EASE_IN_BACK}`,(0,t.iF)({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])])},7891:(Lt,ct,C)=>{"use strict";C.d(ct,{J1:()=>ee,Xd:()=>X,is:()=>be,n1:()=>re});var t=C(4438),f=C(2771),m=C(4412),v=C(177),Y=C(5103);function Ve(le,pe){if(1&le&&t.nrm(0,"span",1),2&le){const K=t.XpG();t.Y8G("nzType",K.iconType)}}let be=(()=>{class le{constructor(){this.formStatusChanges=new f.m(1)}static#e=this.\u0275fac=function(G){return new(G||le)};static#t=this.\u0275prov=t.jDH({token:le,factory:le.\u0275fac})}return le})(),re=(()=>{class le{constructor(){this.noFormStatus=new m.t(!1)}static#e=this.\u0275fac=function(G){return new(G||le)};static#t=this.\u0275prov=t.jDH({token:le,factory:le.\u0275fac})}return le})();const ue={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let X=(()=>{class le{constructor(K){this.cdr=K,this.status="",this.iconType=null}ngOnChanges(K){this.updateIcon()}updateIcon(){this.iconType=this.status?ue[this.status]:null,this.cdr.markForCheck()}static#e=this.\u0275fac=function(G){return new(G||le)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:le,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(G,fe){2&G&&t.AVh("ant-form-item-feedback-icon-error","error"===fe.status)("ant-form-item-feedback-icon-warning","warning"===fe.status)("ant-form-item-feedback-icon-success","success"===fe.status)("ant-form-item-feedback-icon-validating","validating"===fe.status)},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[t.OA$],decls:1,vars:1,consts:[["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(G,fe){1&G&&t.DNE(0,Ve,1,1,"span",0),2&G&&t.Y8G("ngIf",fe.iconType)},dependencies:[v.bT,Y.Dn],encapsulation:2,changeDetection:0})}return le})(),ee=(()=>{class le{static#e=this.\u0275fac=function(G){return new(G||le)};static#t=this.\u0275mod=t.$C({type:le});static#n=this.\u0275inj=t.G2t({imports:[v.MD,Y.Y3]})}return le})()},6841:(Lt,ct,C)=>{"use strict";C.d(ct,{z:()=>f});var t=C(4438);let f=(()=>{class v{constructor(){this.animationType=(0,t.WQX)(t.bc$,{optional:!0}),this.nzNoAnimation=!1}static#e=this.\u0275fac=function(be){return new(be||v)};static#t=this.\u0275dir=t.FsC({type:v,selectors:[["","nzNoAnimation",""]],hostVars:2,hostBindings:function(be,re){2&be&&t.AVh("nz-animate-disabled",re.nzNoAnimation||"NoopAnimations"===re.animationType)},inputs:{nzNoAnimation:[t.Mj6.HasDecoratorInputTransform,"nzNoAnimation","nzNoAnimation",t.L39]},exportAs:["nzNoAnimation"],standalone:!0,features:[t.GFd]})}return v})()},7806:(Lt,ct,C)=>{"use strict";C.d(ct,{C:()=>v,m:()=>f});var t=C(4438);let f=(()=>{class Y{static ngTemplateContextGuard(be,re){return!0}recreateView(){this.viewContainer.clear();const be=this.nzStringTemplateOutlet instanceof t.C4Q;this.embeddedViewRef=this.viewContainer.createEmbeddedView(be?this.nzStringTemplateOutlet:this.templateRef,be?this.nzStringTemplateOutletContext:this.context)}updateContext(){const re=this.nzStringTemplateOutlet instanceof t.C4Q?this.nzStringTemplateOutletContext:this.context,ue=this.embeddedViewRef.context;if(re)for(const X of Object.keys(re))ue[X]=re[X]}constructor(be,re){this.viewContainer=be,this.templateRef=re,this.embeddedViewRef=null,this.context=new m,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(be){const{nzStringTemplateOutletContext:re,nzStringTemplateOutlet:ue}=be;ue&&(this.context.$implicit=ue.currentValue),(()=>{let le=!1;return ue&&(le=!!ue.firstChange||(ue.previousValue instanceof t.C4Q||ue.currentValue instanceof t.C4Q)),re&&(G=>{const fe=Object.keys(G.previousValue||{}),ze=Object.keys(G.currentValue||{});if(fe.length===ze.length){for(const xe of ze)if(-1===fe.indexOf(xe))return!0;return!1}return!0})(re)||le})()?this.recreateView():this.updateContext()}static#e=this.\u0275fac=function(re){return new(re||Y)(t.rXU(t.c1b),t.rXU(t.C4Q))};static#t=this.\u0275dir=t.FsC({type:Y,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],standalone:!0,features:[t.OA$]})}return Y})();class m{}let v=(()=>{class Y{static#e=this.\u0275fac=function(re){return new(re||Y)};static#t=this.\u0275mod=t.$C({type:Y});static#n=this.\u0275inj=t.G2t({})}return Y})()},5463:(Lt,ct,C)=>{"use strict";C.d(ct,{$_:()=>fe,DN:()=>K,G5:()=>ze,Js:()=>re,jj:()=>le,l$:()=>pe,pn:()=>be,vT:()=>G});var t=C(1635),f=C(6969),m=C(4438),v=C(6977),Y=C(1025),Ve=C(317);const be={top:new f.uH({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new f.uH({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new f.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new f.uH({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new f.uH({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new f.uH({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new f.uH({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new f.uH({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new f.uH({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new f.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new f.uH({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new f.uH({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new f.uH({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new f.uH({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},re=[be.top,be.right,be.bottom,be.left];function le(xe){for(const Fe in be)if(xe.connectionPair.originX===be[Fe].originX&&xe.connectionPair.originY===be[Fe].originY&&xe.connectionPair.overlayX===be[Fe].overlayX&&xe.connectionPair.overlayY===be[Fe].overlayY)return Fe}new f.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new f.uH({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new f.uH({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"});const pe={bottomLeft:new f.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),topLeft:new f.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),bottomRight:new f.uH({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),topRight:new f.uH({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2)},K=[pe.bottomLeft,pe.topLeft,pe.bottomRight,pe.topRight];let G=(()=>{class xe{constructor(Ge,he){this.cdkConnectedOverlay=Ge,this.nzDestroyService=he,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe((0,v.Q)(this.nzDestroyService)).subscribe(Te=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(Te)})}updateArrowPosition(Ge){const he=this.getOriginRect(),Te=le(Ge);let Z=0,Se=0;"topLeft"===Te||"bottomLeft"===Te?Z=he.width/2-14:"topRight"===Te||"bottomRight"===Te?Z=-(he.width/2-14):"leftTop"===Te||"rightTop"===Te?Se=he.height/2-10:("leftBottom"===Te||"rightBottom"===Te)&&(Se=-(he.height/2-10)),(this.cdkConnectedOverlay.offsetX!==Z||this.cdkConnectedOverlay.offsetY!==Se)&&(this.cdkConnectedOverlay.offsetY=Se,this.cdkConnectedOverlay.offsetX=Z,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof f.$Q?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){const Ge=this.getFlexibleConnectedPositionStrategyOrigin();if(Ge instanceof m.aKT)return Ge.nativeElement.getBoundingClientRect();if(Ge instanceof Element)return Ge.getBoundingClientRect();const he=Ge.width||0,Te=Ge.height||0;return{top:Ge.y,bottom:Ge.y+Te,left:Ge.x,right:Ge.x+he,height:Te,width:he}}static#e=this.\u0275fac=function(he){return new(he||xe)(m.rXU(f.WB),m.rXU(Y.y4))};static#t=this.\u0275dir=m.FsC({type:xe,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:"nzArrowPointAtCenter"},exportAs:["nzConnectedOverlay"],features:[m.Jv_([Y.y4])]})}return(0,t.Cg)([(0,Ve.H3)()],xe.prototype,"nzArrowPointAtCenter",void 0),xe})(),fe=(()=>{class xe{static#e=this.\u0275fac=function(he){return new(he||xe)};static#t=this.\u0275mod=m.$C({type:xe});static#n=this.\u0275inj=m.G2t({})}return xe})();function ze(xe,Fe){Fe&&(xe._host.style.zIndex=`${Fe}`)}},4500:(Lt,ct,C)=>{"use strict";C.d(ct,{F:()=>v,j:()=>Y});const t=["moz","ms","webkit"];function v(Ve){if(typeof window>"u")return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(Ve);const be=t.filter(re=>`${re}CancelAnimationFrame`in window||`${re}CancelRequestAnimationFrame`in window)[0];return be?(window[`${be}CancelAnimationFrame`]||window[`${be}CancelRequestAnimationFrame`]).call(this,Ve):clearTimeout(Ve)}const Y=function m(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const Ve=t.filter(be=>`${be}RequestAnimationFrame`in window)[0];return Ve?window[`${Ve}RequestAnimationFrame`]:function f(){let Ve=0;return function(be){const re=(new Date).getTime(),ue=Math.max(0,16-(re-Ve)),X=window.setTimeout(()=>{be(re+ue)},ue);return Ve=re+ue,X}}()}()},1025:(Lt,ct,C)=>{"use strict";C.d(ct,{HL:()=>K,cB:()=>le,fe:()=>Ge,jp:()=>Te,pt:()=>Fe,y4:()=>Z,yY:()=>he});var t=C(4438),f=C(1413),m=C(3798),v=C(980),Y=C(6977),Ve=C(6354),be=C(9172),re=C(3294),ue=C(1167),X=C(9327);const ee=()=>{};let le=(()=>{class ae{constructor(Pe,We){this.ngZone=Pe,this.rendererFactory2=We,this.resizeSource$=new f.B,this.listeners=0,this.disposeHandle=ee,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=ee}subscribe(){return this.registerListener(),this.resizeSource$.pipe((0,m.Z)(16),(0,v.j)(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=ee)}static#e=this.\u0275fac=function(We){return new(We||ae)(t.KVO(t.SKi),t.KVO(t._9s))};static#t=this.\u0275prov=t.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const pe=new Map;let K=(()=>{class ae{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return ue.c.isTestMode?pe:this._singletonRegistry}registerSingletonWithKey(Pe,We){const qe=this.singletonRegistry.has(Pe),Be=qe?this.singletonRegistry.get(Pe):this.withNewTarget(We);qe||this.singletonRegistry.set(Pe,Be)}unregisterSingletonWithKey(Pe){this.singletonRegistry.has(Pe)&&this.singletonRegistry.delete(Pe)}getSingletonWithKey(Pe){return this.singletonRegistry.has(Pe)?this.singletonRegistry.get(Pe).target:null}withNewTarget(Pe){return{target:Pe}}static#e=this.\u0275fac=function(We){return new(We||ae)};static#t=this.\u0275prov=t.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();var Fe=function(ae){return ae.xxl="xxl",ae.xl="xl",ae.lg="lg",ae.md="md",ae.sm="sm",ae.xs="xs",ae}(Fe||{});const Ge={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},he={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"};let Te=(()=>{class ae{constructor(Pe,We){this.resizeService=Pe,this.mediaMatcher=We,this.destroy$=new f.B,this.resizeService.subscribe().pipe((0,Y.Q)(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(Pe,We){if(We){const qe=()=>this.matchMedia(Pe,!0);return this.resizeService.subscribe().pipe((0,Ve.T)(qe),(0,be.Z)(qe()),(0,re.F)((Be,tt)=>Be[0]===tt[0]),(0,Ve.T)(Be=>Be[1]))}{const qe=()=>this.matchMedia(Pe);return this.resizeService.subscribe().pipe((0,Ve.T)(qe),(0,be.Z)(qe()),(0,re.F)())}}matchMedia(Pe,We){let qe=Fe.md;const Be={};return Object.keys(Pe).map(tt=>{const Xe=tt,pt=this.mediaMatcher.matchMedia(Ge[Xe]).matches;Be[tt]=pt,pt&&(qe=Xe)}),We?[qe,Be]:qe}static#e=this.\u0275fac=function(We){return new(We||ae)(t.KVO(le),t.KVO(X.DY))};static#t=this.\u0275prov=t.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),Z=(()=>{class ae extends f.B{ngOnDestroy(){this.next(),this.complete()}static#e=this.\u0275fac=(()=>{let Pe;return function(qe){return(Pe||(Pe=t.xGo(ae)))(qe||ae)}})();static#t=this.\u0275prov=t.jDH({token:ae,factory:ae.\u0275fac})}return ae})()},6389:(Lt,ct,C)=>{"use strict";C.d(ct,{c:()=>f,p:()=>m});var t=C(4438);let f=(()=>{class v{setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}constructor(Ve,be){this.elementRef=Ve,this.renderer=be,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}static#e=this.\u0275fac=function(be){return new(be||v)(t.rXU(t.aKT),t.rXU(t.sFG))};static#t=this.\u0275dir=t.FsC({type:v,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},standalone:!0,features:[t.OA$]})}return v})(),m=(()=>{class v{static#e=this.\u0275fac=function(be){return new(be||v)};static#t=this.\u0275mod=t.$C({type:v});static#n=this.\u0275inj=t.G2t({})}return v})()},5930:(Lt,ct,C)=>{"use strict";C.d(ct,{o7:()=>re,p:()=>be});var t=C(6860),f=C(4438);class m{get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}constructor(X,ee,le,pe,K){this.triggerElement=X,this.ngZone=ee,this.insertExtraNode=le,this.platformId=pe,this.cspNonce=K,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=G=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===G.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new t.OD(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const X=this.triggerElement,ee=this.getWaveColor(X);X.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(ee)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style"),this.cspNonce&&(this.styleForPseudo.nonce=this.cspNonce)),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${ee};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",X.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{X.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(X){return!!X&&"#ffffff"!==X&&"rgb(255, 255, 255)"!==X&&this.isNotGrey(X)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(X)&&"transparent"!==X}isNotGrey(X){const ee=X.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(ee&&ee[1]&&ee[2]&&ee[3]&&ee[1]===ee[2]&&ee[2]===ee[3])}getWaveColor(X){const ee=getComputedStyle(X);return ee.getPropertyValue("border-top-color")||ee.getPropertyValue("border-color")||ee.getPropertyValue("background-color")}runTimeoutOutsideZone(X,ee){this.ngZone.runOutsideAngular(()=>setTimeout(X,ee))}}const v={disabled:!1},Y=new f.nKC("nz-wave-global-options");function Ve(ue){return(0,f.EmA)([{provide:Y,useValue:ue}])}let be=(()=>{class ue{get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}constructor(ee,le,pe,K,G,fe){this.ngZone=ee,this.elementRef=le,this.config=pe,this.animationType=K,this.platformId=G,this.cspNonce=fe,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}isConfigDisabled(){let ee=!1;return this.config&&"boolean"==typeof this.config.disabled&&(ee=this.config.disabled),"NoopAnimations"===this.animationType&&(ee=!0),ee}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new m(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId,this.cspNonce))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}static#e=this.\u0275fac=function(le){return new(le||ue)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(Y,8),f.rXU(f.bc$,8),f.rXU(f.Agw),f.rXU(f.BIS,8))};static#t=this.\u0275dir=f.FsC({type:ue,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"],standalone:!0})}return ue})(),re=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275mod=f.$C({type:ue});static#n=this.\u0275inj=f.G2t({providers:[Ve(v)]})}return ue})()},2602:(Lt,ct,C)=>{"use strict";C.d(ct,{Cu:()=>Me,G_:()=>ht,h4:()=>xt,j3:()=>Le,qj:()=>ie,wQ:()=>Gt});var t=C(1635),f=C(7336),m=C(6939),v=C(4438),Y=C(1413),Ve=C(4412),be=C(7786),re=C(3726),ue=C(983),X=C(4572),ee=C(8359),le=C(3703),pe=C(6354),K=C(5558),G=C(5964),fe=C(3798),ze=C(3294),xe=C(6977),Fe=C(1594),Ge=C(6035),he=C(5463),Te=C(317),Z=C(6969),Se=C(6860),ae=C(1868),Ze=C(513),Pe=C(177),We=C(713),qe=C(6841),Be=C(8203);const tt=["*"];function Xe(F,_e){if(1&F){const ne=v.RV6();v.j41(0,"div",0),v.bIt("@slideMotion.done",function(je){v.eBV(ne);const vt=v.XpG();return v.Njj(vt.onAnimationEvent(je))})("mouseenter",function(){v.eBV(ne);const je=v.XpG();return v.Njj(je.setMouseState(!0))})("mouseleave",function(){v.eBV(ne);const je=v.XpG();return v.Njj(je.setMouseState(!1))}),v.SdG(1),v.k0s()}if(2&F){const ne=v.XpG();v.AVh("ant-dropdown-rtl","rtl"===ne.dir),v.Y8G("ngClass",ne.nzOverlayClassName)("ngStyle",ne.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",!(null==ne.noAnimation||!ne.noAnimation.nzNoAnimation))("nzNoAnimation",null==ne.noAnimation?null:ne.noAnimation.nzNoAnimation)}}const et=[he.pn.bottomLeft,he.pn.bottomRight,he.pn.topRight,he.pn.topLeft];let Le=(()=>{class F{setDropdownMenuValue(ne,Oe){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(ne,Oe)}constructor(ne,Oe,je,vt,Pt,At){this.nzConfigService=ne,this.elementRef=Oe,this.overlay=je,this.renderer=vt,this.viewContainerRef=Pt,this.platform=At,this._nzModuleName="dropDown",this.overlayRef=null,this.destroy$=new Y.B,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new Ve.t(!1),this.nzTrigger$=new Ve.t("hover"),this.overlayClose$=new Y.B,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new v.bkB}ngAfterViewInit(){if(this.nzDropdownMenu){const ne=this.elementRef.nativeElement,Oe=(0,be.h)((0,re.R)(ne,"mouseenter").pipe((0,le.u)(!0)),(0,re.R)(ne,"mouseleave").pipe((0,le.u)(!1))),vt=(0,be.h)(this.nzDropdownMenu.mouseState$,Oe),Pt=(0,re.R)(ne,"click").pipe((0,pe.T)(()=>!this.nzVisible)),At=this.nzTrigger$.pipe((0,K.n)(Mt=>"hover"===Mt?vt:"click"===Mt?Pt:ue.w)),Wt=this.nzDropdownMenu.descendantMenuItemClick$.pipe((0,G.p)(()=>this.nzClickHide),(0,le.u)(!1)),qt=(0,be.h)(At,Wt,this.overlayClose$).pipe((0,G.p)(()=>!this.nzDisabled)),lt=(0,be.h)(this.inputVisible$,qt);(0,X.z)([lt,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe((0,pe.T)(([Mt,ye])=>Mt||ye),(0,fe.Z)(150),(0,ze.F)(),(0,G.p)(()=>this.platform.isBrowser),(0,xe.Q)(this.destroy$)).subscribe(Mt=>{const st=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:ne).getBoundingClientRect().width;this.nzVisible!==Mt&&this.nzVisibleChange.emit(Mt),this.nzVisible=Mt,Mt?(this.overlayRef?this.overlayRef.getConfig().minWidth=st:(this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:st,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&"click"===this.nzTrigger,scrollStrategy:this.overlay.scrollStrategies.reposition()}),(0,be.h)(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe((0,G.p)(J=>!this.elementRef.nativeElement.contains(J.target))),this.overlayRef.keydownEvents().pipe((0,G.p)(J=>J.keyCode===f._f&&!(0,f.rp)(J)))).pipe((0,xe.Q)(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)})),this.positionStrategy.withPositions([he.pn[this.nzPlacement],...et]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new m.VA(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)):this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe((0,xe.Q)(this.destroy$)).subscribe(Mt=>{"void"===Mt.toState&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(ne){const{nzVisible:Oe,nzDisabled:je,nzOverlayClassName:vt,nzOverlayStyle:Pt,nzTrigger:At}=ne;if(At&&this.nzTrigger$.next(this.nzTrigger),Oe&&this.inputVisible$.next(this.nzVisible),je){const Wt=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(Wt,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(Wt,"disabled")}vt&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),Pt&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}static#e=this.\u0275fac=function(Oe){return new(Oe||F)(v.rXU(Ge.yx),v.rXU(v.aKT),v.rXU(Z.hJ),v.rXU(v.sFG),v.rXU(v.c1b),v.rXU(Se.OD))};static#t=this.\u0275dir=v.FsC({type:F,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:"nzBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],standalone:!0,features:[v.OA$]})}return(0,t.Cg)([(0,Ge.H4)(),(0,Te.H3)()],F.prototype,"nzBackdrop",void 0),(0,t.Cg)([(0,Te.H3)()],F.prototype,"nzClickHide",void 0),(0,t.Cg)([(0,Te.H3)()],F.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,Te.H3)()],F.prototype,"nzVisible",void 0),F})(),mt=(()=>{class F{static#e=this.\u0275fac=function(Oe){return new(Oe||F)};static#t=this.\u0275mod=v.$C({type:F});static#n=this.\u0275inj=v.G2t({})}return F})(),ht=(()=>{class F{constructor(){}static#e=this.\u0275fac=function(Oe){return new(Oe||F)};static#t=this.\u0275dir=v.FsC({type:F,selectors:[["a","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-link"],standalone:!0})}return F})(),xt=(()=>{class F{constructor(ne,Oe,je){this.renderer=ne,this.nzButtonGroupComponent=Oe,this.elementRef=je}ngAfterViewInit(){const ne=this.renderer.parentNode(this.elementRef.nativeElement);this.nzButtonGroupComponent&&ne&&this.renderer.addClass(ne,"ant-dropdown-button")}static#e=this.\u0275fac=function(Oe){return new(Oe||F)(v.rXU(v.sFG),v.rXU(Ze.dn,9),v.rXU(v.aKT))};static#t=this.\u0275dir=v.FsC({type:F,selectors:[["","nz-button","","nz-dropdown",""]],standalone:!0})}return F})(),Gt=(()=>{class F{onAnimationEvent(ne){this.animationStateChange$.emit(ne)}setMouseState(ne){this.mouseState$.next(ne)}setValue(ne,Oe){this[ne]=Oe,this.cdr.markForCheck()}constructor(ne,Oe,je,vt,Pt,At,Wt){this.cdr=ne,this.elementRef=Oe,this.renderer=je,this.viewContainerRef=vt,this.nzMenuService=Pt,this.directionality=At,this.noAnimation=Wt,this.mouseState$=new Ve.t(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new v.bkB,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new Y.B}ngOnInit(){this.directionality.change?.pipe((0,xe.Q)(this.destroy$)).subscribe(ne=>{this.dir=ne,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Oe){return new(Oe||F)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.sFG),v.rXU(v.c1b),v.rXU(ae.$1),v.rXU(Be.dS,8),v.rXU(qe.z,9))};static#t=this.\u0275cmp=v.VBU({type:F,selectors:[["nz-dropdown-menu"]],viewQuery:function(Oe,je){if(1&Oe&&v.GBs(v.C4Q,7),2&Oe){let vt;v.mGM(vt=v.lsd())&&(je.templateRef=vt.first)}},exportAs:["nzDropdownMenu"],standalone:!0,features:[v.Jv_([ae.$1,{provide:ae.ek,useValue:!0}]),v.aNF],ngContentSelectors:tt,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","ngClass","ngStyle","nzNoAnimation"]],template:function(Oe,je){1&Oe&&(v.NAR(),v.DNE(0,Xe,2,7,"ng-template"))},dependencies:[Pe.YU,Pe.B3,qe.z],encapsulation:2,data:{animation:[We.U1]},changeDetection:0})}return F})(),Me=(()=>{class F{static#e=this.\u0275fac=function(Oe){return new(Oe||F)};static#t=this.\u0275mod=v.$C({type:F});static#n=this.\u0275inj=v.G2t({imports:[mt,ae.GP]})}return F})();const nt=[new Z.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new Z.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new Z.uH({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new Z.uH({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})];let ie=(()=>{class F{constructor(ne,Oe){this.ngZone=ne,this.overlay=Oe,this.overlayRef=null,this.closeSubscription=ee.yU.EMPTY}create(ne,Oe){this.close(!0);const{x:je,y:vt}=ne;ne instanceof MouseEvent&&ne.preventDefault();const Pt=this.overlay.position().flexibleConnectedTo({x:je,y:vt}).withPositions(nt).withTransformOriginOn(".ant-dropdown");return this.overlayRef=this.overlay.create({positionStrategy:Pt,disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.closeSubscription=new ee.yU,this.closeSubscription.add(Oe.descendantMenuItemClick$.subscribe(()=>this.close())),this.closeSubscription.add(this.ngZone.runOutsideAngular(()=>(0,be.h)((0,re.R)(document,"click").pipe((0,G.p)(At=>!!this.overlayRef&&!this.overlayRef.overlayElement.contains(At.target)),(0,G.p)(At=>2!==At.button)),(0,re.R)(document,"keydown").pipe((0,G.p)(At=>"Escape"===At.key))).pipe((0,Fe.$)()).subscribe(()=>this.ngZone.run(()=>this.close())))),this.overlayRef.attach(new m.VA(Oe.templateRef,Oe.viewContainerRef))}close(ne=!1){this.overlayRef&&(this.overlayRef.detach(),ne&&this.overlayRef.dispose(),this.overlayRef=null,this.closeSubscription.unsubscribe())}static#e=this.\u0275fac=function(Oe){return new(Oe||F)(v.KVO(v.SKi),v.KVO(Z.hJ))};static#t=this.\u0275prov=v.jDH({token:F,factory:F.\u0275fac,providedIn:mt})}return F})()},1672:(Lt,ct,C)=>{"use strict";C.d(ct,{E8:()=>pt,_v:()=>et});var t=C(6939),f=C(4438),m=C(1413),v=C(6977),Y=C(9172),Ve=C(7806),be=C(3341),re=C(6035);function ue(Le,mt){if(1&Le&&(f.qex(0),f.nrm(1,"img",4),f.bVm()),2&Le){const ht=f.XpG(2);f.R7$(),f.Y8G("src",ht.nzNotFoundImage,f.B4B)("alt",ht.isContentString?ht.nzNotFoundContent:"empty")}}function X(Le,mt){if(1&Le&&f.DNE(0,ue,2,2,"ng-container",3),2&Le){const ht=f.XpG();f.Y8G("nzStringTemplateOutlet",ht.nzNotFoundImage)}}function ee(Le,mt){1&Le&&f.nrm(0,"nz-empty-simple")}function le(Le,mt){1&Le&&f.nrm(0,"nz-empty-default")}function pe(Le,mt){if(1&Le&&f.DNE(0,ee,1,0,"nz-empty-simple")(1,le,1,0),2&Le){const ht=f.XpG();f.vxM(0,"simple"===ht.nzNotFoundImage?0:1)}}function K(Le,mt){if(1&Le&&(f.qex(0),f.EFF(1),f.bVm()),2&Le){const ht=f.XpG(2);f.R7$(),f.SpI(" ",ht.isContentString?ht.nzNotFoundContent:ht.locale.description," ")}}function G(Le,mt){if(1&Le&&(f.j41(0,"p",1),f.DNE(1,K,2,1,"ng-container",3),f.k0s()),2&Le){const ht=f.XpG();f.R7$(),f.Y8G("nzStringTemplateOutlet",ht.nzNotFoundContent)}}function fe(Le,mt){if(1&Le&&(f.qex(0),f.EFF(1),f.bVm()),2&Le){const ht=f.XpG(2);f.R7$(),f.SpI(" ",ht.nzNotFoundFooter," ")}}function ze(Le,mt){if(1&Le&&(f.j41(0,"div",2),f.DNE(1,fe,2,1,"ng-container",3),f.k0s()),2&Le){const ht=f.XpG();f.R7$(),f.Y8G("nzStringTemplateOutlet",ht.nzNotFoundFooter)}}function xe(Le,mt){if(1&Le&&f.EFF(0),2&Le){const ht=f.XpG(2);f.SpI(" ",ht.content," ")}}function Fe(Le,mt){}function Ge(Le,mt){if(1&Le&&f.DNE(0,Fe,0,0,"ng-template",0),2&Le){const ht=f.XpG(2);f.Y8G("cdkPortalOutlet",ht.contentPortal)}}function he(Le,mt){if(1&Le&&f.DNE(0,xe,1,1)(1,Ge,1,1),2&Le){const ht=f.XpG();f.vxM(0,"string"===ht.contentType?0:1)}}function Te(Le,mt){1&Le&&f.nrm(0,"nz-empty",1)}function Z(Le,mt){1&Le&&f.nrm(0,"nz-empty",2)}function Se(Le,mt){1&Le&&f.nrm(0,"nz-empty")}function ae(Le,mt){if(1&Le&&f.DNE(0,Te,1,0)(1,Z,1,0)(2,Se,1,0),2&Le){let ht;const xt=f.XpG(2);f.vxM(0,"normal"===(ht=xt.size)?0:"small"===ht?1:2)}}function Ze(Le,mt){if(1&Le&&f.DNE(0,ae,3,1),2&Le){const ht=f.XpG();f.vxM(0,null!==ht.specificContent?0:-1)}}const Pe=new f.nKC("nz-empty-component-name");let We=(()=>{class Le{static#e=this.\u0275fac=function(xt){return new(xt||Le)};static#t=this.\u0275cmp=f.VBU({type:Le,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],standalone:!0,features:[f.aNF],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(xt,Gt){1&xt&&(f.qSk(),f.j41(0,"svg",0)(1,"g",1)(2,"g",2),f.nrm(3,"ellipse",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),f.k0s(),f.nrm(8,"path",8),f.j41(9,"g",9),f.nrm(10,"ellipse",10)(11,"path",11),f.k0s()()())},encapsulation:2,changeDetection:0})}return Le})(),qe=(()=>{class Le{static#e=this.\u0275fac=function(xt){return new(xt||Le)};static#t=this.\u0275cmp=f.VBU({type:Le,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],standalone:!0,features:[f.aNF],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(xt,Gt){1&xt&&(f.qSk(),f.j41(0,"svg",0)(1,"g",1),f.nrm(2,"ellipse",2),f.j41(3,"g",3),f.nrm(4,"path",4)(5,"path",5),f.k0s()()())},encapsulation:2,changeDetection:0})}return Le})();const Be=["default","simple"];let tt=(()=>{class Le{constructor(ht,xt){this.i18n=ht,this.cdr=xt,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new m.B}ngOnChanges(ht){const{nzNotFoundContent:xt,nzNotFoundImage:Gt}=ht;if(xt&&(this.isContentString="string"==typeof xt.currentValue),Gt){const Me=Gt.currentValue||"default";this.isImageBuildIn=Be.findIndex(nt=>nt===Me)>-1}}ngOnInit(){this.i18n.localeChange.pipe((0,v.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(xt){return new(xt||Le)(f.rXU(be.Og),f.rXU(f.gRc))};static#t=this.\u0275cmp=f.VBU({type:Le,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],standalone:!0,features:[f.OA$,f.aNF],decls:5,vars:3,consts:[[1,"ant-empty-image"],[1,"ant-empty-description"],[1,"ant-empty-footer"],[4,"nzStringTemplateOutlet"],[3,"src","alt"]],template:function(xt,Gt){1&xt&&(f.j41(0,"div",0),f.DNE(1,X,1,1,"ng-container")(2,pe,2,1),f.k0s(),f.DNE(3,G,2,1,"p",1)(4,ze,2,1,"div",2)),2&xt&&(f.R7$(),f.vxM(1,Gt.isImageBuildIn?2:1),f.R7$(2),f.vxM(3,null!==Gt.nzNotFoundContent?3:-1),f.R7$(),f.vxM(4,Gt.nzNotFoundFooter?4:-1))},dependencies:[Ve.C,Ve.m,We,qe],encapsulation:2,changeDetection:0})}return Le})(),pt=(()=>{class Le{constructor(ht,xt,Gt,Me){this.configService=ht,this.viewContainerRef=xt,this.cdr=Gt,this.injector=Me,this.contentType="string",this.size="",this.destroy$=new m.B}ngOnChanges(ht){ht.nzComponentName&&(this.size=function Xe(Le){switch(Le){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(ht.nzComponentName.currentValue)),ht.specificContent&&!ht.specificContent.isFirstChange()&&(this.content=ht.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const ht=this.content;if("string"==typeof ht)this.contentType="string";else if(ht instanceof f.C4Q){const xt={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new t.VA(ht,this.viewContainerRef,xt)}else if(ht instanceof f.ZUJ){const xt=f.zZn.create({parent:this.injector,providers:[{provide:Pe,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new t.A8(ht,this.viewContainerRef,xt)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe((0,Y.Z)(!0),(0,v.Q)(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}static#e=this.\u0275fac=function(xt){return new(xt||Le)(f.rXU(re.yx),f.rXU(f.c1b),f.rXU(f.gRc),f.rXU(f.zZn))};static#t=this.\u0275cmp=f.VBU({type:Le,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],standalone:!0,features:[f.OA$,f.aNF],decls:2,vars:1,consts:[[3,"cdkPortalOutlet"],["nzNotFoundImage","simple",1,"ant-empty-normal"],["nzNotFoundImage","simple",1,"ant-empty-small"]],template:function(xt,Gt){1&xt&&f.DNE(0,he,2,1)(1,Ze,1,1),2&xt&&f.vxM(0,Gt.content?0:1)},dependencies:[tt,t.jc,t.I3],encapsulation:2,changeDetection:0})}return Le})(),et=(()=>{class Le{static#e=this.\u0275fac=function(xt){return new(xt||Le)};static#t=this.\u0275mod=f.$C({type:Le});static#n=this.\u0275inj=f.G2t({imports:[tt,pt]})}return Le})()},8927:(Lt,ct,C)=>{"use strict";C.d(ct,{CA:()=>et,Ls:()=>tt,Mo:()=>ht,PQ:()=>Me,zS:()=>Le});var t=C(4438),f=C(7529),m=C(177),v=C(4341),Y=C(1413),Ve=C(8359),be=C(5964),re=C(6354),ue=C(6977),X=C(9172),ee=C(8141),le=C(713),pe=C(7891),K=C(7806),G=C(317),fe=C(3341),ze=C(1635),xe=C(6035),Fe=C(8203),Ge=C(5103),he=C(5154);const Te=["*"],Z=nt=>[nt],Se=nt=>({$implicit:nt});function ae(nt,ie){if(1&nt&&(t.qex(0),t.EFF(1),t.bVm()),2&nt){const F=t.XpG(2);t.R7$(),t.JRh(F.innerTip)}}function Ze(nt,ie){if(1&nt&&(t.j41(0,"div",2)(1,"div",4),t.DNE(2,ae,2,1,"ng-container",5),t.k0s()()),2&nt){const F=t.XpG();t.Y8G("@helpMotion",void 0),t.R7$(),t.Y8G("ngClass",t.eq3(4,Z,"ant-form-item-explain-"+F.status)),t.R7$(),t.Y8G("nzStringTemplateOutlet",F.innerTip)("nzStringTemplateOutletContext",t.eq3(6,Se,F.validateControl))}}function Pe(nt,ie){if(1&nt&&(t.qex(0),t.EFF(1),t.bVm()),2&nt){const F=t.XpG(2);t.R7$(),t.JRh(F.nzExtra)}}function We(nt,ie){if(1&nt&&(t.j41(0,"div",3),t.DNE(1,Pe,2,1,"ng-container",6),t.k0s()),2&nt){const F=t.XpG();t.R7$(),t.Y8G("nzStringTemplateOutlet",F.nzExtra)}}function qe(nt,ie){if(1&nt&&(t.qex(0),t.nrm(1,"span",2),t.bVm()),2&nt){const F=ie.$implicit,_e=t.XpG(2);t.R7$(),t.Y8G("nzType",F)("nzTheme",_e.tooltipIcon.theme)}}function Be(nt,ie){if(1&nt&&(t.j41(0,"span",0),t.DNE(1,qe,2,2,"ng-container",1),t.k0s()),2&nt){const F=t.XpG();t.Y8G("nzTooltipTitle",F.nzTooltipTitle),t.R7$(),t.Y8G("nzStringTemplateOutlet",F.tooltipIcon.type)}}let tt=(()=>{class nt{setWithHelpViaTips(F){this.withHelpClass=F,this.cdr.markForCheck()}setStatus(F){this.status=F,this.cdr.markForCheck()}setHasFeedback(F){this.hasFeedback=F,this.cdr.markForCheck()}constructor(F){this.cdr=F,this.status="",this.hasFeedback=!1,this.withHelpClass=!1,this.destroy$=new Y.B}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(_e){return new(_e||nt)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:nt,selectors:[["nz-form-item"]],hostAttrs:[1,"ant-form-item"],hostVars:12,hostBindings:function(_e,ne){2&_e&&t.AVh("ant-form-item-has-success","success"===ne.status)("ant-form-item-has-warning","warning"===ne.status)("ant-form-item-has-error","error"===ne.status)("ant-form-item-is-validating","validating"===ne.status)("ant-form-item-has-feedback",ne.hasFeedback&&ne.status)("ant-form-item-with-help",ne.withHelpClass)},exportAs:["nzFormItem"],standalone:!0,features:[t.aNF],ngContentSelectors:Te,decls:1,vars:0,template:function(_e,ne){1&_e&&(t.NAR(),t.SdG(0))},encapsulation:2,changeDetection:0})}return nt})();const pt={type:"question-circle",theme:"outline"};let et=(()=>{class nt{getInputObservable(F){return this.inputChanges$.pipe((0,be.p)(_e=>F in _e),(0,re.T)(_e=>_e[F]))}constructor(F,_e){this.nzConfigService=F,this.directionality=_e,this._nzModuleName="form",this.nzLayout="horizontal",this.nzNoColon=!1,this.nzAutoTips={},this.nzDisableAutoTips=!1,this.nzTooltipIcon=pt,this.nzLabelAlign="right",this.nzLabelWrap=!1,this.dir="ltr",this.destroy$=new Y.B,this.inputChanges$=new Y.B,this.dir=this.directionality.value,this.directionality.change?.pipe((0,ue.Q)(this.destroy$)).subscribe(ne=>{this.dir=ne})}ngOnChanges(F){this.inputChanges$.next(F)}ngOnDestroy(){this.inputChanges$.complete(),this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(_e){return new(_e||nt)(t.rXU(xe.yx),t.rXU(Fe.dS,8))};static#t=this.\u0275dir=t.FsC({type:nt,selectors:[["","nz-form",""]],hostAttrs:[1,"ant-form"],hostVars:8,hostBindings:function(_e,ne){2&_e&&t.AVh("ant-form-horizontal","horizontal"===ne.nzLayout)("ant-form-vertical","vertical"===ne.nzLayout)("ant-form-inline","inline"===ne.nzLayout)("ant-form-rtl","rtl"===ne.dir)},inputs:{nzLayout:"nzLayout",nzNoColon:"nzNoColon",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzTooltipIcon:"nzTooltipIcon",nzLabelAlign:"nzLabelAlign",nzLabelWrap:"nzLabelWrap"},exportAs:["nzForm"],standalone:!0,features:[t.OA$]})}return(0,ze.Cg)([(0,xe.H4)(),(0,G.H3)()],nt.prototype,"nzNoColon",void 0),(0,ze.Cg)([(0,xe.H4)()],nt.prototype,"nzAutoTips",void 0),(0,ze.Cg)([(0,G.H3)()],nt.prototype,"nzDisableAutoTips",void 0),(0,ze.Cg)([(0,xe.H4)()],nt.prototype,"nzTooltipIcon",void 0),(0,ze.Cg)([(0,xe.H4)(),(0,G.H3)()],nt.prototype,"nzLabelWrap",void 0),nt})(),Le=(()=>{class nt{get disableAutoTips(){return"default"!==this.nzDisableAutoTips?(0,G.G4)(this.nzDisableAutoTips):this.nzFormDirective?.nzDisableAutoTips}set nzHasFeedback(F){this._hasFeedback=(0,G.G4)(F),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this._hasFeedback}),this.nzFormItemComponent&&this.nzFormItemComponent.setHasFeedback(this._hasFeedback)}get nzHasFeedback(){return this._hasFeedback}set nzValidateStatus(F){F instanceof v.EL||F instanceof v.vS?(this.validateControl=F,this.validateString=null,this.watchControl()):F instanceof v.JD?(this.validateControl=F.control,this.validateString=null,this.watchControl()):(this.validateString=F,this.validateControl=null,this.setStatus())}watchControl(){this.validateChanges.unsubscribe(),this.validateControl&&this.validateControl.statusChanges&&(this.validateChanges=this.validateControl.statusChanges.pipe((0,X.Z)(null),(0,ue.Q)(this.destroyed$)).subscribe(()=>{this.disableAutoTips||this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck()}))}setStatus(){this.status=this.getControlStatus(this.validateString),this.innerTip=this.getInnerTip(this.status),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this.nzHasFeedback}),this.nzFormItemComponent&&(this.nzFormItemComponent.setWithHelpViaTips(!!this.innerTip),this.nzFormItemComponent.setStatus(this.status))}getControlStatus(F){let _e;return _e="warning"===F||this.validateControlStatus("INVALID","warning")?"warning":"error"===F||this.validateControlStatus("INVALID")?"error":"validating"===F||"pending"===F||this.validateControlStatus("PENDING")?"validating":"success"===F||this.validateControlStatus("VALID")?"success":"",_e}validateControlStatus(F,_e){if(this.validateControl){const{dirty:ne,touched:Oe,status:je}=this.validateControl;return(!!ne||!!Oe)&&(_e?this.validateControl.hasError(_e):je===F)}return!1}getInnerTip(F){switch(F){case"error":return!this.disableAutoTips&&this.autoErrorTip||this.nzErrorTip||null;case"validating":return this.nzValidatingTip||null;case"success":return this.nzSuccessTip||null;case"warning":return this.nzWarningTip||null;default:return null}}updateAutoErrorTip(){if(this.validateControl){const F=this.validateControl.errors||{};let _e="";for(const ne in F)if(F.hasOwnProperty(ne)&&(_e=F[ne]?.[this.localeId]??this.nzAutoTips?.[this.localeId]?.[ne]??this.nzAutoTips.default?.[ne]??this.nzFormDirective?.nzAutoTips?.[this.localeId]?.[ne]??this.nzFormDirective?.nzAutoTips.default?.[ne]),_e)break;this.autoErrorTip=_e}}subscribeAutoTips(F){F?.pipe((0,ue.Q)(this.destroyed$)).subscribe(()=>{this.disableAutoTips||(this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck())})}constructor(F,_e,ne,Oe,je){this.nzFormItemComponent=F,this.cdr=_e,this.nzFormDirective=Oe,this.nzFormStatusService=je,this._hasFeedback=!1,this.validateChanges=Ve.yU.EMPTY,this.validateString=null,this.destroyed$=new Y.B,this.status="",this.validateControl=null,this.innerTip=null,this.nzAutoTips={},this.nzDisableAutoTips="default",this.subscribeAutoTips(ne.localeChange.pipe((0,ee.M)(vt=>this.localeId=vt.locale))),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzAutoTips")),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzDisableAutoTips").pipe((0,be.p)(()=>"default"===this.nzDisableAutoTips)))}ngOnChanges(F){const{nzDisableAutoTips:_e,nzAutoTips:ne,nzSuccessTip:Oe,nzWarningTip:je,nzErrorTip:vt,nzValidatingTip:Pt}=F;_e||ne?(this.updateAutoErrorTip(),this.setStatus()):(Oe||je||vt||Pt)&&this.setStatus()}ngOnInit(){this.setStatus()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}ngAfterContentInit(){!this.validateControl&&!this.validateString&&(this.nzValidateStatus=this.defaultValidateControl instanceof v.l_?this.defaultValidateControl.control:this.defaultValidateControl)}static#e=this.\u0275fac=function(_e){return new(_e||nt)(t.rXU(tt,9),t.rXU(t.gRc),t.rXU(fe.Og),t.rXU(et,8),t.rXU(pe.is))};static#t=this.\u0275cmp=t.VBU({type:nt,selectors:[["nz-form-control"]],contentQueries:function(_e,ne,Oe){if(1&_e&&t.wni(Oe,v.vO,5),2&_e){let je;t.mGM(je=t.lsd())&&(ne.defaultValidateControl=je.first)}},hostAttrs:[1,"ant-form-item-control"],inputs:{nzSuccessTip:"nzSuccessTip",nzWarningTip:"nzWarningTip",nzErrorTip:"nzErrorTip",nzValidatingTip:"nzValidatingTip",nzExtra:"nzExtra",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzHasFeedback:"nzHasFeedback",nzValidateStatus:"nzValidateStatus"},exportAs:["nzFormControl"],standalone:!0,features:[t.Jv_([pe.is]),t.OA$,t.aNF],ngContentSelectors:Te,decls:5,vars:2,consts:[[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra"],["role","alert",3,"ngClass"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[4,"nzStringTemplateOutlet"]],template:function(_e,ne){1&_e&&(t.NAR(),t.j41(0,"div",0)(1,"div",1),t.SdG(2),t.k0s()(),t.DNE(3,Ze,3,8,"div",2)(4,We,2,1,"div",3)),2&_e&&(t.R7$(3),t.vxM(3,ne.innerTip?3:-1),t.R7$(),t.vxM(4,ne.nzExtra?4:-1))},dependencies:[m.YU,K.C,K.m],encapsulation:2,data:{animation:[le.W4]},changeDetection:0})}return nt})();function mt(nt){return{...pt,..."string"==typeof nt?{type:nt}:nt}}let ht=(()=>{class nt{set nzNoColon(F){this.noColon=(0,G.G4)(F)}get nzNoColon(){return"default"!==this.noColon?this.noColon:this.nzFormDirective?.nzNoColon}set nzTooltipIcon(F){this._tooltipIcon=mt(F)}get tooltipIcon(){return"default"!==this._tooltipIcon?this._tooltipIcon:mt(this.nzFormDirective?.nzTooltipIcon||pt)}set nzLabelAlign(F){this.labelAlign=F}get nzLabelAlign(){return"default"!==this.labelAlign?this.labelAlign:this.nzFormDirective?.nzLabelAlign||"right"}set nzLabelWrap(F){this.labelWrap=(0,G.G4)(F)}get nzLabelWrap(){return"default"!==this.labelWrap?this.labelWrap:this.nzFormDirective?.nzLabelWrap}constructor(F,_e){this.cdr=F,this.nzFormDirective=_e,this.nzRequired=!1,this.noColon="default",this._tooltipIcon="default",this.labelAlign="default",this.labelWrap="default",this.destroy$=new Y.B,this.nzFormDirective&&(this.nzFormDirective.getInputObservable("nzNoColon").pipe((0,be.p)(()=>"default"===this.noColon),(0,ue.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzTooltipIcon").pipe((0,be.p)(()=>"default"===this._tooltipIcon),(0,ue.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzLabelAlign").pipe((0,be.p)(()=>"default"===this.labelAlign),(0,ue.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzLabelWrap").pipe((0,be.p)(()=>"default"===this.labelWrap),(0,ue.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(_e){return new(_e||nt)(t.rXU(t.gRc),t.rXU(et,12))};static#t=this.\u0275cmp=t.VBU({type:nt,selectors:[["nz-form-label"]],hostAttrs:[1,"ant-form-item-label"],hostVars:4,hostBindings:function(_e,ne){2&_e&&t.AVh("ant-form-item-label-left","left"===ne.nzLabelAlign)("ant-form-item-label-wrap",ne.nzLabelWrap)},inputs:{nzFor:"nzFor",nzRequired:"nzRequired",nzNoColon:"nzNoColon",nzTooltipTitle:"nzTooltipTitle",nzTooltipIcon:"nzTooltipIcon",nzLabelAlign:"nzLabelAlign",nzLabelWrap:"nzLabelWrap"},exportAs:["nzFormLabel"],standalone:!0,features:[t.aNF],ngContentSelectors:Te,decls:3,vars:6,consts:[["nz-tooltip","",1,"ant-form-item-tooltip",3,"nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType","nzTheme"]],template:function(_e,ne){1&_e&&(t.NAR(),t.j41(0,"label"),t.SdG(1),t.DNE(2,Be,2,2,"span",0),t.k0s()),2&_e&&(t.AVh("ant-form-item-no-colon",ne.nzNoColon)("ant-form-item-required",ne.nzRequired),t.BMQ("for",ne.nzFor),t.R7$(2),t.vxM(2,ne.nzTooltipTitle?2:-1))},dependencies:[K.C,K.m,he.LH,Ge.Y3,Ge.Dn],encapsulation:2,changeDetection:0})}return(0,ze.Cg)([(0,G.H3)()],nt.prototype,"nzRequired",void 0),nt})(),Me=(()=>{class nt{static#e=this.\u0275fac=function(_e){return new(_e||nt)};static#t=this.\u0275mod=t.$C({type:nt});static#n=this.\u0275inj=t.G2t({imports:[ht,Le,f.f3]})}return nt})()},7529:(Lt,ct,C)=>{"use strict";C.d(ct,{Uq:()=>ee,e:()=>X,f3:()=>le});var t=C(4438),f=C(2771),m=C(1413),v=C(6977),Y=C(1025),Ve=C(9327),be=C(6860),re=C(8203),ue=C(317);let X=(()=>{class pe{getGutter(){const G=[null,null],fe=this.nzGutter||0;return(Array.isArray(fe)?fe:[fe,null]).forEach((xe,Fe)=>{"object"==typeof xe&&null!==xe?(G[Fe]=null,Object.keys(Y.fe).map(Ge=>{const he=Ge;this.mediaMatcher.matchMedia(Y.fe[he]).matches&&xe[he]&&(G[Fe]=xe[he])})):G[Fe]=Number(xe)||null}),G}setGutterStyle(){const[G,fe]=this.getGutter();this.actualGutter$.next([G,fe]);const ze=(xe,Fe)=>{null!==Fe&&this.renderer.setStyle(this.elementRef.nativeElement,xe,`-${Fe/2}px`)};ze("margin-left",G),ze("margin-right",G),ze("margin-top",fe),ze("margin-bottom",fe)}constructor(G,fe,ze,xe,Fe,Ge,he){this.elementRef=G,this.renderer=fe,this.mediaMatcher=ze,this.ngZone=xe,this.platform=Fe,this.breakpointService=Ge,this.directionality=he,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new f.m(1),this.dir="ltr",this.destroy$=new m.B}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,v.Q)(this.destroy$)).subscribe(G=>{this.dir=G}),this.setGutterStyle()}ngOnChanges(G){G.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(Y.fe).pipe((0,v.Q)(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(fe){return new(fe||pe)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Ve.DY),t.rXU(t.SKi),t.rXU(be.OD),t.rXU(Y.jp),t.rXU(re.dS,8))};static#t=this.\u0275dir=t.FsC({type:pe,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:20,hostBindings:function(fe,ze){2&fe&&t.AVh("ant-row-top","top"===ze.nzAlign)("ant-row-middle","middle"===ze.nzAlign)("ant-row-bottom","bottom"===ze.nzAlign)("ant-row-start","start"===ze.nzJustify)("ant-row-end","end"===ze.nzJustify)("ant-row-center","center"===ze.nzJustify)("ant-row-space-around","space-around"===ze.nzJustify)("ant-row-space-between","space-between"===ze.nzJustify)("ant-row-space-evenly","space-evenly"===ze.nzJustify)("ant-row-rtl","rtl"===ze.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],standalone:!0,features:[t.OA$]})}return pe})(),ee=(()=>{class pe{setHostClassMap(){const G={"ant-col":!0,[`ant-col-${this.nzSpan}`]:(0,ue.n9)(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:(0,ue.n9)(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:(0,ue.n9)(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:(0,ue.n9)(this.nzPull),[`ant-col-push-${this.nzPush}`]:(0,ue.n9)(this.nzPush),"ant-col-rtl":"rtl"===this.dir,...this.generateClass()};for(const fe in this.classMap)this.classMap.hasOwnProperty(fe)&&this.renderer.removeClass(this.elementRef.nativeElement,fe);this.classMap={...G};for(const fe in this.classMap)this.classMap.hasOwnProperty(fe)&&this.classMap[fe]&&this.renderer.addClass(this.elementRef.nativeElement,fe)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(G){return"number"==typeof G?`${G} ${G} auto`:"string"==typeof G&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(G)?`0 0 ${G}`:G}generateClass(){const fe={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(ze=>{const xe=ze.replace("nz","").toLowerCase();if((0,ue.n9)(this[ze]))if("number"==typeof this[ze]||"string"==typeof this[ze])fe[`ant-col-${xe}-${this[ze]}`]=!0;else{const Fe=this[ze];["span","pull","push","offset","order"].forEach(he=>{fe[`ant-col-${xe}${"span"===he?"-":`-${he}-`}${Fe[he]}`]=Fe&&(0,ue.n9)(Fe[he])})}}),fe}constructor(G,fe,ze,xe){this.elementRef=G,this.nzRowDirective=fe,this.renderer=ze,this.directionality=xe,this.classMap={},this.destroy$=new m.B,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,v.Q)(this.destroy$)).subscribe(G=>{this.dir=G,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(G){this.setHostClassMap();const{nzFlex:fe}=G;fe&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe((0,v.Q)(this.destroy$)).subscribe(([G,fe])=>{const ze=(xe,Fe)=>{null!==Fe&&this.renderer.setStyle(this.elementRef.nativeElement,xe,Fe/2+"px")};ze("padding-left",G),ze("padding-right",G),ze("padding-top",fe),ze("padding-bottom",fe)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(fe){return new(fe||pe)(t.rXU(t.aKT),t.rXU(X,9),t.rXU(t.sFG),t.rXU(re.dS,8))};static#t=this.\u0275dir=t.FsC({type:pe,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(fe,ze){2&fe&&t.xc7("flex",ze.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],standalone:!0,features:[t.OA$]})}return pe})(),le=(()=>{class pe{static#e=this.\u0275fac=function(fe){return new(fe||pe)};static#t=this.\u0275mod=t.$C({type:pe});static#n=this.\u0275inj=t.G2t({})}return pe})()},2047:(Lt,ct,C)=>{"use strict";C.d(ct,{FG:()=>At,GP:()=>Mt});var t=C(1635),f=C(7336),m=C(4438),v=C(4341),Y=C(1413),Ve=C(3726),be=C(7786),re=C(3294),ue=C(6977),X=C(9172),ee=C(5558),le=C(1397),pe=C(6354),K=C(7891),G=C(1025),fe=C(317),ze=C(5103),xe=C(851),Fe=C(8203),Ge=C(7806),he=C(177);const Te=["upHandler"],Z=["downHandler"],Se=["inputElement"];function ae(ye,st){if(1&ye&&m.nrm(0,"nz-form-item-feedback-icon",10),2&ye){const J=m.XpG();m.Y8G("status",J.status)}}const Ze=["nz-input-number-group-slot",""],Pe=["*"];function We(ye,st){if(1&ye&&m.nrm(0,"span",0),2&ye){const J=m.XpG();m.Y8G("nzType",J.icon)}}function qe(ye,st){if(1&ye&&(m.qex(0),m.EFF(1),m.bVm()),2&ye){const J=m.XpG();m.R7$(),m.JRh(J.template)}}function Be(ye,st){if(1&ye&&m.nrm(0,"div",3),2&ye){const J=m.XpG(2);m.Y8G("icon",J.nzAddOnBeforeIcon)("template",J.nzAddOnBefore)}}function tt(ye,st){}function Xe(ye,st){if(1&ye&&(m.j41(0,"div",5),m.DNE(1,tt,0,0,"ng-template",6),m.k0s()),2&ye){const J=m.XpG(2),He=m.sdS(3);m.AVh("ant-input-number-affix-wrapper-disabled",J.disabled)("ant-input-number-affix-wrapper-sm",J.isSmall)("ant-input-number-affix-wrapper-lg",J.isLarge)("ant-input-number-affix-wrapper-focused",J.focused),m.Y8G("ngClass",J.affixInGroupStatusCls),m.R7$(),m.Y8G("ngTemplateOutlet",He)}}function pt(ye,st){}function et(ye,st){if(1&ye&&m.DNE(0,pt,0,0,"ng-template",6),2&ye){m.XpG(2);const J=m.sdS(5);m.Y8G("ngTemplateOutlet",J)}}function Le(ye,st){if(1&ye&&m.nrm(0,"span",3),2&ye){const J=m.XpG(2);m.Y8G("icon",J.nzAddOnAfterIcon)("template",J.nzAddOnAfter)}}function mt(ye,st){if(1&ye&&(m.j41(0,"span",2),m.DNE(1,Be,1,2,"div",3)(2,Xe,2,10,"div",4)(3,et,1,1)(4,Le,1,2,"span",3),m.k0s()),2&ye){const J=m.XpG();m.R7$(),m.vxM(1,J.nzAddOnBefore||J.nzAddOnBeforeIcon?1:-1),m.R7$(),m.vxM(2,J.isAffix||J.hasFeedback?2:3),m.R7$(2),m.vxM(4,J.nzAddOnAfter||J.nzAddOnAfterIcon?4:-1)}}function ht(ye,st){}function xt(ye,st){if(1&ye&&m.DNE(0,ht,0,0,"ng-template",6),2&ye){m.XpG(2);const J=m.sdS(3);m.Y8G("ngTemplateOutlet",J)}}function Gt(ye,st){}function Me(ye,st){if(1&ye&&m.DNE(0,Gt,0,0,"ng-template",6),2&ye){m.XpG(2);const J=m.sdS(5);m.Y8G("ngTemplateOutlet",J)}}function nt(ye,st){if(1&ye&&m.DNE(0,xt,1,1,null,6)(1,Me,1,1),2&ye){const J=m.XpG();m.vxM(0,J.isAffix?0:1)}}function ie(ye,st){if(1&ye&&m.nrm(0,"span",7),2&ye){const J=m.XpG(2);m.Y8G("icon",J.nzPrefixIcon)("template",J.nzPrefix)}}function F(ye,st){}function _e(ye,st){if(1&ye&&m.nrm(0,"nz-form-item-feedback-icon",9),2&ye){const J=m.XpG(3);m.Y8G("status",J.status)}}function ne(ye,st){if(1&ye&&(m.j41(0,"span",8),m.DNE(1,_e,1,1,"nz-form-item-feedback-icon",9),m.k0s()),2&ye){const J=m.XpG(2);m.Y8G("icon",J.nzSuffixIcon)("template",J.nzSuffix),m.R7$(),m.vxM(1,J.isFeedback?1:-1)}}function Oe(ye,st){if(1&ye&&m.DNE(0,ie,1,2,"span",7)(1,F,0,0,"ng-template",6)(2,ne,2,3,"span",8),2&ye){const J=m.XpG(),He=m.sdS(5);m.vxM(0,J.nzPrefix||J.nzPrefixIcon?0:-1),m.R7$(),m.Y8G("ngTemplateOutlet",He),m.R7$(),m.vxM(2,J.nzSuffix||J.nzSuffixIcon||J.isFeedback?2:-1)}}function je(ye,st){if(1&ye&&m.nrm(0,"nz-form-item-feedback-icon",9),2&ye){const J=m.XpG(3);m.Y8G("status",J.status)}}function vt(ye,st){if(1&ye&&(m.j41(0,"span",10),m.DNE(1,je,1,1,"nz-form-item-feedback-icon",9),m.k0s()),2&ye){const J=m.XpG(2);m.R7$(),m.vxM(1,J.isFeedback?1:-1)}}function Pt(ye,st){if(1&ye&&(m.SdG(0),m.DNE(1,vt,2,1,"span",10)),2&ye){const J=m.XpG();m.R7$(),m.vxM(1,J.isAddOn||J.isAffix||!J.isFeedback?-1:1)}}let At=(()=>{class ye{onModelChange(J){this.parsedValue=this.nzParser(J),this.inputElement.nativeElement.value=`${this.parsedValue}`;const He=this.getCurrentValidValue(this.parsedValue);this.setValue(He)}getCurrentValidValue(J){let He=J;return He=""===He?"":this.isNotCompleteNumber(He)?this.value:`${this.getValidValue(He)}`,this.toNumber(He)}isNotCompleteNumber(J){return isNaN(J)||""===J||null===J||!(!J||J.toString().indexOf(".")!==J.toString().length-1)}getValidValue(J){let He=parseFloat(J);return isNaN(He)?J:(He<this.nzMin&&(He=this.nzMin),He>this.nzMax&&(He=this.nzMax),He)}toNumber(J){if(this.isNotCompleteNumber(J))return J;const He=String(J);if(He.indexOf(".")>=0&&(0,fe.n9)(this.nzPrecision)){if("function"==typeof this.nzPrecisionMode)return this.nzPrecisionMode(J,this.nzPrecision);if("cut"===this.nzPrecisionMode){const me=He.split(".");return me[1]=me[1].slice(0,this.nzPrecision),Number(me.join("."))}return Number(Number(J).toFixed(this.nzPrecision))}return Number(J)}getRatio(J){let He=1;return J.metaKey||J.ctrlKey?He=.1:J.shiftKey&&(He=10),He}down(J,He){this.isFocused||this.focus(),this.step("down",J,He)}up(J,He){this.isFocused||this.focus(),this.step("up",J,He)}getPrecision(J){const He=J.toString();if(He.indexOf("e-")>=0)return parseInt(He.slice(He.indexOf("e-")+2),10);let me=0;return He.indexOf(".")>=0&&(me=He.length-He.indexOf(".")-1),me}getMaxPrecision(J,He){if((0,fe.n9)(this.nzPrecision))return this.nzPrecision;const me=this.getPrecision(He),W=this.getPrecision(this.nzStep),b=this.getPrecision(J);return J?Math.max(b,me+W):me+W}getPrecisionFactor(J,He){const me=this.getMaxPrecision(J,He);return Math.pow(10,me)}upStep(J,He){const me=this.getPrecisionFactor(J,He),W=Math.abs(this.getMaxPrecision(J,He));let b;return b="number"==typeof J?((me*J+me*this.nzStep*He)/me).toFixed(W):this.nzMin===-1/0?this.nzStep:this.nzMin,this.toNumber(b)}downStep(J,He){const me=this.getPrecisionFactor(J,He),W=Math.abs(this.getMaxPrecision(J,He));let b;return b="number"==typeof J?((me*J-me*this.nzStep*He)/me).toFixed(W):this.nzMin===-1/0?-this.nzStep:this.nzMin,this.toNumber(b)}step(J,He,me=1){if(this.stop(),He.preventDefault(),this.nzDisabled)return;const W=this.getCurrentValidValue(this.parsedValue)||0;let b=0;"up"===J?b=this.upStep(W,me):"down"===J&&(b=this.downStep(W,me));const D=b>this.nzMax||b<this.nzMin;b>this.nzMax?b=this.nzMax:b<this.nzMin&&(b=this.nzMin),this.setValue(b),this.updateDisplayValue(b),this.isFocused=!0,!D&&(this.autoStepTimer=setTimeout(()=>{this[J](He,me)},300))}stop(){this.autoStepTimer&&clearTimeout(this.autoStepTimer)}setValue(J){if(`${this.value}`!=`${J}`&&this.onChange(J),this.value=J,this.parsedValue=J,this.disabledUp=this.disabledDown=!1,J||0===J){const He=Number(J);He>=this.nzMax&&(this.disabledUp=!0),He<=this.nzMin&&(this.disabledDown=!0)}}updateDisplayValue(J){const He=(0,fe.n9)(this.nzFormatter(J))?this.nzFormatter(J):"";this.displayValue=He,this.inputElement.nativeElement.value=`${He}`}writeValue(J){this.value=J,this.setValue(J),this.updateDisplayValue(J),this.cdr.markForCheck()}registerOnChange(J){this.onChange=J}registerOnTouched(J){this.onTouched=J}setDisabledState(J){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||J,this.isNzDisableFirstChange=!1,this.disabled$.next(this.nzDisabled),this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(J,He,me,W,b,D,j,Q,ke){this.ngZone=J,this.elementRef=He,this.cdr=me,this.focusMonitor=W,this.renderer=b,this.directionality=D,this.destroy$=j,this.nzFormStatusService=Q,this.nzFormNoStatusService=ke,this.isNzDisableFirstChange=!0,this.isFocused=!1,this.disabled$=new Y.B,this.disabledUp=!1,this.disabledDown=!1,this.dir="ltr",this.prefixCls="ant-input-number",this.status="",this.statusCls={},this.hasFeedback=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzBlur=new m.bkB,this.nzFocus=new m.bkB,this.nzSize="default",this.nzMin=-1/0,this.nzMax=1/0,this.nzParser=Ye=>Ye.trim().replace(/\u3002/g,".").replace(/[^\w\.-]+/g,""),this.nzPrecisionMode="toFixed",this.nzPlaceHolder="",this.nzStatus="",this.nzStep=1,this.nzInputMode="decimal",this.nzId=null,this.nzDisabled=!1,this.nzReadOnly=!1,this.nzAutoFocus=!1,this.nzBorderless=!1,this.nzFormatter=Ye=>Ye}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,re.F)((J,He)=>J.status===He.status&&J.hasFeedback===He.hasFeedback),(0,ue.Q)(this.destroy$)).subscribe(({status:J,hasFeedback:He})=>{this.setStatusStyles(J,He)}),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,ue.Q)(this.destroy$)).subscribe(J=>{J?(this.isFocused=!0,this.nzFocus.emit()):(this.isFocused=!1,this.updateDisplayValue(this.value),this.nzBlur.emit(),Promise.resolve().then(()=>this.onTouched()))}),this.dir=this.directionality.value,this.directionality.change.pipe((0,ue.Q)(this.destroy$)).subscribe(J=>{this.dir=J}),this.setupHandlersListeners(),this.ngZone.runOutsideAngular(()=>{(0,Ve.R)(this.inputElement.nativeElement,"keyup").pipe((0,ue.Q)(this.destroy$)).subscribe(()=>this.stop()),(0,Ve.R)(this.inputElement.nativeElement,"keydown").pipe((0,ue.Q)(this.destroy$)).subscribe(J=>{const{keyCode:He}=J;He!==f.i7&&He!==f.n6&&He!==f.Fm||this.ngZone.run(()=>{if(He===f.i7){const me=this.getRatio(J);this.up(J,me),this.stop()}else if(He===f.n6){const me=this.getRatio(J);this.down(J,me),this.stop()}else this.updateDisplayValue(this.value);this.cdr.markForCheck()})})})}ngOnChanges(J){const{nzStatus:He,nzDisabled:me}=J;if(J.nzFormatter&&!J.nzFormatter.isFirstChange()){const W=this.getCurrentValidValue(this.parsedValue);this.setValue(W),this.updateDisplayValue(W)}me&&this.disabled$.next(this.nzDisabled),He&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef)}setupHandlersListeners(){this.ngZone.runOutsideAngular(()=>{(0,be.h)((0,Ve.R)(this.upHandler.nativeElement,"mouseup"),(0,Ve.R)(this.upHandler.nativeElement,"mouseleave"),(0,Ve.R)(this.downHandler.nativeElement,"mouseup"),(0,Ve.R)(this.downHandler.nativeElement,"mouseleave")).pipe((0,ue.Q)(this.destroy$)).subscribe(()=>this.stop())})}setStatusStyles(J,He){this.status=J,this.hasFeedback=He,this.cdr.markForCheck(),this.statusCls=(0,fe.LP)(this.prefixCls,J,He),Object.keys(this.statusCls).forEach(me=>{this.statusCls[me]?this.renderer.addClass(this.elementRef.nativeElement,me):this.renderer.removeClass(this.elementRef.nativeElement,me)})}static#e=this.\u0275fac=function(He){return new(He||ye)(m.rXU(m.SKi),m.rXU(m.aKT),m.rXU(m.gRc),m.rXU(xe.FN),m.rXU(m.sFG),m.rXU(Fe.dS,8),m.rXU(G.y4),m.rXU(K.is,8),m.rXU(K.n1,8))};static#t=this.\u0275cmp=m.VBU({type:ye,selectors:[["nz-input-number"]],viewQuery:function(He,me){if(1&He&&(m.GBs(Te,7),m.GBs(Z,7),m.GBs(Se,7)),2&He){let W;m.mGM(W=m.lsd())&&(me.upHandler=W.first),m.mGM(W=m.lsd())&&(me.downHandler=W.first),m.mGM(W=m.lsd())&&(me.inputElement=W.first)}},hostAttrs:[1,"ant-input-number"],hostVars:16,hostBindings:function(He,me){2&He&&m.AVh("ant-input-number-in-form-item",!!me.nzFormStatusService)("ant-input-number-focused",me.isFocused)("ant-input-number-lg","large"===me.nzSize)("ant-input-number-sm","small"===me.nzSize)("ant-input-number-disabled",me.nzDisabled)("ant-input-number-readonly",me.nzReadOnly)("ant-input-number-rtl","rtl"===me.dir)("ant-input-number-borderless",me.nzBorderless)},inputs:{nzSize:"nzSize",nzMin:"nzMin",nzMax:"nzMax",nzParser:"nzParser",nzPrecision:"nzPrecision",nzPrecisionMode:"nzPrecisionMode",nzPlaceHolder:"nzPlaceHolder",nzStatus:"nzStatus",nzStep:"nzStep",nzInputMode:"nzInputMode",nzId:"nzId",nzDisabled:"nzDisabled",nzReadOnly:"nzReadOnly",nzAutoFocus:"nzAutoFocus",nzBorderless:"nzBorderless",nzFormatter:"nzFormatter"},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzInputNumber"],standalone:!0,features:[m.Jv_([{provide:v.kq,useExisting:(0,m.Rfq)(()=>ye),multi:!0},G.y4]),m.OA$,m.aNF],decls:11,vars:15,consts:[["upHandler",""],["downHandler",""],["inputElement",""],[1,"ant-input-number-handler-wrap"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["nz-icon","","nzType","up",1,"ant-input-number-handler-up-inner"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nz-icon","","nzType","down",1,"ant-input-number-handler-down-inner"],[1,"ant-input-number-input-wrap"],["autocomplete","off",1,"ant-input-number-input",3,"ngModelChange","disabled","placeholder","readOnly","ngModel"],[1,"ant-input-number-suffix",3,"status"]],template:function(He,me){if(1&He){const W=m.RV6();m.j41(0,"div",3)(1,"span",4,0),m.bIt("mousedown",function(D){return m.eBV(W),m.Njj(me.up(D))}),m.nrm(3,"span",5),m.k0s(),m.j41(4,"span",6,1),m.bIt("mousedown",function(D){return m.eBV(W),m.Njj(me.down(D))}),m.nrm(6,"span",7),m.k0s()(),m.j41(7,"div",8)(8,"input",9,2),m.bIt("ngModelChange",function(D){return m.eBV(W),m.Njj(me.onModelChange(D))}),m.k0s()(),m.DNE(10,ae,1,1,"nz-form-item-feedback-icon",10)}2&He&&(m.R7$(),m.AVh("ant-input-number-handler-up-disabled",me.disabledUp),m.R7$(3),m.AVh("ant-input-number-handler-down-disabled",me.disabledDown),m.R7$(4),m.Y8G("disabled",me.nzDisabled)("placeholder",me.nzPlaceHolder)("readOnly",me.nzReadOnly)("ngModel",me.displayValue),m.BMQ("id",me.nzId)("autofocus",me.nzAutoFocus?"autofocus":null)("min",me.nzMin)("max",me.nzMax)("step",me.nzStep)("inputmode",me.nzInputMode),m.R7$(2),m.vxM(10,me.hasFeedback&&me.status&&!me.nzFormNoStatusService?10:-1))},dependencies:[ze.Y3,ze.Dn,v.YN,v.me,v.BC,v.vS,K.J1,K.Xd],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,fe.H3)()],ye.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,fe.H3)()],ye.prototype,"nzReadOnly",void 0),(0,t.Cg)([(0,fe.H3)()],ye.prototype,"nzAutoFocus",void 0),(0,t.Cg)([(0,fe.H3)()],ye.prototype,"nzBorderless",void 0),ye})(),Wt=(()=>{class ye{constructor(){this.icon=null,this.type=null,this.template=null}static#e=this.\u0275fac=function(He){return new(He||ye)};static#t=this.\u0275cmp=m.VBU({type:ye,selectors:[["","nz-input-number-group-slot",""]],hostVars:6,hostBindings:function(He,me){2&He&&m.AVh("ant-input-number-group-addon","addon"===me.type)("ant-input-number-prefix","prefix"===me.type)("ant-input-number-suffix","suffix"===me.type)},inputs:{icon:"icon",type:"type",template:"template"},standalone:!0,features:[m.aNF],attrs:Ze,ngContentSelectors:Pe,decls:3,vars:2,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"]],template:function(He,me){1&He&&(m.NAR(),m.DNE(0,We,1,1,"span",0)(1,qe,2,1,"ng-container",1),m.SdG(2)),2&He&&(m.vxM(0,me.icon?0:-1),m.R7$(),m.Y8G("nzStringTemplateOutlet",me.template))},dependencies:[ze.Y3,ze.Dn,Ge.C,Ge.m],encapsulation:2,changeDetection:0})}return ye})(),lt=(()=>{class ye{constructor(J,He,me,W,b,D,j){this.focusMonitor=J,this.elementRef=He,this.renderer=me,this.cdr=W,this.directionality=b,this.nzFormStatusService=D,this.nzFormNoStatusService=j,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input-number",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new Y.B}updateChildrenInputSize(){this.listOfNzInputNumberComponent&&this.listOfNzInputNumberComponent.forEach(J=>J.nzSize=this.nzSize)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,re.F)((J,He)=>J.status===He.status&&J.hasFeedback===He.hasFeedback),(0,ue.Q)(this.destroy$)).subscribe(({status:J,hasFeedback:He})=>{this.setStatusStyles(J,He)}),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,ue.Q)(this.destroy$)).subscribe(J=>{this.focused=!!J,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,ue.Q)(this.destroy$)).subscribe(J=>{this.dir=J})}ngAfterContentInit(){this.updateChildrenInputSize();const J=this.listOfNzInputNumberComponent.changes.pipe((0,X.Z)(this.listOfNzInputNumberComponent));J.pipe((0,ee.n)(He=>(0,be.h)(J,...He.map(me=>me.disabled$))),(0,le.Z)(()=>J),(0,pe.T)(He=>He.some(me=>me.nzDisabled)),(0,ue.Q)(this.destroy$)).subscribe(He=>{this.disabled=He,this.cdr.markForCheck()})}ngOnChanges(J){const{nzSize:He,nzSuffix:me,nzPrefix:W,nzPrefixIcon:b,nzSuffixIcon:D,nzAddOnAfter:j,nzAddOnBefore:Q,nzAddOnAfterIcon:ke,nzAddOnBeforeIcon:Ye,nzStatus:dt}=J;He&&(this.updateChildrenInputSize(),this.isLarge="large"===this.nzSize,this.isSmall="small"===this.nzSize),(me||W||b||D)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(j||Q||ke||Ye)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),dt&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(J,He){this.status=J,this.hasFeedback=He,this.isFeedback=!!J&&He,this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)||!this.isAddOn&&He,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=(0,fe.LP)(`${this.prefixCls}-affix-wrapper`,J,He):{},this.cdr.markForCheck(),this.affixStatusCls=(0,fe.LP)(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":J,!this.isAddOn&&He),this.groupStatusCls=(0,fe.LP)(`${this.prefixCls}-group-wrapper`,this.isAddOn?J:"",!!this.isAddOn&&He);const W={...this.affixStatusCls,...this.groupStatusCls};Object.keys(W).forEach(b=>{W[b]?this.renderer.addClass(this.elementRef.nativeElement,b):this.renderer.removeClass(this.elementRef.nativeElement,b)})}static#e=this.\u0275fac=function(He){return new(He||ye)(m.rXU(xe.FN),m.rXU(m.aKT),m.rXU(m.sFG),m.rXU(m.gRc),m.rXU(Fe.dS,8),m.rXU(K.is,8),m.rXU(K.n1,8))};static#t=this.\u0275cmp=m.VBU({type:ye,selectors:[["nz-input-number-group"]],contentQueries:function(He,me,W){if(1&He&&m.wni(W,At,5),2&He){let b;m.mGM(b=m.lsd())&&(me.listOfNzInputNumberComponent=b)}},hostVars:24,hostBindings:function(He,me){2&He&&m.AVh("ant-input-number-group",me.nzCompact)("ant-input-number-group-compact",me.nzCompact)("ant-input-number-group-wrapper",me.isAddOn)("ant-input-number-group-wrapper-rtl",me.isAddOn&&"rtl"===me.dir)("ant-input-number-group-wrapper-lg",me.isAddOn&&me.isLarge)("ant-input-number-group-wrapper-sm",me.isAddOn&&me.isSmall)("ant-input-number-affix-wrapper",!me.isAddOn&&me.isAffix)("ant-input-number-affix-wrapper-rtl",!me.isAddOn&&"rtl"===me.dir)("ant-input-number-affix-wrapper-focused",!me.isAddOn&&me.isAffix&&me.focused)("ant-input-number-affix-wrapper-disabled",!me.isAddOn&&me.isAffix&&me.disabled)("ant-input-number-affix-wrapper-lg",!me.isAddOn&&me.isAffix&&me.isLarge)("ant-input-number-affix-wrapper-sm",!me.isAddOn&&me.isAffix&&me.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzCompact:"nzCompact"},exportAs:["nzInputNumberGroup"],standalone:!0,features:[m.Jv_([K.n1]),m.OA$,m.aNF],ngContentSelectors:Pe,decls:6,vars:1,consts:[["affixTemplate",""],["contentTemplate",""],[1,"ant-input-number-wrapper","ant-input-number-group"],["nz-input-number-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-number-affix-wrapper",3,"ant-input-number-affix-wrapper-disabled","ant-input-number-affix-wrapper-sm","ant-input-number-affix-wrapper-lg","ant-input-number-affix-wrapper-focused","ngClass"],[1,"ant-input-number-affix-wrapper",3,"ngClass"],[3,"ngTemplateOutlet"],["nz-input-number-group-slot","","type","prefix",3,"icon","template"],["nz-input-number-group-slot","","type","suffix",3,"icon","template"],[3,"status"],["nz-input-number-group-slot","","type","suffix"]],template:function(He,me){1&He&&(m.NAR(),m.DNE(0,mt,5,3,"span",2)(1,nt,2,1)(2,Oe,3,3,"ng-template",null,0,m.C5r)(4,Pt,2,1,"ng-template",null,1,m.C5r)),2&He&&m.vxM(0,me.isAddOn?0:1)},dependencies:[Wt,he.YU,he.T3,K.J1,K.Xd],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,fe.H3)()],ye.prototype,"nzCompact",void 0),ye})(),Mt=(()=>{class ye{static#e=this.\u0275fac=function(He){return new(He||ye)};static#t=this.\u0275mod=m.$C({type:ye});static#n=this.\u0275inj=m.G2t({imports:[At,lt,Wt]})}return ye})()},1011:(Lt,ct,C)=>{"use strict";C.d(ct,{F8:()=>Wt,Sy:()=>je,j:()=>qt,tg:()=>Pt,vN:()=>vt});var t=C(1635),f=C(177),m=C(4438),v=C(1413),Y=C(7786),Ve=C(983),be=C(3294),re=C(6977),ue=C(5964),X=C(9172),ee=C(5558),le=C(1397),pe=C(6354),K=C(7891),G=C(317),fe=C(7806),ze=C(5103),xe=C(4341),Fe=C(8203),Ge=C(851);const he=["nz-input-group-slot",""],Te=["*"];function Z(lt,Mt){if(1&lt&&m.nrm(0,"span",0),2&lt){const ye=m.XpG();m.Y8G("nzType",ye.icon)}}function Se(lt,Mt){if(1&lt&&(m.qex(0),m.EFF(1),m.bVm()),2&lt){const ye=m.XpG();m.R7$(),m.JRh(ye.template)}}function ae(lt,Mt){if(1&lt&&m.nrm(0,"span",3),2&lt){const ye=m.XpG(2);m.Y8G("icon",ye.nzAddOnBeforeIcon)("template",ye.nzAddOnBefore)}}function Ze(lt,Mt){}function Pe(lt,Mt){if(1&lt&&(m.j41(0,"span",5),m.DNE(1,Ze,0,0,"ng-template",6),m.k0s()),2&lt){const ye=m.XpG(2),st=m.sdS(3);m.AVh("ant-input-affix-wrapper-disabled",ye.disabled)("ant-input-affix-wrapper-sm",ye.isSmall)("ant-input-affix-wrapper-lg",ye.isLarge)("ant-input-affix-wrapper-focused",ye.focused),m.Y8G("ngClass",ye.affixInGroupStatusCls),m.R7$(),m.Y8G("ngTemplateOutlet",st)}}function We(lt,Mt){}function qe(lt,Mt){if(1&lt&&m.DNE(0,We,0,0,"ng-template",6),2&lt){m.XpG(2);const ye=m.sdS(5);m.Y8G("ngTemplateOutlet",ye)}}function Be(lt,Mt){if(1&lt&&m.nrm(0,"span",3),2&lt){const ye=m.XpG(2);m.Y8G("icon",ye.nzAddOnAfterIcon)("template",ye.nzAddOnAfter)}}function tt(lt,Mt){if(1&lt&&(m.j41(0,"span",2),m.DNE(1,ae,1,2,"span",3)(2,Pe,2,10,"span",4)(3,qe,1,1)(4,Be,1,2,"span",3),m.k0s()),2&lt){const ye=m.XpG();m.R7$(),m.vxM(1,ye.nzAddOnBefore||ye.nzAddOnBeforeIcon?1:-1),m.R7$(),m.vxM(2,ye.isAffix||ye.hasFeedback?2:3),m.R7$(2),m.vxM(4,ye.nzAddOnAfter||ye.nzAddOnAfterIcon?4:-1)}}function Xe(lt,Mt){}function pt(lt,Mt){if(1&lt&&m.DNE(0,Xe,0,0,"ng-template",6),2&lt){m.XpG(2);const ye=m.sdS(3);m.Y8G("ngTemplateOutlet",ye)}}function et(lt,Mt){}function Le(lt,Mt){if(1&lt&&m.DNE(0,et,0,0,"ng-template",6),2&lt){m.XpG(2);const ye=m.sdS(5);m.Y8G("ngTemplateOutlet",ye)}}function mt(lt,Mt){if(1&lt&&m.DNE(0,pt,1,1,null,6)(1,Le,1,1),2&lt){const ye=m.XpG();m.vxM(0,ye.isAffix?0:1)}}function ht(lt,Mt){if(1&lt&&m.nrm(0,"span",7),2&lt){const ye=m.XpG(2);m.Y8G("icon",ye.nzPrefixIcon)("template",ye.nzPrefix)}}function xt(lt,Mt){}function Gt(lt,Mt){if(1&lt&&m.nrm(0,"nz-form-item-feedback-icon",9),2&lt){const ye=m.XpG(3);m.Y8G("status",ye.status)}}function Me(lt,Mt){if(1&lt&&(m.j41(0,"span",8),m.DNE(1,Gt,1,1,"nz-form-item-feedback-icon",9),m.k0s()),2&lt){const ye=m.XpG(2);m.Y8G("icon",ye.nzSuffixIcon)("template",ye.nzSuffix),m.R7$(),m.vxM(1,ye.isFeedback?1:-1)}}function nt(lt,Mt){if(1&lt&&m.DNE(0,ht,1,2,"span",7)(1,xt,0,0,"ng-template",6)(2,Me,2,3,"span",8),2&lt){const ye=m.XpG(),st=m.sdS(5);m.vxM(0,ye.nzPrefix||ye.nzPrefixIcon?0:-1),m.R7$(),m.Y8G("ngTemplateOutlet",st),m.R7$(),m.vxM(2,ye.nzSuffix||ye.nzSuffixIcon||ye.isFeedback?2:-1)}}function ie(lt,Mt){if(1&lt&&(m.j41(0,"span",10),m.nrm(1,"nz-form-item-feedback-icon",9),m.k0s()),2&lt){const ye=m.XpG(2);m.R7$(),m.Y8G("status",ye.status)}}function F(lt,Mt){if(1&lt&&(m.SdG(0),m.DNE(1,ie,2,1,"span",10)),2&lt){const ye=m.XpG();m.R7$(),m.vxM(1,ye.isAddOn||ye.isAffix||!ye.isFeedback?-1:1)}}const _e=[[["textarea","nz-input",""]]],ne=["textarea[nz-input]"];let Oe=(()=>{class lt{constructor(){this.icon=null,this.type=null,this.template=null}static#e=this.\u0275fac=function(st){return new(st||lt)};static#t=this.\u0275cmp=m.VBU({type:lt,selectors:[["","nz-input-group-slot",""]],hostVars:6,hostBindings:function(st,J){2&st&&m.AVh("ant-input-group-addon","addon"===J.type)("ant-input-prefix","prefix"===J.type)("ant-input-suffix","suffix"===J.type)},inputs:{icon:"icon",type:"type",template:"template"},standalone:!0,features:[m.aNF],attrs:he,ngContentSelectors:Te,decls:3,vars:2,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"]],template:function(st,J){1&st&&(m.NAR(),m.DNE(0,Z,1,1,"span",0)(1,Se,2,1,"ng-container",1),m.SdG(2)),2&st&&(m.vxM(0,J.icon?0:-1),m.R7$(),m.Y8G("nzStringTemplateOutlet",J.template))},dependencies:[ze.Y3,ze.Dn,fe.C,fe.m],encapsulation:2,changeDetection:0})}return lt})(),je=(()=>{class lt{get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(ye){this._disabled=null!=ye&&"false"!=`${ye}`}constructor(ye,st,J,He,me,W,b){this.ngControl=ye,this.renderer=st,this.elementRef=J,this.hostView=He,this.directionality=me,this.nzFormStatusService=W,this.nzFormNoStatusService=b,this.nzBorderless=!1,this.nzSize="default",this.nzStepperless=!0,this.nzStatus="",this._disabled=!1,this.disabled$=new v.B,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.destroy$=new v.B}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,be.F)((ye,st)=>ye.status===st.status&&ye.hasFeedback===st.hasFeedback),(0,re.Q)(this.destroy$)).subscribe(({status:ye,hasFeedback:st})=>{this.setStatusStyles(ye,st)}),this.ngControl&&this.ngControl.statusChanges?.pipe((0,ue.p)(()=>null!==this.ngControl.disabled),(0,re.Q)(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,re.Q)(this.destroy$)).subscribe(ye=>{this.dir=ye})}ngOnChanges(ye){const{disabled:st,nzStatus:J}=ye;st&&this.disabled$.next(this.disabled),J&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusStyles(ye,st){this.status=ye,this.hasFeedback=st,this.renderFeedbackIcon(),this.statusCls=(0,G.LP)(this.prefixCls,ye,st),Object.keys(this.statusCls).forEach(J=>{this.statusCls[J]?this.renderer.addClass(this.elementRef.nativeElement,J):this.renderer.removeClass(this.elementRef.nativeElement,J)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService)return this.hostView.clear(),void(this.feedbackRef=null);this.feedbackRef=this.feedbackRef||this.hostView.createComponent(K.Xd),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}static#e=this.\u0275fac=function(st){return new(st||lt)(m.rXU(xe.vO,10),m.rXU(m.sFG),m.rXU(m.aKT),m.rXU(m.c1b),m.rXU(Fe.dS,8),m.rXU(K.is,8),m.rXU(K.n1,8))};static#t=this.\u0275dir=m.FsC({type:lt,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostAttrs:[1,"ant-input"],hostVars:13,hostBindings:function(st,J){2&st&&(m.BMQ("disabled",J.disabled||null),m.AVh("ant-input-disabled",J.disabled)("ant-input-borderless",J.nzBorderless)("ant-input-lg","large"===J.nzSize)("ant-input-sm","small"===J.nzSize)("ant-input-rtl","rtl"===J.dir)("ant-input-stepperless",J.nzStepperless))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",nzStepperless:"nzStepperless",nzStatus:"nzStatus",disabled:"disabled"},exportAs:["nzInput"],standalone:!0,features:[m.OA$]})}return(0,t.Cg)([(0,G.H3)()],lt.prototype,"nzBorderless",void 0),(0,t.Cg)([(0,G.H3)()],lt.prototype,"nzStepperless",void 0),lt})(),vt=(()=>{class lt{constructor(ye){this.elementRef=ye}static#e=this.\u0275fac=function(st){return new(st||lt)(m.rXU(m.aKT))};static#t=this.\u0275dir=m.FsC({type:lt,selectors:[["nz-input-group","nzSuffix",""],["nz-input-group","nzPrefix",""]],standalone:!0})}return lt})(),Pt=(()=>{class lt{constructor(ye,st,J,He,me,W,b){this.focusMonitor=ye,this.elementRef=st,this.renderer=J,this.cdr=He,this.directionality=me,this.nzFormStatusService=W,this.nzFormNoStatusService=b,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzSearch=!1,this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new v.B}updateChildrenInputSize(){this.listOfNzInputDirective&&this.listOfNzInputDirective.forEach(ye=>ye.nzSize=this.nzSize)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,be.F)((ye,st)=>ye.status===st.status&&ye.hasFeedback===st.hasFeedback),(0,re.Q)(this.destroy$)).subscribe(({status:ye,hasFeedback:st})=>{this.setStatusStyles(ye,st)}),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,re.Q)(this.destroy$)).subscribe(ye=>{this.focused=!!ye,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,re.Q)(this.destroy$)).subscribe(ye=>{this.dir=ye})}ngAfterContentInit(){this.updateChildrenInputSize();const ye=this.listOfNzInputDirective.changes.pipe((0,X.Z)(this.listOfNzInputDirective));ye.pipe((0,ee.n)(st=>(0,Y.h)(ye,...st.map(J=>J.disabled$))),(0,le.Z)(()=>ye),(0,pe.T)(st=>st.some(J=>J.disabled)),(0,re.Q)(this.destroy$)).subscribe(st=>{this.disabled=st,this.cdr.markForCheck()})}ngOnChanges(ye){const{nzSize:st,nzSuffix:J,nzPrefix:He,nzPrefixIcon:me,nzSuffixIcon:W,nzAddOnAfter:b,nzAddOnBefore:D,nzAddOnAfterIcon:j,nzAddOnBeforeIcon:Q,nzStatus:ke}=ye;st&&(this.updateChildrenInputSize(),this.isLarge="large"===this.nzSize,this.isSmall="small"===this.nzSize),(J||He||me||W)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(b||D||j||Q)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),ke&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(ye,st){this.status=ye,this.hasFeedback=st,this.isFeedback=!!ye&&st,this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)||!this.isAddOn&&st,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=(0,G.LP)(`${this.prefixCls}-affix-wrapper`,ye,st):{},this.cdr.markForCheck(),this.affixStatusCls=(0,G.LP)(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":ye,!this.isAddOn&&st),this.groupStatusCls=(0,G.LP)(`${this.prefixCls}-group-wrapper`,this.isAddOn?ye:"",!!this.isAddOn&&st);const He={...this.affixStatusCls,...this.groupStatusCls};Object.keys(He).forEach(me=>{He[me]?this.renderer.addClass(this.elementRef.nativeElement,me):this.renderer.removeClass(this.elementRef.nativeElement,me)})}static#e=this.\u0275fac=function(st){return new(st||lt)(m.rXU(Ge.FN),m.rXU(m.aKT),m.rXU(m.sFG),m.rXU(m.gRc),m.rXU(Fe.dS,8),m.rXU(K.is,8),m.rXU(K.n1,8))};static#t=this.\u0275cmp=m.VBU({type:lt,selectors:[["nz-input-group"]],contentQueries:function(st,J,He){if(1&st&&m.wni(He,je,4),2&st){let me;m.mGM(me=m.lsd())&&(J.listOfNzInputDirective=me)}},hostVars:40,hostBindings:function(st,J){2&st&&m.AVh("ant-input-group-compact",J.nzCompact)("ant-input-search-enter-button",J.nzSearch)("ant-input-search",J.nzSearch)("ant-input-search-rtl","rtl"===J.dir)("ant-input-search-sm",J.nzSearch&&J.isSmall)("ant-input-search-large",J.nzSearch&&J.isLarge)("ant-input-group-wrapper",J.isAddOn)("ant-input-group-wrapper-rtl","rtl"===J.dir)("ant-input-group-wrapper-lg",J.isAddOn&&J.isLarge)("ant-input-group-wrapper-sm",J.isAddOn&&J.isSmall)("ant-input-affix-wrapper",J.isAffix&&!J.isAddOn)("ant-input-affix-wrapper-rtl","rtl"===J.dir)("ant-input-affix-wrapper-focused",J.isAffix&&J.focused)("ant-input-affix-wrapper-disabled",J.isAffix&&J.disabled)("ant-input-affix-wrapper-lg",J.isAffix&&!J.isAddOn&&J.isLarge)("ant-input-affix-wrapper-sm",J.isAffix&&!J.isAddOn&&J.isSmall)("ant-input-group",!J.isAffix&&!J.isAddOn)("ant-input-group-rtl","rtl"===J.dir)("ant-input-group-lg",!J.isAffix&&!J.isAddOn&&J.isLarge)("ant-input-group-sm",!J.isAffix&&!J.isAddOn&&J.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzSearch:"nzSearch",nzCompact:"nzCompact"},exportAs:["nzInputGroup"],standalone:!0,features:[m.Jv_([K.n1]),m.OA$,m.aNF],ngContentSelectors:Te,decls:6,vars:1,consts:[["affixTemplate",""],["contentTemplate",""],[1,"ant-input-wrapper","ant-input-group"],["nz-input-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-affix-wrapper",3,"ant-input-affix-wrapper-disabled","ant-input-affix-wrapper-sm","ant-input-affix-wrapper-lg","ant-input-affix-wrapper-focused","ngClass"],[1,"ant-input-affix-wrapper",3,"ngClass"],[3,"ngTemplateOutlet"],["nz-input-group-slot","","type","prefix",3,"icon","template"],["nz-input-group-slot","","type","suffix",3,"icon","template"],[3,"status"],["nz-input-group-slot","","type","suffix"]],template:function(st,J){1&st&&(m.NAR(),m.DNE(0,tt,5,3,"span",2)(1,mt,2,1)(2,nt,3,3,"ng-template",null,0,m.C5r)(4,F,2,1,"ng-template",null,1,m.C5r)),2&st&&m.vxM(0,J.isAddOn?0:1)},dependencies:[Oe,f.YU,f.T3,K.J1,K.Xd],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,G.H3)()],lt.prototype,"nzSearch",void 0),(0,t.Cg)([(0,G.H3)()],lt.prototype,"nzCompact",void 0),lt})(),Wt=(()=>{class lt{constructor(ye,st){this.renderer=ye,this.elementRef=st,this.nzMaxCharacterCount=0,this.nzComputeCharacterCount=J=>J.length,this.nzFormatter=(J,He)=>`${J}${He>0?`/${He}`:""}`,this.configChange$=new v.B,this.destroy$=new v.B}ngAfterContentInit(){if(!this.nzInputDirective&&(0,m.naY)())throw new Error("[nz-textarea-count]: Could not find matching textarea[nz-input] child.");this.nzInputDirective.ngControl&&(0,Y.h)(this.nzInputDirective.ngControl.valueChanges||Ve.w,this.configChange$).pipe((0,re.Q)(this.destroy$),(0,pe.T)(()=>this.nzInputDirective.ngControl.value),(0,X.Z)(this.nzInputDirective.ngControl.value)).subscribe(st=>{this.setDataCount(st)})}setDataCount(ye){const st=(0,G.n9)(ye)?String(ye):"",J=this.nzComputeCharacterCount(st),He=this.nzFormatter(J,this.nzMaxCharacterCount);this.renderer.setAttribute(this.elementRef.nativeElement,"data-count",He)}ngOnDestroy(){this.configChange$.complete(),this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(st){return new(st||lt)(m.rXU(m.sFG),m.rXU(m.aKT))};static#t=this.\u0275cmp=m.VBU({type:lt,selectors:[["nz-textarea-count"]],contentQueries:function(st,J,He){if(1&st&&m.wni(He,je,7),2&st){let me;m.mGM(me=m.lsd())&&(J.nzInputDirective=me.first)}},hostAttrs:[1,"ant-input-textarea-show-count"],inputs:{nzMaxCharacterCount:"nzMaxCharacterCount",nzComputeCharacterCount:"nzComputeCharacterCount",nzFormatter:"nzFormatter"},standalone:!0,features:[m.aNF],ngContentSelectors:ne,decls:1,vars:0,template:function(st,J){1&st&&(m.NAR(_e),m.SdG(0))},encapsulation:2,changeDetection:0})}return lt})(),qt=(()=>{class lt{static#e=this.\u0275fac=function(st){return new(st||lt)};static#t=this.\u0275mod=m.$C({type:lt});static#n=this.\u0275inj=m.G2t({imports:[Pt,Oe]})}return lt})()},1868:(Lt,ct,C)=>{"use strict";C.d(ct,{$1:()=>st,CU:()=>He,GP:()=>Yt,ek:()=>Mt,jS:()=>dt,sD:()=>wt});var t=C(1635),f=C(4438),m=C(1413),v=C(4412),Y=C(7786),Ve=C(4572),be=C(6354),re=C(1397),ue=C(5964),X=C(3703),ee=C(3798),le=C(3294),pe=C(6977),K=C(9172),G=C(5558),fe=C(317),ze=C(6530),xe=C(8203),Fe=C(6969),Ge=C(6841),he=C(5463),Te=C(177),Z=C(713),Se=C(7806),ae=C(5103),Ze=C(6860);const Pe=["nz-menu-item",""],We=["*"],qe=["nz-submenu-inline-child",""];function Be(rt,Ht){}const tt=["nz-submenu-none-inline-child",""];function Xe(rt,Ht){}const pt=["nz-submenu-title",""];function et(rt,Ht){if(1&rt&&f.nrm(0,"span",0),2&rt){const Ee=f.XpG();f.Y8G("nzType",Ee.nzIcon)}}function Le(rt,Ht){if(1&rt&&(f.qex(0),f.j41(1,"span",3),f.EFF(2),f.k0s(),f.bVm()),2&rt){const Ee=f.XpG();f.R7$(2),f.JRh(Ee.nzTitle)}}function mt(rt,Ht){1&rt&&f.nrm(0,"span",4)}function ht(rt,Ht){1&rt&&f.nrm(0,"span",5)}function xt(rt,Ht){if(1&rt&&(f.j41(0,"span",2),f.DNE(1,mt,1,0)(2,ht,1,0),f.k0s()),2&rt){let Ee;const Je=f.XpG();f.R7$(),f.vxM(1,"rtl"===(Ee=Je.dir)?1:2)}}function Gt(rt,Ht){1&rt&&f.nrm(0,"span",6)}const Me=["nz-submenu",""],nt=[[["","title",""]],"*"],ie=["[title]","*"];function F(rt,Ht){1&rt&&f.SdG(0)}function _e(rt,Ht){if(1&rt&&f.nrm(0,"div",3),2&rt){const Ee=f.XpG(),Je=f.sdS(6);f.Y8G("mode",Ee.mode)("nzOpen",Ee.nzOpen)("@.disabled",!(null==Ee.noAnimation||!Ee.noAnimation.nzNoAnimation))("nzNoAnimation",null==Ee.noAnimation?null:Ee.noAnimation.nzNoAnimation)("menuClass",Ee.nzMenuClassName)("templateOutlet",Je)}}function ne(rt,Ht){if(1&rt){const Ee=f.RV6();f.j41(0,"div",5),f.bIt("subMenuMouseState",function(Ie){f.eBV(Ee);const It=f.XpG(2);return f.Njj(It.setMouseEnterState(Ie))}),f.k0s()}if(2&rt){const Ee=f.XpG(2),Je=f.sdS(6);f.Y8G("theme",Ee.theme)("mode",Ee.mode)("nzOpen",Ee.nzOpen)("position",Ee.position)("nzDisabled",Ee.nzDisabled)("isMenuInsideDropDown",Ee.isMenuInsideDropDown)("templateOutlet",Je)("menuClass",Ee.nzMenuClassName)("@.disabled",!(null==Ee.noAnimation||!Ee.noAnimation.nzNoAnimation))("nzNoAnimation",null==Ee.noAnimation?null:Ee.noAnimation.nzNoAnimation)}}function Oe(rt,Ht){if(1&rt){const Ee=f.RV6();f.DNE(0,ne,1,10,"ng-template",4),f.bIt("positionChange",function(Ie){f.eBV(Ee);const It=f.XpG();return f.Njj(It.onPositionChange(Ie))})}if(2&rt){const Ee=f.XpG(),Je=f.sdS(1);f.Y8G("cdkConnectedOverlayPositions",Ee.overlayPositions)("cdkConnectedOverlayOrigin",Je)("cdkConnectedOverlayWidth",Ee.triggerWidth)("cdkConnectedOverlayOpen",Ee.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function je(rt,Ht){1&rt&&f.SdG(0,1)}const vt=["titleElement"],Pt=["nz-menu-group",""],At=["*",[["","title",""]]],Wt=["*","[title]"];function qt(rt,Ht){if(1&rt&&(f.qex(0),f.EFF(1),f.bVm()),2&rt){const Ee=f.XpG();f.R7$(),f.JRh(Ee.nzTitle)}}function lt(rt,Ht){1&rt&&f.SdG(0,1)}const Mt=new f.nKC("NzIsInDropDownMenuToken"),ye=new f.nKC("NzMenuServiceLocalToken");let st=(()=>{class rt{constructor(){this.descendantMenuItemClick$=new m.B,this.childMenuItemClick$=new m.B,this.theme$=new v.t("light"),this.mode$=new v.t("vertical"),this.inlineIndent$=new v.t(24),this.isChildSubMenuOpen$=new v.t(!1)}onDescendantMenuItemClick(Ee){this.descendantMenuItemClick$.next(Ee)}onChildMenuItemClick(Ee){this.childMenuItemClick$.next(Ee)}setMode(Ee){this.mode$.next(Ee)}setTheme(Ee){this.theme$.next(Ee)}setInlineIndent(Ee){this.inlineIndent$.next(Ee)}static#e=this.\u0275fac=function(Je){return new(Je||rt)};static#t=this.\u0275prov=f.jDH({token:rt,factory:rt.\u0275fac})}return rt})(),J=(()=>{class rt{onChildMenuItemClick(Ee){this.childMenuItemClick$.next(Ee)}setOpenStateWithoutDebounce(Ee){this.isCurrentSubMenuOpen$.next(Ee)}setMouseEnterTitleOrOverlayState(Ee){this.isMouseEnterTitleOrOverlay$.next(Ee)}constructor(Ee,Je,Ie){this.nzHostSubmenuService=Ee,this.nzMenuService=Je,this.isMenuInsideDropDown=Ie,this.mode$=this.nzMenuService.mode$.pipe((0,be.T)(Ft=>"inline"===Ft?"inline":"vertical"===Ft||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new v.t(!1),this.isChildSubMenuOpen$=new v.t(!1),this.isMouseEnterTitleOrOverlay$=new m.B,this.childMenuItemClick$=new m.B,this.destroy$=new m.B,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);const It=this.childMenuItemClick$.pipe((0,re.Z)(()=>this.mode$),(0,ue.p)(Ft=>"inline"!==Ft||this.isMenuInsideDropDown),(0,X.u)(!1)),Rt=(0,Y.h)(this.isMouseEnterTitleOrOverlay$,It);(0,Ve.z)([this.isChildSubMenuOpen$,Rt]).pipe((0,be.T)(([Ft,en])=>Ft||en),(0,ee.Z)(150),(0,le.F)(),(0,pe.Q)(this.destroy$)).pipe((0,le.F)()).subscribe(Ft=>{this.setOpenStateWithoutDebounce(Ft),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(Ft):this.nzMenuService.isChildSubMenuOpen$.next(Ft)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Je){return new(Je||rt)(f.KVO(rt,12),f.KVO(st),f.KVO(Mt))};static#t=this.\u0275prov=f.jDH({token:rt,factory:rt.\u0275fac})}return rt})(),He=(()=>{class rt{clickMenuItem(Ee){this.nzDisabled?(Ee.preventDefault(),Ee.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(Ee){this.nzSelected=Ee,this.selected$.next(Ee)}updateRouterActive(){!this.listOfRouterLink||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{const Ee=this.hasActiveLinks();this.nzSelected!==Ee&&(this.nzSelected=Ee,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){const Ee=this.isLinkActive(this.router);return this.routerLink&&Ee(this.routerLink)||this.listOfRouterLink.some(Ee)}isLinkActive(Ee){return Je=>Ee.isActive(Je.urlTree||"",{paths:this.nzMatchRouterExact?"exact":"subset",queryParams:this.nzMatchRouterExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}constructor(Ee,Je,Ie,It,Rt,Ot,Ft){this.nzMenuService=Ee,this.cdr=Je,this.nzSubmenuService=Ie,this.isMenuInsideDropDown=It,this.directionality=Rt,this.routerLink=Ot,this.router=Ft,this.destroy$=new m.B,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new m.B,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,Ft&&this.router.events.pipe((0,pe.Q)(this.destroy$),(0,ue.p)(en=>en instanceof ze.wF)).subscribe(()=>{this.updateRouterActive()})}ngOnInit(){(0,Ve.z)([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,pe.Q)(this.destroy$)).subscribe(([Ee,Je])=>{this.inlinePaddingLeft="inline"===Ee?this.level*Je:null}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,pe.Q)(this.destroy$)).subscribe(Ee=>{this.dir=Ee})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe((0,pe.Q)(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(Ee){Ee.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(Je){return new(Je||rt)(f.rXU(st),f.rXU(f.gRc),f.rXU(J,8),f.rXU(Mt),f.rXU(xe.dS,8),f.rXU(ze.Wk,8),f.rXU(ze.Ix,8))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-menu-item",""]],contentQueries:function(Je,Ie,It){if(1&Je&&f.wni(It,ze.Wk,5),2&Je){let Rt;f.mGM(Rt=f.lsd())&&(Ie.listOfRouterLink=Rt)}},hostVars:20,hostBindings:function(Je,Ie){1&Je&&f.bIt("click",function(Rt){return Ie.clickMenuItem(Rt)}),2&Je&&(f.xc7("padding-left","rtl"===Ie.dir?null:Ie.nzPaddingLeft||Ie.inlinePaddingLeft,"px")("padding-right","rtl"===Ie.dir?Ie.nzPaddingLeft||Ie.inlinePaddingLeft:null,"px"),f.AVh("ant-dropdown-menu-item",Ie.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",Ie.isMenuInsideDropDown&&Ie.nzSelected)("ant-dropdown-menu-item-danger",Ie.isMenuInsideDropDown&&Ie.nzDanger)("ant-dropdown-menu-item-disabled",Ie.isMenuInsideDropDown&&Ie.nzDisabled)("ant-menu-item",!Ie.isMenuInsideDropDown)("ant-menu-item-selected",!Ie.isMenuInsideDropDown&&Ie.nzSelected)("ant-menu-item-danger",!Ie.isMenuInsideDropDown&&Ie.nzDanger)("ant-menu-item-disabled",!Ie.isMenuInsideDropDown&&Ie.nzDisabled))},inputs:{nzPaddingLeft:"nzPaddingLeft",nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter"},exportAs:["nzMenuItem"],standalone:!0,features:[f.OA$,f.aNF],attrs:Pe,ngContentSelectors:We,decls:2,vars:0,consts:[[1,"ant-menu-title-content"]],template:function(Je,Ie){1&Je&&(f.NAR(),f.j41(0,"span",0),f.SdG(1),f.k0s())},encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,fe.H3)()],rt.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,fe.H3)()],rt.prototype,"nzSelected",void 0),(0,t.Cg)([(0,fe.H3)()],rt.prototype,"nzDanger",void 0),(0,t.Cg)([(0,fe.H3)()],rt.prototype,"nzMatchRouterExact",void 0),(0,t.Cg)([(0,fe.H3)()],rt.prototype,"nzMatchRouter",void 0),rt})(),me=(()=>{class rt{constructor(Ee,Je,Ie){this.elementRef=Ee,this.renderer=Je,this.directionality=Ie,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new m.B}calcMotionState(){this.expandState=this.nzOpen?"expanded":"collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe((0,pe.Q)(this.destroy$)).subscribe(Ee=>{this.dir=Ee})}ngOnChanges(Ee){const{mode:Je,nzOpen:Ie,menuClass:It}=Ee;(Je||Ie)&&this.calcMotionState(),It&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(Rt=>!!Rt).forEach(Rt=>{this.renderer.removeClass(this.elementRef.nativeElement,Rt)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(Rt=>!!Rt).forEach(Rt=>{this.renderer.addClass(this.elementRef.nativeElement,Rt)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Je){return new(Je||rt)(f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(xe.dS,8))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-submenu-inline-child",""]],hostAttrs:[1,"ant-menu","ant-menu-inline","ant-menu-sub"],hostVars:3,hostBindings:function(Je,Ie){2&Je&&(f.zvX("@collapseMotion",Ie.expandState),f.AVh("ant-menu-rtl","rtl"===Ie.dir))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],standalone:!0,features:[f.OA$,f.aNF],attrs:qe,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(Je,Ie){1&Je&&f.DNE(0,Be,0,0,"ng-template",0),2&Je&&f.Y8G("ngTemplateOutlet",Ie.templateOutlet)},dependencies:[Te.T3],encapsulation:2,data:{animation:[Z.GE]},changeDetection:0})}return rt})(),W=(()=>{class rt{constructor(Ee){this.directionality=Ee,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new f.bkB,this.expandState="collapsed",this.dir="ltr",this.destroy$=new m.B}setMouseState(Ee){this.nzDisabled||this.subMenuMouseState.next(Ee)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?"horizontal"===this.mode?this.expandState="bottom":"vertical"===this.mode&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe((0,pe.Q)(this.destroy$)).subscribe(Ee=>{this.dir=Ee})}ngOnChanges(Ee){const{mode:Je,nzOpen:Ie}=Ee;(Je||Ie)&&this.calcMotionState()}static#e=this.\u0275fac=function(Je){return new(Je||rt)(f.rXU(xe.dS,8))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-submenu-none-inline-child",""]],hostAttrs:[1,"ant-menu-submenu","ant-menu-submenu-popup"],hostVars:14,hostBindings:function(Je,Ie){1&Je&&f.bIt("mouseenter",function(){return Ie.setMouseState(!0)})("mouseleave",function(){return Ie.setMouseState(!1)}),2&Je&&(f.zvX("@slideMotion",Ie.expandState)("@zoomBigMotion",Ie.expandState),f.AVh("ant-menu-light","light"===Ie.theme)("ant-menu-dark","dark"===Ie.theme)("ant-menu-submenu-placement-bottom","horizontal"===Ie.mode)("ant-menu-submenu-placement-right","vertical"===Ie.mode&&"right"===Ie.position)("ant-menu-submenu-placement-left","vertical"===Ie.mode&&"left"===Ie.position)("ant-menu-submenu-rtl","rtl"===Ie.dir))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],standalone:!0,features:[f.OA$,f.aNF],attrs:tt,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(Je,Ie){1&Je&&(f.j41(0,"div",0),f.DNE(1,Xe,0,0,"ng-template",1),f.k0s()),2&Je&&(f.AVh("ant-dropdown-menu",Ie.isMenuInsideDropDown)("ant-menu",!Ie.isMenuInsideDropDown)("ant-dropdown-menu-vertical",Ie.isMenuInsideDropDown)("ant-menu-vertical",!Ie.isMenuInsideDropDown)("ant-dropdown-menu-sub",Ie.isMenuInsideDropDown)("ant-menu-sub",!Ie.isMenuInsideDropDown)("ant-menu-rtl","rtl"===Ie.dir),f.Y8G("ngClass",Ie.menuClass),f.R7$(),f.Y8G("ngTemplateOutlet",Ie.templateOutlet))},dependencies:[Te.YU,Te.T3],encapsulation:2,data:{animation:[Z.uX,Z.U1]},changeDetection:0})}return rt})(),b=(()=>{class rt{constructor(Ee,Je){this.cdr=Ee,this.directionality=Je,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new f.bkB,this.subMenuMouseState=new f.bkB,this.dir="ltr",this.destroy$=new m.B}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,pe.Q)(this.destroy$)).subscribe(Ee=>{this.dir=Ee,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(Ee){this.nzDisabled||this.subMenuMouseState.next(Ee)}clickTitle(){"inline"===this.mode&&!this.nzDisabled&&this.toggleSubMenu.emit()}static#e=this.\u0275fac=function(Je){return new(Je||rt)(f.rXU(f.gRc),f.rXU(xe.dS,8))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(Je,Ie){1&Je&&f.bIt("click",function(){return Ie.clickTitle()})("mouseenter",function(){return Ie.setMouseState(!0)})("mouseleave",function(){return Ie.setMouseState(!1)}),2&Je&&(f.xc7("padding-left","rtl"===Ie.dir?null:Ie.paddingLeft,"px")("padding-right","rtl"===Ie.dir?Ie.paddingLeft:null,"px"),f.AVh("ant-dropdown-menu-submenu-title",Ie.isMenuInsideDropDown)("ant-menu-submenu-title",!Ie.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],standalone:!0,features:[f.aNF],attrs:pt,ngContentSelectors:We,decls:5,vars:3,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"],[1,"ant-dropdown-menu-submenu-expand-icon"],[1,"ant-menu-title-content"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(Je,Ie){1&Je&&(f.NAR(),f.DNE(0,et,1,1,"span",0)(1,Le,3,1,"ng-container",1),f.SdG(2),f.DNE(3,xt,3,1,"span",2)(4,Gt,1,0)),2&Je&&(f.vxM(0,Ie.nzIcon?0:-1),f.R7$(),f.Y8G("nzStringTemplateOutlet",Ie.nzTitle),f.R7$(2),f.vxM(3,Ie.isMenuInsideDropDown?3:4))},dependencies:[ae.Y3,ae.Dn,Se.C,Se.m],encapsulation:2,changeDetection:0})}return rt})();const D=[he.pn.rightTop,he.pn.right,he.pn.rightBottom,he.pn.leftTop,he.pn.left,he.pn.leftBottom],j=[he.pn.bottomLeft,he.pn.bottomRight,he.pn.topRight,he.pn.topLeft];let Q=(()=>{class rt{setOpenStateWithoutDebounce(Ee){this.nzSubmenuService.setOpenStateWithoutDebounce(Ee)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(Ee){this.isActive=Ee,"inline"!==this.mode&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(Ee)}setTriggerWidth(){"horizontal"===this.mode&&this.platform.isBrowser&&this.cdkOverlayOrigin&&"bottomLeft"===this.nzPlacement&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(Ee){const Je=(0,he.jj)(Ee);"rightTop"===Je||"rightBottom"===Je||"right"===Je?this.position="right":("leftTop"===Je||"leftBottom"===Je||"left"===Je)&&(this.position="left")}constructor(Ee,Je,Ie,It,Rt,Ot,Ft){this.nzMenuService=Ee,this.cdr=Je,this.nzSubmenuService=Ie,this.platform=It,this.isMenuInsideDropDown=Rt,this.directionality=Ot,this.noAnimation=Ft,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzPlacement="bottomLeft",this.nzOpenChange=new f.bkB,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new m.B,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=D,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}ngOnInit(){this.nzMenuService.theme$.pipe((0,pe.Q)(this.destroy$)).subscribe(Ee=>{this.theme=Ee,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe((0,pe.Q)(this.destroy$)).subscribe(Ee=>{this.mode=Ee,"horizontal"===Ee?this.overlayPositions=[he.pn[this.nzPlacement],...j]:"vertical"===Ee&&(this.overlayPositions=D),this.cdr.markForCheck()}),(0,Ve.z)([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,pe.Q)(this.destroy$)).subscribe(([Ee,Je])=>{this.inlinePaddingLeft="inline"===Ee?this.level*Je:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe((0,pe.Q)(this.destroy$)).subscribe(Ee=>{this.isActive=Ee,Ee!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=Ee,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,pe.Q)(this.destroy$)).subscribe(Ee=>{this.dir=Ee,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();const Ee=this.listOfNzMenuItemDirective,Je=Ee.changes,Ie=(0,Y.h)(Je,...Ee.map(It=>It.selected$));Je.pipe((0,K.Z)(Ee),(0,G.n)(()=>Ie),(0,K.Z)(!0),(0,be.T)(()=>Ee.some(It=>It.nzSelected)),(0,pe.Q)(this.destroy$)).subscribe(It=>{this.isSelected=It,this.cdr.markForCheck()})}ngOnChanges(Ee){const{nzOpen:Je}=Ee;Je&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Je){return new(Je||rt)(f.rXU(st),f.rXU(f.gRc),f.rXU(J),f.rXU(Ze.OD),f.rXU(Mt),f.rXU(xe.dS,8),f.rXU(Ge.z,9))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-submenu",""]],contentQueries:function(Je,Ie,It){if(1&Je&&(f.wni(It,rt,5),f.wni(It,He,5)),2&Je){let Rt;f.mGM(Rt=f.lsd())&&(Ie.listOfNzSubMenuComponent=Rt),f.mGM(Rt=f.lsd())&&(Ie.listOfNzMenuItemDirective=Rt)}},viewQuery:function(Je,Ie){if(1&Je&&f.GBs(Fe.$Q,7,f.aKT),2&Je){let It;f.mGM(It=f.lsd())&&(Ie.cdkOverlayOrigin=It.first)}},hostVars:34,hostBindings:function(Je,Ie){2&Je&&f.AVh("ant-dropdown-menu-submenu",Ie.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",Ie.isMenuInsideDropDown&&Ie.nzDisabled)("ant-dropdown-menu-submenu-open",Ie.isMenuInsideDropDown&&Ie.nzOpen)("ant-dropdown-menu-submenu-selected",Ie.isMenuInsideDropDown&&Ie.isSelected)("ant-dropdown-menu-submenu-vertical",Ie.isMenuInsideDropDown&&"vertical"===Ie.mode)("ant-dropdown-menu-submenu-horizontal",Ie.isMenuInsideDropDown&&"horizontal"===Ie.mode)("ant-dropdown-menu-submenu-inline",Ie.isMenuInsideDropDown&&"inline"===Ie.mode)("ant-dropdown-menu-submenu-active",Ie.isMenuInsideDropDown&&Ie.isActive)("ant-menu-submenu",!Ie.isMenuInsideDropDown)("ant-menu-submenu-disabled",!Ie.isMenuInsideDropDown&&Ie.nzDisabled)("ant-menu-submenu-open",!Ie.isMenuInsideDropDown&&Ie.nzOpen)("ant-menu-submenu-selected",!Ie.isMenuInsideDropDown&&Ie.isSelected)("ant-menu-submenu-vertical",!Ie.isMenuInsideDropDown&&"vertical"===Ie.mode)("ant-menu-submenu-horizontal",!Ie.isMenuInsideDropDown&&"horizontal"===Ie.mode)("ant-menu-submenu-inline",!Ie.isMenuInsideDropDown&&"inline"===Ie.mode)("ant-menu-submenu-active",!Ie.isMenuInsideDropDown&&Ie.isActive)("ant-menu-submenu-rtl","rtl"===Ie.dir)},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled",nzPlacement:"nzPlacement"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],standalone:!0,features:[f.Jv_([J]),f.OA$,f.aNF],attrs:Me,ngContentSelectors:ie,decls:7,vars:8,consts:[["origin","cdkOverlayOrigin"],["subMenuTemplate",""],["nz-submenu-title","","cdkOverlayOrigin","",3,"subMenuMouseState","toggleSubMenu","nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"positionChange","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-submenu-none-inline-child","",3,"subMenuMouseState","theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation"]],template:function(Je,Ie){if(1&Je){const It=f.RV6();f.NAR(nt),f.j41(0,"div",2,0),f.bIt("subMenuMouseState",function(Ot){return f.eBV(It),f.Njj(Ie.setMouseEnterState(Ot))})("toggleSubMenu",function(){return f.eBV(It),f.Njj(Ie.toggleSubMenu())}),f.DNE(2,F,1,0),f.k0s(),f.DNE(3,_e,1,6,"div",3)(4,Oe,1,5)(5,je,1,0,"ng-template",null,1,f.C5r)}2&Je&&(f.Y8G("nzIcon",Ie.nzIcon)("nzTitle",Ie.nzTitle)("mode",Ie.mode)("nzDisabled",Ie.nzDisabled)("isMenuInsideDropDown",Ie.isMenuInsideDropDown)("paddingLeft",Ie.nzPaddingLeft||Ie.inlinePaddingLeft),f.R7$(2),f.vxM(2,Ie.nzTitle?-1:2),f.R7$(),f.vxM(3,"inline"===Ie.mode?3:4))},dependencies:[b,me,Ge.z,W,Fe.z_,Fe.WB,Fe.$Q],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,fe.H3)()],rt.prototype,"nzOpen",void 0),(0,t.Cg)([(0,fe.H3)()],rt.prototype,"nzDisabled",void 0),rt})();function ke(){const rt=(0,f.WQX)(st,{skipSelf:!0,optional:!0}),Ht=(0,f.WQX)(ye);return rt??Ht}function Ye(){return(0,f.WQX)(Mt,{skipSelf:!0,optional:!0})??!1}let dt=(()=>{class rt{setInlineCollapsed(Ee){this.nzInlineCollapsed=Ee,this.inlineCollapsed$.next(Ee)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(Ee=>Ee.nzOpen),this.listOfNzSubMenuComponent.forEach(Ee=>Ee.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(Ee=>Ee.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}constructor(Ee,Je,Ie,It){this.nzMenuService=Ee,this.isMenuInsideDropDown=Je,this.cdr=Ie,this.directionality=It,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new f.bkB,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new v.t(this.nzInlineCollapsed),this.mode$=new v.t(this.nzMode),this.destroy$=new m.B,this.listOfOpenedNzSubMenuComponent=[]}ngOnInit(){(0,Ve.z)([this.inlineCollapsed$,this.mode$]).pipe((0,pe.Q)(this.destroy$)).subscribe(([Ee,Je])=>{this.actualMode=Ee?"vertical":Je,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe((0,pe.Q)(this.destroy$)).subscribe(Ee=>{this.nzClick.emit(Ee),this.nzSelectable&&!Ee.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(Je=>Je.setSelectedState(Je===Ee))}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,pe.Q)(this.destroy$)).subscribe(Ee=>{this.dir=Ee,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe((0,pe.Q)(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(Ee){const{nzInlineCollapsed:Je,nzInlineIndent:Ie,nzTheme:It,nzMode:Rt}=Ee;Je&&this.inlineCollapsed$.next(this.nzInlineCollapsed),Ie&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),It&&this.nzMenuService.setTheme(this.nzTheme),Rt&&(this.mode$.next(this.nzMode),!Ee.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(Ot=>Ot.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(Je){return new(Je||rt)(f.rXU(st),f.rXU(Mt),f.rXU(f.gRc),f.rXU(xe.dS,8))};static#t=this.\u0275dir=f.FsC({type:rt,selectors:[["","nz-menu",""]],contentQueries:function(Je,Ie,It){if(1&Je&&(f.wni(It,He,5),f.wni(It,Q,5)),2&Je){let Rt;f.mGM(Rt=f.lsd())&&(Ie.listOfNzMenuItemDirective=Rt),f.mGM(Rt=f.lsd())&&(Ie.listOfNzSubMenuComponent=Rt)}},hostVars:34,hostBindings:function(Je,Ie){2&Je&&f.AVh("ant-dropdown-menu",Ie.isMenuInsideDropDown)("ant-dropdown-menu-root",Ie.isMenuInsideDropDown)("ant-dropdown-menu-light",Ie.isMenuInsideDropDown&&"light"===Ie.nzTheme)("ant-dropdown-menu-dark",Ie.isMenuInsideDropDown&&"dark"===Ie.nzTheme)("ant-dropdown-menu-vertical",Ie.isMenuInsideDropDown&&"vertical"===Ie.actualMode)("ant-dropdown-menu-horizontal",Ie.isMenuInsideDropDown&&"horizontal"===Ie.actualMode)("ant-dropdown-menu-inline",Ie.isMenuInsideDropDown&&"inline"===Ie.actualMode)("ant-dropdown-menu-inline-collapsed",Ie.isMenuInsideDropDown&&Ie.nzInlineCollapsed)("ant-menu",!Ie.isMenuInsideDropDown)("ant-menu-root",!Ie.isMenuInsideDropDown)("ant-menu-light",!Ie.isMenuInsideDropDown&&"light"===Ie.nzTheme)("ant-menu-dark",!Ie.isMenuInsideDropDown&&"dark"===Ie.nzTheme)("ant-menu-vertical",!Ie.isMenuInsideDropDown&&"vertical"===Ie.actualMode)("ant-menu-horizontal",!Ie.isMenuInsideDropDown&&"horizontal"===Ie.actualMode)("ant-menu-inline",!Ie.isMenuInsideDropDown&&"inline"===Ie.actualMode)("ant-menu-inline-collapsed",!Ie.isMenuInsideDropDown&&Ie.nzInlineCollapsed)("ant-menu-rtl","rtl"===Ie.dir)},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],standalone:!0,features:[f.Jv_([{provide:ye,useClass:st},{provide:st,useFactory:ke},{provide:Mt,useFactory:Ye}]),f.OA$]})}return(0,t.Cg)([(0,fe.H3)()],rt.prototype,"nzInlineCollapsed",void 0),(0,t.Cg)([(0,fe.H3)()],rt.prototype,"nzSelectable",void 0),rt})();function bt(){return(0,f.WQX)(Mt,{optional:!0,skipSelf:!0})??!1}let kt=(()=>{class rt{constructor(Ee,Je,Ie){this.elementRef=Ee,this.renderer=Je,this.isMenuInsideDropDown=Ie,this.renderer.addClass(Ee.nativeElement,this.isMenuInsideDropDown?"ant-dropdown-menu-item-group":"ant-menu-item-group")}ngAfterViewInit(){const Ee=this.titleElement.nativeElement.nextElementSibling;Ee&&this.renderer.addClass(Ee,this.isMenuInsideDropDown?"ant-dropdown-menu-item-group-list":"ant-menu-item-group-list")}static#e=this.\u0275fac=function(Je){return new(Je||rt)(f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(Mt))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-menu-group",""]],viewQuery:function(Je,Ie){if(1&Je&&f.GBs(vt,5),2&Je){let It;f.mGM(It=f.lsd())&&(Ie.titleElement=It.first)}},inputs:{nzTitle:"nzTitle"},exportAs:["nzMenuGroup"],standalone:!0,features:[f.Jv_([{provide:Mt,useFactory:bt}]),f.aNF],attrs:Pt,ngContentSelectors:Wt,decls:5,vars:6,consts:[["titleElement",""],[4,"nzStringTemplateOutlet"]],template:function(Je,Ie){1&Je&&(f.NAR(At),f.j41(0,"div",null,0),f.DNE(2,qt,2,1,"ng-container",1)(3,lt,1,0),f.k0s(),f.SdG(4)),2&Je&&(f.AVh("ant-menu-item-group-title",!Ie.isMenuInsideDropDown)("ant-dropdown-menu-item-group-title",Ie.isMenuInsideDropDown),f.R7$(2),f.Y8G("nzStringTemplateOutlet",Ie.nzTitle),f.R7$(),f.vxM(3,Ie.nzTitle?-1:3))},dependencies:[Se.C,Se.m],encapsulation:2,changeDetection:0})}return rt})(),wt=(()=>{class rt{constructor(Ee){this.elementRef=Ee}static#e=this.\u0275fac=function(Je){return new(Je||rt)(f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:rt,selectors:[["","nz-menu-divider",""]],hostAttrs:[1,"ant-dropdown-menu-item-divider"],exportAs:["nzMenuDivider"],standalone:!0})}return rt})(),Yt=(()=>{class rt{static#e=this.\u0275fac=function(Je){return new(Je||rt)};static#t=this.\u0275mod=f.$C({type:rt});static#n=this.\u0275inj=f.G2t({imports:[Q,kt,b]})}return rt})()},7094:(Lt,ct,C)=>{"use strict";C.d(ct,{Pz:()=>Z,nF:()=>ae,op:()=>Se,xh:()=>tt});var t=C(6939),f=C(4438),m=C(1413),v=C(5964),Y=C(6697),Ve=C(6977),be=C(6035),re=C(177),ue=C(317),X=C(713),ee=C(7806),le=C(5103),pe=C(1025),K=C(6969);function G(Xe,pt){1&Xe&&f.nrm(0,"span",10)}function fe(Xe,pt){1&Xe&&f.nrm(0,"span",11)}function ze(Xe,pt){1&Xe&&f.nrm(0,"span",12)}function xe(Xe,pt){1&Xe&&f.nrm(0,"span",13)}function Fe(Xe,pt){1&Xe&&f.nrm(0,"span",14)}function Ge(Xe,pt){if(1&Xe&&(f.qex(0),f.nrm(1,"span",15),f.bVm()),2&Xe){const et=f.XpG();f.R7$(),f.Y8G("innerHTML",et.instance.content,f.npT)}}function he(Xe,pt){if(1&Xe){const et=f.RV6();f.j41(0,"nz-message",2),f.bIt("destroyed",function(mt){f.eBV(et);const ht=f.XpG();return f.Njj(ht.remove(mt.id,mt.userAction))}),f.k0s()}2&Xe&&f.Y8G("instance",pt.$implicit)}let Te=0;class Z{constructor(pt,et,Le){this.nzSingletonService=pt,this.overlay=et,this.injector=Le}remove(pt){this.container&&(pt?this.container.remove(pt):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${Te++}`}withContainer(pt){let et=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(et)return et;const Le=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),mt=new t.A8(pt,null,this.injector),ht=Le.attach(mt);return Le.hostElement.style.zIndex="1010",et||(this.container=et=ht.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,et),this.container.afterAllInstancesRemoved.subscribe(()=>{this.container=void 0,this.nzSingletonService.unregisterSingletonWithKey(this.componentPrefix),Le.dispose()})),et}}let Se=(()=>{class Xe{constructor(et,Le){this.cdr=et,this.nzConfigService=Le,this.instances=[],this._afterAllInstancesRemoved=new m.B,this.afterAllInstancesRemoved=this._afterAllInstancesRemoved.asObservable(),this.destroy$=new m.B,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(et){const Le=this.onCreate(et);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,Le],this.readyInstances(),Le}remove(et,Le=!1){this.instances.map((mt,ht)=>({index:ht,instance:mt})).filter(({instance:mt})=>mt.messageId===et).forEach(({index:mt,instance:ht})=>{this.instances.splice(mt,1),this.instances=[...this.instances],this.onRemove(ht,Le),this.readyInstances()}),this.instances.length||this.onAllInstancesRemoved()}removeAll(){this.instances.forEach(et=>this.onRemove(et,!1)),this.instances=[],this.readyInstances(),this.onAllInstancesRemoved()}onCreate(et){return et.options=this.mergeOptions(et.options),et.onClose=new m.B,et}onRemove(et,Le){et.onClose.next(Le),et.onClose.complete()}onAllInstancesRemoved(){this._afterAllInstancesRemoved.next(),this._afterAllInstancesRemoved.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(et){const{nzDuration:Le,nzAnimate:mt,nzPauseOnHover:ht}=this.config;return{nzDuration:Le,nzAnimate:mt,nzPauseOnHover:ht,...et}}static#e=this.\u0275fac=function(Le){return new(Le||Xe)(f.rXU(f.gRc),f.rXU(be.yx))};static#t=this.\u0275dir=f.FsC({type:Xe})}return Xe})(),ae=(()=>{class Xe{constructor(et){this.cdr=et,this.destroyed=new f.bkB,this.animationStateChanged=new m.B,this.userAction=!1}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe((0,v.p)(et=>"done"===et.phaseName&&"leave"===et.toState),(0,Y.s)(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(et=!1){this.userAction=et,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:et})},200)):this.destroyed.next({id:this.instance.messageId,userAction:et})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=void 0)}static#e=this.\u0275fac=function(Le){return new(Le||Xe)(f.rXU(f.gRc))};static#t=this.\u0275dir=f.FsC({type:Xe})}return Xe})(),Ze=(()=>{class Xe extends ae{constructor(et){super(et),this.destroyed=new f.bkB}static#e=this.\u0275fac=function(Le){return new(Le||Xe)(f.rXU(f.gRc))};static#t=this.\u0275cmp=f.VBU({type:Xe,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],standalone:!0,features:[f.Vt3,f.aNF],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(Le,mt){1&Le&&(f.j41(0,"div",0),f.bIt("@moveUpMotion.done",function(xt){return mt.animationStateChanged.next(xt)})("mouseenter",function(){return mt.onEnter()})("mouseleave",function(){return mt.onLeave()}),f.j41(1,"div",1)(2,"div",2),f.qex(3,3),f.DNE(4,G,1,0,"span",4)(5,fe,1,0,"span",5)(6,ze,1,0,"span",6)(7,xe,1,0,"span",7)(8,Fe,1,0,"span",8),f.bVm(),f.DNE(9,Ge,2,1,"ng-container",9),f.k0s()()()),2&Le&&(f.Y8G("@moveUpMotion",mt.instance.state),f.R7$(2),f.Y8G("ngClass","ant-message-"+mt.instance.type),f.R7$(),f.Y8G("ngSwitch",mt.instance.type),f.R7$(),f.Y8G("ngSwitchCase","success"),f.R7$(),f.Y8G("ngSwitchCase","info"),f.R7$(),f.Y8G("ngSwitchCase","warning"),f.R7$(),f.Y8G("ngSwitchCase","error"),f.R7$(),f.Y8G("ngSwitchCase","loading"),f.R7$(),f.Y8G("nzStringTemplateOutlet",mt.instance.content))},dependencies:[re.YU,re.ux,re.e1,le.Y3,le.Dn,ee.C,ee.m],encapsulation:2,data:{animation:[X.j]},changeDetection:0})}return Xe})();const Pe="message",We={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let qe=(()=>{class Xe extends Se{constructor(et,Le){super(et,Le),this.dir="ltr";const mt=this.nzConfigService.getConfigForComponent(Pe);this.dir=mt?.nzDirection||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(Pe).pipe((0,Ve.Q)(this.destroy$)).subscribe(()=>{this.updateConfig();const et=this.nzConfigService.getConfigForComponent(Pe);if(et){const{nzDirection:Le}=et;this.dir=Le||this.dir}})}updateConfig(){this.config={...We,...this.config,...this.nzConfigService.getConfigForComponent(Pe)},this.top=(0,ue.j3)(this.config.nzTop),this.cdr.markForCheck()}static#e=this.\u0275fac=function(Le){return new(Le||Xe)(f.rXU(f.gRc),f.rXU(be.yx))};static#t=this.\u0275cmp=f.VBU({type:Xe,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],standalone:!0,features:[f.Vt3,f.aNF],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"destroyed","instance"]],template:function(Le,mt){1&Le&&(f.j41(0,"div",0),f.DNE(1,he,1,1,"nz-message",1),f.k0s()),2&Le&&(f.xc7("top",mt.top),f.AVh("ant-message-rtl","rtl"===mt.dir),f.R7$(),f.Y8G("ngForOf",mt.instances))},dependencies:[Ze,re.Sq],encapsulation:2,changeDetection:0})}return Xe})(),tt=(()=>{class Xe extends Z{constructor(et,Le,mt){super(et,Le,mt),this.componentPrefix="message-"}success(et,Le){return this.createInstance({type:"success",content:et},Le)}error(et,Le){return this.createInstance({type:"error",content:et},Le)}info(et,Le){return this.createInstance({type:"info",content:et},Le)}warning(et,Le){return this.createInstance({type:"warning",content:et},Le)}loading(et,Le){return this.createInstance({type:"loading",content:et},Le)}create(et,Le,mt){return this.createInstance({type:et,content:Le},mt)}createInstance(et,Le){return this.container=this.withContainer(qe),this.container.create({...et,createdAt:new Date,messageId:this.getInstanceId(),options:Le})}static#e=this.\u0275fac=function(Le){return new(Le||Xe)(f.KVO(pe.HL),f.KVO(K.hJ),f.KVO(f.zZn))};static#t=this.\u0275prov=f.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})()},3053:(Lt,ct,C)=>{"use strict";C.d(ct,{U6:()=>$,N_:()=>Re,hk:()=>ot});var t=C(467),f=C(6969),m=C(6939),v=C(4438),Y=C(1413),Ve=C(3726),be=C(9030),re=C(6977),ue=C(5964),X=C(6697),ee=C(9172),le=C(1265),pe=C(5463),K=C(317),G=C(177),fe=C(513),ze=C(7806),xe=C(5103);C(345);class he{static#e=this.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}};transform(P,w=0,T="B",I){if(!((0,K.BV)(P)&&(0,K.BV)(w)&&w%1==0&&w>=0))return P;let E=P,oe=T;for(;"B"!==oe;)E*=1024,oe=he.formats[oe].prev;if(I){const ve=(0,K.nI)(he.calculateResult(he.formats[I],E),w);return he.formatResult(ve,I)}for(const B in he.formats)if(he.formats.hasOwnProperty(B)){const ve=he.formats[B];if(E<ve.max){const Qe=(0,K.nI)(he.calculateResult(ve,E),w);return he.formatResult(Qe,B)}}}static formatResult(P,w){return`${P} ${w}`}static calculateResult(P,w){const T=P.prev?he.formats[P.prev]:void 0;return T?w/T.max:w}static#t=this.\u0275fac=function(w){return new(w||he)};static#n=this.\u0275pipe=v.EJ8({name:"nzBytes",type:he,pure:!0,standalone:!0})}let Te=(()=>{class k{transform(w,T="px"){return"number"==typeof w?`${w}${T}`:w}static#e=this.\u0275fac=function(T){return new(T||k)};static#t=this.\u0275pipe=v.EJ8({name:"nzToCssUnit",type:k,pure:!0,standalone:!0})}return k})(),We=(()=>{class k{static#e=this.\u0275fac=function(T){return new(T||k)};static#t=this.\u0275mod=v.$C({type:k});static#n=this.\u0275inj=v.G2t({})}return k})();var qe=C(9969),Be=C(4500),tt=C(851),Xe=C(6035),pt=C(3341),et=C(6389),Le=C(5930),mt=C(1875),ht=C(7336),xt=C(8203);const Gt=["nz-modal-close",""];function Me(k,P){if(1&k&&(v.qex(0),v.nrm(1,"span",2),v.bVm()),2&k){const w=P.$implicit;v.R7$(),v.Y8G("nzType",w)}}const nt=["modalElement"];function ie(k,P){if(1&k){const w=v.RV6();v.j41(0,"button",16),v.bIt("click",function(){v.eBV(w);const I=v.XpG();return v.Njj(I.onCloseClick())}),v.k0s()}}function F(k,P){if(1&k&&(v.qex(0),v.nrm(1,"span",12),v.bVm()),2&k){const w=v.XpG();v.R7$(),v.Y8G("innerHTML",w.config.nzTitle,v.npT)}}function _e(k,P){}function ne(k,P){if(1&k&&v.nrm(0,"div",12),2&k){const w=v.XpG();v.Y8G("innerHTML",w.config.nzContent,v.npT)}}function Oe(k,P){if(1&k){const w=v.RV6();v.j41(0,"button",17),v.bIt("click",function(){v.eBV(w);const I=v.XpG();return v.Njj(I.onCancel())}),v.EFF(1),v.k0s()}if(2&k){const w=v.XpG();v.Y8G("nzLoading",w.config.nzCancelLoading)("disabled",w.config.nzCancelDisabled),v.BMQ("cdkFocusInitial","cancel"===w.config.nzAutofocus||null),v.R7$(),v.SpI(" ",w.config.nzCancelText||w.locale.cancelText," ")}}function je(k,P){if(1&k){const w=v.RV6();v.j41(0,"button",18),v.bIt("click",function(){v.eBV(w);const I=v.XpG();return v.Njj(I.onOk())}),v.EFF(1),v.k0s()}if(2&k){const w=v.XpG();v.Y8G("nzType",w.config.nzOkType)("nzLoading",w.config.nzOkLoading)("disabled",w.config.nzOkDisabled)("nzDanger",w.config.nzOkDanger),v.BMQ("cdkFocusInitial","ok"===w.config.nzAutofocus||null),v.R7$(),v.SpI(" ",w.config.nzOkText||w.locale.okText," ")}}const vt=["nz-modal-footer",""],Pt=(k,P)=>({$implicit:k,modalRef:P});function At(k,P){if(1&k){const w=v.RV6();v.j41(0,"button",2),v.bIt("click",function(){const I=v.eBV(w).$implicit,E=v.XpG(4);return v.Njj(E.onButtonClick(I))}),v.EFF(1),v.k0s()}if(2&k){const w=P.$implicit,T=v.XpG(4);v.Y8G("hidden",!T.getButtonCallableProp(w,"show"))("nzLoading",T.getButtonCallableProp(w,"loading"))("disabled",T.getButtonCallableProp(w,"disabled"))("nzType",w.type)("nzDanger",w.danger)("nzShape",w.shape)("nzSize",w.size)("nzGhost",w.ghost),v.R7$(),v.SpI(" ",w.label," ")}}function Wt(k,P){if(1&k&&v.Z7z(0,At,2,9,"button",1,v.fX1),2&k){const w=v.XpG(3);v.Dyx(w.buttons)}}function qt(k,P){if(1&k&&v.nrm(0,"div",3),2&k){const w=v.XpG(3);v.Y8G("innerHTML",w.config.nzFooter,v.npT)}}function lt(k,P){if(1&k&&(v.qex(0),v.DNE(1,Wt,2,0)(2,qt,1,1),v.bVm()),2&k){const w=v.XpG(2);v.R7$(),v.vxM(1,w.buttonsFooter?1:2)}}function Mt(k,P){if(1&k&&v.DNE(0,lt,3,1,"ng-container",0),2&k){const w=v.XpG();v.Y8G("nzStringTemplateOutlet",w.config.nzFooter)("nzStringTemplateOutletContext",v.l_i(2,Pt,w.config.nzData,w.modalRef))}}function ye(k,P){if(1&k){const w=v.RV6();v.j41(0,"button",6),v.bIt("click",function(){v.eBV(w);const I=v.XpG(2);return v.Njj(I.onCancel())}),v.EFF(1),v.k0s()}if(2&k){const w=v.XpG(2);v.Y8G("nzLoading",w.config.nzCancelLoading)("disabled",w.config.nzCancelDisabled),v.BMQ("cdkFocusInitial","cancel"===w.config.nzAutofocus||null),v.R7$(),v.SpI(" ",w.config.nzCancelText||w.locale.cancelText," ")}}function st(k,P){if(1&k){const w=v.RV6();v.j41(0,"button",7),v.bIt("click",function(){v.eBV(w);const I=v.XpG(2);return v.Njj(I.onOk())}),v.EFF(1),v.k0s()}if(2&k){const w=v.XpG(2);v.Y8G("nzType",w.config.nzOkType)("nzDanger",w.config.nzOkDanger)("nzLoading",w.config.nzOkLoading)("disabled",w.config.nzOkDisabled),v.BMQ("cdkFocusInitial","ok"===w.config.nzAutofocus||null),v.R7$(),v.SpI(" ",w.config.nzOkText||w.locale.okText," ")}}function J(k,P){if(1&k&&v.DNE(0,ye,2,4,"button",4)(1,st,2,6,"button",5),2&k){const w=v.XpG();v.vxM(0,null!==w.config.nzCancelText?0:-1),v.R7$(),v.vxM(1,null!==w.config.nzOkText?1:-1)}}const He=["nz-modal-title",""];function me(k,P){if(1&k&&(v.qex(0),v.nrm(1,"div",2),v.bVm()),2&k){const w=v.XpG();v.R7$(),v.Y8G("innerHTML",w.config.nzTitle,v.npT)}}function W(k,P){if(1&k){const w=v.RV6();v.j41(0,"button",9),v.bIt("click",function(){v.eBV(w);const I=v.XpG();return v.Njj(I.onCloseClick())}),v.k0s()}}function b(k,P){if(1&k&&v.nrm(0,"div",10),2&k){const w=v.XpG();v.xc7("cursor",w.config.nzDraggable?"move":"auto")}}function D(k,P){}function j(k,P){if(1&k&&v.nrm(0,"div",7),2&k){const w=v.XpG();v.Y8G("innerHTML",w.config.nzContent,v.npT)}}function Q(k,P){if(1&k){const w=v.RV6();v.j41(0,"div",11),v.bIt("cancelTriggered",function(){v.eBV(w);const I=v.XpG();return v.Njj(I.onCloseClick())})("okTriggered",function(){v.eBV(w);const I=v.XpG();return v.Njj(I.onOkClick())}),v.k0s()}if(2&k){const w=v.XpG();v.Y8G("modalRef",w.modalRef)}}const ke=()=>{};class Ye{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzDraggable=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=ke,this.nzOnOk=ke,this.nzIconType="question-circle"}}const kt="ant-modal-mask",wt="modal",Yt=new v.nKC("NZ_MODAL_DATA"),rt={modalContainer:(0,qe.hZ)("modalContainer",[(0,qe.wk)("void, exit",(0,qe.iF)({})),(0,qe.wk)("enter",(0,qe.iF)({})),(0,qe.kY)("* => enter",(0,qe.i0)(".24s",(0,qe.iF)({}))),(0,qe.kY)("* => void, * => exit",(0,qe.i0)(".2s",(0,qe.iF)({})))])};let Ht=(()=>{class k{constructor(w){this.config=w}static#e=this.\u0275fac=function(T){return new(T||k)(v.rXU(Ye))};static#t=this.\u0275cmp=v.VBU({type:k,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],standalone:!0,features:[v.aNF],attrs:Gt,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(T,I){1&T&&(v.j41(0,"span",0),v.DNE(1,Me,2,1,"ng-container",1),v.k0s()),2&T&&(v.R7$(),v.Y8G("nzStringTemplateOutlet",I.config.nzCloseIcon))},dependencies:[xe.Y3,xe.Dn,ze.C,ze.m],encapsulation:2,changeDetection:0})}return k})();function Je(k,P,w){return typeof k>"u"?typeof P>"u"?w:P:k}function It(){throw Error("Attempting to attach modal content after content is already attached")}let Rt=(()=>{class k extends m.lb{get showMask(){const w=this.nzConfigService.getConfigForComponent(wt)||{};return!!Je(this.config.nzMask,w.nzMask,!0)}get maskClosable(){const w=this.nzConfigService.getConfigForComponent(wt)||{};return!!Je(this.config.nzMaskClosable,w.nzMaskClosable,!0)}constructor(w,T,I,E,oe,B,ve,Qe,at,Ct){super(),this.ngZone=w,this.host=T,this.focusTrapFactory=I,this.cdr=E,this.render=oe,this.overlayRef=B,this.nzConfigService=ve,this.config=Qe,this.animationType=Ct,this.animationStateChanged=new v.bkB,this.containerClick=new v.bkB,this.cancelTriggered=new v.bkB,this.okTriggered=new v.bkB,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new Y.B,this.document=at,this.dir=B.getDirection(),this.isStringContent="string"==typeof Qe.nzContent,this.nzConfigService.getConfigChangeEventForComponent(wt).pipe((0,re.Q)(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}onContainerClick(w){w.target===w.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(w){return this.portalOutlet.hasAttached()&&It(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(w)}attachTemplatePortal(w){return this.portalOutlet.hasAttached()&&It(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(w)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const w=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const T=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),I=(0,K.Mk)(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(w,"transform-origin",`${I.left+T.width/2-w.offsetLeft}px ${I.top+T.height/2-w.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>(0,Be.j)(()=>this.host.nativeElement.focus())))}trapFocus(){const w=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{const T=this.document.activeElement;T!==w&&!w.contains(T)&&w.focus()}}restoreFocus(){const w=this.elementFocusedBeforeModalWasOpened;if(w&&"function"==typeof w.focus){const T=this.document.activeElement,I=this.host.nativeElement;(!T||T===this.document.body||T===I||I.contains(T))&&w.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const w=this.modalElementRef.nativeElement,T=this.overlayRef.backdropElement;w.classList.add("ant-zoom-enter"),w.classList.add("ant-zoom-enter-active"),T&&(T.classList.add("ant-fade-enter"),T.classList.add("ant-fade-enter-active"))}setExitAnimationClass(){const w=this.modalElementRef.nativeElement;w.classList.add("ant-zoom-leave"),w.classList.add("ant-zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(w=!1){const T=this.overlayRef.backdropElement;if(T){if(this.animationDisabled()||w)return void T.classList.remove(kt);T.classList.add("ant-fade-leave"),T.classList.add("ant-fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const w=this.overlayRef.backdropElement,T=this.modalElementRef.nativeElement;w&&(w.classList.remove("ant-fade-enter"),w.classList.remove("ant-fade-enter-active")),T.classList.remove("ant-zoom-enter"),T.classList.remove("ant-zoom-enter-active"),T.classList.remove("ant-zoom-leave"),T.classList.remove("ant-zoom-leave-active")}setZIndexForBackdrop(){const w=this.overlayRef.backdropElement;w&&(0,K.n9)(this.config.nzZIndex)&&this.render.setStyle(w,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const w=this.overlayRef.backdropElement;if(w&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(I=>{this.render.removeStyle(w,I)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const T={...this.config.nzMaskStyle};Object.keys(T).forEach(I=>{this.render.setStyle(w,I,T[I])}),this.oldMaskStyle=T}}updateMaskClassname(){const w=this.overlayRef.backdropElement;w&&(this.showMask?w.classList.add(kt):w.classList.remove(kt))}onAnimationDone(w){"enter"===w.toState?this.trapFocus():"exit"===w.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(w)}onAnimationStart(w){"enter"===w.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===w.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(w)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(!0),this.destroy$.complete()}setupMouseListeners(w){this.ngZone.runOutsideAngular(()=>{(0,Ve.R)(this.host.nativeElement,"mouseup").pipe((0,re.Q)(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),(0,Ve.R)(w.nativeElement,"mousedown").pipe((0,re.Q)(this.destroy$)).subscribe(()=>{this.mouseDown=!0})})}static#e=this.\u0275fac=function(T){v.QTQ()};static#t=this.\u0275dir=v.FsC({type:k,features:[v.Vt3]})}return k})(),Ot=(()=>{class k extends Rt{constructor(w,T,I,E,oe,B,ve,Qe,at,Ct,Ut){super(w,I,E,oe,B,ve,Qe,at,Ct,Ut),this.i18n=T,this.config=at,this.cancelTriggered=new v.bkB,this.okTriggered=new v.bkB,this.i18n.localeChange.pipe((0,re.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}static#e=this.\u0275fac=function(T){return new(T||k)(v.rXU(v.SKi),v.rXU(pt.Og),v.rXU(v.aKT),v.rXU(tt.GX),v.rXU(v.gRc),v.rXU(v.sFG),v.rXU(f.yY),v.rXU(Xe.yx),v.rXU(Ye),v.rXU(G.qQ,8),v.rXU(v.bc$,8))};static#t=this.\u0275cmp=v.VBU({type:k,selectors:[["nz-modal-confirm-container"]],viewQuery:function(T,I){if(1&T&&(v.GBs(m.I3,7),v.GBs(nt,7)),2&T){let E;v.mGM(E=v.lsd())&&(I.portalOutlet=E.first),v.mGM(E=v.lsd())&&(I.modalElementRef=E.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(T,I){1&T&&(v.Kam("@modalContainer.start",function(oe){return I.onAnimationStart(oe)})("@modalContainer.done",function(oe){return I.onAnimationDone(oe)}),v.bIt("click",function(oe){return I.onContainerClick(oe)})),2&T&&(v.zvX("@.disabled",I.config.nzNoAnimation)("@modalContainer",I.state),v.HbH(I.config.nzWrapClassName?"ant-modal-wrap "+I.config.nzWrapClassName:"ant-modal-wrap"),v.xc7("z-index",I.config.nzZIndex),v.AVh("ant-modal-wrap-rtl","rtl"===I.dir)("ant-modal-centered",I.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],standalone:!0,features:[v.Vt3,v.aNF],decls:17,vars:13,consts:[["modalElement",""],["role","document",1,"ant-modal",3,"ngClass","ngStyle"],[1,"ant-modal-content"],["nz-modal-close",""],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger"],["nz-modal-close","",3,"click"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzLoading","disabled","nzDanger"]],template:function(T,I){1&T&&(v.j41(0,"div",1,0),v.nI1(2,"nzToCssUnit"),v.j41(3,"div",2),v.DNE(4,ie,1,0,"button",3),v.j41(5,"div",4)(6,"div",5)(7,"div",6),v.nrm(8,"span",7),v.j41(9,"span",8),v.DNE(10,F,2,1,"ng-container",9),v.k0s(),v.j41(11,"div",10),v.DNE(12,_e,0,0,"ng-template",11)(13,ne,1,1,"div",12),v.k0s()(),v.j41(14,"div",13),v.DNE(15,Oe,2,4,"button",14)(16,je,2,6,"button",15),v.k0s()()()()()),2&T&&(v.xc7("width",v.bMT(2,11,null==I.config?null:I.config.nzWidth)),v.Y8G("ngClass",I.config.nzClassName)("ngStyle",I.config.nzStyle),v.R7$(4),v.vxM(4,I.config.nzClosable?4:-1),v.R7$(),v.Y8G("ngStyle",I.config.nzBodyStyle),v.R7$(3),v.Y8G("nzType",I.config.nzIconType),v.R7$(2),v.Y8G("nzStringTemplateOutlet",I.config.nzTitle),v.R7$(3),v.vxM(13,I.isStringContent?13:-1),v.R7$(2),v.vxM(15,null!==I.config.nzCancelText?15:-1),v.R7$(),v.vxM(16,null!==I.config.nzOkText?16:-1))},dependencies:[G.YU,G.B3,We,Te,xe.Y3,xe.Dn,Ht,ze.C,ze.m,m.jc,m.I3,fe.Zw,fe.aO,et.c,Le.p],encapsulation:2,data:{animation:[rt.modalContainer]}})}return k})(),Ft=(()=>{class k{constructor(w,T){this.i18n=w,this.config=T,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new v.bkB,this.okTriggered=new v.bkB,this.destroy$=new Y.B,Array.isArray(T.nzFooter)&&(this.buttonsFooter=!0,this.buttons=T.nzFooter.map(en)),this.i18n.localeChange.pipe((0,re.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(w,T){const I=w[T],E=this.modalRef.getContentComponent();return"function"==typeof I?I.apply(w,E&&[E]):I}onButtonClick(w){if(!this.getButtonCallableProp(w,"loading")){const I=this.getButtonCallableProp(w,"onClick");w.autoLoading&&(0,K.yL)(I)&&(w.loading=!0,I.then(()=>w.loading=!1).catch(E=>{throw w.loading=!1,E}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(T){return new(T||k)(v.rXU(pt.Og),v.rXU(Ye))};static#t=this.\u0275cmp=v.VBU({type:k,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],standalone:!0,features:[v.aNF],attrs:vt,decls:2,vars:1,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],["nz-button","",3,"click","hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzDanger","nzLoading","disabled"]],template:function(T,I){1&T&&v.DNE(0,Mt,1,5,"ng-container")(1,J,2,2),2&T&&v.vxM(0,I.config.nzFooter?0:1)},dependencies:[ze.C,ze.m,fe.Zw,fe.aO,et.c,Le.p],encapsulation:2})}return k})();function en(k){return{type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1,...k}}let wn=(()=>{class k{constructor(w){this.config=w}static#e=this.\u0275fac=function(T){return new(T||k)(v.rXU(Ye))};static#t=this.\u0275cmp=v.VBU({type:k,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],standalone:!0,features:[v.aNF],attrs:He,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(T,I){1&T&&(v.j41(0,"div",0),v.DNE(1,me,2,1,"ng-container",1),v.k0s()),2&T&&(v.R7$(),v.Y8G("nzStringTemplateOutlet",I.config.nzTitle))},dependencies:[ze.C,ze.m],encapsulation:2,changeDetection:0})}return k})(),kn=(()=>{class k extends Rt{constructor(w,T,I,E,oe,B,ve,Qe,at,Ct){super(w,T,I,E,oe,B,ve,Qe,at,Ct),this.config=Qe}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}static#e=this.\u0275fac=function(T){return new(T||k)(v.rXU(v.SKi),v.rXU(v.aKT),v.rXU(tt.GX),v.rXU(v.gRc),v.rXU(v.sFG),v.rXU(f.yY),v.rXU(Xe.yx),v.rXU(Ye),v.rXU(G.qQ,8),v.rXU(v.bc$,8))};static#t=this.\u0275cmp=v.VBU({type:k,selectors:[["nz-modal-container"]],viewQuery:function(T,I){if(1&T&&(v.GBs(m.I3,7),v.GBs(nt,7)),2&T){let E;v.mGM(E=v.lsd())&&(I.portalOutlet=E.first),v.mGM(E=v.lsd())&&(I.modalElementRef=E.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(T,I){1&T&&(v.Kam("@modalContainer.start",function(oe){return I.onAnimationStart(oe)})("@modalContainer.done",function(oe){return I.onAnimationDone(oe)}),v.bIt("click",function(oe){return I.onContainerClick(oe)})),2&T&&(v.zvX("@.disabled",I.config.nzNoAnimation)("@modalContainer",I.state),v.HbH(I.config.nzWrapClassName?"ant-modal-wrap "+I.config.nzWrapClassName:"ant-modal-wrap"),v.xc7("z-index",I.config.nzZIndex),v.AVh("ant-modal-wrap-rtl","rtl"===I.dir)("ant-modal-centered",I.config.nzCentered))},exportAs:["nzModalContainer"],standalone:!0,features:[v.Vt3,v.aNF],decls:10,vars:12,consts:[["modalElement",""],["cdkDrag","","cdkDragBoundary",".cdk-overlay-container","role","document",1,"ant-modal",3,"cdkDragDisabled","ngClass","ngStyle"],[1,"ant-modal-content"],["nz-modal-close",""],["nz-modal-title","","cdkDragHandle","",3,"cursor"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef"],["nz-modal-close","",3,"click"],["nz-modal-title","","cdkDragHandle",""],["nz-modal-footer","",3,"cancelTriggered","okTriggered","modalRef"]],template:function(T,I){1&T&&(v.j41(0,"div",1,0),v.nI1(2,"nzToCssUnit"),v.j41(3,"div",2),v.DNE(4,W,1,0,"button",3)(5,b,1,2,"div",4),v.j41(6,"div",5),v.DNE(7,D,0,0,"ng-template",6)(8,j,1,1,"div",7),v.k0s(),v.DNE(9,Q,1,1,"div",8),v.k0s()()),2&T&&(v.xc7("width",v.bMT(2,10,null==I.config?null:I.config.nzWidth)),v.Y8G("cdkDragDisabled",!I.config.nzDraggable)("ngClass",I.config.nzClassName)("ngStyle",I.config.nzStyle),v.R7$(4),v.vxM(4,I.config.nzClosable?4:-1),v.R7$(),v.vxM(5,I.config.nzTitle?5:-1),v.R7$(),v.Y8G("ngStyle",I.config.nzBodyStyle),v.R7$(2),v.vxM(8,I.isStringContent?8:-1),v.R7$(),v.vxM(9,null!==I.config.nzFooter?9:-1))},dependencies:[G.YU,G.B3,Ht,wn,m.jc,m.I3,Ft,We,Te,mt.T1,mt.Fb],encapsulation:2,data:{animation:[rt.modalContainer]}})}return k})();class $e{constructor(P,w,T){this.overlayRef=P,this.config=w,this.containerInstance=T,this.componentInstance=null,this.componentRef=null,this.state=0,this.afterClose=new Y.B,this.afterOpen=new Y.B,this.destroy$=new Y.B,T.animationStateChanged.pipe((0,ue.p)(I=>"done"===I.phaseName&&"enter"===I.toState),(0,X.s)(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),w.nzAfterOpen instanceof v.bkB&&w.nzAfterOpen.emit()}),T.animationStateChanged.pipe((0,ue.p)(I=>"done"===I.phaseName&&"exit"===I.toState),(0,X.s)(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),T.containerClick.pipe((0,re.Q)(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),P.keydownEvents().pipe((0,ue.p)(I=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&I.keyCode===ht._f&&!(0,ht.rp)(I))).subscribe(I=>{I.preventDefault(),this.trigger("cancel")}),T.cancelTriggered.pipe((0,re.Q)(this.destroy$)).subscribe(()=>this.trigger("cancel")),T.okTriggered.pipe((0,re.Q)(this.destroy$)).subscribe(()=>this.trigger("ok")),P.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),w.nzAfterClose instanceof v.bkB&&w.nzAfterClose.emit(this.result),this.componentInstance=null,this.componentRef=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}getElement(){return this.containerInstance.getNativeElement()}destroy(P){this.close(P)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(P){0===this.state&&(this.result=P,this.containerInstance.animationStateChanged.pipe((0,ue.p)(w=>"start"===w.phaseName),(0,X.s)(1)).subscribe(w=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},w.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(P){Object.assign(this.config,P),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(P){var w=this;return(0,t.A)(function*(){if(1===w.state)return;const T={ok:w.config.nzOnOk,cancel:w.config.nzOnCancel}[P],I={ok:"nzOkLoading",cancel:"nzCancelLoading"}[P];if(!w.config[I])if(T instanceof v.bkB)T.emit(w.getContentComponent());else if("function"==typeof T){const oe=T(w.getContentComponent());if((0,K.yL)(oe)){w.config[I]=!0;let B=!1;try{B=yield oe}finally{w.config[I]=!1,w.closeWhitResult(B)}}else w.closeWhitResult(oe)}})()}closeWhitResult(P){!1!==P&&this.close(P)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}}let Re=(()=>{class k{get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const w=this.parentModal;return w?w._afterAllClosed:this.afterAllClosedAtThisLevel}constructor(w,T,I,E,oe){this.overlay=w,this.injector=T,this.nzConfigService=I,this.parentModal=E,this.directionality=oe,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new Y.B,this.afterAllClose=(0,be.v)(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe((0,ee.Z)(void 0)))}create(w){return this.open(w.nzContent,w)}closeAll(){this.closeModals(this.openModals)}confirm(w={},T="confirm"){return"nzFooter"in w&&(0,le.R8)('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in w||(w.nzWidth=416),"nzMaskClosable"in w||(w.nzMaskClosable=!1),w.nzModalType="confirm",w.nzClassName=`ant-modal-confirm ant-modal-confirm-${T} ${w.nzClassName||""}`,this.create(w)}info(w={}){return this.confirmFactory(w,"info")}success(w={}){return this.confirmFactory(w,"success")}error(w={}){return this.confirmFactory(w,"error")}warning(w={}){return this.confirmFactory(w,"warning")}open(w,T){const I=function Ee(k,P){return{...P,...k}}(T||{},new Ye),E=this.createOverlay(I),oe=this.attachModalContainer(E,I),B=this.attachModalContent(w,oe,E,I);return oe.modalRef=B,(0,pe.G5)(E,T?.nzZIndex),this.openModals.push(B),B.afterClose.subscribe(()=>this.removeOpenModal(B)),B}removeOpenModal(w){const T=this.openModals.indexOf(w);T>-1&&(this.openModals.splice(T,1),this.openModals.length||this._afterAllClosed.next())}closeModals(w){let T=w.length;for(;T--;)w[T].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(w){const T=this.nzConfigService.getConfigForComponent(wt)||{},I=new f.rR({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:Je(w.nzCloseOnNavigation,T.nzCloseOnNavigation,!0),direction:Je(w.nzDirection,T.nzDirection,this.directionality.value)});return Je(w.nzMask,T.nzMask,!0)&&(I.backdropClass=kt),this.overlay.create(I)}attachModalContainer(w,T){const E=v.zZn.create({parent:T&&T.nzViewContainerRef&&T.nzViewContainerRef.injector||this.injector,providers:[{provide:f.yY,useValue:w},{provide:Ye,useValue:T}]}),B=new m.A8("confirm"===T.nzModalType?Ot:kn,T.nzViewContainerRef,E);return w.attach(B).instance}attachModalContent(w,T,I,E){const oe=new $e(I,E,T);if(w instanceof v.C4Q)T.attachTemplatePortal(new m.VA(w,null,{$implicit:E.nzData,modalRef:oe}));else if((0,K.n9)(w)&&"string"!=typeof w){const B=this.createInjector(oe,E),ve=T.attachComponentPortal(new m.A8(w,E.nzViewContainerRef,B));oe.componentRef=ve,oe.componentInstance=ve.instance}else T.attachStringContent();return oe}createInjector(w,T){return v.zZn.create({parent:T&&T.nzViewContainerRef&&T.nzViewContainerRef.injector||this.injector,providers:[{provide:$e,useValue:w},{provide:Yt,useValue:T.nzData}]})}confirmFactory(w={},T){return"nzIconType"in w||(w.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[T]),"nzCancelText"in w||(w.nzCancelText=null),this.confirm(w,T)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}static#e=this.\u0275fac=function(T){return new(T||k)(v.KVO(f.hJ),v.KVO(v.zZn),v.KVO(Xe.yx),v.KVO(k,12),v.KVO(xt.dS,8))};static#t=this.\u0275prov=v.jDH({token:k,factory:k.\u0275fac})}return k})(),ot=(()=>{class k{constructor(w,T){this.nzModalRef=w,this.templateRef=T,this.nzModalRef&&this.nzModalRef.updateConfig({nzTitle:this.templateRef})}static#e=this.\u0275fac=function(T){return new(T||k)(v.rXU($e,8),v.rXU(v.C4Q))};static#t=this.\u0275dir=v.FsC({type:k,selectors:[["","nzModalTitle",""]],exportAs:["nzModalTitle"],standalone:!0})}return k})(),$=(()=>{class k{static#e=this.\u0275fac=function(T){return new(T||k)};static#t=this.\u0275mod=v.$C({type:k});static#n=this.\u0275inj=v.G2t({providers:[Re],imports:[Ht,Ft,wn,kn,Ot]})}return k})()},6504:(Lt,ct,C)=>{"use strict";C.d(ct,{K9:()=>Gt,xY:()=>nt});var t=C(177),f=C(4438),m=C(713),v=C(7806),Y=C(5103),Ve=C(7094),be=C(1413),re=C(6977),ue=C(317),X=C(6035),ee=C(1025),le=C(6969);const pe=(F,_e)=>({$implicit:F,data:_e}),K=F=>({$implicit:F});function G(F,_e){}function fe(F,_e){if(1&F&&f.DNE(0,G,0,0,"ng-template",1),2&F){const ne=f.XpG();f.Y8G("ngTemplateOutlet",ne.instance.template)("ngTemplateOutletContext",f.l_i(2,pe,ne,null==ne.instance.options?null:ne.instance.options.nzData))}}function ze(F,_e){1&F&&f.nrm(0,"span",9)}function xe(F,_e){1&F&&f.nrm(0,"span",10)}function Fe(F,_e){1&F&&f.nrm(0,"span",11)}function Ge(F,_e){1&F&&f.nrm(0,"span",12)}function he(F,_e){if(1&F&&(f.qex(0),f.nrm(1,"div",13),f.bVm()),2&F){const ne=f.XpG(2);f.R7$(),f.Y8G("innerHTML",ne.instance.title,f.npT)}}function Te(F,_e){if(1&F&&(f.qex(0),f.nrm(1,"div",13),f.bVm()),2&F){const ne=f.XpG(2);f.R7$(),f.Y8G("innerHTML",ne.instance.content,f.npT)}}function Z(F,_e){}function Se(F,_e){if(1&F&&(f.j41(0,"span",8),f.DNE(1,Z,0,0,"ng-template",1),f.k0s()),2&F){const ne=f.XpG(2);f.R7$(),f.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",f.eq3(2,K,ne))}}function ae(F,_e){if(1&F&&(f.j41(0,"div",4)(1,"div",4)(2,"div"),f.DNE(3,ze,1,0)(4,xe,1,0)(5,Fe,1,0)(6,Ge,1,0),f.j41(7,"div",5),f.DNE(8,he,2,1,"ng-container",6),f.k0s(),f.j41(9,"div",7),f.DNE(10,Te,2,1,"ng-container",6),f.k0s(),f.DNE(11,Se,2,4,"span",8),f.k0s()()()),2&F){let ne,Oe;const je=f.XpG();f.R7$(2),f.AVh("ant-notification-notice-with-icon","blank"!==je.instance.type),f.R7$(),f.vxM(3,"success"===(ne=je.instance.type)?3:"info"===ne?4:"warning"===ne?5:"error"===ne?6:-1),f.R7$(5),f.Y8G("nzStringTemplateOutlet",je.instance.title),f.R7$(2),f.Y8G("nzStringTemplateOutlet",je.instance.content),f.R7$(),f.vxM(11,(Oe=null==je.instance.options?null:je.instance.options.nzButton)?11:-1,Oe)}}function Ze(F,_e){if(1&F&&(f.qex(0),f.nrm(1,"span",14),f.bVm()),2&F){const ne=_e.$implicit;f.R7$(),f.Y8G("nzType",ne)}}function Pe(F,_e){if(1&F&&f.DNE(0,Ze,2,1,"ng-container",6),2&F){const ne=f.XpG();f.Y8G("nzStringTemplateOutlet",null==ne.instance.options?null:ne.instance.options.nzCloseIcon)}}function We(F,_e){1&F&&f.nrm(0,"span",15)}function qe(F,_e){if(1&F){const ne=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(je){f.eBV(ne);const vt=f.XpG();return f.Njj(vt.remove(je.id,je.userAction))}),f.k0s()}2&F&&f.Y8G("instance",_e.$implicit)("placement","topLeft")}function Be(F,_e){if(1&F){const ne=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(je){f.eBV(ne);const vt=f.XpG();return f.Njj(vt.remove(je.id,je.userAction))}),f.k0s()}2&F&&f.Y8G("instance",_e.$implicit)("placement","topRight")}function tt(F,_e){if(1&F){const ne=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(je){f.eBV(ne);const vt=f.XpG();return f.Njj(vt.remove(je.id,je.userAction))}),f.k0s()}2&F&&f.Y8G("instance",_e.$implicit)("placement","bottomLeft")}function Xe(F,_e){if(1&F){const ne=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(je){f.eBV(ne);const vt=f.XpG();return f.Njj(vt.remove(je.id,je.userAction))}),f.k0s()}2&F&&f.Y8G("instance",_e.$implicit)("placement","bottomRight")}function pt(F,_e){if(1&F){const ne=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(je){f.eBV(ne);const vt=f.XpG();return f.Njj(vt.remove(je.id,je.userAction))}),f.k0s()}2&F&&f.Y8G("instance",_e.$implicit)("placement","top")}function et(F,_e){if(1&F){const ne=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(je){f.eBV(ne);const vt=f.XpG();return f.Njj(vt.remove(je.id,je.userAction))}),f.k0s()}2&F&&f.Y8G("instance",_e.$implicit)("placement","bottom")}let Le=(()=>{class F extends Ve.nF{constructor(ne){super(ne),this.destroyed=new f.bkB}ngOnDestroy(){super.ngOnDestroy(),this.instance.onClick.complete()}onClick(ne){this.instance.onClick.next(ne)}close(){this.destroy(!0)}get state(){if("enter"!==this.instance.state)return this.instance.state;switch(this.placement){case"topLeft":case"bottomLeft":return"enterLeft";case"topRight":case"bottomRight":default:return"enterRight";case"top":return"enterTop";case"bottom":return"enterBottom"}}static#e=this.\u0275fac=function(Oe){return new(Oe||F)(f.rXU(f.gRc))};static#t=this.\u0275cmp=f.VBU({type:F,selectors:[["nz-notification"]],inputs:{instance:"instance",index:"index",placement:"placement"},outputs:{destroyed:"destroyed"},exportAs:["nzNotification"],standalone:!0,features:[f.Vt3,f.aNF],decls:7,vars:5,consts:[[1,"ant-notification-notice","ant-notification-notice-closable",3,"click","mouseenter","mouseleave","ngStyle","ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"ant-notification-notice-close",3,"click"],[1,"ant-notification-notice-close-x"],[1,"ant-notification-notice-content"],[1,"ant-notification-notice-message"],[4,"nzStringTemplateOutlet"],[1,"ant-notification-notice-description"],[1,"ant-notification-notice-btn"],["nz-icon","","nzType","check-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-success"],["nz-icon","","nzType","info-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-info"],["nz-icon","","nzType","exclamation-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-warning"],["nz-icon","","nzType","close-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-error"],[3,"innerHTML"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","close",1,"ant-notification-close-icon"]],template:function(Oe,je){1&Oe&&(f.j41(0,"div",0),f.bIt("@notificationMotion.done",function(Pt){return je.animationStateChanged.next(Pt)})("click",function(Pt){return je.onClick(Pt)})("mouseenter",function(){return je.onEnter()})("mouseleave",function(){return je.onLeave()}),f.DNE(1,fe,1,5,null,1)(2,ae,12,6),f.j41(3,"a",2),f.bIt("click",function(){return je.close()}),f.j41(4,"span",3),f.DNE(5,Pe,1,1,"ng-container")(6,We,1,0),f.k0s()()()),2&Oe&&(f.Y8G("ngStyle",(null==je.instance.options?null:je.instance.options.nzStyle)||null)("ngClass",(null==je.instance.options?null:je.instance.options.nzClass)||"")("@notificationMotion",je.state),f.R7$(),f.vxM(1,je.instance.template?1:2),f.R7$(4),f.vxM(5,null!=je.instance.options&&je.instance.options.nzCloseIcon?5:6))},dependencies:[t.B3,t.YU,Y.Y3,Y.Dn,v.C,v.m,t.T3],encapsulation:2,data:{animation:[m.AJ]}})}return F})();const mt="notification",ht={nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:8,nzPauseOnHover:!0,nzAnimate:!0,nzDirection:"ltr"};let xt=(()=>{class F extends Ve.op{constructor(ne,Oe){super(ne,Oe),this.dir="ltr",this.instances=[],this.topLeftInstances=[],this.topRightInstances=[],this.bottomLeftInstances=[],this.bottomRightInstances=[],this.topInstances=[],this.bottomInstances=[];const je=this.nzConfigService.getConfigForComponent(mt);this.dir=je?.nzDirection||"ltr"}create(ne){const Oe=this.onCreate(ne),je=Oe.options.nzKey,vt=this.instances.find(Pt=>Pt.options.nzKey===ne.options.nzKey);return je&&vt?this.replaceNotification(vt,Oe):(this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,Oe]),this.readyInstances(),Oe}onCreate(ne){return ne.options=this.mergeOptions(ne.options),ne.onClose=new be.B,ne.onClick=new be.B,ne}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(mt).pipe((0,re.Q)(this.destroy$)).subscribe(()=>{this.updateConfig();const ne=this.nzConfigService.getConfigForComponent(mt);if(ne){const{nzDirection:Oe}=ne;this.dir=Oe||this.dir}})}updateConfig(){this.config={...ht,...this.config,...this.nzConfigService.getConfigForComponent(mt)},this.top=(0,ue.j3)(this.config.nzTop),this.bottom=(0,ue.j3)(this.config.nzBottom),this.cdr.markForCheck()}replaceNotification(ne,Oe){ne.title=Oe.title,ne.content=Oe.content,ne.template=Oe.template,ne.type=Oe.type,ne.options=Oe.options}readyInstances(){const ne={topLeft:[],topRight:[],bottomLeft:[],bottomRight:[],top:[],bottom:[]};this.instances.forEach(Oe=>{switch(Oe.options.nzPlacement){case"topLeft":ne.topLeft.unshift(Oe);break;case"topRight":default:ne.topRight.unshift(Oe);break;case"bottomLeft":ne.bottomLeft.unshift(Oe);break;case"bottomRight":ne.bottomRight.unshift(Oe);break;case"top":ne.top.unshift(Oe);break;case"bottom":ne.bottom.unshift(Oe)}}),this.topLeftInstances=ne.topLeft,this.topRightInstances=ne.topRight,this.bottomLeftInstances=ne.bottomLeft,this.bottomRightInstances=ne.bottomRight,this.topInstances=ne.top,this.bottomInstances=ne.bottom,this.cdr.detectChanges()}mergeOptions(ne){const{nzDuration:Oe,nzAnimate:je,nzPauseOnHover:vt,nzPlacement:Pt}=this.config;return{nzDuration:Oe,nzAnimate:je,nzPauseOnHover:vt,nzPlacement:Pt,...ne}}static#e=this.\u0275fac=function(Oe){return new(Oe||F)(f.rXU(f.gRc),f.rXU(X.yx))};static#t=this.\u0275cmp=f.VBU({type:F,selectors:[["nz-notification-container"]],exportAs:["nzNotificationContainer"],standalone:!0,features:[f.Vt3,f.aNF],decls:18,vars:40,consts:[[1,"ant-notification","ant-notification-topLeft"],[3,"instance","placement"],[1,"ant-notification","ant-notification-topRight"],[1,"ant-notification","ant-notification-bottomLeft"],[1,"ant-notification","ant-notification-bottomRight"],[1,"ant-notification","ant-notification-top"],[1,"ant-notification","ant-notification-bottom"],[3,"destroyed","instance","placement"]],template:function(Oe,je){1&Oe&&(f.j41(0,"div",0),f.Z7z(1,qe,1,2,"nz-notification",1,f.fX1),f.k0s(),f.j41(3,"div",2),f.Z7z(4,Be,1,2,"nz-notification",1,f.fX1),f.k0s(),f.j41(6,"div",3),f.Z7z(7,tt,1,2,"nz-notification",1,f.fX1),f.k0s(),f.j41(9,"div",4),f.Z7z(10,Xe,1,2,"nz-notification",1,f.fX1),f.k0s(),f.j41(12,"div",5),f.Z7z(13,pt,1,2,"nz-notification",1,f.fX1),f.k0s(),f.j41(15,"div",6),f.Z7z(16,et,1,2,"nz-notification",1,f.fX1),f.k0s()),2&Oe&&(f.xc7("top",je.top)("left","0px"),f.AVh("ant-notification-rtl","rtl"===je.dir),f.R7$(),f.Dyx(je.topLeftInstances),f.R7$(2),f.xc7("top",je.top)("right","0px"),f.AVh("ant-notification-rtl","rtl"===je.dir),f.R7$(),f.Dyx(je.topRightInstances),f.R7$(2),f.xc7("bottom",je.bottom)("left","0px"),f.AVh("ant-notification-rtl","rtl"===je.dir),f.R7$(),f.Dyx(je.bottomLeftInstances),f.R7$(2),f.xc7("bottom",je.bottom)("right","0px"),f.AVh("ant-notification-rtl","rtl"===je.dir),f.R7$(),f.Dyx(je.bottomRightInstances),f.R7$(2),f.xc7("top",je.top)("left","50%")("transform","translateX(-50%)"),f.AVh("ant-notification-rtl","rtl"===je.dir),f.R7$(),f.Dyx(je.topInstances),f.R7$(2),f.xc7("bottom",je.bottom)("left","50%")("transform","translateX(-50%)"),f.AVh("ant-notification-rtl","rtl"===je.dir),f.R7$(),f.Dyx(je.bottomInstances))},dependencies:[Le],encapsulation:2,changeDetection:0})}return F})(),Gt=(()=>{class F{static#e=this.\u0275fac=function(Oe){return new(Oe||F)};static#t=this.\u0275mod=f.$C({type:F});static#n=this.\u0275inj=f.G2t({imports:[Le,xt]})}return F})(),Me=0,nt=(()=>{class F extends Ve.Pz{constructor(ne,Oe,je){super(ne,Oe,je),this.componentPrefix="notification-"}success(ne,Oe,je){return this.create("success",ne,Oe,je)}error(ne,Oe,je){return this.create("error",ne,Oe,je)}info(ne,Oe,je){return this.create("info",ne,Oe,je)}warning(ne,Oe,je){return this.create("warning",ne,Oe,je)}blank(ne,Oe,je){return this.create("blank",ne,Oe,je)}create(ne,Oe,je,vt){return this.createInstance({type:ne,title:Oe,content:je},vt)}template(ne,Oe){return this.createInstance({template:ne},Oe)}generateMessageId(){return`${this.componentPrefix}-${Me++}`}createInstance(ne,Oe){return this.container=this.withContainer(xt),this.container.create({...ne,createdAt:new Date,messageId:Oe?.nzKey||this.generateMessageId(),options:Oe})}static#e=this.\u0275fac=function(Oe){return new(Oe||F)(f.KVO(ee.HL),f.KVO(le.hJ),f.KVO(f.zZn))};static#t=this.\u0275prov=f.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},7064:(Lt,ct,C)=>{"use strict";C.d(ct,{V:()=>xt,m:()=>Gt});var t=C(4438),f=C(1635),m=C(177),v=C(1413),Y=C(6977),Ve=C(6035),be=C(7806),re=C(317),ue=C(5103),X=C(8203);const ee=Me=>({$implicit:Me});function le(Me,nt){if(1&Me&&t.nrm(0,"span",4),2&Me){const ie=t.XpG(3);t.Y8G("nzType",ie.icon)}}function pe(Me,nt){if(1&Me&&(t.qex(0),t.EFF(1),t.bVm()),2&Me){const ie=nt.$implicit,F=t.XpG(4);t.R7$(),t.SpI(" ",ie(F.nzPercent)," ")}}function K(Me,nt){if(1&Me&&t.DNE(0,pe,2,1,"ng-container",5),2&Me){const ie=t.XpG(3);t.Y8G("nzStringTemplateOutlet",ie.formatter)("nzStringTemplateOutletContext",t.eq3(2,ee,ie.nzPercent))}}function G(Me,nt){if(1&Me&&(t.j41(0,"span",3),t.DNE(1,le,1,1,"span",4)(2,K,1,4),t.k0s()),2&Me){const ie=t.XpG(2);t.R7$(),t.vxM(1,"exception"!==ie.status&&"success"!==ie.status||ie.nzFormat?2:1)}}function fe(Me,nt){if(1&Me&&t.DNE(0,G,3,1,"span",3),2&Me){const ie=t.XpG();t.vxM(0,ie.nzShowInfo?0:-1)}}function ze(Me,nt){1&Me&&t.nrm(0,"div",7),2&Me&&t.Y8G("ngStyle",nt.$implicit)}function xe(Me,nt){}function Fe(Me,nt){if(1&Me&&(t.j41(0,"div",6),t.Z7z(1,ze,1,1,"div",7,t.fX1),t.DNE(3,xe,0,0,"ng-template",8),t.k0s()),2&Me){const ie=t.XpG(2),F=t.sdS(1);t.R7$(),t.Dyx(ie.steps),t.R7$(2),t.Y8G("ngTemplateOutlet",F)}}function Ge(Me,nt){if(1&Me&&t.nrm(0,"div",13),2&Me){const ie=t.XpG(3);t.xc7("width",ie.nzSuccessPercent,"%")("border-radius","round"===ie.nzStrokeLinecap?"100px":"0")("height",ie.strokeWidth,"px")}}function he(Me,nt){}function Te(Me,nt){if(1&Me&&(t.j41(0,"div",9)(1,"div",10),t.nrm(2,"div",11),t.DNE(3,Ge,1,6,"div",12),t.k0s()(),t.DNE(4,he,0,0,"ng-template",8)),2&Me){const ie=t.XpG(2),F=t.sdS(1);t.R7$(2),t.xc7("width",ie.nzPercent,"%")("border-radius","round"===ie.nzStrokeLinecap?"100px":"0")("background",ie.isGradient?null:ie.nzStrokeColor)("background-image",ie.isGradient?ie.lineGradient:null)("height",ie.strokeWidth,"px"),t.R7$(),t.vxM(3,ie.nzSuccessPercent||0===ie.nzSuccessPercent?3:-1),t.R7$(),t.Y8G("ngTemplateOutlet",F)}}function Z(Me,nt){if(1&Me&&(t.j41(0,"div"),t.DNE(1,Fe,4,1,"div",6)(2,Te,5,12),t.k0s()),2&Me){const ie=t.XpG();t.R7$(),t.vxM(1,ie.isSteps?1:2)}}function Se(Me,nt){if(1&Me&&(t.qSk(),t.nrm(0,"stop")),2&Me){const ie=nt.$implicit;t.BMQ("offset",ie.offset)("stop-color",ie.color)}}function ae(Me,nt){if(1&Me&&(t.qSk(),t.j41(0,"defs")(1,"linearGradient",17),t.Z7z(2,Se,1,2,":svg:stop",null,t.fX1),t.k0s()()),2&Me){const ie=t.XpG(2);t.R7$(),t.Y8G("id","gradient-"+ie.gradientId),t.R7$(),t.Dyx(ie.circleGradient)}}function Ze(Me,nt){if(1&Me&&(t.qSk(),t.nrm(0,"path",16)),2&Me){const ie=nt.$implicit,F=t.XpG(2);t.Y8G("ngStyle",ie.strokePathStyle),t.BMQ("d",F.pathString)("stroke-linecap",F.nzStrokeLinecap)("stroke",ie.stroke)("stroke-width",F.nzPercent?F.strokeWidth:0)}}function Pe(Me,nt){}function We(Me,nt){if(1&Me&&(t.j41(0,"div",10),t.qSk(),t.j41(1,"svg",14),t.DNE(2,ae,4,1,":svg:defs"),t.nrm(3,"path",15),t.Z7z(4,Ze,1,5,":svg:path",16,t.fX1),t.k0s(),t.DNE(6,Pe,0,0,"ng-template",8),t.k0s()),2&Me){const ie=t.XpG(),F=t.sdS(1);t.xc7("width",ie.nzWidth,"px")("height",ie.nzWidth,"px")("font-size",.15*ie.nzWidth+6,"px"),t.AVh("ant-progress-circle-gradient",ie.isGradient),t.R7$(2),t.vxM(2,ie.isGradient?2:-1),t.R7$(),t.Y8G("ngStyle",ie.trailPathStyle),t.BMQ("stroke-width",ie.strokeWidth)("d",ie.pathString),t.R7$(),t.Dyx(ie.progressCirclePath),t.R7$(2),t.Y8G("ngTemplateOutlet",F)}}const Be=Me=>{let nt=[];return Object.keys(Me).forEach(ie=>{const F=Me[ie],_e=function qe(Me){return+Me.replace("%","")}(ie);isNaN(_e)||nt.push({key:_e,value:F})}),nt=nt.sort((ie,F)=>ie.key-F.key),nt};let pt=0;const et="progress",Le=new Map([["success","check"],["exception","close"]]),mt=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),ht=Me=>`${Me}%`;let xt=(()=>{class Me{get formatter(){return this.nzFormat||ht}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}get isCircleStyle(){return"circle"===this.nzType||"dashboard"===this.nzType}constructor(ie,F,_e){this.cdr=ie,this.nzConfigService=F,this.directionality=_e,this._nzModuleName=et,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=pt++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new v.B}ngOnChanges(ie){const{nzSteps:F,nzGapPosition:_e,nzStrokeLinecap:ne,nzStrokeColor:Oe,nzGapDegree:je,nzType:vt,nzStatus:Pt,nzPercent:At,nzSuccessPercent:Wt,nzStrokeWidth:qt}=ie;Pt&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(At||Wt)&&(parseInt(this.nzPercent.toString(),10)>=100?((0,re.n9)(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(Pt||At||Wt||Oe)&&this.updateIcon(),Oe&&this.setStrokeColor(),(_e||ne||je||vt||At||Oe||Oe)&&this.getCirclePaths(),(At||F||qt)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(et).pipe((0,Y.Q)(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe((0,Y.Q)(this.destroy$)).subscribe(ie=>{this.dir=ie,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){const ie=Le.get(this.status);this.icon=ie?ie+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){const ie=Math.floor(this.nzSteps*(this.nzPercent/100)),F="small"===this.nzSize?2:14,_e=[];for(let ne=0;ne<this.nzSteps;ne++){let Oe;ne<=ie-1&&(Oe=this.nzStrokeColor),_e.push({backgroundColor:`${Oe}`,width:`${F}px`,height:`${this.strokeWidth}px`})}this.steps=_e}getCirclePaths(){if(!this.isCircleStyle)return;const ie=(0,re.n9)(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],F=50-this.strokeWidth/2,ne=2*Math.PI*F,Oe=this.nzGapDegree||("circle"===this.nzType?0:75);let je=0,vt=-F,Pt=0,At=-2*F;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":je=-F,vt=0,Pt=2*F,At=0;break;case"right":je=F,vt=0,Pt=-2*F,At=0;break;case"bottom":vt=F,At=2*F}this.pathString=`M 50,50 m ${je},${vt}\n       a ${F},${F} 0 1 1 ${Pt},${-At}\n       a ${F},${F} 0 1 1 ${-Pt},${At}`,this.trailPathStyle={strokeDasharray:`${ne-Oe}px ${ne}px`,strokeDashoffset:`-${Oe/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=ie.map((Wt,qt)=>{const lt=2===ie.length&&0===qt;return{stroke:this.isGradient&&!lt?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:lt?mt.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(Wt||0)/100*(ne-Oe)}px ${ne}px`,strokeDashoffset:`-${Oe/2}px`}}}).reverse()}setStrokeColor(){const ie=this.nzStrokeColor,F=this.isGradient=!!ie&&"string"!=typeof ie;F&&!this.isCircleStyle?this.lineGradient=(Me=>{const{from:nt="#1890ff",to:ie="#1890ff",direction:F="to right",..._e}=Me;return 0!==Object.keys(_e).length?`linear-gradient(${F}, ${Be(_e).map(({key:Oe,value:je})=>`${je} ${Oe}%`).join(", ")})`:`linear-gradient(${F}, ${nt}, ${ie})`})(ie):F&&this.isCircleStyle?this.circleGradient=(Me=>Be(this.nzStrokeColor).map(({key:nt,value:ie})=>({offset:`${nt}%`,color:ie})))():(this.lineGradient=null,this.circleGradient=[])}static#e=this.\u0275fac=function(F){return new(F||Me)(t.rXU(t.gRc),t.rXU(Ve.yx),t.rXU(X.dS,8))};static#t=this.\u0275cmp=t.VBU({type:Me,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps"},exportAs:["nzProgress"],standalone:!0,features:[t.OA$,t.aNF],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"ngStyle"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"]],template:function(F,_e){1&F&&(t.DNE(0,fe,1,1,"ng-template",null,0,t.C5r),t.j41(2,"div",1),t.DNE(3,Z,3,1,"div")(4,We,7,13,"div",2),t.k0s()),2&F&&(t.R7$(2),t.AVh("ant-progress-line","line"===_e.nzType)("ant-progress-small","small"===_e.nzSize)("ant-progress-default","default"===_e.nzSize)("ant-progress-show-info",_e.nzShowInfo)("ant-progress-circle",_e.isCircleStyle)("ant-progress-steps",_e.isSteps)("ant-progress-rtl","rtl"===_e.dir),t.Y8G("ngClass","ant-progress ant-progress-status-"+_e.status),t.R7$(),t.vxM(3,"line"===_e.nzType?3:-1),t.R7$(),t.vxM(4,_e.isCircleStyle?4:-1))},dependencies:[ue.Y3,ue.Dn,be.C,be.m,m.YU,m.T3,m.B3],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Ve.H4)()],Me.prototype,"nzShowInfo",void 0),(0,f.Cg)([(0,Ve.H4)()],Me.prototype,"nzStrokeColor",void 0),(0,f.Cg)([(0,Ve.H4)()],Me.prototype,"nzSize",void 0),(0,f.Cg)([(0,re.YI)()],Me.prototype,"nzSuccessPercent",void 0),(0,f.Cg)([(0,re.YI)()],Me.prototype,"nzPercent",void 0),(0,f.Cg)([(0,Ve.H4)(),(0,re.YI)()],Me.prototype,"nzStrokeWidth",void 0),(0,f.Cg)([(0,Ve.H4)(),(0,re.YI)()],Me.prototype,"nzGapDegree",void 0),(0,f.Cg)([(0,Ve.H4)()],Me.prototype,"nzGapPosition",void 0),(0,f.Cg)([(0,Ve.H4)()],Me.prototype,"nzStrokeLinecap",void 0),(0,f.Cg)([(0,re.YI)()],Me.prototype,"nzSteps",void 0),Me})(),Gt=(()=>{class Me{static#e=this.\u0275fac=function(F){return new(F||Me)};static#t=this.\u0275mod=t.$C({type:Me});static#n=this.\u0275inj=t.G2t({imports:[xt]})}return Me})()},3190:(Lt,ct,C)=>{"use strict";C.d(ct,{Sw:()=>xe,i3:()=>fe,lx:()=>ze});var t=C(1635),f=C(4438),m=C(4341),v=C(2771),Y=C(1413),Ve=C(3726),be=C(6977),re=C(317),ue=C(8203),X=C(851),ee=C(7891);const le=["*"],pe=["inputElement"],K=["nz-radio",""];let G=(()=>{class Fe{constructor(){this.selected$=new v.m(1),this.touched$=new Y.B,this.disabled$=new v.m(1),this.name$=new v.m(1)}touch(){this.touched$.next()}select(he){this.selected$.next(he)}setDisabled(he){this.disabled$.next(he)}setName(he){this.name$.next(he)}static#e=this.\u0275fac=function(Te){return new(Te||Fe)};static#t=this.\u0275prov=f.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})(),fe=(()=>{class Fe{constructor(he,Te,Z){this.cdr=he,this.nzRadioService=Te,this.directionality=Z,this.value=null,this.destroy$=new Y.B,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzDisabled=!1,this.nzButtonStyle="outline",this.nzSize="default",this.nzName=null,this.dir="ltr"}ngOnInit(){this.nzRadioService.selected$.pipe((0,be.Q)(this.destroy$)).subscribe(he=>{this.value!==he&&(this.value=he,this.onChange(this.value))}),this.nzRadioService.touched$.pipe((0,be.Q)(this.destroy$)).subscribe(()=>{Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe((0,be.Q)(this.destroy$)).subscribe(he=>{this.dir=he,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(he){const{nzDisabled:Te,nzName:Z}=he;Te&&this.nzRadioService.setDisabled(this.nzDisabled),Z&&this.nzRadioService.setName(this.nzName)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}writeValue(he){this.value=he,this.nzRadioService.select(he),this.cdr.markForCheck()}registerOnChange(he){this.onChange=he}registerOnTouched(he){this.onTouched=he}setDisabledState(he){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||he,this.isNzDisableFirstChange=!1,this.nzRadioService.setDisabled(this.nzDisabled),this.cdr.markForCheck()}static#e=this.\u0275fac=function(Te){return new(Te||Fe)(f.rXU(f.gRc),f.rXU(G),f.rXU(ue.dS,8))};static#t=this.\u0275cmp=f.VBU({type:Fe,selectors:[["nz-radio-group"]],hostAttrs:[1,"ant-radio-group"],hostVars:8,hostBindings:function(Te,Z){2&Te&&f.AVh("ant-radio-group-large","large"===Z.nzSize)("ant-radio-group-small","small"===Z.nzSize)("ant-radio-group-solid","solid"===Z.nzButtonStyle)("ant-radio-group-rtl","rtl"===Z.dir)},inputs:{nzDisabled:"nzDisabled",nzButtonStyle:"nzButtonStyle",nzSize:"nzSize",nzName:"nzName"},exportAs:["nzRadioGroup"],standalone:!0,features:[f.Jv_([G,{provide:m.kq,useExisting:(0,f.Rfq)(()=>Fe),multi:!0}]),f.OA$,f.aNF],ngContentSelectors:le,decls:1,vars:0,template:function(Te,Z){1&Te&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,re.H3)()],Fe.prototype,"nzDisabled",void 0),Fe})(),ze=(()=>{class Fe{focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(he,Te,Z,Se,ae,Ze,Pe){this.ngZone=he,this.elementRef=Te,this.cdr=Z,this.focusMonitor=Se,this.directionality=ae,this.nzRadioService=Ze,this.nzFormStatusService=Pe,this.isNgModel=!1,this.destroy$=new Y.B,this.isNzDisableFirstChange=!0,this.isChecked=!1,this.name=null,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.isRadioButton=!1,this.dir="ltr"}setDisabledState(he){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||he,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}writeValue(he){this.isChecked=he,this.cdr.markForCheck()}registerOnChange(he){this.isNgModel=!0,this.onChange=he}registerOnTouched(he){this.onTouched=he}ngOnInit(){this.nzRadioService&&(this.nzRadioService.name$.pipe((0,be.Q)(this.destroy$)).subscribe(he=>{this.name=he,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe((0,be.Q)(this.destroy$)).subscribe(he=>{this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||he,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe((0,be.Q)(this.destroy$)).subscribe(he=>{const Te=this.isChecked;this.isChecked=this.nzValue===he,this.isNgModel&&Te!==this.isChecked&&!1===this.isChecked&&this.onChange(!1),this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,be.Q)(this.destroy$)).subscribe(he=>{he||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),this.directionality.change.pipe((0,be.Q)(this.destroy$)).subscribe(he=>{this.dir=he,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setupClickListener()}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setupClickListener(){this.ngZone.runOutsideAngular(()=>{(0,Ve.R)(this.elementRef.nativeElement,"click").pipe((0,be.Q)(this.destroy$)).subscribe(he=>{he.stopPropagation(),he.preventDefault(),!this.nzDisabled&&!this.isChecked&&this.ngZone.run(()=>{this.focus(),this.nzRadioService?.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)),this.cdr.markForCheck()})})})}static#e=this.\u0275fac=function(Te){return new(Te||Fe)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(X.FN),f.rXU(ue.dS,8),f.rXU(G,8),f.rXU(ee.is,8))};static#t=this.\u0275cmp=f.VBU({type:Fe,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(Te,Z){if(1&Te&&f.GBs(pe,7),2&Te){let Se;f.mGM(Se=f.lsd())&&(Z.inputElement=Se.first)}},hostVars:18,hostBindings:function(Te,Z){2&Te&&f.AVh("ant-radio-wrapper-in-form-item",!!Z.nzFormStatusService)("ant-radio-wrapper",!Z.isRadioButton)("ant-radio-button-wrapper",Z.isRadioButton)("ant-radio-wrapper-checked",Z.isChecked&&!Z.isRadioButton)("ant-radio-button-wrapper-checked",Z.isChecked&&Z.isRadioButton)("ant-radio-wrapper-disabled",Z.nzDisabled&&!Z.isRadioButton)("ant-radio-button-wrapper-disabled",Z.nzDisabled&&Z.isRadioButton)("ant-radio-wrapper-rtl",!Z.isRadioButton&&"rtl"===Z.dir)("ant-radio-button-wrapper-rtl",Z.isRadioButton&&"rtl"===Z.dir)},inputs:{nzValue:"nzValue",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",isRadioButton:[f.Mj6.HasDecoratorInputTransform,"nz-radio-button","isRadioButton",f.L39]},exportAs:["nzRadio"],standalone:!0,features:[f.Jv_([{provide:m.kq,useExisting:(0,f.Rfq)(()=>Fe),multi:!0}]),f.GFd,f.aNF],attrs:K,ngContentSelectors:le,decls:6,vars:24,consts:[["inputElement",""],["type","radio",3,"disabled","checked"]],template:function(Te,Z){1&Te&&(f.NAR(),f.j41(0,"span"),f.nrm(1,"input",1,0)(3,"span"),f.k0s(),f.j41(4,"span"),f.SdG(5),f.k0s()),2&Te&&(f.AVh("ant-radio",!Z.isRadioButton)("ant-radio-checked",Z.isChecked&&!Z.isRadioButton)("ant-radio-disabled",Z.nzDisabled&&!Z.isRadioButton)("ant-radio-button",Z.isRadioButton)("ant-radio-button-checked",Z.isChecked&&Z.isRadioButton)("ant-radio-button-disabled",Z.nzDisabled&&Z.isRadioButton),f.R7$(),f.AVh("ant-radio-input",!Z.isRadioButton)("ant-radio-button-input",Z.isRadioButton),f.Y8G("disabled",Z.nzDisabled)("checked",Z.isChecked),f.BMQ("autofocus",Z.nzAutoFocus?"autofocus":null)("name",Z.name),f.R7$(2),f.AVh("ant-radio-inner",!Z.isRadioButton)("ant-radio-button-inner",Z.isRadioButton))},encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,re.H3)()],Fe.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,re.H3)()],Fe.prototype,"nzAutoFocus",void 0),Fe})(),xe=(()=>{class Fe{static#e=this.\u0275fac=function(Te){return new(Te||Fe)};static#t=this.\u0275mod=f.$C({type:Fe});static#n=this.\u0275inj=f.G2t({})}return Fe})()},1997:(Lt,ct,C)=>{"use strict";C.d(ct,{$$:()=>de,DH:()=>k,Tb:()=>Re,WI:()=>R,e6:()=>De,jF:()=>kn,ld:()=>wn,vB:()=>$e});var t=C(4438),f=C(1413),m=C(3726),v=C(4412),Y=C(7673),Ve=C(4572),be=C(7786),re=C(6969),ue=C(494),X=C(177),ee=C(5463),le=C(1672),pe=C(7806),K=C(6977),G=C(9172),fe=C(3294),ze=C(3993),xe=C(6354),Fe=C(5558),Ge=C(1025),he=C(5103),Te=C(1635),Z=C(317),Se=C(7336),ae=C(4341),Ze=C(713),Pe=C(6035),We=C(7891),qe=C(6841),Be=C(4500),tt=C(851),Xe=C(6860),pt=C(8203);const et=["*"];function Le(P,w){if(1&P&&(t.qex(0),t.EFF(1),t.bVm()),2&P){const T=t.XpG();t.R7$(),t.JRh(T.nzLabel)}}function mt(P,w){}function ht(P,w){if(1&P&&t.DNE(0,mt,0,0,"ng-template",4),2&P){const T=t.XpG();t.Y8G("ngTemplateOutlet",T.template)}}function xt(P,w){if(1&P&&t.EFF(0),2&P){const T=t.XpG();t.JRh(T.label)}}function Gt(P,w){1&P&&t.nrm(0,"span",7)}function Me(P,w){if(1&P&&(t.j41(0,"div",5),t.DNE(1,Gt,1,0,"span",6),t.k0s()),2&P){const T=t.XpG();t.R7$(),t.Y8G("ngIf",!T.icon)("ngIfElse",T.icon)}}function nt(P,w){if(1&P&&(t.j41(0,"div",4),t.nrm(1,"nz-embed-empty",5),t.k0s()),2&P){const T=t.XpG();t.R7$(),t.Y8G("specificContent",T.notFoundContent)}}function ie(P,w){if(1&P&&t.nrm(0,"nz-option-item-group",9),2&P){const T=t.XpG().$implicit;t.Y8G("nzLabel",T.groupLabel)}}function F(P,w){if(1&P){const T=t.RV6();t.j41(0,"nz-option-item",10),t.bIt("itemHover",function(E){t.eBV(T);const oe=t.XpG(2);return t.Njj(oe.onItemHover(E))})("itemClick",function(E){t.eBV(T);const oe=t.XpG(2);return t.Njj(oe.onItemClick(E))}),t.k0s()}if(2&P){const T=t.XpG().$implicit,I=t.XpG();t.Y8G("icon",I.menuItemSelectedIcon)("customContent",T.nzCustomContent)("template",T.template)("grouped",!!T.groupLabel)("disabled",T.nzDisabled||I.isMaxLimitReached&&!I.listOfSelectedValue.includes(T.nzValue))("showState","tags"===I.mode||"multiple"===I.mode)("title",T.nzTitle)("label",T.nzLabel)("compareWith",I.compareWith)("activatedValue",I.activatedValue)("listOfSelectedValue",I.listOfSelectedValue)("value",T.nzValue)}}function _e(P,w){1&P&&(t.qex(0,6),t.DNE(1,ie,1,1,"nz-option-item-group",7)(2,F,1,12,"nz-option-item",8),t.bVm()),2&P&&(t.Y8G("ngSwitch",w.$implicit.type),t.R7$(),t.Y8G("ngSwitchCase","group"),t.R7$(),t.Y8G("ngSwitchCase","item"))}function ne(P,w){}function Oe(P,w){1&P&&t.SdG(0)}function je(P,w){if(1&P&&(t.qex(0),t.j41(1,"span"),t.EFF(2),t.k0s(),t.bVm()),2&P){const T=t.XpG();t.R7$(2),t.Lme("",T.listOfValue.length," / ",T.nzMaxMultipleCount,"")}}function vt(P,w){1&P&&t.nrm(0,"span",5)}function Pt(P,w){1&P&&t.nrm(0,"span",9)}function At(P,w){1&P&&t.nrm(0,"span",10)}function Wt(P,w){if(1&P&&(t.qex(0),t.DNE(1,Pt,1,0,"span",7)(2,At,1,0,"span",8),t.bVm()),2&P){const T=t.XpG(2);t.R7$(),t.Y8G("ngIf",!T.search),t.R7$(),t.Y8G("ngIf",T.search)}}function qt(P,w){if(1&P&&t.nrm(0,"span",12),2&P){const T=t.XpG().$implicit;t.Y8G("nzType",T)}}function lt(P,w){if(1&P&&(t.qex(0),t.DNE(1,qt,1,1,"span",11),t.bVm()),2&P){const T=w.$implicit;t.R7$(),t.Y8G("ngIf",T)}}function Mt(P,w){if(1&P&&t.DNE(0,lt,2,1,"ng-container",4),2&P){const T=t.XpG(2);t.Y8G("nzStringTemplateOutlet",T.suffixIcon)}}function ye(P,w){if(1&P&&t.DNE(0,Wt,3,2,"ng-container",6)(1,Mt,1,1,"ng-template",null,1,t.C5r),2&P){const T=t.sdS(2),I=t.XpG();t.Y8G("ngIf",I.showArrow&&!I.suffixIcon)("ngIfElse",T)}}function st(P,w){if(1&P&&(t.qex(0),t.EFF(1),t.bVm()),2&P){const T=t.XpG();t.R7$(),t.JRh(T.feedbackIcon)}}function J(P,w){1&P&&t.nrm(0,"span",1)}const He=P=>({$implicit:P});function me(P,w){if(1&P&&(t.j41(0,"div",4),t.EFF(1),t.k0s()),2&P){const T=t.XpG(2);t.R7$(),t.JRh(T.label)}}function W(P,w){if(1&P&&t.EFF(0),2&P){const T=t.XpG(2);t.JRh(T.label)}}function b(P,w){if(1&P&&(t.qex(0),t.DNE(1,me,2,1,"div",3)(2,W,1,1,"ng-template",null,0,t.C5r),t.bVm()),2&P){const T=t.sdS(3),I=t.XpG();t.R7$(),t.Y8G("ngIf",I.deletable)("ngIfElse",T)}}function D(P,w){1&P&&t.nrm(0,"span",7)}function j(P,w){if(1&P){const T=t.RV6();t.j41(0,"span",5),t.bIt("click",function(E){t.eBV(T);const oe=t.XpG();return t.Njj(oe.onDelete(E))}),t.DNE(1,D,1,0,"span",6),t.k0s()}if(2&P){const T=t.XpG();t.R7$(),t.Y8G("ngIf",!T.removeIcon)("ngIfElse",T.removeIcon)}}function Q(P,w){if(1&P&&(t.qex(0),t.EFF(1),t.bVm()),2&P){const T=t.XpG();t.R7$(),t.SpI(" ",T.placeholder," ")}}const ke=["inputElement"],Ye=["mirrorElement"];function dt(P,w){1&P&&t.nrm(0,"span",4,1)}function bt(P,w){if(1&P&&t.nrm(0,"nz-select-item",6),2&P){const T=t.XpG(2);t.Y8G("deletable",!1)("disabled",!1)("removeIcon",T.removeIcon)("label",T.listOfTopItem[0].nzLabel)("contentTemplateOutlet",T.customTemplate)("contentTemplateOutletContext",T.listOfTopItem[0])}}function kt(P,w){if(1&P){const T=t.RV6();t.qex(0),t.j41(1,"nz-select-search",4),t.bIt("isComposingChange",function(E){t.eBV(T);const oe=t.XpG();return t.Njj(oe.isComposingChange(E))})("valueChange",function(E){t.eBV(T);const oe=t.XpG();return t.Njj(oe.onInputValueChange(E))}),t.k0s(),t.DNE(2,bt,1,6,"nz-select-item",5),t.bVm()}if(2&P){const T=t.XpG();t.R7$(),t.Y8G("nzId",T.nzId)("disabled",T.disabled)("value",T.inputValue)("showInput",T.showSearch)("mirrorSync",!1)("autofocus",T.autofocus)("focusTrigger",T.open),t.R7$(),t.Y8G("ngIf",T.isShowSingleLabel)}}function wt(P,w){if(1&P){const T=t.RV6();t.j41(0,"nz-select-item",9),t.bIt("delete",function(){const E=t.eBV(T).$implicit,oe=t.XpG(2);return t.Njj(oe.onDeleteItem(E.contentTemplateOutletContext))}),t.k0s()}if(2&P){const T=w.$implicit,I=t.XpG(2);t.Y8G("removeIcon",I.removeIcon)("label",T.nzLabel)("disabled",T.nzDisabled||I.disabled)("contentTemplateOutlet",T.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",T.contentTemplateOutletContext)}}function Yt(P,w){if(1&P){const T=t.RV6();t.qex(0),t.DNE(1,wt,1,6,"nz-select-item",7),t.j41(2,"nz-select-search",8),t.bIt("isComposingChange",function(E){t.eBV(T);const oe=t.XpG();return t.Njj(oe.isComposingChange(E))})("valueChange",function(E){t.eBV(T);const oe=t.XpG();return t.Njj(oe.onInputValueChange(E))}),t.k0s(),t.bVm()}if(2&P){const T=t.XpG();t.R7$(),t.Y8G("ngForOf",T.listOfSlicedItem)("ngForTrackBy",T.trackValue),t.R7$(),t.Y8G("nzId",T.nzId)("disabled",T.disabled)("value",T.inputValue)("autofocus",T.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",T.open)}}function rt(P,w){if(1&P&&t.nrm(0,"nz-select-placeholder",10),2&P){const T=t.XpG();t.Y8G("placeholder",T.placeHolder)}}function Ht(P,w){if(1&P&&t.nrm(0,"nz-form-item-feedback-icon",8),2&P){const T=t.XpG(3);t.Y8G("status",T.status)}}function Ee(P,w){if(1&P&&t.DNE(0,Ht,1,1,"nz-form-item-feedback-icon",7),2&P){const T=t.XpG(2);t.Y8G("ngIf",T.hasFeedback&&!!T.status)}}function Je(P,w){if(1&P&&(t.j41(0,"nz-select-arrow",6),t.DNE(1,Ee,1,1,"ng-template",null,1,t.C5r),t.k0s()),2&P){const T=t.sdS(2),I=t.XpG();t.Y8G("showArrow",I.nzShowArrow)("loading",I.nzLoading)("search",I.nzOpen&&I.nzShowSearch)("suffixIcon",I.nzSuffixIcon)("feedbackIcon",T)("nzMaxMultipleCount",I.nzMaxMultipleCount)("listOfValue",I.listOfValue)("isMaxTagCountSet",I.isMaxTagCountSet)}}function Ie(P,w){if(1&P){const T=t.RV6();t.j41(0,"nz-select-clear",9),t.bIt("clear",function(){t.eBV(T);const E=t.XpG();return t.Njj(E.onClearSelection())}),t.k0s()}if(2&P){const T=t.XpG();t.Y8G("clearIcon",T.nzClearIcon)}}function It(P,w){if(1&P){const T=t.RV6();t.j41(0,"nz-option-container",10),t.bIt("keydown",function(E){t.eBV(T);const oe=t.XpG();return t.Njj(oe.onKeyDown(E))})("itemClick",function(E){t.eBV(T);const oe=t.XpG();return t.Njj(oe.onItemClick(E))})("scrollToBottom",function(){t.eBV(T);const E=t.XpG();return t.Njj(E.nzScrollToBottom.emit())}),t.k0s()}if(2&P){const T=t.XpG();t.AVh("ant-select-dropdown-placement-bottomLeft","bottomLeft"===T.dropDownPosition)("ant-select-dropdown-placement-topLeft","topLeft"===T.dropDownPosition)("ant-select-dropdown-placement-bottomRight","bottomRight"===T.dropDownPosition)("ant-select-dropdown-placement-topRight","topRight"===T.dropDownPosition),t.Y8G("ngStyle",T.nzDropdownStyle)("itemSize",T.nzOptionHeightPx)("maxItemLength",T.nzOptionOverflowSize)("matchWidth",T.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",!(null==T.noAnimation||!T.noAnimation.nzNoAnimation))("nzNoAnimation",null==T.noAnimation?null:T.noAnimation.nzNoAnimation)("listOfContainerItem",T.listOfContainerItem)("menuItemSelectedIcon",T.nzMenuItemSelectedIcon)("notFoundContent",T.nzNotFoundContent)("activatedValue",T.activatedValue)("listOfSelectedValue",T.listOfValue)("dropdownRender",T.nzDropdownRender)("compareWith",T.compareWith)("mode",T.nzMode)("isMaxLimitReached",T.isMaxLimitReached)}}let Rt=(()=>{class P{constructor(){this.nzLabel=null,this.changes=new f.B}ngOnChanges(){this.changes.next()}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:et,decls:1,vars:0,template:function(I,E){1&I&&(t.NAR(),t.SdG(0))},encapsulation:2,changeDetection:0})}return P})(),Ot=(()=>{class P{constructor(){this.nzLabel=null}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-option-item-group"]],hostAttrs:[1,"ant-select-item","ant-select-item-group"],inputs:{nzLabel:"nzLabel"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(I,E){1&I&&t.DNE(0,Le,2,1,"ng-container",0),2&I&&t.Y8G("nzStringTemplateOutlet",E.nzLabel)},dependencies:[pe.C,pe.m],encapsulation:2,changeDetection:0})}return P})(),Ft=(()=>{class P{constructor(T,I,E){this.elementRef=T,this.ngZone=I,this.destroy$=E,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new t.bkB,this.itemHover=new t.bkB}ngOnChanges(T){const{value:I,activatedValue:E,listOfSelectedValue:oe}=T;(I||oe)&&(this.selected=this.listOfSelectedValue.some(B=>this.compareWith(B,this.value))),(I||E)&&(this.activated=this.compareWith(this.activatedValue,this.value))}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,m.R)(this.elementRef.nativeElement,"click").pipe((0,K.Q)(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemClick.emit(this.value))}),(0,m.R)(this.elementRef.nativeElement,"mouseenter").pipe((0,K.Q)(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemHover.emit(this.value))})})}static#e=this.\u0275fac=function(I){return new(I||P)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(Ge.y4))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-option-item"]],hostAttrs:[1,"ant-select-item","ant-select-item-option"],hostVars:9,hostBindings:function(I,E){2&I&&(t.BMQ("title",E.title),t.AVh("ant-select-item-option-grouped",E.grouped)("ant-select-item-option-selected",E.selected&&!E.disabled)("ant-select-item-option-disabled",E.disabled)("ant-select-item-option-active",E.activated&&!E.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",title:"title",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},standalone:!0,features:[t.Jv_([Ge.y4]),t.OA$,t.aNF],decls:5,vars:3,consts:[["noCustomContent",""],[1,"ant-select-item-option-content"],[3,"ngIf","ngIfElse"],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(I,E){if(1&I&&(t.j41(0,"div",1),t.DNE(1,ht,1,1,"ng-template",2)(2,xt,1,1,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(4,Me,2,2,"div",3)),2&I){const oe=t.sdS(3);t.R7$(),t.Y8G("ngIf",E.customContent)("ngIfElse",oe),t.R7$(3),t.Y8G("ngIf",E.showState&&E.selected)}},dependencies:[X.bT,X.T3,he.Y3,he.Dn],encapsulation:2,changeDetection:0})}return P})(),en=(()=>{class P{constructor(){this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.isMaxLimitReached=!1,this.listOfContainerItem=[],this.itemClick=new t.bkB,this.scrollToBottom=new t.bkB,this.scrolledIndex=0,this.ngZone=(0,t.WQX)(t.SKi),this.platformId=(0,t.WQX)(t.Agw)}onItemClick(T){this.itemClick.emit(T)}onItemHover(T){this.activatedValue=T}trackValue(T,I){return I.key}onScrolledIndexChange(T){this.scrolledIndex=T,T===this.listOfContainerItem.length-this.maxItemLength-1&&this.scrollToBottom.emit()}scrollToActivatedValue(){const T=this.listOfContainerItem.findIndex(I=>this.compareWith(I.key,this.activatedValue));(T<this.scrolledIndex||T>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(T||0)}ngOnChanges(T){const{listOfContainerItem:I,activatedValue:E}=T;(I||E)&&this.scrollToActivatedValue()}ngAfterViewInit(){(0,X.UE)(this.platformId)&&this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.scrollToActivatedValue()))}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-option-container"]],viewQuery:function(I,E){if(1&I&&t.GBs(ue.d6,7),2&I){let oe;t.mGM(oe=t.lsd())&&(E.cdkVirtualScrollViewport=oe.first)}},hostAttrs:[1,"ant-select-dropdown"],inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",compareWith:"compareWith",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",isMaxLimitReached:"isMaxLimitReached",listOfContainerItem:"listOfContainerItem"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],standalone:!0,features:[t.OA$,t.aNF],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"scrolledIndexChange","itemSize","maxBufferPx","minBufferPx"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"itemHover","itemClick","icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value"]],template:function(I,E){1&I&&(t.j41(0,"div"),t.DNE(1,nt,2,1,"div",0),t.j41(2,"cdk-virtual-scroll-viewport",1),t.bIt("scrolledIndexChange",function(B){return E.onScrolledIndexChange(B)}),t.DNE(3,_e,3,3,"ng-template",2),t.k0s(),t.DNE(4,ne,0,0,"ng-template",3),t.k0s()),2&I&&(t.R7$(),t.Y8G("ngIf",0===E.listOfContainerItem.length),t.R7$(),t.xc7("height",E.listOfContainerItem.length*E.itemSize,"px")("max-height",E.itemSize*E.maxItemLength,"px"),t.AVh("full-width",!E.matchWidth),t.Y8G("itemSize",E.itemSize)("maxBufferPx",E.itemSize*E.maxItemLength)("minBufferPx",E.itemSize*E.maxItemLength),t.R7$(),t.Y8G("cdkVirtualForOf",E.listOfContainerItem)("cdkVirtualForTrackBy",E.trackValue)("cdkVirtualForTemplateCacheSize",0),t.R7$(),t.Y8G("ngTemplateOutlet",E.dropdownRender))},dependencies:[le._v,le.E8,X.bT,X.ux,Ot,X.e1,Ft,X.T3,re.z_,ue.yg,ue.E$,ue.d6,ee.$_],encapsulation:2,changeDetection:0})}return P})(),wn=(()=>{class P{constructor(T,I){this.nzOptionGroupComponent=T,this.destroy$=I,this.changes=new f.B,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe((0,G.Z)(!0),(0,K.Q)(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent.nzLabel})}ngOnChanges(){this.changes.next()}static#e=this.\u0275fac=function(I){return new(I||P)(t.rXU(Rt,8),t.rXU(Ge.y4))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-option"]],viewQuery:function(I,E){if(1&I&&t.GBs(t.C4Q,7),2&I){let oe;t.mGM(oe=t.lsd())&&(E.template=oe.first)}},inputs:{nzTitle:"nzTitle",nzLabel:"nzLabel",nzValue:"nzValue",nzKey:"nzKey",nzDisabled:"nzDisabled",nzHide:"nzHide",nzCustomContent:"nzCustomContent"},exportAs:["nzOption"],standalone:!0,features:[t.Jv_([Ge.y4]),t.OA$,t.aNF],ngContentSelectors:et,decls:1,vars:0,template:function(I,E){1&I&&(t.NAR(),t.DNE(0,Oe,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzDisabled",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzHide",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzCustomContent",void 0),P})(),kn=(()=>{class P{constructor(){this.listOfValue=[],this.loading=!1,this.search=!1,this.showArrow=!1,this.isMaxTagCountSet=!1,this.suffixIcon=null,this.feedbackIcon=null,this.nzMaxMultipleCount=1/0}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-arrow"]],hostAttrs:[1,"ant-select-arrow"],hostVars:2,hostBindings:function(I,E){2&I&&t.AVh("ant-select-arrow-loading",E.loading)},inputs:{listOfValue:"listOfValue",loading:"loading",search:"search",showArrow:"showArrow",isMaxTagCountSet:"isMaxTagCountSet",suffixIcon:"suffixIcon",feedbackIcon:"feedbackIcon",nzMaxMultipleCount:"nzMaxMultipleCount"},standalone:!0,features:[t.aNF],decls:5,vars:4,consts:[["defaultArrow",""],["suffixTemplate",""],[4,"ngIf"],["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(I,E){if(1&I&&t.DNE(0,je,3,2,"ng-container",2)(1,vt,1,0,"span",3)(2,ye,3,2,"ng-template",null,0,t.C5r)(4,st,2,1,"ng-container",4),2&I){const oe=t.sdS(3);t.Y8G("ngIf",E.isMaxTagCountSet),t.R7$(),t.Y8G("ngIf",E.loading)("ngIfElse",oe),t.R7$(3),t.Y8G("nzStringTemplateOutlet",E.feedbackIcon)}},dependencies:[he.Y3,he.Dn,X.bT,pe.C,pe.m],encapsulation:2,changeDetection:0})}return P})(),$e=(()=>{class P{constructor(){this.clearIcon=null,this.clear=new t.bkB}onClick(T){T.preventDefault(),T.stopPropagation(),this.clear.emit(T)}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-clear"]],hostAttrs:[1,"ant-select-clear"],hostBindings:function(I,E){1&I&&t.bIt("click",function(B){return E.onClick(B)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},standalone:!0,features:[t.aNF],decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(I,E){1&I&&t.DNE(0,J,1,0,"span",0),2&I&&t.Y8G("ngIf",!E.clearIcon)("ngIfElse",E.clearIcon)},dependencies:[he.Y3,he.Dn,X.bT],encapsulation:2,changeDetection:0})}return P})(),Re=(()=>{class P{constructor(){this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new t.bkB}onDelete(T){T.preventDefault(),T.stopPropagation(),this.disabled||this.delete.next(T)}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-item"]],hostAttrs:[1,"ant-select-selection-item"],hostVars:3,hostBindings:function(I,E){2&I&&(t.BMQ("title",E.label),t.AVh("ant-select-selection-item-disabled",E.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},standalone:!0,features:[t.aNF],decls:2,vars:5,consts:[["labelTemplate",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(I,E){1&I&&t.DNE(0,b,4,2,"ng-container",1)(1,j,2,2,"span",2),2&I&&(t.Y8G("nzStringTemplateOutlet",E.contentTemplateOutlet)("nzStringTemplateOutletContext",t.eq3(3,He,E.contentTemplateOutletContext)),t.R7$(),t.Y8G("ngIf",E.deletable&&!E.disabled))},dependencies:[pe.C,pe.m,X.bT,he.Y3,he.Dn],encapsulation:2,changeDetection:0})}return P})(),de=(()=>{class P{constructor(){this.placeholder=null}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-placeholder"]],hostAttrs:[1,"ant-select-selection-placeholder"],inputs:{placeholder:"placeholder"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(I,E){1&I&&t.DNE(0,Q,2,1,"ng-container",0),2&I&&t.Y8G("nzStringTemplateOutlet",E.placeholder)},dependencies:[pe.C,pe.m],encapsulation:2,changeDetection:0})}return P})(),De=(()=>{class P{setCompositionState(T){this.isComposingChange.next(T)}onValueChange(T){this.value=T,this.valueChange.next(T),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){this.inputElement.nativeElement.value="",this.onValueChange("")}syncMirrorWidth(){const T=this.mirrorElement.nativeElement,I=this.elementRef.nativeElement,E=this.inputElement.nativeElement;this.renderer.removeStyle(I,"width"),this.renderer.setProperty(T,"textContent",`${E.value}\xa0`),this.renderer.setStyle(I,"width",`${T.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(T,I,E){this.elementRef=T,this.renderer=I,this.focusMonitor=E,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new t.bkB,this.isComposingChange=new t.bkB}ngOnChanges(T){const I=this.inputElement.nativeElement,{focusTrigger:E,showInput:oe}=T;oe&&(this.showInput?this.renderer.removeAttribute(I,"readonly"):this.renderer.setAttribute(I,"readonly","readonly")),E&&!0===E.currentValue&&!1===E.previousValue&&I.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}static#e=this.\u0275fac=function(I){return new(I||P)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(tt.FN))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-search"]],viewQuery:function(I,E){if(1&I&&(t.GBs(ke,7),t.GBs(Ye,5)),2&I){let oe;t.mGM(oe=t.lsd())&&(E.inputElement=oe.first),t.mGM(oe=t.lsd())&&(E.mirrorElement=oe.first)}},hostAttrs:[1,"ant-select-selection-search"],inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},standalone:!0,features:[t.Jv_([{provide:ae.mP,useValue:!1}]),t.OA$,t.aNF],decls:3,vars:7,consts:[["inputElement",""],["mirrorElement",""],["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModelChange","compositionstart","compositionend","ngModel","disabled"],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"]],template:function(I,E){if(1&I){const oe=t.RV6();t.j41(0,"input",2,0),t.bIt("ngModelChange",function(ve){return t.eBV(oe),t.Njj(E.onValueChange(ve))})("compositionstart",function(){return t.eBV(oe),t.Njj(E.setCompositionState(!0))})("compositionend",function(){return t.eBV(oe),t.Njj(E.setCompositionState(!1))}),t.k0s(),t.DNE(2,dt,2,0,"span",3)}2&I&&(t.xc7("opacity",E.showInput?null:0),t.Y8G("ngModel",E.value)("disabled",E.disabled),t.BMQ("id",E.nzId)("autofocus",E.autofocus?"autofocus":null),t.R7$(2),t.Y8G("ngIf",E.mirrorSync))},dependencies:[ae.YN,ae.me,ae.BC,ae.vS,X.bT],encapsulation:2,changeDetection:0})}return P})(),ot=(()=>{class P{updateTemplateVariable(){const T=0===this.listOfTopItem.length;this.isShowPlaceholder=T&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!T&&!this.isComposing&&!this.inputValue}isComposingChange(T){this.isComposing=T,this.updateTemplateVariable()}onInputValueChange(T){T!==this.inputValue&&(this.inputValue=T,this.updateTemplateVariable(),this.inputValueChange.emit(T),this.tokenSeparate(T,this.tokenSeparators))}tokenSeparate(T,I){if(T&&T.length&&I.length&&"default"!==this.mode&&((B,ve)=>{for(let Qe=0;Qe<ve.length;++Qe)if(B.lastIndexOf(ve[Qe])>0)return!0;return!1})(T,I)){const B=((B,ve)=>{const Qe=new RegExp(`[${ve.join()}]`),at=B.split(Qe).filter(Ct=>Ct);return[...new Set(at)]})(T,I);this.tokenize.next(B)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(T,I){return I.nzValue}onDeleteItem(T){!this.disabled&&!T.nzDisabled&&this.deleteItem.next(T)}constructor(T,I,E){this.elementRef=T,this.ngZone=I,this.noAnimation=E,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new t.bkB,this.inputValueChange=new t.bkB,this.deleteItem=new t.bkB,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new f.B}ngOnChanges(T){const{listOfTopItem:I,maxTagCount:E,customTemplate:oe,maxTagPlaceholder:B}=T;if(I&&this.updateTemplateVariable(),I||E||oe||B){const ve=this.listOfTopItem.slice(0,this.maxTagCount).map(Qe=>({nzLabel:Qe.nzLabel,nzValue:Qe.nzValue,nzDisabled:Qe.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:Qe}));if(this.listOfTopItem.length>this.maxTagCount){const Qe=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,at=this.listOfTopItem.map(Ut=>Ut.nzValue),Ct={nzLabel:Qe,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:at.slice(this.maxTagCount)};ve.push(Ct)}this.listOfSlicedItem=ve}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,m.R)(this.elementRef.nativeElement,"click").pipe((0,K.Q)(this.destroy$)).subscribe(T=>{T.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),(0,m.R)(this.elementRef.nativeElement,"keydown").pipe((0,K.Q)(this.destroy$)).subscribe(T=>{T.target instanceof HTMLInputElement&&T.keyCode===Se.G_&&"default"!==this.mode&&!T.target.value&&this.listOfTopItem.length>0&&(T.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))})})}ngOnDestroy(){this.destroy$.next()}static#e=this.\u0275fac=function(I){return new(I||P)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(qe.z,9))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-top-control"]],viewQuery:function(I,E){if(1&I&&t.GBs(De,5),2&I){let oe;t.mGM(oe=t.lsd())&&(E.nzSelectSearchComponent=oe.first)}},hostAttrs:[1,"ant-select-selector"],inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:"maxTagCount",autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],standalone:!0,features:[t.OA$,t.aNF],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"isComposingChange","valueChange","nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"isComposingChange","valueChange","nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger"],[3,"delete","removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext"],[3,"placeholder"]],template:function(I,E){1&I&&(t.qex(0,0),t.DNE(1,kt,3,8,"ng-container",1)(2,Yt,3,9,"ng-container",2),t.bVm(),t.DNE(3,rt,1,1,"nz-select-placeholder",3)),2&I&&(t.Y8G("ngSwitch",E.mode),t.R7$(),t.Y8G("ngSwitchCase","default"),t.R7$(2),t.Y8G("ngIf",E.isShowPlaceholder))},dependencies:[X.ux,De,X.e1,Re,X.bT,X.fG,X.pM,de],encapsulation:2,changeDetection:0})}return P})();const ge=(P,w)=>!(!w||!w.nzLabel)&&w.nzLabel.toString().toLowerCase().indexOf(P.toLowerCase())>-1;let R=(()=>{class P{set nzShowArrow(T){this._nzShowArrow=T}get nzShowArrow(){return void 0===this._nzShowArrow?"default"===this.nzMode:this._nzShowArrow}get isMaxTagCountSet(){return this.nzMaxMultipleCount!==1/0}generateTagItem(T){return{nzValue:T,nzLabel:T,type:"item"}}onItemClick(T){if(this.activatedValue=T,"default"===this.nzMode)(0===this.listOfValue.length||!this.compareWith(this.listOfValue[0],T))&&this.updateListOfValue([T]),this.setOpenState(!1);else{const I=this.listOfValue.findIndex(E=>this.compareWith(E,T));if(-1!==I){const E=this.listOfValue.filter((oe,B)=>B!==I);this.updateListOfValue(E)}else if(this.listOfValue.length<this.nzMaxMultipleCount){const E=[...this.listOfValue,T];this.updateListOfValue(E)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(T){const I=this.listOfValue.filter(E=>!this.compareWith(E,T.nzValue));this.updateListOfValue(I),this.clearInput()}updateListOfContainerItem(){let T=this.listOfTagAndTemplateItem.filter(oe=>!oe.nzHide).filter(oe=>!(!this.nzServerSearch&&this.searchValue)||this.nzFilterOption(this.searchValue,oe));if("tags"===this.nzMode&&this.searchValue){const oe=this.listOfTagAndTemplateItem.find(B=>B.nzLabel===this.searchValue);if(oe)this.activatedValue=oe.nzValue;else{const B=this.generateTagItem(this.searchValue);T=[B,...T],this.activatedValue=B.nzValue}}const I=T.find(oe=>oe.nzLabel===this.searchValue)||T.find(oe=>this.compareWith(oe.nzValue,this.activatedValue))||T.find(oe=>this.compareWith(oe.nzValue,this.listOfValue[0]))||T[0];this.activatedValue=I&&I.nzValue||null;let E=[];this.isReactiveDriven?E=[...new Set(this.nzOptions.filter(oe=>oe.groupLabel).map(oe=>oe.groupLabel))]:this.listOfNzOptionGroupComponent&&(E=this.listOfNzOptionGroupComponent.map(oe=>oe.nzLabel)),E.forEach(oe=>{const B=T.findIndex(ve=>oe===ve.groupLabel);B>-1&&T.splice(B,0,{groupLabel:oe,type:"group",key:oe})}),this.listOfContainerItem=[...T],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(T){const E=((oe,B)=>"default"===this.nzMode?oe.length>0?oe[0]:null:oe)(T);this.value!==E&&(this.listOfValue=T,this.listOfValue$.next(T),this.value=E,this.onChange(this.value)),this.isMaxLimitReached=this.nzMaxMultipleCount!==1/0&&this.listOfValue.length===this.nzMaxMultipleCount}onTokenSeparate(T){const I=this.listOfTagAndTemplateItem.filter(E=>-1!==T.findIndex(oe=>oe===E.nzLabel)).map(E=>E.nzValue).filter(E=>-1===this.listOfValue.findIndex(oe=>this.compareWith(oe,E)));if("multiple"===this.nzMode)this.updateListOfValue([...this.listOfValue,...I]);else if("tags"===this.nzMode){const E=T.filter(oe=>-1===this.listOfTagAndTemplateItem.findIndex(B=>B.nzLabel===oe));this.updateListOfValue([...this.listOfValue,...I,...E])}this.clearInput()}onKeyDown(T){if(this.nzDisabled)return;const I=this.listOfContainerItem.filter(oe=>"item"===oe.type).filter(oe=>!oe.nzDisabled),E=I.findIndex(oe=>this.compareWith(oe.nzValue,this.activatedValue));switch(T.keyCode){case Se.i7:T.preventDefault(),this.nzOpen&&I.length>0&&(this.activatedValue=I[E>0?E-1:I.length-1].nzValue);break;case Se.n6:T.preventDefault(),this.nzOpen&&I.length>0?this.activatedValue=I[E<I.length-1?E+1:0].nzValue:this.setOpenState(!0);break;case Se.Fm:T.preventDefault(),this.nzOpen?(0,Z.n9)(this.activatedValue)&&-1!==E&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case Se.t6:this.nzOpen||(this.setOpenState(!0),T.preventDefault());break;case Se.wn:this.nzSelectOnTab?this.nzOpen&&(T.preventDefault(),(0,Z.n9)(this.activatedValue)&&this.onItemClick(this.activatedValue)):this.setOpenState(!1);break;case Se._f:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(T){this.nzOpen!==T&&(this.nzOpen=T,this.nzOpenChange.emit(T),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.nzAutoClearSearchValue&&this.clearInput()}onInputValueChange(T){this.searchValue=T,this.updateListOfContainerItem(),this.nzOnSearch.emit(T),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(T){this.host.nativeElement.contains(T.target)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(T){const I=(0,ee.jj)(T);this.dropDownPosition=I}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){const T=this.triggerWidth;(0,Be.F)(this.requestId),this.requestId=(0,Be.j)(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,T!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){(0,Be.j)(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}constructor(T,I,E,oe,B,ve,Qe,at,Ct,Ut,Kt,nn){this.ngZone=T,this.destroy$=I,this.nzConfigService=E,this.cdr=oe,this.host=B,this.renderer=ve,this.platform=Qe,this.focusMonitor=at,this.directionality=Ct,this.noAnimation=Ut,this.nzFormStatusService=Kt,this.nzFormNoStatusService=nn,this._nzModuleName="select",this.nzId=null,this.nzSize="default",this.nzStatus="",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzPlacement=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=ge,this.compareWith=(un,yn)=>un===yn,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzSelectOnTab=!1,this.nzBackdrop=!1,this.nzOptions=[],this.nzOnSearch=new t.bkB,this.nzScrollToBottom=new t.bkB,this.nzOpenChange=new t.bkB,this.nzBlur=new t.bkB,this.nzFocus=new t.bkB,this.listOfValue$=new v.t([]),this.listOfTemplateItem$=new v.t([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottomLeft",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.positions=[],this.isMaxLimitReached=!1,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1}writeValue(T){if(this.value!==T){this.value=T;const E=((oe,B)=>null==oe?[]:"default"===this.nzMode?[oe]:oe)(T);this.listOfValue=E,this.listOfValue$.next(E),this.cdr.markForCheck()}}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||T,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(T){const{nzOpen:I,nzDisabled:E,nzOptions:oe,nzStatus:B,nzPlacement:ve}=T;if(I&&this.onOpenChange(),E&&this.nzDisabled&&this.setOpenState(!1),oe){this.isReactiveDriven=!0;const at=(this.nzOptions||[]).map(Ct=>({template:Ct.label instanceof t.C4Q?Ct.label:null,nzTitle:this.getTitle(Ct.title,Ct.label),nzLabel:"string"==typeof Ct.label||"number"==typeof Ct.label?Ct.label:null,nzValue:Ct.value,nzDisabled:Ct.disabled||!1,nzHide:Ct.hide||!1,nzCustomContent:Ct.label instanceof t.C4Q,groupLabel:Ct.groupLabel||null,type:"item",key:void 0===Ct.key?Ct.value:Ct.key}));this.listOfTemplateItem$.next(at)}if(B&&this.setStatusStyles(this.nzStatus,this.hasFeedback),ve){const{currentValue:Qe}=ve;this.dropDownPosition=Qe;const at=["bottomLeft","topLeft","bottomRight","topRight"];this.positions=Qe&&at.includes(Qe)?[ee.pn[Qe]]:at.map(Ct=>ee.pn[Ct])}}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,fe.F)((T,I)=>T.status===I.status&&T.hasFeedback===I.hasFeedback),(0,ze.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,Y.of)(!1)),(0,xe.T)(([{status:T,hasFeedback:I},E])=>({status:E?"":T,hasFeedback:I})),(0,K.Q)(this.destroy$)).subscribe(({status:T,hasFeedback:I})=>{this.setStatusStyles(T,I)}),this.focusMonitor.monitor(this.host,!0).pipe((0,K.Q)(this.destroy$)).subscribe(T=>{T?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),(0,Ve.z)([this.listOfValue$,this.listOfTemplateItem$]).pipe((0,K.Q)(this.destroy$)).subscribe(([T,I])=>{const E=T.filter(()=>"tags"===this.nzMode).filter(oe=>-1===I.findIndex(B=>this.compareWith(B.nzValue,oe))).map(oe=>this.listOfTopItem.find(B=>this.compareWith(B.nzValue,oe))||this.generateTagItem(oe));this.listOfTagAndTemplateItem=[...I,...E],this.listOfTopItem=this.listOfValue.map(oe=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(B=>this.compareWith(oe,B.nzValue))).filter(oe=>!!oe),this.updateListOfContainerItem()}),this.directionality.change?.pipe((0,K.Q)(this.destroy$)).subscribe(T=>{this.dir=T,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe((0,K.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>(0,m.R)(this.host.nativeElement,"click").pipe((0,K.Q)(this.destroy$)).subscribe(()=>{this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.ngZone.run(()=>this.setOpenState(!this.nzOpen))})),this.cdkConnectedOverlay.overlayKeydown.pipe((0,K.Q)(this.destroy$)).subscribe(T=>{T.keyCode===Se._f&&this.setOpenState(!1)})}ngAfterContentInit(){this.isReactiveDriven||(0,be.h)(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe((0,G.Z)(!0),(0,Fe.n)(()=>(0,be.h)(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(T=>T.changes),...this.listOfNzOptionGroupComponent.map(T=>T.changes)).pipe((0,G.Z)(!0))),(0,K.Q)(this.destroy$)).subscribe(()=>{const T=this.listOfNzOptionComponent.toArray().map(I=>{const{template:E,nzLabel:oe,nzValue:B,nzKey:ve,nzDisabled:Qe,nzHide:at,nzCustomContent:Ct,groupLabel:Ut}=I;return{template:E,nzLabel:oe,nzValue:B,nzDisabled:Qe,nzHide:at,nzCustomContent:Ct,groupLabel:Ut,nzTitle:this.getTitle(I.nzTitle,I.nzLabel),type:"item",key:void 0===ve?B:ve}});this.listOfTemplateItem$.next(T),this.cdr.markForCheck()})}ngOnDestroy(){(0,Be.F)(this.requestId),this.focusMonitor.stopMonitoring(this.host)}setStatusStyles(T,I){this.status=T,this.hasFeedback=I,this.cdr.markForCheck(),this.statusCls=(0,Z.LP)(this.prefixCls,T,I),Object.keys(this.statusCls).forEach(E=>{this.statusCls[E]?this.renderer.addClass(this.host.nativeElement,E):this.renderer.removeClass(this.host.nativeElement,E)})}getTitle(T,I){let E;return void 0===T?("string"==typeof I||"number"==typeof I)&&(E=I.toString()):("string"==typeof T||"number"==typeof T)&&(E=T.toString()),E}static#e=this.\u0275fac=function(I){return new(I||P)(t.rXU(t.SKi),t.rXU(Ge.y4),t.rXU(Pe.yx),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Xe.OD),t.rXU(tt.FN),t.rXU(pt.dS,8),t.rXU(qe.z,9),t.rXU(We.is,8),t.rXU(We.n1,8))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select"]],contentQueries:function(I,E,oe){if(1&I&&(t.wni(oe,wn,5),t.wni(oe,Rt,5)),2&I){let B;t.mGM(B=t.lsd())&&(E.listOfNzOptionComponent=B),t.mGM(B=t.lsd())&&(E.listOfNzOptionGroupComponent=B)}},viewQuery:function(I,E){if(1&I&&(t.GBs(re.$Q,7,t.aKT),t.GBs(re.WB,7),t.GBs(ot,7),t.GBs(Rt,7,t.aKT),t.GBs(ot,7,t.aKT)),2&I){let oe;t.mGM(oe=t.lsd())&&(E.originElement=oe.first),t.mGM(oe=t.lsd())&&(E.cdkConnectedOverlay=oe.first),t.mGM(oe=t.lsd())&&(E.nzSelectTopControlComponent=oe.first),t.mGM(oe=t.lsd())&&(E.nzOptionGroupComponentElement=oe.first),t.mGM(oe=t.lsd())&&(E.nzSelectTopControlComponentElement=oe.first)}},hostAttrs:[1,"ant-select"],hostVars:26,hostBindings:function(I,E){2&I&&t.AVh("ant-select-in-form-item",!!E.nzFormStatusService)("ant-select-lg","large"===E.nzSize)("ant-select-sm","small"===E.nzSize)("ant-select-show-arrow",E.nzShowArrow)("ant-select-disabled",E.nzDisabled)("ant-select-show-search",(E.nzShowSearch||"default"!==E.nzMode)&&!E.nzDisabled)("ant-select-allow-clear",E.nzAllowClear)("ant-select-borderless",E.nzBorderless)("ant-select-open",E.nzOpen)("ant-select-focused",E.nzOpen||E.focused)("ant-select-single","default"===E.nzMode)("ant-select-multiple","default"!==E.nzMode)("ant-select-rtl","rtl"===E.dir)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzPlacement:"nzPlacement",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:"nzAllowClear",nzBorderless:"nzBorderless",nzShowSearch:"nzShowSearch",nzLoading:"nzLoading",nzAutoFocus:"nzAutoFocus",nzAutoClearSearchValue:"nzAutoClearSearchValue",nzServerSearch:"nzServerSearch",nzDisabled:"nzDisabled",nzOpen:"nzOpen",nzSelectOnTab:"nzSelectOnTab",nzBackdrop:"nzBackdrop",nzOptions:"nzOptions",nzShowArrow:"nzShowArrow"},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],standalone:!0,features:[t.Jv_([Ge.y4,{provide:ae.kq,useExisting:(0,t.Rfq)(()=>P),multi:!0}]),t.OA$,t.aNF],decls:5,vars:25,consts:[["origin","cdkOverlayOrigin"],["feedbackIconTpl",""],["cdkOverlayOrigin","",3,"inputValueChange","tokenize","deleteItem","keydown","nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon","nzMaxMultipleCount","listOfValue","isMaxTagCountSet",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon","nzMaxMultipleCount","listOfValue","isMaxTagCountSet"],[3,"status",4,"ngIf"],[3,"status"],[3,"clear","clearIcon"],[3,"keydown","itemClick","scrollToBottom","ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","isMaxLimitReached"]],template:function(I,E){if(1&I){const oe=t.RV6();t.j41(0,"nz-select-top-control",2,0),t.bIt("inputValueChange",function(ve){return t.eBV(oe),t.Njj(E.onInputValueChange(ve))})("tokenize",function(ve){return t.eBV(oe),t.Njj(E.onTokenSeparate(ve))})("deleteItem",function(ve){return t.eBV(oe),t.Njj(E.onItemDelete(ve))})("keydown",function(ve){return t.eBV(oe),t.Njj(E.onKeyDown(ve))}),t.k0s(),t.DNE(2,Je,3,8,"nz-select-arrow",3)(3,Ie,1,1,"nz-select-clear",4)(4,It,1,24,"ng-template",5),t.bIt("overlayOutsideClick",function(ve){return t.eBV(oe),t.Njj(E.onClickOutside(ve))})("detach",function(){return t.eBV(oe),t.Njj(E.setOpenState(!1))})("positionChange",function(ve){return t.eBV(oe),t.Njj(E.onPositionChange(ve))})}if(2&I){const oe=t.sdS(1);t.Y8G("nzId",E.nzId)("open",E.nzOpen)("disabled",E.nzDisabled)("mode",E.nzMode)("@.disabled",!(null==E.noAnimation||!E.noAnimation.nzNoAnimation))("nzNoAnimation",null==E.noAnimation?null:E.noAnimation.nzNoAnimation)("maxTagPlaceholder",E.nzMaxTagPlaceholder)("removeIcon",E.nzRemoveIcon)("placeHolder",E.nzPlaceHolder)("maxTagCount",E.nzMaxTagCount)("customTemplate",E.nzCustomTemplate)("tokenSeparators",E.nzTokenSeparators)("showSearch",E.nzShowSearch)("autofocus",E.nzAutoFocus)("listOfTopItem",E.listOfTopItem),t.R7$(2),t.Y8G("ngIf",E.nzShowArrow||E.hasFeedback&&!!E.status||E.isMaxTagCountSet),t.R7$(),t.Y8G("ngIf",E.nzAllowClear&&!E.nzDisabled&&E.listOfValue.length),t.R7$(),t.Y8G("cdkConnectedOverlayHasBackdrop",E.nzBackdrop)("cdkConnectedOverlayMinWidth",E.nzDropdownMatchSelectWidth?null:E.triggerWidth)("cdkConnectedOverlayWidth",E.nzDropdownMatchSelectWidth?E.triggerWidth:null)("cdkConnectedOverlayOrigin",oe)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",E.nzDropdownClassName)("cdkConnectedOverlayOpen",E.nzOpen)("cdkConnectedOverlayPositions",E.positions)}},dependencies:[ot,re.$Q,qe.z,kn,X.bT,We.J1,We.Xd,$e,re.WB,ee.$_,ee.vT,en,X.B3],encapsulation:2,data:{animation:[Ze.U1]},changeDetection:0})}return(0,Te.Cg)([(0,Pe.H4)()],P.prototype,"nzOptionHeightPx",void 0),(0,Te.Cg)([(0,Pe.H4)()],P.prototype,"nzSuffixIcon",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzAllowClear",void 0),(0,Te.Cg)([(0,Pe.H4)(),(0,Z.H3)()],P.prototype,"nzBorderless",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzShowSearch",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzLoading",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzAutoFocus",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzAutoClearSearchValue",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzServerSearch",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzDisabled",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzOpen",void 0),(0,Te.Cg)([(0,Z.H3)()],P.prototype,"nzSelectOnTab",void 0),(0,Te.Cg)([(0,Pe.H4)(),(0,Z.H3)()],P.prototype,"nzBackdrop",void 0),P})(),k=(()=>{class P{static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275mod=t.$C({type:P});static#n=this.\u0275inj=t.G2t({imports:[R,en,Ft,ot,De,Re,$e,kn,de,Ot]})}return P})()},1166:(Lt,ct,C)=>{"use strict";C.d(ct,{Sk:()=>xt,pT:()=>tt});var t=C(1635),f=C(7336),m=C(177),v=C(4438),Y=C(4341),Ve=C(1413),be=C(3726),re=C(7786),ue=C(6977),X=C(5964),ee=C(8141),le=C(6354),pe=C(3294),K=C(317),G=C(5154),fe=C(6860),ze=C(8203);const xe=["handle"],Fe=Me=>({$implicit:Me});function Ge(Me,nt){if(1&Me&&v.nrm(0,"span",1),2&Me){const ie=nt.$implicit;v.AVh("ant-slider-mark-active",ie.active),v.Y8G("ngStyle",ie.style)("innerHTML",ie.label,v.npT)}}function he(Me,nt){if(1&Me&&v.nrm(0,"span",1),2&Me){const ie=nt.$implicit;v.AVh("ant-slider-dot-active",ie.active),v.Y8G("ngStyle",ie.style)}}function Te(Me,nt){if(1&Me&&v.nrm(0,"nz-slider-step",4),2&Me){const ie=v.XpG();v.Y8G("vertical",ie.nzVertical)("min",ie.nzMin)("max",ie.nzMax)("lowerBound",ie.bounds.lower)("upperBound",ie.bounds.upper)("marksArray",ie.marksArray)("included",ie.nzIncluded)("reverse",ie.nzReverse)}}function Z(Me,nt){if(1&Me){const ie=v.RV6();v.j41(0,"nz-slider-handle",5),v.bIt("focusin",function(){const _e=v.eBV(ie).index,ne=v.XpG();return v.Njj(ne.onHandleFocusIn(_e))}),v.k0s()}if(2&Me){const ie=nt.$implicit,F=v.XpG();v.Y8G("vertical",F.nzVertical)("reverse",F.nzReverse)("offset",ie.offset)("value",ie.value)("active",ie.active)("tooltipFormatter",F.nzTipFormatter)("tooltipVisible",F.nzTooltipVisible)("tooltipPlacement",F.nzTooltipPlacement)("dir",F.dir)}}function Se(Me,nt){if(1&Me&&v.nrm(0,"nz-slider-marks",4),2&Me){const ie=v.XpG();v.Y8G("vertical",ie.nzVertical)("min",ie.nzMin)("max",ie.nzMax)("lowerBound",ie.bounds.lower)("upperBound",ie.bounds.upper)("marksArray",ie.marksArray)("included",ie.nzIncluded)("reverse",ie.nzReverse)}}let ae=(()=>{class Me{constructor(){this.isDragging=!1}static#e=this.\u0275fac=function(F){return new(F||Me)};static#t=this.\u0275prov=v.jDH({token:Me,factory:Me.\u0275fac})}return Me})(),Ze=(()=>{class Me{constructor(ie,F){this.sliderService=ie,this.cdr=F,this.tooltipVisible="default",this.active=!1,this.dir="ltr",this.style={},this.enterHandle=()=>{this.sliderService.isDragging||(this.toggleTooltip(!0),this.updateTooltipPosition(),this.cdr.detectChanges())},this.leaveHandle=()=>{this.sliderService.isDragging||(this.toggleTooltip(!1),this.cdr.detectChanges())}}ngOnChanges(ie){const{offset:F,value:_e,active:ne,tooltipVisible:Oe,reverse:je,dir:vt}=ie;(F||je||vt)&&this.updateStyle(),_e&&(this.updateTooltipTitle(),this.updateTooltipPosition()),ne&&this.toggleTooltip(!!ne.currentValue),"always"===Oe?.currentValue&&Promise.resolve().then(()=>this.toggleTooltip(!0,!0))}focus(){this.handleEl?.nativeElement.focus()}toggleTooltip(ie,F=!1){!F&&("default"!==this.tooltipVisible||!this.tooltip)||(ie?this.tooltip?.show():this.tooltip?.hide())}updateTooltipTitle(){this.tooltipTitle=this.tooltipFormatter?"function"==typeof this.tooltipFormatter?this.tooltipFormatter(this.value):this.tooltipFormatter:`${this.value}`}updateTooltipPosition(){this.tooltip&&Promise.resolve().then(()=>this.tooltip?.updatePosition())}updateStyle(){const F=this.reverse,ne=this.vertical?{[F?"top":"bottom"]:`${this.offset}%`,[F?"bottom":"top"]:"auto",transform:F?null:"translateY(+50%)"}:{...this.getHorizontalStylePosition(),transform:`translateX(${F?"rtl"===this.dir?"-":"+":"rtl"===this.dir?"+":"-"}50%)`};this.style=ne,this.cdr.markForCheck()}getHorizontalStylePosition(){let ie=this.reverse?"auto":`${this.offset}%`,F=this.reverse?`${this.offset}%`:"auto";if("rtl"===this.dir){const _e=ie;ie=F,F=_e}return{left:ie,right:F}}static#e=this.\u0275fac=function(F){return new(F||Me)(v.rXU(ae),v.rXU(v.gRc))};static#t=this.\u0275cmp=v.VBU({type:Me,selectors:[["nz-slider-handle"]],viewQuery:function(F,_e){if(1&F&&(v.GBs(xe,5),v.GBs(G.LH,5)),2&F){let ne;v.mGM(ne=v.lsd())&&(_e.handleEl=ne.first),v.mGM(ne=v.lsd())&&(_e.tooltip=ne.first)}},hostBindings:function(F,_e){1&F&&v.bIt("mouseenter",function(){return _e.enterHandle()})("mouseleave",function(){return _e.leaveHandle()})},inputs:{vertical:"vertical",reverse:"reverse",offset:"offset",value:"value",tooltipVisible:"tooltipVisible",tooltipPlacement:"tooltipPlacement",tooltipFormatter:"tooltipFormatter",active:"active",dir:"dir"},exportAs:["nzSliderHandle"],standalone:!0,features:[v.OA$,v.aNF],decls:2,vars:7,consts:[["handle",""],["tabindex","0","nz-tooltip","",1,"ant-slider-handle",3,"ngStyle","nzTooltipTitle","nzTooltipTitleContext","nzTooltipTrigger","nzTooltipPlacement"]],template:function(F,_e){1&F&&v.nrm(0,"div",1,0),2&F&&v.Y8G("ngStyle",_e.style)("nzTooltipTitle",null===_e.tooltipFormatter||"never"===_e.tooltipVisible?null:_e.tooltipTitle)("nzTooltipTitleContext",v.eq3(5,Fe,_e.value))("nzTooltipTrigger",null)("nzTooltipPlacement",_e.tooltipPlacement)},dependencies:[G.Qt,G.LH,m.B3],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,K.H3)()],Me.prototype,"active",void 0),Me})(),Pe=(()=>{class Me{constructor(){this.lowerBound=null,this.upperBound=null,this.marksArray=[],this.vertical=!1,this.included=!1,this.marks=[]}ngOnChanges(ie){const{marksArray:F,lowerBound:_e,upperBound:ne,reverse:Oe}=ie;(F||Oe)&&this.buildMarks(),(F||_e||ne||Oe)&&this.togglePointActive()}trackById(ie,F){return F.value}buildMarks(){const ie=this.max-this.min;this.marks=this.marksArray.map(F=>{const{value:_e,offset:ne,config:Oe}=F,je=this.getMarkStyles(_e,ie,Oe);return{label:We(Oe)?Oe.label:Oe,offset:ne,style:je,value:_e,config:Oe,active:!1}})}getMarkStyles(ie,F,_e){let ne;const Oe=this.reverse?this.max+this.min-ie:ie;return ne=this.vertical?{marginBottom:"-50%",bottom:(Oe-this.min)/F*100+"%"}:{transform:"translate3d(-50%, 0, 0)",left:(Oe-this.min)/F*100+"%"},We(_e)&&_e.style&&(ne={...ne,..._e.style}),ne}togglePointActive(){this.marks&&null!==this.lowerBound&&null!==this.upperBound&&this.marks.forEach(ie=>{const F=ie.value;ie.active=!this.included&&F===this.upperBound||this.included&&F<=this.upperBound&&F>=this.lowerBound})}static#e=this.\u0275fac=function(F){return new(F||Me)};static#t=this.\u0275cmp=v.VBU({type:Me,selectors:[["nz-slider-marks"]],hostAttrs:[1,"ant-slider-mark"],inputs:{lowerBound:"lowerBound",upperBound:"upperBound",marksArray:"marksArray",min:"min",max:"max",vertical:"vertical",included:"included",reverse:"reverse"},exportAs:["nzSliderMarks"],standalone:!0,features:[v.OA$,v.aNF],decls:1,vars:2,consts:[["class","ant-slider-mark-text",3,"ant-slider-mark-active","ngStyle","innerHTML",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-mark-text",3,"ngStyle","innerHTML"]],template:function(F,_e){1&F&&v.DNE(0,Ge,1,4,"span",0),2&F&&v.Y8G("ngForOf",_e.marks)("ngForTrackBy",_e.trackById)},dependencies:[m.B3,m.Sq],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,K.H3)()],Me.prototype,"vertical",void 0),(0,t.Cg)([(0,K.H3)()],Me.prototype,"included",void 0),Me})();function We(Me){return"string"!=typeof Me}let qe=(()=>{class Me{constructor(){this.lowerBound=null,this.upperBound=null,this.marksArray=[],this.vertical=!1,this.included=!1,this.steps=[]}ngOnChanges(ie){const{marksArray:F,lowerBound:_e,upperBound:ne,reverse:Oe}=ie;(F||Oe)&&this.buildSteps(),(F||_e||ne||Oe)&&this.togglePointActive()}trackById(ie,F){return F.value}buildSteps(){const ie=this.vertical?"bottom":"left";this.steps=this.marksArray.map(F=>{const{value:_e,config:ne}=F;let Oe=F.offset;return this.reverse&&(Oe=(this.max-_e)/(this.max-this.min)*100),{value:_e,offset:Oe,config:ne,active:!1,style:{[ie]:`${Oe}%`,transform:this.vertical?"translateY(50%)":"translateX(-50%)"}}})}togglePointActive(){this.steps&&null!==this.lowerBound&&null!==this.upperBound&&this.steps.forEach(ie=>{const F=ie.value;ie.active=!this.included&&F===this.upperBound||this.included&&F<=this.upperBound&&F>=this.lowerBound})}static#e=this.\u0275fac=function(F){return new(F||Me)};static#t=this.\u0275cmp=v.VBU({type:Me,selectors:[["nz-slider-step"]],hostAttrs:[1,"ant-slider-step"],inputs:{lowerBound:"lowerBound",upperBound:"upperBound",marksArray:"marksArray",min:"min",max:"max",vertical:"vertical",included:"included",reverse:"reverse"},exportAs:["nzSliderStep"],standalone:!0,features:[v.OA$,v.aNF],decls:1,vars:2,consts:[["class","ant-slider-dot",3,"ant-slider-dot-active","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-dot",3,"ngStyle"]],template:function(F,_e){1&F&&v.DNE(0,he,1,3,"span",0),2&F&&v.Y8G("ngForOf",_e.steps)("ngForTrackBy",_e.trackById)},dependencies:[m.B3,m.Sq],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,K.H3)()],Me.prototype,"vertical",void 0),(0,t.Cg)([(0,K.H3)()],Me.prototype,"included",void 0),Me})(),Be=(()=>{class Me{constructor(){this.offset=0,this.reverse=!1,this.dir="ltr",this.length=0,this.vertical=!1,this.included=!1,this.style={}}ngOnChanges(){const F=this.reverse,_e=this.included?"visible":"hidden",Oe=this.length,je=this.vertical?{[F?"top":"bottom"]:`${this.offset}%`,[F?"bottom":"top"]:"auto",height:`${Oe}%`,visibility:_e}:{...this.getHorizontalStylePosition(),width:`${Oe}%`,visibility:_e};this.style=je}getHorizontalStylePosition(){let ie=this.reverse?"auto":`${this.offset}%`,F=this.reverse?`${this.offset}%`:"auto";if("rtl"===this.dir){const _e=ie;ie=F,F=_e}return{left:ie,right:F}}static#e=this.\u0275fac=function(F){return new(F||Me)};static#t=this.\u0275cmp=v.VBU({type:Me,selectors:[["nz-slider-track"]],inputs:{offset:"offset",reverse:"reverse",dir:"dir",length:"length",vertical:"vertical",included:"included"},exportAs:["nzSliderTrack"],standalone:!0,features:[v.OA$,v.aNF],decls:1,vars:1,consts:[[1,"ant-slider-track",3,"ngStyle"]],template:function(F,_e){1&F&&v.nrm(0,"div",0),2&F&&v.Y8G("ngStyle",_e.style)},dependencies:[m.B3],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,K.YI)()],Me.prototype,"offset",void 0),(0,t.Cg)([(0,K.H3)()],Me.prototype,"reverse",void 0),(0,t.Cg)([(0,K.YI)()],Me.prototype,"length",void 0),(0,t.Cg)([(0,K.H3)()],Me.prototype,"vertical",void 0),(0,t.Cg)([(0,K.H3)()],Me.prototype,"included",void 0),Me})(),tt=(()=>{class Me{constructor(ie,F,_e,ne,Oe){this.slider=ie,this.sliderService=F,this.cdr=_e,this.platform=ne,this.directionality=Oe,this.nzDisabled=!1,this.nzDots=!1,this.nzIncluded=!0,this.nzRange=!1,this.nzVertical=!1,this.nzReverse=!1,this.nzMarks=null,this.nzMax=100,this.nzMin=0,this.nzStep=1,this.nzTooltipVisible="default",this.nzTooltipPlacement="top",this.nzOnAfterChange=new v.bkB,this.value=null,this.cacheSliderStart=null,this.cacheSliderLength=null,this.activeValueIndex=void 0,this.track={offset:null,length:null},this.handles=[],this.marksArray=null,this.bounds={lower:null,upper:null},this.dir="ltr",this.destroy$=new Ve.B,this.isNzDisableFirstChange=!0}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,ue.Q)(this.destroy$)).subscribe(ie=>{this.dir=ie,this.cdr.detectChanges(),this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0))}),this.handles=et(this.nzRange?2:1),this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null,this.bindDraggingHandlers(),this.toggleDragDisabled(this.nzDisabled),null===this.getValue()&&this.setValue(this.formatValue(null))}ngOnChanges(ie){const{nzDisabled:F,nzMarks:_e,nzRange:ne}=ie;F&&!F.firstChange?this.toggleDragDisabled(F.currentValue):_e&&!_e.firstChange?this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null:ne&&!ne.firstChange&&(this.handles=et(ne.currentValue?2:1),this.setValue(this.formatValue(null)))}ngOnDestroy(){this.unsubscribeDrag(),this.destroy$.next(!0),this.destroy$.complete()}writeValue(ie){this.setValue(ie,!0)}onValueChange(ie){}onTouched(){}registerOnChange(ie){this.onValueChange=ie}registerOnTouched(ie){this.onTouched=ie}setDisabledState(ie){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||ie,this.isNzDisableFirstChange=!1,this.toggleDragDisabled(this.nzDisabled),this.cdr.markForCheck()}onKeyDown(ie){if(this.nzDisabled)return;const F=ie.keyCode,ne=F===f.UQ||F===f.n6;if(F!==f.LE&&F!==f.i7&&!ne)return;ie.preventDefault();let Oe=(ne?-this.nzStep:this.nzStep)*(this.nzReverse?-1:1);Oe="rtl"===this.dir?-1*Oe:Oe,this.setActiveValue((0,K.Gd)(this.nzRange?this.value[this.activeValueIndex]+Oe:this.value+Oe,this.nzMin,this.nzMax)),this.nzOnAfterChange.emit(this.getValue(!0))}onHandleFocusIn(ie){this.activeValueIndex=ie}setValue(ie,F=!1){F?(this.value=this.formatValue(ie),this.updateTrackAndHandles()):function ht(Me,nt){return typeof Me==typeof nt&&(pt(Me)&&pt(nt)?(0,K.r1)(Me,nt):Me===nt)}(this.value,ie)||(this.value=ie,this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0)))}getValue(ie=!1){return ie&&this.value&&pt(this.value)?[...this.value].sort((F,_e)=>F-_e):this.value}getValueToOffset(ie){let F=ie;return typeof F>"u"&&(F=this.getValue(!0)),pt(F)?F.map(_e=>this.valueToOffset(_e)):this.valueToOffset(F)}setActiveValueIndex(ie){const F=this.getValue();if(pt(F)){let ne,_e=null,Oe=-1;F.forEach((je,vt)=>{ne=Math.abs(ie-je),(null===_e||ne<_e)&&(_e=ne,Oe=vt)}),this.activeValueIndex=Oe,this.handlerComponents.toArray()[Oe].focus()}else this.handlerComponents.toArray()[0].focus()}setActiveValue(ie){if(pt(this.value)){const F=[...this.value];F[this.activeValueIndex]=ie,this.setValue(F)}else this.setValue(ie)}updateTrackAndHandles(){const ie=this.getValue(),F=this.getValueToOffset(ie),_e=this.getValue(!0),ne=this.getValueToOffset(_e),Oe=pt(_e)?_e:[0,_e],je=pt(ne)?[ne[0],ne[1]-ne[0]]:[0,ne];this.handles.forEach((vt,Pt)=>{vt.offset=pt(F)?F[Pt]:F,vt.value=pt(ie)?ie[Pt]:ie||0}),[this.bounds.lower,this.bounds.upper]=Oe,[this.track.offset,this.track.length]=je,this.cdr.markForCheck()}onDragStart(ie){this.toggleDragMoving(!0),this.cacheSliderProperty(),this.setActiveValueIndex(this.getLogicalValue(ie)),this.setActiveValue(this.getLogicalValue(ie)),this.showHandleTooltip(this.nzRange?this.activeValueIndex:0)}onDragMove(ie){this.setActiveValue(this.getLogicalValue(ie)),this.cdr.markForCheck()}getLogicalValue(ie){return this.nzReverse?this.nzVertical||"rtl"!==this.dir?this.nzMax-ie+this.nzMin:ie:this.nzVertical||"rtl"!==this.dir?ie:this.nzMax-ie+this.nzMin}onDragEnd(){this.nzOnAfterChange.emit(this.getValue(!0)),this.toggleDragMoving(!1),this.cacheSliderProperty(!0),this.hideAllHandleTooltip(),this.cdr.markForCheck()}bindDraggingHandlers(){if(!this.platform.isBrowser)return;const ie=je=>vt=>je.reduce((Pt,At)=>Pt[At]||Pt,vt),F=this.slider.nativeElement,_e=this.nzVertical?"pageY":"pageX",ne={start:"mousedown",move:"mousemove",end:"mouseup",pluckKey:[_e]},Oe={start:"touchstart",move:"touchmove",end:"touchend",pluckKey:["touches","0",_e],filter:je=>je instanceof TouchEvent};[ne,Oe].forEach(je=>{const{start:vt,move:Pt,end:At,pluckKey:Wt,filter:qt=(()=>!0)}=je;je.startPlucked$=(0,be.R)(F,vt).pipe((0,X.p)(qt),(0,ee.M)(K.yc),(0,le.T)(ie(Wt)),(0,le.T)(lt=>this.findClosestValue(lt))),je.end$=(0,be.R)(document,At),je.moveResolved$=(0,be.R)(document,Pt).pipe((0,X.p)(qt),(0,ee.M)(K.yc),(0,le.T)(ie(Wt)),(0,pe.F)(),(0,le.T)(lt=>this.findClosestValue(lt)),(0,pe.F)(),(0,ue.Q)(je.end$))}),this.dragStart$=(0,re.h)(ne.startPlucked$,Oe.startPlucked$),this.dragMove$=(0,re.h)(ne.moveResolved$,Oe.moveResolved$),this.dragEnd$=(0,re.h)(ne.end$,Oe.end$)}subscribeDrag(ie=["start","move","end"]){-1!==ie.indexOf("start")&&this.dragStart$&&!this.dragStart_&&(this.dragStart_=this.dragStart$.subscribe(this.onDragStart.bind(this))),-1!==ie.indexOf("move")&&this.dragMove$&&!this.dragMove_&&(this.dragMove_=this.dragMove$.subscribe(this.onDragMove.bind(this))),-1!==ie.indexOf("end")&&this.dragEnd$&&!this.dragEnd_&&(this.dragEnd_=this.dragEnd$.subscribe(this.onDragEnd.bind(this)))}unsubscribeDrag(ie=["start","move","end"]){-1!==ie.indexOf("start")&&this.dragStart_&&(this.dragStart_.unsubscribe(),this.dragStart_=null),-1!==ie.indexOf("move")&&this.dragMove_&&(this.dragMove_.unsubscribe(),this.dragMove_=null),-1!==ie.indexOf("end")&&this.dragEnd_&&(this.dragEnd_.unsubscribe(),this.dragEnd_=null)}toggleDragMoving(ie){const F=["move","end"];ie?(this.sliderService.isDragging=!0,this.subscribeDrag(F)):(this.sliderService.isDragging=!1,this.unsubscribeDrag(F))}toggleDragDisabled(ie){ie?this.unsubscribeDrag():this.subscribeDrag(["start"])}findClosestValue(ie){const F=this.getSliderStartPosition(),_e=this.getSliderLength(),ne=(0,K.Gd)((ie-F)/_e,0,1),Oe=(this.nzMax-this.nzMin)*(this.nzVertical?1-ne:ne)+this.nzMin,je=null===this.nzMarks?[]:Object.keys(this.nzMarks).map(parseFloat).sort((At,Wt)=>At-Wt);if(0!==this.nzStep&&!this.nzDots){const At=Math.round(Oe/this.nzStep)*this.nzStep;je.push(At)}const vt=je.map(At=>Math.abs(Oe-At)),Pt=je[vt.indexOf(Math.min(...vt))];return 0===this.nzStep?Pt:parseFloat(Pt.toFixed((0,K.XV)(this.nzStep)))}valueToOffset(ie){return(0,K.Os)(this.nzMin,this.nzMax,ie)}getSliderStartPosition(){if(null!==this.cacheSliderStart)return this.cacheSliderStart;const ie=(0,K.Mk)(this.slider.nativeElement);return this.nzVertical?ie.top:ie.left}getSliderLength(){if(null!==this.cacheSliderLength)return this.cacheSliderLength;const ie=this.slider.nativeElement;return this.nzVertical?ie.clientHeight:ie.clientWidth}cacheSliderProperty(ie=!1){this.cacheSliderStart=ie?null:this.getSliderStartPosition(),this.cacheSliderLength=ie?null:this.getSliderLength()}formatValue(ie){return(0,K.gD)(ie)?this.nzRange?[this.nzMin,this.nzMax]:this.nzMin:function Le(Me,nt){return!(!pt(Me)&&isNaN(Me)||pt(Me)&&Me.some(ie=>isNaN(ie)))&&function mt(Me,nt=!1){if(pt(Me)!==nt)throw function Xe(){return new Error('The "nzRange" can\'t match the "ngModel"\'s type, please check these properties: "nzRange", "ngModel", "nzDefaultValue".')}();return!0}(Me,nt)}(ie,this.nzRange)?pt(ie)?ie.map(F=>(0,K.Gd)(F,this.nzMin,this.nzMax)):(0,K.Gd)(ie,this.nzMin,this.nzMax):this.nzDefaultValue?this.nzDefaultValue:this.nzRange?[this.nzMin,this.nzMax]:this.nzMin}showHandleTooltip(ie=0){this.handles.forEach((F,_e)=>{F.active=_e===ie})}hideAllHandleTooltip(){this.handles.forEach(ie=>ie.active=!1)}generateMarkItems(ie){const F=[];for(const _e in ie)if(ie.hasOwnProperty(_e)){const ne=ie[_e],Oe="number"==typeof _e?_e:parseFloat(_e);Oe>=this.nzMin&&Oe<=this.nzMax&&F.push({value:Oe,offset:this.valueToOffset(Oe),config:ne})}return F.length?F:null}static#e=this.\u0275fac=function(F){return new(F||Me)(v.rXU(v.aKT),v.rXU(ae),v.rXU(v.gRc),v.rXU(fe.OD),v.rXU(ze.dS,8))};static#t=this.\u0275cmp=v.VBU({type:Me,selectors:[["nz-slider"]],viewQuery:function(F,_e){if(1&F&&v.GBs(Ze,5),2&F){let ne;v.mGM(ne=v.lsd())&&(_e.handlerComponents=ne)}},hostAttrs:[1,"ant-slider"],hostVars:8,hostBindings:function(F,_e){1&F&&v.bIt("keydown",function(Oe){return _e.onKeyDown(Oe)}),2&F&&v.AVh("ant-slider-rtl","rtl"===_e.dir)("ant-slider-disabled",_e.nzDisabled)("ant-slider-vertical",_e.nzVertical)("ant-slider-with-marks",_e.marksArray)},inputs:{nzDisabled:"nzDisabled",nzDots:"nzDots",nzIncluded:"nzIncluded",nzRange:"nzRange",nzVertical:"nzVertical",nzReverse:"nzReverse",nzDefaultValue:"nzDefaultValue",nzMarks:"nzMarks",nzMax:"nzMax",nzMin:"nzMin",nzStep:"nzStep",nzTooltipVisible:"nzTooltipVisible",nzTooltipPlacement:"nzTooltipPlacement",nzTipFormatter:"nzTipFormatter"},outputs:{nzOnAfterChange:"nzOnAfterChange"},exportAs:["nzSlider"],standalone:!0,features:[v.Jv_([{provide:Y.kq,useExisting:(0,v.Rfq)(()=>Me),multi:!0},ae]),v.OA$,v.aNF],decls:5,vars:9,consts:[[1,"ant-slider-rail"],[3,"vertical","included","offset","length","reverse","dir"],[3,"vertical","min","max","lowerBound","upperBound","marksArray","included","reverse",4,"ngIf"],[3,"vertical","reverse","offset","value","active","tooltipFormatter","tooltipVisible","tooltipPlacement","dir","focusin",4,"ngFor","ngForOf"],[3,"vertical","min","max","lowerBound","upperBound","marksArray","included","reverse"],[3,"focusin","vertical","reverse","offset","value","active","tooltipFormatter","tooltipVisible","tooltipPlacement","dir"]],template:function(F,_e){1&F&&(v.nrm(0,"div",0)(1,"nz-slider-track",1),v.DNE(2,Te,1,8,"nz-slider-step",2)(3,Z,1,9,"nz-slider-handle",3)(4,Se,1,8,"nz-slider-marks",2)),2&F&&(v.R7$(),v.Y8G("vertical",_e.nzVertical)("included",_e.nzIncluded)("offset",_e.track.offset)("length",_e.track.length)("reverse",_e.nzReverse)("dir",_e.dir),v.R7$(),v.Y8G("ngIf",_e.marksArray),v.R7$(),v.Y8G("ngForOf",_e.handles),v.R7$(),v.Y8G("ngIf",_e.marksArray))},dependencies:[Be,qe,Ze,m.Sq,Pe,m.bT],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,K.H3)()],Me.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,K.H3)()],Me.prototype,"nzDots",void 0),(0,t.Cg)([(0,K.H3)()],Me.prototype,"nzIncluded",void 0),(0,t.Cg)([(0,K.H3)()],Me.prototype,"nzRange",void 0),(0,t.Cg)([(0,K.H3)()],Me.prototype,"nzVertical",void 0),(0,t.Cg)([(0,K.H3)()],Me.prototype,"nzReverse",void 0),(0,t.Cg)([(0,K.YI)()],Me.prototype,"nzMax",void 0),(0,t.Cg)([(0,K.YI)()],Me.prototype,"nzMin",void 0),(0,t.Cg)([(0,K.YI)()],Me.prototype,"nzStep",void 0),Me})();function pt(Me){return Me instanceof Array&&2===Me.length}function et(Me){return Array(Me).fill(0).map(()=>({offset:null,value:null,active:!1}))}let xt=(()=>{class Me{static#e=this.\u0275fac=function(F){return new(F||Me)};static#t=this.\u0275mod=v.$C({type:Me});static#n=this.\u0275inj=v.G2t({imports:[tt,Ze]})}return Me})()},7685:(Lt,ct,C)=>{"use strict";C.d(ct,{Dq:()=>pe,U5:()=>fe,pc:()=>ze});var t=C(4438),f=C(1635),m=C(177),v=C(1413),Y=C(6977),Ve=C(6035),be=C(317);const re=["*"],ue=xe=>({$implicit:xe});function X(xe,Fe){}function ee(xe,Fe){if(1&xe&&(t.j41(0,"span",4),t.DNE(1,X,0,0,"ng-template",5),t.k0s()),2&xe){const Ge=t.XpG(),he=Ge.last,Te=Ge.index,Z=t.XpG();t.xc7("margin-bottom","vertical"===Z.nzDirection?he?null:Z.spaceSize:null,"px")("margin-right","horizontal"===Z.nzDirection?he?null:Z.spaceSize:null,"px"),t.R7$(),t.Y8G("ngTemplateOutlet",Z.nzSplit)("ngTemplateOutletContext",t.eq3(6,ue,Te))}}function le(xe,Fe){if(1&xe&&(t.j41(0,"div",1),t.eu8(1,2),t.k0s(),t.DNE(2,ee,2,8,"span",3)),2&xe){const Ge=Fe.$implicit,he=Fe.last,Te=t.XpG();t.xc7("margin-bottom","vertical"===Te.nzDirection?he?null:Te.spaceSize:null,"px")("margin-right","horizontal"===Te.nzDirection?he?null:Te.spaceSize:null,"px"),t.R7$(),t.Y8G("ngTemplateOutlet",Ge),t.R7$(),t.Y8G("ngIf",Te.nzSplit&&!he)}}let pe=(()=>{class xe{constructor(){}static#e=this.\u0275fac=function(he){return new(he||xe)};static#t=this.\u0275dir=t.FsC({type:xe,selectors:[["","nzSpaceItem",""]],standalone:!0})}return xe})();const G={small:8,middle:16,large:24};let fe=(()=>{class xe{constructor(Ge,he){this.nzConfigService=Ge,this.cdr=he,this._nzModuleName="space",this.nzDirection="horizontal",this.nzSplit=null,this.nzWrap=!1,this.nzSize="small",this.spaceSize=G.small,this.destroy$=new v.B}updateSpaceItems(){this.spaceSize=("string"==typeof this.nzSize?G[this.nzSize]:this.nzSize)/(this.nzSplit?2:1),this.cdr.markForCheck()}ngOnChanges(){this.updateSpaceItems(),this.mergedAlign=void 0===this.nzAlign&&"horizontal"===this.nzDirection?"center":this.nzAlign}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterContentInit(){this.updateSpaceItems(),this.items.changes.pipe((0,Y.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}static#e=this.\u0275fac=function(he){return new(he||xe)(t.rXU(Ve.yx),t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:xe,selectors:[["nz-space"],["","nz-space",""]],contentQueries:function(he,Te,Z){if(1&he&&t.wni(Z,pe,4,t.C4Q),2&he){let Se;t.mGM(Se=t.lsd())&&(Te.items=Se)}},hostAttrs:[1,"ant-space"],hostVars:14,hostBindings:function(he,Te){2&he&&(t.xc7("flex-wrap",Te.nzWrap?"wrap":null),t.AVh("ant-space-horizontal","horizontal"===Te.nzDirection)("ant-space-vertical","vertical"===Te.nzDirection)("ant-space-align-start","start"===Te.mergedAlign)("ant-space-align-end","end"===Te.mergedAlign)("ant-space-align-center","center"===Te.mergedAlign)("ant-space-align-baseline","baseline"===Te.mergedAlign))},inputs:{nzDirection:"nzDirection",nzAlign:"nzAlign",nzSplit:"nzSplit",nzWrap:"nzWrap",nzSize:"nzSize"},exportAs:["NzSpace"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:re,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],[1,"ant-space-item"],[3,"ngTemplateOutlet"],["class","ant-space-split",3,"margin-bottom","margin-right",4,"ngIf"],[1,"ant-space-split"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(he,Te){1&he&&(t.NAR(),t.SdG(0),t.DNE(1,le,3,6,"ng-template",0)),2&he&&(t.R7$(),t.Y8G("ngForOf",Te.items))},dependencies:[m.T3,m.bT,m.Sq],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,be.H3)()],xe.prototype,"nzWrap",void 0),(0,f.Cg)([(0,Ve.H4)()],xe.prototype,"nzSize",void 0),xe})(),ze=(()=>{class xe{static#e=this.\u0275fac=function(he){return new(he||xe)};static#t=this.\u0275mod=t.$C({type:xe});static#n=this.\u0275inj=t.G2t({})}return xe})()},2983:(Lt,ct,C)=>{"use strict";C.d(ct,{a:()=>Pe,V:()=>We});var t=C(1635),f=C(177),m=C(4438),v=C(1413),Y=C(4412),Ve=C(2771),be=C(1584),re=C(9172),ue=C(3294),X=C(5558),ee=C(9974),le=C(5343),pe=C(4360),K=C(8750),fe=C(6977),ze=C(6035),xe=C(317),Fe=C(8203);const Ge=["*"];function he(qe,Be){1&qe&&(m.j41(0,"span",3),m.nrm(1,"i",4)(2,"i",4)(3,"i",4)(4,"i",4),m.k0s())}function Te(qe,Be){}function Z(qe,Be){if(1&qe&&(m.j41(0,"div",8),m.EFF(1),m.k0s()),2&qe){const tt=m.XpG(2);m.R7$(),m.JRh(tt.nzTip)}}function Se(qe,Be){if(1&qe&&(m.j41(0,"div")(1,"div",5),m.DNE(2,Te,0,0,"ng-template",6)(3,Z,2,1,"div",7),m.k0s()()),2&qe){const tt=m.XpG(),Xe=m.sdS(1);m.R7$(),m.AVh("ant-spin-rtl","rtl"===tt.dir)("ant-spin-spinning",tt.isLoading)("ant-spin-lg","large"===tt.nzSize)("ant-spin-sm","small"===tt.nzSize)("ant-spin-show-text",tt.nzTip),m.R7$(),m.Y8G("ngTemplateOutlet",tt.nzIndicator||Xe),m.R7$(),m.Y8G("ngIf",tt.nzTip)}}function ae(qe,Be){if(1&qe&&(m.j41(0,"div",9),m.SdG(1),m.k0s()),2&qe){const tt=m.XpG();m.AVh("ant-spin-blur",tt.isLoading)}}let Pe=(()=>{class qe{constructor(tt,Xe,pt){this.nzConfigService=tt,this.cdr=Xe,this.directionality=pt,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new v.B,this.spinning$=new Y.t(this.nzSpinning),this.delay$=new Ve.m(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){this.delay$.pipe((0,re.Z)(this.nzDelay),(0,ue.F)(),(0,X.n)(Xe=>0===Xe?this.spinning$:this.spinning$.pipe(function G(qe){return(0,ee.N)((Be,tt)=>{let Xe=!1,pt=null,et=null;const Le=()=>{if(et?.unsubscribe(),et=null,Xe){Xe=!1;const mt=pt;pt=null,tt.next(mt)}};Be.subscribe((0,pe._)(tt,mt=>{et?.unsubscribe(),Xe=!0,pt=mt,et=(0,pe._)(tt,Le,le.l),(0,K.Tg)(qe(mt)).subscribe(et)},()=>{Le(),tt.complete()},void 0,()=>{pt=et=null}))})}(pt=>(0,be.O)(pt?Xe:0)))),(0,fe.Q)(this.destroy$)).subscribe(Xe=>{this.isLoading=Xe,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe((0,fe.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change?.pipe((0,fe.Q)(this.destroy$)).subscribe(Xe=>{this.dir=Xe,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(tt){const{nzSpinning:Xe,nzDelay:pt}=tt;Xe&&this.spinning$.next(this.nzSpinning),pt&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Xe){return new(Xe||qe)(m.rXU(ze.yx),m.rXU(m.gRc),m.rXU(Fe.dS,8))};static#t=this.\u0275cmp=m.VBU({type:qe,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(Xe,pt){2&Xe&&m.AVh("ant-spin-nested-loading",!pt.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],standalone:!0,features:[m.OA$,m.aNF],ngContentSelectors:Ge,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(Xe,pt){1&Xe&&(m.NAR(),m.DNE(0,he,5,0,"ng-template",null,0,m.C5r)(2,Se,4,12,"div",1)(3,ae,2,2,"div",2)),2&Xe&&(m.R7$(2),m.Y8G("ngIf",pt.isLoading),m.R7$(),m.Y8G("ngIf",!pt.nzSimple))},dependencies:[f.bT,f.T3],encapsulation:2})}return(0,t.Cg)([(0,ze.H4)()],qe.prototype,"nzIndicator",void 0),(0,t.Cg)([(0,xe.YI)()],qe.prototype,"nzDelay",void 0),(0,t.Cg)([(0,xe.H3)()],qe.prototype,"nzSimple",void 0),(0,t.Cg)([(0,xe.H3)()],qe.prototype,"nzSpinning",void 0),qe})(),We=(()=>{class qe{static#e=this.\u0275fac=function(Xe){return new(Xe||qe)};static#t=this.\u0275mod=m.$C({type:qe});static#n=this.\u0275inj=m.G2t({})}return qe})()},7481:(Lt,ct,C)=>{"use strict";C.d(ct,{$:()=>Se,u:()=>Z});var t=C(1635),f=C(7336),m=C(177),v=C(4438),Y=C(4341),Ve=C(1413),be=C(3726),re=C(6977),ue=C(6035),X=C(7806),ee=C(317),le=C(5930),pe=C(5103),K=C(851),G=C(8203);const fe=["switchElement"];function ze(ae,Ze){1&ae&&v.nrm(0,"span",8)}function xe(ae,Ze){if(1&ae&&(v.qex(0),v.EFF(1),v.bVm()),2&ae){const Pe=v.XpG(2);v.R7$(),v.JRh(Pe.nzCheckedChildren)}}function Fe(ae,Ze){if(1&ae&&(v.qex(0),v.DNE(1,xe,2,1,"ng-container",9),v.bVm()),2&ae){const Pe=v.XpG();v.R7$(),v.Y8G("nzStringTemplateOutlet",Pe.nzCheckedChildren)}}function Ge(ae,Ze){if(1&ae&&(v.qex(0),v.EFF(1),v.bVm()),2&ae){const Pe=v.XpG(2);v.R7$(),v.JRh(Pe.nzUnCheckedChildren)}}function he(ae,Ze){if(1&ae&&v.DNE(0,Ge,2,1,"ng-container",9),2&ae){const Pe=v.XpG();v.Y8G("nzStringTemplateOutlet",Pe.nzUnCheckedChildren)}}let Z=(()=>{class ae{updateValue(Pe){this.isChecked!==Pe&&(this.isChecked=Pe,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(Pe,We,qe,Be,tt,Xe){this.nzConfigService=Pe,this.host=We,this.ngZone=qe,this.cdr=Be,this.focusMonitor=tt,this.directionality=Xe,this._nzModuleName="switch",this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.nzId=null,this.dir="ltr",this.destroy$=new Ve.B,this.isNzDisableFirstChange=!0}ngOnInit(){this.directionality.change.pipe((0,re.Q)(this.destroy$)).subscribe(Pe=>{this.dir=Pe,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,be.R)(this.host.nativeElement,"click").pipe((0,re.Q)(this.destroy$)).subscribe(Pe=>{Pe.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,be.R)(this.switchElement.nativeElement,"keydown").pipe((0,re.Q)(this.destroy$)).subscribe(Pe=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:We}=Pe;We!==f.UQ&&We!==f.LE&&We!==f.t6&&We!==f.Fm||(Pe.preventDefault(),this.ngZone.run(()=>{We===f.UQ?this.updateValue(!1):We===f.LE?this.updateValue(!0):(We===f.t6||We===f.Fm)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,re.Q)(this.destroy$)).subscribe(Pe=>{Pe||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(Pe){this.isChecked=Pe,this.cdr.markForCheck()}registerOnChange(Pe){this.onChange=Pe}registerOnTouched(Pe){this.onTouched=Pe}setDisabledState(Pe){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||Pe,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static#e=this.\u0275fac=function(We){return new(We||ae)(v.rXU(ue.yx),v.rXU(v.aKT),v.rXU(v.SKi),v.rXU(v.gRc),v.rXU(K.FN),v.rXU(G.dS,8))};static#t=this.\u0275cmp=v.VBU({type:ae,selectors:[["nz-switch"]],viewQuery:function(We,qe){if(1&We&&v.GBs(fe,7),2&We){let Be;v.mGM(Be=v.lsd())&&(qe.switchElement=Be.first)}},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],standalone:!0,features:[v.Jv_([{provide:Y.kq,useExisting:(0,v.Rfq)(()=>ae),multi:!0}]),v.aNF],decls:9,vars:16,consts:[["switchElement",""],["uncheckTemplate",""],["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(We,qe){if(1&We&&(v.j41(0,"button",2,0)(2,"span",3),v.DNE(3,ze,1,0,"span",4),v.k0s(),v.j41(4,"span",5),v.DNE(5,Fe,2,1,"ng-container",6)(6,he,1,1,"ng-template",null,1,v.C5r),v.k0s(),v.nrm(8,"div",7),v.k0s()),2&We){const Be=v.sdS(7);v.AVh("ant-switch-checked",qe.isChecked)("ant-switch-loading",qe.nzLoading)("ant-switch-disabled",qe.nzDisabled)("ant-switch-small","small"===qe.nzSize)("ant-switch-rtl","rtl"===qe.dir),v.Y8G("disabled",qe.nzDisabled)("nzWaveExtraNode",!0),v.BMQ("id",qe.nzId),v.R7$(3),v.Y8G("ngIf",qe.nzLoading),v.R7$(2),v.Y8G("ngIf",qe.isChecked)("ngIfElse",Be)}},dependencies:[le.o7,le.p,pe.Y3,pe.Dn,m.bT,X.C,X.m],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,ee.H3)()],ae.prototype,"nzLoading",void 0),(0,t.Cg)([(0,ee.H3)()],ae.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,ee.H3)()],ae.prototype,"nzControl",void 0),(0,t.Cg)([(0,ue.H4)()],ae.prototype,"nzSize",void 0),ae})(),Se=(()=>{class ae{static#e=this.\u0275fac=function(We){return new(We||ae)};static#t=this.\u0275mod=v.$C({type:ae});static#n=this.\u0275inj=v.G2t({imports:[Z]})}return ae})()},9247:(Lt,ct,C)=>{"use strict";C.d(ct,{SO:()=>Ir,CP:()=>po,$G:()=>Vr,aj:()=>Mi,_4:()=>lo,IL:()=>Lr,kt:()=>fo});var t=C(4438),f=C(1635),m=C(3726),v=C(1413),Y=C(2771),Ve=C(4412),be=C(4572),re=C(7786),ue=C(983),X=C(7673),ee=C(6977),le=C(6354),pe=C(3294),K=C(152),G=C(5245),fe=C(5964),ze=C(5558),xe=C(9172),Fe=C(1986),Ge=C(1397),he=C(6035),Te=C(1025),Z=C(317),Se=C(2602),ae=C(177),Ze=C(4341),Pe=C(513),We=C(2986),qe=C(5103),Be=C(3190),tt=C(3341),Xe=C(1868),pt=C(6389),et=C(5930),Le=C(494),mt=C(1672),ht=C(5979),xt=C(6860),Gt=C(1997),Me=C(8203);const nt=["nz-pagination-item",""],ie=(L,ut)=>({$implicit:L,page:ut});function F(L,ut){if(1&L&&(t.j41(0,"a"),t.EFF(1),t.k0s()),2&L){const O=t.XpG().page;t.R7$(),t.JRh(O)}}function _e(L,ut){1&L&&t.nrm(0,"span",3)}function ne(L,ut){1&L&&t.nrm(0,"span",4)}function Oe(L,ut){if(1&L&&(t.j41(0,"button",2),t.DNE(1,_e,1,0,"span",3)(2,ne,1,0),t.k0s()),2&L){const O=t.XpG(2);t.Y8G("disabled",O.disabled),t.BMQ("title",O.locale.prev_page),t.R7$(),t.vxM(1,"rtl"===O.direction?1:2)}}function je(L,ut){1&L&&t.nrm(0,"span",4)}function vt(L,ut){1&L&&t.nrm(0,"span",3)}function Pt(L,ut){if(1&L&&(t.j41(0,"button",2),t.DNE(1,je,1,0,"span",4)(2,vt,1,0),t.k0s()),2&L){const O=t.XpG(2);t.Y8G("disabled",O.disabled),t.BMQ("title",O.locale.next_page),t.R7$(),t.vxM(1,"rtl"===O.direction?1:2)}}function At(L,ut){1&L&&t.nrm(0,"span",8)}function Wt(L,ut){1&L&&t.nrm(0,"span",9)}function qt(L,ut){if(1&L&&t.DNE(0,At,1,0,"span",8)(1,Wt,1,0),2&L){const O=t.XpG(3);t.vxM(0,"rtl"===O.direction?0:1)}}function lt(L,ut){1&L&&t.nrm(0,"span",9)}function Mt(L,ut){1&L&&t.nrm(0,"span",8)}function ye(L,ut){if(1&L&&t.DNE(0,lt,1,0,"span",9)(1,Mt,1,0),2&L){const O=t.XpG(3);t.vxM(0,"rtl"===O.direction?0:1)}}function st(L,ut){if(1&L&&(t.j41(0,"a",5)(1,"div",6),t.DNE(2,qt,2,1)(3,ye,2,1),t.j41(4,"span",7),t.EFF(5,"\u2022\u2022\u2022"),t.k0s()()()),2&L){let O;const A=t.XpG().$implicit;t.R7$(2),t.vxM(2,"prev_5"===(O=A)?2:"next_5"===O?3:-1)}}function J(L,ut){if(1&L&&t.DNE(0,F,2,1)(1,Oe,3,3)(2,Pt,3,3)(3,st,6,1),2&L){let O;t.vxM(0,"page"===(O=ut.$implicit)?0:"prev"===O?1:"next"===O?2:3)}}function He(L,ut){}const me=["nz-pagination-options",""],W=(L,ut)=>ut.value;function b(L,ut){if(1&L&&t.nrm(0,"nz-option",3),2&L){const O=ut.$implicit;t.Y8G("nzLabel",O.label)("nzValue",O.value)}}function D(L,ut){if(1&L){const O=t.RV6();t.j41(0,"nz-select",2),t.bIt("ngModelChange",function(H){t.eBV(O);const Ae=t.XpG();return t.Njj(Ae.onPageSizeChange(H))}),t.Z7z(1,b,1,2,"nz-option",3,W),t.k0s()}if(2&L){const O=t.XpG();t.Y8G("nzDisabled",O.disabled)("nzSize",O.nzSize)("ngModel",O.pageSize),t.R7$(),t.Dyx(O.listOfPageSizeOption)}}function j(L,ut){if(1&L){const O=t.RV6();t.j41(0,"div",1),t.EFF(1),t.j41(2,"input",4),t.bIt("keydown.enter",function(H){t.eBV(O);const Ae=t.XpG();return t.Njj(Ae.jumpToPageViaInput(H))}),t.k0s(),t.EFF(3),t.k0s()}if(2&L){const O=t.XpG();t.R7$(),t.SpI(" ",O.locale.jump_to," "),t.R7$(),t.Y8G("disabled",O.disabled),t.R7$(),t.SpI(" ",O.locale.page," ")}}const Q=["containerTemplate"];function ke(L,ut){return this.trackByPageItem}const Ye=(L,ut)=>({$implicit:L,range:ut});function dt(L,ut){}function bt(L,ut){if(1&L&&(t.j41(0,"li",1),t.DNE(1,dt,0,0,"ng-template",4),t.k0s()),2&L){const O=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",O.showTotal)("ngTemplateOutletContext",t.l_i(2,Ye,O.total,O.ranges))}}function kt(L,ut){if(1&L){const O=t.RV6();t.j41(0,"li",5),t.bIt("gotoIndex",function(H){t.eBV(O);const Ae=t.XpG(2);return t.Njj(Ae.jumpPage(H))})("diffIndex",function(H){t.eBV(O);const Ae=t.XpG(2);return t.Njj(Ae.jumpDiff(H))}),t.k0s()}if(2&L){const O=ut.$implicit,A=t.XpG(2);t.Y8G("locale",A.locale)("type",O.type)("index",O.index)("disabled",!!O.disabled)("itemRender",A.itemRender)("active",A.pageIndex===O.index)("direction",A.dir)}}function wt(L,ut){if(1&L){const O=t.RV6();t.j41(0,"li",6),t.bIt("pageIndexChange",function(H){t.eBV(O);const Ae=t.XpG(2);return t.Njj(Ae.onPageIndexChange(H))})("pageSizeChange",function(H){t.eBV(O);const Ae=t.XpG(2);return t.Njj(Ae.onPageSizeChange(H))}),t.k0s()}if(2&L){const O=t.XpG(2);t.Y8G("total",O.total)("locale",O.locale)("disabled",O.disabled)("nzSize",O.nzSize)("showSizeChanger",O.showSizeChanger)("showQuickJumper",O.showQuickJumper)("pageIndex",O.pageIndex)("pageSize",O.pageSize)("pageSizeOptions",O.pageSizeOptions)}}function Yt(L,ut){if(1&L&&(t.j41(0,"ul"),t.DNE(1,bt,2,5,"li",1),t.Z7z(2,kt,1,7,"li",2,ke,!0),t.DNE(4,wt,1,9,"li",3),t.k0s()),2&L){const O=t.XpG();t.R7$(),t.vxM(1,O.showTotal?1:-1),t.R7$(),t.Dyx(O.listOfPageItem),t.R7$(2),t.vxM(4,O.showQuickJumper||O.showSizeChanger?4:-1)}}function rt(L,ut){if(1&L){const O=t.RV6();t.j41(0,"ul")(1,"li",1),t.bIt("click",function(){t.eBV(O);const H=t.XpG();return t.Njj(H.prePage())}),t.k0s(),t.j41(2,"li",2)(3,"input",3),t.bIt("keydown.enter",function(H){t.eBV(O);const Ae=t.XpG();return t.Njj(Ae.jumpToPageViaInput(H))}),t.k0s(),t.j41(4,"span",4),t.EFF(5,"/"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"li",5),t.bIt("click",function(){t.eBV(O);const H=t.XpG();return t.Njj(H.nextPage())}),t.k0s()()}if(2&L){const O=t.XpG();t.R7$(),t.Y8G("locale",O.locale)("disabled",O.isFirstIndex)("direction",O.dir)("itemRender",O.itemRender),t.BMQ("title",O.locale.prev_page),t.R7$(),t.BMQ("title",O.pageIndex+"/"+O.lastIndex),t.R7$(),t.Y8G("disabled",O.disabled)("value",O.pageIndex),t.R7$(3),t.SpI(" ",O.lastIndex," "),t.R7$(),t.Y8G("locale",O.locale)("disabled",O.isLastIndex)("direction",O.dir)("itemRender",O.itemRender),t.BMQ("title",null==O.locale?null:O.locale.next_page)}}function Ht(L,ut){}function Ee(L,ut){if(1&L&&t.DNE(0,Ht,0,0,"ng-template",4),2&L){t.XpG(2);const O=t.sdS(2);t.Y8G("ngTemplateOutlet",O.template)}}function Je(L,ut){}function Ie(L,ut){if(1&L&&t.DNE(0,Je,0,0,"ng-template",4),2&L){t.XpG(2);const O=t.sdS(4);t.Y8G("ngTemplateOutlet",O.template)}}function It(L,ut){if(1&L&&t.DNE(0,Ee,1,1,null,4)(1,Ie,1,1),2&L){const O=t.XpG();t.vxM(0,O.nzSimple?0:1)}}let Rt=(()=>{class L{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new t.bkB,this.gotoIndex=new t.bkB,this.title=null}clickItem(){this.disabled||("page"===this.type?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(O){const{locale:A,index:H,type:Ae}=O;(A||H||Ae)&&(this.title={page:`${this.index}`,next:this.locale?.next_page,prev:this.locale?.prev_page,prev_5:this.locale?.prev_5,next_5:this.locale?.next_5}[this.type])}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(A,H){1&A&&t.bIt("click",function(){return H.clickItem()}),2&A&&(t.BMQ("title",H.title),t.AVh("ant-pagination-prev","prev"===H.type)("ant-pagination-next","next"===H.type)("ant-pagination-item","page"===H.type)("ant-pagination-jump-prev","prev_5"===H.type)("ant-pagination-jump-prev-custom-icon","prev_5"===H.type)("ant-pagination-jump-next","next_5"===H.type)("ant-pagination-jump-next-custom-icon","next_5"===H.type)("ant-pagination-disabled",H.disabled)("ant-pagination-item-active",H.active))},inputs:{active:"active",locale:"locale",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},standalone:!0,features:[t.OA$,t.aNF],attrs:nt,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"ant-pagination-item-link",3,"disabled"],["nz-icon","","nzType","right"],["nz-icon","","nzType","left"],[1,"ant-pagination-item-link"],[1,"ant-pagination-item-container"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"]],template:function(A,H){if(1&A&&t.DNE(0,J,4,1,"ng-template",null,0,t.C5r)(2,He,0,0,"ng-template",1),2&A){const Ae=t.sdS(1);t.R7$(2),t.Y8G("ngTemplateOutlet",H.itemRender||Ae)("ngTemplateOutletContext",t.l_i(2,ie,H.type,H.index))}},dependencies:[qe.Y3,qe.Dn,ae.T3],encapsulation:2,changeDetection:0})}return L})(),Ot=(()=>{class L{constructor(){this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new t.bkB,this.pageSizeChange=new t.bkB,this.listOfPageSizeOption=[]}onPageSizeChange(O){this.pageSize!==O&&this.pageSizeChange.next(O)}jumpToPageViaInput(O){const A=O.target,H=Math.floor((0,Z.Ro)(A.value,this.pageIndex));this.pageIndexChange.next(H),A.value=""}ngOnChanges(O){const{pageSize:A,pageSizeOptions:H,locale:Ae}=O;(A||H||Ae)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(ft=>({value:ft,label:`${ft} ${this.locale.items_per_page}`})))}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["li","nz-pagination-options",""]],hostAttrs:[1,"ant-pagination-options"],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[t.OA$,t.aNF],attrs:me,decls:2,vars:2,consts:[[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel"],[1,"ant-pagination-options-quick-jumper"],[1,"ant-pagination-options-size-changer",3,"ngModelChange","nzDisabled","nzSize","ngModel"],[3,"nzLabel","nzValue"],[3,"keydown.enter","disabled"]],template:function(A,H){1&A&&t.DNE(0,D,3,3,"nz-select",0)(1,j,4,3,"div",1),2&A&&(t.vxM(0,H.showSizeChanger?0:-1),t.R7$(),t.vxM(1,H.showQuickJumper?1:-1))},dependencies:[Gt.DH,Gt.ld,Gt.WI,Ze.YN,Ze.BC,Ze.vS],encapsulation:2,changeDetection:0})}return L})(),Ft=(()=>{class L{constructor(O,A,H,Ae){this.cdr=O,this.renderer=A,this.elementRef=H,this.directionality=Ae,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new t.bkB,this.pageSizeChange=new t.bkB,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new v.B,A.removeChild(A.parentNode(H.nativeElement),H.nativeElement)}ngOnInit(){this.directionality.change?.pipe((0,ee.Q)(this.destroy$)).subscribe(O=>{this.dir=O,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(O){this.onPageIndexChange(O)}jumpDiff(O){this.jumpPage(this.pageIndex+O)}trackByPageItem(O,A){return`${A.type}-${A.index}`}onPageIndexChange(O){this.pageIndexChange.next(O)}onPageSizeChange(O){this.pageSizeChange.next(O)}getLastIndex(O,A){return Math.ceil(O/A)}buildIndexes(){const O=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,O)}getListOfPageItem(O,A){const Ae=(ft,Vt)=>{const Xt=[];for(let tn=ft;tn<=Vt;tn++)Xt.push({index:tn,type:"page"});return Xt};return ft=A<=9?Ae(1,A):((Vt,Xt)=>{let tn=[];const fn={type:"prev_5"},$t={type:"next_5"},Yn=Ae(1,1),hi=Ae(A,A);return tn=Vt<5?[...Ae(2,4===Vt?6:5),$t]:Vt<Xt-3?[fn,...Ae(Vt-2,Vt+2),$t]:[fn,...Ae(Vt===Xt-3?Xt-5:Xt-4,Xt-1)],[...Yn,...tn,...hi]})(O,A),[{type:"prev",disabled:1===O},...ft,{type:"next",disabled:O===A}];var ft}ngOnChanges(O){const{pageIndex:A,pageSize:H,total:Ae}=O;(A||H||Ae)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(Me.dS,8))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-pagination-default"]],viewQuery:function(A,H){if(1&A&&t.GBs(Q,7),2&A){let Ae;t.mGM(Ae=t.lsd())&&(H.template=Ae.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",locale:"locale",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:0,consts:[["containerTemplate",""],[1,"ant-pagination-total-text"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"gotoIndex","diffIndex","locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"pageIndexChange","pageSizeChange","total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"]],template:function(A,H){1&A&&t.DNE(0,Yt,5,2,"ng-template",null,0,t.C5r)},dependencies:[ae.T3,Rt,Ot],encapsulation:2,changeDetection:0})}return L})(),en=(()=>{class L{constructor(O,A,H,Ae){this.cdr=O,this.renderer=A,this.elementRef=H,this.directionality=Ae,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new t.bkB,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new v.B,A.removeChild(A.parentNode(H.nativeElement),H.nativeElement)}ngOnInit(){this.directionality.change?.pipe((0,ee.Q)(this.destroy$)).subscribe(O=>{this.dir=O,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(O){const A=O.target,H=(0,Z.Ro)(A.value,this.pageIndex);this.onPageIndexChange(H),A.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(O){this.pageIndexChange.next(O)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=1===this.pageIndex,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(O){const{pageIndex:A,total:H,pageSize:Ae}=O;(A||H||Ae)&&this.updateBindingValue()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(Me.dS,8))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-pagination-simple"]],viewQuery:function(A,H){if(1&A&&t.GBs(Q,7),2&A){let Ae;t.mGM(Ae=t.lsd())&&(H.template=Ae.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize"},outputs:{pageIndexChange:"pageIndexChange"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"click","locale","disabled","direction","itemRender"],[1,"ant-pagination-simple-pager"],["size","3",3,"keydown.enter","disabled","value"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"click","locale","disabled","direction","itemRender"]],template:function(A,H){1&A&&t.DNE(0,rt,8,14,"ng-template",null,0,t.C5r)},dependencies:[Rt],encapsulation:2,changeDetection:0})}return L})(),kn=(()=>{class L{validatePageIndex(O,A){return O>A?A:O<1?1:O}onPageIndexChange(O){const A=this.getLastIndex(this.nzTotal,this.nzPageSize),H=this.validatePageIndex(O,A);H!==this.nzPageIndex&&!this.nzDisabled&&(this.nzPageIndex=H,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(O){this.nzPageSize=O,this.nzPageSizeChange.emit(O);const A=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>A&&this.onPageIndexChange(A)}onTotalChange(O){const A=this.getLastIndex(O,this.nzPageSize);this.nzPageIndex>A&&Promise.resolve().then(()=>{this.onPageIndexChange(A),this.cdr.markForCheck()})}getLastIndex(O,A){return Math.ceil(O/A)}constructor(O,A,H,Ae,ft){this.i18n=O,this.cdr=A,this.breakpointService=H,this.nzConfigService=Ae,this.directionality=ft,this._nzModuleName="pagination",this.nzPageSizeChange=new t.bkB,this.nzPageIndexChange=new t.bkB,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzShowSizeChanger=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzDisabled=!1,this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new v.B,this.total$=new Y.m(1)}ngOnInit(){this.i18n.localeChange.pipe((0,ee.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe((0,ee.Q)(this.destroy$)).subscribe(O=>{this.onTotalChange(O)}),this.breakpointService.subscribe(Te.fe).pipe((0,ee.Q)(this.destroy$)).subscribe(O=>{this.nzResponsive&&(this.size=O===Te.pt.xs?"small":"default",this.cdr.markForCheck())}),this.directionality.change?.pipe((0,ee.Q)(this.destroy$)).subscribe(O=>{this.dir=O,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(O){const{nzHideOnSinglePage:A,nzTotal:H,nzPageSize:Ae,nzSize:ft}=O;H&&this.total$.next(this.nzTotal),(A||H||Ae)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),ft&&(this.size=ft.currentValue)}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(tt.Og),t.rXU(t.gRc),t.rXU(Te.jp),t.rXU(he.yx),t.rXU(Me.dS,8))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-pagination"]],hostAttrs:[1,"ant-pagination"],hostVars:8,hostBindings:function(A,H){2&A&&t.AVh("ant-pagination-simple",H.nzSimple)("ant-pagination-disabled",H.nzDisabled)("ant-pagination-mini",!H.nzSimple&&"small"===H.size)("ant-pagination-rtl","rtl"===H.dir)},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:"nzShowSizeChanger",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple",nzDisabled:"nzDisabled",nzResponsive:"nzResponsive",nzHideOnSinglePage:"nzHideOnSinglePage",nzTotal:"nzTotal",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],standalone:!0,features:[t.OA$,t.aNF],decls:5,vars:18,consts:[["simplePagination",""],["defaultPagination",""],[3,"pageIndexChange","disabled","itemRender","locale","pageSize","total","pageIndex"],[3,"pageIndexChange","pageSizeChange","nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet"]],template:function(A,H){if(1&A){const Ae=t.RV6();t.DNE(0,It,2,1),t.j41(1,"nz-pagination-simple",2,0),t.bIt("pageIndexChange",function(Vt){return t.eBV(Ae),t.Njj(H.onPageIndexChange(Vt))}),t.k0s(),t.j41(3,"nz-pagination-default",3,1),t.bIt("pageIndexChange",function(Vt){return t.eBV(Ae),t.Njj(H.onPageIndexChange(Vt))})("pageSizeChange",function(Vt){return t.eBV(Ae),t.Njj(H.onPageSizeChange(Vt))}),t.k0s()}2&A&&(t.vxM(0,H.showPagination?0:-1),t.R7$(),t.Y8G("disabled",H.nzDisabled)("itemRender",H.nzItemRender)("locale",H.locale)("pageSize",H.nzPageSize)("total",H.nzTotal)("pageIndex",H.nzPageIndex),t.R7$(2),t.Y8G("nzSize",H.size)("itemRender",H.nzItemRender)("showTotal",H.nzShowTotal)("disabled",H.nzDisabled)("locale",H.locale)("showSizeChanger",H.nzShowSizeChanger)("showQuickJumper",H.nzShowQuickJumper)("total",H.nzTotal)("pageIndex",H.nzPageIndex)("pageSize",H.nzPageSize)("pageSizeOptions",H.nzPageSizeOptions))},dependencies:[ae.T3,en,Ft],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,he.H4)()],L.prototype,"nzSize",void 0),(0,f.Cg)([(0,he.H4)()],L.prototype,"nzPageSizeOptions",void 0),(0,f.Cg)([(0,he.H4)(),(0,Z.H3)()],L.prototype,"nzShowSizeChanger",void 0),(0,f.Cg)([(0,he.H4)(),(0,Z.H3)()],L.prototype,"nzShowQuickJumper",void 0),(0,f.Cg)([(0,he.H4)(),(0,Z.H3)()],L.prototype,"nzSimple",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzDisabled",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzResponsive",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzHideOnSinglePage",void 0),(0,f.Cg)([(0,Z.YI)()],L.prototype,"nzTotal",void 0),(0,f.Cg)([(0,Z.YI)()],L.prototype,"nzPageIndex",void 0),(0,f.Cg)([(0,Z.YI)()],L.prototype,"nzPageSize",void 0),L})(),$e=(()=>{class L{static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275mod=t.$C({type:L});static#n=this.\u0275inj=t.G2t({imports:[kn,en,Ot,Rt,Ft]})}return L})();var Re=C(2983),de=C(7806);const De=["*"];function ot(L,ut){}function ge(L,ut){if(1&L){const O=t.RV6();t.j41(0,"label",15),t.bIt("ngModelChange",function(){t.eBV(O);const H=t.XpG().$implicit,Ae=t.XpG(2);return t.Njj(Ae.check(H))}),t.k0s()}if(2&L){const O=t.XpG().$implicit;t.Y8G("ngModel",O.checked)}}function $(L,ut){if(1&L){const O=t.RV6();t.j41(0,"label",16),t.bIt("ngModelChange",function(){t.eBV(O);const H=t.XpG().$implicit,Ae=t.XpG(2);return t.Njj(Ae.check(H))}),t.k0s()}if(2&L){const O=t.XpG().$implicit;t.Y8G("ngModel",O.checked)}}function R(L,ut){if(1&L){const O=t.RV6();t.j41(0,"li",12),t.bIt("click",function(){const H=t.eBV(O).$implicit,Ae=t.XpG(2);return t.Njj(Ae.check(H))}),t.DNE(1,ge,1,1,"label",13)(2,$,1,1,"label",14),t.j41(3,"span"),t.EFF(4),t.k0s()()}if(2&L){const O=ut.$implicit,A=t.XpG(2);t.Y8G("nzSelected",O.checked),t.R7$(),t.Y8G("ngIf",!A.filterMultiple),t.R7$(),t.Y8G("ngIf",A.filterMultiple),t.R7$(2),t.JRh(O.text)}}function k(L,ut){if(1&L){const O=t.RV6();t.qex(0),t.j41(1,"nz-filter-trigger",4),t.bIt("nzVisibleChange",function(H){t.eBV(O);const Ae=t.XpG();return t.Njj(Ae.onVisibleChange(H))}),t.nrm(2,"span",5),t.k0s(),t.j41(3,"nz-dropdown-menu",null,0)(5,"div",6)(6,"ul",7),t.DNE(7,R,5,4,"li",8),t.k0s(),t.j41(8,"div",9)(9,"button",10),t.bIt("click",function(){t.eBV(O);const H=t.XpG();return t.Njj(H.reset())}),t.EFF(10),t.k0s(),t.j41(11,"button",11),t.bIt("click",function(){t.eBV(O);const H=t.XpG();return t.Njj(H.confirm())}),t.EFF(12),t.k0s()()()(),t.bVm()}if(2&L){const O=t.sdS(4),A=t.XpG();t.R7$(),t.Y8G("nzVisible",A.isVisible)("nzActive",A.isChecked)("nzDropdownMenu",O),t.R7$(6),t.Y8G("ngForOf",A.listOfParsedFilter)("ngForTrackBy",A.trackByValue),t.R7$(2),t.Y8G("disabled",!A.isChecked),t.R7$(),t.SpI(" ",A.locale.filterReset," "),t.R7$(2),t.JRh(A.locale.filterConfirm)}}function P(L,ut){if(1&L){const O=t.RV6();t.j41(0,"label",3),t.bIt("ngModelChange",function(H){t.eBV(O);const Ae=t.XpG();return t.Njj(Ae.onCheckedChange(H))}),t.k0s()}if(2&L){const O=t.XpG();t.AVh("ant-table-selection-select-all-custom",O.showRowSelection),t.Y8G("ngModel",O.checked)("nzDisabled",O.disabled)("nzIndeterminate",O.indeterminate),t.BMQ("aria-label",O.label)}}function w(L,ut){if(1&L){const O=t.RV6();t.j41(0,"li",9),t.bIt("click",function(){const H=t.eBV(O).$implicit;return t.Njj(H.onSelect())}),t.EFF(1),t.k0s()}if(2&L){const O=ut.$implicit;t.R7$(),t.SpI(" ",O.text," ")}}function T(L,ut){if(1&L&&(t.j41(0,"div",4)(1,"span",5),t.nrm(2,"span",6),t.k0s(),t.j41(3,"nz-dropdown-menu",null,0)(5,"ul",7),t.DNE(6,w,2,1,"li",8),t.k0s()()()),2&L){const O=t.sdS(4),A=t.XpG();t.R7$(),t.Y8G("nzDropdownMenu",O),t.R7$(5),t.Y8G("ngForOf",A.listOfSelections)}}function I(L,ut){}function E(L,ut){if(1&L&&t.nrm(0,"span",6),2&L){const O=t.XpG();t.AVh("active","ascend"===O.sortOrder)}}function oe(L,ut){if(1&L&&t.nrm(0,"span",7),2&L){const O=t.XpG();t.AVh("active","descend"===O.sortOrder)}}const B=["nzChecked",""];function ve(L,ut){if(1&L){const O=t.RV6();t.j41(0,"button",5),t.bIt("expandChange",function(H){t.eBV(O);const Ae=t.XpG(2);return t.Njj(Ae.onExpandChange(H))}),t.k0s()}if(2&L){const O=t.XpG(2);t.Y8G("expand",O.nzExpand)("spaceMode",!O.nzShowExpand)}}function Qe(L,ut){}function at(L,ut){if(1&L&&(t.qex(0),t.DNE(1,Qe,0,0,"ng-template",6),t.bVm()),2&L){const O=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",O.nzExpandIcon)}}function Ct(L,ut){if(1&L&&(t.qex(0),t.nrm(1,"nz-row-indent",3),t.DNE(2,ve,1,2,"ng-template",null,0,t.C5r)(4,at,2,1,"ng-container",4),t.bVm()),2&L){const O=t.sdS(3),A=t.XpG();t.R7$(),t.Y8G("indentSize",A.nzIndentSize),t.R7$(3),t.Y8G("ngIf",A.nzExpandIcon)("ngIfElse",O)}}function Ut(L,ut){if(1&L){const O=t.RV6();t.j41(0,"label",7),t.bIt("ngModelChange",function(H){t.eBV(O);const Ae=t.XpG();return t.Njj(Ae.onCheckedChange(H))}),t.k0s()}if(2&L){const O=t.XpG();t.Y8G("nzDisabled",O.nzDisabled)("ngModel",O.nzChecked)("nzIndeterminate",O.nzIndeterminate),t.BMQ("aria-label",O.nzLabel)}}const Kt=["nzColumnKey",""],nn=[[["","nz-th-extra",""]],[["nz-filter-trigger"]],"*"],un=["[nz-th-extra]","nz-filter-trigger","*"];function yn(L,ut){if(1&L){const O=t.RV6();t.j41(0,"nz-table-filter",5),t.bIt("filterChange",function(H){t.eBV(O);const Ae=t.XpG();return t.Njj(Ae.onFilterValueChange(H))}),t.k0s()}if(2&L){const O=t.XpG(),A=t.sdS(2),H=t.sdS(4);t.Y8G("contentTemplate",A)("extraTemplate",H)("customFilter",O.nzCustomFilter)("filterMultiple",O.nzFilterMultiple)("listOfFilter",O.nzFilters)}}function sn(L,ut){}function pn(L,ut){if(1&L&&t.DNE(0,sn,0,0,"ng-template",6),2&L){const O=t.XpG(),A=t.sdS(6),H=t.sdS(8);t.Y8G("ngTemplateOutlet",O.nzShowSort?A:H)}}function Ki(L,ut){1&L&&(t.SdG(0),t.SdG(1,1))}function Qi(L,ut){if(1&L&&t.nrm(0,"nz-table-sorters",7),2&L){const O=t.XpG(),A=t.sdS(8);t.Y8G("sortOrder",O.sortOrder)("sortDirections",O.sortDirections)("contentTemplate",A)}}function Zi(L,ut){1&L&&t.SdG(0,2)}const Ji=["nzSelections",""],qi=["nz-table-content",""];function es(L,ut){if(1&L&&t.nrm(0,"col"),2&L){const O=ut.$implicit;t.xc7("width",O)("min-width",O)}}function ts(L,ut){}function ns(L,ut){if(1&L&&(t.j41(0,"thead",3),t.DNE(1,ts,0,0,"ng-template",2),t.k0s()),2&L){const O=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",O.theadTemplate)}}function Ii(L,ut){}const Si=["tdElement"],si=["nz-table-fixed-row",""];function Ti(L,ut){}function ei(L,ut){if(1&L&&(t.j41(0,"div",4),t.nI1(1,"async"),t.DNE(2,Ti,0,0,"ng-template",5),t.k0s()),2&L){const O=t.XpG(),A=t.sdS(5);t.xc7("width",t.bMT(1,3,O.hostWidth$),"px"),t.R7$(2),t.Y8G("ngTemplateOutlet",A)}}function Ai(L,ut){1&L&&t.SdG(0)}const oi=["nz-table-measure-row",""];function Ms(L,ut){1&L&&t.nrm(0,"td",2,0)}function io(L,ut){if(1&L){const O=t.RV6();t.j41(0,"tr",3),t.bIt("listOfAutoWidth",function(H){t.eBV(O);const Ae=t.XpG(2);return t.Njj(Ae.onListOfAutoWidthChange(H))}),t.k0s()}if(2&L){const O=t.XpG().ngIf;t.Y8G("listOfMeasureColumn",O)}}function hr(L,ut){if(1&L&&(t.qex(0),t.DNE(1,io,1,1,"tr",2),t.bVm()),2&L){const O=ut.ngIf,A=t.XpG();t.R7$(),t.Y8G("ngIf",A.isInsideTable&&O.length)}}function dr(L,ut){if(1&L&&(t.j41(0,"tr",4),t.nrm(1,"nz-embed-empty",5),t.nI1(2,"async"),t.k0s()),2&L){const O=t.XpG();t.R7$(),t.Y8G("specificContent",t.bMT(2,1,O.noResult$))}}const ur=["tableHeaderElement"],pr=["tableBodyElement"],fr=(L,ut)=>({$implicit:L,index:ut});function gr(L,ut){if(1&L&&(t.j41(0,"div",8,1),t.nrm(2,"table",9),t.k0s()),2&L){const O=t.XpG(2);t.Y8G("ngStyle",O.bodyStyleMap),t.R7$(2),t.Y8G("scrollX",O.scrollX)("listOfColWidth",O.listOfColWidth)("contentTemplate",O.contentTemplate)}}function mr(L,ut){}function _r(L,ut){if(1&L&&(t.qex(0),t.DNE(1,mr,0,0,"ng-template",13),t.bVm()),2&L){const O=ut.$implicit,A=ut.index,H=t.XpG(3);t.R7$(),t.Y8G("ngTemplateOutlet",H.virtualTemplate)("ngTemplateOutletContext",t.l_i(2,fr,O,A))}}function vr(L,ut){if(1&L&&(t.j41(0,"cdk-virtual-scroll-viewport",10,1)(2,"table",11)(3,"tbody"),t.DNE(4,_r,2,5,"ng-container",12),t.k0s()()()),2&L){const O=t.XpG(2);t.xc7("height",O.data.length?O.scrollY:O.noDateVirtualHeight),t.Y8G("itemSize",O.virtualItemSize)("maxBufferPx",O.virtualMaxBufferPx)("minBufferPx",O.virtualMinBufferPx),t.R7$(2),t.Y8G("scrollX",O.scrollX)("listOfColWidth",O.listOfColWidth),t.R7$(2),t.Y8G("cdkVirtualForOf",O.data)("cdkVirtualForTrackBy",O.virtualForTrackBy)}}function Cr(L,ut){if(1&L&&(t.qex(0),t.j41(1,"div",4,0),t.nrm(3,"table",5),t.k0s(),t.DNE(4,gr,3,4,"div",6)(5,vr,5,9,"cdk-virtual-scroll-viewport",7),t.bVm()),2&L){const O=t.XpG();t.R7$(),t.Y8G("ngStyle",O.headerStyleMap),t.R7$(2),t.Y8G("scrollX",O.scrollX)("listOfColWidth",O.listOfColWidth)("theadTemplate",O.theadTemplate),t.R7$(),t.Y8G("ngIf",!O.virtualTemplate),t.R7$(),t.Y8G("ngIf",O.virtualTemplate)}}function yr(L,ut){if(1&L&&(t.j41(0,"div",14,1),t.nrm(2,"table",15),t.k0s()),2&L){const O=t.XpG();t.Y8G("ngStyle",O.bodyStyleMap),t.R7$(2),t.Y8G("scrollX",O.scrollX)("listOfColWidth",O.listOfColWidth)("theadTemplate",O.theadTemplate)("contentTemplate",O.contentTemplate)}}function zr(L,ut){if(1&L&&(t.qex(0),t.EFF(1),t.bVm()),2&L){const O=t.XpG();t.R7$(),t.JRh(O.title)}}function ci(L,ut){if(1&L&&(t.qex(0),t.EFF(1),t.bVm()),2&L){const O=t.XpG();t.R7$(),t.JRh(O.footer)}}function Qn(L,ut){}function xi(L,ut){if(1&L&&(t.qex(0),t.DNE(1,Qn,0,0,"ng-template",10),t.bVm()),2&L){t.XpG();const O=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",O)}}function so(L,ut){if(1&L&&t.nrm(0,"nz-table-title-footer",11),2&L){const O=t.XpG();t.Y8G("title",O.nzTitle)}}function br(L,ut){if(1&L&&t.nrm(0,"nz-table-inner-scroll",12),2&L){const O=t.XpG(),A=t.sdS(3),H=t.sdS(13);t.Y8G("data",O.data)("scrollX",O.scrollX)("scrollY",O.scrollY)("contentTemplate",H)("listOfColWidth",O.listOfAutoColWidth)("theadTemplate",O.theadTemplate)("verticalScrollBarWidth",O.verticalScrollBarWidth)("virtualTemplate",O.nzVirtualScrollDirective?O.nzVirtualScrollDirective.templateRef:null)("virtualItemSize",O.nzVirtualItemSize)("virtualMaxBufferPx",O.nzVirtualMaxBufferPx)("virtualMinBufferPx",O.nzVirtualMinBufferPx)("tableMainElement",A)("virtualForTrackBy",O.nzVirtualForTrackBy)}}function Sr(L,ut){if(1&L&&t.nrm(0,"nz-table-inner-default",13),2&L){const O=t.XpG(),A=t.sdS(13);t.Y8G("tableLayout",O.nzTableLayout)("listOfColWidth",O.listOfManualColWidth)("theadTemplate",O.theadTemplate)("contentTemplate",A)}}function Tr(L,ut){if(1&L&&t.nrm(0,"nz-table-title-footer",14),2&L){const O=t.XpG();t.Y8G("footer",O.nzFooter)}}function Oi(L,ut){}function xr(L,ut){if(1&L&&(t.qex(0),t.DNE(1,Oi,0,0,"ng-template",10),t.bVm()),2&L){t.XpG();const O=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",O)}}function is(L,ut){if(1&L){const O=t.RV6();t.j41(0,"nz-pagination",16),t.bIt("nzPageSizeChange",function(H){t.eBV(O);const Ae=t.XpG(2);return t.Njj(Ae.onPageSizeChange(H))})("nzPageIndexChange",function(H){t.eBV(O);const Ae=t.XpG(2);return t.Njj(Ae.onPageIndexChange(H))}),t.k0s()}if(2&L){const O=t.XpG(2);t.Y8G("hidden",!O.showPagination)("nzShowSizeChanger",O.nzShowSizeChanger)("nzPageSizeOptions",O.nzPageSizeOptions)("nzItemRender",O.nzItemRender)("nzShowQuickJumper",O.nzShowQuickJumper)("nzHideOnSinglePage",O.nzHideOnSinglePage)("nzShowTotal",O.nzShowTotal)("nzSize","small"===O.nzPaginationType?"small":"default"===O.nzSize?"default":"small")("nzPageSize",O.nzPageSize)("nzTotal",O.nzTotal)("nzSimple",O.nzSimple)("nzPageIndex",O.nzPageIndex)}}function Or(L,ut){if(1&L&&t.DNE(0,is,1,12,"nz-pagination",15),2&L){const O=t.XpG();t.Y8G("ngIf",O.nzShowPagination&&O.data.length)}}function Dr(L,ut){1&L&&t.SdG(0)}const wr=["contentTemplate"];function Mr(L,ut){1&L&&t.SdG(0)}function Er(L,ut){}function Pr(L,ut){if(1&L&&(t.qex(0),t.DNE(1,Er,0,0,"ng-template",2),t.bVm()),2&L){t.XpG();const O=t.sdS(1);t.R7$(),t.Y8G("ngTemplateOutlet",O)}}let oo=(()=>{class L{onVisibleChange(O){this.nzVisible=O,this.nzVisibleChange.next(O)}hide(){this.nzVisible=!1,this.cdr.markForCheck()}show(){this.nzVisible=!0,this.cdr.markForCheck()}constructor(O,A,H,Ae){this.nzConfigService=O,this.ngZone=A,this.cdr=H,this.destroy$=Ae,this._nzModuleName="filterTrigger",this.nzActive=!1,this.nzVisible=!1,this.nzBackdrop=!1,this.nzVisibleChange=new t.bkB}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,m.R)(this.nzDropdown.nativeElement,"click").pipe((0,ee.Q)(this.destroy$)).subscribe(O=>{O.stopPropagation()})})}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(he.yx),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(Te.y4))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-filter-trigger"]],viewQuery:function(A,H){if(1&A&&t.GBs(Se.j3,7,t.aKT),2&A){let Ae;t.mGM(Ae=t.lsd())&&(H.nzDropdown=Ae.first)}},inputs:{nzActive:"nzActive",nzDropdownMenu:"nzDropdownMenu",nzVisible:"nzVisible",nzBackdrop:"nzBackdrop"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzFilterTrigger"],standalone:!0,features:[t.Jv_([Te.y4]),t.aNF],ngContentSelectors:De,decls:2,vars:8,consts:[["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"ant-table-filter-trigger",3,"nzVisibleChange","nzBackdrop","nzClickHide","nzDropdownMenu","nzVisible"]],template:function(A,H){1&A&&(t.NAR(),t.j41(0,"span",0),t.bIt("nzVisibleChange",function(ft){return H.onVisibleChange(ft)}),t.SdG(1),t.k0s()),2&A&&(t.AVh("active",H.nzActive)("ant-table-filter-open",H.nzVisible),t.Y8G("nzBackdrop",H.nzBackdrop)("nzClickHide",!1)("nzDropdownMenu",H.nzDropdownMenu)("nzVisible",H.nzVisible))},dependencies:[Se.Cu,Se.j3],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,he.H4)(),(0,Z.H3)()],L.prototype,"nzBackdrop",void 0),L})(),ro=(()=>{class L{trackByValue(O,A){return A.value}check(O){this.filterMultiple?(this.listOfParsedFilter=this.listOfParsedFilter.map(A=>A===O?{...A,checked:!O.checked}:A),O.checked=!O.checked):this.listOfParsedFilter=this.listOfParsedFilter.map(A=>({...A,checked:A===O})),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter)}confirm(){this.isVisible=!1,this.emitFilterData()}reset(){this.isVisible=!1,this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter,!0),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter),this.emitFilterData()}onVisibleChange(O){this.isVisible=O,O?this.listOfChecked=this.listOfParsedFilter.filter(A=>A.checked).map(A=>A.value):this.emitFilterData()}emitFilterData(){const O=this.listOfParsedFilter.filter(A=>A.checked).map(A=>A.value);(0,Z.r1)(this.listOfChecked,O)||this.filterChange.emit(this.filterMultiple?O:O.length>0?O[0]:null)}parseListOfFilter(O,A){return O.map(H=>({text:H.text,value:H.value,checked:!A&&!!H.byDefault}))}getCheckedStatus(O){return O.some(A=>A.checked)}constructor(O,A){this.cdr=O,this.i18n=A,this.contentTemplate=null,this.customFilter=!1,this.extraTemplate=null,this.filterMultiple=!0,this.listOfFilter=[],this.filterChange=new t.bkB,this.destroy$=new v.B,this.isChecked=!1,this.isVisible=!1,this.listOfParsedFilter=[],this.listOfChecked=[]}ngOnInit(){this.i18n.localeChange.pipe((0,ee.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Table"),this.cdr.markForCheck()})}ngOnChanges(O){const{listOfFilter:A}=O;A&&this.listOfFilter&&this.listOfFilter.length&&(this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(t.gRc),t.rXU(tt.Og))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-table-filter"]],hostAttrs:[1,"ant-table-filter-column"],inputs:{contentTemplate:"contentTemplate",customFilter:"customFilter",extraTemplate:"extraTemplate",filterMultiple:"filterMultiple",listOfFilter:"listOfFilter"},outputs:{filterChange:"filterChange"},standalone:!0,features:[t.OA$,t.aNF],decls:3,vars:3,consts:[["filterMenu","nzDropdownMenu"],[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[3,"nzVisibleChange","nzVisible","nzActive","nzDropdownMenu"],["nz-icon","","nzType","filter","nzTheme","fill"],[1,"ant-table-filter-dropdown"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-table-filter-dropdown-btns"],["nz-button","","nzType","link","nzSize","small",3,"click","disabled"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-menu-item","",3,"click","nzSelected"],["nz-radio","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-radio","",3,"ngModelChange","ngModel"],["nz-checkbox","",3,"ngModelChange","ngModel"]],template:function(A,H){1&A&&(t.j41(0,"span",1),t.DNE(1,ot,0,0,"ng-template",2),t.k0s(),t.DNE(2,k,13,8,"ng-container",3)),2&A&&(t.R7$(),t.Y8G("ngTemplateOutlet",H.contentTemplate),t.R7$(),t.Y8G("ngIf",!H.customFilter)("ngIfElse",H.extraTemplate))},dependencies:[ae.T3,ae.bT,oo,qe.Y3,qe.Dn,Se.Cu,Xe.jS,Xe.CU,Se.wQ,ae.Sq,Be.lx,We.IJ,We.$g,Ze.YN,Ze.BC,Ze.vS,Pe.Zw,Pe.aO,pt.c,et.p],encapsulation:2,changeDetection:0})}return L})(),Nr=(()=>{class L{constructor(){this.expand=!1,this.spaceMode=!1,this.expandChange=new t.bkB}onHostClick(){this.spaceMode||(this.expand=!this.expand,this.expandChange.next(this.expand))}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275dir=t.FsC({type:L,selectors:[["button","nz-row-expand-button",""]],hostAttrs:[1,"ant-table-row-expand-icon"],hostVars:7,hostBindings:function(A,H){1&A&&t.bIt("click",function(){return H.onHostClick()}),2&A&&(t.Mr5("type","button"),t.AVh("ant-table-row-expand-icon-expanded",!H.spaceMode&&!0===H.expand)("ant-table-row-expand-icon-collapsed",!H.spaceMode&&!1===H.expand)("ant-table-row-expand-icon-spaced",H.spaceMode))},inputs:{expand:"expand",spaceMode:"spaceMode"},outputs:{expandChange:"expandChange"},standalone:!0})}return L})(),Di=(()=>{class L{constructor(){this.indentSize=0}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275dir=t.FsC({type:L,selectors:[["nz-row-indent"]],hostAttrs:[1,"ant-table-row-indent"],hostVars:2,hostBindings:function(A,H){2&A&&t.xc7("padding-left",H.indentSize,"px")},inputs:{indentSize:"indentSize"},standalone:!0})}return L})(),Ri=(()=>{class L{constructor(){this.listOfSelections=[],this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.label=null,this.showCheckbox=!1,this.showRowSelection=!1,this.checkedChange=new t.bkB}onCheckedChange(O){this.checked=O,this.checkedChange.emit(O)}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-table-selection"]],hostAttrs:[1,"ant-table-selection"],inputs:{listOfSelections:"listOfSelections",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",label:"label",showCheckbox:"showCheckbox",showRowSelection:"showRowSelection"},outputs:{checkedChange:"checkedChange"},standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[["selectionMenu","nzDropdownMenu"],["nz-checkbox","",3,"ant-table-selection-select-all-custom","ngModel","nzDisabled","nzIndeterminate","ngModelChange",4,"ngIf"],["class","ant-table-selection-extra",4,"ngIf"],["nz-checkbox","",3,"ngModelChange","ngModel","nzDisabled","nzIndeterminate"],[1,"ant-table-selection-extra"],["nz-dropdown","","nzPlacement","bottomLeft",1,"ant-table-selection-down",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu","",1,"ant-table-selection-menu"],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],["nz-menu-item","",3,"click"]],template:function(A,H){1&A&&t.DNE(0,P,1,6,"label",1)(1,T,7,2,"div",2),2&A&&(t.Y8G("ngIf",H.showCheckbox),t.R7$(),t.Y8G("ngIf",H.showRowSelection))},dependencies:[ae.bT,Ze.YN,Ze.BC,Ze.vS,We.IJ,We.$g,Se.Cu,Xe.jS,Xe.CU,Se.j3,Se.wQ,qe.Y3,qe.Dn,ae.Sq],encapsulation:2,changeDetection:0})}return L})(),ao=(()=>{class L{constructor(){this.sortDirections=["ascend","descend",null],this.sortOrder=null,this.contentTemplate=null,this.isUp=!1,this.isDown=!1}ngOnChanges(O){const{sortDirections:A}=O;A&&(this.isUp=-1!==this.sortDirections.indexOf("ascend"),this.isDown=-1!==this.sortDirections.indexOf("descend"))}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-table-sorters"]],hostAttrs:[1,"ant-table-column-sorters"],inputs:{sortDirections:"sortDirections",sortOrder:"sortOrder",contentTemplate:"contentTemplate"},standalone:!0,features:[t.OA$,t.aNF],decls:6,vars:5,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[1,"ant-table-column-sorter"],[1,"ant-table-column-sorter-inner"],["nz-icon","","nzType","caret-up","class","ant-table-column-sorter-up",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-down","class","ant-table-column-sorter-down",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down"]],template:function(A,H){1&A&&(t.j41(0,"span",0),t.DNE(1,I,0,0,"ng-template",1),t.k0s(),t.j41(2,"span",2)(3,"span",3),t.DNE(4,E,1,2,"span",4)(5,oe,1,2,"span",5),t.k0s()()),2&A&&(t.R7$(),t.Y8G("ngTemplateOutlet",H.contentTemplate),t.R7$(),t.AVh("ant-table-column-sorter-full",H.isDown&&H.isUp),t.R7$(2),t.Y8G("ngIf",H.isUp),t.R7$(),t.Y8G("ngIf",H.isDown))},dependencies:[qe.Y3,qe.Dn,ae.T3,ae.bT],encapsulation:2,changeDetection:0})}return L})(),Fi=(()=>{class L{setAutoLeftWidth(O){this.renderer.setStyle(this.elementRef.nativeElement,"left",O)}setAutoRightWidth(O){this.renderer.setStyle(this.elementRef.nativeElement,"right",O)}setIsFirstRight(O){this.setFixClass(O,"ant-table-cell-fix-right-first")}setIsLastLeft(O){this.setFixClass(O,"ant-table-cell-fix-left-last")}setFixClass(O,A){this.renderer.removeClass(this.elementRef.nativeElement,A),O&&this.renderer.addClass(this.elementRef.nativeElement,A)}constructor(O,A){this.renderer=O,this.elementRef=A,this.nzRight=!1,this.nzLeft=!1,this.colspan=null,this.colSpan=null,this.changes$=new v.B,this.isAutoLeft=!1,this.isAutoRight=!1,this.isFixedLeft=!1,this.isFixedRight=!1,this.isFixed=!1}ngOnChanges(){this.setIsFirstRight(!1),this.setIsLastLeft(!1),this.isAutoLeft=""===this.nzLeft||!0===this.nzLeft,this.isAutoRight=""===this.nzRight||!0===this.nzRight,this.isFixedLeft=!1!==this.nzLeft,this.isFixedRight=!1!==this.nzRight,this.isFixed=this.isFixedLeft||this.isFixedRight;const O=A=>"string"==typeof A&&""!==A?A:null;this.setAutoLeftWidth(O(this.nzLeft)),this.setAutoRightWidth(O(this.nzRight)),this.changes$.next()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(t.sFG),t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:L,selectors:[["td","nzRight",""],["th","nzRight",""],["td","nzLeft",""],["th","nzLeft",""]],hostVars:6,hostBindings:function(A,H){2&A&&(t.xc7("position",H.isFixed?"sticky":null),t.AVh("ant-table-cell-fix-right",H.isFixedRight)("ant-table-cell-fix-left",H.isFixedLeft))},inputs:{nzRight:"nzRight",nzLeft:"nzLeft",colspan:"colspan",colSpan:"colSpan"},standalone:!0,features:[t.OA$]})}return L})(),vi=(()=>{class L{setTheadTemplate(O){this.theadTemplate$.next(O)}setHasFixLeft(O){this.hasFixLeft$.next(O)}setHasFixRight(O){this.hasFixRight$.next(O)}setTableWidthConfig(O){this.tableWidthConfigPx$.next(O)}setListOfTh(O){let A=0;O.forEach(Ae=>{A+=Ae.colspan&&+Ae.colspan||Ae.colSpan&&+Ae.colSpan||1});const H=O.map(Ae=>Ae.nzWidth);this.columnCount$.next(A),this.listOfThWidthConfigPx$.next(H)}setListOfMeasureColumn(O){const A=[];O.forEach(H=>{const Ae=H.colspan&&+H.colspan||H.colSpan&&+H.colSpan||1;for(let ft=0;ft<Ae;ft++)A.push(`measure_key_${ft}`)}),this.listOfMeasureColumn$.next(A)}setListOfAutoWidth(O){this.listOfAutoWidthPx$.next(O.map(A=>`${A}px`))}setShowEmpty(O){this.showEmpty$.next(O)}setNoResult(O){this.noResult$.next(O)}setScroll(O,A){const H=!(!O&&!A);H||this.setListOfAutoWidth([]),this.enableAutoMeasure$.next(H)}constructor(){this.theadTemplate$=new Y.m(1),this.hasFixLeft$=new Y.m(1),this.hasFixRight$=new Y.m(1),this.hostWidth$=new Y.m(1),this.columnCount$=new Y.m(1),this.showEmpty$=new Y.m(1),this.noResult$=new Y.m(1),this.listOfThWidthConfigPx$=new Ve.t([]),this.tableWidthConfigPx$=new Ve.t([]),this.manualWidthConfigPx$=(0,be.z)([this.tableWidthConfigPx$,this.listOfThWidthConfigPx$]).pipe((0,le.T)(([O,A])=>O.length?O:A)),this.listOfAutoWidthPx$=new Y.m(1),this.listOfListOfThWidthPx$=(0,re.h)(this.manualWidthConfigPx$,(0,be.z)([this.listOfAutoWidthPx$,this.manualWidthConfigPx$]).pipe((0,le.T)(([O,A])=>O.length===A.length?O.map((H,Ae)=>"0px"===H?A[Ae]||null:A[Ae]||H):A))),this.listOfMeasureColumn$=new Y.m(1),this.listOfListOfThWidth$=this.listOfAutoWidthPx$.pipe((0,le.T)(O=>O.map(A=>parseInt(A,10)))),this.enableAutoMeasure$=new Y.m(1)}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275prov=t.jDH({token:L,factory:L.\u0275fac})}return L})(),Ir=(()=>{class L{constructor(O){this.isInsideTable=!1,this.isInsideTable=!!O}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(vi,8))};static#t=this.\u0275dir=t.FsC({type:L,selectors:[["th",9,"nz-disable-th",3,"mat-cell",""],["td",9,"nz-disable-td",3,"mat-cell",""]],hostVars:2,hostBindings:function(A,H){2&A&&t.AVh("ant-table-cell",H.isInsideTable)},standalone:!0})}return L})(),Es=(()=>{class L{updatePageSize(O){this.pageSize$.next(O)}updateFrontPagination(O){this.frontPagination$.next(O)}updatePageIndex(O){this.pageIndex$.next(O)}updateListOfData(O){this.listOfData$.next(O)}updateListOfCustomColumn(O){this.listOfCustomColumn$.next(O)}constructor(){this.destroy$=new v.B,this.pageIndex$=new Ve.t(1),this.frontPagination$=new Ve.t(!0),this.pageSize$=new Ve.t(10),this.listOfData$=new Ve.t([]),this.listOfCustomColumn$=new Ve.t([]),this.pageIndexDistinct$=this.pageIndex$.pipe((0,pe.F)()),this.pageSizeDistinct$=this.pageSize$.pipe((0,pe.F)()),this.listOfCalcOperator$=new Ve.t([]),this.queryParams$=(0,be.z)([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfCalcOperator$]).pipe((0,K.B)(0),(0,G.i)(1),(0,le.T)(([O,A,H])=>({pageIndex:O,pageSize:A,sort:H.filter(Ae=>Ae.sortFn).map(Ae=>({key:Ae.key,value:Ae.sortOrder})),filter:H.filter(Ae=>Ae.filterFn).map(Ae=>({key:Ae.key,value:Ae.filterValue}))}))),this.listOfDataAfterCalc$=(0,be.z)([this.listOfData$,this.listOfCalcOperator$]).pipe((0,le.T)(([O,A])=>{let H=[...O];const Ae=A.filter(Vt=>{const{filterValue:Xt,filterFn:tn}=Vt;return!(null==Xt||Array.isArray(Xt)&&0===Xt.length)&&"function"==typeof tn});for(const Vt of Ae){const{filterFn:Xt,filterValue:tn}=Vt;H=H.filter(fn=>Xt(tn,fn))}const ft=A.filter(Vt=>null!==Vt.sortOrder&&"function"==typeof Vt.sortFn).sort((Vt,Xt)=>+Xt.sortPriority-+Vt.sortPriority);return A.length&&H.sort((Vt,Xt)=>{for(const tn of ft){const{sortFn:fn,sortOrder:$t}=tn;if(fn&&$t){const Yn=fn(Vt,Xt,$t);if(0!==Yn)return"ascend"===$t?Yn:-Yn}}return 0}),H})),this.listOfFrontEndCurrentPageData$=(0,be.z)([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfDataAfterCalc$]).pipe((0,ee.Q)(this.destroy$),(0,fe.p)(O=>{const[A,H,Ae]=O;return A<=(Math.ceil(Ae.length/H)||1)}),(0,le.T)(([O,A,H])=>H.slice((O-1)*A,O*A))),this.listOfCurrentPageData$=this.frontPagination$.pipe((0,ze.n)(O=>O?this.listOfFrontEndCurrentPageData$:this.listOfDataAfterCalc$)),this.total$=this.frontPagination$.pipe((0,ze.n)(O=>O?this.listOfDataAfterCalc$:this.listOfData$),(0,le.T)(O=>O.length),(0,pe.F)())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275prov=t.jDH({token:L,factory:L.\u0275fac})}return L})(),Ar=(()=>{class L{constructor(){this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzIndentSize=0,this.nzShowExpand=!1,this.nzShowCheckbox=!1,this.nzExpand=!1,this.nzExpandIcon=null,this.nzCheckedChange=new t.bkB,this.nzExpandChange=new t.bkB,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(O){this.nzChecked=O,this.nzCheckedChange.emit(O)}onExpandChange(O){this.nzExpand=O,this.nzExpandChange.emit(O)}ngOnChanges(O){const A=Xt=>Xt&&Xt.firstChange&&void 0!==Xt.currentValue,{nzExpand:H,nzChecked:Ae,nzShowExpand:ft,nzShowCheckbox:Vt}=O;ft&&(this.isNzShowExpandChanged=!0),Vt&&(this.isNzShowCheckboxChanged=!0),A(H)&&!this.isNzShowExpandChanged&&(this.nzShowExpand=!0),A(Ae)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["td","nzChecked",""],["td","nzDisabled",""],["td","nzIndeterminate",""],["td","nzIndentSize",""],["td","nzExpand",""],["td","nzShowExpand",""],["td","nzShowCheckbox",""]],hostVars:4,hostBindings:function(A,H){2&A&&t.AVh("ant-table-cell-with-append",H.nzShowExpand||H.nzIndentSize>0)("ant-table-selection-column",H.nzShowCheckbox)},inputs:{nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzIndentSize:"nzIndentSize",nzShowExpand:"nzShowExpand",nzShowCheckbox:"nzShowCheckbox",nzExpand:"nzExpand",nzExpandIcon:"nzExpandIcon"},outputs:{nzCheckedChange:"nzCheckedChange",nzExpandChange:"nzExpandChange"},standalone:!0,features:[t.OA$,t.aNF],attrs:B,ngContentSelectors:De,decls:3,vars:2,consts:[["rowExpand",""],[4,"ngIf"],["nz-checkbox","",3,"nzDisabled","ngModel","nzIndeterminate","ngModelChange",4,"ngIf"],[3,"indentSize"],[4,"ngIf","ngIfElse"],["nz-row-expand-button","",3,"expandChange","expand","spaceMode"],[3,"ngTemplateOutlet"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel","nzIndeterminate"]],template:function(A,H){1&A&&(t.NAR(),t.DNE(0,Ct,5,3,"ng-container",1)(1,Ut,1,4,"label",2),t.SdG(2)),2&A&&(t.Y8G("ngIf",H.nzShowExpand||H.nzIndentSize>0),t.R7$(),t.Y8G("ngIf",H.nzShowCheckbox))},dependencies:[Di,Nr,ae.bT,ae.T3,We.IJ,We.$g,Ze.YN,Ze.BC,Ze.vS],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzShowExpand",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzShowCheckbox",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzExpand",void 0),L})(),Bi=(()=>{class L{getNextSortDirection(O,A){const H=O.indexOf(A);return H===O.length-1?O[0]:O[H+1]}setSortOrder(O){this.sortOrderChange$.next(O)}clearSortOrder(){null!==this.sortOrder&&this.setSortOrder(null)}onFilterValueChange(O){this.nzFilterChange.emit(O),this.nzFilterValue=O,this.updateCalcOperator()}updateCalcOperator(){this.calcOperatorChange$.next()}constructor(O,A,H,Ae){this.host=O,this.cdr=A,this.ngZone=H,this.destroy$=Ae,this.manualClickOrder$=new v.B,this.calcOperatorChange$=new v.B,this.nzFilterValue=null,this.sortOrder=null,this.sortDirections=["ascend","descend",null],this.sortOrderChange$=new v.B,this.isNzShowSortChanged=!1,this.isNzShowFilterChanged=!1,this.nzFilterMultiple=!0,this.nzSortOrder=null,this.nzSortPriority=!1,this.nzSortDirections=["ascend","descend",null],this.nzFilters=[],this.nzSortFn=null,this.nzFilterFn=null,this.nzShowSort=!1,this.nzShowFilter=!1,this.nzCustomFilter=!1,this.nzCheckedChange=new t.bkB,this.nzSortOrderChange=new t.bkB,this.nzFilterChange=new t.bkB}ngOnInit(){this.ngZone.runOutsideAngular(()=>(0,m.R)(this.host.nativeElement,"click").pipe((0,fe.p)(()=>this.nzShowSort),(0,ee.Q)(this.destroy$)).subscribe(()=>{const O=this.getNextSortDirection(this.sortDirections,this.sortOrder);this.ngZone.run(()=>{this.setSortOrder(O),this.manualClickOrder$.next(this)})})),this.sortOrderChange$.pipe((0,ee.Q)(this.destroy$)).subscribe(O=>{this.sortOrder!==O&&(this.sortOrder=O,this.nzSortOrderChange.emit(O)),this.updateCalcOperator(),this.cdr.markForCheck()})}ngOnChanges(O){const{nzSortDirections:A,nzFilters:H,nzSortOrder:Ae,nzSortFn:ft,nzFilterFn:Vt,nzSortPriority:Xt,nzFilterMultiple:tn,nzShowSort:fn,nzShowFilter:$t}=O;A&&this.nzSortDirections&&this.nzSortDirections.length&&(this.sortDirections=this.nzSortDirections),Ae&&(this.sortOrder=this.nzSortOrder,this.setSortOrder(this.nzSortOrder)),fn&&(this.isNzShowSortChanged=!0),$t&&(this.isNzShowFilterChanged=!0);const Yn=hi=>hi&&hi.firstChange&&void 0!==hi.currentValue;if((Yn(Ae)||Yn(ft))&&!this.isNzShowSortChanged&&(this.nzShowSort=!0),Yn(H)&&!this.isNzShowFilterChanged&&(this.nzShowFilter=!0),(H||tn)&&this.nzShowFilter){const hi=this.nzFilters.filter(Ci=>Ci.byDefault).map(Ci=>Ci.value);this.nzFilterValue=this.nzFilterMultiple?hi:hi[0]||null}(ft||Vt||Xt||H)&&this.updateCalcOperator()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(Te.y4))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["th","nzColumnKey",""],["th","nzSortFn",""],["th","nzSortOrder",""],["th","nzFilters",""],["th","nzShowSort",""],["th","nzShowFilter",""],["th","nzCustomFilter",""]],hostVars:4,hostBindings:function(A,H){2&A&&t.AVh("ant-table-column-has-sorters",H.nzShowSort)("ant-table-column-sort","descend"===H.sortOrder||"ascend"===H.sortOrder)},inputs:{nzColumnKey:"nzColumnKey",nzFilterMultiple:"nzFilterMultiple",nzSortOrder:"nzSortOrder",nzSortPriority:"nzSortPriority",nzSortDirections:"nzSortDirections",nzFilters:"nzFilters",nzSortFn:"nzSortFn",nzFilterFn:"nzFilterFn",nzShowSort:"nzShowSort",nzShowFilter:"nzShowFilter",nzCustomFilter:"nzCustomFilter"},outputs:{nzCheckedChange:"nzCheckedChange",nzSortOrderChange:"nzSortOrderChange",nzFilterChange:"nzFilterChange"},standalone:!0,features:[t.Jv_([Te.y4]),t.OA$,t.aNF],attrs:Kt,ngContentSelectors:un,decls:9,vars:2,consts:[["notFilterTemplate",""],["extraTemplate",""],["sortTemplate",""],["contentTemplate",""],[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange",4,"ngIf","ngIfElse"],[3,"filterChange","contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter"],[3,"ngTemplateOutlet"],[3,"sortOrder","sortDirections","contentTemplate"]],template:function(A,H){if(1&A&&(t.NAR(nn),t.DNE(0,yn,1,5,"nz-table-filter",4)(1,pn,1,1,"ng-template",null,0,t.C5r)(3,Ki,2,0,"ng-template",null,1,t.C5r)(5,Qi,1,3,"ng-template",null,2,t.C5r)(7,Zi,1,0,"ng-template",null,3,t.C5r)),2&A){const Ae=t.sdS(2);t.Y8G("ngIf",H.nzShowFilter||H.nzCustomFilter)("ngIfElse",Ae)}},dependencies:[ro,ae.bT,ae.T3,ao],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzShowSort",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzShowFilter",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzCustomFilter",void 0),L})(),lo=(()=>{class L{constructor(O,A){this.renderer=O,this.elementRef=A,this.changes$=new v.B,this.nzWidth=null,this.colspan=null,this.colSpan=null,this.rowspan=null,this.rowSpan=null}ngOnChanges(O){const{nzWidth:A,colspan:H,rowspan:Ae,colSpan:ft,rowSpan:Vt}=O;if(H||ft){const Xt=this.colspan||this.colSpan;(0,Z.gD)(Xt)?this.renderer.removeAttribute(this.elementRef.nativeElement,"colspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"colspan",`${Xt}`)}if(Ae||Vt){const Xt=this.rowspan||this.rowSpan;(0,Z.gD)(Xt)?this.renderer.removeAttribute(this.elementRef.nativeElement,"rowspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"rowspan",`${Xt}`)}(A||H)&&this.changes$.next()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(t.sFG),t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:L,selectors:[["th"]],inputs:{nzWidth:"nzWidth",colspan:"colspan",colSpan:"colSpan",rowspan:"rowspan",rowSpan:"rowSpan"},standalone:!0,features:[t.OA$]})}return L})(),Rr=(()=>{class L{constructor(){this.nzSelections=[],this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzShowCheckbox=!1,this.nzShowRowSelection=!1,this.nzCheckedChange=new t.bkB,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(O){this.nzChecked=O,this.nzCheckedChange.emit(O)}ngOnChanges(O){const A=Xt=>Xt&&Xt.firstChange&&void 0!==Xt.currentValue,{nzChecked:H,nzSelections:Ae,nzShowExpand:ft,nzShowCheckbox:Vt}=O;ft&&(this.isNzShowExpandChanged=!0),Vt&&(this.isNzShowCheckboxChanged=!0),A(Ae)&&!this.isNzShowExpandChanged&&(this.nzShowRowSelection=!0),A(H)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["th","nzSelections",""],["th","nzChecked",""],["th","nzShowCheckbox",""],["th","nzShowRowSelection",""]],hostAttrs:[1,"ant-table-selection-column"],inputs:{nzSelections:"nzSelections",nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzShowCheckbox:"nzShowCheckbox",nzShowRowSelection:"nzShowRowSelection"},outputs:{nzCheckedChange:"nzCheckedChange"},standalone:!0,features:[t.OA$,t.aNF],attrs:Ji,ngContentSelectors:De,decls:2,vars:7,consts:[[3,"checkedChange","checked","disabled","indeterminate","label","listOfSelections","showCheckbox","showRowSelection"]],template:function(A,H){1&A&&(t.NAR(),t.j41(0,"nz-table-selection",0),t.bIt("checkedChange",function(ft){return H.onCheckedChange(ft)}),t.k0s(),t.SdG(1)),2&A&&t.Y8G("checked",H.nzChecked)("disabled",H.nzDisabled)("indeterminate",H.nzIndeterminate)("label",H.nzLabel)("listOfSelections",H.nzSelections)("showCheckbox",H.nzShowCheckbox)("showRowSelection",H.nzShowRowSelection)},dependencies:[Ri],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzShowCheckbox",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzShowRowSelection",void 0),L})(),co=(()=>{class L{constructor(){this.tableLayout="auto",this.theadTemplate=null,this.contentTemplate=null,this.listOfColWidth=[],this.scrollX=null}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["table","nz-table-content",""]],hostVars:8,hostBindings:function(A,H){2&A&&(t.xc7("table-layout",H.tableLayout)("width",H.scrollX)("min-width",H.scrollX?"100%":null),t.AVh("ant-table-fixed",H.scrollX))},inputs:{tableLayout:"tableLayout",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",listOfColWidth:"listOfColWidth",scrollX:"scrollX"},standalone:!0,features:[t.aNF],attrs:qi,ngContentSelectors:De,decls:4,vars:3,consts:[[3,"width","minWidth",4,"ngFor","ngForOf"],["class","ant-table-thead",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-table-thead"]],template:function(A,H){1&A&&(t.NAR(),t.DNE(0,es,1,4,"col",0)(1,ns,2,1,"thead",1)(2,Ii,0,0,"ng-template",2),t.SdG(3)),2&A&&(t.Y8G("ngForOf",H.listOfColWidth),t.R7$(),t.Y8G("ngIf",H.theadTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",H.contentTemplate))},dependencies:[ae.T3,ae.bT,ae.Sq],encapsulation:2,changeDetection:0})}return L})(),Fr=(()=>{class L{constructor(O,A){this.nzTableStyleService=O,this.renderer=A,this.hostWidth$=new Ve.t(null),this.enableAutoMeasure$=new Ve.t(!1),this.destroy$=new v.B}ngOnInit(){if(this.nzTableStyleService){const{enableAutoMeasure$:O,hostWidth$:A}=this.nzTableStyleService;O.pipe((0,ee.Q)(this.destroy$)).subscribe(this.enableAutoMeasure$),A.pipe((0,ee.Q)(this.destroy$)).subscribe(this.hostWidth$)}}ngAfterViewInit(){this.nzTableStyleService.columnCount$.pipe((0,ee.Q)(this.destroy$)).subscribe(O=>{this.renderer.setAttribute(this.tdElement.nativeElement,"colspan",`${O}`)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(vi),t.rXU(t.sFG))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["tr","nz-table-fixed-row",""],["tr","nzExpand",""]],viewQuery:function(A,H){if(1&A&&t.GBs(Si,7),2&A){let Ae;t.mGM(Ae=t.lsd())&&(H.tdElement=Ae.first)}},standalone:!0,features:[t.aNF],attrs:si,ngContentSelectors:De,decls:6,vars:4,consts:[["tdElement",""],["contentTemplate",""],[1,"nz-disable-td","ant-table-cell"],["class","ant-table-expanded-row-fixed","style","position: sticky; left: 0px; overflow: hidden;",3,"width",4,"ngIf","ngIfElse"],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0px","overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(A,H){if(1&A&&(t.NAR(),t.j41(0,"td",2,0),t.DNE(2,ei,3,5,"div",3),t.nI1(3,"async"),t.k0s(),t.DNE(4,Ai,1,0,"ng-template",null,1,t.C5r)),2&A){const Ae=t.sdS(5);t.R7$(2),t.Y8G("ngIf",t.bMT(3,2,H.enableAutoMeasure$))("ngIfElse",Ae)}},dependencies:[ae.bT,ae.Jj,ae.T3],encapsulation:2,changeDetection:0})}return L})(),Br=(()=>{class L{constructor(){this.tableLayout="auto",this.listOfColWidth=[],this.theadTemplate=null,this.contentTemplate=null}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-table-inner-default"]],hostAttrs:[1,"ant-table-container"],inputs:{tableLayout:"tableLayout",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate"},standalone:!0,features:[t.aNF],decls:2,vars:4,consts:[[1,"ant-table-content"],["nz-table-content","",3,"contentTemplate","tableLayout","listOfColWidth","theadTemplate"]],template:function(A,H){1&A&&(t.j41(0,"div",0),t.nrm(1,"table",1),t.k0s()),2&A&&(t.R7$(),t.Y8G("contentTemplate",H.contentTemplate)("tableLayout",H.tableLayout)("listOfColWidth",H.listOfColWidth)("theadTemplate",H.theadTemplate))},dependencies:[co],encapsulation:2,changeDetection:0})}return L})(),wi=(()=>{class L{constructor(O,A){this.nzResizeObserver=O,this.ngZone=A,this.listOfMeasureColumn=[],this.listOfAutoWidth=new t.bkB,this.destroy$=new v.B}trackByFunc(O,A){return A}ngAfterViewInit(){this.listOfTdElement.changes.pipe((0,xe.Z)(this.listOfTdElement)).pipe((0,ze.n)(O=>(0,be.z)(O.toArray().map(A=>this.nzResizeObserver.observe(A).pipe((0,le.T)(([H])=>{const{width:Ae}=H.target.getBoundingClientRect();return Math.floor(Ae)}))))),(0,K.B)(16),(0,ee.Q)(this.destroy$)).subscribe(O=>{this.ngZone instanceof t.SKi&&t.SKi.isInAngularZone()?this.listOfAutoWidth.next(O):this.ngZone.run(()=>this.listOfAutoWidth.next(O))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(ht.xH),t.rXU(t.SKi))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["tr","nz-table-measure-row",""]],viewQuery:function(A,H){if(1&A&&t.GBs(Si,5),2&A){let Ae;t.mGM(Ae=t.lsd())&&(H.listOfTdElement=Ae)}},hostAttrs:[1,"ant-table-measure-now"],inputs:{listOfMeasureColumn:"listOfMeasureColumn"},outputs:{listOfAutoWidth:"listOfAutoWidth"},standalone:!0,features:[t.aNF],attrs:oi,decls:1,vars:2,consts:[["tdElement",""],["class","nz-disable-td","style","padding: 0px; border: 0px; height: 0px;",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nz-disable-td",2,"padding","0px","border","0px","height","0px"]],template:function(A,H){1&A&&t.DNE(0,Ms,2,0,"td",1),2&A&&t.Y8G("ngForOf",H.listOfMeasureColumn)("ngForTrackBy",H.trackByFunc)},dependencies:[ae.Sq],encapsulation:2,changeDetection:0})}return L})(),Mi=(()=>{class L{constructor(O){if(this.nzTableStyleService=O,this.isInsideTable=!1,this.showEmpty$=new Ve.t(!1),this.noResult$=new Ve.t(void 0),this.listOfMeasureColumn$=new Ve.t([]),this.destroy$=new v.B,this.isInsideTable=!!this.nzTableStyleService,this.nzTableStyleService){const{showEmpty$:A,noResult$:H,listOfMeasureColumn$:Ae}=this.nzTableStyleService;H.pipe((0,ee.Q)(this.destroy$)).subscribe(this.noResult$),Ae.pipe((0,ee.Q)(this.destroy$)).subscribe(this.listOfMeasureColumn$),A.pipe((0,ee.Q)(this.destroy$)).subscribe(this.showEmpty$)}}onListOfAutoWidthChange(O){this.nzTableStyleService.setListOfAutoWidth(O)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(vi,8))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["tbody"]],hostVars:2,hostBindings:function(A,H){2&A&&t.AVh("ant-table-tbody",H.isInsideTable)},standalone:!0,features:[t.aNF],ngContentSelectors:De,decls:5,vars:6,consts:[[4,"ngIf"],["class","ant-table-placeholder","nz-table-fixed-row","",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth",4,"ngIf"],["nz-table-measure-row","",3,"listOfAutoWidth","listOfMeasureColumn"],["nz-table-fixed-row","",1,"ant-table-placeholder"],["nzComponentName","table",3,"specificContent"]],template:function(A,H){1&A&&(t.NAR(),t.DNE(0,hr,2,1,"ng-container",0),t.nI1(1,"async"),t.SdG(2),t.DNE(3,dr,3,3,"tr",1),t.nI1(4,"async")),2&A&&(t.Y8G("ngIf",t.bMT(1,2,H.listOfMeasureColumn$)),t.R7$(3),t.Y8G("ngIf",t.bMT(4,4,H.showEmpty$)))},dependencies:[ae.bT,ae.Jj,wi,Fr,mt._v,mt.E8],encapsulation:2,changeDetection:0})}return L})(),Ps=(()=>{class L{setScrollPositionClassName(O=!1){const{scrollWidth:A,scrollLeft:H,clientWidth:Ae}=this.tableBodyElement.nativeElement,ft="ant-table-ping-left",Vt="ant-table-ping-right";A===Ae&&0!==A||O?(this.renderer.removeClass(this.tableMainElement,ft),this.renderer.removeClass(this.tableMainElement,Vt)):0===H?(this.renderer.removeClass(this.tableMainElement,ft),this.renderer.addClass(this.tableMainElement,Vt)):A===H+Ae?(this.renderer.removeClass(this.tableMainElement,Vt),this.renderer.addClass(this.tableMainElement,ft)):(this.renderer.addClass(this.tableMainElement,ft),this.renderer.addClass(this.tableMainElement,Vt))}constructor(O,A,H,Ae){this.renderer=O,this.ngZone=A,this.platform=H,this.resizeService=Ae,this.data=[],this.scrollX=null,this.scrollY=null,this.contentTemplate=null,this.widthConfig=[],this.listOfColWidth=[],this.theadTemplate=null,this.virtualTemplate=null,this.virtualItemSize=0,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=ft=>ft,this.headerStyleMap={},this.bodyStyleMap={},this.verticalScrollBarWidth=0,this.noDateVirtualHeight="182px",this.data$=new v.B,this.scroll$=new v.B,this.destroy$=new v.B}ngOnChanges(O){const{scrollX:A,scrollY:H,data:Ae}=O;(A||H)&&(this.headerStyleMap={overflowX:"hidden",overflowY:this.scrollY&&0!==this.verticalScrollBarWidth?"scroll":"hidden"},this.bodyStyleMap={overflowY:this.scrollY?"scroll":"hidden",overflowX:this.scrollX?"auto":null,maxHeight:this.scrollY},this.ngZone.runOutsideAngular(()=>this.scroll$.next())),Ae&&this.ngZone.runOutsideAngular(()=>this.data$.next())}ngAfterViewInit(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{const O=this.scroll$.pipe((0,xe.Z)(null),(0,Fe.c)(0),(0,ze.n)(()=>(0,m.R)(this.tableBodyElement.nativeElement,"scroll").pipe((0,xe.Z)(!0))),(0,ee.Q)(this.destroy$)),A=this.resizeService.subscribe().pipe((0,ee.Q)(this.destroy$)),H=this.data$.pipe((0,ee.Q)(this.destroy$));(0,re.h)(O,A,H,this.scroll$).pipe((0,xe.Z)(!0),(0,Fe.c)(0),(0,ee.Q)(this.destroy$)).subscribe(()=>this.setScrollPositionClassName()),O.pipe((0,fe.p)(()=>!!this.scrollY)).subscribe(()=>this.tableHeaderElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft)})}ngOnDestroy(){this.setScrollPositionClassName(!0),this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(xt.OD),t.rXU(Te.cB))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-table-inner-scroll"]],viewQuery:function(A,H){if(1&A&&(t.GBs(ur,5,t.aKT),t.GBs(pr,5,t.aKT),t.GBs(Le.d6,5,Le.d6)),2&A){let Ae;t.mGM(Ae=t.lsd())&&(H.tableHeaderElement=Ae.first),t.mGM(Ae=t.lsd())&&(H.tableBodyElement=Ae.first),t.mGM(Ae=t.lsd())&&(H.cdkVirtualScrollViewport=Ae.first)}},hostAttrs:[1,"ant-table-container"],inputs:{data:"data",scrollX:"scrollX",scrollY:"scrollY",contentTemplate:"contentTemplate",widthConfig:"widthConfig",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",virtualTemplate:"virtualTemplate",virtualItemSize:"virtualItemSize",virtualMaxBufferPx:"virtualMaxBufferPx",virtualMinBufferPx:"virtualMinBufferPx",tableMainElement:"tableMainElement",virtualForTrackBy:"virtualForTrackBy",verticalScrollBarWidth:"verticalScrollBarWidth"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:2,consts:[["tableHeaderElement",""],["tableBodyElement",""],[4,"ngIf"],["class","ant-table-content",3,"ngStyle",4,"ngIf"],[1,"ant-table-header","nz-table-hide-scrollbar",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate"],["class","ant-table-body",3,"ngStyle",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","height",4,"ngIf"],[1,"ant-table-body",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","contentTemplate"],[3,"itemSize","maxBufferPx","minBufferPx"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-table-content",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","contentTemplate"]],template:function(A,H){1&A&&t.DNE(0,Cr,6,6,"ng-container",2)(1,yr,3,5,"div",3),2&A&&(t.Y8G("ngIf",H.scrollY),t.R7$(),t.Y8G("ngIf",!H.scrollY))},dependencies:[co,ae.bT,ae.B3,Le.E9,Le.yg,Le.E$,Le.d6,ae.T3,Mi],encapsulation:2,changeDetection:0})}return L})(),ks=(()=>{class L{constructor(O){this.templateRef=O}static ngTemplateContextGuard(O,A){return!0}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(t.C4Q))};static#t=this.\u0275dir=t.FsC({type:L,selectors:[["","nz-virtual-scroll",""]],exportAs:["nzVirtualScroll"],standalone:!0})}return L})(),ho=(()=>{class L{constructor(){this.title=null,this.footer=null}static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-table-title-footer"]],hostVars:4,hostBindings:function(A,H){2&A&&t.AVh("ant-table-title",null!==H.title)("ant-table-footer",null!==H.footer)},inputs:{title:"title",footer:"footer"},standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[[4,"nzStringTemplateOutlet"]],template:function(A,H){1&A&&t.DNE(0,zr,2,1,"ng-container",0)(1,ci,2,1,"ng-container",0),2&A&&(t.Y8G("nzStringTemplateOutlet",H.title),t.R7$(),t.Y8G("nzStringTemplateOutlet",H.footer))},dependencies:[de.C,de.m],encapsulation:2,changeDetection:0})}return L})(),po=(()=>{class L{onPageSizeChange(O){this.nzTableDataService.updatePageSize(O)}onPageIndexChange(O){this.nzTableDataService.updatePageIndex(O)}constructor(O,A,H,Ae,ft,Vt,Xt){this.elementRef=O,this.nzResizeObserver=A,this.nzConfigService=H,this.cdr=Ae,this.nzTableStyleService=ft,this.nzTableDataService=Vt,this.directionality=Xt,this._nzModuleName="table",this.nzTableLayout="auto",this.nzShowTotal=null,this.nzItemRender=null,this.nzTitle=null,this.nzFooter=null,this.nzNoResult=void 0,this.nzPageSizeOptions=[10,20,30,40,50],this.nzVirtualItemSize=0,this.nzVirtualMaxBufferPx=200,this.nzVirtualMinBufferPx=100,this.nzVirtualForTrackBy=tn=>tn,this.nzLoadingDelay=0,this.nzPageIndex=1,this.nzPageSize=10,this.nzTotal=0,this.nzWidthConfig=[],this.nzData=[],this.nzCustomColumn=[],this.nzPaginationPosition="bottom",this.nzScroll={x:null,y:null},this.nzPaginationType="default",this.nzFrontPagination=!0,this.nzTemplateMode=!1,this.nzShowPagination=!0,this.nzLoading=!1,this.nzOuterBordered=!1,this.nzLoadingIndicator=null,this.nzBordered=!1,this.nzSize="default",this.nzShowSizeChanger=!1,this.nzHideOnSinglePage=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzPageSizeChange=new t.bkB,this.nzPageIndexChange=new t.bkB,this.nzQueryParams=new t.bkB,this.nzCurrentPageDataChange=new t.bkB,this.nzCustomColumnChange=new t.bkB,this.data=[],this.scrollX=null,this.scrollY=null,this.theadTemplate=null,this.listOfAutoColWidth=[],this.listOfManualColWidth=[],this.hasFixLeft=!1,this.hasFixRight=!1,this.showPagination=!0,this.destroy$=new v.B,this.templateMode$=new Ve.t(!1),this.dir="ltr",this.verticalScrollBarWidth=0,this.nzConfigService.getConfigChangeEventForComponent("table").pipe((0,ee.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){const{pageIndexDistinct$:O,pageSizeDistinct$:A,listOfCurrentPageData$:H,total$:Ae,queryParams$:ft,listOfCustomColumn$:Vt}=this.nzTableDataService,{theadTemplate$:Xt,hasFixLeft$:tn,hasFixRight$:fn}=this.nzTableStyleService;this.dir=this.directionality.value,this.directionality.change?.pipe((0,ee.Q)(this.destroy$)).subscribe($t=>{this.dir=$t,this.cdr.detectChanges()}),ft.pipe((0,ee.Q)(this.destroy$)).subscribe(this.nzQueryParams),O.pipe((0,ee.Q)(this.destroy$)).subscribe($t=>{$t!==this.nzPageIndex&&(this.nzPageIndex=$t,this.nzPageIndexChange.next($t))}),A.pipe((0,ee.Q)(this.destroy$)).subscribe($t=>{$t!==this.nzPageSize&&(this.nzPageSize=$t,this.nzPageSizeChange.next($t))}),Ae.pipe((0,ee.Q)(this.destroy$),(0,fe.p)(()=>this.nzFrontPagination)).subscribe($t=>{$t!==this.nzTotal&&(this.nzTotal=$t,this.cdr.markForCheck())}),H.pipe((0,ee.Q)(this.destroy$)).subscribe($t=>{this.data=$t,this.nzCurrentPageDataChange.next($t),this.cdr.markForCheck()}),Vt.pipe((0,ee.Q)(this.destroy$)).subscribe($t=>{this.nzCustomColumn=$t,this.nzCustomColumnChange.next($t),this.cdr.markForCheck()}),Xt.pipe((0,ee.Q)(this.destroy$)).subscribe($t=>{this.theadTemplate=$t,this.cdr.markForCheck()}),tn.pipe((0,ee.Q)(this.destroy$)).subscribe($t=>{this.hasFixLeft=$t,this.cdr.markForCheck()}),fn.pipe((0,ee.Q)(this.destroy$)).subscribe($t=>{this.hasFixRight=$t,this.cdr.markForCheck()}),(0,be.z)([Ae,this.templateMode$]).pipe((0,le.T)(([$t,Yn])=>0===$t&&!Yn),(0,ee.Q)(this.destroy$)).subscribe($t=>{this.nzTableStyleService.setShowEmpty($t)}),this.verticalScrollBarWidth=(0,Z.nS)("vertical"),this.nzTableStyleService.listOfListOfThWidthPx$.pipe((0,ee.Q)(this.destroy$)).subscribe($t=>{this.listOfAutoColWidth=$t,this.cdr.markForCheck()}),this.nzTableStyleService.manualWidthConfigPx$.pipe((0,ee.Q)(this.destroy$)).subscribe($t=>{this.listOfManualColWidth=$t,this.cdr.markForCheck()})}ngOnChanges(O){const{nzScroll:A,nzPageIndex:H,nzPageSize:Ae,nzFrontPagination:ft,nzData:Vt,nzCustomColumn:Xt,nzWidthConfig:tn,nzNoResult:fn,nzTemplateMode:$t}=O;H&&this.nzTableDataService.updatePageIndex(this.nzPageIndex),Ae&&this.nzTableDataService.updatePageSize(this.nzPageSize),Vt&&(this.nzData=this.nzData||[],this.nzTableDataService.updateListOfData(this.nzData)),Xt&&(this.nzCustomColumn=this.nzCustomColumn||[],this.nzTableDataService.updateListOfCustomColumn(this.nzCustomColumn)),ft&&this.nzTableDataService.updateFrontPagination(this.nzFrontPagination),A&&this.setScrollOnChanges(),tn&&this.nzTableStyleService.setTableWidthConfig(this.nzWidthConfig),$t&&this.templateMode$.next(this.nzTemplateMode),fn&&this.nzTableStyleService.setNoResult(this.nzNoResult),this.updateShowPagination()}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe((0,le.T)(([O])=>{const{width:A}=O.target.getBoundingClientRect();return Math.floor(A-(this.scrollY?this.verticalScrollBarWidth:0))}),(0,ee.Q)(this.destroy$)).subscribe(this.nzTableStyleService.hostWidth$),this.nzTableInnerScrollComponent&&this.nzTableInnerScrollComponent.cdkVirtualScrollViewport&&(this.cdkVirtualScrollViewport=this.nzTableInnerScrollComponent.cdkVirtualScrollViewport)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setScrollOnChanges(){this.scrollX=this.nzScroll&&this.nzScroll.x||null,this.scrollY=this.nzScroll&&this.nzScroll.y||null,this.nzTableStyleService.setScroll(this.scrollX,this.scrollY)}updateShowPagination(){this.showPagination=this.nzHideOnSinglePage&&this.nzData.length>this.nzPageSize||this.nzData.length>0&&!this.nzHideOnSinglePage||!this.nzFrontPagination&&this.nzTotal>this.nzPageSize}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(t.aKT),t.rXU(ht.xH),t.rXU(he.yx),t.rXU(t.gRc),t.rXU(vi),t.rXU(Es),t.rXU(Me.dS,8))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["nz-table"]],contentQueries:function(A,H,Ae){if(1&A&&t.wni(Ae,ks,5),2&A){let ft;t.mGM(ft=t.lsd())&&(H.nzVirtualScrollDirective=ft.first)}},viewQuery:function(A,H){if(1&A&&t.GBs(Ps,5),2&A){let Ae;t.mGM(Ae=t.lsd())&&(H.nzTableInnerScrollComponent=Ae.first)}},hostAttrs:[1,"ant-table-wrapper"],hostVars:4,hostBindings:function(A,H){2&A&&t.AVh("ant-table-wrapper-rtl","rtl"===H.dir)("ant-table-custom-column",H.nzCustomColumn.length)},inputs:{nzTableLayout:"nzTableLayout",nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzTitle:"nzTitle",nzFooter:"nzFooter",nzNoResult:"nzNoResult",nzPageSizeOptions:"nzPageSizeOptions",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualForTrackBy:"nzVirtualForTrackBy",nzLoadingDelay:"nzLoadingDelay",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize",nzTotal:"nzTotal",nzWidthConfig:"nzWidthConfig",nzData:"nzData",nzCustomColumn:"nzCustomColumn",nzPaginationPosition:"nzPaginationPosition",nzScroll:"nzScroll",nzPaginationType:"nzPaginationType",nzFrontPagination:"nzFrontPagination",nzTemplateMode:"nzTemplateMode",nzShowPagination:"nzShowPagination",nzLoading:"nzLoading",nzOuterBordered:"nzOuterBordered",nzLoadingIndicator:"nzLoadingIndicator",nzBordered:"nzBordered",nzSize:"nzSize",nzShowSizeChanger:"nzShowSizeChanger",nzHideOnSinglePage:"nzHideOnSinglePage",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange",nzQueryParams:"nzQueryParams",nzCurrentPageDataChange:"nzCurrentPageDataChange",nzCustomColumnChange:"nzCustomColumnChange"},exportAs:["nzTable"],standalone:!0,features:[t.Jv_([vi,Es]),t.OA$,t.aNF],ngContentSelectors:De,decls:14,vars:27,consts:[["tableMainElement",""],["defaultTemplate",""],["paginationTemplate",""],["contentTemplate",""],[3,"nzDelay","nzSpinning","nzIndicator"],[4,"ngIf"],[1,"ant-table"],[3,"title",4,"ngIf"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy",4,"ngIf","ngIfElse"],[3,"footer",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"title"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy"],[3,"tableLayout","listOfColWidth","theadTemplate","contentTemplate"],[3,"footer"],["class","ant-table-pagination ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange",4,"ngIf"],[1,"ant-table-pagination","ant-table-pagination-right",3,"nzPageSizeChange","nzPageIndexChange","hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex"]],template:function(A,H){if(1&A&&(t.NAR(),t.j41(0,"nz-spin",4),t.DNE(1,xi,2,1,"ng-container",5),t.j41(2,"div",6,0),t.DNE(4,so,1,1,"nz-table-title-footer",7)(5,br,1,13,"nz-table-inner-scroll",8)(6,Sr,1,4,"ng-template",null,1,t.C5r)(8,Tr,1,1,"nz-table-title-footer",9),t.k0s(),t.DNE(9,xr,2,1,"ng-container",5),t.k0s(),t.DNE(10,Or,1,1,"ng-template",null,2,t.C5r)(12,Dr,1,0,"ng-template",null,3,t.C5r)),2&A){const Ae=t.sdS(7);t.Y8G("nzDelay",H.nzLoadingDelay)("nzSpinning",H.nzLoading)("nzIndicator",H.nzLoadingIndicator),t.R7$(),t.Y8G("ngIf","both"===H.nzPaginationPosition||"top"===H.nzPaginationPosition),t.R7$(),t.AVh("ant-table-rtl","rtl"===H.dir)("ant-table-fixed-header",H.nzData.length&&H.scrollY)("ant-table-fixed-column",H.scrollX)("ant-table-has-fix-left",H.hasFixLeft)("ant-table-has-fix-right",H.hasFixRight)("ant-table-bordered",H.nzBordered)("nz-table-out-bordered",H.nzOuterBordered&&!H.nzBordered)("ant-table-middle","middle"===H.nzSize)("ant-table-small","small"===H.nzSize),t.R7$(2),t.Y8G("ngIf",H.nzTitle),t.R7$(),t.Y8G("ngIf",H.scrollY||H.scrollX)("ngIfElse",Ae),t.R7$(3),t.Y8G("ngIf",H.nzFooter),t.R7$(),t.Y8G("ngIf","both"===H.nzPaginationPosition||"bottom"===H.nzPaginationPosition)}},dependencies:[Re.a,ae.bT,ae.T3,ho,Ps,Br,$e,kn],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzFrontPagination",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzTemplateMode",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzShowPagination",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzLoading",void 0),(0,f.Cg)([(0,Z.H3)()],L.prototype,"nzOuterBordered",void 0),(0,f.Cg)([(0,he.H4)()],L.prototype,"nzLoadingIndicator",void 0),(0,f.Cg)([(0,he.H4)(),(0,Z.H3)()],L.prototype,"nzBordered",void 0),(0,f.Cg)([(0,he.H4)()],L.prototype,"nzSize",void 0),(0,f.Cg)([(0,he.H4)(),(0,Z.H3)()],L.prototype,"nzShowSizeChanger",void 0),(0,f.Cg)([(0,he.H4)(),(0,Z.H3)()],L.prototype,"nzHideOnSinglePage",void 0),(0,f.Cg)([(0,he.H4)(),(0,Z.H3)()],L.prototype,"nzShowQuickJumper",void 0),(0,f.Cg)([(0,he.H4)(),(0,Z.H3)()],L.prototype,"nzSimple",void 0),L})(),fo=(()=>{class L{constructor(O){this.nzTableStyleService=O,this.destroy$=new v.B,this.listOfFixedColumns$=new Y.m(1),this.listOfColumns$=new Y.m(1),this.listOfFixedColumnsChanges$=this.listOfFixedColumns$.pipe((0,ze.n)(A=>(0,re.h)(this.listOfFixedColumns$,...A.map(H=>H.changes$)).pipe((0,Ge.Z)(()=>this.listOfFixedColumns$))),(0,ee.Q)(this.destroy$)),this.listOfFixedLeftColumnChanges$=this.listOfFixedColumnsChanges$.pipe((0,le.T)(A=>A.filter(H=>!1!==H.nzLeft))),this.listOfFixedRightColumnChanges$=this.listOfFixedColumnsChanges$.pipe((0,le.T)(A=>A.filter(H=>!1!==H.nzRight))),this.listOfColumnsChanges$=this.listOfColumns$.pipe((0,ze.n)(A=>(0,re.h)(this.listOfColumns$,...A.map(H=>H.changes$)).pipe((0,Ge.Z)(()=>this.listOfColumns$))),(0,ee.Q)(this.destroy$)),this.isInsideTable=!1,this.isInsideTable=!!O}ngAfterContentInit(){this.nzTableStyleService&&(this.listOfCellFixedDirective.changes.pipe((0,xe.Z)(this.listOfCellFixedDirective),(0,ee.Q)(this.destroy$)).subscribe(this.listOfFixedColumns$),this.listOfNzThDirective.changes.pipe((0,xe.Z)(this.listOfNzThDirective),(0,ee.Q)(this.destroy$)).subscribe(this.listOfColumns$),this.listOfFixedLeftColumnChanges$.subscribe(O=>{O.forEach(A=>A.setIsLastLeft(A===O[O.length-1]))}),this.listOfFixedRightColumnChanges$.subscribe(O=>{O.forEach(A=>A.setIsFirstRight(A===O[0]))}),(0,be.z)([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedLeftColumnChanges$]).pipe((0,ee.Q)(this.destroy$)).subscribe(([O,A])=>{A.forEach((H,Ae)=>{if(H.isAutoLeft){const Vt=A.slice(0,Ae).reduce((tn,fn)=>tn+(fn.colspan||fn.colSpan||1),0),Xt=O.slice(0,Vt).reduce((tn,fn)=>tn+fn,0);H.setAutoLeftWidth(`${Xt}px`)}})}),(0,be.z)([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedRightColumnChanges$]).pipe((0,ee.Q)(this.destroy$)).subscribe(([O,A])=>{A.forEach((H,Ae)=>{const ft=A[A.length-Ae-1];if(ft.isAutoRight){const Xt=A.slice(A.length-Ae,A.length).reduce((fn,$t)=>fn+($t.colspan||$t.colSpan||1),0),tn=O.slice(O.length-Xt,O.length).reduce((fn,$t)=>fn+$t,0);ft.setAutoRightWidth(`${tn}px`)}})}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(vi,8))};static#t=this.\u0275dir=t.FsC({type:L,selectors:[["tr",3,"mat-row","",3,"mat-header-row","",3,"nz-table-measure-row","",3,"nzExpand","",3,"nz-table-fixed-row",""]],contentQueries:function(A,H,Ae){if(1&A&&(t.wni(Ae,lo,4),t.wni(Ae,Fi,4)),2&A){let ft;t.mGM(ft=t.lsd())&&(H.listOfNzThDirective=ft),t.mGM(ft=t.lsd())&&(H.listOfCellFixedDirective=ft)}},hostVars:2,hostBindings:function(A,H){2&A&&t.AVh("ant-table-row",H.isInsideTable)},standalone:!0})}return L})(),Lr=(()=>{class L{constructor(O,A,H,Ae){this.elementRef=O,this.renderer=A,this.nzTableStyleService=H,this.nzTableDataService=Ae,this.destroy$=new v.B,this.isInsideTable=!1,this.nzSortOrderChange=new t.bkB,this.isInsideTable=!!this.nzTableStyleService}ngOnInit(){this.nzTableStyleService&&this.nzTableStyleService.setTheadTemplate(this.templateRef)}ngAfterContentInit(){if(this.nzTableStyleService){const O=this.listOfNzTrDirective.changes.pipe((0,xe.Z)(this.listOfNzTrDirective),(0,le.T)(ft=>ft&&ft.first)),A=O.pipe((0,ze.n)(ft=>ft?ft.listOfColumnsChanges$:ue.w),(0,ee.Q)(this.destroy$));A.subscribe(ft=>this.nzTableStyleService.setListOfTh(ft)),this.nzTableStyleService.enableAutoMeasure$.pipe((0,ze.n)(ft=>ft?A:(0,X.of)([]))).pipe((0,ee.Q)(this.destroy$)).subscribe(ft=>this.nzTableStyleService.setListOfMeasureColumn(ft));const H=O.pipe((0,ze.n)(ft=>ft?ft.listOfFixedLeftColumnChanges$:ue.w),(0,ee.Q)(this.destroy$)),Ae=O.pipe((0,ze.n)(ft=>ft?ft.listOfFixedRightColumnChanges$:ue.w),(0,ee.Q)(this.destroy$));H.subscribe(ft=>{this.nzTableStyleService.setHasFixLeft(0!==ft.length)}),Ae.subscribe(ft=>{this.nzTableStyleService.setHasFixRight(0!==ft.length)})}if(this.nzTableDataService){const O=this.listOfNzThAddOnComponent.changes.pipe((0,xe.Z)(this.listOfNzThAddOnComponent));O.pipe((0,ze.n)(()=>(0,re.h)(...this.listOfNzThAddOnComponent.map(Ae=>Ae.manualClickOrder$))),(0,ee.Q)(this.destroy$)).subscribe(Ae=>{this.nzSortOrderChange.emit({key:Ae.nzColumnKey,value:Ae.sortOrder}),Ae.nzSortFn&&!1===Ae.nzSortPriority&&this.listOfNzThAddOnComponent.filter(Vt=>Vt!==Ae).forEach(Vt=>Vt.clearSortOrder())}),O.pipe((0,ze.n)(Ae=>(0,re.h)(O,...Ae.map(ft=>ft.calcOperatorChange$)).pipe((0,Ge.Z)(()=>O))),(0,le.T)(Ae=>Ae.filter(ft=>!!ft.nzSortFn||!!ft.nzFilterFn).map(ft=>{const{nzSortFn:Vt,sortOrder:Xt,nzFilterFn:tn,nzFilterValue:fn,nzSortPriority:$t,nzColumnKey:Yn}=ft;return{key:Yn,sortFn:Vt,sortPriority:$t,sortOrder:Xt,filterFn:tn,filterValue:fn}})),(0,Fe.c)(0),(0,ee.Q)(this.destroy$)).subscribe(Ae=>{this.nzTableDataService.listOfCalcOperator$.next(Ae)})}}ngAfterViewInit(){this.nzTableStyleService&&this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||L)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(vi,8),t.rXU(Es,8))};static#t=this.\u0275cmp=t.VBU({type:L,selectors:[["thead",9,"ant-table-thead"]],contentQueries:function(A,H,Ae){if(1&A&&(t.wni(Ae,fo,5),t.wni(Ae,Bi,5)),2&A){let ft;t.mGM(ft=t.lsd())&&(H.listOfNzTrDirective=ft),t.mGM(ft=t.lsd())&&(H.listOfNzThAddOnComponent=ft)}},viewQuery:function(A,H){if(1&A&&t.GBs(wr,7),2&A){let Ae;t.mGM(Ae=t.lsd())&&(H.templateRef=Ae.first)}},outputs:{nzSortOrderChange:"nzSortOrderChange"},standalone:!0,features:[t.aNF],ngContentSelectors:De,decls:3,vars:1,consts:[["contentTemplate",""],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(A,H){1&A&&(t.NAR(),t.DNE(0,Mr,1,0,"ng-template",null,0,t.C5r)(2,Pr,2,1,"ng-container",1)),2&A&&(t.R7$(2),t.Y8G("ngIf",!H.isInsideTable))},dependencies:[ae.bT,ae.T3],encapsulation:2,changeDetection:0})}return L})(),Vr=(()=>{class L{static#e=this.\u0275fac=function(A){return new(A||L)};static#t=this.\u0275mod=t.$C({type:L});static#n=this.\u0275inj=t.G2t({imports:[po,Bi,Ar,Mi,ho,Ps,ao,ro,Ri,oo,Rr]})}return L})()},5154:(Lt,ct,C)=>{"use strict";C.d(ct,{LH:()=>ae,ME:()=>Te,Qt:()=>Pe,VJ:()=>Ze,t:()=>Se});var t=C(1635),f=C(6969),m=C(177),v=C(4438),Y=C(713),Ve=C(6006),be=C(6841),re=C(7806),ue=C(5463),X=C(317),ee=C(1413),le=C(5007),pe=C(3294),K=C(6977),G=C(5964),fe=C(1986),ze=C(6035),xe=C(8203);const Fe=["overlay"];function Ge(We,qe){if(1&We&&(v.qex(0),v.EFF(1),v.bVm()),2&We){const Be=v.XpG(2);v.R7$(),v.JRh(Be.nzTitle)}}function he(We,qe){if(1&We&&(v.j41(0,"div",2)(1,"div",3)(2,"div",4),v.nrm(3,"span",5),v.k0s(),v.j41(4,"div",6),v.DNE(5,Ge,2,1,"ng-container",7),v.k0s()()()),2&We){const Be=v.XpG();v.AVh("ant-tooltip-rtl","rtl"===Be.dir),v.Y8G("ngClass",Be._classMap)("ngStyle",Be.nzOverlayStyle)("@.disabled",!(null==Be.noAnimation||!Be.noAnimation.nzNoAnimation))("nzNoAnimation",null==Be.noAnimation?null:Be.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),v.R7$(3),v.Y8G("ngStyle",Be._contentStyleMap),v.R7$(),v.Y8G("ngStyle",Be._contentStyleMap),v.R7$(),v.Y8G("nzStringTemplateOutlet",Be.nzTitle)("nzStringTemplateOutletContext",Be.nzTitleContext)}}let Te=(()=>{class We{get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return typeof this.trigger<"u"?this.trigger:"hover"}get _placement(){const Be=this.placement;return Array.isArray(Be)&&Be.length>0?Be:"string"==typeof Be&&Be?[Be]:["top"]}get _visible(){return(typeof this.visible<"u"?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}constructor(Be,tt,Xe,pt,et){this.elementRef=Be,this.hostView=tt,this.renderer=Xe,this.noAnimation=pt,this.nzConfigService=et,this.visibleChange=new v.bkB,this.internalVisible=!1,this.destroy$=new ee.B,this.triggerDisposables=[]}ngOnChanges(Be){const{trigger:tt}=Be;tt&&!tt.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(Be)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){this.component?.show()}hide(){this.component?.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const Be=this.componentRef;this.component=Be.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),Be.location.nativeElement),this.component.setOverlayOrigin(this.origin||this.elementRef),this.initProperties();const tt=this.component.nzVisibleChange.pipe((0,pe.F)());tt.pipe((0,K.Q)(this.destroy$)).subscribe(Xe=>{this.internalVisible=Xe,this.visibleChange.emit(Xe)}),tt.pipe((0,G.p)(Xe=>Xe),(0,fe.c)(0,le.$),(0,G.p)(()=>!!this.component?.overlay?.overlayRef),(0,K.Q)(this.destroy$)).subscribe(()=>{this.component?.updatePosition()})}registerTriggers(){const Be=this.elementRef.nativeElement,tt=this.trigger;if(this.removeTriggerListeners(),"hover"===tt){let Xe;this.triggerDisposables.push(this.renderer.listen(Be,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(Be,"mouseleave",()=>{this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),this.component?.overlay.overlayRef&&!Xe&&(Xe=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(Xe,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(Xe,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===tt?(this.triggerDisposables.push(this.renderer.listen(Be,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(Be,"focusout",()=>this.hide()))):"click"===tt&&this.triggerDisposables.push(this.renderer.listen(Be,"click",Xe=>{Xe.preventDefault(),this.show()}))}updatePropertiesByChanges(Be){this.updatePropertiesByKeys(Object.keys(Be))}updatePropertiesByKeys(Be){const tt={title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter],cdkConnectedOverlayPush:["cdkConnectedOverlayPush",()=>this.cdkConnectedOverlayPush],...this.getProxyPropertyMap()};(Be||Object.keys(tt).filter(Xe=>!Xe.startsWith("directive"))).forEach(Xe=>{if(tt[Xe]){const[pt,et]=tt[Xe];this.updateComponentValue(pt,et())}}),this.component?.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(Be,tt){typeof tt<"u"&&(this.component[Be]=tt)}delayEnterLeave(Be,tt,Xe=-1){this.delayTimer?this.clearTogglingTimer():Xe>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,tt?this.show():this.hide()},1e3*Xe):tt&&Be?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(Be=>Be()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}static#e=this.\u0275fac=function(tt){return new(tt||We)(v.rXU(v.aKT),v.rXU(v.c1b),v.rXU(v.sFG),v.rXU(be.z),v.rXU(ze.yx))};static#t=this.\u0275dir=v.FsC({type:We,features:[v.OA$]})}return We})(),Z=(()=>{class We{set nzVisible(Be){const tt=(0,X.G4)(Be);this._visible!==tt&&(this._visible=tt,this.nzVisibleChange.next(tt))}get nzVisible(){return this._visible}set nzTrigger(Be){this._trigger=Be}get nzTrigger(){return this._trigger}set nzPlacement(Be){const tt=Be.map(Xe=>ue.pn[Xe]);this._positions=[...tt,...ue.Js]}constructor(Be,tt,Xe){this.cdr=Be,this.directionality=tt,this.noAnimation=Xe,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.cdkConnectedOverlayPush=!0,this.nzVisibleChange=new ee.B,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...ue.Js],this.destroy$=new ee.B}ngOnInit(){this.directionality.change?.pipe((0,K.Q)(this.destroy$)).subscribe(Be=>{this.dir=Be,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(Be){this.preferredPlacement=(0,ue.jj)(Be),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(Be){this.origin=Be,this.cdr.markForCheck()}onClickOutside(Be){!this.origin.nativeElement.contains(Be.target)&&null!==this.nzTrigger&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}static#e=this.\u0275fac=function(tt){return new(tt||We)(v.rXU(v.gRc),v.rXU(xe.dS,8),v.rXU(be.z))};static#t=this.\u0275dir=v.FsC({type:We,viewQuery:function(tt,Xe){if(1&tt&&v.GBs(Fe,5),2&tt){let pt;v.mGM(pt=v.lsd())&&(Xe.overlay=pt.first)}}})}return We})();function Se(We){return!(We instanceof v.C4Q||""!==We&&(0,X.n9)(We))}let ae=(()=>{class We extends Te{constructor(Be,tt,Xe,pt){super(Be,tt,Xe,pt),this.titleContext=null,this.trigger="hover",this.placement="top",this.cdkConnectedOverlayPush=!0,this.visibleChange=new v.bkB,this.componentRef=this.hostView.createComponent(Ze)}getProxyPropertyMap(){return{...super.getProxyPropertyMap(),nzTooltipColor:["nzColor",()=>this.nzTooltipColor],titleContext:["nzTitleContext",()=>this.titleContext]}}static#e=this.\u0275fac=function(tt){return new(tt||We)(v.rXU(v.aKT),v.rXU(v.c1b),v.rXU(v.sFG),v.rXU(be.z,9))};static#t=this.\u0275dir=v.FsC({type:We,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(tt,Xe){2&tt&&v.AVh("ant-tooltip-open",Xe.visible)},inputs:{title:[v.Mj6.None,"nzTooltipTitle","title"],titleContext:[v.Mj6.None,"nzTooltipTitleContext","titleContext"],directiveTitle:[v.Mj6.None,"nz-tooltip","directiveTitle"],trigger:[v.Mj6.None,"nzTooltipTrigger","trigger"],placement:[v.Mj6.None,"nzTooltipPlacement","placement"],origin:[v.Mj6.None,"nzTooltipOrigin","origin"],visible:[v.Mj6.None,"nzTooltipVisible","visible"],mouseEnterDelay:[v.Mj6.None,"nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[v.Mj6.None,"nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[v.Mj6.None,"nzTooltipOverlayClassName","overlayClassName"],overlayStyle:[v.Mj6.None,"nzTooltipOverlayStyle","overlayStyle"],arrowPointAtCenter:[v.Mj6.None,"nzTooltipArrowPointAtCenter","arrowPointAtCenter"],cdkConnectedOverlayPush:"cdkConnectedOverlayPush",nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],standalone:!0,features:[v.Vt3]})}return(0,t.Cg)([(0,X.H3)()],We.prototype,"arrowPointAtCenter",void 0),(0,t.Cg)([(0,X.H3)()],We.prototype,"cdkConnectedOverlayPush",void 0),We})(),Ze=(()=>{class We extends Z{constructor(Be,tt,Xe){super(Be,tt,Xe),this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return Se(this.nzTitle)}updateStyles(){const Be=this.nzColor&&(0,Ve.nP)(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:Be},this._contentStyleMap={backgroundColor:this.nzColor&&!Be?this.nzColor:null,"--color":this.nzColor}}static#e=this.\u0275fac=function(tt){return new(tt||We)(v.rXU(v.gRc),v.rXU(xe.dS,8),v.rXU(be.z,9))};static#t=this.\u0275cmp=v.VBU({type:We,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],standalone:!0,features:[v.Vt3,v.aNF],decls:2,vars:5,consts:[["overlay","cdkConnectedOverlay"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(tt,Xe){if(1&tt){const pt=v.RV6();v.DNE(0,he,6,11,"ng-template",1,0,v.C5r),v.bIt("overlayOutsideClick",function(Le){return v.eBV(pt),v.Njj(Xe.onClickOutside(Le))})("detach",function(){return v.eBV(pt),v.Njj(Xe.hide())})("positionChange",function(Le){return v.eBV(pt),v.Njj(Xe.onPositionChange(Le))})}2&tt&&v.Y8G("cdkConnectedOverlayOrigin",Xe.origin)("cdkConnectedOverlayOpen",Xe._visible)("cdkConnectedOverlayPositions",Xe._positions)("cdkConnectedOverlayPush",Xe.cdkConnectedOverlayPush)("nzArrowPointAtCenter",Xe.nzArrowPointAtCenter)},dependencies:[f.z_,f.WB,m.YU,m.B3,be.z,re.C,re.m,ue.$_,ue.vT],encapsulation:2,data:{animation:[Y.uX]},changeDetection:0})}return We})(),Pe=(()=>{class We{static#e=this.\u0275fac=function(tt){return new(tt||We)};static#t=this.\u0275mod=v.$C({type:We});static#n=this.\u0275inj=v.G2t({imports:[Ze]})}return We})()},2358:(Lt,ct,C)=>{"use strict";C.d(ct,{$W:()=>T,SE:()=>I});var t=C(7336),f=C(1626),m=C(4438),v=C(7673),Y=C(1985),Ve=C(8359),be=C(1413),re=C(3726),ue=C(5558),X=C(6354),ee=C(8141),le=C(6977),pe=C(5964),K=C(1265),G=C(9969),fe=C(177),ze=C(513),xe=C(5103),Fe=C(7064),Ge=C(5154),he=C(6860),Te=C(6389),Z=C(1635),Se=C(317),ae=C(3341),Ze=C(8203);const Pe=["file"],We=["nz-upload-btn",""],qe=["*"],Be=E=>({$implicit:E}),tt=()=>({opacity:.5,"pointer-events":"none"});function Xe(E,oe){}function pt(E,oe){if(1&E&&(m.j41(0,"div",20),m.DNE(1,Xe,0,0,"ng-template",21),m.k0s()),2&E){const B=m.XpG(2).$implicit,ve=m.sdS(5);m.AVh("ant-upload-list-item-file",!B.isUploading),m.R7$(),m.Y8G("ngTemplateOutlet",ve)("ngTemplateOutletContext",m.eq3(4,Be,B))}}function et(E,oe){if(1&E&&m.nrm(0,"img",24),2&E){const B=m.XpG(3).$implicit;m.Y8G("src",B.thumbUrl||B.url,m.B4B),m.BMQ("alt",B.name)}}function Le(E,oe){if(1&E){const B=m.RV6();m.j41(0,"a",22),m.bIt("click",function(Qe){m.eBV(B);const at=m.XpG(2).$implicit,Ct=m.XpG();return m.Njj(Ct.handlePreview(at,Qe))}),m.DNE(1,et,1,2,"img",23),m.k0s()}if(2&E){m.XpG();const B=m.sdS(5),ve=m.XpG().$implicit;m.AVh("ant-upload-list-item-file",!ve.isImageUrl),m.Y8G("href",ve.url||ve.thumbUrl,m.B4B),m.R7$(),m.Y8G("ngIf",ve.isImageUrl)("ngIfElse",B)}}function mt(E,oe){}function ht(E,oe){if(1&E&&(m.j41(0,"div",25),m.DNE(1,mt,0,0,"ng-template",21),m.k0s()),2&E){const B=m.XpG(2).$implicit,ve=m.sdS(5);m.R7$(),m.Y8G("ngTemplateOutlet",ve)("ngTemplateOutletContext",m.eq3(2,Be,B))}}function xt(E,oe){}function Gt(E,oe){if(1&E&&m.DNE(0,xt,0,0,"ng-template",21),2&E){const B=m.XpG(2).$implicit,ve=m.sdS(5);m.Y8G("ngTemplateOutlet",ve)("ngTemplateOutletContext",m.eq3(2,Be,B))}}function Me(E,oe){if(1&E&&(m.qex(0,16),m.DNE(1,pt,2,6,"div",17)(2,Le,2,5,"a",18)(3,ht,2,4,"div",19),m.bVm(),m.DNE(4,Gt,1,4,"ng-template",null,6,m.C5r)),2&E){const B=m.XpG().$implicit;m.Y8G("ngSwitch",B.iconType),m.R7$(),m.Y8G("ngSwitchCase","uploading"),m.R7$(),m.Y8G("ngSwitchCase","thumbnail")}}function nt(E,oe){1&E&&(m.qex(0),m.nrm(1,"span",29),m.bVm())}function ie(E,oe){if(1&E&&(m.qex(0),m.DNE(1,nt,2,0,"ng-container",26),m.bVm()),2&E){const B=m.XpG(2).$implicit,ve=m.sdS(4);m.R7$(),m.Y8G("ngIf",B.isUploading)("ngIfElse",ve)}}function F(E,oe){if(1&E&&(m.qex(0),m.EFF(1),m.bVm()),2&E){const B=m.XpG(5);m.R7$(),m.SpI(" ",B.locale.uploading," ")}}function _e(E,oe){if(1&E&&(m.qex(0),m.DNE(1,F,2,1,"ng-container",26),m.bVm()),2&E){const B=m.XpG(2).$implicit,ve=m.sdS(4);m.R7$(),m.Y8G("ngIf",B.isUploading)("ngIfElse",ve)}}function ne(E,oe){if(1&E&&m.nrm(0,"span",30),2&E){const B=m.XpG(2).$implicit;m.Y8G("nzType",B.isUploading?"loading":"paper-clip")}}function Oe(E,oe){if(1&E&&(m.qex(0)(1,16),m.DNE(2,ie,2,2,"ng-container",27)(3,_e,2,2,"ng-container",27)(4,ne,1,1,"span",28),m.bVm()()),2&E){const B=m.XpG(3);m.R7$(),m.Y8G("ngSwitch",B.listType),m.R7$(),m.Y8G("ngSwitchCase","picture"),m.R7$(),m.Y8G("ngSwitchCase","picture-card")}}function je(E,oe){}function vt(E,oe){if(1&E&&m.nrm(0,"span",31),2&E){const B=m.XpG().$implicit;m.Y8G("nzType",B.isImageUrl?"picture":"file")}}function Pt(E,oe){if(1&E&&m.DNE(0,Oe,5,3,"ng-container",26)(1,je,0,0,"ng-template",21,7,m.C5r)(3,vt,1,1,"ng-template",null,8,m.C5r),2&E){const B=oe.$implicit,ve=m.sdS(2),Qe=m.XpG(2);m.Y8G("ngIf",!Qe.iconRender)("ngIfElse",ve),m.R7$(),m.Y8G("ngTemplateOutlet",Qe.iconRender)("ngTemplateOutletContext",m.eq3(4,Be,B))}}function At(E,oe){if(1&E){const B=m.RV6();m.j41(0,"button",33),m.bIt("click",function(Qe){m.eBV(B);const at=m.XpG(2).$implicit,Ct=m.XpG();return m.Njj(Ct.handleRemove(at,Qe))}),m.nrm(1,"span",34),m.k0s()}if(2&E){const B=m.XpG(3);m.BMQ("title",B.locale.removeFile)}}function Wt(E,oe){if(1&E&&m.DNE(0,At,2,1,"button",32),2&E){const B=m.XpG(2);m.Y8G("ngIf",B.icons.showRemoveIcon)}}function qt(E,oe){if(1&E){const B=m.RV6();m.j41(0,"button",33),m.bIt("click",function(){m.eBV(B);const Qe=m.XpG(2).$implicit,at=m.XpG();return m.Njj(at.handleDownload(Qe))}),m.nrm(1,"span",35),m.k0s()}if(2&E){const B=m.XpG(3);m.BMQ("title",B.locale.downloadFile)}}function lt(E,oe){if(1&E&&m.DNE(0,qt,2,1,"button",32),2&E){const B=m.XpG().$implicit;m.Y8G("ngIf",B.showDownload)}}function Mt(E,oe){}function ye(E,oe){}function st(E,oe){if(1&E&&(m.j41(0,"span"),m.DNE(1,Mt,0,0,"ng-template",13)(2,ye,0,0,"ng-template",13),m.k0s()),2&E){m.XpG(2);const B=m.sdS(7),ve=m.sdS(9),Qe=m.XpG();m.ZvI("ant-upload-list-item-card-actions ","picture"===Qe.listType?"picture":"",""),m.R7$(),m.Y8G("ngTemplateOutlet",ve),m.R7$(),m.Y8G("ngTemplateOutlet",B)}}function J(E,oe){if(1&E&&m.DNE(0,st,3,5,"span",36),2&E){const B=m.XpG(2);m.Y8G("ngIf","picture-card"!==B.listType)}}function He(E,oe){if(1&E){const B=m.RV6();m.j41(0,"a",39),m.bIt("click",function(Qe){m.eBV(B);const at=m.XpG(2).$implicit,Ct=m.XpG();return m.Njj(Ct.handlePreview(at,Qe))}),m.EFF(1),m.k0s()}if(2&E){const B=m.XpG(2).$implicit;m.Y8G("href",B.url,m.B4B),m.BMQ("title",B.name)("download",B.linkProps&&B.linkProps.download),m.R7$(),m.SpI(" ",B.name," ")}}function me(E,oe){if(1&E){const B=m.RV6();m.j41(0,"span",40),m.bIt("click",function(Qe){m.eBV(B);const at=m.XpG(2).$implicit,Ct=m.XpG();return m.Njj(Ct.handlePreview(at,Qe))}),m.EFF(1),m.k0s()}if(2&E){const B=m.XpG(2).$implicit;m.BMQ("title",B.name),m.R7$(),m.SpI(" ",B.name," ")}}function W(E,oe){}function b(E,oe){if(1&E&&m.DNE(0,He,2,4,"a",37)(1,me,2,2,"span",38)(2,W,0,0,"ng-template",13),2&E){const B=m.XpG().$implicit,ve=m.sdS(11);m.Y8G("ngIf",B.url),m.R7$(),m.Y8G("ngIf",!B.url),m.R7$(),m.Y8G("ngTemplateOutlet",ve)}}function D(E,oe){}function j(E,oe){}function Q(E,oe){if(1&E){const B=m.RV6();m.j41(0,"a",44),m.bIt("click",function(Qe){m.eBV(B);const at=m.XpG(2).$implicit,Ct=m.XpG();return m.Njj(Ct.handlePreview(at,Qe))}),m.nrm(1,"span",45),m.k0s()}if(2&E){const B=m.XpG(2).$implicit,ve=m.XpG();m.Y8G("href",B.url||B.thumbUrl,m.B4B)("ngStyle",B.url||B.thumbUrl?null:m.lJ4(3,tt)),m.BMQ("title",ve.locale.previewFile)}}function ke(E,oe){}function Ye(E,oe){if(1&E&&(m.qex(0),m.DNE(1,ke,0,0,"ng-template",13),m.bVm()),2&E){m.XpG(2);const B=m.sdS(9);m.R7$(),m.Y8G("ngTemplateOutlet",B)}}function dt(E,oe){}function bt(E,oe){if(1&E&&(m.j41(0,"span",41),m.DNE(1,Q,2,4,"a",42)(2,Ye,2,1,"ng-container",43)(3,dt,0,0,"ng-template",13),m.k0s()),2&E){const B=m.XpG().$implicit,ve=m.sdS(7),Qe=m.XpG();m.R7$(),m.Y8G("ngIf",Qe.icons.showPreviewIcon),m.R7$(),m.Y8G("ngIf","done"===B.status),m.R7$(),m.Y8G("ngTemplateOutlet",ve)}}function kt(E,oe){if(1&E&&(m.j41(0,"div",46),m.nrm(1,"nz-progress",47),m.k0s()),2&E){const B=m.XpG().$implicit;m.R7$(),m.Y8G("nzPercent",B.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function wt(E,oe){if(1&E&&(m.j41(0,"div")(1,"div",10),m.DNE(2,Me,6,3,"ng-template",null,0,m.C5r)(4,Pt,5,6,"ng-template",null,1,m.C5r)(6,Wt,1,1,"ng-template",null,2,m.C5r)(8,lt,1,1,"ng-template",null,3,m.C5r)(10,J,1,1,"ng-template",null,4,m.C5r)(12,b,3,3,"ng-template",null,5,m.C5r),m.j41(14,"div",11)(15,"span",12),m.DNE(16,D,0,0,"ng-template",13)(17,j,0,0,"ng-template",13),m.k0s()(),m.DNE(18,bt,4,3,"span",14)(19,kt,2,3,"div",15),m.k0s()()),2&E){const B=oe.$implicit,ve=m.sdS(3),Qe=m.sdS(13),at=m.XpG();m.ZvI("ant-upload-list-",at.listType,"-container"),m.R7$(),m.STu("ant-upload-list-item ant-upload-list-item-",B.status," ant-upload-list-item-list-type-",at.listType,""),m.Y8G("@itemState",void 0)("nzTooltipTitle","error"===B.status?B.message:null),m.BMQ("data-key",B.key),m.R7$(15),m.Y8G("ngTemplateOutlet",ve),m.R7$(),m.Y8G("ngTemplateOutlet",Qe),m.R7$(),m.Y8G("ngIf","picture-card"===at.listType&&!B.isUploading),m.R7$(),m.Y8G("ngIf",B.isUploading)}}const Yt=["uploadComp"],rt=["listComp"],Ht=()=>[];function Ee(E,oe){if(1&E&&m.nrm(0,"nz-upload-list",10,5),2&E){const B=m.XpG(2);m.xc7("display",B.nzShowUploadList?"":"none"),m.Y8G("locale",B.locale)("listType",B.nzListType)("items",B.nzFileList||m.lJ4(13,Ht))("icons",B.nzShowUploadList)("iconRender",B.nzIconRender)("previewFile",B.nzPreviewFile)("previewIsImage",B.nzPreviewIsImage)("onPreview",B.nzPreview)("onRemove",B.onRemove)("onDownload",B.nzDownload)("dir",B.dir)}}function Je(E,oe){1&E&&m.eu8(0)}function Ie(E,oe){if(1&E&&(m.qex(0),m.DNE(1,Je,1,0,"ng-container",11),m.bVm()),2&E){const B=m.XpG(2);m.R7$(),m.Y8G("ngTemplateOutlet",B.nzFileListRender)("ngTemplateOutletContext",m.eq3(2,Be,B.nzFileList))}}function It(E,oe){if(1&E&&m.DNE(0,Ee,2,14,"nz-upload-list",8)(1,Ie,2,4,"ng-container",9),2&E){const B=m.XpG();m.Y8G("ngIf",B.locale&&!B.nzFileListRender),m.R7$(),m.Y8G("ngIf",B.nzFileListRender)}}function Rt(E,oe){1&E&&m.SdG(0)}function Ot(E,oe){}function Ft(E,oe){if(1&E&&(m.j41(0,"div",12)(1,"div",13,6),m.DNE(3,Ot,0,0,"ng-template",14),m.k0s()()),2&E){const B=m.XpG(),ve=m.sdS(3);m.xc7("display",B.nzShowButton?"":"none"),m.Y8G("ngClass",B.classList),m.R7$(),m.Y8G("options",B._btnOptions),m.R7$(2),m.Y8G("ngTemplateOutlet",ve)}}function en(E,oe){}function wn(E,oe){}function kn(E,oe){if(1&E){const B=m.RV6();m.qex(0),m.j41(1,"div",15),m.bIt("drop",function(Qe){m.eBV(B);const at=m.XpG();return m.Njj(at.fileDrop(Qe))})("dragover",function(Qe){m.eBV(B);const at=m.XpG();return m.Njj(at.fileDrop(Qe))})("dragleave",function(Qe){m.eBV(B);const at=m.XpG();return m.Njj(at.fileDrop(Qe))}),m.j41(2,"div",16,6)(4,"div",17),m.DNE(5,en,0,0,"ng-template",14),m.k0s()()(),m.DNE(6,wn,0,0,"ng-template",14),m.bVm()}if(2&E){const B=m.XpG(),ve=m.sdS(1),Qe=m.sdS(3);m.R7$(),m.Y8G("ngClass",B.classList),m.R7$(),m.Y8G("options",B._btnOptions),m.R7$(3),m.Y8G("ngTemplateOutlet",Qe),m.R7$(),m.Y8G("ngTemplateOutlet",ve)}}function $e(E,oe){}function Re(E,oe){}function de(E,oe){if(1&E&&(m.qex(0),m.DNE(1,$e,0,0,"ng-template",14)(2,Re,0,0,"ng-template",14),m.bVm()),2&E){m.XpG(2);const B=m.sdS(1),ve=m.sdS(5);m.R7$(),m.Y8G("ngTemplateOutlet",B),m.R7$(),m.Y8G("ngTemplateOutlet",ve)}}function De(E,oe){if(1&E&&m.DNE(0,de,3,2,"ng-container",7),2&E){const B=m.XpG(),ve=m.sdS(10);m.Y8G("ngIf","picture-card"===B.nzListType)("ngIfElse",ve)}}function ot(E,oe){}function ge(E,oe){}function $(E,oe){if(1&E&&m.DNE(0,ot,0,0,"ng-template",14)(1,ge,0,0,"ng-template",14),2&E){m.XpG();const B=m.sdS(1),ve=m.sdS(5);m.Y8G("ngTemplateOutlet",ve),m.R7$(),m.Y8G("ngTemplateOutlet",B)}}let R=(()=>{class E{onClick(){this.options.disabled||!this.options.openFileDialogOnClick||this.file.nativeElement.click()}onFileDrop(B){if(this.options.disabled||"dragover"===B.type)B.preventDefault();else{if(this.options.directory)this.traverseFileTree(B.dataTransfer.items);else{const ve=Array.prototype.slice.call(B.dataTransfer.files).filter(Qe=>this.attrAccept(Qe,this.options.accept));ve.length&&this.uploadFiles(ve)}B.preventDefault()}}onChange(B){if(this.options.disabled)return;const ve=B.target;this.uploadFiles(ve.files),ve.value=""}traverseFileTree(B){const ve=(Qe,at)=>{Qe.isFile?Qe.file(Ct=>{this.attrAccept(Ct,this.options.accept)&&this.uploadFiles([Ct])}):Qe.isDirectory&&Qe.createReader().readEntries(Ut=>{for(const Kt of Ut)ve(Kt,`${at}${Qe.name}/`)})};for(const Qe of B)ve(Qe.webkitGetAsEntry(),"")}attrAccept(B,ve){if(B&&ve){const Qe=Array.isArray(ve)?ve:ve.split(","),at=`${B.name}`,Ct=`${B.type}`,Ut=Ct.replace(/\/.*$/,"");return Qe.some(Kt=>{const nn=Kt.trim();return"."===nn.charAt(0)?-1!==at.toLowerCase().indexOf(nn.toLowerCase(),at.toLowerCase().length-nn.toLowerCase().length):/\/\*$/.test(nn)?Ut===nn.replace(/\/.*$/,""):Ct===nn})}return!0}attachUid(B){return B.uid||(B.uid=Math.random().toString(36).substring(2)),B}uploadFiles(B){let ve=(0,v.of)(Array.prototype.slice.call(B));this.options.filters&&this.options.filters.forEach(Qe=>{ve=ve.pipe((0,ue.n)(at=>{const Ct=Qe.fn(at);return Ct instanceof Y.c?Ct:(0,v.of)(Ct)}))}),ve.subscribe(Qe=>{Qe.forEach(at=>{this.attachUid(at),this.upload(at,Qe)})},Qe=>{(0,K.R8)("Unhandled upload filter error",Qe)})}upload(B,ve){if(!this.options.beforeUpload)return this.post(B);const Qe=this.options.beforeUpload(B,ve);if(Qe instanceof Y.c)Qe.subscribe(at=>{const Ct=Object.prototype.toString.call(at);"[object File]"===Ct||"[object Blob]"===Ct?(this.attachUid(at),this.post(at)):"boolean"==typeof at&&!1!==at&&this.post(B)},at=>{(0,K.R8)("Unhandled upload beforeUpload error",at)});else if(!1!==Qe)return this.post(B)}post(B){if(this.destroy)return;let Qe,ve=(0,v.of)(B);const at=this.options,{uid:Ct}=B,{action:Ut,data:Kt,headers:nn,transformFile:un}=at,yn={action:"string"==typeof Ut?Ut:"",name:at.name,headers:nn,file:B,postFile:B,data:Kt,withCredentials:at.withCredentials,onProgress:at.onProgress?sn=>{at.onProgress(sn,B)}:void 0,onSuccess:(sn,pn)=>{this.clean(Ct),at.onSuccess(sn,B,pn)},onError:sn=>{this.clean(Ct),at.onError(sn,B)}};if("function"==typeof Ut){const sn=Ut(B);sn instanceof Y.c?ve=ve.pipe((0,ue.n)(()=>sn),(0,X.T)(pn=>(yn.action=pn,B))):yn.action=sn}if("function"==typeof un){const sn=un(B);ve=ve.pipe((0,ue.n)(()=>sn instanceof Y.c?sn:(0,v.of)(sn)),(0,ee.M)(pn=>Qe=pn))}if("function"==typeof Kt){const sn=Kt(B);sn instanceof Y.c?ve=ve.pipe((0,ue.n)(()=>sn),(0,X.T)(pn=>(yn.data=pn,Qe??B))):yn.data=sn}if("function"==typeof nn){const sn=nn(B);sn instanceof Y.c?ve=ve.pipe((0,ue.n)(()=>sn),(0,X.T)(pn=>(yn.headers=pn,Qe??B))):yn.headers=sn}ve.subscribe(sn=>{yn.postFile=sn;const pn=(at.customRequest||this.xhr).call(this,yn);pn instanceof Ve.yU||(0,K.R8)("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[Ct]=pn,at.onStart(B)})}xhr(B){const ve=new FormData;B.data&&Object.keys(B.data).map(at=>{ve.append(at,B.data[at])}),ve.append(B.name,B.postFile),B.headers||(B.headers={}),null!==B.headers["X-Requested-With"]?B.headers["X-Requested-With"]="XMLHttpRequest":delete B.headers["X-Requested-With"];const Qe=new f.Kd("POST",B.action,ve,{reportProgress:!0,withCredentials:B.withCredentials,headers:new f.Lr(B.headers)});return this.http.request(Qe).subscribe(at=>{at.type===f.hv.UploadProgress?(at.total>0&&(at.percent=at.loaded/at.total*100),B.onProgress(at,B.file)):at instanceof f.cS&&B.onSuccess(at.body,B.file,at)},at=>{this.abort(B.file),B.onError(at,B.file)})}clean(B){const ve=this.reqs[B];ve instanceof Ve.yU&&ve.unsubscribe(),delete this.reqs[B]}abort(B){B?this.clean(B&&B.uid):Object.keys(this.reqs).forEach(ve=>this.clean(ve))}constructor(B,ve,Qe){if(this.ngZone=B,this.http=ve,this.elementRef=Qe,this.reqs={},this.destroy=!1,this.destroy$=new be.B,!ve)throw new Error("Not found 'HttpClient', You can import 'HttpClientModule' in your root module.")}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,re.R)(this.elementRef.nativeElement,"click").pipe((0,le.Q)(this.destroy$)).subscribe(()=>this.onClick()),(0,re.R)(this.elementRef.nativeElement,"keydown").pipe((0,le.Q)(this.destroy$)).subscribe(B=>{this.options.disabled||("Enter"===B.key||B.keyCode===t.Fm)&&this.onClick()})})}ngOnDestroy(){this.destroy=!0,this.destroy$.next(),this.abort()}static#e=this.\u0275fac=function(ve){return new(ve||E)(m.rXU(m.SKi),m.rXU(f.Qq,8),m.rXU(m.aKT))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["","nz-upload-btn",""]],viewQuery:function(ve,Qe){if(1&ve&&m.GBs(Pe,7),2&ve){let at;m.mGM(at=m.lsd())&&(Qe.file=at.first)}},hostAttrs:[1,"ant-upload"],hostVars:4,hostBindings:function(ve,Qe){1&ve&&m.bIt("drop",function(Ct){return Qe.onFileDrop(Ct)})("dragover",function(Ct){return Qe.onFileDrop(Ct)}),2&ve&&(m.BMQ("tabindex","0")("role","button"),m.AVh("ant-upload-disabled",Qe.options.disabled))},inputs:{options:"options"},exportAs:["nzUploadBtn"],standalone:!0,features:[m.aNF],attrs:We,ngContentSelectors:qe,decls:3,vars:6,consts:[["file",""],["type","file",3,"change","multiple"]],template:function(ve,Qe){if(1&ve){const at=m.RV6();m.NAR(),m.j41(0,"input",1,0),m.bIt("change",function(Ut){return m.eBV(at),m.Njj(Qe.onChange(Ut))}),m.k0s(),m.SdG(2)}2&ve&&(m.xc7("display","none"),m.Y8G("multiple",Qe.options.multiple),m.BMQ("accept",Qe.options.accept)("directory",Qe.options.directory?"directory":null)("webkitdirectory",Qe.options.directory?"webkitdirectory":null))},encapsulation:2})}return E})();const k=E=>!!E&&0===E.indexOf("image/"),P=200;let w=(()=>{class E{get showPic(){return"picture"===this.listType||"picture-card"===this.listType}set items(B){this.list=B}genErr(B){return B.response&&"string"==typeof B.response?B.response:B.error&&B.error.statusText||this.locale.uploadError}extname(B){const ve=B.split("/"),at=ve[ve.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(at)||[""])[0]}isImageUrl(B){if(k(B.type))return!0;const ve=B.thumbUrl||B.url||"";if(!ve)return!1;const Qe=this.extname(ve);return!(!/^data:image\//.test(ve)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(Qe))||!/^data:/.test(ve)&&!Qe}getIconType(B){return this.showPic?B.isUploading||!B.thumbUrl&&!B.url?"uploading":"thumbnail":""}previewImage(B){if(!k(B.type)||!this.platform.isBrowser)return(0,v.of)("");const ve=this.doc.createElement("canvas");ve.width=P,ve.height=P,ve.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;",this.doc.body.appendChild(ve);const Qe=ve.getContext("2d"),at=new Image,Ct=URL.createObjectURL(B);return at.src=Ct,(0,re.R)(at,"load").pipe((0,X.T)(()=>{const{width:Ut,height:Kt}=at;let nn=P,un=P,yn=0,sn=0;Ut<Kt?(un=Kt*(P/Ut),sn=-(un-nn)/2):(nn=Ut*(P/Kt),yn=-(nn-un)/2);try{Qe.drawImage(at,yn,sn,nn,un)}catch{}const pn=ve.toDataURL();return this.doc.body.removeChild(ve),URL.revokeObjectURL(Ct),pn}))}genThumb(){if(!this.platform.isBrowser)return;const B=window;!this.showPic||typeof document>"u"||typeof B>"u"||!B.FileReader||!B.File||this.list.filter(ve=>ve.originFileObj instanceof File&&void 0===ve.thumbUrl).forEach(ve=>{ve.thumbUrl="";const Qe=(this.previewFile?this.previewFile(ve):this.previewImage(ve.originFileObj)).pipe((0,le.Q)(this.destroy$));this.ngZone.runOutsideAngular(()=>{Qe.subscribe(at=>{this.ngZone.run(()=>{ve.thumbUrl=at,this.detectChanges()})})})})}showDownload(B){return!(!this.icons.showDownloadIcon||"done"!==B.status)}fixData(){this.list.forEach(B=>{B.isUploading="uploading"===B.status,B.message=this.genErr(B),B.linkProps="string"==typeof B.linkProps?JSON.parse(B.linkProps):B.linkProps,B.isImageUrl=this.previewIsImage?this.previewIsImage(B):this.isImageUrl(B),B.iconType=this.getIconType(B),B.showDownload=this.showDownload(B)})}handlePreview(B,ve){if(this.onPreview)return ve.preventDefault(),this.onPreview(B)}handleRemove(B,ve){ve.preventDefault(),this.onRemove&&this.onRemove(B)}handleDownload(B){"function"==typeof this.onDownload?this.onDownload(B):B.url&&window.open(B.url)}constructor(B,ve,Qe,at){this.cdr=B,this.doc=ve,this.ngZone=Qe,this.platform=at,this.list=[],this.locale={},this.iconRender=null,this.dir="ltr",this.destroy$=new be.B}detectChanges(){this.fixData(),this.cdr.detectChanges()}ngOnChanges(){this.fixData(),this.genThumb()}ngOnDestroy(){this.destroy$.next()}static#e=this.\u0275fac=function(ve){return new(ve||E)(m.rXU(m.gRc),m.rXU(fe.qQ),m.rXU(m.SKi),m.rXU(he.OD))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["nz-upload-list"]],hostAttrs:[1,"ant-upload-list"],hostVars:8,hostBindings:function(ve,Qe){2&ve&&m.AVh("ant-upload-list-rtl","rtl"===Qe.dir)("ant-upload-list-text","text"===Qe.listType)("ant-upload-list-picture","picture"===Qe.listType)("ant-upload-list-picture-card","picture-card"===Qe.listType)},inputs:{locale:"locale",listType:"listType",items:"items",icons:"icons",onPreview:"onPreview",onRemove:"onRemove",onDownload:"onDownload",previewFile:"previewFile",previewIsImage:"previewIsImage",iconRender:"iconRender",dir:"dir"},exportAs:["nzUploadList"],standalone:!0,features:[m.OA$,m.aNF],decls:1,vars:1,consts:[["icon",""],["iconNode",""],["removeIcon",""],["downloadIcon",""],["downloadOrDelete",""],["preview",""],["noImageThumbTpl",""],["customIconRender",""],["iconNodeFileIcon",""],[3,"class",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],[1,"ant-upload-list-item-info"],[1,"ant-upload-span"],[3,"ngTemplateOutlet"],["class","ant-upload-list-item-actions",4,"ngIf"],["class","ant-upload-list-item-progress",4,"ngIf"],[3,"ngSwitch"],["class","ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file",4,"ngSwitchCase"],["class","ant-upload-list-item-thumbnail","target","_blank","rel","noopener noreferrer",3,"ant-upload-list-item-file","href","click",4,"ngSwitchCase"],["class","ant-upload-text-icon",4,"ngSwitchDefault"],[1,"ant-upload-list-item-thumbnail"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"click","href"],["class","ant-upload-list-item-image",3,"src",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-image",3,"src"],[1,"ant-upload-text-icon"],[4,"ngIf","ngIfElse"],[4,"ngSwitchCase"],["nz-icon","",3,"nzType",4,"ngSwitchDefault"],["nz-icon","","nzType","loading"],["nz-icon","",3,"nzType"],["nz-icon","","nzTheme","twotone",3,"nzType"],["type","button","nz-button","","nzType","text","nzSize","small","class","ant-upload-list-item-card-actions-btn",3,"click",4,"ngIf"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn",3,"click"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","download"],[3,"class",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","ant-upload-list-item-name",3,"href","click",4,"ngIf"],["class","ant-upload-list-item-name",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"click","href"],[1,"ant-upload-list-item-name",3,"click"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click",4,"ngIf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"click","href","ngStyle"],["nz-icon","","nzType","eye"],[1,"ant-upload-list-item-progress"],["nzType","line",3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(ve,Qe){1&ve&&m.DNE(0,wt,20,14,"div",9),2&ve&&m.Y8G("ngForOf",Qe.list)},dependencies:[fe.Sq,Ge.Qt,Ge.LH,fe.ux,fe.T3,fe.bT,fe.fG,fe.e1,xe.Y3,xe.Dn,ze.Zw,ze.aO,Te.c,fe.B3,Fe.m,Fe.V],encapsulation:2,data:{animation:[(0,G.hZ)("itemState",[(0,G.kY)(":enter",[(0,G.iF)({height:"0",width:"0",opacity:0}),(0,G.i0)(150,(0,G.iF)({height:"*",width:"*",opacity:1}))]),(0,G.kY)(":leave",[(0,G.i0)(150,(0,G.iF)({height:"0",width:"0",opacity:0}))])])]},changeDetection:0})}return E})(),T=(()=>{class E{set nzShowUploadList(B){this._showUploadList="boolean"==typeof B?(0,Se.G4)(B):B}get nzShowUploadList(){return this._showUploadList}zipOptions(){"boolean"==typeof this.nzShowUploadList&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!0});const B=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&-1===B.findIndex(ve=>"limit"===ve.name)&&B.push({name:"limit",fn:ve=>ve.slice(-this.nzLimit)}),this.nzSize>0&&-1===B.findIndex(ve=>"size"===ve.name)&&B.push({name:"size",fn:ve=>ve.filter(Qe=>Qe.size/1024<=this.nzSize)}),this.nzFileType&&this.nzFileType.length>0&&-1===B.findIndex(ve=>"type"===ve.name)){const ve=this.nzFileType.split(",");B.push({name:"type",fn:Qe=>Qe.filter(at=>~ve.indexOf(at.type))})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:B,transformFile:this.nzTransformFile,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}constructor(B,ve,Qe,at,Ct){this.ngZone=B,this.document=ve,this.cdr=Qe,this.i18n=at,this.directionality=Ct,this.destroy$=new be.B,this.dir="ltr",this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzIconRender=null,this.nzFileListRender=null,this.nzChange=new m.bkB,this.nzFileListChange=new m.bkB,this.onStart=Ut=>{this.nzFileList||(this.nzFileList=[]);const Kt=this.fileToObject(Ut);Kt.status="uploading",this.nzFileList=this.nzFileList.concat(Kt),this.nzFileListChange.emit(this.nzFileList),this.nzChange.emit({file:Kt,fileList:this.nzFileList,type:"start"}),this.detectChangesList()},this.onProgress=(Ut,Kt)=>{const un=this.getFileItem(Kt,this.nzFileList);un.percent=Ut.percent,this.nzChange.emit({event:Ut,file:{...un},fileList:this.nzFileList,type:"progress"}),this.detectChangesList()},this.onSuccess=(Ut,Kt)=>{const nn=this.nzFileList,un=this.getFileItem(Kt,nn);un.status="done",un.response=Ut,this.nzChange.emit({file:{...un},fileList:nn,type:"success"}),this.detectChangesList()},this.onError=(Ut,Kt)=>{const nn=this.nzFileList,un=this.getFileItem(Kt,nn);un.error=Ut,un.status="error",this.nzChange.emit({file:{...un},fileList:nn,type:"error"}),this.detectChangesList()},this.onRemove=Ut=>{this.uploadComp.abort(Ut),Ut.status="removed";const Kt="function"==typeof this.nzRemove?this.nzRemove(Ut):null==this.nzRemove||this.nzRemove;(Kt instanceof Y.c?Kt:(0,v.of)(Kt)).pipe((0,pe.p)(nn=>nn)).subscribe(()=>{this.nzFileList=this.removeFileItem(Ut,this.nzFileList),this.nzChange.emit({file:Ut,fileList:this.nzFileList,type:"removed"}),this.nzFileListChange.emit(this.nzFileList),this.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}fileToObject(B){return{lastModified:B.lastModified,lastModifiedDate:B.lastModifiedDate,name:B.filename||B.name,size:B.size,type:B.type,uid:B.uid,response:B.response,error:B.error,percent:0,originFileObj:B}}getFileItem(B,ve){return ve.filter(Qe=>Qe.uid===B.uid)[0]}removeFileItem(B,ve){return ve.filter(Qe=>Qe.uid!==B.uid)}fileDrop(B){B.type!==this.dragState&&(this.dragState=B.type,this.setClassMap())}detectChangesList(){this.cdr.detectChanges(),this.listComp?.detectChanges()}setClassMap(){let B=[];"drag"===this.nzType?(this.nzFileList.some(ve=>"uploading"===ve.status)&&B.push(`${this.prefixCls}-drag-uploading`),"dragover"===this.dragState&&B.push(`${this.prefixCls}-drag-hover`)):B=[`${this.prefixCls}-select-${this.nzListType}`],this.classList=[this.prefixCls,`${this.prefixCls}-${this.nzType}`,...B,this.nzDisabled&&`${this.prefixCls}-disabled`||"","rtl"===this.dir&&`${this.prefixCls}-rtl`||""].filter(ve=>!!ve),this.cdr.detectChanges()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,le.Q)(this.destroy$)).subscribe(B=>{this.dir=B,this.setClassMap(),this.cdr.detectChanges()}),this.i18n.localeChange.pipe((0,le.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Upload"),this.detectChangesList()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>(0,re.R)(this.document.body,"drop").pipe((0,le.Q)(this.destroy$)).subscribe(B=>{B.preventDefault(),B.stopPropagation()}))}ngOnChanges(){this.zipOptions().setClassMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(ve){return new(ve||E)(m.rXU(m.SKi),m.rXU(fe.qQ),m.rXU(m.gRc),m.rXU(ae.Og),m.rXU(Ze.dS,8))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["nz-upload"]],viewQuery:function(ve,Qe){if(1&ve&&(m.GBs(Yt,5),m.GBs(rt,5)),2&ve){let at;m.mGM(at=m.lsd())&&(Qe.uploadComp=at.first),m.mGM(at=m.lsd())&&(Qe.listComp=at.first)}},hostVars:2,hostBindings:function(ve,Qe){2&ve&&m.AVh("ant-upload-picture-card-wrapper","picture-card"===Qe.nzListType)},inputs:{nzType:"nzType",nzLimit:"nzLimit",nzSize:"nzSize",nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzDirectory:"nzDirectory",nzOpenFileDialogOnClick:"nzOpenFileDialogOnClick",nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:"nzDisabled",nzHeaders:"nzHeaders",nzListType:"nzListType",nzMultiple:"nzMultiple",nzName:"nzName",nzShowUploadList:"nzShowUploadList",nzShowButton:"nzShowButton",nzWithCredentials:"nzWithCredentials",nzRemove:"nzRemove",nzPreview:"nzPreview",nzPreviewFile:"nzPreviewFile",nzPreviewIsImage:"nzPreviewIsImage",nzTransformFile:"nzTransformFile",nzDownload:"nzDownload",nzIconRender:"nzIconRender",nzFileListRender:"nzFileListRender"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],standalone:!0,features:[m.OA$,m.aNF],ngContentSelectors:qe,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],["select",""],["pic",""],["listComp",""],["uploadComp",""],[4,"ngIf","ngIfElse"],[3,"display","locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir",4,"ngIf"],[4,"ngIf"],[3,"locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["nz-upload-btn","",3,"options"],[3,"ngTemplateOutlet"],[3,"drop","dragover","dragleave","ngClass"],["nz-upload-btn","",1,"ant-upload-btn",3,"options"],[1,"ant-upload-drag-container"]],template:function(ve,Qe){if(1&ve&&(m.NAR(),m.DNE(0,It,2,2,"ng-template",null,0,m.C5r)(2,Rt,1,0,"ng-template",null,1,m.C5r)(4,Ft,4,5,"ng-template",null,2,m.C5r)(6,kn,7,4,"ng-container",7)(7,De,1,2,"ng-template",null,3,m.C5r)(9,$,2,2,"ng-template",null,4,m.C5r)),2&ve){const at=m.sdS(8);m.R7$(6),m.Y8G("ngIf","drag"===Qe.nzType)("ngIfElse",at)}},dependencies:[w,fe.bT,fe.T3,fe.YU,R],encapsulation:2,changeDetection:0})}return(0,Z.Cg)([(0,Se.YI)()],E.prototype,"nzLimit",void 0),(0,Z.Cg)([(0,Se.YI)()],E.prototype,"nzSize",void 0),(0,Z.Cg)([(0,Se.H3)()],E.prototype,"nzDirectory",void 0),(0,Z.Cg)([(0,Se.H3)()],E.prototype,"nzOpenFileDialogOnClick",void 0),(0,Z.Cg)([(0,Se.H3)()],E.prototype,"nzDisabled",void 0),(0,Z.Cg)([(0,Se.H3)()],E.prototype,"nzMultiple",void 0),(0,Z.Cg)([(0,Se.H3)()],E.prototype,"nzShowButton",void 0),(0,Z.Cg)([(0,Se.H3)()],E.prototype,"nzWithCredentials",void 0),E})(),I=(()=>{class E{static#e=this.\u0275fac=function(ve){return new(ve||E)};static#t=this.\u0275mod=m.$C({type:E});static#n=this.\u0275inj=m.G2t({imports:[T,w]})}return E})()}}]);