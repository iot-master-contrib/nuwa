(self.webpackChunkiot_master_nuwa=self.webpackChunkiot_master_nuwa||[]).push([[418],{7418:(rl,al,tt)=>{"use strict";tt.r(al),tt.d(al,{EditorModule:()=>wut});var Pn={};tt.r(Pn),tt.d(Pn,{Arc:()=>Zg,BezierCurve:()=>ip,BoundingRect:()=>xt,Circle:()=>Qr,CompoundPath:()=>qg,Ellipse:()=>Ug,Group:()=>ft,Image:()=>Ye,IncrementalDisplayable:()=>t7,Line:()=>He,LinearGradient:()=>cu,OrientedBoundingRect:()=>op,Path:()=>It,Point:()=>_t,Polygon:()=>Tn,Polyline:()=>Dn,RadialGradient:()=>Lz,Rect:()=>Ot,Ring:()=>np,Sector:()=>wn,Text:()=>Vt,applyTransform:()=>_i,clipPointsByRect:()=>Hz,clipRectByRect:()=>o7,createIcon:()=>pu,extendPath:()=>i7,extendShape:()=>e7,getShapeClass:()=>Qg,getTransform:()=>lo,groupTransition:()=>hu,initProps:()=>le,isElementRemoved:()=>cs,lineLineIntersect:()=>Xz,linePolygonIntersect:()=>fu,makeImage:()=>Bz,makePath:()=>up,mergePath:()=>Qn,registerShape:()=>yi,removeElement:()=>Wr,removeElementWithFadeOut:()=>Zl,resizePath:()=>Fz,setTooltipConfig:()=>Ds,subPixelOptimize:()=>cp,subPixelOptimizeLine:()=>Ts,subPixelOptimizeRect:()=>r7,transformDirection:()=>hp,traverseElements:()=>Jr,updateProps:()=>Gt});var U=tt(177),rn=tt(6530),l=tt(4438),ol=tt(345),sl=tt(2126),er=tt(7094),Fn=tt(9558),vt=tt(5103),an=tt(513),Rn=tt(6389),nr=tt(5930),qe=tt(1011);const td=[[["","more",""]],"*"],ed=["[more]","*"],ll=n=>({close:n});let bc=(()=>{class n{constructor(){this.open=!0,this.title="\u6807\u9898"}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-collapse"]],inputs:{open:"open",title:"title"},ngContentSelectors:ed,decls:9,vars:5,consts:[[1,"header",3,"click"],["nz-icon","","nzType","caret-right","nzTheme","outline",3,"nzRotate"],[1,"title"],[1,"content",3,"ngClass"],[1,"inner"]],template:function(i,r){1&i&&(l.NAR(td),l.j41(0,"div",0),l.bIt("click",function(){return r.open=!r.open}),l.nrm(1,"span",1),l.j41(2,"span",2),l.EFF(3),l.k0s(),l.j41(4,"span"),l.SdG(5),l.k0s()(),l.j41(6,"div",3)(7,"div",4),l.SdG(8,1),l.k0s()()),2&i&&(l.R7$(),l.Y8G("nzRotate",r.open?90:0),l.R7$(2),l.JRh(r.title),l.R7$(3),l.Y8G("ngClass",l.eq3(3,ll,!r.open)))},dependencies:[U.YU,vt.Dn,Rn.c],styles:[".header[_ngcontent-%COMP%]{border-top:1px solid #a8a8a8;border-bottom:1px solid #a8a8a8;padding:4px;background-color:#f0f0f0;cursor:pointer;font-weight:700;font-size:1.1em;-webkit-user-select:none;user-select:none;align-items:center;display:flex}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{padding:4px}.content.close[_ngcontent-%COMP%]{height:0;max-height:0;overflow:hidden}"]})}return n})(),Cc=(()=>{class n{constructor(t){this.san=t}transform(t,...i){return this.san.bypassSecurityTrustHtml(t)}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(ol.up,16))};static#e=this.\u0275pipe=l.EJ8({name:"html",type:n,pure:!0})}return n})();function nd(n,e){1&n&&l.nrm(0,"span",7)}function Sc(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",8),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.more())}),l.EFF(1,"\u66f4\u591a"),l.k0s()}}function xc(n,e){if(1&n&&l.nrm(0,"img",14),2&n){const t=l.XpG().$implicit;l.Y8G("src",t.icon,l.B4B)("alt",t.name)}}function Be(n,e){if(1&n&&(l.nrm(0,"div",15),l.nI1(1,"html")),2&n){const t=l.XpG().$implicit;l.Y8G("innerHTML",l.bMT(1,1,t.svg),l.npT)}}function K(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",11),l.bIt("dragstart",function(r){const a=l.eBV(t).$implicit,o=l.XpG(2);return l.Njj(o.onDragStart(r,a))}),l.DNE(1,xc,1,2,"img",12)(2,Be,2,3,"div",13),l.k0s()}if(2&n){const t=e.$implicit;l.Y8G("title",t.name),l.R7$(),l.Y8G("ngIf",t.icon),l.R7$(),l.Y8G("ngIf",t.svg)}}function ut(n,e){if(1&n&&(l.j41(0,"app-collapse",9),l.DNE(1,K,3,3,"div",10),l.k0s()),2&n){const t=e.$implicit;l.Y8G("title",t.name),l.R7$(),l.Y8G("ngForOf",t.components)}}let Wt=(()=>{class n{constructor(t){this.cs=t,this.onDrag=new l.bkB}onDragStart(t,i){console.log("drag",i.id),this.onDrag.emit({event:t,component:i})}handleClick(){}more(){}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Fn.b))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-library"]],outputs:{onDrag:"onDrag"},decls:9,vars:3,consts:[["suffixIconSearch",""],["suffixIconButton",""],[1,"header"],["nzSearch","",3,"nzSuffix","nzAddOnAfter"],["type","text","nz-input","","placeholder","\u63a7\u4ef6\u540d\u79f0"],[1,"collections"],[3,"title",4,"ngFor","ngForOf"],["nz-icon","","nzType","search"],["nz-button","",3,"click"],[3,"title"],["class","item","draggable","true",3,"title","dragstart",4,"ngFor","ngForOf"],["draggable","true",1,"item",3,"dragstart","title"],[3,"src","alt",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"src","alt"],[3,"innerHTML"]],template:function(i,r){if(1&i&&(l.j41(0,"div",2)(1,"nz-input-group",3),l.nrm(2,"input",4),l.k0s(),l.DNE(3,nd,1,0,"ng-template",null,0,l.C5r)(5,Sc,2,0,"ng-template",null,1,l.C5r),l.k0s(),l.j41(7,"div",5),l.DNE(8,ut,2,2,"app-collapse",6),l.k0s()),2&i){const a=l.sdS(4),o=l.sdS(6);l.R7$(),l.Y8G("nzSuffix",a)("nzAddOnAfter",o),l.R7$(7),l.Y8G("ngForOf",r.cs.collections)}},dependencies:[U.Sq,U.bT,vt.Dn,an.aO,Rn.c,nr.p,qe.Sy,qe.tg,qe.vN,bc,Cc],styles:["[_nghost-%COMP%]{height:100%;overflow:hidden;-webkit-user-select:none;user-select:none;border-right:1px solid #a8a8a8;position:relative;display:flex;flex-direction:column}.header[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:5px}.collections[_ngcontent-%COMP%]{flex:1;overflow:auto}.more-btn[_ngcontent-%COMP%]{width:100%;text-align:center;position:absolute;bottom:0}.item[_ngcontent-%COMP%]{display:inline-block;text-align:center;padding:4px;cursor:pointer}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:30px;height:30px}.item[_ngcontent-%COMP%]     svg{width:30px;height:30px}"]})}return n})();var ge,n,Ht,R=tt(1325);class Ti extends R.Ss{get model(){return this.graph.model}get view(){return this.graph.renderer.findViewByCell(this.node)}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return`${this.containerClassName}-resize`}get rotateClassName(){return`${this.containerClassName}-rotate`}constructor(e,t,i){super(),this.node=t,this.graph=i,this.options=Object.assign(Object.assign({},ge.defaultOptions),e),this.render(),this.startListening()}startListening(){this.delegateEvents({[`mousedown .${this.resizeClassName}`]:"startResizing",[`touchstart .${this.resizeClassName}`]:"startResizing",[`mousedown .${this.rotateClassName}`]:"startRotating",[`touchstart .${this.rotateClassName}`]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this)}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this)}renderHandles(){this.container=document.createElement("div");const e=document.createElement("div");R.Jf.attr(e,"draggable","false");const t=e.cloneNode(!0);R.Jf.addClass(t,this.rotateClassName);const i=ge.POSITIONS.map(r=>{const a=e.cloneNode(!0);return R.Jf.addClass(a,this.resizeClassName),R.Jf.attr(a,"data-position",r),a});this.empty(),R.Jf.append(this.container,[...i,t])}render(){return this.renderHandles(),this.view&&this.view.addClass(ge.NODE_CLS),R.Jf.addClass(this.container,this.containerClassName),R.Jf.toggleClass(this.container,"no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing),R.Jf.toggleClass(this.container,"no-resize",!this.options.resizable),R.Jf.toggleClass(this.container,"no-rotate",!this.options.rotatable),this.options.className&&R.Jf.addClass(this.container,this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const e=this.graph.matrix(),t=this.node.getBBox();t.x*=e.a,t.x+=e.e,t.y*=e.d,t.y+=e.f,t.width*=e.a,t.height*=e.d;const i=R.uM.normalize(this.node.getAngle());return R.Jf.css(this.container,{transform:0!==i?`rotate(${i}deg)`:"",width:t.width,height:t.height,left:t.x,top:t.y}),this.updateResizerDirections(),this}remove(){return this.view&&this.view.removeClass(ge.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const e=R.uM.normalize(this.node.getAngle()),t=Math.floor(e*(ge.DIRECTIONS.length/360));if(t!==this.prevShift){const i=ge.DIRECTIONS.slice(t).concat(ge.DIRECTIONS.slice(0,t)),r=o=>`${this.containerClassName}-cursor-${o}`;this.container.querySelectorAll(`.${this.resizeClassName}`).forEach((o,s)=>{R.Jf.removeClass(o,ge.DIRECTIONS.map(u=>r(u)).join(" ")),R.Jf.addClass(o,r(i[s]))}),this.prevShift=t}}getTrueDirection(e){const t=R.uM.normalize(this.node.getAngle());let i=ge.POSITIONS.indexOf(e);return i+=Math.floor(t*(ge.POSITIONS.length/360)),i%=ge.POSITIONS.length,ge.POSITIONS[i]}toValidResizeDirection(e){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[e]||e}startResizing(e){e.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const t=R.Jf.attr(e.target,"data-position");this.prepareResizing(e,t),this.startAction(e)}prepareResizing(e,t){const i=this.getTrueDirection(t);let r=0,a=0;t.split("-").forEach(c=>{r={left:-1,right:1}[c]||r,a={top:-1,bottom:1}[c]||a});const o=this.toValidResizeDirection(t),s={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[o],u=R.uM.normalize(this.node.getAngle());this.setEventData(e,{selector:s,direction:o,trueDirection:i,relativeDirection:t,angle:u,resizeX:r,resizeY:a,action:"resizing"})}startRotating(e){e.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const t=this.node.getBBox().getCenter(),i=this.normalizeEvent(e),r=this.graph.snapToGrid(i.clientX,i.clientY);this.setEventData(e,{center:t,action:"rotating",angle:R.uM.normalize(this.node.getAngle()),start:R.bR.create(r).theta(t)}),this.startAction(e)}onMouseMove(e){const t=this.graph.findViewByCell(this.node);let i=this.getEventData(e);if(i.action){const r=this.normalizeEvent(e);let a=r.clientX,o=r.clientY;const s=this.graph.getPlugin("scroller"),u=this.options.restrictedResizing;if(!0===u||"number"==typeof u){const d=!0===u?0:u,v=s?Math.max(d,8):d,g=this.graph.container.getBoundingClientRect();a=R.Dc.clamp(a,g.left+v,g.right-v),o=R.Dc.clamp(o,g.top+v,g.bottom-v)}else this.options.autoScrollOnResizing&&s&&s.autoScroll(a,o);const c=this.graph.snapToGrid(a,o),h=this.graph.getGridSize(),p=this.node,f=this.options;if("resizing"===i.action){i.resized||(t&&(t.addClass("node-resizing"),this.notify("node:resize",e,t)),i.resized=!0);const d=p.getBBox(),v=R.bR.create(c).rotate(i.angle,d.getCenter()).diff(d[i.selector]);let g=i.resizeX?v.x*i.resizeX:d.width,m=i.resizeY?v.y*i.resizeY:d.height;const y=g,_=m;if(g=R.fZ.snapToGrid(g,h),m=R.fZ.snapToGrid(m,h),g=Math.max(g,f.minWidth||h),m=Math.max(m,f.minHeight||h),g=Math.min(g,f.maxWidth||1/0),m=Math.min(m,f.maxHeight||1/0),f.preserveAspectRatio){const C=d.width*m/d.height;g<C?m=d.height*g/d.width:g=C}const b=i.relativeDirection;if(f.allowReverse&&(y<=-g||_<=-m)){let C;"left"===b?y<=-g&&(C="right"):"right"===b?y<=-g&&(C="left"):"top"===b?_<=-m&&(C="bottom"):"bottom"===b?_<=-m&&(C="top"):"top-left"===b?y<=-g&&_<=-m?C="bottom-right":y<=-g?C="top-right":_<=-m&&(C="bottom-left"):"top-right"===b?y<=-g&&_<=-m?C="bottom-left":y<=-g?C="top-left":_<=-m&&(C="bottom-right"):"bottom-left"===b?y<=-g&&_<=-m?C="top-right":y<=-g?C="bottom-right":_<=-m&&(C="top-left"):"bottom-right"===b&&(y<=-g&&_<=-m?C="top-left":y<=-g?C="bottom-left":_<=-m&&(C="top-right"));const x=C;this.stopHandle();const S=this.container.querySelector(`.${this.resizeClassName}[data-position="${x}"]`);this.startHandle(S),this.prepareResizing(e,x),this.onMouseMove(e)}d.width===g&&d.height===m||(p.resize(g,m,{ui:!0,direction:i.direction,relativeDirection:i.relativeDirection,trueDirection:i.trueDirection,minWidth:f.minWidth,minHeight:f.minHeight,maxWidth:f.maxWidth,maxHeight:f.maxHeight,preserveAspectRatio:!0===f.preserveAspectRatio}),this.notify("node:resizing",e,t))}else if("rotating"===i.action){i.rotated||(t&&(t.addClass("node-rotating"),this.notify("node:rotate",e,t)),i.rotated=!0);const d=p.getAngle(),v=i.start-R.bR.create(c).theta(i.center);let g=i.angle+v;f.rotateGrid&&(g=R.fZ.snapToGrid(g,f.rotateGrid)),g=R.uM.normalize(g),d!==g&&(p.rotate(g,{absolute:!0}),this.notify("node:rotating",e,t))}}}onMouseUp(e){const t=this.getEventData(e);t.action&&(this.stopAction(e),this.model.stopBatch("resizing"===t.action?"resize":"rotate",{cid:this.cid}))}startHandle(e){if(this.handle=e||null,R.Jf.addClass(this.container,`${this.containerClassName}-active`),e){R.Jf.addClass(e,`${this.containerClassName}-active-handle`);const t=e.getAttribute("data-position");if(t){const i=ge.DIRECTIONS[ge.POSITIONS.indexOf(t)];R.Jf.addClass(this.container,`${this.containerClassName}-cursor-${i}`)}}}stopHandle(){if(R.Jf.removeClass(this.container,`${this.containerClassName}-active`),this.handle){R.Jf.removeClass(this.handle,`${this.containerClassName}-active-handle`);const e=this.handle.getAttribute("data-position");if(e){const t=ge.DIRECTIONS[ge.POSITIONS.indexOf(e)];R.Jf.removeClass(this.container,`${this.containerClassName}-cursor-${t}`)}this.handle=null}}startAction(e){this.startHandle(e.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(ge.documentEvents,e.data)}stopAction(e){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const t=this.graph.findViewByCell(this.node),i=this.getEventData(e);t&&(t.removeClass(`node-${i.action}`),"resizing"===i.action&&i.resized?this.notify("node:resized",e,t):"rotating"===i.action&&i.rotated&&this.notify("node:rotated",e,t))}notify(e,t,i,r={}){if(i){const a=i.graph,o=a.view.normalizeEvent(t),s=a.snapToGrid(o.clientX,o.clientY);this.trigger(e,Object.assign({e:o,view:i,node:i.cell,cell:i.cell,x:s.x,y:s.y},r))}}dispose(){this.stopListening(),this.remove(),this.off()}}!function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)}([R.Ss.dispose()],Ti.prototype,"dispose",null),(n=ge||(ge={})).NODE_CLS="has-widget-transform",n.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],n.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],n.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},n.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0},R.ke.prototype.createTransformWidget=function(n){const e=this.getPlugin("transform");return e&&e.createWidget(n),this},R.ke.prototype.clearTransformWidgets=function(){const n=this.getPlugin("transform");return n&&n.clearWidgets(),this};class oi extends R.Nb{constructor(e={}){super(),this.name="transform",this.widgets=new Map,this.disabled=!1,this.options=e,R.H.ensure(this.name,".x6-widget-transform {\n  position: absolute;\n  box-sizing: content-box !important;\n  margin: -5px 0 0 -5px;\n  padding: 4px;\n  border: 1px dashed #000;\n  border-radius: 5px;\n  user-select: none;\n  pointer-events: none;\n}\n.x6-widget-transform > div {\n  position: absolute;\n  box-sizing: border-box;\n  background-color: #fff;\n  border: 1px solid #000;\n  transition: background-color 0.2s;\n  pointer-events: auto;\n  -webkit-user-drag: none;\n  user-drag: none;\n  /* stylelint-disable-line */\n}\n.x6-widget-transform > div:hover {\n  background-color: #d3d3d3;\n}\n.x6-widget-transform-cursor-n {\n  cursor: n-resize;\n}\n.x6-widget-transform-cursor-s {\n  cursor: s-resize;\n}\n.x6-widget-transform-cursor-e {\n  cursor: e-resize;\n}\n.x6-widget-transform-cursor-w {\n  cursor: w-resize;\n}\n.x6-widget-transform-cursor-ne {\n  cursor: ne-resize;\n}\n.x6-widget-transform-cursor-nw {\n  cursor: nw-resize;\n}\n.x6-widget-transform-cursor-se {\n  cursor: se-resize;\n}\n.x6-widget-transform-cursor-sw {\n  cursor: sw-resize;\n}\n.x6-widget-transform-resize {\n  width: 10px;\n  height: 10px;\n  border-radius: 6px;\n}\n.x6-widget-transform-resize[data-position='top-left'] {\n  top: -5px;\n  left: -5px;\n}\n.x6-widget-transform-resize[data-position='top-right'] {\n  top: -5px;\n  right: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom-left'] {\n  bottom: -5px;\n  left: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom-right'] {\n  right: -5px;\n  bottom: -5px;\n}\n.x6-widget-transform-resize[data-position='top'] {\n  top: -5px;\n  left: 50%;\n  margin-left: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom'] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -5px;\n}\n.x6-widget-transform-resize[data-position='left'] {\n  top: 50%;\n  left: -5px;\n  margin-top: -5px;\n}\n.x6-widget-transform-resize[data-position='right'] {\n  top: 50%;\n  right: -5px;\n  margin-top: -5px;\n}\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {\n  display: none;\n}\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {\n  display: none;\n}\n.x6-widget-transform.no-resize .x6-widget-transform-resize {\n  display: none;\n}\n.x6-widget-transform-rotate {\n  top: -20px;\n  left: -20px;\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  cursor: crosshair;\n}\n.x6-widget-transform.no-rotate .x6-widget-transform-rotate {\n  display: none;\n}\n.x6-widget-transform-active {\n  border-color: transparent;\n  pointer-events: all;\n}\n.x6-widget-transform-active > div {\n  display: none;\n}\n.x6-widget-transform-active > .x6-widget-transform-active-handle {\n  display: block;\n  background-color: #808080;\n}\n")}init(e){this.graph=e,!this.disabled&&this.startListening()}startListening(){this.graph.on("node:click",this.onNodeClick,this),this.graph.on("blank:mousedown",this.onBlankMouseDown,this)}stopListening(){this.graph.off("node:click",this.onNodeClick,this),this.graph.off("blank:mousedown",this.onBlankMouseDown,this)}enable(){this.disabled&&(this.disabled=!1,this.startListening())}disable(){this.disabled||(this.disabled=!0,this.stopListening())}isEnabled(){return!this.disabled}createWidget(e){this.clearWidgets();const t=this.createTransform(e);t&&(this.widgets.set(e,t),t.on("*",(i,r)=>{this.trigger(i,r),this.graph.trigger(i,r)}))}onNodeClick({node:e}){this.createWidget(e)}onBlankMouseDown(){this.clearWidgets()}createTransform(e){const t=this.getTransformOptions(e);return t.resizable||t.rotatable?new Ti(t,e,this.graph):null}getTransformOptions(e){this.options.resizing||(this.options.resizing={enabled:!1}),this.options.rotating||(this.options.rotating={enabled:!1}),"boolean"==typeof this.options.resizing&&(this.options.resizing={enabled:this.options.resizing}),"boolean"==typeof this.options.rotating&&(this.options.rotating={enabled:this.options.rotating});const t=oi.parseOptionGroup(this.graph,e,this.options.resizing),i=oi.parseOptionGroup(this.graph,e,this.options.rotating);return{resizable:!!t.enabled,minWidth:t.minWidth||0,maxWidth:t.maxWidth||Number.MAX_SAFE_INTEGER,minHeight:t.minHeight||0,maxHeight:t.maxHeight||Number.MAX_SAFE_INTEGER,orthogonalResizing:"boolean"!=typeof t.orthogonal||t.orthogonal,restrictedResizing:!!t.restrict,autoScrollOnResizing:"boolean"!=typeof t.autoScroll||t.autoScroll,preserveAspectRatio:!!t.preserveAspectRatio,allowReverse:"boolean"!=typeof t.allowReverse||t.allowReverse,rotatable:!!i.enabled,rotateGrid:i.grid||15}}clearWidgets(){this.widgets.forEach((e,t)=>{this.graph.getCellById(t.id)&&e.dispose()}),this.widgets.clear()}dispose(){this.clearWidgets(),this.stopListening(),this.off(),R.H.clean(this.name)}}(function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)})([R.Nb.dispose()],oi.prototype,"dispose",null),function(n){n.parseOptionGroup=function e(t,i,r){const a={};return Object.keys(r||{}).forEach(o=>{const s=r[o];a[o]="function"==typeof s?s.call(t,i):s}),a}}(oi||(oi={}));class wc extends R.Ss{get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}constructor(e){super();const{graph:t}=e,i=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(e,["graph"]);this.graph=t,this.options=Object.assign({},i),this.offset={x:0,y:0},this.render(),this.disabled||this.startListening()}get disabled(){return!0!==this.options.enabled}enable(){this.disabled&&(this.options.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.stopListening())}setFilter(e){this.options.filter=e}render(){const e=this.containerWrapper=new R.Mi("svg"),t=this.horizontal=new R.Mi("line"),i=this.vertical=new R.Mi("line");e.addClass(this.containerClassName),t.addClass(this.horizontalClassName),i.addClass(this.verticalClassName),e.setAttribute("width","100%"),e.setAttribute("height","100%"),t.setAttribute("display","none"),i.setAttribute("display","none"),e.append([t,i]),this.options.className&&e.addClass(this.options.className),this.container=this.containerWrapper.node}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}onBatchStop({name:e,data:t}){"resize"===e&&this.snapOnResizing(t.cell,t)}captureCursorOffset({view:e,x:t,y:i}){const r=e.getDelegatedView();if(r&&this.isNodeMovable(r)){const a=e.cell.getPosition();this.offset={x:t-a.x,y:i-a.y}}}isNodeMovable(e){return e&&e.cell.isNode()&&e.can("nodeMovable")}getRestrictArea(e){const t=this.graph.options.translating.restrict,i="function"==typeof t?R.eY.call(t,this.graph,e):t;return"number"==typeof i?this.graph.transform.getGraphArea().inflate(i):!0===i?this.graph.transform.getGraphArea():i||null}snapOnResizing(e,t){if(this.options.resizing&&!t.snapped&&t.ui&&t.direction&&t.trueDirection){const i=this.graph.renderer.findViewByCell(e);if(i&&i.cell.isNode()){const r=e.getBBox(),a=r.bbox(e.getAngle()),o=a.getTopLeft(),s=a.getBottomRight(),u=R.uM.normalize(e.getAngle()),c=this.options.tolerance||0;let h,p,f,d,v,g;const m={vertical:0,horizontal:0},y=t.direction,_=t.trueDirection,b=t.relativeDirection;m.vertical=-1!==_.indexOf("right")?s.x:o.x,m.horizontal=-1!==_.indexOf("bottom")?s.y:o.y,this.model.getNodes().some(A=>{if(this.isIgnored(e,A))return!1;const k=A.getBBox().bbox(A.getAngle()),P=k.getTopLeft(),N=k.getBottomRight(),O={vertical:[P.x,N.x],horizontal:[P.y,N.y]},L={};return Object.keys(O).forEach(E=>{const V=E,j=O[V].map($=>({position:$,distance:Math.abs($-m[V])})).filter($=>$.distance<=c);L[V]=R.Rw.sortBy(j,$=>$.distance)}),null==h&&L.vertical.length>0&&(h=L.vertical[0].position,p=Math.min(a.y,k.y),f=Math.max(s.y,N.y)-p),null==d&&L.horizontal.length>0&&(d=L.horizontal[0].position,v=Math.min(a.x,k.x),g=Math.max(s.x,N.x)-v),null!=h&&null!=d}),this.hide();let C=0,x=0;(null!=d||null!=h)&&(null!=h&&(C=-1!==_.indexOf("right")?h-s.x:o.x-h),null!=d&&(x=-1!==_.indexOf("bottom")?d-s.y:o.y-d));let S=0,z=0;if(u%90==0)90===u||270===u?(S=x,z=C):(S=C,z=x);else{const A=u>=0&&u<90?1:u>=90&&u<180?4:u>=180&&u<270?3:2;null!=d&&null!=h&&(C<x?(x=0,d=void 0):(C=0,h=void 0));const k=R.uM.toRad(u%90);C&&(S=3===A?C/Math.cos(k):C/Math.sin(k)),x&&(z=3===A?x/Math.cos(k):x/Math.sin(k));const P=1===A||3===A;switch(b){case"top":case"bottom":z=x?x/(P?Math.cos(k):Math.sin(k)):C/(P?Math.sin(k):Math.cos(k));break;case"left":case"right":S=C?C/(P?Math.cos(k):Math.sin(k)):x/(P?Math.sin(k):Math.cos(k))}}switch(b){case"top":case"bottom":S=0;break;case"left":case"right":z=0}const w=this.graph.getGridSize();let T=Math.max(r.width+S,w),D=Math.max(r.height+z,w);t.minWidth&&t.minWidth>w&&(T=Math.max(T,t.minWidth)),t.minHeight&&t.minHeight>w&&(D=Math.max(D,t.minHeight)),t.maxWidth&&(T=Math.min(T,t.maxWidth)),t.maxHeight&&(D=Math.min(D,t.maxHeight)),t.preserveAspectRatio&&(z<S?D=T*(r.height/r.width):T=D*(r.width/r.height)),(T!==r.width||D!==r.height)&&(e.resize(T,D,{direction:y,relativeDirection:b,trueDirection:_,snapped:!0,snaplines:this.cid,restrict:this.getRestrictArea(i)}),f&&(f+=D-r.height),g&&(g+=T-r.width));const I=e.getBBox().bbox(u);h&&Math.abs(I.x-h)>1&&Math.abs(I.width+I.x-h)>1&&(h=void 0),d&&Math.abs(I.y-d)>1&&Math.abs(I.height+I.y-d)>1&&(d=void 0),this.update({verticalLeft:h,verticalTop:p,verticalHeight:f,horizontalTop:d,horizontalLeft:v,horizontalWidth:g})}}}snapOnMoving({view:e,e:t,x:i,y:r}){const a=e.getEventData(t).delegatedView||e;if(!this.isNodeMovable(a))return;const o=a.cell,s=o.getSize(),u=o.getPosition(),c=new R.M_(i-this.offset.x,r-this.offset.y,s.width,s.height),h=o.getAngle(),p=c.getCenter(),f=c.bbox(h),d=f.getTopLeft(),v=f.getBottomRight(),g=this.options.tolerance||0;let m,y,_,b,C,x,S=0,z=0;if(this.model.getNodes().some(w=>{if(this.isIgnored(o,w))return!1;const T=w.getBBox().bbox(w.getAngle()),D=T.getCenter(),I=T.getTopLeft(),A=T.getBottomRight();return null==m&&(Math.abs(D.x-p.x)<g?(m=D.x,S=.5):Math.abs(I.x-d.x)<g?(m=I.x,S=0):Math.abs(I.x-v.x)<g?(m=I.x,S=1):Math.abs(A.x-v.x)<g?(m=A.x,S=1):Math.abs(A.x-d.x)<g&&(m=A.x),null!=m&&(y=Math.min(f.y,T.y),_=Math.max(v.y,A.y)-y)),null==b&&(Math.abs(D.y-p.y)<g?(b=D.y,z=.5):Math.abs(I.y-d.y)<g?b=I.y:Math.abs(I.y-v.y)<g?(b=I.y,z=1):Math.abs(A.y-v.y)<g?(b=A.y,z=1):Math.abs(A.y-d.y)<g&&(b=A.y),null!=b&&(C=Math.min(f.x,T.x),x=Math.max(v.x,A.x)-C)),null!=m&&null!=b}),this.hide(),null!=b||null!=m){null!=b&&(f.y=b-z*f.height),null!=m&&(f.x=m-S*f.width);const w=f.getCenter(),I=w.x-c.width/2-u.x,A=w.y-c.height/2-u.y;(0!==I||0!==A)&&(o.translate(I,A,{snapped:!0,restrict:this.getRestrictArea(a)}),x&&(x+=I),_&&(_+=A)),this.update({verticalLeft:m,verticalTop:y,verticalHeight:_,horizontalTop:b,horizontalLeft:C,horizontalWidth:x})}}isIgnored(e,t){return t.id===e.id||t.isDescendantOf(e)||!this.filter(t)}filter(e){const t=this.options.filter;return Array.isArray(t)?t.some(i=>"string"==typeof i?e.shape===i:e.id===i.id):"function"!=typeof t||R.eY.call(t,this.graph,e)}update(e){if(e.horizontalTop){const t=this.graph.localToGraph(new R.bR(e.horizontalLeft,e.horizontalTop)),i=this.graph.localToGraph(new R.bR(e.horizontalLeft+e.horizontalWidth,e.horizontalTop));this.horizontal.setAttributes({x1:this.options.sharp?`${t.x}`:"0",y1:`${t.y}`,x2:this.options.sharp?`${i.x}`:"100%",y2:`${i.y}`,display:"inherit"})}else this.horizontal.setAttribute("display","none");if(e.verticalLeft){const t=this.graph.localToGraph(new R.bR(e.verticalLeft,e.verticalTop)),i=this.graph.localToGraph(new R.bR(e.verticalLeft,e.verticalTop+e.verticalHeight));this.vertical.setAttributes({x1:`${t.x}`,y1:this.options.sharp?`${t.y}`:"0",x2:`${i.x}`,y2:this.options.sharp?`${i.y}`:"100%",display:"inherit"})}else this.vertical.setAttribute("display","none");this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.resetTimer(),null==this.container.parentNode&&this.graph.container.appendChild(this.container),this}hide(){this.resetTimer(),this.vertical.setAttribute("display","none"),this.horizontal.setAttribute("display","none");const e=this.options.clean,t="number"==typeof e?e:!1!==e?3e3:0;return t>0&&(this.timer=window.setTimeout(()=>{null!==this.container.parentNode&&this.unmount()},t)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}!function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)}([R.Ss.dispose()],wc.prototype,"dispose",null),R.ke.prototype.isSnaplineEnabled=function(){const n=this.getPlugin("snapline");return!!n&&n.isEnabled()},R.ke.prototype.enableSnapline=function(){const n=this.getPlugin("snapline");return n&&n.enable(),this},R.ke.prototype.disableSnapline=function(){const n=this.getPlugin("snapline");return n&&n.disable(),this},R.ke.prototype.toggleSnapline=function(){const n=this.getPlugin("snapline");return n&&n.toggleEnabled(),this},R.ke.prototype.hideSnapline=function(){const n=this.getPlugin("snapline");return n&&n.hide(),this},R.ke.prototype.setSnaplineFilter=function(n){const e=this.getPlugin("snapline");return e&&e.setFilter(n),this},R.ke.prototype.isSnaplineOnResizingEnabled=function(){const n=this.getPlugin("snapline");return!!n&&n.isOnResizingEnabled()},R.ke.prototype.enableSnaplineOnResizing=function(){const n=this.getPlugin("snapline");return n&&n.enableOnResizing(),this},R.ke.prototype.disableSnaplineOnResizing=function(){const n=this.getPlugin("snapline");return n&&n.disableOnResizing(),this},R.ke.prototype.toggleSnaplineOnResizing=function(n){const e=this.getPlugin("snapline");return e&&e.toggleOnResizing(n),this},R.ke.prototype.isSharpSnapline=function(){const n=this.getPlugin("snapline");return!!n&&n.isSharp()},R.ke.prototype.enableSharpSnapline=function(){const n=this.getPlugin("snapline");return n&&n.enableSharp(),this},R.ke.prototype.disableSharpSnapline=function(){const n=this.getPlugin("snapline");return n&&n.disableSharp(),this},R.ke.prototype.toggleSharpSnapline=function(n){const e=this.getPlugin("snapline");return e&&e.toggleSharp(n),this},R.ke.prototype.getSnaplineTolerance=function(){const n=this.getPlugin("snapline");if(n)return n.getTolerance()},R.ke.prototype.setSnaplineTolerance=function(n){const e=this.getPlugin("snapline");return e&&e.setTolerance(n),this};class $t extends R.jG{constructor(e={}){super(),this.name="snapline",this.options=Object.assign({enabled:!0,tolerance:10},e),R.H.ensure(this.name,".x6-widget-snapline {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n}\n.x6-widget-snapline-vertical,\n.x6-widget-snapline-horizontal {\n  stroke: #2ecc71;\n  stroke-width: 1px;\n}\n")}init(e){this.snaplineImpl=new wc(Object.assign(Object.assign({},this.options),{graph:e}))}isEnabled(){return!this.snaplineImpl.disabled}enable(){this.snaplineImpl.enable()}disable(){this.snaplineImpl.disable()}toggleEnabled(e){if(null==e)return this.isEnabled()?this.disable():this.enable(),this;e!==this.isEnabled()&&(e?this.enable():this.disable())}hide(){return this.snaplineImpl.hide(),this}setFilter(e){return this.snaplineImpl.setFilter(e),this}isOnResizingEnabled(){return!0===this.snaplineImpl.options.resizing}enableOnResizing(){return this.snaplineImpl.options.resizing=!0,this}disableOnResizing(){return this.snaplineImpl.options.resizing=!1,this}toggleOnResizing(e){return null!=e?e!==this.isOnResizingEnabled()&&(e?this.enableOnResizing():this.disableOnResizing()):this.isOnResizingEnabled()?this.disableOnResizing():this.enableOnResizing(),this}isSharp(){return!0===this.snaplineImpl.options.sharp}enableSharp(){return this.snaplineImpl.options.sharp=!0,this}disableSharp(){return this.snaplineImpl.options.sharp=!1,this}toggleSharp(e){return null!=e?e!==this.isSharp()&&(e?this.enableSharp():this.disableSharp()):this.isSharp()?this.disableSharp():this.enableSharp(),this}getTolerance(){return this.snaplineImpl.options.tolerance}setTolerance(e){return this.snaplineImpl.options.tolerance=e,this}captureCursorOffset(e){this.snaplineImpl.captureCursorOffset(e)}snapOnMoving(e){this.snaplineImpl.snapOnMoving(e)}dispose(){this.snaplineImpl.dispose(),R.H.clean(this.name)}}!function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)}([R.jG.dispose()],$t.prototype,"dispose",null);class oe{constructor(){this.cells=[]}copy(e,t,i={}){this.options=Object.assign({},i);const a=(R.Kx.isModel(t)?t:t.model).cloneSubGraph(e,i);this.cells=R.Rw.sortBy(Object.keys(a).map(o=>a[o]),o=>o.isEdge()?2:1),this.serialize(i)}cut(e,t,i={}){this.copy(e,t,i),(R.ke.isGraph(t)?t.model:t).batchUpdate("cut",()=>{e.forEach(a=>a.remove())})}paste(e,t={}){const i=Object.assign(Object.assign({},this.options),t),{offset:r,edgeProps:a,nodeProps:o}=i;let s=20,u=20;r&&(s="number"==typeof r?r:r.dx,u="number"==typeof r?r:r.dy),this.deserialize(i);const c=this.cells;c.forEach(p=>{p.model=null,p.removeProp("zIndex"),(s||u)&&p.translate(s,u),o&&p.isNode()&&p.prop(o),a&&p.isEdge()&&p.prop(a)});const h=R.ke.isGraph(e)?e.model:e;return h.batchUpdate("paste",()=>{h.addCells(this.cells)}),this.copy(c,e,t),c}serialize(e){!1!==e.useLocalStorage&&Ht.save(this.cells)}deserialize(e){if(e.useLocalStorage){const t=Ht.fetch();t&&(this.cells=t)}}isEmpty(e={}){return e.useLocalStorage&&this.deserialize(e),this.cells.length<=0}clean(){this.options={},this.cells=[],Ht.clean()}}(function(n){const e=`${R.TS.prefixCls}.clipboard.cells`;n.save=function t(a){if(window.localStorage){const o=a.map(s=>s.toJSON());localStorage.setItem(e,JSON.stringify(o))}},n.fetch=function i(){if(window.localStorage){const a=localStorage.getItem(e),o=a?JSON.parse(a):[];if(o)return R.Kx.fromJSON(o)}},n.clean=function r(){window.localStorage&&localStorage.removeItem(e)}})(Ht||(Ht={})),R.ke.prototype.isClipboardEnabled=function(){const n=this.getPlugin("clipboard");return!!n&&n.isEnabled()},R.ke.prototype.enableClipboard=function(){const n=this.getPlugin("clipboard");return n&&n.enable(),this},R.ke.prototype.disableClipboard=function(){const n=this.getPlugin("clipboard");return n&&n.disable(),this},R.ke.prototype.toggleClipboard=function(n){const e=this.getPlugin("clipboard");return e&&e.toggleEnabled(n),this},R.ke.prototype.isClipboardEmpty=function(n){const e=this.getPlugin("clipboard");return!e||e.isEmpty(n)},R.ke.prototype.getCellsInClipboard=function(){const n=this.getPlugin("clipboard");return n?n.getCellsInClipboard():[]},R.ke.prototype.cleanClipboard=function(){const n=this.getPlugin("clipboard");return n&&n.clean(),this},R.ke.prototype.copy=function(n,e){const t=this.getPlugin("clipboard");return t&&t.copy(n,e),this},R.ke.prototype.cut=function(n,e){const t=this.getPlugin("clipboard");return t&&t.cut(n,e),this},R.ke.prototype.paste=function(n,e){const t=this.getPlugin("clipboard");return t?t.paste(n,e):[]};class Jt extends R.Nb{get disabled(){return!0!==this.options.enabled}get cells(){return this.clipboardImpl.cells}constructor(e={}){super(),this.name="clipboard",this.options=Object.assign({enabled:!0},e)}init(e){this.graph=e,this.clipboardImpl=new oe,this.clipboardImpl.deserialize(this.options)}isEnabled(){return!this.disabled}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}toggleEnabled(e){return null!=e?e!==this.isEnabled()&&(e?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}isEmpty(e={}){return this.clipboardImpl.isEmpty(e)}getCellsInClipboard(){return this.cells}clean(e){return(!this.disabled||e)&&(this.clipboardImpl.clean(),this.notify("clipboard:changed",{cells:[]})),this}copy(e,t={}){return this.disabled||(this.clipboardImpl.copy(e,this.graph,Object.assign(Object.assign({},this.commonOptions),t)),this.notify("clipboard:changed",{cells:e})),this}cut(e,t={}){return this.disabled||(this.clipboardImpl.cut(e,this.graph,Object.assign(Object.assign({},this.commonOptions),t)),this.notify("clipboard:changed",{cells:e})),this}paste(e={},t=this.graph){return this.disabled?[]:this.clipboardImpl.paste(t,Object.assign(Object.assign({},this.commonOptions),e))}get commonOptions(){return function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(this.options,["enabled"])}notify(e,t){this.trigger(e,t),this.graph.trigger(e,t)}dispose(){this.clean(!0),this.off()}}!function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)}([R.Nb.dispose()],Jt.prototype,"dispose",null);var Ve=tt(7184),Ir=tt.n(Ve);class Ar extends R.jG{get graph(){return this.options.graph}constructor(e){super(),this.options=e;const t=this.graph.getPlugin("scroller");this.container=t?t.container:this.graph.container,e.global?this.target=document:(this.target=this.container,this.disabled||this.target.setAttribute("tabindex","-1"),this.graph.on("cell:mouseup",this.focus,this),this.graph.on("blank:mouseup",this.focus,this)),this.mousetrap=Ar.createMousetrap(this)}get disabled(){return!0!==this.options.enabled}enable(){this.disabled&&(this.options.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))}disable(){this.disabled||(this.options.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}on(e,t,i){this.mousetrap.bind(this.getKeys(e),t,i)}off(e,t){this.mousetrap.unbind(this.getKeys(e),t)}clear(){this.mousetrap.reset()}trigger(e,t){this.mousetrap.trigger(e,t)}focus(e){this.isInputEvent(e.e)||this.target.focus({preventScroll:!0})}getKeys(e){return(Array.isArray(e)?e:[e]).map(t=>this.formatkey(t))}formatkey(e){const t=e.toLocaleLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command").replace("arrowup","up").replace("arrowright","right").replace("arrowdown","down").replace("arrowleft","left"),i=this.options.format;return i?R.eY.call(i,this.graph,t):t}isGraphEvent(e){const t=e.target;return!!t&&(t===this.target||e.currentTarget===this.target||t===document.body||R.Jf.contains(this.container,t))}isInputEvent(e){var t;const i=e.target,r=null===(t=i?.tagName)||void 0===t?void 0:t.toLowerCase();let a=["input","textarea"].includes(r);return"true"===R.Jf.attr(i,"contenteditable")&&(a=!0),a}isEnabledForEvent(e){const t=!this.disabled&&this.isGraphEvent(e),i=this.isInputEvent(e);if(t){if(i&&("Backspace"===e.key||"Delete"===e.key))return!1;if(this.options.guard)return R.eY.call(this.options.guard,this.graph,e)}return t}dispose(){this.mousetrap.reset()}}(function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)})([R.jG.dispose()],Ar.prototype,"dispose",null),function(n){n.createMousetrap=function e(t){const i=new(Ir())(t.target),r=i.stopCallback;return i.stopCallback=(a,o,s)=>!t.isEnabledForEvent(a)||!!r&&r.call(i,a,o,s),i}}(Ar||(Ar={})),R.ke.prototype.isKeyboardEnabled=function(){const n=this.getPlugin("keyboard");return!!n&&n.isEnabled()},R.ke.prototype.enableKeyboard=function(){const n=this.getPlugin("keyboard");return n&&n.enable(),this},R.ke.prototype.disableKeyboard=function(){const n=this.getPlugin("keyboard");return n&&n.disable(),this},R.ke.prototype.toggleKeyboard=function(n){const e=this.getPlugin("keyboard");return e&&e.toggleEnabled(n),this},R.ke.prototype.bindKey=function(n,e,t){const i=this.getPlugin("keyboard");return i&&i.bindKey(n,e,t),this},R.ke.prototype.unbindKey=function(n,e){const t=this.getPlugin("keyboard");return t&&t.unbindKey(n,e),this},R.ke.prototype.clearKeys=function(){const n=this.getPlugin("keyboard");return n&&n.clear(),this},R.ke.prototype.triggerKey=function(n,e){const t=this.getPlugin("keyboard");return t&&t.trigger(n,e),this};class K_ extends R.jG{constructor(e={}){super(),this.name="keyboard",this.options=Object.assign({enabled:!0},e)}init(e){this.keyboardImpl=new Ar(Object.assign(Object.assign({},this.options),{graph:e}))}isEnabled(){return!this.keyboardImpl.disabled}enable(){this.keyboardImpl.enable()}disable(){this.keyboardImpl.disable()}toggleEnabled(e){return null!=e?e!==this.isEnabled()&&(e?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}bindKey(e,t,i){return this.keyboardImpl.on(e,t,i),this}trigger(e,t){return this.keyboardImpl.trigger(e,t),this}clear(){return this.keyboardImpl.clear(),this}unbindKey(e,t){return this.keyboardImpl.off(e,t),this}dispose(){this.keyboardImpl.dispose()}}(function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)})([R.jG.dispose()],K_.prototype,"dispose",null),R.ke.prototype.isHistoryEnabled=function(){const n=this.getPlugin("history");return!!n&&n.isEnabled()},R.ke.prototype.enableHistory=function(){const n=this.getPlugin("history");return n&&n.enable(),this},R.ke.prototype.disableHistory=function(){const n=this.getPlugin("history");return n&&n.disable(),this},R.ke.prototype.toggleHistory=function(n){const e=this.getPlugin("history");return e&&e.toggleEnabled(n),this},R.ke.prototype.undo=function(n){const e=this.getPlugin("history");return e&&e.undo(n),this},R.ke.prototype.redo=function(n){const e=this.getPlugin("history");return e&&e.redo(n),this},R.ke.prototype.undoAndCancel=function(n){const e=this.getPlugin("history");return e&&e.cancel(n),this},R.ke.prototype.canUndo=function(){const n=this.getPlugin("history");return!!n&&n.canUndo()},R.ke.prototype.canRedo=function(){const n=this.getPlugin("history");return!!n&&n.canRedo()},R.ke.prototype.cleanHistory=function(n){const e=this.getPlugin("history");return e&&e.clean(n),this},R.ke.prototype.getHistoryStackSize=function(){return this.getPlugin("history").getSize()},R.ke.prototype.getUndoStackSize=function(){return this.getPlugin("history").getUndoSize()},R.ke.prototype.getRedoStackSize=function(){return this.getPlugin("history").getRedoSize()},R.ke.prototype.getUndoRemainSize=function(){return this.getPlugin("history").getUndoRemainSize()};var me,mn,Q_=function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a};class Go extends R.Nb{constructor(e={}){super(),this.name="history",this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.stackSize=0,this.handlers=[];const{stackSize:t=0}=e;this.stackSize=t,this.options=me.getOptions(e),this.validator=new Go.Validator({history:this,cancelInvalid:this.options.cancelInvalid})}init(e){this.graph=e,this.model=this.graph.model,this.clean(),this.startListening()}isEnabled(){return!this.disabled}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}toggleEnabled(e){return null!=e?e!==this.isEnabled()&&(e?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}undo(e={}){if(!this.disabled){const t=this.undoStack.pop();t&&(this.revertCommand(t,e),this.redoStack.push(t),this.notify("undo",t,e))}return this}redo(e={}){if(!this.disabled){const t=this.redoStack.pop();t&&(this.applyCommand(t,e),this.undoStackPush(t),this.notify("redo",t,e))}return this}cancel(e={}){if(!this.disabled){const t=this.undoStack.pop();t&&(this.revertCommand(t,e),this.redoStack=[],this.notify("cancel",t,e))}return this}getSize(){return this.stackSize}getUndoRemainSize(){return this.stackSize-this.undoStack.length}getUndoSize(){return this.undoStack.length}getRedoSize(){return this.redoStack.length}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}clean(e={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,e),this}get disabled(){return!0!==this.options.enabled}validate(e,...t){return this.validator.validate(e,...t),this}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((e,t)=>{this.handlers[t]=this.addCommand.bind(this,e),this.model.on(e,this.handlers[t])}),this.validator.on("invalid",e=>this.trigger("invalid",e))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((e,t)=>{this.model.off(e,this.handlers[t])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(e){return{batch:!!e&&e.batch,data:{}}}revertCommand(e,t){this.freezed=!0;const i=Array.isArray(e)?me.sortBatchCommands(e):[e];for(let r=i.length-1;r>=0;r-=1){const a=i[r],o=Object.assign(Object.assign({},t),R.D5.pick(a.options,this.options.revertOptionsList||[]));this.executeCommand(a,!0,o)}this.freezed=!1}applyCommand(e,t){this.freezed=!0;const i=Array.isArray(e)?me.sortBatchCommands(e):[e];for(let r=0;r<i.length;r+=1){const a=i[r],o=Object.assign(Object.assign({},t),R.D5.pick(a.options,this.options.applyOptionsList||[]));this.executeCommand(a,!1,o)}this.freezed=!1}executeCommand(e,t,i){const r=this.model,a=r.getCell(e.data.id),o=e.event;if(me.isAddEvent(o)&&t||me.isRemoveEvent(o)&&!t)a&&a.remove(i);else if(me.isAddEvent(o)&&!t||me.isRemoveEvent(o)&&t){const s=e.data;s.node?r.addNode(s.props,i):s.edge&&r.addEdge(s.props,i)}else if(me.isChangeEvent(o)){const s=e.data,u=s.key;if(u&&a){const c=t?s.prev[u]:s.next[u];"attrs"===s.key&&this.ensureUndefinedAttrs(c,t?s.next[u]:s.prev[u])&&(i.dirty=!0),a.prop(u,c,i)}}else{const s=this.options.executeCommand;s&&R.eY.call(s,this,e,t,i)}}addCommand(e,t){if(this.freezed||this.disabled)return;const i=t,r=i.options||{};if(r.dryrun||me.isAddEvent(e)&&this.options.ignoreAdd||me.isRemoveEvent(e)&&this.options.ignoreRemove||me.isChangeEvent(e)&&this.options.ignoreChange)return;const a=this.options.beforeAddCommand;if(null!=a&&!1===R.eY.call(a,this,e,t))return;"cell:change:*"===e&&(e=`cell:change:${i.key}`);const o=i.cell,s=R.Kx.isModel(o);let u;if(this.batchCommands){if(u=this.batchCommands[Math.max(this.lastBatchIndex,0)],this.lastBatchIndex>=0&&(s&&!u.modelChange||u.data.id!==o.id||u.event!==e)){const f=this.batchCommands.findIndex(d=>(s&&d.modelChange||d.data.id===o.id)&&d.event===e);f<0||me.isAddEvent(e)||me.isRemoveEvent(e)?u=this.createCommand({batch:!0}):(u=this.batchCommands[f],this.batchCommands.splice(f,1)),this.batchCommands.push(u),this.lastBatchIndex=this.batchCommands.length-1}}else u=this.createCommand({batch:!1});if(me.isAddEvent(e)||me.isRemoveEvent(e)){const h=u.data;return u.event=e,u.options=r,h.id=o.id,h.props=R.D5.cloneDeep(o.toJSON()),o.isEdge()?h.edge=!0:o.isNode()&&(h.node=!0),this.push(u,r)}if(me.isChangeEvent(e)){const h=t.key,p=u.data;return(!u.batch||!u.event)&&(u.event=e,u.options=r,p.key=h,null==p.prev&&(p.prev={}),p.prev[h]=R.D5.cloneDeep(o.previous(h)),s?u.modelChange=!0:p.id=o.id),null==p.next&&(p.next={}),p.next[h]=R.D5.cloneDeep(o.prop(h)),this.push(u,r)}const c=this.options.afterAddCommand;c&&R.eY.call(c,this,e,t,u),this.push(u,r)}initBatchCommand(e){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(e){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const t=this.filterBatchCommand(this.batchCommands);t.length>0&&(this.redoStack=[],this.undoStackPush(t),this.consolidateCommands(),this.notify("add",t,e)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(e){let t=e.slice();const i=[];for(;t.length>0;){const r=t.shift(),a=r.event,o=r.data.id;if(null!=a&&(null!=o||r.modelChange)){if(me.isAddEvent(a)){const s=t.findIndex(u=>me.isRemoveEvent(u.event)&&u.data.id===o);if(s>=0){t=t.filter((u,c)=>s<c||u.data.id!==o);continue}}else if(me.isRemoveEvent(a)){const s=t.findIndex(u=>me.isAddEvent(u.event)&&u.data.id===o);if(s>=0){t.splice(s,1);continue}}else if(me.isChangeEvent(a)){const s=r.data;if(R.D5.isEqual(s.prev,s.next))continue}i.push(r)}}return i}notify(e,t,i){const r=null==t?null:Array.isArray(t)?t:[t];this.emit(e,{cmds:r,options:i}),this.graph.trigger(`history:${e}`,{cmds:r,options:i}),this.emit("change",{cmds:r,options:i}),this.graph.trigger("history:change",{cmds:r,options:i})}push(e,t){this.redoStack=[],e.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:e,options:t})):(this.undoStackPush(e),this.consolidateCommands(),this.notify("add",e,t))}consolidateCommands(){var e;const t=this.undoStack[this.undoStack.length-1],i=this.undoStack[this.undoStack.length-2];if(!Array.isArray(t))return;const r=new Set(t.map(o=>o.event));if(!(2===r.size&&r.has("cell:change:parent")&&r.has("cell:change:children")&&t.every(o=>{var s;return o.batch&&(null===(s=o.options)||void 0===s?void 0:s.ui)})&&Array.isArray(i)&&1===i.length))return;const a=i[0];"cell:change:position"!==a.event||null===(e=a.options)||void 0===e||!e.ui||(i.push(...t),this.undoStack.pop())}undoStackPush(e){0!==this.stackSize?(this.undoStack.length>=this.stackSize&&this.undoStack.shift(),this.undoStack.push(e)):this.undoStack.push(e)}ensureUndefinedAttrs(e,t){let i=!1;return null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).forEach(r=>{void 0===e[r]&&void 0!==t[r]?(e[r]=void 0,i=!0):"object"==typeof e[r]&&"object"==typeof t[r]&&(i=this.ensureUndefinedAttrs(e[r],t[r]))}),i}dispose(){this.validator.dispose(),this.clean(),this.stopListening(),this.off()}}Q_([R.Nb.dispose()],Go.prototype,"dispose",null),function(n){class e extends R.Nb{constructor(i){super(),this.map={},this.command=i.history,this.cancelInvalid=!1!==i.cancelInvalid,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:i}){return Array.isArray(i)?i.every(r=>this.isValidCommand(r)):this.isValidCommand(i)}isValidCommand(i){if(i.options&&!1===i.options.validation)return!0;let a=null;return(i.event&&this.map[i.event]||[]).forEach(o=>{let s=0;const u=c=>{const h=o[s];s+=1;try{if(!h)return void(a=c);h(c,i,u)}catch(p){u(p)}};u(a)}),!a||(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:a}),!1)}validate(i,...r){const a=Array.isArray(i)?i:i.split(/\s+/);return r.forEach(o=>{if("function"!=typeof o)throw new Error(`${a.join(" ")} requires callback functions.`)}),a.forEach(o=>{null==this.map[o]&&(this.map[o]=[]),this.map[o].push(r)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}Q_([R.Nb.dispose()],e.prototype,"dispose",null),n.Validator=e}(Go||(Go={})),function(n){n.isAddEvent=function e(o){return"cell:added"===o},n.isRemoveEvent=function t(o){return"cell:removed"===o},n.isChangeEvent=function i(o){return null!=o&&o.startsWith("cell:change:")},n.getOptions=function r(o){const s=["cell:added","cell:removed","cell:change:*"],u=["batch:start","batch:stop"],c=o.eventNames?o.eventNames.filter(h=>!(n.isChangeEvent(h)||s.includes(h)||u.includes(h))):s;return Object.assign(Object.assign({enabled:!0},o),{eventNames:c,applyOptionsList:o.applyOptionsList||["propertyPath"],revertOptionsList:o.revertOptionsList||["propertyPath"]})},n.sortBatchCommands=function a(o){const s=[];for(let u=0,c=o.length;u<c;u+=1){const h=o[u];let p=null;if(n.isAddEvent(h.event)){const f=h.data.id;for(let d=0;d<u;d+=1)if(o[d].data.id===f){p=d;break}}null!==p?s.splice(p,0,h):s.push(h)}return s}}(me||(me={}));class J_ extends R.Ss{get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(mn.classNames.box)}get $boxes(){return R.Jf.children(this.container,this.boxClassName)}get handleOptions(){return this.options}constructor(e){super(),this.options=e,this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new R.pM([],{comparator:mn.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.startListening()}startListening(){const e=this.graph,t=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),e.on("scale",this.onGraphTransformed,this),e.on("translate",this.onGraphTransformed,this),e.model.on("updated",this.onModelUpdated,this),t.on("added",this.onCellAdded,this),t.on("removed",this.onCellRemoved,this),t.on("reseted",this.onReseted,this),t.on("updated",this.onCollectionUpdated,this),t.on("node:change:position",this.onNodePositionChanged,this),t.on("cell:changed",this.onCellChanged,this)}stopListening(){const e=this.graph,t=this.collection;this.undelegateEvents(),e.off("scale",this.onGraphTransformed,this),e.off("translate",this.onGraphTransformed,this),e.model.off("updated",this.onModelUpdated,this),t.off("added",this.onCellAdded,this),t.off("removed",this.onCellRemoved,this),t.off("reseted",this.onReseted,this),t.off("updated",this.onCollectionUpdated,this),t.off("node:change:position",this.onNodePositionChanged,this),t.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes()}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:e,options:t}){const{showNodeSelectionBox:i,pointerEvents:r}=this.options,{ui:a,selection:o,translateBy:s,snapped:u}=t;if((!0!==i||r&&"none"===this.getPointerEventsValue(r))&&!this.translating&&!o&&(a&&s&&e.id===s||u)){this.translating=!0;const p=e.position(),f=e.previous("position"),d=p.x-f.x,v=p.y-f.y;(0!==d||0!==v)&&this.translateSelectedNodes(d,v,e,t),this.translating=!1}}onModelUpdated({removed:e}){e&&e.length&&this.unselect(e)}isEmpty(){return this.length<=0}isSelected(e){return this.collection.has(e)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(e,t={}){t.dryrun=!0;const i=this.filter(Array.isArray(e)?e:[e]);return this.collection.add(i,t),this}unselect(e,t={}){return t.dryrun=!0,this.collection.remove(Array.isArray(e)?e:[e],t),this}reset(e,t={}){if(e){if(t.batch){const c=this.filter(Array.isArray(e)?e:[e]);return this.collection.reset(c,Object.assign(Object.assign({},t),{ui:!0})),this}const i=this.cells,r=this.filter(Array.isArray(e)?e:[e]),a={},o={};i.forEach(c=>a[c.id]=c),r.forEach(c=>o[c.id]=c);const s=[],u=[];return r.forEach(c=>{a[c.id]||s.push(c)}),i.forEach(c=>{o[c.id]||u.push(c)}),u.length&&this.unselect(u,Object.assign(Object.assign({},t),{ui:!0})),s.length&&this.select(s,Object.assign(Object.assign({},t),{ui:!0})),0===u.length&&0===s.length&&this.updateContainer(),this}return this.clean(t)}clean(e={}){return this.length&&(!1===e.batch?this.unselect(this.cells,e):this.collection.reset([],Object.assign(Object.assign({},e),{ui:!0}))),this}setFilter(e){this.options.filter=e}setContent(e){this.options.content=e}startSelecting(e){let t,i;e=this.normalizeEvent(e),this.clean();const r=this.graph.container;if(null!=e.offsetX&&null!=e.offsetY&&r.contains(e.target))t=e.offsetX,i=e.offsetY;else{const a=R.Jf.offset(r);t=e.clientX-a.left+window.pageXOffset+r.scrollLeft,i=e.clientY-a.top+window.pageYOffset+r.scrollTop}R.Jf.css(this.container,{top:i,left:t,width:1,height:1}),this.setEventData(e,{action:"selecting",clientX:e.clientX,clientY:e.clientY,offsetX:t,offsetY:i,scrollerX:0,scrollerY:0,moving:!1}),this.delegateDocumentEvents(mn.documentEvents,e.data)}filter(e){const t=this.options.filter;return e.filter(i=>Array.isArray(t)?t.some(r=>"string"==typeof r?i.shape===r:i.id===r.id):"function"!=typeof t||R.eY.call(t,this.graph,i))}stopSelecting(e){const t=this.graph,i=this.getEventData(e);switch(i.action){case"selecting":{let a=R.Jf.width(this.container),o=R.Jf.height(this.container);const s=R.Jf.offset(this.container),u=t.pageToLocal(s.left,s.top),c=t.transform.getScale();a/=c.sx,o/=c.sy;const h=new R.M_(u.x,u.y,a,o),p=this.getCellViewsInArea(h).map(f=>f.cell);this.reset(p,{batch:!0}),this.hideRubberband();break}case"translating":{const a=t.snapToGrid(e.clientX,e.clientY);this.options.following||this.updateSelectedNodesPosition({dx:i.clientX-i.originX,dy:i.clientY-i.originY}),this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",e,a.x,a.y);break}default:this.clean()}}onMouseUp(e){this.getEventData(e).action&&(this.stopSelecting(e),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(e){this.options.following||e.stopPropagation();const t=this.normalizeEvent(e);this.options.movable&&this.startTranslating(t);const i=this.getCellViewFromElem(t.target);this.setEventData(t,{activeView:i});const r=this.graph.snapToGrid(t.clientX,t.clientY);this.notifyBoxEvent("box:mousedown",t,r.x,r.y),this.delegateDocumentEvents(mn.documentEvents,t.data)}startTranslating(e){this.graph.model.startBatch("move-selection");const t=this.graph.snapToGrid(e.clientX,e.clientY);this.setEventData(e,{action:"translating",clientX:t.x,clientY:t.y,originX:t.x,originY:t.y})}getRestrictArea(){const e=this.graph.options.translating.restrict,t="function"==typeof e?R.eY.call(e,this.graph,null):e;return"number"==typeof t?this.graph.transform.getGraphArea().inflate(t):!0===t?this.graph.transform.getGraphArea():t||null}getSelectionOffset(e,t){let i=e.x-t.clientX,r=e.y-t.clientY;const a=this.getRestrictArea();if(a){const o=this.collection.toArray(),s=R.fh.getCellsBBox(o,{deep:!0})||R.M_.create(),u=a.x-s.x,c=a.y-s.y,h=a.x+a.width-(s.x+s.width),p=a.y+a.height-(s.y+s.height);if(i<u&&(i=u),r<c&&(r=c),h<i&&(i=h),p<r&&(r=p),!this.options.following){const f=e.x-t.originX,d=e.y-t.originY;i=f<=u||f>=h?0:i,r=d<=c||d>=p?0:r}}return{dx:i,dy:r}}updateElementPosition(e,t,i){const r=R.Jf.css(e,"left"),a=R.Jf.css(e,"top"),o=r?parseFloat(r):0,s=a?parseFloat(a):0;R.Jf.css(e,"left",o+t),R.Jf.css(e,"top",s+i)}updateSelectedNodesPosition(e){const{dx:t,dy:i}=e;if(t||i)if(this.translateSelectedNodes(t,i),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const r=this.graph.transform.getScale();for(let a=0,o=this.$boxes,s=o.length;a<s;a+=1)this.updateElementPosition(o[a],t*r.sx,i*r.sy);this.updateElementPosition(this.selectionContainer,t*r.sx,i*r.sy)}}autoScrollGraph(e,t){const i=this.graph.getPlugin("scroller");return i?i.autoScroll(e,t):{scrollerX:0,scrollerY:0}}adjustSelection(e){const t=this.normalizeEvent(e),i=this.getEventData(t);switch(i.action){case"selecting":{const a=i;!0!==a.moving&&(R.Jf.appendTo(this.container,this.graph.container),this.showRubberband(),a.moving=!0);const{scrollerX:o,scrollerY:s}=this.autoScrollGraph(t.clientX,t.clientY);a.scrollerX+=o,a.scrollerY+=s;const u=t.clientX-a.clientX+a.scrollerX,c=t.clientY-a.clientY+a.scrollerY,h=parseInt(R.Jf.css(this.container,"left")||"0",10),p=parseInt(R.Jf.css(this.container,"top")||"0",10);R.Jf.css(this.container,{left:u<0?a.offsetX+u:h,top:c<0?a.offsetY+c:p,width:Math.abs(u),height:Math.abs(c)});break}case"translating":{const a=this.graph.snapToGrid(t.clientX,t.clientY),o=i,s=this.getSelectionOffset(a,o);this.options.following?this.updateSelectedNodesPosition(s):this.updateContainerPosition(s),s.dx&&(o.clientX=a.x),s.dy&&(o.clientY=a.y),this.notifyBoxEvent("box:mousemove",e,a.x,a.y);break}}this.boxesUpdated=!1}translateSelectedNodes(e,t,i,r){const a={},o=[];if(i&&(a[i.id]=!0),this.collection.toArray().forEach(s=>{s.getDescendants({deep:!0}).forEach(u=>{a[u.id]=!0})}),r&&r.translateBy){const s=this.graph.getCellById(r.translateBy);s&&(a[s.id]=!0,s.getDescendants({deep:!0}).forEach(u=>{a[u.id]=!0}),o.push(s))}this.collection.toArray().forEach(s=>{if(!a[s.id]){const u=Object.assign(Object.assign({},r),{selection:this.cid,exclude:o});s.translate(e,t,u),this.graph.model.getConnectedEdges(s).forEach(c=>{a[c.id]||(c.translate(e,t,u),a[c.id]=!0)})}})}getCellViewsInArea(e){const t=this.graph,i={strict:this.options.strict};let r=[];return this.options.rubberNode&&(r=r.concat(t.model.getNodesInArea(e,i).map(a=>t.renderer.findViewByCell(a)).filter(a=>null!=a))),this.options.rubberEdge&&(r=r.concat(t.model.getEdgesInArea(e,i).map(a=>t.renderer.findViewByCell(a)).filter(a=>null!=a))),r}notifyBoxEvent(e,t,i,r){const o=this.getEventData(t).activeView;this.trigger(e,{e:t,view:o,x:i,y:r,cell:o.cell})}getSelectedClassName(e){return this.prefixClassName((e.isNode()?"node":"edge")+"-selected")}addCellSelectedClassName(e){const t=this.graph.renderer.findViewByCell(e);t&&t.addClass(this.getSelectedClassName(e))}removeCellUnSelectedClassName(e){const t=this.graph.renderer.findViewByCell(e);t&&t.removeClass(this.getSelectedClassName(e))}destroySelectionBox(e){this.removeCellUnSelectedClassName(e),this.canShowSelectionBox(e)&&(R.Jf.remove(this.container.querySelector(`[data-cell-id="${e.id}"]`)),0===this.$boxes.length&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(e){e.forEach(t=>this.removeCellUnSelectedClassName(t)),this.hide(),R.Jf.remove(this.$boxes),this.boxCount=0}hide(){R.Jf.removeClass(this.container,this.prefixClassName(mn.classNames.rubberband)),R.Jf.removeClass(this.container,this.prefixClassName(mn.classNames.selected))}showRubberband(){R.Jf.addClass(this.container,this.prefixClassName(mn.classNames.rubberband))}hideRubberband(){R.Jf.removeClass(this.container,this.prefixClassName(mn.classNames.rubberband))}showSelected(){R.Jf.removeAttribute(this.container,"style"),R.Jf.addClass(this.container,this.prefixClassName(mn.classNames.selected))}createContainer(){this.container=document.createElement("div"),R.Jf.addClass(this.container,this.prefixClassName(mn.classNames.root)),this.options.className&&R.Jf.addClass(this.container,this.options.className),this.selectionContainer=document.createElement("div"),R.Jf.addClass(this.selectionContainer,this.prefixClassName(mn.classNames.inner)),this.selectionContent=document.createElement("div"),R.Jf.addClass(this.selectionContent,this.prefixClassName(mn.classNames.content)),R.Jf.append(this.selectionContainer,this.selectionContent),R.Jf.attr(this.selectionContainer,"data-selection-length",this.collection.length),R.Jf.prepend(this.container,this.selectionContainer)}updateContainerPosition(e){(e.dx||e.dy)&&this.updateElementPosition(this.selectionContainer,e.dx,e.dy)}updateContainer(){const e={x:1/0,y:1/0},t={x:0,y:0};this.collection.toArray().filter(a=>this.canShowSelectionBox(a)).forEach(a=>{const o=this.graph.renderer.findViewByCell(a);if(o){const s=o.getBBox({useCellGeometry:!0});e.x=Math.min(e.x,s.x),e.y=Math.min(e.y,s.y),t.x=Math.max(t.x,s.x+s.width),t.y=Math.max(t.y,s.y+s.height)}}),R.Jf.css(this.selectionContainer,{position:"absolute",pointerEvents:"none",left:e.x,top:e.y,width:t.x-e.x,height:t.y-e.y}),R.Jf.attr(this.selectionContainer,"data-selection-length",this.collection.length);const r=this.options.content;if(r)if("function"==typeof r){const a=R.eY.call(r,this.graph,this,this.selectionContent);a&&(this.selectionContent.innerHTML=a)}else this.selectionContent.innerHTML=r;this.collection.length>0&&!this.container.parentNode?R.Jf.appendTo(this.container,this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(e){return e.isNode()&&!0===this.options.showNodeSelectionBox||e.isEdge()&&!0===this.options.showEdgeSelectionBox}getPointerEventsValue(e){return"string"==typeof e?e:e(this.cells)}createSelectionBox(e){if(this.addCellSelectedClassName(e),this.canShowSelectionBox(e)){const t=this.graph.renderer.findViewByCell(e);if(t){const i=t.getBBox({useCellGeometry:!0}),r=this.boxClassName,a=document.createElement("div"),o=this.options.pointerEvents;R.Jf.addClass(a,r),R.Jf.addClass(a,`${r}-${e.isNode()?"node":"edge"}`),R.Jf.attr(a,"data-cell-id",e.id),R.Jf.css(a,{position:"absolute",left:i.x,top:i.y,width:i.width,height:i.height,pointerEvents:o?this.getPointerEventsValue(o):"auto"}),R.Jf.appendTo(a,this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(){this.collection.length>0&&(this.boxesUpdated=!0,this.confirmUpdate())}confirmUpdate(){if(this.boxCount){this.hide();for(let e=0,t=this.$boxes,i=t.length;e<i;e+=1){const r=t[e],a=R.Jf.attr(r,"data-cell-id");R.Jf.remove(r),this.boxCount-=1;const o=this.collection.get(a);o&&this.createSelectionBox(o)}this.updateContainer()}return 0}getCellViewFromElem(e){const t=e.getAttribute("data-cell-id");if(t){const i=this.collection.get(t);if(i)return this.graph.renderer.findViewByCell(i)}return null}onCellRemoved({cell:e}){this.destroySelectionBox(e),this.updateContainer()}onReseted({previous:e,current:t}){this.destroyAllSelectionBoxes(e),t.forEach(i=>{this.listenCellRemoveEvent(i),this.createSelectionBox(i)}),this.updateContainer()}onCellAdded({cell:e}){this.listenCellRemoveEvent(e),this.createSelectionBox(e),this.updateContainer()}listenCellRemoveEvent(e){e.off("removed",this.onCellRemoved,this),e.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:e,removed:t,options:i}){e.forEach(a=>{this.trigger("cell:selected",{cell:a,options:i}),a.isNode()?this.trigger("node:selected",{cell:a,options:i,node:a}):a.isEdge()&&this.trigger("edge:selected",{cell:a,options:i,edge:a})}),t.forEach(a=>{this.trigger("cell:unselected",{cell:a,options:i}),a.isNode()?this.trigger("node:unselected",{cell:a,options:i,node:a}):a.isEdge()&&this.trigger("edge:unselected",{cell:a,options:i,edge:a})});const r={added:e,removed:t,options:i,selected:this.cells.filter(a=>!!this.graph.getCellById(a.id))};this.trigger("selection:changed",r)}dispose(){this.clean(),this.remove(),this.off()}}!function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)}([R.Ss.dispose()],J_.prototype,"dispose",null),function(n){const e="widget-selection";n.classNames={root:e,inner:`${e}-inner`,box:`${e}-box`,content:`${e}-content`,rubberband:`${e}-rubberband`,selected:`${e}-selected`},n.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.depthComparator=function t(i){return i.getAncestors().length}}(mn||(mn={})),R.ke.prototype.isSelectionEnabled=function(){const n=this.getPlugin("selection");return!!n&&n.isEnabled()},R.ke.prototype.enableSelection=function(){const n=this.getPlugin("selection");return n&&n.enable(),this},R.ke.prototype.disableSelection=function(){const n=this.getPlugin("selection");return n&&n.disable(),this},R.ke.prototype.toggleSelection=function(n){const e=this.getPlugin("selection");return e&&e.toggleEnabled(n),this},R.ke.prototype.isMultipleSelection=function(){const n=this.getPlugin("selection");return!!n&&n.isMultipleSelection()},R.ke.prototype.enableMultipleSelection=function(){const n=this.getPlugin("selection");return n&&n.enableMultipleSelection(),this},R.ke.prototype.disableMultipleSelection=function(){const n=this.getPlugin("selection");return n&&n.disableMultipleSelection(),this},R.ke.prototype.toggleMultipleSelection=function(n){const e=this.getPlugin("selection");return e&&e.toggleMultipleSelection(n),this},R.ke.prototype.isSelectionMovable=function(){const n=this.getPlugin("selection");return!!n&&n.isSelectionMovable()},R.ke.prototype.enableSelectionMovable=function(){const n=this.getPlugin("selection");return n&&n.enableSelectionMovable(),this},R.ke.prototype.disableSelectionMovable=function(){const n=this.getPlugin("selection");return n&&n.disableSelectionMovable(),this},R.ke.prototype.toggleSelectionMovable=function(n){const e=this.getPlugin("selection");return e&&e.toggleSelectionMovable(n),this},R.ke.prototype.isRubberbandEnabled=function(){const n=this.getPlugin("selection");return!!n&&n.isRubberbandEnabled()},R.ke.prototype.enableRubberband=function(){const n=this.getPlugin("selection");return n&&n.enableRubberband(),this},R.ke.prototype.disableRubberband=function(){const n=this.getPlugin("selection");return n&&n.disableRubberband(),this},R.ke.prototype.toggleRubberband=function(n){const e=this.getPlugin("selection");return e&&e.toggleRubberband(n),this},R.ke.prototype.isStrictRubberband=function(){const n=this.getPlugin("selection");return!!n&&n.isStrictRubberband()},R.ke.prototype.enableStrictRubberband=function(){const n=this.getPlugin("selection");return n&&n.enableStrictRubberband(),this},R.ke.prototype.disableStrictRubberband=function(){const n=this.getPlugin("selection");return n&&n.disableStrictRubberband(),this},R.ke.prototype.toggleStrictRubberband=function(n){const e=this.getPlugin("selection");return e&&e.toggleStrictRubberband(n),this},R.ke.prototype.setRubberbandModifiers=function(n){const e=this.getPlugin("selection");return e&&e.setRubberbandModifiers(n),this},R.ke.prototype.setSelectionFilter=function(n){const e=this.getPlugin("selection");return e&&e.setSelectionFilter(n),this},R.ke.prototype.setSelectionDisplayContent=function(n){const e=this.getPlugin("selection");return e&&e.setSelectionDisplayContent(n),this},R.ke.prototype.isSelectionEmpty=function(){const n=this.getPlugin("selection");return!n||n.isEmpty()},R.ke.prototype.cleanSelection=function(n){const e=this.getPlugin("selection");return e&&e.clean(n),this},R.ke.prototype.resetSelection=function(n,e){const t=this.getPlugin("selection");return t&&t.reset(n,e),this},R.ke.prototype.getSelectedCells=function(){const n=this.getPlugin("selection");return n?n.getSelectedCells():[]},R.ke.prototype.getSelectedCellCount=function(){const n=this.getPlugin("selection");return n?n.getSelectedCellCount():0},R.ke.prototype.isSelected=function(n){const e=this.getPlugin("selection");return!!e&&e.isSelected(n)},R.ke.prototype.select=function(n,e){const t=this.getPlugin("selection");return t&&t.select(n,e),this},R.ke.prototype.unselect=function(n,e){const t=this.getPlugin("selection");return t&&t.unselect(n,e),this};class Ho extends R.Nb{get rubberbandDisabled(){return!0!==this.options.enabled||!0!==this.options.rubberband}get disabled(){return!0!==this.options.enabled}get length(){return this.selectionImpl.length}get cells(){return this.selectionImpl.cells}constructor(e={}){super(),this.name="selection",this.movedMap=new WeakMap,this.unselectMap=new WeakMap,this.options=Object.assign(Object.assign({enabled:!0},Ho.defaultOptions),e),R.H.ensure(this.name,".x6-widget-selection {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: none;\n  width: 0;\n  height: 0;\n  touch-action: none;\n}\n.x6-widget-selection-rubberband {\n  display: block;\n  overflow: visible;\n  opacity: 0.3;\n}\n.x6-widget-selection-selected {\n  display: block;\n}\n.x6-widget-selection-box {\n  cursor: move;\n}\n.x6-widget-selection-inner[data-selection-length='0'],\n.x6-widget-selection-inner[data-selection-length='1'] {\n  display: none;\n}\n.x6-widget-selection-content {\n  position: absolute;\n  top: 100%;\n  right: -20px;\n  left: -20px;\n  margin-top: 30px;\n  padding: 6px;\n  line-height: 14px;\n  text-align: center;\n  border-radius: 6px;\n}\n.x6-widget-selection-content:empty {\n  display: none;\n}\n.x6-widget-selection-rubberband {\n  background-color: #3498db;\n  border: 2px solid #2980b9;\n}\n.x6-widget-selection-box {\n  box-sizing: content-box !important;\n  margin-top: -4px;\n  margin-left: -4px;\n  padding-right: 4px;\n  padding-bottom: 4px;\n  border: 2px dashed #feb663;\n  box-shadow: 2px 2px 5px #d3d3d3;\n}\n.x6-widget-selection-inner {\n  box-sizing: content-box !important;\n  margin-top: -8px;\n  margin-left: -8px;\n  padding-right: 12px;\n  padding-bottom: 12px;\n  border: 2px solid #feb663;\n  box-shadow: 2px 2px 5px #d3d3d3;\n}\n.x6-widget-selection-content {\n  color: #fff;\n  font-size: 10px;\n  background-color: #6a6b8a;\n}\n")}init(e){this.graph=e,this.selectionImpl=new J_(Object.assign(Object.assign({},this.options),{graph:e})),this.setup(),this.startListening()}isEnabled(){return!this.disabled}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}toggleEnabled(e){return null!=e?e!==this.isEnabled()&&(e?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}isMultipleSelection(){return this.isMultiple()}enableMultipleSelection(){return this.enableMultiple(),this}disableMultipleSelection(){return this.disableMultiple(),this}toggleMultipleSelection(e){return null!=e?e!==this.isMultipleSelection()&&(e?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return!1!==this.options.movable}enableSelectionMovable(){return this.selectionImpl.options.movable=!0,this}disableSelectionMovable(){return this.selectionImpl.options.movable=!1,this}toggleSelectionMovable(e){return null!=e?e!==this.isSelectionMovable()&&(e?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.rubberbandDisabled}enableRubberband(){return this.rubberbandDisabled&&(this.options.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.options.rubberband=!1),this}toggleRubberband(e){return null!=e?e!==this.isRubberbandEnabled()&&(e?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return!0===this.selectionImpl.options.strict}enableStrictRubberband(){return this.selectionImpl.options.strict=!0,this}disableStrictRubberband(){return this.selectionImpl.options.strict=!1,this}toggleStrictRubberband(e){return null!=e?e!==this.isStrictRubberband()&&(e?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(e){this.setModifiers(e)}setSelectionFilter(e){return this.setFilter(e),this}setSelectionDisplayContent(e){return this.setContent(e),this}isEmpty(){return this.length<=0}clean(e={}){return this.selectionImpl.clean(e),this}reset(e,t={}){return this.selectionImpl.reset(e?this.getCells(e):[],t),this}getSelectedCells(){return this.cells}getSelectedCellCount(){return this.length}isSelected(e){return this.selectionImpl.isSelected(e)}select(e,t={}){const i=this.getCells(e);return i.length&&(this.isMultiple()?this.selectionImpl.select(i,t):this.reset(i.slice(0,1),t)),this}unselect(e,t={}){return this.selectionImpl.unselect(this.getCells(e),t),this}setup(){this.selectionImpl.on("*",(e,t)=>{this.trigger(e,t),this.graph.trigger(e,t)})}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.selectionImpl.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.selectionImpl.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e}){if(!this.allowBlankMouseDown(e))return;const t=this.graph.panning.allowPanning(e,!0),i=this.graph.getPlugin("scroller"),r=i&&i.allowPanning(e,!0);(this.allowRubberband(e,!0)||this.allowRubberband(e)&&!r&&!t)&&this.startRubberband(e)}allowBlankMouseDown(e){const t=this.options.eventTypes;return t?.includes("leftMouseDown")&&0===e.button||t?.includes("mouseWheelDown")&&1===e.button}onBlankClick(){this.clean()}allowRubberband(e,t){return!this.rubberbandDisabled&&R.xH.isMatch(e,this.options.modifiers,t)}allowMultipleSelection(e){return this.isMultiple()&&R.xH.isMatch(e,this.options.multipleSelectionModifiers)}onCellMouseMove({cell:e}){this.movedMap.set(e,!0)}onCellMouseUp({e,cell:t}){const i=this.options;let r=this.disabled;!r&&this.movedMap.has(t)&&(r=!1===i.selectCellOnMoved,r||(r=!1===i.selectNodeOnMoved&&t.isNode()),r||(r=!1===i.selectEdgeOnMoved&&t.isEdge())),r||(this.allowMultipleSelection(e)?this.unselectMap.has(t)?this.unselectMap.delete(t):this.isSelected(t)?this.unselect(t):this.select(t):this.reset(t)),this.movedMap.delete(t)}onBoxMouseDown({e,cell:t}){this.disabled||this.allowMultipleSelection(e)&&(this.unselect(t),this.unselectMap.set(t,!0))}getCells(e){return(Array.isArray(e)?e:[e]).map(t=>"string"==typeof t?this.graph.getCellById(t):t).filter(t=>null!=t)}startRubberband(e){return this.rubberbandDisabled||this.selectionImpl.startSelecting(e),this}isMultiple(){return!1!==this.options.multiple}enableMultiple(){return this.options.multiple=!0,this}disableMultiple(){return this.options.multiple=!1,this}setModifiers(e){return this.options.modifiers=e,this}setContent(e){return this.selectionImpl.setContent(e),this}setFilter(e){return this.selectionImpl.setFilter(e),this}dispose(){this.stopListening(),this.off(),this.selectionImpl.dispose(),R.H.clean(this.name)}}(function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)})([R.Nb.dispose()],Ho.prototype,"dispose",null),function(n){n.defaultOptions={rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,multipleSelectionModifiers:["ctrl","meta"],movable:!0,strict:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,following:!0,content:null,eventTypes:["leftMouseDown","mouseWheelDown"]}}(Ho||(Ho={})),R.ke.prototype.toSVG=function(n,e){const t=this.getPlugin("export");t&&t.toSVG(n,e)},R.ke.prototype.toPNG=function(n,e){const t=this.getPlugin("export");t&&t.toPNG(n,e)},R.ke.prototype.toJPEG=function(n,e){const t=this.getPlugin("export");t&&t.toJPEG(n,e)},R.ke.prototype.exportPNG=function(n,e){const t=this.getPlugin("export");t&&t.exportPNG(n,e)},R.ke.prototype.exportJPEG=function(n,e){const t=this.getPlugin("export");t&&t.exportJPEG(n,e)},R.ke.prototype.exportSVG=function(n,e){const t=this.getPlugin("export");t&&t.exportSVG(n,e)};class tb extends R.Nb{constructor(){super(),this.name="export"}get view(){return this.graph.view}init(e){this.graph=e}exportPNG(e="chart",t={}){this.toPNG(i=>{R.B6.downloadDataUri(i,e)},t)}exportJPEG(e="chart",t={}){this.toPNG(i=>{R.B6.downloadDataUri(i,e)},t)}exportSVG(e="chart",t={}){this.toSVG(i=>{R.B6.downloadDataUri(R.B6.svgToDataUrl(i),e)},t)}toSVG(e,t={}){this.notify("before:export",t);const i=this.view.svg,r=R.Mi.create(i).clone();let a=r.node;const o=r.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`),s=t.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),u=t.preserveDimensions;if(u){const p="boolean"==typeof u?s:u;r.attr({width:p.width,height:p.height})}if(r.removeAttribute("style").attr("viewBox",[s.x,s.y,s.width,s.height].join(" ")),o.removeAttribute("transform"),!1!==t.copyStyles){const p=i.ownerDocument,f=Array.from(i.querySelectorAll("*")),d=Array.from(a.querySelectorAll("*")),v=p.styleSheets.length,g=[];for(let _=v-1;_>=0;_-=1)g[_]=p.styleSheets[_],p.styleSheets[_].disabled=!0;const m={};f.forEach((_,b)=>{const C=window.getComputedStyle(_,null),x={};Object.keys(C).forEach(S=>{x[S]=C.getPropertyValue(S)}),m[b]=x}),v!==p.styleSheets.length&&g.forEach((_,b)=>{p.styleSheets[b]=_});for(let _=0;_<v;_+=1)p.styleSheets[_].disabled=!1;const y={};f.forEach((_,b)=>{const C=window.getComputedStyle(_,null),x=m[b],S={};Object.keys(C).forEach(z=>{!R.Dc.isNumber(z)&&C.getPropertyValue(z)!==x[z]&&(S[z]=C.getPropertyValue(z))}),y[b]=S}),d.forEach((_,b)=>{R.Jf.css(_,y[b])})}const c=t.stylesheet;if("string"==typeof c){const p=i.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(c);r.prepend(R.Mi.create("style",{type:"text/css"},[p]))}const h=()=>{const p=t.beforeSerialize;if("function"==typeof p){const d=R.eY.call(p,this.graph,a);d instanceof SVGSVGElement&&(a=d)}const f=(new XMLSerializer).serializeToString(a).replace(/&nbsp;/g,"\xa0");this.notify("after:export",t),e(f)};if(t.serializeImages){const p=r.find("image").map(f=>new Promise(d=>{const v=f.attr("xlink:href")||f.attr("href");R.B6.imageToDataUri(v,(g,m)=>{!g&&m&&f.attr("xlink:href",m),d()})}));Promise.all(p).then(h)}else h()}toDataURL(e,t){let i=t.viewBox||this.graph.getContentBBox();const r=R.Dc.normalizeSides(t.padding);t.width&&t.height&&(r.left+r.right>=t.width&&(r.left=r.right=0),r.top+r.bottom>=t.height&&(r.top=r.bottom=0));const a=new R.M_(-r.left,-r.top,r.left+r.right,r.top+r.bottom);t.width&&t.height&&a.scale((i.width+r.left+r.right)/t.width,(i.height+r.top+r.bottom)/t.height),i=R.M_.create(i).moveAndExpand(a);const o="number"==typeof t.width&&"number"==typeof t.height?{width:t.width,height:t.height}:i;let s=t.ratio?parseFloat(t.ratio):1;(!Number.isFinite(s)||0===s)&&(s=1);const u={width:Math.max(Math.round(o.width*s),1),height:Math.max(Math.round(o.height*s),1)};{const h=document.createElement("canvas"),p=h.getContext("2d");h.width=u.width,h.height=u.height;const f=u.width-1,d=u.height-1;p.fillStyle="rgb(1,1,1)",p.fillRect(f,d,1,1);const v=p.getImageData(f,d,1,1).data;if(1!==v[0]||1!==v[1]||1!==v[2])throw new Error("size exceeded")}const c=new Image;c.onload=()=>{const h=document.createElement("canvas");h.width=u.width,h.height=u.height;const p=h.getContext("2d");p.fillStyle=t.backgroundColor||"white",p.fillRect(0,0,u.width,u.height);try{p.drawImage(c,0,0,u.width,u.height);const f=h.toDataURL(t.type,t.quality);e(f)}catch{}},this.toSVG(h=>{c.src=`data:image/svg+xml,${encodeURIComponent(h)}`},Object.assign(Object.assign({},t),{viewBox:i,serializeImages:!0,preserveDimensions:Object.assign({},u)}))}toPNG(e,t={}){this.toDataURL(e,Object.assign(Object.assign({},t),{type:"image/png"}))}toJPEG(e,t={}){this.toDataURL(e,Object.assign(Object.assign({},t),{type:"image/jpeg"}))}notify(e,t){this.trigger(e,t),this.graph.trigger(e,t)}dispose(){this.off()}}!function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)}([R.Nb.dispose()],tb.prototype,"dispose",null);class _a extends R.Ss{get targetScroller(){return this.options.target.getPlugin("scroller")}get targetGraph(){return this.options.target}get targetModel(){return this.targetGraph.model}get snapline(){return this.options.target.getPlugin("snapline")}constructor(e){super(),this.name="dnd",this.options=Object.assign(Object.assign({},_a.defaults),e),this.init()}init(){R.H.ensure(this.name,".x6-widget-dnd {\n  position: absolute;\n  top: -10000px;\n  left: -10000px;\n  z-index: 999999;\n  display: none;\n  cursor: move;\n  opacity: 0.7;\n  pointer-events: 'cursor';\n}\n.x6-widget-dnd.dragging {\n  display: inline-block;\n}\n.x6-widget-dnd.dragging * {\n  pointer-events: none !important;\n}\n.x6-widget-dnd .x6-graph {\n  background: transparent;\n  box-shadow: none;\n}\n"),this.container=document.createElement("div"),R.Jf.addClass(this.container,this.prefixClassName("widget-dnd")),this.draggingGraph=new R.ke(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1,async:!1})),R.Jf.append(this.container,this.draggingGraph.container)}start(e,t){const i=t;i.preventDefault(),this.targetModel.startBatch("dnd"),R.Jf.addClass(this.container,"dragging"),R.Jf.appendTo(this.container,this.options.draggingContainer||document.body),this.sourceNode=e,this.prepareDragging(e,i.clientX,i.clientY);const r=this.updateNodePosition(i.clientX,i.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:i,node:e,cell:e,view:this.draggingView,x:r.x,y:r.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(_a.documentEvents,i.data)}isSnaplineEnabled(){return this.snapline&&this.snapline.isEnabled()}prepareDragging(e,t,i){const r=this.draggingGraph,a=r.model,o=this.options.getDragNode(e,{sourceNode:e,draggingGraph:r,targetGraph:this.targetGraph});o.position(0,0);let s=5;if(this.isSnaplineEnabled()&&(s+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const h=this.targetGraph.transform.getScale();r.scale(h.sx,h.sy),s*=Math.max(h.sx,h.sy)}else r.scale(1,1);this.clearDragging(),a.resetCells([o]);const u=r.findViewByCell(o);u.undelegateEvents(),u.cell.off("changed"),r.fitToContent({padding:s,allowNewOrigin:"any",useCellGeometry:!1});const c=u.getBBox();this.geometryBBox=u.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(c.getTopLeft()),this.draggingNode=o,this.draggingView=u,this.draggingBBox=o.getBBox(),this.padding=s,this.originOffset=this.updateGraphPosition(t,i)}updateGraphPosition(e,t){const i=document.body.scrollTop||document.documentElement.scrollTop,r=document.body.scrollLeft||document.documentElement.scrollLeft,a=this.delta,o=this.geometryBBox,s=this.padding||5,u={left:e-a.x-o.width/2-s+r,top:t-a.y-o.height/2-s+i};return this.draggingGraph&&R.Jf.css(this.container,{left:`${u.left}px`,top:`${u.top}px`}),u}updateNodePosition(e,t){const i=this.targetGraph.clientToLocal(e,t),r=this.draggingBBox;return i.x-=r.width/2,i.y-=r.height/2,this.draggingNode.position(i.x,i.y),i}snap({cell:e,current:t,options:i}){const r=e;if(i.snapped){const a=this.draggingBBox;r.position(a.x+i.tx,a.y+i.ty,{silent:!0}),this.draggingView.translate(),r.position(t.x,t.y,{silent:!0}),this.snapOffset={x:i.tx,y:i.ty}}else this.snapOffset=null}onDragging(e){const t=this.draggingView;if(t){e.preventDefault();const i=this.normalizeEvent(e),r=i.clientX,a=i.clientY;this.updateGraphPosition(r,a);const o=this.updateNodePosition(r,a),s=this.targetGraph.options.embedding.enabled,u=(s||this.isSnaplineEnabled())&&this.isInsideValidArea({x:r,y:a});if(s){t.setEventData(i,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const c=t.getEventData(i);u?t.processEmbedding(i,c):t.clearEmbedding(c),this.candidateEmbedView=c.candidateEmbedView}this.isSnaplineEnabled()&&(u?this.snapline.snapOnMoving({e:i,view:t,x:o.x,y:o.y}):this.snapline.hide())}}onDragEnd(e){const t=this.draggingNode;if(t){const i=this.normalizeEvent(e),r=this.draggingView,a=this.draggingBBox,o=this.snapOffset;let s=a.x,u=a.y;o&&(s+=o.x,u+=o.y),t.position(s,u,{silent:!0});const c=this.drop(t,{x:i.clientX,y:i.clientY}),h=p=>{p?(this.onDropped(t),this.targetGraph.options.embedding.enabled&&r&&(r.setEventData(i,{cell:p,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),r.finalizeEmbedding(i,r.getEventData(i)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};R.eY.isAsync(c)?(this.undelegateDocumentEvents(),c.then(h)):h(c)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(e){this.draggingNode===e&&(this.clearDragging(),R.Jf.removeClass(this.container,"dragging"),R.Jf.remove(this.container))}onDropInvalid(){const e=this.draggingNode;e&&this.onDropped(e)}isInsideValidArea(e){let t,i=null;const r=this.targetGraph,a=this.targetScroller;this.options.dndContainer&&(i=this.getDropArea(this.options.dndContainer));const o=i&&i.containsPoint(e);if(a)if(a.options.autoResize)t=this.getDropArea(a.container);else{const s=this.getDropArea(a.container);t=this.getDropArea(r.container).intersectsWithRect(s)}else t=this.getDropArea(r.container);return!o&&t&&t.containsPoint(e)}getDropArea(e){const t=R.Jf.offset(e),i=document.body.scrollTop||document.documentElement.scrollTop,r=document.body.scrollLeft||document.documentElement.scrollLeft;return R.M_.create({x:t.left+parseInt(R.Jf.css(e,"border-left-width"),10)-r,y:t.top+parseInt(R.Jf.css(e,"border-top-width"),10)-i,width:e.clientWidth,height:e.clientHeight})}drop(e,t){if(this.isInsideValidArea(t)){const i=this.targetGraph,r=i.model,a=i.clientToLocal(t),o=this.sourceNode,s=this.options.getDropNode(e,{sourceNode:o,draggingNode:e,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),u=s.getBBox();a.x+=u.x-u.width/2,a.y+=u.y-u.height/2;const c=this.snapOffset?1:i.getGridSize();s.position(R.fZ.snapToGrid(a.x,c),R.fZ.snapToGrid(a.y,c)),s.removeZIndex();const h=this.options.validateNode,p=!h||h(s,{sourceNode:o,draggingNode:e,droppingNode:s,targetGraph:i,draggingGraph:this.draggingGraph});return"boolean"==typeof p?p?(r.addCell(s,{stencil:this.cid}),s):null:R.eY.toDeferredBoolean(p).then(f=>f?(r.addCell(s,{stencil:this.cid}),s):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove(),R.H.clean(this.name)}}(function(n,e,t,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);r>3&&a&&Object.defineProperty(e,t,a)})([R.Ss.dispose()],_a.prototype,"dispose",null),function(n){n.defaults={getDragNode:e=>e.clone(),getDropNode:e=>e.clone()},n.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}}(_a||(_a={}));var ir=tt(3390),gt=tt(1413),qt=tt(3726),ba=tt(8359),we=tt(7786),yn=tt(5964),G=tt(6977),Re=tt(9172),Ce=tt(1025),Y=tt(317),W=tt(1635),Xt=tt(7806),Pt=tt(6042),se=tt(8203);const iN=n=>({$implicit:n});function rN(n,e){if(1&n&&l.nrm(0,"span",4),2&n){const t=l.XpG(3);l.Y8G("nzType",t.icon)}}function aN(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=e.$implicit,i=l.XpG(4);l.R7$(),l.SpI(" ",t(i.nzPercent)," ")}}function oN(n,e){if(1&n&&l.DNE(0,aN,2,1,"ng-container",5),2&n){const t=l.XpG(3);l.Y8G("nzStringTemplateOutlet",t.formatter)("nzStringTemplateOutletContext",l.eq3(2,iN,t.nzPercent))}}function sN(n,e){if(1&n&&(l.j41(0,"span",3),l.DNE(1,rN,1,1,"span",4)(2,oN,1,4),l.k0s()),2&n){const t=l.XpG(2);l.R7$(),l.vxM(1,"exception"!==t.status&&"success"!==t.status||t.nzFormat?2:1)}}function lN(n,e){if(1&n&&l.DNE(0,sN,3,1,"span",3),2&n){const t=l.XpG();l.vxM(0,t.nzShowInfo?0:-1)}}function uN(n,e){1&n&&l.nrm(0,"div",7),2&n&&l.Y8G("ngStyle",e.$implicit)}function cN(n,e){}function hN(n,e){if(1&n&&(l.j41(0,"div",6),l.Z7z(1,uN,1,1,"div",7,l.fX1),l.DNE(3,cN,0,0,"ng-template",8),l.k0s()),2&n){const t=l.XpG(2),i=l.sdS(1);l.R7$(),l.Dyx(t.steps),l.R7$(2),l.Y8G("ngTemplateOutlet",i)}}function pN(n,e){if(1&n&&l.nrm(0,"div",13),2&n){const t=l.XpG(3);l.xc7("width",t.nzSuccessPercent,"%")("border-radius","round"===t.nzStrokeLinecap?"100px":"0")("height",t.strokeWidth,"px")}}function fN(n,e){}function dN(n,e){if(1&n&&(l.j41(0,"div",9)(1,"div",10),l.nrm(2,"div",11),l.DNE(3,pN,1,6,"div",12),l.k0s()(),l.DNE(4,fN,0,0,"ng-template",8)),2&n){const t=l.XpG(2),i=l.sdS(1);l.R7$(2),l.xc7("width",t.nzPercent,"%")("border-radius","round"===t.nzStrokeLinecap?"100px":"0")("background",t.isGradient?null:t.nzStrokeColor)("background-image",t.isGradient?t.lineGradient:null)("height",t.strokeWidth,"px"),l.R7$(),l.vxM(3,t.nzSuccessPercent||0===t.nzSuccessPercent?3:-1),l.R7$(),l.Y8G("ngTemplateOutlet",i)}}function vN(n,e){if(1&n&&(l.j41(0,"div"),l.DNE(1,hN,4,1,"div",6)(2,dN,5,12),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.vxM(1,t.isSteps?1:2)}}function gN(n,e){if(1&n&&(l.qSk(),l.nrm(0,"stop")),2&n){const t=e.$implicit;l.BMQ("offset",t.offset)("stop-color",t.color)}}function mN(n,e){if(1&n&&(l.qSk(),l.j41(0,"defs")(1,"linearGradient",17),l.Z7z(2,gN,1,2,":svg:stop",null,l.fX1),l.k0s()()),2&n){const t=l.XpG(2);l.R7$(),l.Y8G("id","gradient-"+t.gradientId),l.R7$(),l.Dyx(t.circleGradient)}}function yN(n,e){if(1&n&&(l.qSk(),l.nrm(0,"path",16)),2&n){const t=e.$implicit,i=l.XpG(2);l.Y8G("ngStyle",t.strokePathStyle),l.BMQ("d",i.pathString)("stroke-linecap",i.nzStrokeLinecap)("stroke",t.stroke)("stroke-width",i.nzPercent?i.strokeWidth:0)}}function _N(n,e){}function bN(n,e){if(1&n&&(l.j41(0,"div",10),l.qSk(),l.j41(1,"svg",14),l.DNE(2,mN,4,1,":svg:defs"),l.nrm(3,"path",15),l.Z7z(4,yN,1,5,":svg:path",16,l.fX1),l.k0s(),l.DNE(6,_N,0,0,"ng-template",8),l.k0s()),2&n){const t=l.XpG(),i=l.sdS(1);l.xc7("width",t.nzWidth,"px")("height",t.nzWidth,"px")("font-size",.15*t.nzWidth+6,"px"),l.AVh("ant-progress-circle-gradient",t.isGradient),l.R7$(2),l.vxM(2,t.isGradient?2:-1),l.R7$(),l.Y8G("ngStyle",t.trailPathStyle),l.BMQ("stroke-width",t.strokeWidth)("d",t.pathString),l.R7$(),l.Dyx(t.progressCirclePath),l.R7$(2),l.Y8G("ngTemplateOutlet",i)}}const eb=n=>{let e=[];return Object.keys(n).forEach(t=>{const i=n[t],r=function CN(n){return+n.replace("%","")}(t);isNaN(r)||e.push({key:r,value:i})}),e=e.sort((t,i)=>t.key-i.key),e};let zN=0;const nb="progress",wN=new Map([["success","check"],["exception","close"]]),TN=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),DN=n=>`${n}%`;let ad=(()=>{class n{get formatter(){return this.nzFormat||DN}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}get isCircleStyle(){return"circle"===this.nzType||"dashboard"===this.nzType}constructor(t,i,r){this.cdr=t,this.nzConfigService=i,this.directionality=r,this._nzModuleName=nb,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=zN++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new gt.B}ngOnChanges(t){const{nzSteps:i,nzGapPosition:r,nzStrokeLinecap:a,nzStrokeColor:o,nzGapDegree:s,nzType:u,nzStatus:c,nzPercent:h,nzSuccessPercent:p,nzStrokeWidth:f}=t;c&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(h||p)&&(parseInt(this.nzPercent.toString(),10)>=100?((0,Y.n9)(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(c||h||p||o)&&this.updateIcon(),o&&this.setStrokeColor(),(r||a||s||u||h||o||o)&&this.getCirclePaths(),(h||i||f)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(nb).pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){const t=wN.get(this.status);this.icon=t?t+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){const t=Math.floor(this.nzSteps*(this.nzPercent/100)),i="small"===this.nzSize?2:14,r=[];for(let a=0;a<this.nzSteps;a++){let o;a<=t-1&&(o=this.nzStrokeColor),r.push({backgroundColor:`${o}`,width:`${i}px`,height:`${this.strokeWidth}px`})}this.steps=r}getCirclePaths(){if(!this.isCircleStyle)return;const t=(0,Y.n9)(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],i=50-this.strokeWidth/2,a=2*Math.PI*i,o=this.nzGapDegree||("circle"===this.nzType?0:75);let s=0,u=-i,c=0,h=-2*i;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":s=-i,u=0,c=2*i,h=0;break;case"right":s=i,u=0,c=-2*i,h=0;break;case"bottom":u=i,h=2*i}this.pathString=`M 50,50 m ${s},${u}\n       a ${i},${i} 0 1 1 ${c},${-h}\n       a ${i},${i} 0 1 1 ${-c},${h}`,this.trailPathStyle={strokeDasharray:`${a-o}px ${a}px`,strokeDashoffset:`-${o/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=t.map((p,f)=>{const d=2===t.length&&0===f;return{stroke:this.isGradient&&!d?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:d?TN.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(p||0)/100*(a-o)}px ${a}px`,strokeDashoffset:`-${o/2}px`}}}).reverse()}setStrokeColor(){const t=this.nzStrokeColor,i=this.isGradient=!!t&&"string"!=typeof t;i&&!this.isCircleStyle?this.lineGradient=(n=>{const{from:e="#1890ff",to:t="#1890ff",direction:i="to right",...r}=n;return 0!==Object.keys(r).length?`linear-gradient(${i}, ${eb(r).map(({key:o,value:s})=>`${s} ${o}%`).join(", ")})`:`linear-gradient(${i}, ${e}, ${t})`})(t):i&&this.isCircleStyle?this.circleGradient=(n=>eb(this.nzStrokeColor).map(({key:e,value:t})=>({offset:`${e}%`,color:t})))():(this.lineGradient=null,this.circleGradient=[])}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(Pt.yx),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps"},exportAs:["nzProgress"],standalone:!0,features:[l.OA$,l.aNF],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"ngStyle"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"]],template:function(i,r){1&i&&(l.DNE(0,lN,1,1,"ng-template",null,0,l.C5r),l.j41(2,"div",1),l.DNE(3,vN,3,1,"div")(4,bN,7,13,"div",2),l.k0s()),2&i&&(l.R7$(2),l.AVh("ant-progress-line","line"===r.nzType)("ant-progress-small","small"===r.nzSize)("ant-progress-default","default"===r.nzSize)("ant-progress-show-info",r.nzShowInfo)("ant-progress-circle",r.isCircleStyle)("ant-progress-steps",r.isSteps)("ant-progress-rtl","rtl"===r.dir),l.Y8G("ngClass","ant-progress ant-progress-status-"+r.status),l.R7$(),l.vxM(3,"line"===r.nzType?3:-1),l.R7$(),l.vxM(4,r.isCircleStyle?4:-1))},dependencies:[vt.Y3,vt.Dn,Xt.C,Xt.m,U.YU,U.T3,U.B3],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzShowInfo",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzStrokeColor",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzSize",void 0),(0,W.Cg)([(0,Y.YI)()],n.prototype,"nzSuccessPercent",void 0),(0,W.Cg)([(0,Y.YI)()],n.prototype,"nzPercent",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.YI)()],n.prototype,"nzStrokeWidth",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.YI)()],n.prototype,"nzGapDegree",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzGapPosition",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzStrokeLinecap",void 0),(0,W.Cg)([(0,Y.YI)()],n.prototype,"nzSteps",void 0),n})(),ib=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[ad]})}return n})();const MN=["processDotTemplate"],IN=["itemContainer"],AN=(n,e,t)=>({$implicit:n,status:e,index:t});function kN(n,e){1&n&&l.nrm(0,"div",11)}function PN(n,e){if(1&n&&(l.j41(0,"div",14),l.nrm(1,"nz-progress",15),l.k0s()),2&n){const t=l.XpG(2);l.R7$(),l.Y8G("nzPercent",t.nzPercentage)("nzWidth","small"===t.nzSize?32:40)("nzFormat",t.nullProcessFormat)("nzStrokeWidth",4)}}function RN(n,e){1&n&&(l.j41(0,"span",16),l.nrm(1,"span",17),l.k0s())}function NN(n,e){1&n&&(l.j41(0,"span",16),l.nrm(1,"span",18),l.k0s())}function ON(n,e){if(1&n&&(l.j41(0,"span",16),l.EFF(1),l.k0s()),2&n){const t=l.XpG(2);l.R7$(),l.SpI(" ",t.index+1," ")}}function EN(n,e){if(1&n&&(l.qex(0),l.nrm(1,"span",19),l.bVm()),2&n){const t=e.$implicit,i=l.XpG(3);l.R7$(),l.Y8G("nzType",!i.oldAPIIcon&&t)("ngClass",i.oldAPIIcon&&t)}}function LN(n,e){if(1&n&&(l.j41(0,"span",16),l.DNE(1,EN,2,2,"ng-container",8),l.k0s()),2&n){const t=l.XpG(2);l.R7$(),l.Y8G("nzStringTemplateOutlet",t.nzIcon)}}function BN(n,e){if(1&n&&l.DNE(0,PN,2,4,"div",12)(1,RN,2,0,"span",13)(2,NN,2,0,"span",13)(3,ON,2,1,"span",13)(4,LN,2,1,"span",13),2&n){const t=l.XpG();l.Y8G("ngIf",t.showProgress),l.R7$(),l.Y8G("ngIf","finish"===t.nzStatus&&!t.nzIcon),l.R7$(),l.Y8G("ngIf","error"===t.nzStatus),l.R7$(),l.Y8G("ngIf",("process"===t.nzStatus||"wait"===t.nzStatus)&&!t.nzIcon),l.R7$(),l.Y8G("ngIf",t.nzIcon)}}function VN(n,e){1&n&&l.nrm(0,"span",21)}function FN(n,e){}function GN(n,e){if(1&n&&(l.j41(0,"span",16),l.DNE(1,VN,1,0,"ng-template",null,1,l.C5r)(3,FN,0,0,"ng-template",20),l.k0s()),2&n){const t=l.sdS(2),i=l.XpG();l.R7$(3),l.Y8G("ngTemplateOutlet",i.customProcessTemplate||t)("ngTemplateOutletContext",l.sMw(2,AN,t,i.nzStatus,i.index))}}function HN(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.JRh(t.nzTitle)}}function XN(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.JRh(t.nzSubtitle)}}function jN(n,e){if(1&n&&(l.j41(0,"div",22),l.DNE(1,XN,2,1,"ng-container",8),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("nzStringTemplateOutlet",t.nzSubtitle)}}function YN(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.JRh(t.nzDescription)}}const WN=["*"];let od=(()=>{class n{get nzStatus(){return this._status}set nzStatus(t){this._status=t,this.isCustomStatus=!0}get nzIcon(){return this._icon}set nzIcon(t){t instanceof l.C4Q||(this.oldAPIIcon="string"==typeof t&&t.indexOf("anticon")>-1),this._icon=t}get showProgress(){return null!==this.nzPercentage&&!this.nzIcon&&"process"===this.nzStatus&&this.nzPercentage>=0&&this.nzPercentage<=100}get currentIndex(){return this._currentIndex}set currentIndex(t){this._currentIndex=t,this.isCustomStatus||(this._status=t>this.index?"finish":t===this.index?this.outStatus||"":"wait")}constructor(t,i,r){this.cdr=t,this.ngZone=i,this.destroy$=r,this.nzDisabled=!1,this.nzPercentage=null,this.nzSize="default",this.isCustomStatus=!1,this._status="wait",this.oldAPIIcon=!0,this.direction="horizontal",this.index=0,this.last=!1,this.outStatus="process",this.showProcessDot=!1,this.clickable=!1,this.clickOutsideAngular$=new gt.B,this.nullProcessFormat=()=>null,this._currentIndex=0}ngOnInit(){this.ngZone.runOutsideAngular(()=>(0,qt.R)(this.itemContainer.nativeElement,"click").pipe((0,yn.p)(()=>this.clickable&&this.currentIndex!==this.index&&!this.nzDisabled),(0,G.Q)(this.destroy$)).subscribe(()=>{this.clickOutsideAngular$.next(this.index)}))}enable(){this.nzDisabled=!1,this.cdr.markForCheck()}disable(){this.nzDisabled=!0,this.cdr.markForCheck()}markForCheck(){this.cdr.markForCheck()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(Ce.y4))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-step"]],viewQuery:function(i,r){if(1&i&&(l.GBs(MN,5),l.GBs(IN,7)),2&i){let a;l.mGM(a=l.lsd())&&(r.processDotTemplate=a.first),l.mGM(a=l.lsd())&&(r.itemContainer=a.first)}},hostAttrs:[1,"ant-steps-item"],hostVars:16,hostBindings:function(i,r){2&i&&l.AVh("ant-steps-item-wait","wait"===r.nzStatus)("ant-steps-item-process","process"===r.nzStatus)("ant-steps-item-finish","finish"===r.nzStatus)("ant-steps-item-error","error"===r.nzStatus)("ant-steps-item-active",r.currentIndex===r.index)("ant-steps-item-disabled",r.nzDisabled)("ant-steps-item-custom",!!r.nzIcon)("ant-steps-next-error","error"===r.outStatus&&r.currentIndex===r.index+1)},inputs:{nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzDescription:"nzDescription",nzDisabled:"nzDisabled",nzPercentage:"nzPercentage",nzSize:"nzSize",nzStatus:"nzStatus",nzIcon:"nzIcon"},exportAs:["nzStep"],standalone:!0,features:[l.Jv_([Ce.y4]),l.aNF],decls:12,vars:8,consts:[["itemContainer",""],["processDotTemplate",""],[1,"ant-steps-item-container",3,"tabindex"],["class","ant-steps-item-tail",4,"ngIf"],[1,"ant-steps-item-icon"],[3,"ngIf"],[1,"ant-steps-item-content"],[1,"ant-steps-item-title"],[4,"nzStringTemplateOutlet"],["class","ant-steps-item-subtitle",4,"ngIf"],[1,"ant-steps-item-description"],[1,"ant-steps-item-tail"],["class","ant-steps-progress-icon",4,"ngIf"],["class","ant-steps-icon",4,"ngIf"],[1,"ant-steps-progress-icon"],["nzType","circle",3,"nzPercent","nzWidth","nzFormat","nzStrokeWidth"],[1,"ant-steps-icon"],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"],["nz-icon","",3,"nzType","ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-steps-icon-dot"],[1,"ant-steps-item-subtitle"]],template:function(i,r){1&i&&(l.j41(0,"div",2,0),l.DNE(2,kN,1,0,"div",3),l.j41(3,"div",4),l.DNE(4,BN,5,5,"ng-template",5)(5,GN,4,6,"ng-template",5),l.k0s(),l.j41(6,"div",6)(7,"div",7),l.DNE(8,HN,2,1,"ng-container",8)(9,jN,2,1,"div",9),l.k0s(),l.j41(10,"div",10),l.DNE(11,YN,2,1,"ng-container",8),l.k0s()()()),2&i&&(l.Y8G("tabindex",r.clickable&&!r.nzDisabled?0:null),l.BMQ("role",r.clickable&&!r.nzDisabled?"button":null),l.R7$(2),l.Y8G("ngIf",!0!==r.last),l.R7$(2),l.Y8G("ngIf",!r.showProcessDot),l.R7$(),l.Y8G("ngIf",r.showProcessDot),l.R7$(3),l.Y8G("nzStringTemplateOutlet",r.nzTitle),l.R7$(),l.Y8G("ngIf",r.nzSubtitle),l.R7$(2),l.Y8G("nzStringTemplateOutlet",r.nzDescription))},dependencies:[U.bT,ib,ad,vt.Y3,vt.Dn,Xt.C,Xt.m,U.YU,U.T3],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),n})(),UN=(()=>{class n{set nzProgressDot(t){t instanceof l.C4Q?(this.showProcessDot=!0,this.customProcessDotTemplate=t):this.showProcessDot=(0,Y.G4)(t),this.updateChildrenSteps()}constructor(t,i,r,a){this.ngZone=t,this.cdr=i,this.directionality=r,this.destroy$=a,this.nzCurrent=0,this.nzDirection="horizontal",this.nzLabelPlacement="horizontal",this.nzType="default",this.nzSize="default",this.nzStartIndex=0,this.nzStatus="process",this.nzIndexChange=new l.bkB,this.indexChangeSubscription=ba.yU.EMPTY,this.showProcessDot=!1,this.showProgress=!1,this.dir="ltr"}ngOnChanges(t){(t.nzStartIndex||t.nzDirection||t.nzStatus||t.nzCurrent||t.nzSize)&&this.updateChildrenSteps()}ngOnInit(){this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateChildrenSteps()}ngAfterContentInit(){this.steps&&this.steps.changes.pipe((0,Re.Z)(null),(0,G.Q)(this.destroy$)).subscribe(()=>{this.updateHostProgressClass(),this.updateChildrenSteps()})}updateHostProgressClass(){this.steps&&!this.showProcessDot&&(this.showProgress=!!this.steps.toArray().find(t=>null!==t.nzPercentage))}updateChildrenSteps(){if(this.steps){const t=this.steps.length;this.steps.toArray().forEach((i,r)=>{Promise.resolve().then(()=>{i.nzSize=this.nzSize,i.outStatus=this.nzStatus,i.showProcessDot=this.showProcessDot,this.customProcessDotTemplate&&(i.customProcessTemplate=this.customProcessDotTemplate),i.clickable=this.nzIndexChange.observers.length>0,i.direction=this.nzDirection,i.index=r+this.nzStartIndex,i.currentIndex=this.nzCurrent,i.last=t===r+1,i.markForCheck()})}),this.indexChangeSubscription.unsubscribe(),this.indexChangeSubscription=(0,we.h)(...this.steps.map(i=>i.clickOutsideAngular$)).pipe((0,G.Q)(this.destroy$)).subscribe(i=>{this.nzIndexChange.observers.length&&this.ngZone.run(()=>this.nzIndexChange.emit(i))})}}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.SKi),l.rXU(l.gRc),l.rXU(se.dS,8),l.rXU(Ce.y4))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-steps"]],contentQueries:function(i,r,a){if(1&i&&l.wni(a,od,4),2&i){let o;l.mGM(o=l.lsd())&&(r.steps=o)}},hostAttrs:[1,"ant-steps"],hostVars:18,hostBindings:function(i,r){2&i&&l.AVh("ant-steps-horizontal","horizontal"===r.nzDirection)("ant-steps-vertical","vertical"===r.nzDirection)("ant-steps-label-horizontal","horizontal"===r.nzDirection)("ant-steps-label-vertical",(r.showProcessDot||"vertical"===r.nzLabelPlacement)&&"horizontal"===r.nzDirection)("ant-steps-dot",r.showProcessDot)("ant-steps-small","small"===r.nzSize)("ant-steps-navigation","navigation"===r.nzType)("ant-steps-rtl","rtl"===r.dir)("ant-steps-with-progress",r.showProgress)},inputs:{nzCurrent:"nzCurrent",nzDirection:"nzDirection",nzLabelPlacement:"nzLabelPlacement",nzType:"nzType",nzSize:"nzSize",nzStartIndex:"nzStartIndex",nzStatus:"nzStatus",nzProgressDot:"nzProgressDot"},outputs:{nzIndexChange:"nzIndexChange"},exportAs:["nzSteps"],standalone:!0,features:[l.Jv_([Ce.y4]),l.OA$,l.aNF],ngContentSelectors:WN,decls:1,vars:0,template:function(i,r){1&i&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})}return n})(),rb=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[od]})}return n})();var Z=tt(4341),Kt=tt(7336),Mi=tt(3294),Se=tt(5558),hl=tt(1397),ue=tt(6354),on=tt(7891),li=tt(851);const $N=["upHandler"],ZN=["downHandler"],qN=["inputElement"];function KN(n,e){if(1&n&&l.nrm(0,"nz-form-item-feedback-icon",10),2&n){const t=l.XpG();l.Y8G("status",t.status)}}const QN=["nz-input-number-group-slot",""],ab=["*"];function JN(n,e){if(1&n&&l.nrm(0,"span",0),2&n){const t=l.XpG();l.Y8G("nzType",t.icon)}}function tO(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.JRh(t.template)}}function eO(n,e){if(1&n&&l.nrm(0,"div",3),2&n){const t=l.XpG(2);l.Y8G("icon",t.nzAddOnBeforeIcon)("template",t.nzAddOnBefore)}}function nO(n,e){}function iO(n,e){if(1&n&&(l.j41(0,"div",5),l.DNE(1,nO,0,0,"ng-template",6),l.k0s()),2&n){const t=l.XpG(2),i=l.sdS(3);l.AVh("ant-input-number-affix-wrapper-disabled",t.disabled)("ant-input-number-affix-wrapper-sm",t.isSmall)("ant-input-number-affix-wrapper-lg",t.isLarge)("ant-input-number-affix-wrapper-focused",t.focused),l.Y8G("ngClass",t.affixInGroupStatusCls),l.R7$(),l.Y8G("ngTemplateOutlet",i)}}function rO(n,e){}function aO(n,e){if(1&n&&l.DNE(0,rO,0,0,"ng-template",6),2&n){l.XpG(2);const t=l.sdS(5);l.Y8G("ngTemplateOutlet",t)}}function oO(n,e){if(1&n&&l.nrm(0,"span",3),2&n){const t=l.XpG(2);l.Y8G("icon",t.nzAddOnAfterIcon)("template",t.nzAddOnAfter)}}function sO(n,e){if(1&n&&(l.j41(0,"span",2),l.DNE(1,eO,1,2,"div",3)(2,iO,2,10,"div",4)(3,aO,1,1)(4,oO,1,2,"span",3),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.vxM(1,t.nzAddOnBefore||t.nzAddOnBeforeIcon?1:-1),l.R7$(),l.vxM(2,t.isAffix||t.hasFeedback?2:3),l.R7$(2),l.vxM(4,t.nzAddOnAfter||t.nzAddOnAfterIcon?4:-1)}}function lO(n,e){}function uO(n,e){if(1&n&&l.DNE(0,lO,0,0,"ng-template",6),2&n){l.XpG(2);const t=l.sdS(3);l.Y8G("ngTemplateOutlet",t)}}function cO(n,e){}function hO(n,e){if(1&n&&l.DNE(0,cO,0,0,"ng-template",6),2&n){l.XpG(2);const t=l.sdS(5);l.Y8G("ngTemplateOutlet",t)}}function pO(n,e){if(1&n&&l.DNE(0,uO,1,1,null,6)(1,hO,1,1),2&n){const t=l.XpG();l.vxM(0,t.isAffix?0:1)}}function fO(n,e){if(1&n&&l.nrm(0,"span",7),2&n){const t=l.XpG(2);l.Y8G("icon",t.nzPrefixIcon)("template",t.nzPrefix)}}function dO(n,e){}function vO(n,e){if(1&n&&l.nrm(0,"nz-form-item-feedback-icon",9),2&n){const t=l.XpG(3);l.Y8G("status",t.status)}}function gO(n,e){if(1&n&&(l.j41(0,"span",8),l.DNE(1,vO,1,1,"nz-form-item-feedback-icon",9),l.k0s()),2&n){const t=l.XpG(2);l.Y8G("icon",t.nzSuffixIcon)("template",t.nzSuffix),l.R7$(),l.vxM(1,t.isFeedback?1:-1)}}function mO(n,e){if(1&n&&l.DNE(0,fO,1,2,"span",7)(1,dO,0,0,"ng-template",6)(2,gO,2,3,"span",8),2&n){const t=l.XpG(),i=l.sdS(5);l.vxM(0,t.nzPrefix||t.nzPrefixIcon?0:-1),l.R7$(),l.Y8G("ngTemplateOutlet",i),l.R7$(),l.vxM(2,t.nzSuffix||t.nzSuffixIcon||t.isFeedback?2:-1)}}function yO(n,e){if(1&n&&l.nrm(0,"nz-form-item-feedback-icon",9),2&n){const t=l.XpG(3);l.Y8G("status",t.status)}}function _O(n,e){if(1&n&&(l.j41(0,"span",10),l.DNE(1,yO,1,1,"nz-form-item-feedback-icon",9),l.k0s()),2&n){const t=l.XpG(2);l.R7$(),l.vxM(1,t.isFeedback?1:-1)}}function bO(n,e){if(1&n&&(l.SdG(0),l.DNE(1,_O,2,1,"span",10)),2&n){const t=l.XpG();l.R7$(),l.vxM(1,t.isAddOn||t.isAffix||!t.isFeedback?-1:1)}}let pl=(()=>{class n{onModelChange(t){this.parsedValue=this.nzParser(t),this.inputElement.nativeElement.value=`${this.parsedValue}`;const i=this.getCurrentValidValue(this.parsedValue);this.setValue(i)}getCurrentValidValue(t){let i=t;return i=""===i?"":this.isNotCompleteNumber(i)?this.value:`${this.getValidValue(i)}`,this.toNumber(i)}isNotCompleteNumber(t){return isNaN(t)||""===t||null===t||!(!t||t.toString().indexOf(".")!==t.toString().length-1)}getValidValue(t){let i=parseFloat(t);return isNaN(i)?t:(i<this.nzMin&&(i=this.nzMin),i>this.nzMax&&(i=this.nzMax),i)}toNumber(t){if(this.isNotCompleteNumber(t))return t;const i=String(t);if(i.indexOf(".")>=0&&(0,Y.n9)(this.nzPrecision)){if("function"==typeof this.nzPrecisionMode)return this.nzPrecisionMode(t,this.nzPrecision);if("cut"===this.nzPrecisionMode){const r=i.split(".");return r[1]=r[1].slice(0,this.nzPrecision),Number(r.join("."))}return Number(Number(t).toFixed(this.nzPrecision))}return Number(t)}getRatio(t){let i=1;return t.metaKey||t.ctrlKey?i=.1:t.shiftKey&&(i=10),i}down(t,i){this.isFocused||this.focus(),this.step("down",t,i)}up(t,i){this.isFocused||this.focus(),this.step("up",t,i)}getPrecision(t){const i=t.toString();if(i.indexOf("e-")>=0)return parseInt(i.slice(i.indexOf("e-")+2),10);let r=0;return i.indexOf(".")>=0&&(r=i.length-i.indexOf(".")-1),r}getMaxPrecision(t,i){if((0,Y.n9)(this.nzPrecision))return this.nzPrecision;const r=this.getPrecision(i),a=this.getPrecision(this.nzStep),o=this.getPrecision(t);return t?Math.max(o,r+a):r+a}getPrecisionFactor(t,i){const r=this.getMaxPrecision(t,i);return Math.pow(10,r)}upStep(t,i){const r=this.getPrecisionFactor(t,i),a=Math.abs(this.getMaxPrecision(t,i));let o;return o="number"==typeof t?((r*t+r*this.nzStep*i)/r).toFixed(a):this.nzMin===-1/0?this.nzStep:this.nzMin,this.toNumber(o)}downStep(t,i){const r=this.getPrecisionFactor(t,i),a=Math.abs(this.getMaxPrecision(t,i));let o;return o="number"==typeof t?((r*t-r*this.nzStep*i)/r).toFixed(a):this.nzMin===-1/0?-this.nzStep:this.nzMin,this.toNumber(o)}step(t,i,r=1){if(this.stop(),i.preventDefault(),this.nzDisabled)return;const a=this.getCurrentValidValue(this.parsedValue)||0;let o=0;"up"===t?o=this.upStep(a,r):"down"===t&&(o=this.downStep(a,r));const s=o>this.nzMax||o<this.nzMin;o>this.nzMax?o=this.nzMax:o<this.nzMin&&(o=this.nzMin),this.setValue(o),this.updateDisplayValue(o),this.isFocused=!0,!s&&(this.autoStepTimer=setTimeout(()=>{this[t](i,r)},300))}stop(){this.autoStepTimer&&clearTimeout(this.autoStepTimer)}setValue(t){if(`${this.value}`!=`${t}`&&this.onChange(t),this.value=t,this.parsedValue=t,this.disabledUp=this.disabledDown=!1,t||0===t){const i=Number(t);i>=this.nzMax&&(this.disabledUp=!0),i<=this.nzMin&&(this.disabledDown=!0)}}updateDisplayValue(t){const i=(0,Y.n9)(this.nzFormatter(t))?this.nzFormatter(t):"";this.displayValue=i,this.inputElement.nativeElement.value=`${i}`}writeValue(t){this.value=t,this.setValue(t),this.updateDisplayValue(t),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.disabled$.next(this.nzDisabled),this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(t,i,r,a,o,s,u,c,h){this.ngZone=t,this.elementRef=i,this.cdr=r,this.focusMonitor=a,this.renderer=o,this.directionality=s,this.destroy$=u,this.nzFormStatusService=c,this.nzFormNoStatusService=h,this.isNzDisableFirstChange=!0,this.isFocused=!1,this.disabled$=new gt.B,this.disabledUp=!1,this.disabledDown=!1,this.dir="ltr",this.prefixCls="ant-input-number",this.status="",this.statusCls={},this.hasFeedback=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzBlur=new l.bkB,this.nzFocus=new l.bkB,this.nzSize="default",this.nzMin=-1/0,this.nzMax=1/0,this.nzParser=p=>p.trim().replace(/\u3002/g,".").replace(/[^\w\.-]+/g,""),this.nzPrecisionMode="toFixed",this.nzPlaceHolder="",this.nzStatus="",this.nzStep=1,this.nzInputMode="decimal",this.nzId=null,this.nzDisabled=!1,this.nzReadOnly=!1,this.nzAutoFocus=!1,this.nzBorderless=!1,this.nzFormatter=p=>p}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Mi.F)((t,i)=>t.status===i.status&&t.hasFeedback===i.hasFeedback),(0,G.Q)(this.destroy$)).subscribe(({status:t,hasFeedback:i})=>{this.setStatusStyles(t,i)}),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t?(this.isFocused=!0,this.nzFocus.emit()):(this.isFocused=!1,this.updateDisplayValue(this.value),this.nzBlur.emit(),Promise.resolve().then(()=>this.onTouched()))}),this.dir=this.directionality.value,this.directionality.change.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t}),this.setupHandlersListeners(),this.ngZone.runOutsideAngular(()=>{(0,qt.R)(this.inputElement.nativeElement,"keyup").pipe((0,G.Q)(this.destroy$)).subscribe(()=>this.stop()),(0,qt.R)(this.inputElement.nativeElement,"keydown").pipe((0,G.Q)(this.destroy$)).subscribe(t=>{const{keyCode:i}=t;i!==Kt.i7&&i!==Kt.n6&&i!==Kt.Fm||this.ngZone.run(()=>{if(i===Kt.i7){const r=this.getRatio(t);this.up(t,r),this.stop()}else if(i===Kt.n6){const r=this.getRatio(t);this.down(t,r),this.stop()}else this.updateDisplayValue(this.value);this.cdr.markForCheck()})})})}ngOnChanges(t){const{nzStatus:i,nzDisabled:r}=t;if(t.nzFormatter&&!t.nzFormatter.isFirstChange()){const a=this.getCurrentValidValue(this.parsedValue);this.setValue(a),this.updateDisplayValue(a)}r&&this.disabled$.next(this.nzDisabled),i&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef)}setupHandlersListeners(){this.ngZone.runOutsideAngular(()=>{(0,we.h)((0,qt.R)(this.upHandler.nativeElement,"mouseup"),(0,qt.R)(this.upHandler.nativeElement,"mouseleave"),(0,qt.R)(this.downHandler.nativeElement,"mouseup"),(0,qt.R)(this.downHandler.nativeElement,"mouseleave")).pipe((0,G.Q)(this.destroy$)).subscribe(()=>this.stop())})}setStatusStyles(t,i){this.status=t,this.hasFeedback=i,this.cdr.markForCheck(),this.statusCls=(0,Y.LP)(this.prefixCls,t,i),Object.keys(this.statusCls).forEach(r=>{this.statusCls[r]?this.renderer.addClass(this.elementRef.nativeElement,r):this.renderer.removeClass(this.elementRef.nativeElement,r)})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.SKi),l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(li.FN),l.rXU(l.sFG),l.rXU(se.dS,8),l.rXU(Ce.y4),l.rXU(on.is,8),l.rXU(on.n1,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-input-number"]],viewQuery:function(i,r){if(1&i&&(l.GBs($N,7),l.GBs(ZN,7),l.GBs(qN,7)),2&i){let a;l.mGM(a=l.lsd())&&(r.upHandler=a.first),l.mGM(a=l.lsd())&&(r.downHandler=a.first),l.mGM(a=l.lsd())&&(r.inputElement=a.first)}},hostAttrs:[1,"ant-input-number"],hostVars:16,hostBindings:function(i,r){2&i&&l.AVh("ant-input-number-in-form-item",!!r.nzFormStatusService)("ant-input-number-focused",r.isFocused)("ant-input-number-lg","large"===r.nzSize)("ant-input-number-sm","small"===r.nzSize)("ant-input-number-disabled",r.nzDisabled)("ant-input-number-readonly",r.nzReadOnly)("ant-input-number-rtl","rtl"===r.dir)("ant-input-number-borderless",r.nzBorderless)},inputs:{nzSize:"nzSize",nzMin:"nzMin",nzMax:"nzMax",nzParser:"nzParser",nzPrecision:"nzPrecision",nzPrecisionMode:"nzPrecisionMode",nzPlaceHolder:"nzPlaceHolder",nzStatus:"nzStatus",nzStep:"nzStep",nzInputMode:"nzInputMode",nzId:"nzId",nzDisabled:"nzDisabled",nzReadOnly:"nzReadOnly",nzAutoFocus:"nzAutoFocus",nzBorderless:"nzBorderless",nzFormatter:"nzFormatter"},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzInputNumber"],standalone:!0,features:[l.Jv_([{provide:Z.kq,useExisting:(0,l.Rfq)(()=>n),multi:!0},Ce.y4]),l.OA$,l.aNF],decls:11,vars:15,consts:[["upHandler",""],["downHandler",""],["inputElement",""],[1,"ant-input-number-handler-wrap"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["nz-icon","","nzType","up",1,"ant-input-number-handler-up-inner"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nz-icon","","nzType","down",1,"ant-input-number-handler-down-inner"],[1,"ant-input-number-input-wrap"],["autocomplete","off",1,"ant-input-number-input",3,"ngModelChange","disabled","placeholder","readOnly","ngModel"],[1,"ant-input-number-suffix",3,"status"]],template:function(i,r){if(1&i){const a=l.RV6();l.j41(0,"div",3)(1,"span",4,0),l.bIt("mousedown",function(s){return l.eBV(a),l.Njj(r.up(s))}),l.nrm(3,"span",5),l.k0s(),l.j41(4,"span",6,1),l.bIt("mousedown",function(s){return l.eBV(a),l.Njj(r.down(s))}),l.nrm(6,"span",7),l.k0s()(),l.j41(7,"div",8)(8,"input",9,2),l.bIt("ngModelChange",function(s){return l.eBV(a),l.Njj(r.onModelChange(s))}),l.k0s()(),l.DNE(10,KN,1,1,"nz-form-item-feedback-icon",10)}2&i&&(l.R7$(),l.AVh("ant-input-number-handler-up-disabled",r.disabledUp),l.R7$(3),l.AVh("ant-input-number-handler-down-disabled",r.disabledDown),l.R7$(4),l.Y8G("disabled",r.nzDisabled)("placeholder",r.nzPlaceHolder)("readOnly",r.nzReadOnly)("ngModel",r.displayValue),l.BMQ("id",r.nzId)("autofocus",r.nzAutoFocus?"autofocus":null)("min",r.nzMin)("max",r.nzMax)("step",r.nzStep)("inputmode",r.nzInputMode),l.R7$(2),l.vxM(10,r.hasFeedback&&r.status&&!r.nzFormNoStatusService?10:-1))},dependencies:[vt.Y3,vt.Dn,Z.YN,Z.me,Z.BC,Z.vS,on.J1,on.Xd],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzReadOnly",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzAutoFocus",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzBorderless",void 0),n})(),ob=(()=>{class n{constructor(){this.icon=null,this.type=null,this.template=null}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-input-number-group-slot",""]],hostVars:6,hostBindings:function(i,r){2&i&&l.AVh("ant-input-number-group-addon","addon"===r.type)("ant-input-number-prefix","prefix"===r.type)("ant-input-number-suffix","suffix"===r.type)},inputs:{icon:"icon",type:"type",template:"template"},standalone:!0,features:[l.aNF],attrs:QN,ngContentSelectors:ab,decls:3,vars:2,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"]],template:function(i,r){1&i&&(l.NAR(),l.DNE(0,JN,1,1,"span",0)(1,tO,2,1,"ng-container",1),l.SdG(2)),2&i&&(l.vxM(0,r.icon?0:-1),l.R7$(),l.Y8G("nzStringTemplateOutlet",r.template))},dependencies:[vt.Y3,vt.Dn,Xt.C,Xt.m],encapsulation:2,changeDetection:0})}return n})(),CO=(()=>{class n{constructor(t,i,r,a,o,s,u){this.focusMonitor=t,this.elementRef=i,this.renderer=r,this.cdr=a,this.directionality=o,this.nzFormStatusService=s,this.nzFormNoStatusService=u,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input-number",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new gt.B}updateChildrenInputSize(){this.listOfNzInputNumberComponent&&this.listOfNzInputNumberComponent.forEach(t=>t.nzSize=this.nzSize)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Mi.F)((t,i)=>t.status===i.status&&t.hasFeedback===i.hasFeedback),(0,G.Q)(this.destroy$)).subscribe(({status:t,hasFeedback:i})=>{this.setStatusStyles(t,i)}),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.focused=!!t,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t})}ngAfterContentInit(){this.updateChildrenInputSize();const t=this.listOfNzInputNumberComponent.changes.pipe((0,Re.Z)(this.listOfNzInputNumberComponent));t.pipe((0,Se.n)(i=>(0,we.h)(t,...i.map(r=>r.disabled$))),(0,hl.Z)(()=>t),(0,ue.T)(i=>i.some(r=>r.nzDisabled)),(0,G.Q)(this.destroy$)).subscribe(i=>{this.disabled=i,this.cdr.markForCheck()})}ngOnChanges(t){const{nzSize:i,nzSuffix:r,nzPrefix:a,nzPrefixIcon:o,nzSuffixIcon:s,nzAddOnAfter:u,nzAddOnBefore:c,nzAddOnAfterIcon:h,nzAddOnBeforeIcon:p,nzStatus:f}=t;i&&(this.updateChildrenInputSize(),this.isLarge="large"===this.nzSize,this.isSmall="small"===this.nzSize),(r||a||o||s)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(u||c||h||p)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),f&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(t,i){this.status=t,this.hasFeedback=i,this.isFeedback=!!t&&i,this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)||!this.isAddOn&&i,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=(0,Y.LP)(`${this.prefixCls}-affix-wrapper`,t,i):{},this.cdr.markForCheck(),this.affixStatusCls=(0,Y.LP)(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":t,!this.isAddOn&&i),this.groupStatusCls=(0,Y.LP)(`${this.prefixCls}-group-wrapper`,this.isAddOn?t:"",!!this.isAddOn&&i);const a={...this.affixStatusCls,...this.groupStatusCls};Object.keys(a).forEach(o=>{a[o]?this.renderer.addClass(this.elementRef.nativeElement,o):this.renderer.removeClass(this.elementRef.nativeElement,o)})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(li.FN),l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(l.gRc),l.rXU(se.dS,8),l.rXU(on.is,8),l.rXU(on.n1,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-input-number-group"]],contentQueries:function(i,r,a){if(1&i&&l.wni(a,pl,5),2&i){let o;l.mGM(o=l.lsd())&&(r.listOfNzInputNumberComponent=o)}},hostVars:24,hostBindings:function(i,r){2&i&&l.AVh("ant-input-number-group",r.nzCompact)("ant-input-number-group-compact",r.nzCompact)("ant-input-number-group-wrapper",r.isAddOn)("ant-input-number-group-wrapper-rtl",r.isAddOn&&"rtl"===r.dir)("ant-input-number-group-wrapper-lg",r.isAddOn&&r.isLarge)("ant-input-number-group-wrapper-sm",r.isAddOn&&r.isSmall)("ant-input-number-affix-wrapper",!r.isAddOn&&r.isAffix)("ant-input-number-affix-wrapper-rtl",!r.isAddOn&&"rtl"===r.dir)("ant-input-number-affix-wrapper-focused",!r.isAddOn&&r.isAffix&&r.focused)("ant-input-number-affix-wrapper-disabled",!r.isAddOn&&r.isAffix&&r.disabled)("ant-input-number-affix-wrapper-lg",!r.isAddOn&&r.isAffix&&r.isLarge)("ant-input-number-affix-wrapper-sm",!r.isAddOn&&r.isAffix&&r.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzCompact:"nzCompact"},exportAs:["nzInputNumberGroup"],standalone:!0,features:[l.Jv_([on.n1]),l.OA$,l.aNF],ngContentSelectors:ab,decls:6,vars:1,consts:[["affixTemplate",""],["contentTemplate",""],[1,"ant-input-number-wrapper","ant-input-number-group"],["nz-input-number-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-number-affix-wrapper",3,"ant-input-number-affix-wrapper-disabled","ant-input-number-affix-wrapper-sm","ant-input-number-affix-wrapper-lg","ant-input-number-affix-wrapper-focused","ngClass"],[1,"ant-input-number-affix-wrapper",3,"ngClass"],[3,"ngTemplateOutlet"],["nz-input-number-group-slot","","type","prefix",3,"icon","template"],["nz-input-number-group-slot","","type","suffix",3,"icon","template"],[3,"status"],["nz-input-number-group-slot","","type","suffix"]],template:function(i,r){1&i&&(l.NAR(),l.DNE(0,sO,5,3,"span",2)(1,pO,2,1)(2,mO,3,3,"ng-template",null,0,l.C5r)(4,bO,2,1,"ng-template",null,1,l.C5r)),2&i&&l.vxM(0,r.isAddOn?0:1)},dependencies:[ob,U.YU,U.T3,on.J1,on.Xd],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzCompact",void 0),n})(),sb=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[pl,CO,ob]})}return n})();var Xe=tt(2771);const lb=["*"],SO=["inputElement"],xO=["nz-radio",""];let sd=(()=>{class n{constructor(){this.selected$=new Xe.m(1),this.touched$=new gt.B,this.disabled$=new Xe.m(1),this.name$=new Xe.m(1)}touch(){this.touched$.next()}select(t){this.selected$.next(t)}setDisabled(t){this.disabled$.next(t)}setName(t){this.name$.next(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),zO=(()=>{class n{constructor(t,i,r){this.cdr=t,this.nzRadioService=i,this.directionality=r,this.value=null,this.destroy$=new gt.B,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzDisabled=!1,this.nzButtonStyle="outline",this.nzSize="default",this.nzName=null,this.dir="ltr"}ngOnInit(){this.nzRadioService.selected$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.value!==t&&(this.value=t,this.onChange(this.value))}),this.nzRadioService.touched$.pipe((0,G.Q)(this.destroy$)).subscribe(()=>{Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzDisabled:i,nzName:r}=t;i&&this.nzRadioService.setDisabled(this.nzDisabled),r&&this.nzRadioService.setName(this.nzName)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}writeValue(t){this.value=t,this.nzRadioService.select(t),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.nzRadioService.setDisabled(this.nzDisabled),this.cdr.markForCheck()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(sd),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-radio-group"]],hostAttrs:[1,"ant-radio-group"],hostVars:8,hostBindings:function(i,r){2&i&&l.AVh("ant-radio-group-large","large"===r.nzSize)("ant-radio-group-small","small"===r.nzSize)("ant-radio-group-solid","solid"===r.nzButtonStyle)("ant-radio-group-rtl","rtl"===r.dir)},inputs:{nzDisabled:"nzDisabled",nzButtonStyle:"nzButtonStyle",nzSize:"nzSize",nzName:"nzName"},exportAs:["nzRadioGroup"],standalone:!0,features:[l.Jv_([sd,{provide:Z.kq,useExisting:(0,l.Rfq)(()=>n),multi:!0}]),l.OA$,l.aNF],ngContentSelectors:lb,decls:1,vars:0,template:function(i,r){1&i&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),n})(),ub=(()=>{class n{focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(t,i,r,a,o,s,u){this.ngZone=t,this.elementRef=i,this.cdr=r,this.focusMonitor=a,this.directionality=o,this.nzRadioService=s,this.nzFormStatusService=u,this.isNgModel=!1,this.destroy$=new gt.B,this.isNzDisableFirstChange=!0,this.isChecked=!1,this.name=null,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.isRadioButton=!1,this.dir="ltr"}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}writeValue(t){this.isChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.isNgModel=!0,this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnInit(){this.nzRadioService&&(this.nzRadioService.name$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.name=t,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{const i=this.isChecked;this.isChecked=this.nzValue===t,this.isNgModel&&i!==this.isChecked&&!1===this.isChecked&&this.onChange(!1),this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),this.directionality.change.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setupClickListener()}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setupClickListener(){this.ngZone.runOutsideAngular(()=>{(0,qt.R)(this.elementRef.nativeElement,"click").pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t.stopPropagation(),t.preventDefault(),!this.nzDisabled&&!this.isChecked&&this.ngZone.run(()=>{this.focus(),this.nzRadioService?.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)),this.cdr.markForCheck()})})})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.SKi),l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(li.FN),l.rXU(se.dS,8),l.rXU(sd,8),l.rXU(on.is,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(i,r){if(1&i&&l.GBs(SO,7),2&i){let a;l.mGM(a=l.lsd())&&(r.inputElement=a.first)}},hostVars:18,hostBindings:function(i,r){2&i&&l.AVh("ant-radio-wrapper-in-form-item",!!r.nzFormStatusService)("ant-radio-wrapper",!r.isRadioButton)("ant-radio-button-wrapper",r.isRadioButton)("ant-radio-wrapper-checked",r.isChecked&&!r.isRadioButton)("ant-radio-button-wrapper-checked",r.isChecked&&r.isRadioButton)("ant-radio-wrapper-disabled",r.nzDisabled&&!r.isRadioButton)("ant-radio-button-wrapper-disabled",r.nzDisabled&&r.isRadioButton)("ant-radio-wrapper-rtl",!r.isRadioButton&&"rtl"===r.dir)("ant-radio-button-wrapper-rtl",r.isRadioButton&&"rtl"===r.dir)},inputs:{nzValue:"nzValue",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",isRadioButton:[l.Mj6.HasDecoratorInputTransform,"nz-radio-button","isRadioButton",l.L39]},exportAs:["nzRadio"],standalone:!0,features:[l.Jv_([{provide:Z.kq,useExisting:(0,l.Rfq)(()=>n),multi:!0}]),l.GFd,l.aNF],attrs:xO,ngContentSelectors:lb,decls:6,vars:24,consts:[["inputElement",""],["type","radio",3,"disabled","checked"]],template:function(i,r){1&i&&(l.NAR(),l.j41(0,"span"),l.nrm(1,"input",1,0)(3,"span"),l.k0s(),l.j41(4,"span"),l.SdG(5),l.k0s()),2&i&&(l.AVh("ant-radio",!r.isRadioButton)("ant-radio-checked",r.isChecked&&!r.isRadioButton)("ant-radio-disabled",r.nzDisabled&&!r.isRadioButton)("ant-radio-button",r.isRadioButton)("ant-radio-button-checked",r.isChecked&&r.isRadioButton)("ant-radio-button-disabled",r.nzDisabled&&r.isRadioButton),l.R7$(),l.AVh("ant-radio-input",!r.isRadioButton)("ant-radio-button-input",r.isRadioButton),l.Y8G("disabled",r.nzDisabled)("checked",r.isChecked),l.BMQ("autofocus",r.nzAutoFocus?"autofocus":null)("name",r.name),l.R7$(2),l.AVh("ant-radio-inner",!r.isRadioButton)("ant-radio-button-inner",r.isRadioButton))},encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzAutoFocus",void 0),n})(),cb=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();var re=tt(4412),sn=tt(4572),Dc=tt(983),Ii=tt(7673),hb=tt(152),wO=tt(5245),Mc=tt(1986),fl=tt(6939),Ic=tt(3703),ld=tt(3798),ye=tt(5463),_n=tt(6969),Xo=tt(6860),Ca=tt(6841),jo=tt(713);const TO=["nz-menu-item",""],pb=["*"],DO=["nz-submenu-inline-child",""];function MO(n,e){}const IO=["nz-submenu-none-inline-child",""];function AO(n,e){}const kO=["nz-submenu-title",""];function PO(n,e){if(1&n&&l.nrm(0,"span",0),2&n){const t=l.XpG();l.Y8G("nzType",t.nzIcon)}}function RO(n,e){if(1&n&&(l.qex(0),l.j41(1,"span",3),l.EFF(2),l.k0s(),l.bVm()),2&n){const t=l.XpG();l.R7$(2),l.JRh(t.nzTitle)}}function NO(n,e){1&n&&l.nrm(0,"span",4)}function OO(n,e){1&n&&l.nrm(0,"span",5)}function EO(n,e){if(1&n&&(l.j41(0,"span",2),l.DNE(1,NO,1,0)(2,OO,1,0),l.k0s()),2&n){let t;const i=l.XpG();l.R7$(),l.vxM(1,"rtl"===(t=i.dir)?1:2)}}function LO(n,e){1&n&&l.nrm(0,"span",6)}const BO=["nz-submenu",""],VO=[[["","title",""]],"*"],FO=["[title]","*"];function GO(n,e){1&n&&l.SdG(0)}function HO(n,e){if(1&n&&l.nrm(0,"div",3),2&n){const t=l.XpG(),i=l.sdS(6);l.Y8G("mode",t.mode)("nzOpen",t.nzOpen)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("menuClass",t.nzMenuClassName)("templateOutlet",i)}}function XO(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",5),l.bIt("subMenuMouseState",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.setMouseEnterState(r))}),l.k0s()}if(2&n){const t=l.XpG(2),i=l.sdS(6);l.Y8G("theme",t.theme)("mode",t.mode)("nzOpen",t.nzOpen)("position",t.position)("nzDisabled",t.nzDisabled)("isMenuInsideDropDown",t.isMenuInsideDropDown)("templateOutlet",i)("menuClass",t.nzMenuClassName)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)}}function jO(n,e){if(1&n){const t=l.RV6();l.DNE(0,XO,1,10,"ng-template",4),l.bIt("positionChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onPositionChange(r))})}if(2&n){const t=l.XpG(),i=l.sdS(1);l.Y8G("cdkConnectedOverlayPositions",t.overlayPositions)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayWidth",t.triggerWidth)("cdkConnectedOverlayOpen",t.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function YO(n,e){1&n&&l.SdG(0,1)}const WO=["titleElement"],UO=["nz-menu-group",""],$O=["*",[["","title",""]]],ZO=["*","[title]"];function qO(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.JRh(t.nzTitle)}}function KO(n,e){1&n&&l.SdG(0,1)}const Ai=new l.nKC("NzIsInDropDownMenuToken"),fb=new l.nKC("NzMenuServiceLocalToken");let rr=(()=>{class n{constructor(){this.descendantMenuItemClick$=new gt.B,this.childMenuItemClick$=new gt.B,this.theme$=new re.t("light"),this.mode$=new re.t("vertical"),this.inlineIndent$=new re.t(24),this.isChildSubMenuOpen$=new re.t(!1)}onDescendantMenuItemClick(t){this.descendantMenuItemClick$.next(t)}onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setMode(t){this.mode$.next(t)}setTheme(t){this.theme$.next(t)}setInlineIndent(t){this.inlineIndent$.next(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),ud=(()=>{class n{onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setOpenStateWithoutDebounce(t){this.isCurrentSubMenuOpen$.next(t)}setMouseEnterTitleOrOverlayState(t){this.isMouseEnterTitleOrOverlay$.next(t)}constructor(t,i,r){this.nzHostSubmenuService=t,this.nzMenuService=i,this.isMenuInsideDropDown=r,this.mode$=this.nzMenuService.mode$.pipe((0,ue.T)(u=>"inline"===u?"inline":"vertical"===u||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new re.t(!1),this.isChildSubMenuOpen$=new re.t(!1),this.isMouseEnterTitleOrOverlay$=new gt.B,this.childMenuItemClick$=new gt.B,this.destroy$=new gt.B,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);const a=this.childMenuItemClick$.pipe((0,hl.Z)(()=>this.mode$),(0,yn.p)(u=>"inline"!==u||this.isMenuInsideDropDown),(0,Ic.u)(!1)),o=(0,we.h)(this.isMouseEnterTitleOrOverlay$,a);(0,sn.z)([this.isChildSubMenuOpen$,o]).pipe((0,ue.T)(([u,c])=>u||c),(0,ld.Z)(150),(0,Mi.F)(),(0,G.Q)(this.destroy$)).pipe((0,Mi.F)()).subscribe(u=>{this.setOpenStateWithoutDebounce(u),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(u):this.nzMenuService.isChildSubMenuOpen$.next(u)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.KVO(n,12),l.KVO(rr),l.KVO(Ai))};static#e=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),Yo=(()=>{class n{clickMenuItem(t){this.nzDisabled?(t.preventDefault(),t.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(t){this.nzSelected=t,this.selected$.next(t)}updateRouterActive(){!this.listOfRouterLink||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.nzSelected!==t&&(this.nzSelected=t,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.routerLink&&t(this.routerLink)||this.listOfRouterLink.some(t)}isLinkActive(t){return i=>t.isActive(i.urlTree||"",{paths:this.nzMatchRouterExact?"exact":"subset",queryParams:this.nzMatchRouterExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}constructor(t,i,r,a,o,s,u){this.nzMenuService=t,this.cdr=i,this.nzSubmenuService=r,this.isMenuInsideDropDown=a,this.directionality=o,this.routerLink=s,this.router=u,this.destroy$=new gt.B,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new gt.B,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,u&&this.router.events.pipe((0,G.Q)(this.destroy$),(0,yn.p)(c=>c instanceof rn.wF)).subscribe(()=>{this.updateRouterActive()})}ngOnInit(){(0,sn.z)([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,G.Q)(this.destroy$)).subscribe(([t,i])=>{this.inlinePaddingLeft="inline"===t?this.level*i:null}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe((0,G.Q)(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(t){t.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(rr),l.rXU(l.gRc),l.rXU(ud,8),l.rXU(Ai),l.rXU(se.dS,8),l.rXU(rn.Wk,8),l.rXU(rn.Ix,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-menu-item",""]],contentQueries:function(i,r,a){if(1&i&&l.wni(a,rn.Wk,5),2&i){let o;l.mGM(o=l.lsd())&&(r.listOfRouterLink=o)}},hostVars:20,hostBindings:function(i,r){1&i&&l.bIt("click",function(o){return r.clickMenuItem(o)}),2&i&&(l.xc7("padding-left","rtl"===r.dir?null:r.nzPaddingLeft||r.inlinePaddingLeft,"px")("padding-right","rtl"===r.dir?r.nzPaddingLeft||r.inlinePaddingLeft:null,"px"),l.AVh("ant-dropdown-menu-item",r.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",r.isMenuInsideDropDown&&r.nzSelected)("ant-dropdown-menu-item-danger",r.isMenuInsideDropDown&&r.nzDanger)("ant-dropdown-menu-item-disabled",r.isMenuInsideDropDown&&r.nzDisabled)("ant-menu-item",!r.isMenuInsideDropDown)("ant-menu-item-selected",!r.isMenuInsideDropDown&&r.nzSelected)("ant-menu-item-danger",!r.isMenuInsideDropDown&&r.nzDanger)("ant-menu-item-disabled",!r.isMenuInsideDropDown&&r.nzDisabled))},inputs:{nzPaddingLeft:"nzPaddingLeft",nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter"},exportAs:["nzMenuItem"],standalone:!0,features:[l.OA$,l.aNF],attrs:TO,ngContentSelectors:pb,decls:2,vars:0,consts:[[1,"ant-menu-title-content"]],template:function(i,r){1&i&&(l.NAR(),l.j41(0,"span",0),l.SdG(1),l.k0s())},encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzSelected",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDanger",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzMatchRouterExact",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzMatchRouter",void 0),n})(),QO=(()=>{class n{constructor(t,i,r){this.elementRef=t,this.renderer=i,this.directionality=r,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new gt.B}calcMotionState(){this.expandState=this.nzOpen?"expanded":"collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{mode:i,nzOpen:r,menuClass:a}=t;(i||r)&&this.calcMotionState(),a&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(o=>!!o).forEach(o=>{this.renderer.removeClass(this.elementRef.nativeElement,o)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(o=>!!o).forEach(o=>{this.renderer.addClass(this.elementRef.nativeElement,o)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-submenu-inline-child",""]],hostAttrs:[1,"ant-menu","ant-menu-inline","ant-menu-sub"],hostVars:3,hostBindings:function(i,r){2&i&&(l.zvX("@collapseMotion",r.expandState),l.AVh("ant-menu-rtl","rtl"===r.dir))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],standalone:!0,features:[l.OA$,l.aNF],attrs:DO,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(i,r){1&i&&l.DNE(0,MO,0,0,"ng-template",0),2&i&&l.Y8G("ngTemplateOutlet",r.templateOutlet)},dependencies:[U.T3],encapsulation:2,data:{animation:[jo.GE]},changeDetection:0})}return n})(),JO=(()=>{class n{constructor(t){this.directionality=t,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new l.bkB,this.expandState="collapsed",this.dir="ltr",this.destroy$=new gt.B}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?"horizontal"===this.mode?this.expandState="bottom":"vertical"===this.mode&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{mode:i,nzOpen:r}=t;(i||r)&&this.calcMotionState()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-submenu-none-inline-child",""]],hostAttrs:[1,"ant-menu-submenu","ant-menu-submenu-popup"],hostVars:14,hostBindings:function(i,r){1&i&&l.bIt("mouseenter",function(){return r.setMouseState(!0)})("mouseleave",function(){return r.setMouseState(!1)}),2&i&&(l.zvX("@slideMotion",r.expandState)("@zoomBigMotion",r.expandState),l.AVh("ant-menu-light","light"===r.theme)("ant-menu-dark","dark"===r.theme)("ant-menu-submenu-placement-bottom","horizontal"===r.mode)("ant-menu-submenu-placement-right","vertical"===r.mode&&"right"===r.position)("ant-menu-submenu-placement-left","vertical"===r.mode&&"left"===r.position)("ant-menu-submenu-rtl","rtl"===r.dir))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],standalone:!0,features:[l.OA$,l.aNF],attrs:IO,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(i,r){1&i&&(l.j41(0,"div",0),l.DNE(1,AO,0,0,"ng-template",1),l.k0s()),2&i&&(l.AVh("ant-dropdown-menu",r.isMenuInsideDropDown)("ant-menu",!r.isMenuInsideDropDown)("ant-dropdown-menu-vertical",r.isMenuInsideDropDown)("ant-menu-vertical",!r.isMenuInsideDropDown)("ant-dropdown-menu-sub",r.isMenuInsideDropDown)("ant-menu-sub",!r.isMenuInsideDropDown)("ant-menu-rtl","rtl"===r.dir),l.Y8G("ngClass",r.menuClass),l.R7$(),l.Y8G("ngTemplateOutlet",r.templateOutlet))},dependencies:[U.YU,U.T3],encapsulation:2,data:{animation:[jo.uX,jo.U1]},changeDetection:0})}return n})(),db=(()=>{class n{constructor(t,i){this.cdr=t,this.directionality=i,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new l.bkB,this.subMenuMouseState=new l.bkB,this.dir="ltr",this.destroy$=new gt.B}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}clickTitle(){"inline"===this.mode&&!this.nzDisabled&&this.toggleSubMenu.emit()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(i,r){1&i&&l.bIt("click",function(){return r.clickTitle()})("mouseenter",function(){return r.setMouseState(!0)})("mouseleave",function(){return r.setMouseState(!1)}),2&i&&(l.xc7("padding-left","rtl"===r.dir?null:r.paddingLeft,"px")("padding-right","rtl"===r.dir?r.paddingLeft:null,"px"),l.AVh("ant-dropdown-menu-submenu-title",r.isMenuInsideDropDown)("ant-menu-submenu-title",!r.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],standalone:!0,features:[l.aNF],attrs:kO,ngContentSelectors:pb,decls:5,vars:3,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"],[1,"ant-dropdown-menu-submenu-expand-icon"],[1,"ant-menu-title-content"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(i,r){1&i&&(l.NAR(),l.DNE(0,PO,1,1,"span",0)(1,RO,3,1,"ng-container",1),l.SdG(2),l.DNE(3,EO,3,1,"span",2)(4,LO,1,0)),2&i&&(l.vxM(0,r.nzIcon?0:-1),l.R7$(),l.Y8G("nzStringTemplateOutlet",r.nzTitle),l.R7$(2),l.vxM(3,r.isMenuInsideDropDown?3:4))},dependencies:[vt.Y3,vt.Dn,Xt.C,Xt.m],encapsulation:2,changeDetection:0})}return n})();const vb=[ye.pn.rightTop,ye.pn.right,ye.pn.rightBottom,ye.pn.leftTop,ye.pn.left,ye.pn.leftBottom],tE=[ye.pn.bottomLeft,ye.pn.bottomRight,ye.pn.topRight,ye.pn.topLeft];let gb=(()=>{class n{setOpenStateWithoutDebounce(t){this.nzSubmenuService.setOpenStateWithoutDebounce(t)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(t){this.isActive=t,"inline"!==this.mode&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(t)}setTriggerWidth(){"horizontal"===this.mode&&this.platform.isBrowser&&this.cdkOverlayOrigin&&"bottomLeft"===this.nzPlacement&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(t){const i=(0,ye.jj)(t);"rightTop"===i||"rightBottom"===i||"right"===i?this.position="right":("leftTop"===i||"leftBottom"===i||"left"===i)&&(this.position="left")}constructor(t,i,r,a,o,s,u){this.nzMenuService=t,this.cdr=i,this.nzSubmenuService=r,this.platform=a,this.isMenuInsideDropDown=o,this.directionality=s,this.noAnimation=u,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzPlacement="bottomLeft",this.nzOpenChange=new l.bkB,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new gt.B,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=vb,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}ngOnInit(){this.nzMenuService.theme$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.theme=t,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.mode=t,"horizontal"===t?this.overlayPositions=[ye.pn[this.nzPlacement],...tE]:"vertical"===t&&(this.overlayPositions=vb),this.cdr.markForCheck()}),(0,sn.z)([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,G.Q)(this.destroy$)).subscribe(([t,i])=>{this.inlinePaddingLeft="inline"===t?this.level*i:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.isActive=t,t!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=t,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();const t=this.listOfNzMenuItemDirective,i=t.changes,r=(0,we.h)(i,...t.map(a=>a.selected$));i.pipe((0,Re.Z)(t),(0,Se.n)(()=>r),(0,Re.Z)(!0),(0,ue.T)(()=>t.some(a=>a.nzSelected)),(0,G.Q)(this.destroy$)).subscribe(a=>{this.isSelected=a,this.cdr.markForCheck()})}ngOnChanges(t){const{nzOpen:i}=t;i&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(rr),l.rXU(l.gRc),l.rXU(ud),l.rXU(Xo.OD),l.rXU(Ai),l.rXU(se.dS,8),l.rXU(Ca.z,9))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-submenu",""]],contentQueries:function(i,r,a){if(1&i&&(l.wni(a,n,5),l.wni(a,Yo,5)),2&i){let o;l.mGM(o=l.lsd())&&(r.listOfNzSubMenuComponent=o),l.mGM(o=l.lsd())&&(r.listOfNzMenuItemDirective=o)}},viewQuery:function(i,r){if(1&i&&l.GBs(_n.$Q,7,l.aKT),2&i){let a;l.mGM(a=l.lsd())&&(r.cdkOverlayOrigin=a.first)}},hostVars:34,hostBindings:function(i,r){2&i&&l.AVh("ant-dropdown-menu-submenu",r.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",r.isMenuInsideDropDown&&r.nzDisabled)("ant-dropdown-menu-submenu-open",r.isMenuInsideDropDown&&r.nzOpen)("ant-dropdown-menu-submenu-selected",r.isMenuInsideDropDown&&r.isSelected)("ant-dropdown-menu-submenu-vertical",r.isMenuInsideDropDown&&"vertical"===r.mode)("ant-dropdown-menu-submenu-horizontal",r.isMenuInsideDropDown&&"horizontal"===r.mode)("ant-dropdown-menu-submenu-inline",r.isMenuInsideDropDown&&"inline"===r.mode)("ant-dropdown-menu-submenu-active",r.isMenuInsideDropDown&&r.isActive)("ant-menu-submenu",!r.isMenuInsideDropDown)("ant-menu-submenu-disabled",!r.isMenuInsideDropDown&&r.nzDisabled)("ant-menu-submenu-open",!r.isMenuInsideDropDown&&r.nzOpen)("ant-menu-submenu-selected",!r.isMenuInsideDropDown&&r.isSelected)("ant-menu-submenu-vertical",!r.isMenuInsideDropDown&&"vertical"===r.mode)("ant-menu-submenu-horizontal",!r.isMenuInsideDropDown&&"horizontal"===r.mode)("ant-menu-submenu-inline",!r.isMenuInsideDropDown&&"inline"===r.mode)("ant-menu-submenu-active",!r.isMenuInsideDropDown&&r.isActive)("ant-menu-submenu-rtl","rtl"===r.dir)},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled",nzPlacement:"nzPlacement"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],standalone:!0,features:[l.Jv_([ud]),l.OA$,l.aNF],attrs:BO,ngContentSelectors:FO,decls:7,vars:8,consts:[["origin","cdkOverlayOrigin"],["subMenuTemplate",""],["nz-submenu-title","","cdkOverlayOrigin","",3,"subMenuMouseState","toggleSubMenu","nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"positionChange","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-submenu-none-inline-child","",3,"subMenuMouseState","theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation"]],template:function(i,r){if(1&i){const a=l.RV6();l.NAR(VO),l.j41(0,"div",2,0),l.bIt("subMenuMouseState",function(s){return l.eBV(a),l.Njj(r.setMouseEnterState(s))})("toggleSubMenu",function(){return l.eBV(a),l.Njj(r.toggleSubMenu())}),l.DNE(2,GO,1,0),l.k0s(),l.DNE(3,HO,1,6,"div",3)(4,jO,1,5)(5,YO,1,0,"ng-template",null,1,l.C5r)}2&i&&(l.Y8G("nzIcon",r.nzIcon)("nzTitle",r.nzTitle)("mode",r.mode)("nzDisabled",r.nzDisabled)("isMenuInsideDropDown",r.isMenuInsideDropDown)("paddingLeft",r.nzPaddingLeft||r.inlinePaddingLeft),l.R7$(2),l.vxM(2,r.nzTitle?-1:2),l.R7$(),l.vxM(3,"inline"===r.mode?3:4))},dependencies:[db,QO,Ca.z,JO,_n.z_,_n.WB,_n.$Q],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzOpen",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),n})();function eE(){const n=(0,l.WQX)(rr,{skipSelf:!0,optional:!0}),e=(0,l.WQX)(fb);return n??e}function nE(){return(0,l.WQX)(Ai,{skipSelf:!0,optional:!0})??!1}let dl=(()=>{class n{setInlineCollapsed(t){this.nzInlineCollapsed=t,this.inlineCollapsed$.next(t)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(t=>t.nzOpen),this.listOfNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}constructor(t,i,r,a){this.nzMenuService=t,this.isMenuInsideDropDown=i,this.cdr=r,this.directionality=a,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new l.bkB,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new re.t(this.nzInlineCollapsed),this.mode$=new re.t(this.nzMode),this.destroy$=new gt.B,this.listOfOpenedNzSubMenuComponent=[]}ngOnInit(){(0,sn.z)([this.inlineCollapsed$,this.mode$]).pipe((0,G.Q)(this.destroy$)).subscribe(([t,i])=>{this.actualMode=t?"vertical":i,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.nzClick.emit(t),this.nzSelectable&&!t.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(i=>i.setSelectedState(i===t))}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(t){const{nzInlineCollapsed:i,nzInlineIndent:r,nzTheme:a,nzMode:o}=t;i&&this.inlineCollapsed$.next(this.nzInlineCollapsed),r&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),a&&this.nzMenuService.setTheme(this.nzTheme),o&&(this.mode$.next(this.nzMode),!t.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(s=>s.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(rr),l.rXU(Ai),l.rXU(l.gRc),l.rXU(se.dS,8))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["","nz-menu",""]],contentQueries:function(i,r,a){if(1&i&&(l.wni(a,Yo,5),l.wni(a,gb,5)),2&i){let o;l.mGM(o=l.lsd())&&(r.listOfNzMenuItemDirective=o),l.mGM(o=l.lsd())&&(r.listOfNzSubMenuComponent=o)}},hostVars:34,hostBindings:function(i,r){2&i&&l.AVh("ant-dropdown-menu",r.isMenuInsideDropDown)("ant-dropdown-menu-root",r.isMenuInsideDropDown)("ant-dropdown-menu-light",r.isMenuInsideDropDown&&"light"===r.nzTheme)("ant-dropdown-menu-dark",r.isMenuInsideDropDown&&"dark"===r.nzTheme)("ant-dropdown-menu-vertical",r.isMenuInsideDropDown&&"vertical"===r.actualMode)("ant-dropdown-menu-horizontal",r.isMenuInsideDropDown&&"horizontal"===r.actualMode)("ant-dropdown-menu-inline",r.isMenuInsideDropDown&&"inline"===r.actualMode)("ant-dropdown-menu-inline-collapsed",r.isMenuInsideDropDown&&r.nzInlineCollapsed)("ant-menu",!r.isMenuInsideDropDown)("ant-menu-root",!r.isMenuInsideDropDown)("ant-menu-light",!r.isMenuInsideDropDown&&"light"===r.nzTheme)("ant-menu-dark",!r.isMenuInsideDropDown&&"dark"===r.nzTheme)("ant-menu-vertical",!r.isMenuInsideDropDown&&"vertical"===r.actualMode)("ant-menu-horizontal",!r.isMenuInsideDropDown&&"horizontal"===r.actualMode)("ant-menu-inline",!r.isMenuInsideDropDown&&"inline"===r.actualMode)("ant-menu-inline-collapsed",!r.isMenuInsideDropDown&&r.nzInlineCollapsed)("ant-menu-rtl","rtl"===r.dir)},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],standalone:!0,features:[l.Jv_([{provide:fb,useClass:rr},{provide:rr,useFactory:eE},{provide:Ai,useFactory:nE}]),l.OA$]})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzInlineCollapsed",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzSelectable",void 0),n})();function iE(){return(0,l.WQX)(Ai,{optional:!0,skipSelf:!0})??!1}let rE=(()=>{class n{constructor(t,i,r){this.elementRef=t,this.renderer=i,this.isMenuInsideDropDown=r,this.renderer.addClass(t.nativeElement,this.isMenuInsideDropDown?"ant-dropdown-menu-item-group":"ant-menu-item-group")}ngAfterViewInit(){const t=this.titleElement.nativeElement.nextElementSibling;t&&this.renderer.addClass(t,this.isMenuInsideDropDown?"ant-dropdown-menu-item-group-list":"ant-menu-item-group-list")}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(Ai))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-menu-group",""]],viewQuery:function(i,r){if(1&i&&l.GBs(WO,5),2&i){let a;l.mGM(a=l.lsd())&&(r.titleElement=a.first)}},inputs:{nzTitle:"nzTitle"},exportAs:["nzMenuGroup"],standalone:!0,features:[l.Jv_([{provide:Ai,useFactory:iE}]),l.aNF],attrs:UO,ngContentSelectors:ZO,decls:5,vars:6,consts:[["titleElement",""],[4,"nzStringTemplateOutlet"]],template:function(i,r){1&i&&(l.NAR($O),l.j41(0,"div",null,0),l.DNE(2,qO,2,1,"ng-container",1)(3,KO,1,0),l.k0s(),l.SdG(4)),2&i&&(l.AVh("ant-menu-item-group-title",!r.isMenuInsideDropDown)("ant-dropdown-menu-item-group-title",r.isMenuInsideDropDown),l.R7$(2),l.Y8G("nzStringTemplateOutlet",r.nzTitle),l.R7$(),l.vxM(3,r.nzTitle?-1:3))},dependencies:[Xt.C,Xt.m],encapsulation:2,changeDetection:0})}return n})(),mb=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[gb,rE,db]})}return n})();const aE=["*"];function oE(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",0),l.bIt("@slideMotion.done",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAnimationEvent(r))})("mouseenter",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.setMouseState(!0))})("mouseleave",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.setMouseState(!1))}),l.SdG(1),l.k0s()}if(2&n){const t=l.XpG();l.AVh("ant-dropdown-rtl","rtl"===t.dir),l.Y8G("ngClass",t.nzOverlayClassName)("ngStyle",t.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)}}const lE=[ye.pn.bottomLeft,ye.pn.bottomRight,ye.pn.topRight,ye.pn.topLeft];let vl=(()=>{class n{setDropdownMenuValue(t,i){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(t,i)}constructor(t,i,r,a,o,s){this.nzConfigService=t,this.elementRef=i,this.overlay=r,this.renderer=a,this.viewContainerRef=o,this.platform=s,this._nzModuleName="dropDown",this.overlayRef=null,this.destroy$=new gt.B,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new re.t(!1),this.nzTrigger$=new re.t("hover"),this.overlayClose$=new gt.B,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new l.bkB}ngAfterViewInit(){if(this.nzDropdownMenu){const t=this.elementRef.nativeElement,i=(0,we.h)((0,qt.R)(t,"mouseenter").pipe((0,Ic.u)(!0)),(0,qt.R)(t,"mouseleave").pipe((0,Ic.u)(!1))),a=(0,we.h)(this.nzDropdownMenu.mouseState$,i),o=(0,qt.R)(t,"click").pipe((0,ue.T)(()=>!this.nzVisible)),s=this.nzTrigger$.pipe((0,Se.n)(p=>"hover"===p?a:"click"===p?o:Dc.w)),u=this.nzDropdownMenu.descendantMenuItemClick$.pipe((0,yn.p)(()=>this.nzClickHide),(0,Ic.u)(!1)),c=(0,we.h)(s,u,this.overlayClose$).pipe((0,yn.p)(()=>!this.nzDisabled)),h=(0,we.h)(this.inputVisible$,c);(0,sn.z)([h,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe((0,ue.T)(([p,f])=>p||f),(0,ld.Z)(150),(0,Mi.F)(),(0,yn.p)(()=>this.platform.isBrowser),(0,G.Q)(this.destroy$)).subscribe(p=>{const d=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:t).getBoundingClientRect().width;this.nzVisible!==p&&this.nzVisibleChange.emit(p),this.nzVisible=p,p?(this.overlayRef?this.overlayRef.getConfig().minWidth=d:(this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:d,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&"click"===this.nzTrigger,scrollStrategy:this.overlay.scrollStrategies.reposition()}),(0,we.h)(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe((0,yn.p)(v=>!this.elementRef.nativeElement.contains(v.target))),this.overlayRef.keydownEvents().pipe((0,yn.p)(v=>v.keyCode===Kt._f&&!(0,Kt.rp)(v)))).pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)})),this.positionStrategy.withPositions([ye.pn[this.nzPlacement],...lE]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new fl.VA(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)):this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{"void"===p.toState&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(t){const{nzVisible:i,nzDisabled:r,nzOverlayClassName:a,nzOverlayStyle:o,nzTrigger:s}=t;if(s&&this.nzTrigger$.next(this.nzTrigger),i&&this.inputVisible$.next(this.nzVisible),r){const u=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(u,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(u,"disabled")}a&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),o&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Pt.yx),l.rXU(l.aKT),l.rXU(_n.hJ),l.rXU(l.sFG),l.rXU(l.c1b),l.rXU(Xo.OD))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:"nzBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],standalone:!0,features:[l.OA$]})}return(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzBackdrop",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzClickHide",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzVisible",void 0),n})(),uE=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})(),cE=(()=>{class n{constructor(t,i,r){this.renderer=t,this.nzButtonGroupComponent=i,this.elementRef=r}ngAfterViewInit(){const t=this.renderer.parentNode(this.elementRef.nativeElement);this.nzButtonGroupComponent&&t&&this.renderer.addClass(t,"ant-dropdown-button")}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.sFG),l.rXU(an.dn,9),l.rXU(l.aKT))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["","nz-button","","nz-dropdown",""]],standalone:!0})}return n})(),Ac=(()=>{class n{onAnimationEvent(t){this.animationStateChange$.emit(t)}setMouseState(t){this.mouseState$.next(t)}setValue(t,i){this[t]=i,this.cdr.markForCheck()}constructor(t,i,r,a,o,s,u){this.cdr=t,this.elementRef=i,this.renderer=r,this.viewContainerRef=a,this.nzMenuService=o,this.directionality=s,this.noAnimation=u,this.mouseState$=new re.t(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new l.bkB,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new gt.B}ngOnInit(){this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(l.c1b),l.rXU(rr),l.rXU(se.dS,8),l.rXU(Ca.z,9))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-dropdown-menu"]],viewQuery:function(i,r){if(1&i&&l.GBs(l.C4Q,7),2&i){let a;l.mGM(a=l.lsd())&&(r.templateRef=a.first)}},exportAs:["nzDropdownMenu"],standalone:!0,features:[l.Jv_([rr,{provide:Ai,useValue:!0}]),l.aNF],ngContentSelectors:aE,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","ngClass","ngStyle","nzNoAnimation"]],template:function(i,r){1&i&&(l.NAR(),l.DNE(0,oE,2,7,"ng-template"))},dependencies:[U.YU,U.B3,Ca.z],encapsulation:2,data:{animation:[jo.U1]},changeDetection:0})}return n})(),kc=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[uE,mb]})}return n})();new _n.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new _n.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new _n.uH({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new _n.uH({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"});const yb=["*"],hE=["inputElement"],pE=["nz-checkbox",""],fE=(n,e)=>e.value;function dE(n,e){if(1&n){const t=l.RV6();l.j41(0,"label",1),l.bIt("nzCheckedChange",function(r){const a=l.eBV(t).$implicit,o=l.XpG();return l.Njj(o.onCheckedChange(a,r))}),l.j41(1,"span"),l.EFF(2),l.k0s()()}if(2&n){const t=e.$implicit,i=l.XpG();l.Y8G("nzDisabled",t.disabled||i.nzDisabled)("nzChecked",t.checked),l.R7$(2),l.JRh(t.label)}}let vE=(()=>{class n{constructor(){this.nzOnChange=new l.bkB,this.checkboxList=[]}addCheckbox(t){this.checkboxList.push(t)}removeCheckbox(t){this.checkboxList.splice(this.checkboxList.indexOf(t),1)}onChange(){const t=this.checkboxList.filter(i=>i.nzChecked).map(i=>i.nzValue);this.nzOnChange.emit(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-checkbox-wrapper"]],hostAttrs:[1,"ant-checkbox-group"],outputs:{nzOnChange:"nzOnChange"},exportAs:["nzCheckboxWrapper"],standalone:!0,features:[l.aNF],ngContentSelectors:yb,decls:1,vars:0,template:function(i,r){1&i&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})}return n})(),gl=(()=>{class n{innerCheckedChange(t){this.nzDisabled||(this.nzChecked=t,this.onChange(this.nzChecked),this.nzCheckedChange.emit(this.nzChecked),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.onChange())}writeValue(t){this.nzChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(t,i,r,a,o,s,u){this.ngZone=t,this.elementRef=i,this.nzCheckboxWrapperComponent=r,this.cdr=a,this.focusMonitor=o,this.directionality=s,this.nzFormStatusService=u,this.dir="ltr",this.destroy$=new gt.B,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzCheckedChange=new l.bkB,this.nzValue=null,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzChecked=!1,this.nzId=null}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t||Promise.resolve().then(()=>this.onTouched())}),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.addCheckbox(this),this.directionality.change.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,qt.R)(this.elementRef.nativeElement,"click").pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t.preventDefault(),this.focus(),!this.nzDisabled&&this.ngZone.run(()=>{this.innerCheckedChange(!this.nzChecked),this.cdr.markForCheck()})}),(0,qt.R)(this.inputElement.nativeElement,"click").pipe((0,G.Q)(this.destroy$)).subscribe(t=>t.stopPropagation())})}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.removeCheckbox(this),this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.SKi),l.rXU(l.aKT),l.rXU(vE,8),l.rXU(l.gRc),l.rXU(li.FN),l.rXU(se.dS,8),l.rXU(on.is,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-checkbox",""]],viewQuery:function(i,r){if(1&i&&l.GBs(hE,7),2&i){let a;l.mGM(a=l.lsd())&&(r.inputElement=a.first)}},hostAttrs:[1,"ant-checkbox-wrapper"],hostVars:6,hostBindings:function(i,r){2&i&&l.AVh("ant-checkbox-wrapper-in-form-item",!!r.nzFormStatusService)("ant-checkbox-wrapper-checked",r.nzChecked)("ant-checkbox-rtl","rtl"===r.dir)},inputs:{nzValue:"nzValue",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzChecked:"nzChecked",nzId:"nzId"},outputs:{nzCheckedChange:"nzCheckedChange"},exportAs:["nzCheckbox"],standalone:!0,features:[l.Jv_([{provide:Z.kq,useExisting:(0,l.Rfq)(()=>n),multi:!0}]),l.aNF],attrs:pE,ngContentSelectors:yb,decls:6,vars:11,consts:[["inputElement",""],[1,"ant-checkbox"],["type","checkbox",1,"ant-checkbox-input",3,"ngModelChange","checked","ngModel","disabled"],[1,"ant-checkbox-inner"]],template:function(i,r){if(1&i){const a=l.RV6();l.NAR(),l.j41(0,"span",1)(1,"input",2,0),l.bIt("ngModelChange",function(s){return l.eBV(a),l.Njj(r.innerCheckedChange(s))}),l.k0s(),l.nrm(3,"span",3),l.k0s(),l.j41(4,"span"),l.SdG(5),l.k0s()}2&i&&(l.AVh("ant-checkbox-checked",r.nzChecked&&!r.nzIndeterminate)("ant-checkbox-disabled",r.nzDisabled)("ant-checkbox-indeterminate",r.nzIndeterminate),l.R7$(),l.Y8G("checked",r.nzChecked)("ngModel",r.nzChecked)("disabled",r.nzDisabled),l.BMQ("autofocus",r.nzAutoFocus?"autofocus":null)("id",r.nzId))},dependencies:[Z.YN,Z.Zm,Z.BC,Z.vS],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzAutoFocus",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzIndeterminate",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzChecked",void 0),n})(),gE=(()=>{class n{onCheckedChange(t,i){t.checked=i,this.onChange(this.options)}constructor(t,i,r,a){this.elementRef=t,this.focusMonitor=i,this.cdr=r,this.directionality=a,this.onChange=()=>{},this.onTouched=()=>{},this.options=[],this.nzDisabled=!1,this.dir="ltr",this.destroy$=new gt.B,this.isNzDisableFirstChange=!0}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t||Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}writeValue(t){this.options=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(li.FN),l.rXU(l.gRc),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-checkbox-group"]],hostAttrs:[1,"ant-checkbox-group"],hostVars:2,hostBindings:function(i,r){2&i&&l.AVh("ant-checkbox-group-rtl","rtl"===r.dir)},inputs:{nzDisabled:"nzDisabled"},exportAs:["nzCheckboxGroup"],standalone:!0,features:[l.Jv_([{provide:Z.kq,useExisting:(0,l.Rfq)(()=>n),multi:!0}]),l.aNF],decls:2,vars:0,consts:[["nz-checkbox","",1,"ant-checkbox-group-item",3,"nzDisabled","nzChecked"],["nz-checkbox","",1,"ant-checkbox-group-item",3,"nzCheckedChange","nzDisabled","nzChecked"]],template:function(i,r){1&i&&l.Z7z(0,dE,3,3,"label",0,fE),2&i&&l.Dyx(r.options)},dependencies:[gl],encapsulation:2})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),n})(),ml=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[gl,gE]})}return n})();var Pc=tt(1377),ui=tt(494);function mE(n,e){if(1&n&&(l.qex(0),l.nrm(1,"img",4),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.Y8G("src",t.nzNotFoundImage,l.B4B)("alt",t.isContentString?t.nzNotFoundContent:"empty")}}function yE(n,e){if(1&n&&l.DNE(0,mE,2,2,"ng-container",3),2&n){const t=l.XpG();l.Y8G("nzStringTemplateOutlet",t.nzNotFoundImage)}}function _E(n,e){1&n&&l.nrm(0,"nz-empty-simple")}function bE(n,e){1&n&&l.nrm(0,"nz-empty-default")}function CE(n,e){if(1&n&&l.DNE(0,_E,1,0,"nz-empty-simple")(1,bE,1,0),2&n){const t=l.XpG();l.vxM(0,"simple"===t.nzNotFoundImage?0:1)}}function SE(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.SpI(" ",t.isContentString?t.nzNotFoundContent:t.locale.description," ")}}function xE(n,e){if(1&n&&(l.j41(0,"p",1),l.DNE(1,SE,2,1,"ng-container",3),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("nzStringTemplateOutlet",t.nzNotFoundContent)}}function zE(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.SpI(" ",t.nzNotFoundFooter," ")}}function wE(n,e){if(1&n&&(l.j41(0,"div",2),l.DNE(1,zE,2,1,"ng-container",3),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("nzStringTemplateOutlet",t.nzNotFoundFooter)}}function TE(n,e){if(1&n&&l.EFF(0),2&n){const t=l.XpG(2);l.SpI(" ",t.content," ")}}function DE(n,e){}function ME(n,e){if(1&n&&l.DNE(0,DE,0,0,"ng-template",0),2&n){const t=l.XpG(2);l.Y8G("cdkPortalOutlet",t.contentPortal)}}function IE(n,e){if(1&n&&l.DNE(0,TE,1,1)(1,ME,1,1),2&n){const t=l.XpG();l.vxM(0,"string"===t.contentType?0:1)}}function AE(n,e){1&n&&l.nrm(0,"nz-empty",1)}function kE(n,e){1&n&&l.nrm(0,"nz-empty",2)}function PE(n,e){1&n&&l.nrm(0,"nz-empty")}function RE(n,e){if(1&n&&l.DNE(0,AE,1,0)(1,kE,1,0)(2,PE,1,0),2&n){let t;const i=l.XpG(2);l.vxM(0,"normal"===(t=i.size)?0:"small"===t?1:2)}}function NE(n,e){if(1&n&&l.DNE(0,RE,3,1),2&n){const t=l.XpG();l.vxM(0,null!==t.specificContent?0:-1)}}const OE=new l.nKC("nz-empty-component-name");let EE=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],standalone:!0,features:[l.aNF],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(i,r){1&i&&(l.qSk(),l.j41(0,"svg",0)(1,"g",1)(2,"g",2),l.nrm(3,"ellipse",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),l.k0s(),l.nrm(8,"path",8),l.j41(9,"g",9),l.nrm(10,"ellipse",10)(11,"path",11),l.k0s()()())},encapsulation:2,changeDetection:0})}return n})(),LE=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],standalone:!0,features:[l.aNF],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(i,r){1&i&&(l.qSk(),l.j41(0,"svg",0)(1,"g",1),l.nrm(2,"ellipse",2),l.j41(3,"g",3),l.nrm(4,"path",4)(5,"path",5),l.k0s()()())},encapsulation:2,changeDetection:0})}return n})();const BE=["default","simple"];let _b=(()=>{class n{constructor(t,i){this.i18n=t,this.cdr=i,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new gt.B}ngOnChanges(t){const{nzNotFoundContent:i,nzNotFoundImage:r}=t;if(i&&(this.isContentString="string"==typeof i.currentValue),r){const a=r.currentValue||"default";this.isImageBuildIn=BE.findIndex(o=>o===a)>-1}}ngOnInit(){this.i18n.localeChange.pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Pc.Og),l.rXU(l.gRc))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],standalone:!0,features:[l.OA$,l.aNF],decls:5,vars:3,consts:[[1,"ant-empty-image"],[1,"ant-empty-description"],[1,"ant-empty-footer"],[4,"nzStringTemplateOutlet"],[3,"src","alt"]],template:function(i,r){1&i&&(l.j41(0,"div",0),l.DNE(1,yE,1,1,"ng-container")(2,CE,2,1),l.k0s(),l.DNE(3,xE,2,1,"p",1)(4,wE,2,1,"div",2)),2&i&&(l.R7$(),l.vxM(1,r.isImageBuildIn?2:1),l.R7$(2),l.vxM(3,null!==r.nzNotFoundContent?3:-1),l.R7$(),l.vxM(4,r.nzNotFoundFooter?4:-1))},dependencies:[Xt.C,Xt.m,EE,LE],encapsulation:2,changeDetection:0})}return n})(),cd=(()=>{class n{constructor(t,i,r,a){this.configService=t,this.viewContainerRef=i,this.cdr=r,this.injector=a,this.contentType="string",this.size="",this.destroy$=new gt.B}ngOnChanges(t){t.nzComponentName&&(this.size=function VE(n){switch(n){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(t.nzComponentName.currentValue)),t.specificContent&&!t.specificContent.isFirstChange()&&(this.content=t.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const t=this.content;if("string"==typeof t)this.contentType="string";else if(t instanceof l.C4Q){const i={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new fl.VA(t,this.viewContainerRef,i)}else if(t instanceof l.ZUJ){const i=l.zZn.create({parent:this.injector,providers:[{provide:OE,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new fl.A8(t,this.viewContainerRef,i)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe((0,Re.Z)(!0),(0,G.Q)(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Pt.yx),l.rXU(l.c1b),l.rXU(l.gRc),l.rXU(l.zZn))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],standalone:!0,features:[l.OA$,l.aNF],decls:2,vars:1,consts:[[3,"cdkPortalOutlet"],["nzNotFoundImage","simple",1,"ant-empty-normal"],["nzNotFoundImage","simple",1,"ant-empty-small"]],template:function(i,r){1&i&&l.DNE(0,IE,2,1)(1,NE,1,1),2&i&&l.vxM(0,r.content?0:1)},dependencies:[_b,fl.jc,fl.I3],encapsulation:2,changeDetection:0})}return n})(),bb=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[_b,cd]})}return n})();var hd=tt(4085),kr=tt(1985);let FE=(()=>{class n{create(t){return typeof ResizeObserver>"u"?null:new ResizeObserver(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rc=(()=>{class n{constructor(t){this.nzResizeObserverFactory=t,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((t,i)=>this.cleanupObserver(i))}observe(t){const i=(0,hd.i8)(t);return new kr.c(r=>{const o=this.observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this.unobserveElement(i)}})}observeElement(t){if(this.observedElements.has(t))this.observedElements.get(t).count++;else{const i=new gt.B,r=this.nzResizeObserverFactory.create(a=>i.next(a));r&&r.observe(t),this.observedElements.set(t,{observer:r,stream:i,count:1})}return this.observedElements.get(t).stream}unobserveElement(t){this.observedElements.has(t)&&(this.observedElements.get(t).count--,this.observedElements.get(t).count||this.cleanupObserver(t))}cleanupObserver(t){if(this.observedElements.has(t)){const{observer:i,stream:r}=this.observedElements.get(t);i&&i.disconnect(),r.complete(),this.observedElements.delete(t)}}static#t=this.\u0275fac=function(i){return new(i||n)(l.KVO(FE))};static#e=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cb=tt(9974),Nc=tt(4360),Sb=tt(8750),GE=tt(3669),xb=tt(5343),HE=tt(9326),Wo=tt(4500);const zb=["*"];function jE(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.JRh(t.nzLabel)}}function YE(n,e){}function WE(n,e){if(1&n&&l.DNE(0,YE,0,0,"ng-template",4),2&n){const t=l.XpG();l.Y8G("ngTemplateOutlet",t.template)}}function UE(n,e){if(1&n&&l.EFF(0),2&n){const t=l.XpG();l.JRh(t.label)}}function $E(n,e){1&n&&l.nrm(0,"span",7)}function ZE(n,e){if(1&n&&(l.j41(0,"div",5),l.DNE(1,$E,1,0,"span",6),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("ngIf",!t.icon)("ngIfElse",t.icon)}}function qE(n,e){if(1&n&&(l.j41(0,"div",4),l.nrm(1,"nz-embed-empty",5),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("specificContent",t.notFoundContent)}}function KE(n,e){if(1&n&&l.nrm(0,"nz-option-item-group",9),2&n){const t=l.XpG().$implicit;l.Y8G("nzLabel",t.groupLabel)}}function QE(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-option-item",10),l.bIt("itemHover",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onItemHover(r))})("itemClick",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onItemClick(r))}),l.k0s()}if(2&n){const t=l.XpG().$implicit,i=l.XpG();l.Y8G("icon",i.menuItemSelectedIcon)("customContent",t.nzCustomContent)("template",t.template)("grouped",!!t.groupLabel)("disabled",t.nzDisabled||i.isMaxLimitReached&&!i.listOfSelectedValue.includes(t.nzValue))("showState","tags"===i.mode||"multiple"===i.mode)("title",t.nzTitle)("label",t.nzLabel)("compareWith",i.compareWith)("activatedValue",i.activatedValue)("listOfSelectedValue",i.listOfSelectedValue)("value",t.nzValue)}}function JE(n,e){1&n&&(l.qex(0,6),l.DNE(1,KE,1,1,"nz-option-item-group",7)(2,QE,1,12,"nz-option-item",8),l.bVm()),2&n&&(l.Y8G("ngSwitch",e.$implicit.type),l.R7$(),l.Y8G("ngSwitchCase","group"),l.R7$(),l.Y8G("ngSwitchCase","item"))}function tL(n,e){}function eL(n,e){1&n&&l.SdG(0)}function nL(n,e){if(1&n&&(l.qex(0),l.j41(1,"span"),l.EFF(2),l.k0s(),l.bVm()),2&n){const t=l.XpG();l.R7$(2),l.Lme("",t.listOfValue.length," / ",t.nzMaxMultipleCount,"")}}function iL(n,e){1&n&&l.nrm(0,"span",5)}function rL(n,e){1&n&&l.nrm(0,"span",9)}function aL(n,e){1&n&&l.nrm(0,"span",10)}function oL(n,e){if(1&n&&(l.qex(0),l.DNE(1,rL,1,0,"span",7)(2,aL,1,0,"span",8),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.Y8G("ngIf",!t.search),l.R7$(),l.Y8G("ngIf",t.search)}}function sL(n,e){if(1&n&&l.nrm(0,"span",12),2&n){const t=l.XpG().$implicit;l.Y8G("nzType",t)}}function lL(n,e){if(1&n&&(l.qex(0),l.DNE(1,sL,1,1,"span",11),l.bVm()),2&n){const t=e.$implicit;l.R7$(),l.Y8G("ngIf",t)}}function uL(n,e){if(1&n&&l.DNE(0,lL,2,1,"ng-container",4),2&n){const t=l.XpG(2);l.Y8G("nzStringTemplateOutlet",t.suffixIcon)}}function cL(n,e){if(1&n&&l.DNE(0,oL,3,2,"ng-container",6)(1,uL,1,1,"ng-template",null,1,l.C5r),2&n){const t=l.sdS(2),i=l.XpG();l.Y8G("ngIf",i.showArrow&&!i.suffixIcon)("ngIfElse",t)}}function hL(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.JRh(t.feedbackIcon)}}function pL(n,e){1&n&&l.nrm(0,"span",1)}const fL=n=>({$implicit:n});function dL(n,e){if(1&n&&(l.j41(0,"div",4),l.EFF(1),l.k0s()),2&n){const t=l.XpG(2);l.R7$(),l.JRh(t.label)}}function vL(n,e){if(1&n&&l.EFF(0),2&n){const t=l.XpG(2);l.JRh(t.label)}}function gL(n,e){if(1&n&&(l.qex(0),l.DNE(1,dL,2,1,"div",3)(2,vL,1,1,"ng-template",null,0,l.C5r),l.bVm()),2&n){const t=l.sdS(3),i=l.XpG();l.R7$(),l.Y8G("ngIf",i.deletable)("ngIfElse",t)}}function mL(n,e){1&n&&l.nrm(0,"span",7)}function yL(n,e){if(1&n){const t=l.RV6();l.j41(0,"span",5),l.bIt("click",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onDelete(r))}),l.DNE(1,mL,1,0,"span",6),l.k0s()}if(2&n){const t=l.XpG();l.R7$(),l.Y8G("ngIf",!t.removeIcon)("ngIfElse",t.removeIcon)}}function _L(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.SpI(" ",t.placeholder," ")}}const bL=["inputElement"],CL=["mirrorElement"];function SL(n,e){1&n&&l.nrm(0,"span",4,1)}function xL(n,e){if(1&n&&l.nrm(0,"nz-select-item",6),2&n){const t=l.XpG(2);l.Y8G("deletable",!1)("disabled",!1)("removeIcon",t.removeIcon)("label",t.listOfTopItem[0].nzLabel)("contentTemplateOutlet",t.customTemplate)("contentTemplateOutletContext",t.listOfTopItem[0])}}function zL(n,e){if(1&n){const t=l.RV6();l.qex(0),l.j41(1,"nz-select-search",4),l.bIt("isComposingChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.isComposingChange(r))})("valueChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onInputValueChange(r))}),l.k0s(),l.DNE(2,xL,1,6,"nz-select-item",5),l.bVm()}if(2&n){const t=l.XpG();l.R7$(),l.Y8G("nzId",t.nzId)("disabled",t.disabled)("value",t.inputValue)("showInput",t.showSearch)("mirrorSync",!1)("autofocus",t.autofocus)("focusTrigger",t.open),l.R7$(),l.Y8G("ngIf",t.isShowSingleLabel)}}function wL(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-select-item",9),l.bIt("delete",function(){const r=l.eBV(t).$implicit,a=l.XpG(2);return l.Njj(a.onDeleteItem(r.contentTemplateOutletContext))}),l.k0s()}if(2&n){const t=e.$implicit,i=l.XpG(2);l.Y8G("removeIcon",i.removeIcon)("label",t.nzLabel)("disabled",t.nzDisabled||i.disabled)("contentTemplateOutlet",t.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",t.contentTemplateOutletContext)}}function TL(n,e){if(1&n){const t=l.RV6();l.qex(0),l.DNE(1,wL,1,6,"nz-select-item",7),l.j41(2,"nz-select-search",8),l.bIt("isComposingChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.isComposingChange(r))})("valueChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onInputValueChange(r))}),l.k0s(),l.bVm()}if(2&n){const t=l.XpG();l.R7$(),l.Y8G("ngForOf",t.listOfSlicedItem)("ngForTrackBy",t.trackValue),l.R7$(),l.Y8G("nzId",t.nzId)("disabled",t.disabled)("value",t.inputValue)("autofocus",t.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",t.open)}}function DL(n,e){if(1&n&&l.nrm(0,"nz-select-placeholder",10),2&n){const t=l.XpG();l.Y8G("placeholder",t.placeHolder)}}function ML(n,e){if(1&n&&l.nrm(0,"nz-form-item-feedback-icon",8),2&n){const t=l.XpG(3);l.Y8G("status",t.status)}}function IL(n,e){if(1&n&&l.DNE(0,ML,1,1,"nz-form-item-feedback-icon",7),2&n){const t=l.XpG(2);l.Y8G("ngIf",t.hasFeedback&&!!t.status)}}function AL(n,e){if(1&n&&(l.j41(0,"nz-select-arrow",6),l.DNE(1,IL,1,1,"ng-template",null,1,l.C5r),l.k0s()),2&n){const t=l.sdS(2),i=l.XpG();l.Y8G("showArrow",i.nzShowArrow)("loading",i.nzLoading)("search",i.nzOpen&&i.nzShowSearch)("suffixIcon",i.nzSuffixIcon)("feedbackIcon",t)("nzMaxMultipleCount",i.nzMaxMultipleCount)("listOfValue",i.listOfValue)("isMaxTagCountSet",i.isMaxTagCountSet)}}function kL(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-select-clear",9),l.bIt("clear",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.onClearSelection())}),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("clearIcon",t.nzClearIcon)}}function PL(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-option-container",10),l.bIt("keydown",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onKeyDown(r))})("itemClick",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onItemClick(r))})("scrollToBottom",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.nzScrollToBottom.emit())}),l.k0s()}if(2&n){const t=l.XpG();l.AVh("ant-select-dropdown-placement-bottomLeft","bottomLeft"===t.dropDownPosition)("ant-select-dropdown-placement-topLeft","topLeft"===t.dropDownPosition)("ant-select-dropdown-placement-bottomRight","bottomRight"===t.dropDownPosition)("ant-select-dropdown-placement-topRight","topRight"===t.dropDownPosition),l.Y8G("ngStyle",t.nzDropdownStyle)("itemSize",t.nzOptionHeightPx)("maxItemLength",t.nzOptionOverflowSize)("matchWidth",t.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("listOfContainerItem",t.listOfContainerItem)("menuItemSelectedIcon",t.nzMenuItemSelectedIcon)("notFoundContent",t.nzNotFoundContent)("activatedValue",t.activatedValue)("listOfSelectedValue",t.listOfValue)("dropdownRender",t.nzDropdownRender)("compareWith",t.compareWith)("mode",t.nzMode)("isMaxLimitReached",t.isMaxLimitReached)}}let pd=(()=>{class n{constructor(){this.nzLabel=null,this.changes=new gt.B}ngOnChanges(){this.changes.next()}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],standalone:!0,features:[l.OA$,l.aNF],ngContentSelectors:zb,decls:1,vars:0,template:function(i,r){1&i&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})}return n})(),wb=(()=>{class n{constructor(){this.nzLabel=null}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-option-item-group"]],hostAttrs:[1,"ant-select-item","ant-select-item-group"],inputs:{nzLabel:"nzLabel"},standalone:!0,features:[l.aNF],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(i,r){1&i&&l.DNE(0,jE,2,1,"ng-container",0),2&i&&l.Y8G("nzStringTemplateOutlet",r.nzLabel)},dependencies:[Xt.C,Xt.m],encapsulation:2,changeDetection:0})}return n})(),Tb=(()=>{class n{constructor(t,i,r){this.elementRef=t,this.ngZone=i,this.destroy$=r,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new l.bkB,this.itemHover=new l.bkB}ngOnChanges(t){const{value:i,activatedValue:r,listOfSelectedValue:a}=t;(i||a)&&(this.selected=this.listOfSelectedValue.some(o=>this.compareWith(o,this.value))),(i||r)&&(this.activated=this.compareWith(this.activatedValue,this.value))}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,qt.R)(this.elementRef.nativeElement,"click").pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemClick.emit(this.value))}),(0,qt.R)(this.elementRef.nativeElement,"mouseenter").pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemHover.emit(this.value))})})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(Ce.y4))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-option-item"]],hostAttrs:[1,"ant-select-item","ant-select-item-option"],hostVars:9,hostBindings:function(i,r){2&i&&(l.BMQ("title",r.title),l.AVh("ant-select-item-option-grouped",r.grouped)("ant-select-item-option-selected",r.selected&&!r.disabled)("ant-select-item-option-disabled",r.disabled)("ant-select-item-option-active",r.activated&&!r.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",title:"title",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},standalone:!0,features:[l.Jv_([Ce.y4]),l.OA$,l.aNF],decls:5,vars:3,consts:[["noCustomContent",""],[1,"ant-select-item-option-content"],[3,"ngIf","ngIfElse"],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(i,r){if(1&i&&(l.j41(0,"div",1),l.DNE(1,WE,1,1,"ng-template",2)(2,UE,1,1,"ng-template",null,0,l.C5r),l.k0s(),l.DNE(4,ZE,2,2,"div",3)),2&i){const a=l.sdS(3);l.R7$(),l.Y8G("ngIf",r.customContent)("ngIfElse",a),l.R7$(3),l.Y8G("ngIf",r.showState&&r.selected)}},dependencies:[U.bT,U.T3,vt.Y3,vt.Dn],encapsulation:2,changeDetection:0})}return n})(),Db=(()=>{class n{constructor(){this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.isMaxLimitReached=!1,this.listOfContainerItem=[],this.itemClick=new l.bkB,this.scrollToBottom=new l.bkB,this.scrolledIndex=0,this.ngZone=(0,l.WQX)(l.SKi),this.platformId=(0,l.WQX)(l.Agw)}onItemClick(t){this.itemClick.emit(t)}onItemHover(t){this.activatedValue=t}trackValue(t,i){return i.key}onScrolledIndexChange(t){this.scrolledIndex=t,t===this.listOfContainerItem.length-this.maxItemLength-1&&this.scrollToBottom.emit()}scrollToActivatedValue(){const t=this.listOfContainerItem.findIndex(i=>this.compareWith(i.key,this.activatedValue));(t<this.scrolledIndex||t>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(t||0)}ngOnChanges(t){const{listOfContainerItem:i,activatedValue:r}=t;(i||r)&&this.scrollToActivatedValue()}ngAfterViewInit(){(0,U.UE)(this.platformId)&&this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.scrollToActivatedValue()))}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-option-container"]],viewQuery:function(i,r){if(1&i&&l.GBs(ui.d6,7),2&i){let a;l.mGM(a=l.lsd())&&(r.cdkVirtualScrollViewport=a.first)}},hostAttrs:[1,"ant-select-dropdown"],inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",compareWith:"compareWith",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",isMaxLimitReached:"isMaxLimitReached",listOfContainerItem:"listOfContainerItem"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],standalone:!0,features:[l.OA$,l.aNF],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"scrolledIndexChange","itemSize","maxBufferPx","minBufferPx"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"itemHover","itemClick","icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value"]],template:function(i,r){1&i&&(l.j41(0,"div"),l.DNE(1,qE,2,1,"div",0),l.j41(2,"cdk-virtual-scroll-viewport",1),l.bIt("scrolledIndexChange",function(o){return r.onScrolledIndexChange(o)}),l.DNE(3,JE,3,3,"ng-template",2),l.k0s(),l.DNE(4,tL,0,0,"ng-template",3),l.k0s()),2&i&&(l.R7$(),l.Y8G("ngIf",0===r.listOfContainerItem.length),l.R7$(),l.xc7("height",r.listOfContainerItem.length*r.itemSize,"px")("max-height",r.itemSize*r.maxItemLength,"px"),l.AVh("full-width",!r.matchWidth),l.Y8G("itemSize",r.itemSize)("maxBufferPx",r.itemSize*r.maxItemLength)("minBufferPx",r.itemSize*r.maxItemLength),l.R7$(),l.Y8G("cdkVirtualForOf",r.listOfContainerItem)("cdkVirtualForTrackBy",r.trackValue)("cdkVirtualForTemplateCacheSize",0),l.R7$(),l.Y8G("ngTemplateOutlet",r.dropdownRender))},dependencies:[bb,cd,U.bT,U.ux,wb,U.e1,Tb,U.T3,_n.z_,ui.yg,ui.E$,ui.d6,ye.$_],encapsulation:2,changeDetection:0})}return n})(),Oc=(()=>{class n{constructor(t,i){this.nzOptionGroupComponent=t,this.destroy$=i,this.changes=new gt.B,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe((0,Re.Z)(!0),(0,G.Q)(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent.nzLabel})}ngOnChanges(){this.changes.next()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(pd,8),l.rXU(Ce.y4))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-option"]],viewQuery:function(i,r){if(1&i&&l.GBs(l.C4Q,7),2&i){let a;l.mGM(a=l.lsd())&&(r.template=a.first)}},inputs:{nzTitle:"nzTitle",nzLabel:"nzLabel",nzValue:"nzValue",nzKey:"nzKey",nzDisabled:"nzDisabled",nzHide:"nzHide",nzCustomContent:"nzCustomContent"},exportAs:["nzOption"],standalone:!0,features:[l.Jv_([Ce.y4]),l.OA$,l.aNF],ngContentSelectors:zb,decls:1,vars:0,template:function(i,r){1&i&&(l.NAR(),l.DNE(0,eL,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzHide",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzCustomContent",void 0),n})(),Mb=(()=>{class n{constructor(){this.listOfValue=[],this.loading=!1,this.search=!1,this.showArrow=!1,this.isMaxTagCountSet=!1,this.suffixIcon=null,this.feedbackIcon=null,this.nzMaxMultipleCount=1/0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-select-arrow"]],hostAttrs:[1,"ant-select-arrow"],hostVars:2,hostBindings:function(i,r){2&i&&l.AVh("ant-select-arrow-loading",r.loading)},inputs:{listOfValue:"listOfValue",loading:"loading",search:"search",showArrow:"showArrow",isMaxTagCountSet:"isMaxTagCountSet",suffixIcon:"suffixIcon",feedbackIcon:"feedbackIcon",nzMaxMultipleCount:"nzMaxMultipleCount"},standalone:!0,features:[l.aNF],decls:5,vars:4,consts:[["defaultArrow",""],["suffixTemplate",""],[4,"ngIf"],["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(i,r){if(1&i&&l.DNE(0,nL,3,2,"ng-container",2)(1,iL,1,0,"span",3)(2,cL,3,2,"ng-template",null,0,l.C5r)(4,hL,2,1,"ng-container",4),2&i){const a=l.sdS(3);l.Y8G("ngIf",r.isMaxTagCountSet),l.R7$(),l.Y8G("ngIf",r.loading)("ngIfElse",a),l.R7$(3),l.Y8G("nzStringTemplateOutlet",r.feedbackIcon)}},dependencies:[vt.Y3,vt.Dn,U.bT,Xt.C,Xt.m],encapsulation:2,changeDetection:0})}return n})(),Ib=(()=>{class n{constructor(){this.clearIcon=null,this.clear=new l.bkB}onClick(t){t.preventDefault(),t.stopPropagation(),this.clear.emit(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-select-clear"]],hostAttrs:[1,"ant-select-clear"],hostBindings:function(i,r){1&i&&l.bIt("click",function(o){return r.onClick(o)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},standalone:!0,features:[l.aNF],decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(i,r){1&i&&l.DNE(0,pL,1,0,"span",0),2&i&&l.Y8G("ngIf",!r.clearIcon)("ngIfElse",r.clearIcon)},dependencies:[vt.Y3,vt.Dn,U.bT],encapsulation:2,changeDetection:0})}return n})(),Ab=(()=>{class n{constructor(){this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new l.bkB}onDelete(t){t.preventDefault(),t.stopPropagation(),this.disabled||this.delete.next(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-select-item"]],hostAttrs:[1,"ant-select-selection-item"],hostVars:3,hostBindings:function(i,r){2&i&&(l.BMQ("title",r.label),l.AVh("ant-select-selection-item-disabled",r.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},standalone:!0,features:[l.aNF],decls:2,vars:5,consts:[["labelTemplate",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(i,r){1&i&&l.DNE(0,gL,4,2,"ng-container",1)(1,yL,2,2,"span",2),2&i&&(l.Y8G("nzStringTemplateOutlet",r.contentTemplateOutlet)("nzStringTemplateOutletContext",l.eq3(3,fL,r.contentTemplateOutletContext)),l.R7$(),l.Y8G("ngIf",r.deletable&&!r.disabled))},dependencies:[Xt.C,Xt.m,U.bT,vt.Y3,vt.Dn],encapsulation:2,changeDetection:0})}return n})(),kb=(()=>{class n{constructor(){this.placeholder=null}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-select-placeholder"]],hostAttrs:[1,"ant-select-selection-placeholder"],inputs:{placeholder:"placeholder"},standalone:!0,features:[l.aNF],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(i,r){1&i&&l.DNE(0,_L,2,1,"ng-container",0),2&i&&l.Y8G("nzStringTemplateOutlet",r.placeholder)},dependencies:[Xt.C,Xt.m],encapsulation:2,changeDetection:0})}return n})(),fd=(()=>{class n{setCompositionState(t){this.isComposingChange.next(t)}onValueChange(t){this.value=t,this.valueChange.next(t),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){this.inputElement.nativeElement.value="",this.onValueChange("")}syncMirrorWidth(){const t=this.mirrorElement.nativeElement,i=this.elementRef.nativeElement,r=this.inputElement.nativeElement;this.renderer.removeStyle(i,"width"),this.renderer.setProperty(t,"textContent",`${r.value}\xa0`),this.renderer.setStyle(i,"width",`${t.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(t,i,r){this.elementRef=t,this.renderer=i,this.focusMonitor=r,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new l.bkB,this.isComposingChange=new l.bkB}ngOnChanges(t){const i=this.inputElement.nativeElement,{focusTrigger:r,showInput:a}=t;a&&(this.showInput?this.renderer.removeAttribute(i,"readonly"):this.renderer.setAttribute(i,"readonly","readonly")),r&&!0===r.currentValue&&!1===r.previousValue&&i.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(li.FN))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-select-search"]],viewQuery:function(i,r){if(1&i&&(l.GBs(bL,7),l.GBs(CL,5)),2&i){let a;l.mGM(a=l.lsd())&&(r.inputElement=a.first),l.mGM(a=l.lsd())&&(r.mirrorElement=a.first)}},hostAttrs:[1,"ant-select-selection-search"],inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},standalone:!0,features:[l.Jv_([{provide:Z.mP,useValue:!1}]),l.OA$,l.aNF],decls:3,vars:7,consts:[["inputElement",""],["mirrorElement",""],["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModelChange","compositionstart","compositionend","ngModel","disabled"],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"]],template:function(i,r){if(1&i){const a=l.RV6();l.j41(0,"input",2,0),l.bIt("ngModelChange",function(s){return l.eBV(a),l.Njj(r.onValueChange(s))})("compositionstart",function(){return l.eBV(a),l.Njj(r.setCompositionState(!0))})("compositionend",function(){return l.eBV(a),l.Njj(r.setCompositionState(!1))}),l.k0s(),l.DNE(2,SL,2,0,"span",3)}2&i&&(l.xc7("opacity",r.showInput?null:0),l.Y8G("ngModel",r.value)("disabled",r.disabled),l.BMQ("id",r.nzId)("autofocus",r.autofocus?"autofocus":null),l.R7$(2),l.Y8G("ngIf",r.mirrorSync))},dependencies:[Z.YN,Z.me,Z.BC,Z.vS,U.bT],encapsulation:2,changeDetection:0})}return n})(),Ec=(()=>{class n{updateTemplateVariable(){const t=0===this.listOfTopItem.length;this.isShowPlaceholder=t&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!t&&!this.isComposing&&!this.inputValue}isComposingChange(t){this.isComposing=t,this.updateTemplateVariable()}onInputValueChange(t){t!==this.inputValue&&(this.inputValue=t,this.updateTemplateVariable(),this.inputValueChange.emit(t),this.tokenSeparate(t,this.tokenSeparators))}tokenSeparate(t,i){if(t&&t.length&&i.length&&"default"!==this.mode&&((o,s)=>{for(let u=0;u<s.length;++u)if(o.lastIndexOf(s[u])>0)return!0;return!1})(t,i)){const o=((o,s)=>{const u=new RegExp(`[${s.join()}]`),c=o.split(u).filter(h=>h);return[...new Set(c)]})(t,i);this.tokenize.next(o)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(t,i){return i.nzValue}onDeleteItem(t){!this.disabled&&!t.nzDisabled&&this.deleteItem.next(t)}constructor(t,i,r){this.elementRef=t,this.ngZone=i,this.noAnimation=r,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new l.bkB,this.inputValueChange=new l.bkB,this.deleteItem=new l.bkB,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new gt.B}ngOnChanges(t){const{listOfTopItem:i,maxTagCount:r,customTemplate:a,maxTagPlaceholder:o}=t;if(i&&this.updateTemplateVariable(),i||r||a||o){const s=this.listOfTopItem.slice(0,this.maxTagCount).map(u=>({nzLabel:u.nzLabel,nzValue:u.nzValue,nzDisabled:u.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:u}));if(this.listOfTopItem.length>this.maxTagCount){const u=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,c=this.listOfTopItem.map(p=>p.nzValue),h={nzLabel:u,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:c.slice(this.maxTagCount)};s.push(h)}this.listOfSlicedItem=s}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,qt.R)(this.elementRef.nativeElement,"click").pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),(0,qt.R)(this.elementRef.nativeElement,"keydown").pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t.target instanceof HTMLInputElement&&t.keyCode===Kt.G_&&"default"!==this.mode&&!t.target.value&&this.listOfTopItem.length>0&&(t.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))})})}ngOnDestroy(){this.destroy$.next()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(Ca.z,9))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-select-top-control"]],viewQuery:function(i,r){if(1&i&&l.GBs(fd,5),2&i){let a;l.mGM(a=l.lsd())&&(r.nzSelectSearchComponent=a.first)}},hostAttrs:[1,"ant-select-selector"],inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:"maxTagCount",autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],standalone:!0,features:[l.OA$,l.aNF],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"isComposingChange","valueChange","nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"isComposingChange","valueChange","nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger"],[3,"delete","removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext"],[3,"placeholder"]],template:function(i,r){1&i&&(l.qex(0,0),l.DNE(1,zL,3,8,"ng-container",1)(2,TL,3,9,"ng-container",2),l.bVm(),l.DNE(3,DL,1,1,"nz-select-placeholder",3)),2&i&&(l.Y8G("ngSwitch",r.mode),l.R7$(),l.Y8G("ngSwitchCase","default"),l.R7$(2),l.Y8G("ngIf",r.isShowPlaceholder))},dependencies:[U.ux,fd,U.e1,Ab,U.bT,U.fG,U.pM,kb],encapsulation:2,changeDetection:0})}return n})();const RL=(n,e)=>!(!e||!e.nzLabel)&&e.nzLabel.toString().toLowerCase().indexOf(n.toLowerCase())>-1;let Lc=(()=>{class n{set nzShowArrow(t){this._nzShowArrow=t}get nzShowArrow(){return void 0===this._nzShowArrow?"default"===this.nzMode:this._nzShowArrow}get isMaxTagCountSet(){return this.nzMaxMultipleCount!==1/0}generateTagItem(t){return{nzValue:t,nzLabel:t,type:"item"}}onItemClick(t){if(this.activatedValue=t,"default"===this.nzMode)(0===this.listOfValue.length||!this.compareWith(this.listOfValue[0],t))&&this.updateListOfValue([t]),this.setOpenState(!1);else{const i=this.listOfValue.findIndex(r=>this.compareWith(r,t));if(-1!==i){const r=this.listOfValue.filter((a,o)=>o!==i);this.updateListOfValue(r)}else if(this.listOfValue.length<this.nzMaxMultipleCount){const r=[...this.listOfValue,t];this.updateListOfValue(r)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(t){const i=this.listOfValue.filter(r=>!this.compareWith(r,t.nzValue));this.updateListOfValue(i),this.clearInput()}updateListOfContainerItem(){let t=this.listOfTagAndTemplateItem.filter(a=>!a.nzHide).filter(a=>!(!this.nzServerSearch&&this.searchValue)||this.nzFilterOption(this.searchValue,a));if("tags"===this.nzMode&&this.searchValue){const a=this.listOfTagAndTemplateItem.find(o=>o.nzLabel===this.searchValue);if(a)this.activatedValue=a.nzValue;else{const o=this.generateTagItem(this.searchValue);t=[o,...t],this.activatedValue=o.nzValue}}const i=t.find(a=>a.nzLabel===this.searchValue)||t.find(a=>this.compareWith(a.nzValue,this.activatedValue))||t.find(a=>this.compareWith(a.nzValue,this.listOfValue[0]))||t[0];this.activatedValue=i&&i.nzValue||null;let r=[];this.isReactiveDriven?r=[...new Set(this.nzOptions.filter(a=>a.groupLabel).map(a=>a.groupLabel))]:this.listOfNzOptionGroupComponent&&(r=this.listOfNzOptionGroupComponent.map(a=>a.nzLabel)),r.forEach(a=>{const o=t.findIndex(s=>a===s.groupLabel);o>-1&&t.splice(o,0,{groupLabel:a,type:"group",key:a})}),this.listOfContainerItem=[...t],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(t){const r=((a,o)=>"default"===this.nzMode?a.length>0?a[0]:null:a)(t);this.value!==r&&(this.listOfValue=t,this.listOfValue$.next(t),this.value=r,this.onChange(this.value)),this.isMaxLimitReached=this.nzMaxMultipleCount!==1/0&&this.listOfValue.length===this.nzMaxMultipleCount}onTokenSeparate(t){const i=this.listOfTagAndTemplateItem.filter(r=>-1!==t.findIndex(a=>a===r.nzLabel)).map(r=>r.nzValue).filter(r=>-1===this.listOfValue.findIndex(a=>this.compareWith(a,r)));if("multiple"===this.nzMode)this.updateListOfValue([...this.listOfValue,...i]);else if("tags"===this.nzMode){const r=t.filter(a=>-1===this.listOfTagAndTemplateItem.findIndex(o=>o.nzLabel===a));this.updateListOfValue([...this.listOfValue,...i,...r])}this.clearInput()}onKeyDown(t){if(this.nzDisabled)return;const i=this.listOfContainerItem.filter(a=>"item"===a.type).filter(a=>!a.nzDisabled),r=i.findIndex(a=>this.compareWith(a.nzValue,this.activatedValue));switch(t.keyCode){case Kt.i7:t.preventDefault(),this.nzOpen&&i.length>0&&(this.activatedValue=i[r>0?r-1:i.length-1].nzValue);break;case Kt.n6:t.preventDefault(),this.nzOpen&&i.length>0?this.activatedValue=i[r<i.length-1?r+1:0].nzValue:this.setOpenState(!0);break;case Kt.Fm:t.preventDefault(),this.nzOpen?(0,Y.n9)(this.activatedValue)&&-1!==r&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case Kt.t6:this.nzOpen||(this.setOpenState(!0),t.preventDefault());break;case Kt.wn:this.nzSelectOnTab?this.nzOpen&&(t.preventDefault(),(0,Y.n9)(this.activatedValue)&&this.onItemClick(this.activatedValue)):this.setOpenState(!1);break;case Kt._f:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(t){this.nzOpen!==t&&(this.nzOpen=t,this.nzOpenChange.emit(t),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.nzAutoClearSearchValue&&this.clearInput()}onInputValueChange(t){this.searchValue=t,this.updateListOfContainerItem(),this.nzOnSearch.emit(t),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(t){this.host.nativeElement.contains(t.target)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(t){const i=(0,ye.jj)(t);this.dropDownPosition=i}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){const t=this.triggerWidth;(0,Wo.F)(this.requestId),this.requestId=(0,Wo.j)(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,t!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){(0,Wo.j)(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}constructor(t,i,r,a,o,s,u,c,h,p,f,d){this.ngZone=t,this.destroy$=i,this.nzConfigService=r,this.cdr=a,this.host=o,this.renderer=s,this.platform=u,this.focusMonitor=c,this.directionality=h,this.noAnimation=p,this.nzFormStatusService=f,this.nzFormNoStatusService=d,this._nzModuleName="select",this.nzId=null,this.nzSize="default",this.nzStatus="",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzPlacement=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=RL,this.compareWith=(v,g)=>v===g,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzSelectOnTab=!1,this.nzBackdrop=!1,this.nzOptions=[],this.nzOnSearch=new l.bkB,this.nzScrollToBottom=new l.bkB,this.nzOpenChange=new l.bkB,this.nzBlur=new l.bkB,this.nzFocus=new l.bkB,this.listOfValue$=new re.t([]),this.listOfTemplateItem$=new re.t([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottomLeft",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.positions=[],this.isMaxLimitReached=!1,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1}writeValue(t){if(this.value!==t){this.value=t;const r=((a,o)=>null==a?[]:"default"===this.nzMode?[a]:a)(t);this.listOfValue=r,this.listOfValue$.next(r),this.cdr.markForCheck()}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(t){const{nzOpen:i,nzDisabled:r,nzOptions:a,nzStatus:o,nzPlacement:s}=t;if(i&&this.onOpenChange(),r&&this.nzDisabled&&this.setOpenState(!1),a){this.isReactiveDriven=!0;const c=(this.nzOptions||[]).map(h=>({template:h.label instanceof l.C4Q?h.label:null,nzTitle:this.getTitle(h.title,h.label),nzLabel:"string"==typeof h.label||"number"==typeof h.label?h.label:null,nzValue:h.value,nzDisabled:h.disabled||!1,nzHide:h.hide||!1,nzCustomContent:h.label instanceof l.C4Q,groupLabel:h.groupLabel||null,type:"item",key:void 0===h.key?h.value:h.key}));this.listOfTemplateItem$.next(c)}if(o&&this.setStatusStyles(this.nzStatus,this.hasFeedback),s){const{currentValue:u}=s;this.dropDownPosition=u;const c=["bottomLeft","topLeft","bottomRight","topRight"];this.positions=u&&c.includes(u)?[ye.pn[u]]:c.map(h=>ye.pn[h])}}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Mi.F)((t,i)=>t.status===i.status&&t.hasFeedback===i.hasFeedback),function XE(...n){const e=(0,HE.ms)(n);return(0,Cb.N)((t,i)=>{const r=n.length,a=new Array(r);let o=n.map(()=>!1),s=!1;for(let u=0;u<r;u++)(0,Sb.Tg)(n[u]).subscribe((0,Nc._)(i,c=>{a[u]=c,!s&&!o[u]&&(o[u]=!0,(s=o.every(GE.D))&&(o=null))},xb.l));t.subscribe((0,Nc._)(i,u=>{if(s){const c=[u,...a];i.next(e?e(...c):c)}}))})}(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,Ii.of)(!1)),(0,ue.T)(([{status:t,hasFeedback:i},r])=>({status:r?"":t,hasFeedback:i})),(0,G.Q)(this.destroy$)).subscribe(({status:t,hasFeedback:i})=>{this.setStatusStyles(t,i)}),this.focusMonitor.monitor(this.host,!0).pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),(0,sn.z)([this.listOfValue$,this.listOfTemplateItem$]).pipe((0,G.Q)(this.destroy$)).subscribe(([t,i])=>{const r=t.filter(()=>"tags"===this.nzMode).filter(a=>-1===i.findIndex(o=>this.compareWith(o.nzValue,a))).map(a=>this.listOfTopItem.find(o=>this.compareWith(o.nzValue,a))||this.generateTagItem(a));this.listOfTagAndTemplateItem=[...i,...r],this.listOfTopItem=this.listOfValue.map(a=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(o=>this.compareWith(a,o.nzValue))).filter(a=>!!a),this.updateListOfContainerItem()}),this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>(0,qt.R)(this.host.nativeElement,"click").pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.ngZone.run(()=>this.setOpenState(!this.nzOpen))})),this.cdkConnectedOverlay.overlayKeydown.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t.keyCode===Kt._f&&this.setOpenState(!1)})}ngAfterContentInit(){this.isReactiveDriven||(0,we.h)(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe((0,Re.Z)(!0),(0,Se.n)(()=>(0,we.h)(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(t=>t.changes),...this.listOfNzOptionGroupComponent.map(t=>t.changes)).pipe((0,Re.Z)(!0))),(0,G.Q)(this.destroy$)).subscribe(()=>{const t=this.listOfNzOptionComponent.toArray().map(i=>{const{template:r,nzLabel:a,nzValue:o,nzKey:s,nzDisabled:u,nzHide:c,nzCustomContent:h,groupLabel:p}=i;return{template:r,nzLabel:a,nzValue:o,nzDisabled:u,nzHide:c,nzCustomContent:h,groupLabel:p,nzTitle:this.getTitle(i.nzTitle,i.nzLabel),type:"item",key:void 0===s?o:s}});this.listOfTemplateItem$.next(t),this.cdr.markForCheck()})}ngOnDestroy(){(0,Wo.F)(this.requestId),this.focusMonitor.stopMonitoring(this.host)}setStatusStyles(t,i){this.status=t,this.hasFeedback=i,this.cdr.markForCheck(),this.statusCls=(0,Y.LP)(this.prefixCls,t,i),Object.keys(this.statusCls).forEach(r=>{this.statusCls[r]?this.renderer.addClass(this.host.nativeElement,r):this.renderer.removeClass(this.host.nativeElement,r)})}getTitle(t,i){let r;return void 0===t?("string"==typeof i||"number"==typeof i)&&(r=i.toString()):("string"==typeof t||"number"==typeof t)&&(r=t.toString()),r}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.SKi),l.rXU(Ce.y4),l.rXU(Pt.yx),l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(Xo.OD),l.rXU(li.FN),l.rXU(se.dS,8),l.rXU(Ca.z,9),l.rXU(on.is,8),l.rXU(on.n1,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-select"]],contentQueries:function(i,r,a){if(1&i&&(l.wni(a,Oc,5),l.wni(a,pd,5)),2&i){let o;l.mGM(o=l.lsd())&&(r.listOfNzOptionComponent=o),l.mGM(o=l.lsd())&&(r.listOfNzOptionGroupComponent=o)}},viewQuery:function(i,r){if(1&i&&(l.GBs(_n.$Q,7,l.aKT),l.GBs(_n.WB,7),l.GBs(Ec,7),l.GBs(pd,7,l.aKT),l.GBs(Ec,7,l.aKT)),2&i){let a;l.mGM(a=l.lsd())&&(r.originElement=a.first),l.mGM(a=l.lsd())&&(r.cdkConnectedOverlay=a.first),l.mGM(a=l.lsd())&&(r.nzSelectTopControlComponent=a.first),l.mGM(a=l.lsd())&&(r.nzOptionGroupComponentElement=a.first),l.mGM(a=l.lsd())&&(r.nzSelectTopControlComponentElement=a.first)}},hostAttrs:[1,"ant-select"],hostVars:26,hostBindings:function(i,r){2&i&&l.AVh("ant-select-in-form-item",!!r.nzFormStatusService)("ant-select-lg","large"===r.nzSize)("ant-select-sm","small"===r.nzSize)("ant-select-show-arrow",r.nzShowArrow)("ant-select-disabled",r.nzDisabled)("ant-select-show-search",(r.nzShowSearch||"default"!==r.nzMode)&&!r.nzDisabled)("ant-select-allow-clear",r.nzAllowClear)("ant-select-borderless",r.nzBorderless)("ant-select-open",r.nzOpen)("ant-select-focused",r.nzOpen||r.focused)("ant-select-single","default"===r.nzMode)("ant-select-multiple","default"!==r.nzMode)("ant-select-rtl","rtl"===r.dir)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzPlacement:"nzPlacement",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:"nzAllowClear",nzBorderless:"nzBorderless",nzShowSearch:"nzShowSearch",nzLoading:"nzLoading",nzAutoFocus:"nzAutoFocus",nzAutoClearSearchValue:"nzAutoClearSearchValue",nzServerSearch:"nzServerSearch",nzDisabled:"nzDisabled",nzOpen:"nzOpen",nzSelectOnTab:"nzSelectOnTab",nzBackdrop:"nzBackdrop",nzOptions:"nzOptions",nzShowArrow:"nzShowArrow"},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],standalone:!0,features:[l.Jv_([Ce.y4,{provide:Z.kq,useExisting:(0,l.Rfq)(()=>n),multi:!0}]),l.OA$,l.aNF],decls:5,vars:25,consts:[["origin","cdkOverlayOrigin"],["feedbackIconTpl",""],["cdkOverlayOrigin","",3,"inputValueChange","tokenize","deleteItem","keydown","nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon","nzMaxMultipleCount","listOfValue","isMaxTagCountSet",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon","nzMaxMultipleCount","listOfValue","isMaxTagCountSet"],[3,"status",4,"ngIf"],[3,"status"],[3,"clear","clearIcon"],[3,"keydown","itemClick","scrollToBottom","ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","isMaxLimitReached"]],template:function(i,r){if(1&i){const a=l.RV6();l.j41(0,"nz-select-top-control",2,0),l.bIt("inputValueChange",function(s){return l.eBV(a),l.Njj(r.onInputValueChange(s))})("tokenize",function(s){return l.eBV(a),l.Njj(r.onTokenSeparate(s))})("deleteItem",function(s){return l.eBV(a),l.Njj(r.onItemDelete(s))})("keydown",function(s){return l.eBV(a),l.Njj(r.onKeyDown(s))}),l.k0s(),l.DNE(2,AL,3,8,"nz-select-arrow",3)(3,kL,1,1,"nz-select-clear",4)(4,PL,1,24,"ng-template",5),l.bIt("overlayOutsideClick",function(s){return l.eBV(a),l.Njj(r.onClickOutside(s))})("detach",function(){return l.eBV(a),l.Njj(r.setOpenState(!1))})("positionChange",function(s){return l.eBV(a),l.Njj(r.onPositionChange(s))})}if(2&i){const a=l.sdS(1);l.Y8G("nzId",r.nzId)("open",r.nzOpen)("disabled",r.nzDisabled)("mode",r.nzMode)("@.disabled",!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("nzNoAnimation",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("maxTagPlaceholder",r.nzMaxTagPlaceholder)("removeIcon",r.nzRemoveIcon)("placeHolder",r.nzPlaceHolder)("maxTagCount",r.nzMaxTagCount)("customTemplate",r.nzCustomTemplate)("tokenSeparators",r.nzTokenSeparators)("showSearch",r.nzShowSearch)("autofocus",r.nzAutoFocus)("listOfTopItem",r.listOfTopItem),l.R7$(2),l.Y8G("ngIf",r.nzShowArrow||r.hasFeedback&&!!r.status||r.isMaxTagCountSet),l.R7$(),l.Y8G("ngIf",r.nzAllowClear&&!r.nzDisabled&&r.listOfValue.length),l.R7$(),l.Y8G("cdkConnectedOverlayHasBackdrop",r.nzBackdrop)("cdkConnectedOverlayMinWidth",r.nzDropdownMatchSelectWidth?null:r.triggerWidth)("cdkConnectedOverlayWidth",r.nzDropdownMatchSelectWidth?r.triggerWidth:null)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",r.nzDropdownClassName)("cdkConnectedOverlayOpen",r.nzOpen)("cdkConnectedOverlayPositions",r.positions)}},dependencies:[Ec,_n.$Q,Ca.z,Mb,U.bT,on.J1,on.Xd,Ib,_n.WB,ye.$_,ye.vT,Db,U.B3],encapsulation:2,data:{animation:[jo.U1]},changeDetection:0})}return(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzOptionHeightPx",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzSuffixIcon",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzAllowClear",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzBorderless",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzShowSearch",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzLoading",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzAutoFocus",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzAutoClearSearchValue",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzServerSearch",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzOpen",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzSelectOnTab",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzBackdrop",void 0),n})(),Pb=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Lc,Db,Tb,Ec,fd,Ab,Ib,Mb,kb,wb]})}return n})();const OL=["nz-pagination-item",""],EL=(n,e)=>({$implicit:n,page:e});function LL(n,e){if(1&n&&(l.j41(0,"a"),l.EFF(1),l.k0s()),2&n){const t=l.XpG().page;l.R7$(),l.JRh(t)}}function BL(n,e){1&n&&l.nrm(0,"span",3)}function VL(n,e){1&n&&l.nrm(0,"span",4)}function FL(n,e){if(1&n&&(l.j41(0,"button",2),l.DNE(1,BL,1,0,"span",3)(2,VL,1,0),l.k0s()),2&n){const t=l.XpG(2);l.Y8G("disabled",t.disabled),l.BMQ("title",t.locale.prev_page),l.R7$(),l.vxM(1,"rtl"===t.direction?1:2)}}function GL(n,e){1&n&&l.nrm(0,"span",4)}function HL(n,e){1&n&&l.nrm(0,"span",3)}function XL(n,e){if(1&n&&(l.j41(0,"button",2),l.DNE(1,GL,1,0,"span",4)(2,HL,1,0),l.k0s()),2&n){const t=l.XpG(2);l.Y8G("disabled",t.disabled),l.BMQ("title",t.locale.next_page),l.R7$(),l.vxM(1,"rtl"===t.direction?1:2)}}function jL(n,e){1&n&&l.nrm(0,"span",8)}function YL(n,e){1&n&&l.nrm(0,"span",9)}function WL(n,e){if(1&n&&l.DNE(0,jL,1,0,"span",8)(1,YL,1,0),2&n){const t=l.XpG(3);l.vxM(0,"rtl"===t.direction?0:1)}}function UL(n,e){1&n&&l.nrm(0,"span",9)}function $L(n,e){1&n&&l.nrm(0,"span",8)}function ZL(n,e){if(1&n&&l.DNE(0,UL,1,0,"span",9)(1,$L,1,0),2&n){const t=l.XpG(3);l.vxM(0,"rtl"===t.direction?0:1)}}function qL(n,e){if(1&n&&(l.j41(0,"a",5)(1,"div",6),l.DNE(2,WL,2,1)(3,ZL,2,1),l.j41(4,"span",7),l.EFF(5,"\u2022\u2022\u2022"),l.k0s()()()),2&n){let t;const i=l.XpG().$implicit;l.R7$(2),l.vxM(2,"prev_5"===(t=i)?2:"next_5"===t?3:-1)}}function KL(n,e){if(1&n&&l.DNE(0,LL,2,1)(1,FL,3,3)(2,XL,3,3)(3,qL,6,1),2&n){let t;l.vxM(0,"page"===(t=e.$implicit)?0:"prev"===t?1:"next"===t?2:3)}}function QL(n,e){}const JL=["nz-pagination-options",""],tB=(n,e)=>e.value;function eB(n,e){if(1&n&&l.nrm(0,"nz-option",3),2&n){const t=e.$implicit;l.Y8G("nzLabel",t.label)("nzValue",t.value)}}function nB(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-select",2),l.bIt("ngModelChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onPageSizeChange(r))}),l.Z7z(1,eB,1,2,"nz-option",3,tB),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("nzDisabled",t.disabled)("nzSize",t.nzSize)("ngModel",t.pageSize),l.R7$(),l.Dyx(t.listOfPageSizeOption)}}function iB(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",1),l.EFF(1),l.j41(2,"input",4),l.bIt("keydown.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.jumpToPageViaInput(r))}),l.k0s(),l.EFF(3),l.k0s()}if(2&n){const t=l.XpG();l.R7$(),l.SpI(" ",t.locale.jump_to," "),l.R7$(),l.Y8G("disabled",t.disabled),l.R7$(),l.SpI(" ",t.locale.page," ")}}const Rb=["containerTemplate"];function rB(n,e){return this.trackByPageItem}const aB=(n,e)=>({$implicit:n,range:e});function oB(n,e){}function sB(n,e){if(1&n&&(l.j41(0,"li",1),l.DNE(1,oB,0,0,"ng-template",4),l.k0s()),2&n){const t=l.XpG(2);l.R7$(),l.Y8G("ngTemplateOutlet",t.showTotal)("ngTemplateOutletContext",l.l_i(2,aB,t.total,t.ranges))}}function lB(n,e){if(1&n){const t=l.RV6();l.j41(0,"li",5),l.bIt("gotoIndex",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.jumpPage(r))})("diffIndex",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.jumpDiff(r))}),l.k0s()}if(2&n){const t=e.$implicit,i=l.XpG(2);l.Y8G("locale",i.locale)("type",t.type)("index",t.index)("disabled",!!t.disabled)("itemRender",i.itemRender)("active",i.pageIndex===t.index)("direction",i.dir)}}function uB(n,e){if(1&n){const t=l.RV6();l.j41(0,"li",6),l.bIt("pageIndexChange",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onPageIndexChange(r))})("pageSizeChange",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onPageSizeChange(r))}),l.k0s()}if(2&n){const t=l.XpG(2);l.Y8G("total",t.total)("locale",t.locale)("disabled",t.disabled)("nzSize",t.nzSize)("showSizeChanger",t.showSizeChanger)("showQuickJumper",t.showQuickJumper)("pageIndex",t.pageIndex)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)}}function cB(n,e){if(1&n&&(l.j41(0,"ul"),l.DNE(1,sB,2,5,"li",1),l.Z7z(2,lB,1,7,"li",2,rB,!0),l.DNE(4,uB,1,9,"li",3),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.vxM(1,t.showTotal?1:-1),l.R7$(),l.Dyx(t.listOfPageItem),l.R7$(2),l.vxM(4,t.showQuickJumper||t.showSizeChanger?4:-1)}}function hB(n,e){if(1&n){const t=l.RV6();l.j41(0,"ul")(1,"li",1),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.prePage())}),l.k0s(),l.j41(2,"li",2)(3,"input",3),l.bIt("keydown.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.jumpToPageViaInput(r))}),l.k0s(),l.j41(4,"span",4),l.EFF(5,"/"),l.k0s(),l.EFF(6),l.k0s(),l.j41(7,"li",5),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.nextPage())}),l.k0s()()}if(2&n){const t=l.XpG();l.R7$(),l.Y8G("locale",t.locale)("disabled",t.isFirstIndex)("direction",t.dir)("itemRender",t.itemRender),l.BMQ("title",t.locale.prev_page),l.R7$(),l.BMQ("title",t.pageIndex+"/"+t.lastIndex),l.R7$(),l.Y8G("disabled",t.disabled)("value",t.pageIndex),l.R7$(3),l.SpI(" ",t.lastIndex," "),l.R7$(),l.Y8G("locale",t.locale)("disabled",t.isLastIndex)("direction",t.dir)("itemRender",t.itemRender),l.BMQ("title",null==t.locale?null:t.locale.next_page)}}function pB(n,e){}function fB(n,e){if(1&n&&l.DNE(0,pB,0,0,"ng-template",4),2&n){l.XpG(2);const t=l.sdS(2);l.Y8G("ngTemplateOutlet",t.template)}}function dB(n,e){}function vB(n,e){if(1&n&&l.DNE(0,dB,0,0,"ng-template",4),2&n){l.XpG(2);const t=l.sdS(4);l.Y8G("ngTemplateOutlet",t.template)}}function gB(n,e){if(1&n&&l.DNE(0,fB,1,1,null,4)(1,vB,1,1),2&n){const t=l.XpG();l.vxM(0,t.nzSimple?0:1)}}let dd=(()=>{class n{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new l.bkB,this.gotoIndex=new l.bkB,this.title=null}clickItem(){this.disabled||("page"===this.type?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(t){const{locale:i,index:r,type:a}=t;(i||r||a)&&(this.title={page:`${this.index}`,next:this.locale?.next_page,prev:this.locale?.prev_page,prev_5:this.locale?.prev_5,next_5:this.locale?.next_5}[this.type])}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(i,r){1&i&&l.bIt("click",function(){return r.clickItem()}),2&i&&(l.BMQ("title",r.title),l.AVh("ant-pagination-prev","prev"===r.type)("ant-pagination-next","next"===r.type)("ant-pagination-item","page"===r.type)("ant-pagination-jump-prev","prev_5"===r.type)("ant-pagination-jump-prev-custom-icon","prev_5"===r.type)("ant-pagination-jump-next","next_5"===r.type)("ant-pagination-jump-next-custom-icon","next_5"===r.type)("ant-pagination-disabled",r.disabled)("ant-pagination-item-active",r.active))},inputs:{active:"active",locale:"locale",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},standalone:!0,features:[l.OA$,l.aNF],attrs:OL,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"ant-pagination-item-link",3,"disabled"],["nz-icon","","nzType","right"],["nz-icon","","nzType","left"],[1,"ant-pagination-item-link"],[1,"ant-pagination-item-container"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"]],template:function(i,r){if(1&i&&l.DNE(0,KL,4,1,"ng-template",null,0,l.C5r)(2,QL,0,0,"ng-template",1),2&i){const a=l.sdS(1);l.R7$(2),l.Y8G("ngTemplateOutlet",r.itemRender||a)("ngTemplateOutletContext",l.l_i(2,EL,r.type,r.index))}},dependencies:[vt.Y3,vt.Dn,U.T3],encapsulation:2,changeDetection:0})}return n})(),Nb=(()=>{class n{constructor(){this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new l.bkB,this.pageSizeChange=new l.bkB,this.listOfPageSizeOption=[]}onPageSizeChange(t){this.pageSize!==t&&this.pageSizeChange.next(t)}jumpToPageViaInput(t){const i=t.target,r=Math.floor((0,Y.Ro)(i.value,this.pageIndex));this.pageIndexChange.next(r),i.value=""}ngOnChanges(t){const{pageSize:i,pageSizeOptions:r,locale:a}=t;(i||r||a)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(o=>({value:o,label:`${o} ${this.locale.items_per_page}`})))}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["li","nz-pagination-options",""]],hostAttrs:[1,"ant-pagination-options"],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[l.OA$,l.aNF],attrs:JL,decls:2,vars:2,consts:[[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel"],[1,"ant-pagination-options-quick-jumper"],[1,"ant-pagination-options-size-changer",3,"ngModelChange","nzDisabled","nzSize","ngModel"],[3,"nzLabel","nzValue"],[3,"keydown.enter","disabled"]],template:function(i,r){1&i&&l.DNE(0,nB,3,3,"nz-select",0)(1,iB,4,3,"div",1),2&i&&(l.vxM(0,r.showSizeChanger?0:-1),l.R7$(),l.vxM(1,r.showQuickJumper?1:-1))},dependencies:[Pb,Oc,Lc,Z.YN,Z.BC,Z.vS],encapsulation:2,changeDetection:0})}return n})(),Ob=(()=>{class n{constructor(t,i,r,a){this.cdr=t,this.renderer=i,this.elementRef=r,this.directionality=a,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new l.bkB,this.pageSizeChange=new l.bkB,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new gt.B,i.removeChild(i.parentNode(r.nativeElement),r.nativeElement)}ngOnInit(){this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(t){this.onPageIndexChange(t)}jumpDiff(t){this.jumpPage(this.pageIndex+t)}trackByPageItem(t,i){return`${i.type}-${i.index}`}onPageIndexChange(t){this.pageIndexChange.next(t)}onPageSizeChange(t){this.pageSizeChange.next(t)}getLastIndex(t,i){return Math.ceil(t/i)}buildIndexes(){const t=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,t)}getListOfPageItem(t,i){const a=(o,s)=>{const u=[];for(let c=o;c<=s;c++)u.push({index:c,type:"page"});return u};return o=i<=9?a(1,i):((s,u)=>{let c=[];const h={type:"prev_5"},p={type:"next_5"},f=a(1,1),d=a(i,i);return c=s<5?[...a(2,4===s?6:5),p]:s<u-3?[h,...a(s-2,s+2),p]:[h,...a(s===u-3?u-5:u-4,u-1)],[...f,...c,...d]})(t,i),[{type:"prev",disabled:1===t},...o,{type:"next",disabled:t===i}];var o}ngOnChanges(t){const{pageIndex:i,pageSize:r,total:a}=t;(i||r||a)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-pagination-default"]],viewQuery:function(i,r){if(1&i&&l.GBs(Rb,7),2&i){let a;l.mGM(a=l.lsd())&&(r.template=a.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",locale:"locale",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[l.OA$,l.aNF],decls:2,vars:0,consts:[["containerTemplate",""],[1,"ant-pagination-total-text"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"gotoIndex","diffIndex","locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"pageIndexChange","pageSizeChange","total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"]],template:function(i,r){1&i&&l.DNE(0,cB,5,2,"ng-template",null,0,l.C5r)},dependencies:[U.T3,dd,Nb],encapsulation:2,changeDetection:0})}return n})(),Eb=(()=>{class n{constructor(t,i,r,a){this.cdr=t,this.renderer=i,this.elementRef=r,this.directionality=a,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new l.bkB,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new gt.B,i.removeChild(i.parentNode(r.nativeElement),r.nativeElement)}ngOnInit(){this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(t){const i=t.target,r=(0,Y.Ro)(i.value,this.pageIndex);this.onPageIndexChange(r),i.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(t){this.pageIndexChange.next(t)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=1===this.pageIndex,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(t){const{pageIndex:i,total:r,pageSize:a}=t;(i||r||a)&&this.updateBindingValue()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-pagination-simple"]],viewQuery:function(i,r){if(1&i&&l.GBs(Rb,7),2&i){let a;l.mGM(a=l.lsd())&&(r.template=a.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize"},outputs:{pageIndexChange:"pageIndexChange"},standalone:!0,features:[l.OA$,l.aNF],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"click","locale","disabled","direction","itemRender"],[1,"ant-pagination-simple-pager"],["size","3",3,"keydown.enter","disabled","value"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"click","locale","disabled","direction","itemRender"]],template:function(i,r){1&i&&l.DNE(0,hB,8,14,"ng-template",null,0,l.C5r)},dependencies:[dd],encapsulation:2,changeDetection:0})}return n})(),Lb=(()=>{class n{validatePageIndex(t,i){return t>i?i:t<1?1:t}onPageIndexChange(t){const i=this.getLastIndex(this.nzTotal,this.nzPageSize),r=this.validatePageIndex(t,i);r!==this.nzPageIndex&&!this.nzDisabled&&(this.nzPageIndex=r,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(t){this.nzPageSize=t,this.nzPageSizeChange.emit(t);const i=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>i&&this.onPageIndexChange(i)}onTotalChange(t){const i=this.getLastIndex(t,this.nzPageSize);this.nzPageIndex>i&&Promise.resolve().then(()=>{this.onPageIndexChange(i),this.cdr.markForCheck()})}getLastIndex(t,i){return Math.ceil(t/i)}constructor(t,i,r,a,o){this.i18n=t,this.cdr=i,this.breakpointService=r,this.nzConfigService=a,this.directionality=o,this._nzModuleName="pagination",this.nzPageSizeChange=new l.bkB,this.nzPageIndexChange=new l.bkB,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzShowSizeChanger=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzDisabled=!1,this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new gt.B,this.total$=new Xe.m(1)}ngOnInit(){this.i18n.localeChange.pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.onTotalChange(t)}),this.breakpointService.subscribe(Ce.fe).pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.nzResponsive&&(this.size=t===Ce.pt.xs?"small":"default",this.cdr.markForCheck())}),this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(t){const{nzHideOnSinglePage:i,nzTotal:r,nzPageSize:a,nzSize:o}=t;r&&this.total$.next(this.nzTotal),(i||r||a)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),o&&(this.size=o.currentValue)}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Pc.Og),l.rXU(l.gRc),l.rXU(Ce.jp),l.rXU(Pt.yx),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-pagination"]],hostAttrs:[1,"ant-pagination"],hostVars:8,hostBindings:function(i,r){2&i&&l.AVh("ant-pagination-simple",r.nzSimple)("ant-pagination-disabled",r.nzDisabled)("ant-pagination-mini",!r.nzSimple&&"small"===r.size)("ant-pagination-rtl","rtl"===r.dir)},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:"nzShowSizeChanger",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple",nzDisabled:"nzDisabled",nzResponsive:"nzResponsive",nzHideOnSinglePage:"nzHideOnSinglePage",nzTotal:"nzTotal",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],standalone:!0,features:[l.OA$,l.aNF],decls:5,vars:18,consts:[["simplePagination",""],["defaultPagination",""],[3,"pageIndexChange","disabled","itemRender","locale","pageSize","total","pageIndex"],[3,"pageIndexChange","pageSizeChange","nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet"]],template:function(i,r){if(1&i){const a=l.RV6();l.DNE(0,gB,2,1),l.j41(1,"nz-pagination-simple",2,0),l.bIt("pageIndexChange",function(s){return l.eBV(a),l.Njj(r.onPageIndexChange(s))}),l.k0s(),l.j41(3,"nz-pagination-default",3,1),l.bIt("pageIndexChange",function(s){return l.eBV(a),l.Njj(r.onPageIndexChange(s))})("pageSizeChange",function(s){return l.eBV(a),l.Njj(r.onPageSizeChange(s))}),l.k0s()}2&i&&(l.vxM(0,r.showPagination?0:-1),l.R7$(),l.Y8G("disabled",r.nzDisabled)("itemRender",r.nzItemRender)("locale",r.locale)("pageSize",r.nzPageSize)("total",r.nzTotal)("pageIndex",r.nzPageIndex),l.R7$(2),l.Y8G("nzSize",r.size)("itemRender",r.nzItemRender)("showTotal",r.nzShowTotal)("disabled",r.nzDisabled)("locale",r.locale)("showSizeChanger",r.nzShowSizeChanger)("showQuickJumper",r.nzShowQuickJumper)("total",r.nzTotal)("pageIndex",r.nzPageIndex)("pageSize",r.nzPageSize)("pageSizeOptions",r.nzPageSizeOptions))},dependencies:[U.T3,Eb,Ob],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzSize",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzPageSizeOptions",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzShowSizeChanger",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzShowQuickJumper",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzSimple",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzResponsive",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzHideOnSinglePage",void 0),(0,W.Cg)([(0,Y.YI)()],n.prototype,"nzTotal",void 0),(0,W.Cg)([(0,Y.YI)()],n.prototype,"nzPageIndex",void 0),(0,W.Cg)([(0,Y.YI)()],n.prototype,"nzPageSize",void 0),n})(),yB=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Lb,Eb,Nb,dd,Ob]})}return n})();var _B=tt(1584);const CB=["*"];function SB(n,e){1&n&&(l.j41(0,"span",3),l.nrm(1,"i",4)(2,"i",4)(3,"i",4)(4,"i",4),l.k0s())}function xB(n,e){}function zB(n,e){if(1&n&&(l.j41(0,"div",8),l.EFF(1),l.k0s()),2&n){const t=l.XpG(2);l.R7$(),l.JRh(t.nzTip)}}function wB(n,e){if(1&n&&(l.j41(0,"div")(1,"div",5),l.DNE(2,xB,0,0,"ng-template",6)(3,zB,2,1,"div",7),l.k0s()()),2&n){const t=l.XpG(),i=l.sdS(1);l.R7$(),l.AVh("ant-spin-rtl","rtl"===t.dir)("ant-spin-spinning",t.isLoading)("ant-spin-lg","large"===t.nzSize)("ant-spin-sm","small"===t.nzSize)("ant-spin-show-text",t.nzTip),l.R7$(),l.Y8G("ngTemplateOutlet",t.nzIndicator||i),l.R7$(),l.Y8G("ngIf",t.nzTip)}}function TB(n,e){if(1&n&&(l.j41(0,"div",9),l.SdG(1),l.k0s()),2&n){const t=l.XpG();l.AVh("ant-spin-blur",t.isLoading)}}let Vb=(()=>{class n{constructor(t,i,r){this.nzConfigService=t,this.cdr=i,this.directionality=r,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new gt.B,this.spinning$=new re.t(this.nzSpinning),this.delay$=new Xe.m(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){this.delay$.pipe((0,Re.Z)(this.nzDelay),(0,Mi.F)(),(0,Se.n)(i=>0===i?this.spinning$:this.spinning$.pipe(function bB(n){return(0,Cb.N)((e,t)=>{let i=!1,r=null,a=null;const o=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const s=r;r=null,t.next(s)}};e.subscribe((0,Nc._)(t,s=>{a?.unsubscribe(),i=!0,r=s,a=(0,Nc._)(t,o,xb.l),(0,Sb.Tg)(n(s)).subscribe(a)},()=>{o(),t.complete()},void 0,()=>{r=a=null}))})}(r=>(0,_B.O)(r?i:0)))),(0,G.Q)(this.destroy$)).subscribe(i=>{this.isLoading=i,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe((0,G.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(i=>{this.dir=i,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzSpinning:i,nzDelay:r}=t;i&&this.spinning$.next(this.nzSpinning),r&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Pt.yx),l.rXU(l.gRc),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(i,r){2&i&&l.AVh("ant-spin-nested-loading",!r.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],standalone:!0,features:[l.OA$,l.aNF],ngContentSelectors:CB,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(i,r){1&i&&(l.NAR(),l.DNE(0,SB,5,0,"ng-template",null,0,l.C5r)(2,wB,4,12,"div",1)(3,TB,2,2,"div",2)),2&i&&(l.R7$(2),l.Y8G("ngIf",r.isLoading),l.R7$(),l.Y8G("ngIf",!r.nzSimple))},dependencies:[U.bT,U.T3],encapsulation:2})}return(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzIndicator",void 0),(0,W.Cg)([(0,Y.YI)()],n.prototype,"nzDelay",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzSimple",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzSpinning",void 0),n})(),Fb=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const Pr=["*"];function DB(n,e){}function MB(n,e){if(1&n){const t=l.RV6();l.j41(0,"label",15),l.bIt("ngModelChange",function(){l.eBV(t);const r=l.XpG().$implicit,a=l.XpG(2);return l.Njj(a.check(r))}),l.k0s()}if(2&n){const t=l.XpG().$implicit;l.Y8G("ngModel",t.checked)}}function IB(n,e){if(1&n){const t=l.RV6();l.j41(0,"label",16),l.bIt("ngModelChange",function(){l.eBV(t);const r=l.XpG().$implicit,a=l.XpG(2);return l.Njj(a.check(r))}),l.k0s()}if(2&n){const t=l.XpG().$implicit;l.Y8G("ngModel",t.checked)}}function AB(n,e){if(1&n){const t=l.RV6();l.j41(0,"li",12),l.bIt("click",function(){const r=l.eBV(t).$implicit,a=l.XpG(2);return l.Njj(a.check(r))}),l.DNE(1,MB,1,1,"label",13)(2,IB,1,1,"label",14),l.j41(3,"span"),l.EFF(4),l.k0s()()}if(2&n){const t=e.$implicit,i=l.XpG(2);l.Y8G("nzSelected",t.checked),l.R7$(),l.Y8G("ngIf",!i.filterMultiple),l.R7$(),l.Y8G("ngIf",i.filterMultiple),l.R7$(2),l.JRh(t.text)}}function kB(n,e){if(1&n){const t=l.RV6();l.qex(0),l.j41(1,"nz-filter-trigger",4),l.bIt("nzVisibleChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onVisibleChange(r))}),l.nrm(2,"span",5),l.k0s(),l.j41(3,"nz-dropdown-menu",null,0)(5,"div",6)(6,"ul",7),l.DNE(7,AB,5,4,"li",8),l.k0s(),l.j41(8,"div",9)(9,"button",10),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.reset())}),l.EFF(10),l.k0s(),l.j41(11,"button",11),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.confirm())}),l.EFF(12),l.k0s()()()(),l.bVm()}if(2&n){const t=l.sdS(4),i=l.XpG();l.R7$(),l.Y8G("nzVisible",i.isVisible)("nzActive",i.isChecked)("nzDropdownMenu",t),l.R7$(6),l.Y8G("ngForOf",i.listOfParsedFilter)("ngForTrackBy",i.trackByValue),l.R7$(2),l.Y8G("disabled",!i.isChecked),l.R7$(),l.SpI(" ",i.locale.filterReset," "),l.R7$(2),l.JRh(i.locale.filterConfirm)}}function PB(n,e){if(1&n){const t=l.RV6();l.j41(0,"label",3),l.bIt("ngModelChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onCheckedChange(r))}),l.k0s()}if(2&n){const t=l.XpG();l.AVh("ant-table-selection-select-all-custom",t.showRowSelection),l.Y8G("ngModel",t.checked)("nzDisabled",t.disabled)("nzIndeterminate",t.indeterminate),l.BMQ("aria-label",t.label)}}function RB(n,e){if(1&n){const t=l.RV6();l.j41(0,"li",9),l.bIt("click",function(){const r=l.eBV(t).$implicit;return l.Njj(r.onSelect())}),l.EFF(1),l.k0s()}if(2&n){const t=e.$implicit;l.R7$(),l.SpI(" ",t.text," ")}}function NB(n,e){if(1&n&&(l.j41(0,"div",4)(1,"span",5),l.nrm(2,"span",6),l.k0s(),l.j41(3,"nz-dropdown-menu",null,0)(5,"ul",7),l.DNE(6,RB,2,1,"li",8),l.k0s()()()),2&n){const t=l.sdS(4),i=l.XpG();l.R7$(),l.Y8G("nzDropdownMenu",t),l.R7$(5),l.Y8G("ngForOf",i.listOfSelections)}}function OB(n,e){}function EB(n,e){if(1&n&&l.nrm(0,"span",6),2&n){const t=l.XpG();l.AVh("active","ascend"===t.sortOrder)}}function LB(n,e){if(1&n&&l.nrm(0,"span",7),2&n){const t=l.XpG();l.AVh("active","descend"===t.sortOrder)}}const BB=["nzChecked",""];function VB(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",5),l.bIt("expandChange",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onExpandChange(r))}),l.k0s()}if(2&n){const t=l.XpG(2);l.Y8G("expand",t.nzExpand)("spaceMode",!t.nzShowExpand)}}function FB(n,e){}function GB(n,e){if(1&n&&(l.qex(0),l.DNE(1,FB,0,0,"ng-template",6),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.Y8G("ngTemplateOutlet",t.nzExpandIcon)}}function HB(n,e){if(1&n&&(l.qex(0),l.nrm(1,"nz-row-indent",3),l.DNE(2,VB,1,2,"ng-template",null,0,l.C5r)(4,GB,2,1,"ng-container",4),l.bVm()),2&n){const t=l.sdS(3),i=l.XpG();l.R7$(),l.Y8G("indentSize",i.nzIndentSize),l.R7$(3),l.Y8G("ngIf",i.nzExpandIcon)("ngIfElse",t)}}function XB(n,e){if(1&n){const t=l.RV6();l.j41(0,"label",7),l.bIt("ngModelChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onCheckedChange(r))}),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("nzDisabled",t.nzDisabled)("ngModel",t.nzChecked)("nzIndeterminate",t.nzIndeterminate),l.BMQ("aria-label",t.nzLabel)}}const jB=["nzColumnKey",""],YB=[[["","nz-th-extra",""]],[["nz-filter-trigger"]],"*"],WB=["[nz-th-extra]","nz-filter-trigger","*"];function UB(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-table-filter",5),l.bIt("filterChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onFilterValueChange(r))}),l.k0s()}if(2&n){const t=l.XpG(),i=l.sdS(2),r=l.sdS(4);l.Y8G("contentTemplate",i)("extraTemplate",r)("customFilter",t.nzCustomFilter)("filterMultiple",t.nzFilterMultiple)("listOfFilter",t.nzFilters)}}function $B(n,e){}function ZB(n,e){if(1&n&&l.DNE(0,$B,0,0,"ng-template",6),2&n){const t=l.XpG(),i=l.sdS(6),r=l.sdS(8);l.Y8G("ngTemplateOutlet",t.nzShowSort?i:r)}}function qB(n,e){1&n&&(l.SdG(0),l.SdG(1,1))}function KB(n,e){if(1&n&&l.nrm(0,"nz-table-sorters",7),2&n){const t=l.XpG(),i=l.sdS(8);l.Y8G("sortOrder",t.sortOrder)("sortDirections",t.sortDirections)("contentTemplate",i)}}function QB(n,e){1&n&&l.SdG(0,2)}const JB=["nzSelections",""],tV=["nz-table-content",""];function eV(n,e){if(1&n&&l.nrm(0,"col"),2&n){const t=e.$implicit;l.xc7("width",t)("min-width",t)}}function nV(n,e){}function iV(n,e){if(1&n&&(l.j41(0,"thead",3),l.DNE(1,nV,0,0,"ng-template",2),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("ngTemplateOutlet",t.theadTemplate)}}function rV(n,e){}const Gb=["tdElement"],aV=["nz-table-fixed-row",""];function oV(n,e){}function sV(n,e){if(1&n&&(l.j41(0,"div",4),l.nI1(1,"async"),l.DNE(2,oV,0,0,"ng-template",5),l.k0s()),2&n){const t=l.XpG(),i=l.sdS(5);l.xc7("width",l.bMT(1,3,t.hostWidth$),"px"),l.R7$(2),l.Y8G("ngTemplateOutlet",i)}}function lV(n,e){1&n&&l.SdG(0)}const uV=["nz-table-measure-row",""];function cV(n,e){1&n&&l.nrm(0,"td",2,0)}function hV(n,e){if(1&n){const t=l.RV6();l.j41(0,"tr",3),l.bIt("listOfAutoWidth",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onListOfAutoWidthChange(r))}),l.k0s()}if(2&n){const t=l.XpG().ngIf;l.Y8G("listOfMeasureColumn",t)}}function pV(n,e){if(1&n&&(l.qex(0),l.DNE(1,hV,1,1,"tr",2),l.bVm()),2&n){const t=e.ngIf,i=l.XpG();l.R7$(),l.Y8G("ngIf",i.isInsideTable&&t.length)}}function fV(n,e){if(1&n&&(l.j41(0,"tr",4),l.nrm(1,"nz-embed-empty",5),l.nI1(2,"async"),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("specificContent",l.bMT(2,1,t.noResult$))}}const dV=["tableHeaderElement"],vV=["tableBodyElement"],gV=(n,e)=>({$implicit:n,index:e});function mV(n,e){if(1&n&&(l.j41(0,"div",8,1),l.nrm(2,"table",9),l.k0s()),2&n){const t=l.XpG(2);l.Y8G("ngStyle",t.bodyStyleMap),l.R7$(2),l.Y8G("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth)("contentTemplate",t.contentTemplate)}}function yV(n,e){}function _V(n,e){if(1&n&&(l.qex(0),l.DNE(1,yV,0,0,"ng-template",13),l.bVm()),2&n){const t=e.$implicit,i=e.index,r=l.XpG(3);l.R7$(),l.Y8G("ngTemplateOutlet",r.virtualTemplate)("ngTemplateOutletContext",l.l_i(2,gV,t,i))}}function bV(n,e){if(1&n&&(l.j41(0,"cdk-virtual-scroll-viewport",10,1)(2,"table",11)(3,"tbody"),l.DNE(4,_V,2,5,"ng-container",12),l.k0s()()()),2&n){const t=l.XpG(2);l.xc7("height",t.data.length?t.scrollY:t.noDateVirtualHeight),l.Y8G("itemSize",t.virtualItemSize)("maxBufferPx",t.virtualMaxBufferPx)("minBufferPx",t.virtualMinBufferPx),l.R7$(2),l.Y8G("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth),l.R7$(2),l.Y8G("cdkVirtualForOf",t.data)("cdkVirtualForTrackBy",t.virtualForTrackBy)}}function CV(n,e){if(1&n&&(l.qex(0),l.j41(1,"div",4,0),l.nrm(3,"table",5),l.k0s(),l.DNE(4,mV,3,4,"div",6)(5,bV,5,9,"cdk-virtual-scroll-viewport",7),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.Y8G("ngStyle",t.headerStyleMap),l.R7$(2),l.Y8G("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth)("theadTemplate",t.theadTemplate),l.R7$(),l.Y8G("ngIf",!t.virtualTemplate),l.R7$(),l.Y8G("ngIf",t.virtualTemplate)}}function SV(n,e){if(1&n&&(l.j41(0,"div",14,1),l.nrm(2,"table",15),l.k0s()),2&n){const t=l.XpG();l.Y8G("ngStyle",t.bodyStyleMap),l.R7$(2),l.Y8G("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth)("theadTemplate",t.theadTemplate)("contentTemplate",t.contentTemplate)}}function xV(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.JRh(t.title)}}function zV(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.JRh(t.footer)}}function wV(n,e){}function TV(n,e){if(1&n&&(l.qex(0),l.DNE(1,wV,0,0,"ng-template",10),l.bVm()),2&n){l.XpG();const t=l.sdS(11);l.R7$(),l.Y8G("ngTemplateOutlet",t)}}function DV(n,e){if(1&n&&l.nrm(0,"nz-table-title-footer",11),2&n){const t=l.XpG();l.Y8G("title",t.nzTitle)}}function MV(n,e){if(1&n&&l.nrm(0,"nz-table-inner-scroll",12),2&n){const t=l.XpG(),i=l.sdS(3),r=l.sdS(13);l.Y8G("data",t.data)("scrollX",t.scrollX)("scrollY",t.scrollY)("contentTemplate",r)("listOfColWidth",t.listOfAutoColWidth)("theadTemplate",t.theadTemplate)("verticalScrollBarWidth",t.verticalScrollBarWidth)("virtualTemplate",t.nzVirtualScrollDirective?t.nzVirtualScrollDirective.templateRef:null)("virtualItemSize",t.nzVirtualItemSize)("virtualMaxBufferPx",t.nzVirtualMaxBufferPx)("virtualMinBufferPx",t.nzVirtualMinBufferPx)("tableMainElement",i)("virtualForTrackBy",t.nzVirtualForTrackBy)}}function IV(n,e){if(1&n&&l.nrm(0,"nz-table-inner-default",13),2&n){const t=l.XpG(),i=l.sdS(13);l.Y8G("tableLayout",t.nzTableLayout)("listOfColWidth",t.listOfManualColWidth)("theadTemplate",t.theadTemplate)("contentTemplate",i)}}function AV(n,e){if(1&n&&l.nrm(0,"nz-table-title-footer",14),2&n){const t=l.XpG();l.Y8G("footer",t.nzFooter)}}function kV(n,e){}function PV(n,e){if(1&n&&(l.qex(0),l.DNE(1,kV,0,0,"ng-template",10),l.bVm()),2&n){l.XpG();const t=l.sdS(11);l.R7$(),l.Y8G("ngTemplateOutlet",t)}}function RV(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-pagination",16),l.bIt("nzPageSizeChange",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onPageSizeChange(r))})("nzPageIndexChange",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onPageIndexChange(r))}),l.k0s()}if(2&n){const t=l.XpG(2);l.Y8G("hidden",!t.showPagination)("nzShowSizeChanger",t.nzShowSizeChanger)("nzPageSizeOptions",t.nzPageSizeOptions)("nzItemRender",t.nzItemRender)("nzShowQuickJumper",t.nzShowQuickJumper)("nzHideOnSinglePage",t.nzHideOnSinglePage)("nzShowTotal",t.nzShowTotal)("nzSize","small"===t.nzPaginationType?"small":"default"===t.nzSize?"default":"small")("nzPageSize",t.nzPageSize)("nzTotal",t.nzTotal)("nzSimple",t.nzSimple)("nzPageIndex",t.nzPageIndex)}}function NV(n,e){if(1&n&&l.DNE(0,RV,1,12,"nz-pagination",15),2&n){const t=l.XpG();l.Y8G("ngIf",t.nzShowPagination&&t.data.length)}}function OV(n,e){1&n&&l.SdG(0)}const EV=["contentTemplate"];function LV(n,e){1&n&&l.SdG(0)}function BV(n,e){}function VV(n,e){if(1&n&&(l.qex(0),l.DNE(1,BV,0,0,"ng-template",2),l.bVm()),2&n){l.XpG();const t=l.sdS(1);l.R7$(),l.Y8G("ngTemplateOutlet",t)}}let Hb=(()=>{class n{onVisibleChange(t){this.nzVisible=t,this.nzVisibleChange.next(t)}hide(){this.nzVisible=!1,this.cdr.markForCheck()}show(){this.nzVisible=!0,this.cdr.markForCheck()}constructor(t,i,r,a){this.nzConfigService=t,this.ngZone=i,this.cdr=r,this.destroy$=a,this._nzModuleName="filterTrigger",this.nzActive=!1,this.nzVisible=!1,this.nzBackdrop=!1,this.nzVisibleChange=new l.bkB}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,qt.R)(this.nzDropdown.nativeElement,"click").pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t.stopPropagation()})})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Pt.yx),l.rXU(l.SKi),l.rXU(l.gRc),l.rXU(Ce.y4))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-filter-trigger"]],viewQuery:function(i,r){if(1&i&&l.GBs(vl,7,l.aKT),2&i){let a;l.mGM(a=l.lsd())&&(r.nzDropdown=a.first)}},inputs:{nzActive:"nzActive",nzDropdownMenu:"nzDropdownMenu",nzVisible:"nzVisible",nzBackdrop:"nzBackdrop"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzFilterTrigger"],standalone:!0,features:[l.Jv_([Ce.y4]),l.aNF],ngContentSelectors:Pr,decls:2,vars:8,consts:[["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"ant-table-filter-trigger",3,"nzVisibleChange","nzBackdrop","nzClickHide","nzDropdownMenu","nzVisible"]],template:function(i,r){1&i&&(l.NAR(),l.j41(0,"span",0),l.bIt("nzVisibleChange",function(o){return r.onVisibleChange(o)}),l.SdG(1),l.k0s()),2&i&&(l.AVh("active",r.nzActive)("ant-table-filter-open",r.nzVisible),l.Y8G("nzBackdrop",r.nzBackdrop)("nzClickHide",!1)("nzDropdownMenu",r.nzDropdownMenu)("nzVisible",r.nzVisible))},dependencies:[kc,vl],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzBackdrop",void 0),n})(),Xb=(()=>{class n{trackByValue(t,i){return i.value}check(t){this.filterMultiple?(this.listOfParsedFilter=this.listOfParsedFilter.map(i=>i===t?{...i,checked:!t.checked}:i),t.checked=!t.checked):this.listOfParsedFilter=this.listOfParsedFilter.map(i=>({...i,checked:i===t})),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter)}confirm(){this.isVisible=!1,this.emitFilterData()}reset(){this.isVisible=!1,this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter,!0),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter),this.emitFilterData()}onVisibleChange(t){this.isVisible=t,t?this.listOfChecked=this.listOfParsedFilter.filter(i=>i.checked).map(i=>i.value):this.emitFilterData()}emitFilterData(){const t=this.listOfParsedFilter.filter(i=>i.checked).map(i=>i.value);(0,Y.r1)(this.listOfChecked,t)||this.filterChange.emit(this.filterMultiple?t:t.length>0?t[0]:null)}parseListOfFilter(t,i){return t.map(r=>({text:r.text,value:r.value,checked:!i&&!!r.byDefault}))}getCheckedStatus(t){return t.some(i=>i.checked)}constructor(t,i){this.cdr=t,this.i18n=i,this.contentTemplate=null,this.customFilter=!1,this.extraTemplate=null,this.filterMultiple=!0,this.listOfFilter=[],this.filterChange=new l.bkB,this.destroy$=new gt.B,this.isChecked=!1,this.isVisible=!1,this.listOfParsedFilter=[],this.listOfChecked=[]}ngOnInit(){this.i18n.localeChange.pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Table"),this.cdr.markForCheck()})}ngOnChanges(t){const{listOfFilter:i}=t;i&&this.listOfFilter&&this.listOfFilter.length&&(this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(Pc.Og))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-table-filter"]],hostAttrs:[1,"ant-table-filter-column"],inputs:{contentTemplate:"contentTemplate",customFilter:"customFilter",extraTemplate:"extraTemplate",filterMultiple:"filterMultiple",listOfFilter:"listOfFilter"},outputs:{filterChange:"filterChange"},standalone:!0,features:[l.OA$,l.aNF],decls:3,vars:3,consts:[["filterMenu","nzDropdownMenu"],[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[3,"nzVisibleChange","nzVisible","nzActive","nzDropdownMenu"],["nz-icon","","nzType","filter","nzTheme","fill"],[1,"ant-table-filter-dropdown"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-table-filter-dropdown-btns"],["nz-button","","nzType","link","nzSize","small",3,"click","disabled"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-menu-item","",3,"click","nzSelected"],["nz-radio","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-radio","",3,"ngModelChange","ngModel"],["nz-checkbox","",3,"ngModelChange","ngModel"]],template:function(i,r){1&i&&(l.j41(0,"span",1),l.DNE(1,DB,0,0,"ng-template",2),l.k0s(),l.DNE(2,kB,13,8,"ng-container",3)),2&i&&(l.R7$(),l.Y8G("ngTemplateOutlet",r.contentTemplate),l.R7$(),l.Y8G("ngIf",!r.customFilter)("ngIfElse",r.extraTemplate))},dependencies:[U.T3,U.bT,Hb,vt.Y3,vt.Dn,kc,dl,Yo,Ac,U.Sq,ub,ml,gl,Z.YN,Z.BC,Z.vS,an.Zw,an.aO,Rn.c,nr.p],encapsulation:2,changeDetection:0})}return n})(),GV=(()=>{class n{constructor(){this.expand=!1,this.spaceMode=!1,this.expandChange=new l.bkB}onHostClick(){this.spaceMode||(this.expand=!this.expand,this.expandChange.next(this.expand))}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["button","nz-row-expand-button",""]],hostAttrs:[1,"ant-table-row-expand-icon"],hostVars:7,hostBindings:function(i,r){1&i&&l.bIt("click",function(){return r.onHostClick()}),2&i&&(l.Mr5("type","button"),l.AVh("ant-table-row-expand-icon-expanded",!r.spaceMode&&!0===r.expand)("ant-table-row-expand-icon-collapsed",!r.spaceMode&&!1===r.expand)("ant-table-row-expand-icon-spaced",r.spaceMode))},inputs:{expand:"expand",spaceMode:"spaceMode"},outputs:{expandChange:"expandChange"},standalone:!0})}return n})(),HV=(()=>{class n{constructor(){this.indentSize=0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["nz-row-indent"]],hostAttrs:[1,"ant-table-row-indent"],hostVars:2,hostBindings:function(i,r){2&i&&l.xc7("padding-left",r.indentSize,"px")},inputs:{indentSize:"indentSize"},standalone:!0})}return n})(),jb=(()=>{class n{constructor(){this.listOfSelections=[],this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.label=null,this.showCheckbox=!1,this.showRowSelection=!1,this.checkedChange=new l.bkB}onCheckedChange(t){this.checked=t,this.checkedChange.emit(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-table-selection"]],hostAttrs:[1,"ant-table-selection"],inputs:{listOfSelections:"listOfSelections",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",label:"label",showCheckbox:"showCheckbox",showRowSelection:"showRowSelection"},outputs:{checkedChange:"checkedChange"},standalone:!0,features:[l.aNF],decls:2,vars:2,consts:[["selectionMenu","nzDropdownMenu"],["nz-checkbox","",3,"ant-table-selection-select-all-custom","ngModel","nzDisabled","nzIndeterminate","ngModelChange",4,"ngIf"],["class","ant-table-selection-extra",4,"ngIf"],["nz-checkbox","",3,"ngModelChange","ngModel","nzDisabled","nzIndeterminate"],[1,"ant-table-selection-extra"],["nz-dropdown","","nzPlacement","bottomLeft",1,"ant-table-selection-down",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu","",1,"ant-table-selection-menu"],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],["nz-menu-item","",3,"click"]],template:function(i,r){1&i&&l.DNE(0,PB,1,6,"label",1)(1,NB,7,2,"div",2),2&i&&(l.Y8G("ngIf",r.showCheckbox),l.R7$(),l.Y8G("ngIf",r.showRowSelection))},dependencies:[U.bT,Z.YN,Z.BC,Z.vS,ml,gl,kc,dl,Yo,vl,Ac,vt.Y3,vt.Dn,U.Sq],encapsulation:2,changeDetection:0})}return n})(),Yb=(()=>{class n{constructor(){this.sortDirections=["ascend","descend",null],this.sortOrder=null,this.contentTemplate=null,this.isUp=!1,this.isDown=!1}ngOnChanges(t){const{sortDirections:i}=t;i&&(this.isUp=-1!==this.sortDirections.indexOf("ascend"),this.isDown=-1!==this.sortDirections.indexOf("descend"))}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-table-sorters"]],hostAttrs:[1,"ant-table-column-sorters"],inputs:{sortDirections:"sortDirections",sortOrder:"sortOrder",contentTemplate:"contentTemplate"},standalone:!0,features:[l.OA$,l.aNF],decls:6,vars:5,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[1,"ant-table-column-sorter"],[1,"ant-table-column-sorter-inner"],["nz-icon","","nzType","caret-up","class","ant-table-column-sorter-up",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-down","class","ant-table-column-sorter-down",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down"]],template:function(i,r){1&i&&(l.j41(0,"span",0),l.DNE(1,OB,0,0,"ng-template",1),l.k0s(),l.j41(2,"span",2)(3,"span",3),l.DNE(4,EB,1,2,"span",4)(5,LB,1,2,"span",5),l.k0s()()),2&i&&(l.R7$(),l.Y8G("ngTemplateOutlet",r.contentTemplate),l.R7$(),l.AVh("ant-table-column-sorter-full",r.isDown&&r.isUp),l.R7$(2),l.Y8G("ngIf",r.isUp),l.R7$(),l.Y8G("ngIf",r.isDown))},dependencies:[vt.Y3,vt.Dn,U.T3,U.bT],encapsulation:2,changeDetection:0})}return n})(),XV=(()=>{class n{setAutoLeftWidth(t){this.renderer.setStyle(this.elementRef.nativeElement,"left",t)}setAutoRightWidth(t){this.renderer.setStyle(this.elementRef.nativeElement,"right",t)}setIsFirstRight(t){this.setFixClass(t,"ant-table-cell-fix-right-first")}setIsLastLeft(t){this.setFixClass(t,"ant-table-cell-fix-left-last")}setFixClass(t,i){this.renderer.removeClass(this.elementRef.nativeElement,i),t&&this.renderer.addClass(this.elementRef.nativeElement,i)}constructor(t,i){this.renderer=t,this.elementRef=i,this.nzRight=!1,this.nzLeft=!1,this.colspan=null,this.colSpan=null,this.changes$=new gt.B,this.isAutoLeft=!1,this.isAutoRight=!1,this.isFixedLeft=!1,this.isFixedRight=!1,this.isFixed=!1}ngOnChanges(){this.setIsFirstRight(!1),this.setIsLastLeft(!1),this.isAutoLeft=""===this.nzLeft||!0===this.nzLeft,this.isAutoRight=""===this.nzRight||!0===this.nzRight,this.isFixedLeft=!1!==this.nzLeft,this.isFixedRight=!1!==this.nzRight,this.isFixed=this.isFixedLeft||this.isFixedRight;const t=i=>"string"==typeof i&&""!==i?i:null;this.setAutoLeftWidth(t(this.nzLeft)),this.setAutoRightWidth(t(this.nzRight)),this.changes$.next()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.sFG),l.rXU(l.aKT))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["td","nzRight",""],["th","nzRight",""],["td","nzLeft",""],["th","nzLeft",""]],hostVars:6,hostBindings:function(i,r){2&i&&(l.xc7("position",r.isFixed?"sticky":null),l.AVh("ant-table-cell-fix-right",r.isFixedRight)("ant-table-cell-fix-left",r.isFixedLeft))},inputs:{nzRight:"nzRight",nzLeft:"nzLeft",colspan:"colspan",colSpan:"colSpan"},standalone:!0,features:[l.OA$]})}return n})(),Sa=(()=>{class n{setTheadTemplate(t){this.theadTemplate$.next(t)}setHasFixLeft(t){this.hasFixLeft$.next(t)}setHasFixRight(t){this.hasFixRight$.next(t)}setTableWidthConfig(t){this.tableWidthConfigPx$.next(t)}setListOfTh(t){let i=0;t.forEach(a=>{i+=a.colspan&&+a.colspan||a.colSpan&&+a.colSpan||1});const r=t.map(a=>a.nzWidth);this.columnCount$.next(i),this.listOfThWidthConfigPx$.next(r)}setListOfMeasureColumn(t){const i=[];t.forEach(r=>{const a=r.colspan&&+r.colspan||r.colSpan&&+r.colSpan||1;for(let o=0;o<a;o++)i.push(`measure_key_${o}`)}),this.listOfMeasureColumn$.next(i)}setListOfAutoWidth(t){this.listOfAutoWidthPx$.next(t.map(i=>`${i}px`))}setShowEmpty(t){this.showEmpty$.next(t)}setNoResult(t){this.noResult$.next(t)}setScroll(t,i){const r=!(!t&&!i);r||this.setListOfAutoWidth([]),this.enableAutoMeasure$.next(r)}constructor(){this.theadTemplate$=new Xe.m(1),this.hasFixLeft$=new Xe.m(1),this.hasFixRight$=new Xe.m(1),this.hostWidth$=new Xe.m(1),this.columnCount$=new Xe.m(1),this.showEmpty$=new Xe.m(1),this.noResult$=new Xe.m(1),this.listOfThWidthConfigPx$=new re.t([]),this.tableWidthConfigPx$=new re.t([]),this.manualWidthConfigPx$=(0,sn.z)([this.tableWidthConfigPx$,this.listOfThWidthConfigPx$]).pipe((0,ue.T)(([t,i])=>t.length?t:i)),this.listOfAutoWidthPx$=new Xe.m(1),this.listOfListOfThWidthPx$=(0,we.h)(this.manualWidthConfigPx$,(0,sn.z)([this.listOfAutoWidthPx$,this.manualWidthConfigPx$]).pipe((0,ue.T)(([t,i])=>t.length===i.length?t.map((r,a)=>"0px"===r?i[a]||null:i[a]||r):i))),this.listOfMeasureColumn$=new Xe.m(1),this.listOfListOfThWidth$=this.listOfAutoWidthPx$.pipe((0,ue.T)(t=>t.map(i=>parseInt(i,10)))),this.enableAutoMeasure$=new Xe.m(1)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),vd=(()=>{class n{constructor(t){this.isInsideTable=!1,this.isInsideTable=!!t}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Sa,8))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["th",9,"nz-disable-th",3,"mat-cell",""],["td",9,"nz-disable-td",3,"mat-cell",""]],hostVars:2,hostBindings:function(i,r){2&i&&l.AVh("ant-table-cell",r.isInsideTable)},standalone:!0})}return n})(),gd=(()=>{class n{updatePageSize(t){this.pageSize$.next(t)}updateFrontPagination(t){this.frontPagination$.next(t)}updatePageIndex(t){this.pageIndex$.next(t)}updateListOfData(t){this.listOfData$.next(t)}updateListOfCustomColumn(t){this.listOfCustomColumn$.next(t)}constructor(){this.destroy$=new gt.B,this.pageIndex$=new re.t(1),this.frontPagination$=new re.t(!0),this.pageSize$=new re.t(10),this.listOfData$=new re.t([]),this.listOfCustomColumn$=new re.t([]),this.pageIndexDistinct$=this.pageIndex$.pipe((0,Mi.F)()),this.pageSizeDistinct$=this.pageSize$.pipe((0,Mi.F)()),this.listOfCalcOperator$=new re.t([]),this.queryParams$=(0,sn.z)([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfCalcOperator$]).pipe((0,hb.B)(0),(0,wO.i)(1),(0,ue.T)(([t,i,r])=>({pageIndex:t,pageSize:i,sort:r.filter(a=>a.sortFn).map(a=>({key:a.key,value:a.sortOrder})),filter:r.filter(a=>a.filterFn).map(a=>({key:a.key,value:a.filterValue}))}))),this.listOfDataAfterCalc$=(0,sn.z)([this.listOfData$,this.listOfCalcOperator$]).pipe((0,ue.T)(([t,i])=>{let r=[...t];const a=i.filter(s=>{const{filterValue:u,filterFn:c}=s;return!(null==u||Array.isArray(u)&&0===u.length)&&"function"==typeof c});for(const s of a){const{filterFn:u,filterValue:c}=s;r=r.filter(h=>u(c,h))}const o=i.filter(s=>null!==s.sortOrder&&"function"==typeof s.sortFn).sort((s,u)=>+u.sortPriority-+s.sortPriority);return i.length&&r.sort((s,u)=>{for(const c of o){const{sortFn:h,sortOrder:p}=c;if(h&&p){const f=h(s,u,p);if(0!==f)return"ascend"===p?f:-f}}return 0}),r})),this.listOfFrontEndCurrentPageData$=(0,sn.z)([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfDataAfterCalc$]).pipe((0,G.Q)(this.destroy$),(0,yn.p)(t=>{const[i,r,a]=t;return i<=(Math.ceil(a.length/r)||1)}),(0,ue.T)(([t,i,r])=>r.slice((t-1)*i,t*i))),this.listOfCurrentPageData$=this.frontPagination$.pipe((0,Se.n)(t=>t?this.listOfFrontEndCurrentPageData$:this.listOfDataAfterCalc$)),this.total$=this.frontPagination$.pipe((0,Se.n)(t=>t?this.listOfDataAfterCalc$:this.listOfData$),(0,ue.T)(t=>t.length),(0,Mi.F)())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),jV=(()=>{class n{constructor(){this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzIndentSize=0,this.nzShowExpand=!1,this.nzShowCheckbox=!1,this.nzExpand=!1,this.nzExpandIcon=null,this.nzCheckedChange=new l.bkB,this.nzExpandChange=new l.bkB,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(t){this.nzChecked=t,this.nzCheckedChange.emit(t)}onExpandChange(t){this.nzExpand=t,this.nzExpandChange.emit(t)}ngOnChanges(t){const i=u=>u&&u.firstChange&&void 0!==u.currentValue,{nzExpand:r,nzChecked:a,nzShowExpand:o,nzShowCheckbox:s}=t;o&&(this.isNzShowExpandChanged=!0),s&&(this.isNzShowCheckboxChanged=!0),i(r)&&!this.isNzShowExpandChanged&&(this.nzShowExpand=!0),i(a)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["td","nzChecked",""],["td","nzDisabled",""],["td","nzIndeterminate",""],["td","nzIndentSize",""],["td","nzExpand",""],["td","nzShowExpand",""],["td","nzShowCheckbox",""]],hostVars:4,hostBindings:function(i,r){2&i&&l.AVh("ant-table-cell-with-append",r.nzShowExpand||r.nzIndentSize>0)("ant-table-selection-column",r.nzShowCheckbox)},inputs:{nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzIndentSize:"nzIndentSize",nzShowExpand:"nzShowExpand",nzShowCheckbox:"nzShowCheckbox",nzExpand:"nzExpand",nzExpandIcon:"nzExpandIcon"},outputs:{nzCheckedChange:"nzCheckedChange",nzExpandChange:"nzExpandChange"},standalone:!0,features:[l.OA$,l.aNF],attrs:BB,ngContentSelectors:Pr,decls:3,vars:2,consts:[["rowExpand",""],[4,"ngIf"],["nz-checkbox","",3,"nzDisabled","ngModel","nzIndeterminate","ngModelChange",4,"ngIf"],[3,"indentSize"],[4,"ngIf","ngIfElse"],["nz-row-expand-button","",3,"expandChange","expand","spaceMode"],[3,"ngTemplateOutlet"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel","nzIndeterminate"]],template:function(i,r){1&i&&(l.NAR(),l.DNE(0,HB,5,3,"ng-container",1)(1,XB,1,4,"label",2),l.SdG(2)),2&i&&(l.Y8G("ngIf",r.nzShowExpand||r.nzIndentSize>0),l.R7$(),l.Y8G("ngIf",r.nzShowCheckbox))},dependencies:[HV,GV,U.bT,U.T3,ml,gl,Z.YN,Z.BC,Z.vS],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzShowExpand",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzShowCheckbox",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzExpand",void 0),n})(),Wb=(()=>{class n{getNextSortDirection(t,i){const r=t.indexOf(i);return r===t.length-1?t[0]:t[r+1]}setSortOrder(t){this.sortOrderChange$.next(t)}clearSortOrder(){null!==this.sortOrder&&this.setSortOrder(null)}onFilterValueChange(t){this.nzFilterChange.emit(t),this.nzFilterValue=t,this.updateCalcOperator()}updateCalcOperator(){this.calcOperatorChange$.next()}constructor(t,i,r,a){this.host=t,this.cdr=i,this.ngZone=r,this.destroy$=a,this.manualClickOrder$=new gt.B,this.calcOperatorChange$=new gt.B,this.nzFilterValue=null,this.sortOrder=null,this.sortDirections=["ascend","descend",null],this.sortOrderChange$=new gt.B,this.isNzShowSortChanged=!1,this.isNzShowFilterChanged=!1,this.nzFilterMultiple=!0,this.nzSortOrder=null,this.nzSortPriority=!1,this.nzSortDirections=["ascend","descend",null],this.nzFilters=[],this.nzSortFn=null,this.nzFilterFn=null,this.nzShowSort=!1,this.nzShowFilter=!1,this.nzCustomFilter=!1,this.nzCheckedChange=new l.bkB,this.nzSortOrderChange=new l.bkB,this.nzFilterChange=new l.bkB}ngOnInit(){this.ngZone.runOutsideAngular(()=>(0,qt.R)(this.host.nativeElement,"click").pipe((0,yn.p)(()=>this.nzShowSort),(0,G.Q)(this.destroy$)).subscribe(()=>{const t=this.getNextSortDirection(this.sortDirections,this.sortOrder);this.ngZone.run(()=>{this.setSortOrder(t),this.manualClickOrder$.next(this)})})),this.sortOrderChange$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.sortOrder!==t&&(this.sortOrder=t,this.nzSortOrderChange.emit(t)),this.updateCalcOperator(),this.cdr.markForCheck()})}ngOnChanges(t){const{nzSortDirections:i,nzFilters:r,nzSortOrder:a,nzSortFn:o,nzFilterFn:s,nzSortPriority:u,nzFilterMultiple:c,nzShowSort:h,nzShowFilter:p}=t;i&&this.nzSortDirections&&this.nzSortDirections.length&&(this.sortDirections=this.nzSortDirections),a&&(this.sortOrder=this.nzSortOrder,this.setSortOrder(this.nzSortOrder)),h&&(this.isNzShowSortChanged=!0),p&&(this.isNzShowFilterChanged=!0);const f=d=>d&&d.firstChange&&void 0!==d.currentValue;if((f(a)||f(o))&&!this.isNzShowSortChanged&&(this.nzShowSort=!0),f(r)&&!this.isNzShowFilterChanged&&(this.nzShowFilter=!0),(r||c)&&this.nzShowFilter){const d=this.nzFilters.filter(v=>v.byDefault).map(v=>v.value);this.nzFilterValue=this.nzFilterMultiple?d:d[0]||null}(o||s||u||r)&&this.updateCalcOperator()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(Ce.y4))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["th","nzColumnKey",""],["th","nzSortFn",""],["th","nzSortOrder",""],["th","nzFilters",""],["th","nzShowSort",""],["th","nzShowFilter",""],["th","nzCustomFilter",""]],hostVars:4,hostBindings:function(i,r){2&i&&l.AVh("ant-table-column-has-sorters",r.nzShowSort)("ant-table-column-sort","descend"===r.sortOrder||"ascend"===r.sortOrder)},inputs:{nzColumnKey:"nzColumnKey",nzFilterMultiple:"nzFilterMultiple",nzSortOrder:"nzSortOrder",nzSortPriority:"nzSortPriority",nzSortDirections:"nzSortDirections",nzFilters:"nzFilters",nzSortFn:"nzSortFn",nzFilterFn:"nzFilterFn",nzShowSort:"nzShowSort",nzShowFilter:"nzShowFilter",nzCustomFilter:"nzCustomFilter"},outputs:{nzCheckedChange:"nzCheckedChange",nzSortOrderChange:"nzSortOrderChange",nzFilterChange:"nzFilterChange"},standalone:!0,features:[l.Jv_([Ce.y4]),l.OA$,l.aNF],attrs:jB,ngContentSelectors:WB,decls:9,vars:2,consts:[["notFilterTemplate",""],["extraTemplate",""],["sortTemplate",""],["contentTemplate",""],[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange",4,"ngIf","ngIfElse"],[3,"filterChange","contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter"],[3,"ngTemplateOutlet"],[3,"sortOrder","sortDirections","contentTemplate"]],template:function(i,r){if(1&i&&(l.NAR(YB),l.DNE(0,UB,1,5,"nz-table-filter",4)(1,ZB,1,1,"ng-template",null,0,l.C5r)(3,qB,2,0,"ng-template",null,1,l.C5r)(5,KB,1,3,"ng-template",null,2,l.C5r)(7,QB,1,0,"ng-template",null,3,l.C5r)),2&i){const a=l.sdS(2);l.Y8G("ngIf",r.nzShowFilter||r.nzCustomFilter)("ngIfElse",a)}},dependencies:[Xb,U.bT,U.T3,Yb],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzShowSort",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzShowFilter",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzCustomFilter",void 0),n})(),Ub=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i,this.changes$=new gt.B,this.nzWidth=null,this.colspan=null,this.colSpan=null,this.rowspan=null,this.rowSpan=null}ngOnChanges(t){const{nzWidth:i,colspan:r,rowspan:a,colSpan:o,rowSpan:s}=t;if(r||o){const u=this.colspan||this.colSpan;(0,Y.gD)(u)?this.renderer.removeAttribute(this.elementRef.nativeElement,"colspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"colspan",`${u}`)}if(a||s){const u=this.rowspan||this.rowSpan;(0,Y.gD)(u)?this.renderer.removeAttribute(this.elementRef.nativeElement,"rowspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"rowspan",`${u}`)}(i||r)&&this.changes$.next()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.sFG),l.rXU(l.aKT))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["th"]],inputs:{nzWidth:"nzWidth",colspan:"colspan",colSpan:"colSpan",rowspan:"rowspan",rowSpan:"rowSpan"},standalone:!0,features:[l.OA$]})}return n})(),YV=(()=>{class n{constructor(){this.nzSelections=[],this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzShowCheckbox=!1,this.nzShowRowSelection=!1,this.nzCheckedChange=new l.bkB,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(t){this.nzChecked=t,this.nzCheckedChange.emit(t)}ngOnChanges(t){const i=u=>u&&u.firstChange&&void 0!==u.currentValue,{nzChecked:r,nzSelections:a,nzShowExpand:o,nzShowCheckbox:s}=t;o&&(this.isNzShowExpandChanged=!0),s&&(this.isNzShowCheckboxChanged=!0),i(a)&&!this.isNzShowExpandChanged&&(this.nzShowRowSelection=!0),i(r)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["th","nzSelections",""],["th","nzChecked",""],["th","nzShowCheckbox",""],["th","nzShowRowSelection",""]],hostAttrs:[1,"ant-table-selection-column"],inputs:{nzSelections:"nzSelections",nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzShowCheckbox:"nzShowCheckbox",nzShowRowSelection:"nzShowRowSelection"},outputs:{nzCheckedChange:"nzCheckedChange"},standalone:!0,features:[l.OA$,l.aNF],attrs:JB,ngContentSelectors:Pr,decls:2,vars:7,consts:[[3,"checkedChange","checked","disabled","indeterminate","label","listOfSelections","showCheckbox","showRowSelection"]],template:function(i,r){1&i&&(l.NAR(),l.j41(0,"nz-table-selection",0),l.bIt("checkedChange",function(o){return r.onCheckedChange(o)}),l.k0s(),l.SdG(1)),2&i&&l.Y8G("checked",r.nzChecked)("disabled",r.nzDisabled)("indeterminate",r.nzIndeterminate)("label",r.nzLabel)("listOfSelections",r.nzSelections)("showCheckbox",r.nzShowCheckbox)("showRowSelection",r.nzShowRowSelection)},dependencies:[jb],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzShowCheckbox",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzShowRowSelection",void 0),n})(),$b=(()=>{class n{constructor(){this.tableLayout="auto",this.theadTemplate=null,this.contentTemplate=null,this.listOfColWidth=[],this.scrollX=null}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["table","nz-table-content",""]],hostVars:8,hostBindings:function(i,r){2&i&&(l.xc7("table-layout",r.tableLayout)("width",r.scrollX)("min-width",r.scrollX?"100%":null),l.AVh("ant-table-fixed",r.scrollX))},inputs:{tableLayout:"tableLayout",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",listOfColWidth:"listOfColWidth",scrollX:"scrollX"},standalone:!0,features:[l.aNF],attrs:tV,ngContentSelectors:Pr,decls:4,vars:3,consts:[[3,"width","minWidth",4,"ngFor","ngForOf"],["class","ant-table-thead",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-table-thead"]],template:function(i,r){1&i&&(l.NAR(),l.DNE(0,eV,1,4,"col",0)(1,iV,2,1,"thead",1)(2,rV,0,0,"ng-template",2),l.SdG(3)),2&i&&(l.Y8G("ngForOf",r.listOfColWidth),l.R7$(),l.Y8G("ngIf",r.theadTemplate),l.R7$(),l.Y8G("ngTemplateOutlet",r.contentTemplate))},dependencies:[U.T3,U.bT,U.Sq],encapsulation:2,changeDetection:0})}return n})(),WV=(()=>{class n{constructor(t,i){this.nzTableStyleService=t,this.renderer=i,this.hostWidth$=new re.t(null),this.enableAutoMeasure$=new re.t(!1),this.destroy$=new gt.B}ngOnInit(){if(this.nzTableStyleService){const{enableAutoMeasure$:t,hostWidth$:i}=this.nzTableStyleService;t.pipe((0,G.Q)(this.destroy$)).subscribe(this.enableAutoMeasure$),i.pipe((0,G.Q)(this.destroy$)).subscribe(this.hostWidth$)}}ngAfterViewInit(){this.nzTableStyleService.columnCount$.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.renderer.setAttribute(this.tdElement.nativeElement,"colspan",`${t}`)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Sa),l.rXU(l.sFG))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["tr","nz-table-fixed-row",""],["tr","nzExpand",""]],viewQuery:function(i,r){if(1&i&&l.GBs(Gb,7),2&i){let a;l.mGM(a=l.lsd())&&(r.tdElement=a.first)}},standalone:!0,features:[l.aNF],attrs:aV,ngContentSelectors:Pr,decls:6,vars:4,consts:[["tdElement",""],["contentTemplate",""],[1,"nz-disable-td","ant-table-cell"],["class","ant-table-expanded-row-fixed","style","position: sticky; left: 0px; overflow: hidden;",3,"width",4,"ngIf","ngIfElse"],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0px","overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(i,r){if(1&i&&(l.NAR(),l.j41(0,"td",2,0),l.DNE(2,sV,3,5,"div",3),l.nI1(3,"async"),l.k0s(),l.DNE(4,lV,1,0,"ng-template",null,1,l.C5r)),2&i){const a=l.sdS(5);l.R7$(2),l.Y8G("ngIf",l.bMT(3,2,r.enableAutoMeasure$))("ngIfElse",a)}},dependencies:[U.bT,U.Jj,U.T3],encapsulation:2,changeDetection:0})}return n})(),UV=(()=>{class n{constructor(){this.tableLayout="auto",this.listOfColWidth=[],this.theadTemplate=null,this.contentTemplate=null}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-table-inner-default"]],hostAttrs:[1,"ant-table-container"],inputs:{tableLayout:"tableLayout",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate"},standalone:!0,features:[l.aNF],decls:2,vars:4,consts:[[1,"ant-table-content"],["nz-table-content","",3,"contentTemplate","tableLayout","listOfColWidth","theadTemplate"]],template:function(i,r){1&i&&(l.j41(0,"div",0),l.nrm(1,"table",1),l.k0s()),2&i&&(l.R7$(),l.Y8G("contentTemplate",r.contentTemplate)("tableLayout",r.tableLayout)("listOfColWidth",r.listOfColWidth)("theadTemplate",r.theadTemplate))},dependencies:[$b],encapsulation:2,changeDetection:0})}return n})(),$V=(()=>{class n{constructor(t,i){this.nzResizeObserver=t,this.ngZone=i,this.listOfMeasureColumn=[],this.listOfAutoWidth=new l.bkB,this.destroy$=new gt.B}trackByFunc(t,i){return i}ngAfterViewInit(){this.listOfTdElement.changes.pipe((0,Re.Z)(this.listOfTdElement)).pipe((0,Se.n)(t=>(0,sn.z)(t.toArray().map(i=>this.nzResizeObserver.observe(i).pipe((0,ue.T)(([r])=>{const{width:a}=r.target.getBoundingClientRect();return Math.floor(a)}))))),(0,hb.B)(16),(0,G.Q)(this.destroy$)).subscribe(t=>{this.ngZone instanceof l.SKi&&l.SKi.isInAngularZone()?this.listOfAutoWidth.next(t):this.ngZone.run(()=>this.listOfAutoWidth.next(t))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Rc),l.rXU(l.SKi))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["tr","nz-table-measure-row",""]],viewQuery:function(i,r){if(1&i&&l.GBs(Gb,5),2&i){let a;l.mGM(a=l.lsd())&&(r.listOfTdElement=a)}},hostAttrs:[1,"ant-table-measure-now"],inputs:{listOfMeasureColumn:"listOfMeasureColumn"},outputs:{listOfAutoWidth:"listOfAutoWidth"},standalone:!0,features:[l.aNF],attrs:uV,decls:1,vars:2,consts:[["tdElement",""],["class","nz-disable-td","style","padding: 0px; border: 0px; height: 0px;",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nz-disable-td",2,"padding","0px","border","0px","height","0px"]],template:function(i,r){1&i&&l.DNE(0,cV,2,0,"td",1),2&i&&l.Y8G("ngForOf",r.listOfMeasureColumn)("ngForTrackBy",r.trackByFunc)},dependencies:[U.Sq],encapsulation:2,changeDetection:0})}return n})(),md=(()=>{class n{constructor(t){if(this.nzTableStyleService=t,this.isInsideTable=!1,this.showEmpty$=new re.t(!1),this.noResult$=new re.t(void 0),this.listOfMeasureColumn$=new re.t([]),this.destroy$=new gt.B,this.isInsideTable=!!this.nzTableStyleService,this.nzTableStyleService){const{showEmpty$:i,noResult$:r,listOfMeasureColumn$:a}=this.nzTableStyleService;r.pipe((0,G.Q)(this.destroy$)).subscribe(this.noResult$),a.pipe((0,G.Q)(this.destroy$)).subscribe(this.listOfMeasureColumn$),i.pipe((0,G.Q)(this.destroy$)).subscribe(this.showEmpty$)}}onListOfAutoWidthChange(t){this.nzTableStyleService.setListOfAutoWidth(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Sa,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["tbody"]],hostVars:2,hostBindings:function(i,r){2&i&&l.AVh("ant-table-tbody",r.isInsideTable)},standalone:!0,features:[l.aNF],ngContentSelectors:Pr,decls:5,vars:6,consts:[[4,"ngIf"],["class","ant-table-placeholder","nz-table-fixed-row","",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth",4,"ngIf"],["nz-table-measure-row","",3,"listOfAutoWidth","listOfMeasureColumn"],["nz-table-fixed-row","",1,"ant-table-placeholder"],["nzComponentName","table",3,"specificContent"]],template:function(i,r){1&i&&(l.NAR(),l.DNE(0,pV,2,1,"ng-container",0),l.nI1(1,"async"),l.SdG(2),l.DNE(3,fV,3,3,"tr",1),l.nI1(4,"async")),2&i&&(l.Y8G("ngIf",l.bMT(1,2,r.listOfMeasureColumn$)),l.R7$(3),l.Y8G("ngIf",l.bMT(4,4,r.showEmpty$)))},dependencies:[U.bT,U.Jj,$V,WV,bb,cd],encapsulation:2,changeDetection:0})}return n})(),yd=(()=>{class n{setScrollPositionClassName(t=!1){const{scrollWidth:i,scrollLeft:r,clientWidth:a}=this.tableBodyElement.nativeElement,o="ant-table-ping-left",s="ant-table-ping-right";i===a&&0!==i||t?(this.renderer.removeClass(this.tableMainElement,o),this.renderer.removeClass(this.tableMainElement,s)):0===r?(this.renderer.removeClass(this.tableMainElement,o),this.renderer.addClass(this.tableMainElement,s)):i===r+a?(this.renderer.removeClass(this.tableMainElement,s),this.renderer.addClass(this.tableMainElement,o)):(this.renderer.addClass(this.tableMainElement,o),this.renderer.addClass(this.tableMainElement,s))}constructor(t,i,r,a){this.renderer=t,this.ngZone=i,this.platform=r,this.resizeService=a,this.data=[],this.scrollX=null,this.scrollY=null,this.contentTemplate=null,this.widthConfig=[],this.listOfColWidth=[],this.theadTemplate=null,this.virtualTemplate=null,this.virtualItemSize=0,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=o=>o,this.headerStyleMap={},this.bodyStyleMap={},this.verticalScrollBarWidth=0,this.noDateVirtualHeight="182px",this.data$=new gt.B,this.scroll$=new gt.B,this.destroy$=new gt.B}ngOnChanges(t){const{scrollX:i,scrollY:r,data:a}=t;(i||r)&&(this.headerStyleMap={overflowX:"hidden",overflowY:this.scrollY&&0!==this.verticalScrollBarWidth?"scroll":"hidden"},this.bodyStyleMap={overflowY:this.scrollY?"scroll":"hidden",overflowX:this.scrollX?"auto":null,maxHeight:this.scrollY},this.ngZone.runOutsideAngular(()=>this.scroll$.next())),a&&this.ngZone.runOutsideAngular(()=>this.data$.next())}ngAfterViewInit(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{const t=this.scroll$.pipe((0,Re.Z)(null),(0,Mc.c)(0),(0,Se.n)(()=>(0,qt.R)(this.tableBodyElement.nativeElement,"scroll").pipe((0,Re.Z)(!0))),(0,G.Q)(this.destroy$)),i=this.resizeService.subscribe().pipe((0,G.Q)(this.destroy$)),r=this.data$.pipe((0,G.Q)(this.destroy$));(0,we.h)(t,i,r,this.scroll$).pipe((0,Re.Z)(!0),(0,Mc.c)(0),(0,G.Q)(this.destroy$)).subscribe(()=>this.setScrollPositionClassName()),t.pipe((0,yn.p)(()=>!!this.scrollY)).subscribe(()=>this.tableHeaderElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft)})}ngOnDestroy(){this.setScrollPositionClassName(!0),this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.sFG),l.rXU(l.SKi),l.rXU(Xo.OD),l.rXU(Ce.cB))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-table-inner-scroll"]],viewQuery:function(i,r){if(1&i&&(l.GBs(dV,5,l.aKT),l.GBs(vV,5,l.aKT),l.GBs(ui.d6,5,ui.d6)),2&i){let a;l.mGM(a=l.lsd())&&(r.tableHeaderElement=a.first),l.mGM(a=l.lsd())&&(r.tableBodyElement=a.first),l.mGM(a=l.lsd())&&(r.cdkVirtualScrollViewport=a.first)}},hostAttrs:[1,"ant-table-container"],inputs:{data:"data",scrollX:"scrollX",scrollY:"scrollY",contentTemplate:"contentTemplate",widthConfig:"widthConfig",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",virtualTemplate:"virtualTemplate",virtualItemSize:"virtualItemSize",virtualMaxBufferPx:"virtualMaxBufferPx",virtualMinBufferPx:"virtualMinBufferPx",tableMainElement:"tableMainElement",virtualForTrackBy:"virtualForTrackBy",verticalScrollBarWidth:"verticalScrollBarWidth"},standalone:!0,features:[l.OA$,l.aNF],decls:2,vars:2,consts:[["tableHeaderElement",""],["tableBodyElement",""],[4,"ngIf"],["class","ant-table-content",3,"ngStyle",4,"ngIf"],[1,"ant-table-header","nz-table-hide-scrollbar",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate"],["class","ant-table-body",3,"ngStyle",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","height",4,"ngIf"],[1,"ant-table-body",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","contentTemplate"],[3,"itemSize","maxBufferPx","minBufferPx"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-table-content",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","contentTemplate"]],template:function(i,r){1&i&&l.DNE(0,CV,6,6,"ng-container",2)(1,SV,3,5,"div",3),2&i&&(l.Y8G("ngIf",r.scrollY),l.R7$(),l.Y8G("ngIf",!r.scrollY))},dependencies:[$b,U.bT,U.B3,ui.E9,ui.yg,ui.E$,ui.d6,U.T3,md],encapsulation:2,changeDetection:0})}return n})(),ZV=(()=>{class n{constructor(t){this.templateRef=t}static ngTemplateContextGuard(t,i){return!0}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.C4Q))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["","nz-virtual-scroll",""]],exportAs:["nzVirtualScroll"],standalone:!0})}return n})(),Zb=(()=>{class n{constructor(){this.title=null,this.footer=null}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-table-title-footer"]],hostVars:4,hostBindings:function(i,r){2&i&&l.AVh("ant-table-title",null!==r.title)("ant-table-footer",null!==r.footer)},inputs:{title:"title",footer:"footer"},standalone:!0,features:[l.aNF],decls:2,vars:2,consts:[[4,"nzStringTemplateOutlet"]],template:function(i,r){1&i&&l.DNE(0,xV,2,1,"ng-container",0)(1,zV,2,1,"ng-container",0),2&i&&(l.Y8G("nzStringTemplateOutlet",r.title),l.R7$(),l.Y8G("nzStringTemplateOutlet",r.footer))},dependencies:[Xt.C,Xt.m],encapsulation:2,changeDetection:0})}return n})(),qV=(()=>{class n{onPageSizeChange(t){this.nzTableDataService.updatePageSize(t)}onPageIndexChange(t){this.nzTableDataService.updatePageIndex(t)}constructor(t,i,r,a,o,s,u){this.elementRef=t,this.nzResizeObserver=i,this.nzConfigService=r,this.cdr=a,this.nzTableStyleService=o,this.nzTableDataService=s,this.directionality=u,this._nzModuleName="table",this.nzTableLayout="auto",this.nzShowTotal=null,this.nzItemRender=null,this.nzTitle=null,this.nzFooter=null,this.nzNoResult=void 0,this.nzPageSizeOptions=[10,20,30,40,50],this.nzVirtualItemSize=0,this.nzVirtualMaxBufferPx=200,this.nzVirtualMinBufferPx=100,this.nzVirtualForTrackBy=c=>c,this.nzLoadingDelay=0,this.nzPageIndex=1,this.nzPageSize=10,this.nzTotal=0,this.nzWidthConfig=[],this.nzData=[],this.nzCustomColumn=[],this.nzPaginationPosition="bottom",this.nzScroll={x:null,y:null},this.nzPaginationType="default",this.nzFrontPagination=!0,this.nzTemplateMode=!1,this.nzShowPagination=!0,this.nzLoading=!1,this.nzOuterBordered=!1,this.nzLoadingIndicator=null,this.nzBordered=!1,this.nzSize="default",this.nzShowSizeChanger=!1,this.nzHideOnSinglePage=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzPageSizeChange=new l.bkB,this.nzPageIndexChange=new l.bkB,this.nzQueryParams=new l.bkB,this.nzCurrentPageDataChange=new l.bkB,this.nzCustomColumnChange=new l.bkB,this.data=[],this.scrollX=null,this.scrollY=null,this.theadTemplate=null,this.listOfAutoColWidth=[],this.listOfManualColWidth=[],this.hasFixLeft=!1,this.hasFixRight=!1,this.showPagination=!0,this.destroy$=new gt.B,this.templateMode$=new re.t(!1),this.dir="ltr",this.verticalScrollBarWidth=0,this.nzConfigService.getConfigChangeEventForComponent("table").pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){const{pageIndexDistinct$:t,pageSizeDistinct$:i,listOfCurrentPageData$:r,total$:a,queryParams$:o,listOfCustomColumn$:s}=this.nzTableDataService,{theadTemplate$:u,hasFixLeft$:c,hasFixRight$:h}=this.nzTableStyleService;this.dir=this.directionality.value,this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{this.dir=p,this.cdr.detectChanges()}),o.pipe((0,G.Q)(this.destroy$)).subscribe(this.nzQueryParams),t.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{p!==this.nzPageIndex&&(this.nzPageIndex=p,this.nzPageIndexChange.next(p))}),i.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{p!==this.nzPageSize&&(this.nzPageSize=p,this.nzPageSizeChange.next(p))}),a.pipe((0,G.Q)(this.destroy$),(0,yn.p)(()=>this.nzFrontPagination)).subscribe(p=>{p!==this.nzTotal&&(this.nzTotal=p,this.cdr.markForCheck())}),r.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{this.data=p,this.nzCurrentPageDataChange.next(p),this.cdr.markForCheck()}),s.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{this.nzCustomColumn=p,this.nzCustomColumnChange.next(p),this.cdr.markForCheck()}),u.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{this.theadTemplate=p,this.cdr.markForCheck()}),c.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{this.hasFixLeft=p,this.cdr.markForCheck()}),h.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{this.hasFixRight=p,this.cdr.markForCheck()}),(0,sn.z)([a,this.templateMode$]).pipe((0,ue.T)(([p,f])=>0===p&&!f),(0,G.Q)(this.destroy$)).subscribe(p=>{this.nzTableStyleService.setShowEmpty(p)}),this.verticalScrollBarWidth=(0,Y.nS)("vertical"),this.nzTableStyleService.listOfListOfThWidthPx$.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{this.listOfAutoColWidth=p,this.cdr.markForCheck()}),this.nzTableStyleService.manualWidthConfigPx$.pipe((0,G.Q)(this.destroy$)).subscribe(p=>{this.listOfManualColWidth=p,this.cdr.markForCheck()})}ngOnChanges(t){const{nzScroll:i,nzPageIndex:r,nzPageSize:a,nzFrontPagination:o,nzData:s,nzCustomColumn:u,nzWidthConfig:c,nzNoResult:h,nzTemplateMode:p}=t;r&&this.nzTableDataService.updatePageIndex(this.nzPageIndex),a&&this.nzTableDataService.updatePageSize(this.nzPageSize),s&&(this.nzData=this.nzData||[],this.nzTableDataService.updateListOfData(this.nzData)),u&&(this.nzCustomColumn=this.nzCustomColumn||[],this.nzTableDataService.updateListOfCustomColumn(this.nzCustomColumn)),o&&this.nzTableDataService.updateFrontPagination(this.nzFrontPagination),i&&this.setScrollOnChanges(),c&&this.nzTableStyleService.setTableWidthConfig(this.nzWidthConfig),p&&this.templateMode$.next(this.nzTemplateMode),h&&this.nzTableStyleService.setNoResult(this.nzNoResult),this.updateShowPagination()}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe((0,ue.T)(([t])=>{const{width:i}=t.target.getBoundingClientRect();return Math.floor(i-(this.scrollY?this.verticalScrollBarWidth:0))}),(0,G.Q)(this.destroy$)).subscribe(this.nzTableStyleService.hostWidth$),this.nzTableInnerScrollComponent&&this.nzTableInnerScrollComponent.cdkVirtualScrollViewport&&(this.cdkVirtualScrollViewport=this.nzTableInnerScrollComponent.cdkVirtualScrollViewport)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setScrollOnChanges(){this.scrollX=this.nzScroll&&this.nzScroll.x||null,this.scrollY=this.nzScroll&&this.nzScroll.y||null,this.nzTableStyleService.setScroll(this.scrollX,this.scrollY)}updateShowPagination(){this.showPagination=this.nzHideOnSinglePage&&this.nzData.length>this.nzPageSize||this.nzData.length>0&&!this.nzHideOnSinglePage||!this.nzFrontPagination&&this.nzTotal>this.nzPageSize}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(Rc),l.rXU(Pt.yx),l.rXU(l.gRc),l.rXU(Sa),l.rXU(gd),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-table"]],contentQueries:function(i,r,a){if(1&i&&l.wni(a,ZV,5),2&i){let o;l.mGM(o=l.lsd())&&(r.nzVirtualScrollDirective=o.first)}},viewQuery:function(i,r){if(1&i&&l.GBs(yd,5),2&i){let a;l.mGM(a=l.lsd())&&(r.nzTableInnerScrollComponent=a.first)}},hostAttrs:[1,"ant-table-wrapper"],hostVars:4,hostBindings:function(i,r){2&i&&l.AVh("ant-table-wrapper-rtl","rtl"===r.dir)("ant-table-custom-column",r.nzCustomColumn.length)},inputs:{nzTableLayout:"nzTableLayout",nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzTitle:"nzTitle",nzFooter:"nzFooter",nzNoResult:"nzNoResult",nzPageSizeOptions:"nzPageSizeOptions",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualForTrackBy:"nzVirtualForTrackBy",nzLoadingDelay:"nzLoadingDelay",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize",nzTotal:"nzTotal",nzWidthConfig:"nzWidthConfig",nzData:"nzData",nzCustomColumn:"nzCustomColumn",nzPaginationPosition:"nzPaginationPosition",nzScroll:"nzScroll",nzPaginationType:"nzPaginationType",nzFrontPagination:"nzFrontPagination",nzTemplateMode:"nzTemplateMode",nzShowPagination:"nzShowPagination",nzLoading:"nzLoading",nzOuterBordered:"nzOuterBordered",nzLoadingIndicator:"nzLoadingIndicator",nzBordered:"nzBordered",nzSize:"nzSize",nzShowSizeChanger:"nzShowSizeChanger",nzHideOnSinglePage:"nzHideOnSinglePage",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange",nzQueryParams:"nzQueryParams",nzCurrentPageDataChange:"nzCurrentPageDataChange",nzCustomColumnChange:"nzCustomColumnChange"},exportAs:["nzTable"],standalone:!0,features:[l.Jv_([Sa,gd]),l.OA$,l.aNF],ngContentSelectors:Pr,decls:14,vars:27,consts:[["tableMainElement",""],["defaultTemplate",""],["paginationTemplate",""],["contentTemplate",""],[3,"nzDelay","nzSpinning","nzIndicator"],[4,"ngIf"],[1,"ant-table"],[3,"title",4,"ngIf"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy",4,"ngIf","ngIfElse"],[3,"footer",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"title"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy"],[3,"tableLayout","listOfColWidth","theadTemplate","contentTemplate"],[3,"footer"],["class","ant-table-pagination ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange",4,"ngIf"],[1,"ant-table-pagination","ant-table-pagination-right",3,"nzPageSizeChange","nzPageIndexChange","hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex"]],template:function(i,r){if(1&i&&(l.NAR(),l.j41(0,"nz-spin",4),l.DNE(1,TV,2,1,"ng-container",5),l.j41(2,"div",6,0),l.DNE(4,DV,1,1,"nz-table-title-footer",7)(5,MV,1,13,"nz-table-inner-scroll",8)(6,IV,1,4,"ng-template",null,1,l.C5r)(8,AV,1,1,"nz-table-title-footer",9),l.k0s(),l.DNE(9,PV,2,1,"ng-container",5),l.k0s(),l.DNE(10,NV,1,1,"ng-template",null,2,l.C5r)(12,OV,1,0,"ng-template",null,3,l.C5r)),2&i){const a=l.sdS(7);l.Y8G("nzDelay",r.nzLoadingDelay)("nzSpinning",r.nzLoading)("nzIndicator",r.nzLoadingIndicator),l.R7$(),l.Y8G("ngIf","both"===r.nzPaginationPosition||"top"===r.nzPaginationPosition),l.R7$(),l.AVh("ant-table-rtl","rtl"===r.dir)("ant-table-fixed-header",r.nzData.length&&r.scrollY)("ant-table-fixed-column",r.scrollX)("ant-table-has-fix-left",r.hasFixLeft)("ant-table-has-fix-right",r.hasFixRight)("ant-table-bordered",r.nzBordered)("nz-table-out-bordered",r.nzOuterBordered&&!r.nzBordered)("ant-table-middle","middle"===r.nzSize)("ant-table-small","small"===r.nzSize),l.R7$(2),l.Y8G("ngIf",r.nzTitle),l.R7$(),l.Y8G("ngIf",r.scrollY||r.scrollX)("ngIfElse",a),l.R7$(3),l.Y8G("ngIf",r.nzFooter),l.R7$(),l.Y8G("ngIf","both"===r.nzPaginationPosition||"bottom"===r.nzPaginationPosition)}},dependencies:[Vb,U.bT,U.T3,Zb,yd,UV,yB,Lb],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzFrontPagination",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzTemplateMode",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzShowPagination",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzLoading",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzOuterBordered",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzLoadingIndicator",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzBordered",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzSize",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzShowSizeChanger",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzHideOnSinglePage",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzShowQuickJumper",void 0),(0,W.Cg)([(0,Pt.H4)(),(0,Y.H3)()],n.prototype,"nzSimple",void 0),n})(),Bc=(()=>{class n{constructor(t){this.nzTableStyleService=t,this.destroy$=new gt.B,this.listOfFixedColumns$=new Xe.m(1),this.listOfColumns$=new Xe.m(1),this.listOfFixedColumnsChanges$=this.listOfFixedColumns$.pipe((0,Se.n)(i=>(0,we.h)(this.listOfFixedColumns$,...i.map(r=>r.changes$)).pipe((0,hl.Z)(()=>this.listOfFixedColumns$))),(0,G.Q)(this.destroy$)),this.listOfFixedLeftColumnChanges$=this.listOfFixedColumnsChanges$.pipe((0,ue.T)(i=>i.filter(r=>!1!==r.nzLeft))),this.listOfFixedRightColumnChanges$=this.listOfFixedColumnsChanges$.pipe((0,ue.T)(i=>i.filter(r=>!1!==r.nzRight))),this.listOfColumnsChanges$=this.listOfColumns$.pipe((0,Se.n)(i=>(0,we.h)(this.listOfColumns$,...i.map(r=>r.changes$)).pipe((0,hl.Z)(()=>this.listOfColumns$))),(0,G.Q)(this.destroy$)),this.isInsideTable=!1,this.isInsideTable=!!t}ngAfterContentInit(){this.nzTableStyleService&&(this.listOfCellFixedDirective.changes.pipe((0,Re.Z)(this.listOfCellFixedDirective),(0,G.Q)(this.destroy$)).subscribe(this.listOfFixedColumns$),this.listOfNzThDirective.changes.pipe((0,Re.Z)(this.listOfNzThDirective),(0,G.Q)(this.destroy$)).subscribe(this.listOfColumns$),this.listOfFixedLeftColumnChanges$.subscribe(t=>{t.forEach(i=>i.setIsLastLeft(i===t[t.length-1]))}),this.listOfFixedRightColumnChanges$.subscribe(t=>{t.forEach(i=>i.setIsFirstRight(i===t[0]))}),(0,sn.z)([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedLeftColumnChanges$]).pipe((0,G.Q)(this.destroy$)).subscribe(([t,i])=>{i.forEach((r,a)=>{if(r.isAutoLeft){const s=i.slice(0,a).reduce((c,h)=>c+(h.colspan||h.colSpan||1),0),u=t.slice(0,s).reduce((c,h)=>c+h,0);r.setAutoLeftWidth(`${u}px`)}})}),(0,sn.z)([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedRightColumnChanges$]).pipe((0,G.Q)(this.destroy$)).subscribe(([t,i])=>{i.forEach((r,a)=>{const o=i[i.length-a-1];if(o.isAutoRight){const u=i.slice(i.length-a,i.length).reduce((h,p)=>h+(p.colspan||p.colSpan||1),0),c=t.slice(t.length-u,t.length).reduce((h,p)=>h+p,0);o.setAutoRightWidth(`${c}px`)}})}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Sa,8))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["tr",3,"mat-row","",3,"mat-header-row","",3,"nz-table-measure-row","",3,"nzExpand","",3,"nz-table-fixed-row",""]],contentQueries:function(i,r,a){if(1&i&&(l.wni(a,Ub,4),l.wni(a,XV,4)),2&i){let o;l.mGM(o=l.lsd())&&(r.listOfNzThDirective=o),l.mGM(o=l.lsd())&&(r.listOfCellFixedDirective=o)}},hostVars:2,hostBindings:function(i,r){2&i&&l.AVh("ant-table-row",r.isInsideTable)},standalone:!0})}return n})(),KV=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.renderer=i,this.nzTableStyleService=r,this.nzTableDataService=a,this.destroy$=new gt.B,this.isInsideTable=!1,this.nzSortOrderChange=new l.bkB,this.isInsideTable=!!this.nzTableStyleService}ngOnInit(){this.nzTableStyleService&&this.nzTableStyleService.setTheadTemplate(this.templateRef)}ngAfterContentInit(){if(this.nzTableStyleService){const t=this.listOfNzTrDirective.changes.pipe((0,Re.Z)(this.listOfNzTrDirective),(0,ue.T)(o=>o&&o.first)),i=t.pipe((0,Se.n)(o=>o?o.listOfColumnsChanges$:Dc.w),(0,G.Q)(this.destroy$));i.subscribe(o=>this.nzTableStyleService.setListOfTh(o)),this.nzTableStyleService.enableAutoMeasure$.pipe((0,Se.n)(o=>o?i:(0,Ii.of)([]))).pipe((0,G.Q)(this.destroy$)).subscribe(o=>this.nzTableStyleService.setListOfMeasureColumn(o));const r=t.pipe((0,Se.n)(o=>o?o.listOfFixedLeftColumnChanges$:Dc.w),(0,G.Q)(this.destroy$)),a=t.pipe((0,Se.n)(o=>o?o.listOfFixedRightColumnChanges$:Dc.w),(0,G.Q)(this.destroy$));r.subscribe(o=>{this.nzTableStyleService.setHasFixLeft(0!==o.length)}),a.subscribe(o=>{this.nzTableStyleService.setHasFixRight(0!==o.length)})}if(this.nzTableDataService){const t=this.listOfNzThAddOnComponent.changes.pipe((0,Re.Z)(this.listOfNzThAddOnComponent));t.pipe((0,Se.n)(()=>(0,we.h)(...this.listOfNzThAddOnComponent.map(a=>a.manualClickOrder$))),(0,G.Q)(this.destroy$)).subscribe(a=>{this.nzSortOrderChange.emit({key:a.nzColumnKey,value:a.sortOrder}),a.nzSortFn&&!1===a.nzSortPriority&&this.listOfNzThAddOnComponent.filter(s=>s!==a).forEach(s=>s.clearSortOrder())}),t.pipe((0,Se.n)(a=>(0,we.h)(t,...a.map(o=>o.calcOperatorChange$)).pipe((0,hl.Z)(()=>t))),(0,ue.T)(a=>a.filter(o=>!!o.nzSortFn||!!o.nzFilterFn).map(o=>{const{nzSortFn:s,sortOrder:u,nzFilterFn:c,nzFilterValue:h,nzSortPriority:p,nzColumnKey:f}=o;return{key:f,sortFn:s,sortPriority:p,sortOrder:u,filterFn:c,filterValue:h}})),(0,Mc.c)(0),(0,G.Q)(this.destroy$)).subscribe(a=>{this.nzTableDataService.listOfCalcOperator$.next(a)})}}ngAfterViewInit(){this.nzTableStyleService&&this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(Sa,8),l.rXU(gd,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["thead",9,"ant-table-thead"]],contentQueries:function(i,r,a){if(1&i&&(l.wni(a,Bc,5),l.wni(a,Wb,5)),2&i){let o;l.mGM(o=l.lsd())&&(r.listOfNzTrDirective=o),l.mGM(o=l.lsd())&&(r.listOfNzThAddOnComponent=o)}},viewQuery:function(i,r){if(1&i&&l.GBs(EV,7),2&i){let a;l.mGM(a=l.lsd())&&(r.templateRef=a.first)}},outputs:{nzSortOrderChange:"nzSortOrderChange"},standalone:!0,features:[l.aNF],ngContentSelectors:Pr,decls:3,vars:1,consts:[["contentTemplate",""],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(i,r){1&i&&(l.NAR(),l.DNE(0,LV,1,0,"ng-template",null,0,l.C5r)(2,VV,2,1,"ng-container",1)),2&i&&(l.R7$(2),l.Y8G("ngIf",!r.isInsideTable))},dependencies:[U.bT,U.T3],encapsulation:2,changeDetection:0})}return n})(),Kb=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[qV,Wb,jV,md,Zb,yd,Yb,Xb,jb,Hb,YV]})}return n})();function QV(n,e){if(1&n&&(l.j41(0,"th"),l.EFF(1),l.k0s()),2&n){const t=e.$implicit;l.R7$(),l.JRh(t)}}function JV(n,e){if(1&n){const t=l.RV6();l.j41(0,"td")(1,"input",10),l.mxI("ngModelChange",function(r){const a=l.eBV(t).$implicit,o=l.XpG().$implicit;return l.DH7(o[a],r)||(o[a]=r),l.Njj(r)}),l.k0s()()}if(2&n){const t=e.$implicit,i=l.XpG().$implicit;l.R7$(),l.R50("ngModel",i[t])}}function tF(n,e){if(1&n&&(l.j41(0,"tr")(1,"td"),l.EFF(2),l.k0s(),l.DNE(3,JV,2,1,"td",9),l.k0s()),2&n){const t=e.index,i=l.XpG(2);l.R7$(2),l.JRh(t+1),l.R7$(),l.Y8G("ngForOf",i.headArr)}}function eF(n,e){if(1&n){const t=l.RV6();l.j41(0,"tr")(1,"td",5),l.EFF(2,"\u6570\u636e\u9884\u89c8\uff1a"),l.k0s(),l.j41(3,"td"),l.EFF(4," \u884c\uff1a "),l.j41(5,"nz-input-number",6),l.mxI("ngModelChange",function(r){l.eBV(t);const a=l.XpG();return l.DH7(a.form.rows,r)||(a.form.rows=r),l.Njj(r)}),l.bIt("ngModelChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.handleRowsBlur(r))}),l.k0s(),l.EFF(6," \u5217\uff1a"),l.j41(7,"nz-input-number",7),l.mxI("ngModelChange",function(r){l.eBV(t);const a=l.XpG();return l.DH7(a.form.cols,r)||(a.form.cols=r),l.Njj(r)}),l.bIt("ngModelChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.handleColsBlur(r))}),l.k0s(),l.j41(8,"div",8)(9,"table")(10,"thead")(11,"tr")(12,"th"),l.EFF(13,"\u5e8f\u53f7"),l.k0s(),l.DNE(14,QV,2,1,"th",9),l.k0s()(),l.j41(15,"tbody"),l.DNE(16,tF,4,2,"tr",9),l.k0s()()()()()}if(2&n){const t=l.XpG();l.R7$(5),l.R50("ngModel",t.form.rows),l.Y8G("nzMin",1),l.R7$(2),l.R50("ngModel",t.form.cols),l.Y8G("nzMin",2)("nzMax",10),l.R7$(7),l.Y8G("ngForOf",t.headArr),l.R7$(2),l.Y8G("ngForOf",t.tableData)}}let nF=(()=>{class n{constructor(){this.objectKeys=Object.keys,this.form={radioValue:"static",rows:3,cols:2},this.headArr=[],this.rowTempl={},this.setColumns(),this.setRows();const t=setInterval(()=>{const i=document.querySelector("#tableContent");if(i){let r=function(a){var o=this.scrollTop;this.querySelector("thead").style.transform="translateY("+o+"px)"};clearInterval(t),i?.addEventListener("scroll",r)}})}setColumns(){const{cols:t}=this.form,i=["x"],r={x:""};for(let a=1;a<t;a++)i.push(`y${a}`),r[`y${a}`]="";this.headArr=i,this.rowTempl=r}setRows(){const{rows:t}=this.form;this.tableData=new Array(t).fill(0).map(()=>JSON.parse(JSON.stringify(this.rowTempl)))}handleRowsBlur(t){const i=this.tableData.length;if(i>t)this.tableData=this.tableData.splice(0,t);else{const r=new Array(t-i).fill(0).map(()=>JSON.parse(JSON.stringify(this.rowTempl)));this.tableData=this.tableData.concat(r)}}handleColsBlur(t){const i=this.headArr.length;if(i>t)this.headArr=this.headArr.splice(0,t);else{const a=/y(\w+)$/.exec(this.headArr[i-1]),o=a?Number(a[1]):0,s={};for(let u=0;u<t-i;u++){const c=`y${o+u+1}`;s[c]="",this.headArr.push(c)}Object.assign(this.rowTempl,s),this.tableData.map(u=>Object.assign(u,s))}}getData(){const{tableData:t}=this;return t.map(i=>{for(const r in i)Object.keys(this.rowTempl).includes(r)||delete i[r]}),console.log(t),t}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-first-step"]],decls:11,vars:2,consts:[[1,"step-1-table"],[3,"ngModelChange","ngModel"],["nz-radio","","nzValue","static"],["nz-radio","","nzValue","dynamic"],[4,"ngIf"],[2,"vertical-align","top"],[3,"ngModelChange","ngModel","nzMin"],[3,"ngModelChange","ngModel","nzMin","nzMax"],["id","tableContent",1,"table-content"],[4,"ngFor","ngForOf"],["nz-input","",2,"position","static",3,"ngModelChange","ngModel"]],template:function(i,r){1&i&&(l.j41(0,"table",0)(1,"tr")(2,"td"),l.EFF(3,"\u6570\u636e\u6e90\uff1a"),l.k0s(),l.j41(4,"td")(5,"nz-radio-group",1),l.mxI("ngModelChange",function(o){return l.DH7(r.form.radioValue,o)||(r.form.radioValue=o),o}),l.j41(6,"label",2),l.EFF(7,"\u9759\u6001\u6570\u636e"),l.k0s(),l.j41(8,"label",3),l.EFF(9,"\u52a8\u6001\u6570\u636e"),l.k0s()()()(),l.DNE(10,eF,17,7,"tr",4),l.k0s()),2&i&&(l.R7$(5),l.R50("ngModel",r.form.radioValue),l.R7$(5),l.Y8G("ngIf","static"===r.form.radioValue))},dependencies:[U.Sq,U.bT,Z.me,Z.BC,Z.vS,qe.Sy,pl,ub,zO,vd,Ub,KV,md,Bc],styles:[".table-content[_ngcontent-%COMP%]{max-height:450px;overflow:auto}.step-1-table[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:10px 0;background-color:#fafafa;border-radius:6px;border:1px dashed #e9e9e9}.step-1-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f0f8ff}.step-1-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 0;text-wrap:nowrap}"]})}return n})();var _d=function(n,e){return(_d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(n,e)};function B(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}_d(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var aF=function(){return function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}}(),xa=new(function(){return function n(){this.browser=new aF,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}}());"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(xa.wxa=!0,xa.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?xa.worker=!0:typeof navigator>"u"||0===navigator.userAgent.indexOf("Node.js")?(xa.node=!0,xa.svgSupported=!0):function sF(n,e){var t=e.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(n);i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),o&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in s||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,xa);const Lt=xa;var bd=12,e1="sans-serif",Rr=bd+"px "+e1,pF=function hF(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var i=String.fromCharCode(t+32),r=(n.charCodeAt(t)-20)/100;e[i]=r}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),ci={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var n,e;return function(t,i){if(!n){var r=ci.createCanvas();n=r&&r.getContext("2d")}if(n)return e!==i&&(e=n.font=i||Rr),n.measureText(t);t=t||"";var a=/(\d+)px/.exec(i=i||Rr),o=a&&+a[1]||bd,s=0;if(i.indexOf("mono")>=0)s=o*t.length;else for(var u=0;u<t.length;u++){var c=pF[t[u]];s+=null==c?o:c*o}return{width:s}}}(),loadImage:function(n,e,t){var i=new Image;return i.onload=e,i.onerror=t,i.src=n,i}},n1=ki(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),r1=ki(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),Uo=Object.prototype.toString,Fc=Array.prototype,fF=Fc.forEach,dF=Fc.filter,Cd=Fc.slice,vF=Fc.map,a1=function(){}.constructor,Gc=a1?a1.prototype:null,Sd="__proto__",gF=2311;function o1(){return gF++}function xd(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function ht(n){if(null==n||"object"!=typeof n)return n;var e=n,t=Uo.call(n);if("[object Array]"===t){if(!_l(n)){e=[];for(var i=0,r=n.length;i<r;i++)e[i]=ht(n[i])}}else if(r1[t]){if(!_l(n)){var a=n.constructor;if(a.from)e=a.from(n);else for(e=new a(n.length),i=0,r=n.length;i<r;i++)e[i]=n[i]}}else if(!n1[t]&&!_l(n)&&!$o(n))for(var o in e={},n)n.hasOwnProperty(o)&&o!==Sd&&(e[o]=ht(n[o]));return e}function St(n,e,t){if(!ct(e)||!ct(n))return t?ht(e):n;for(var i in e)if(e.hasOwnProperty(i)&&i!==Sd){var r=n[i],a=e[i];!ct(a)||!ct(r)||H(a)||H(r)||$o(a)||$o(r)||s1(a)||s1(r)||_l(a)||_l(r)?(t||!(i in n))&&(n[i]=ht(e[i])):St(r,a,t)}return n}function zd(n,e){for(var t=n[0],i=1,r=n.length;i<r;i++)t=St(t,n[i],e);return t}function F(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==Sd&&(n[t]=e[t]);return n}function lt(n,e,t){for(var i=At(e),r=0;r<i.length;r++){var a=i[r];(t?null!=e[a]:null==n[a])&&(n[a]=e[a])}return n}function zt(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t}return-1}function Te(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var a=i[r];"constructor"!==a&&(t?null!=e[a]:null==n[a])&&(n[a]=e[a])}else lt(n,e,t)}function Ke(n){return!(!n||"string"==typeof n)&&"number"==typeof n.length}function M(n,e,t){if(n&&e)if(n.forEach&&n.forEach===fF)n.forEach(e,t);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);else for(var a in n)n.hasOwnProperty(a)&&e.call(t,n[a],a,n)}function X(n,e,t){if(!n)return[];if(!e)return Td(n);if(n.map&&n.map===vF)return n.map(e,t);for(var i=[],r=0,a=n.length;r<a;r++)i.push(e.call(t,n[r],r,n));return i}function ki(n,e,t,i){if(n&&e){for(var r=0,a=n.length;r<a;r++)t=e.call(i,t,n[r],r,n);return t}}function Ut(n,e,t){if(!n)return[];if(!e)return Td(n);if(n.filter&&n.filter===dF)return n.filter(e,t);for(var i=[],r=0,a=n.length;r<a;r++)e.call(t,n[r],r,n)&&i.push(n[r]);return i}function At(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}var J=Gc&&at(Gc.bind)?Gc.call.bind(Gc.bind):function _F(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return function(){return n.apply(e,t.concat(Cd.call(arguments)))}};function yt(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(Cd.call(arguments)))}}function H(n){return Array.isArray?Array.isArray(n):"[object Array]"===Uo.call(n)}function at(n){return"function"==typeof n}function Q(n){return"string"==typeof n}function wd(n){return"[object String]"===Uo.call(n)}function Bt(n){return"number"==typeof n}function ct(n){var e=typeof n;return"function"===e||!!n&&"object"===e}function s1(n){return!!n1[Uo.call(n)]}function bn(n){return!!r1[Uo.call(n)]}function $o(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function Hc(n){return null!=n.colorStops}function yl(n){return n!=n}function Fe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,i=n.length;t<i;t++)if(null!=n[t])return n[t]}function mt(n,e){return n??e}function Pi(n,e,t){return n??e??t}function Td(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Cd.apply(n,e)}function Dd(n){if("number"==typeof n)return[n,n,n,n];var e=n.length;return 2===e?[n[0],n[1],n[0],n[1]]:3===e?[n[0],n[1],n[2],n[1]]:n}function ln(n,e){if(!n)throw new Error(e)}function hi(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var l1="__ec_primitive__";function Xc(n){n[l1]=!0}function _l(n){return n[l1]}var SF=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return At(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},n}(),u1="function"==typeof Map,zF=function(){function n(e){var t=H(e);this.data=function xF(){return u1?new Map:new SF}();var i=this;function r(a,o){t?i.set(a,o):i.set(o,a)}e instanceof n?e.each(r):e&&M(e,r)}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(i,r){e.call(t,i,r)})},n.prototype.keys=function(){var e=this.data.keys();return u1?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function nt(n){return new zF(n)}function jc(n,e){for(var t=new n.constructor(n.length+e.length),i=0;i<n.length;i++)t[i]=n[i];var r=n.length;for(i=0;i<e.length;i++)t[i+r]=e[i];return t}function Yc(n,e){var t;if(Object.create)t=Object.create(n);else{var i=function(){};i.prototype=n,t=new i}return e&&F(t,e),t}function c1(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function et(n,e){return n.hasOwnProperty(e)}function xe(){}var Wc=180/Math.PI,Md=function(n,e){return(Md=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(n,e)};function ae(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Md(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}function za(n,e){return null==n&&(n=0),null==e&&(e=0),[n,e]}function un(n,e){return n[0]=e[0],n[1]=e[1],n}function ar(n){return[n[0],n[1]]}function DF(n,e,t){return n[0]=e,n[1]=t,n}function d1(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function Id(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n}function wa(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function Ad(n){return Math.sqrt(function MF(n){return n[0]*n[0]+n[1]*n[1]}(n))}function $c(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function Zo(n,e){var t=Ad(e);return 0===t?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function kd(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var Nr=kd,Ta=function IF(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])};function Zc(n,e,t,i){return n[0]=e[0]+i*(t[0]-e[0]),n[1]=e[1]+i*(t[1]-e[1]),n}function je(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[2]*r+t[4],n[1]=t[1]*i+t[3]*r+t[5],n}function Or(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Er(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var qo=function(){return function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}}(),AF=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new qo(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,r=e.offsetY,a=i-this._x,o=r-this._y;this._x=i,this._y=r,t.drift(a,o,e),this.handler.dispatchToElement(new qo(t,e),"drag",e.event);var s=this.handler.findHover(i,r,t).target,u=this._dropTarget;this._dropTarget=s,t!==s&&(u&&s!==u&&this.handler.dispatchToElement(new qo(u,e),"dragleave",e.event),s&&s!==u&&this.handler.dispatchToElement(new qo(s,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new qo(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new qo(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const kF=AF;var PF=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,i,r){this._$handlers||(this._$handlers={});var a=this._$handlers;if("function"==typeof t&&(r=i,i=t,t=null),!i||!e)return this;var o=this._$eventProcessor;null!=t&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===i)return this;var u={h:i,query:t,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},c=a[e].length-1,h=a[e][c];return h&&h.callAtLast?a[e].splice(c,0,u):a[e].push(u),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var r=[],a=0,o=i[e].length;a<o;a++)i[e][a].h!==t&&r.push(i[e][a]);i[e]=r}i[e]&&0===i[e].length&&delete i[e]}else delete i[e];return this},n.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],a=this._$eventProcessor;if(r)for(var o=t.length,s=r.length,u=0;u<s;u++){var c=r[u];if(!a||!a.filter||null==c.query||a.filter(e,c.query))switch(o){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t)}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],a=this._$eventProcessor;if(r)for(var o=t.length,s=t[o-1],u=r.length,c=0;c<u;c++){var h=r[c];if(!a||!a.filter||null==h.query||a.filter(e,h.query))switch(o){case 0:h.h.call(s);break;case 1:h.h.call(s,t[0]);break;case 2:h.h.call(s,t[0],t[1]);break;default:h.h.apply(s,t.slice(1,o-1))}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n}();const Gn=PF;var RF=Math.log(2);function Pd(n,e,t,i,r,a){var o=i+"-"+r,s=n.length;if(a.hasOwnProperty(o))return a[o];if(1===e){var u=Math.round(Math.log((1<<s)-1&~r)/RF);return n[t][u]}for(var c=i|1<<t,h=t+1;i&1<<h;)h++;for(var p=0,f=0,d=0;f<s;f++){var v=1<<f;v&r||(p+=(d%2?-1:1)*n[t][f]*Pd(n,e-1,h,c,r|v,a),d++)}return a[o]=p,p}function v1(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],i={},r=Pd(t,8,0,0,0,i);if(0!==r){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)null==a[s]&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*Pd(t,7,0===o?1:0,1<<o,1<<s,i)/r*e[o];return function(u,c,h){var p=c*a[6]+h*a[7]+1;u[0]=(c*a[0]+h*a[1]+a[2])/p,u[1]=(c*a[3]+h*a[4]+a[5])/p}}}var g1="___zrEVENTSAVED",Rd=[];function Nd(n,e,t,i,r){if(e.getBoundingClientRect&&Lt.domSupported&&!m1(e)){var a=e[g1]||(e[g1]={}),o=function OF(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var i=["left","right"],r=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),u=a%2,c=(a>>1)%2;o.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[u]+":0",r[c]+":0",i[1-u]+":auto",r[1-c]+":auto",""].join("!important;"),n.appendChild(o),t.push(o)}return t}(e,a),s=function EF(n,e,t){for(var i=t?"invTrans":"trans",r=e[i],a=e.srcCoords,o=[],s=[],u=!0,c=0;c<4;c++){var h=n[c].getBoundingClientRect(),p=2*c,f=h.left,d=h.top;o.push(f,d),u=u&&a&&f===a[p]&&d===a[p+1],s.push(n[c].offsetLeft,n[c].offsetTop)}return u&&r?r:(e.srcCoords=o,e[i]=t?v1(s,o):v1(o,s))}(o,a,r);if(s)return s(n,t,i),!0}return!1}function m1(n){return"CANVAS"===n.nodeName.toUpperCase()}var LF=/([&<>"'])/g,BF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Cn(n){return null==n?"":(n+"").replace(LF,function(e,t){return BF[t]})}var VF=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Od=[],FF=Lt.browser.firefox&&+Lt.browser.version.split(".")[0]<39;function Ed(n,e,t,i){return t=t||{},i?y1(n,e,t):FF&&null!=e.layerX&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):null!=e.offsetX?(t.zrX=e.offsetX,t.zrY=e.offsetY):y1(n,e,t),t}function y1(n,e,t){if(Lt.domSupported&&n.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(m1(n)){var a=n.getBoundingClientRect();return t.zrX=i-a.left,void(t.zrY=r-a.top)}if(Nd(Od,n,i,r))return t.zrX=Od[0],void(t.zrY=Od[1])}t.zrX=t.zrY=0}function Ld(n){return n||window.event}function Hn(n,e,t){if(null!=(e=Ld(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var o="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];o&&Ed(n,o,e,t)}else{Ed(n,e,e,t);var a=function GF(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,i=n.deltaY;return null==t||null==i?e:3*Math.abs(0!==i?i:t)*(i>0?-1:i<0?1:t>0?-1:1)}(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return null==e.which&&void 0!==s&&VF.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}function Bd(n,e,t,i){n.addEventListener(e,t,i)}function HF(n,e,t,i){n.removeEventListener(e,t,i)}var or=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function _1(n){return 2===n.which||3===n.which}var XF=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,i){var r=e.touches;if(r){for(var a={points:[],touches:[],target:t,event:e},o=0,s=r.length;o<s;o++){var u=r[o],c=Ed(i,u,{});a.points.push([c.zrX,c.zrY]),a.touches.push(u)}this._track.push(a)}},n.prototype._recognize=function(e){for(var t in Vd)if(Vd.hasOwnProperty(t)){var i=Vd[t](this._track,e);if(i)return i}},n}();function b1(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}var Vd={pinch:function(n,e){var t=n.length;if(t){var i=(n[t-1]||{}).points,r=(n[t-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var a=b1(i)/b1(r);!isFinite(a)&&(a=1),e.pinchScale=a;var o=function jF(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}(i);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:n[0].target,event:e}}}}};function qc(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function Fd(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function sr(n,e,t){var r=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],o=e[1]*t[2]+e[3]*t[3],s=e[0]*t[4]+e[2]*t[5]+e[4],u=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=e[0]*t[0]+e[2]*t[1],n[1]=r,n[2]=a,n[3]=o,n[4]=s,n[5]=u,n}function Ri(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function Da(n,e,t,i){void 0===i&&(i=[0,0]);var r=e[0],a=e[2],o=e[4],s=e[1],u=e[3],c=e[5],h=Math.sin(t),p=Math.cos(t);return n[0]=r*p+s*h,n[1]=-r*h+s*p,n[2]=a*p+u*h,n[3]=-a*h+p*u,n[4]=p*(o-i[0])+h*(c-i[1])+i[0],n[5]=p*(c-i[1])-h*(o-i[0])+i[1],n}function Gd(n,e,t){var i=t[0],r=t[1];return n[0]=e[0]*i,n[1]=e[1]*r,n[2]=e[2]*i,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*r,n}function Ko(n,e){var t=e[0],i=e[2],r=e[4],a=e[1],o=e[3],s=e[5],u=t*o-a*i;return u?(n[0]=o*(u=1/u),n[1]=-a*u,n[2]=-i*u,n[3]=t*u,n[4]=(i*s-o*r)*u,n[5]=(a*r-t*s)*u,n):null}var WF=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,i=this.y;return this.x=e[0]*t+e[2]*i+e[4],this.y=e[1]*t+e[3]*i+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,i){e.x=t,e.y=i},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,i){e.x=t.x+i.x,e.y=t.y+i.y},n.sub=function(e,t,i){e.x=t.x-i.x,e.y=t.y-i.y},n.scale=function(e,t,i){e.x=t.x*i,e.y=t.y*i},n.scaleAndAdd=function(e,t,i,r){e.x=t.x+i.x*r,e.y=t.y+i.y*r},n.lerp=function(e,t,i,r){var a=1-r;e.x=a*t.x+r*i.x,e.y=a*t.y+r*i.y},n}();const _t=WF;var Kc=Math.min,Qc=Math.max,Ma=new _t,Ia=new _t,Aa=new _t,ka=new _t,bl=new _t,Cl=new _t,UF=function(){function n(e,t,i,r){i<0&&(e+=i,i=-i),r<0&&(t+=r,r=-r),this.x=e,this.y=t,this.width=i,this.height=r}return n.prototype.union=function(e){var t=Kc(e.x,this.x),i=Kc(e.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Qc(e.x+e.width,this.x+this.width)-t:e.width,this.height=isFinite(this.y)&&isFinite(this.height)?Qc(e.y+e.height,this.y+this.height)-i:e.height,this.x=t,this.y=i},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,i=e.width/t.width,r=e.height/t.height,a=[1,0,0,1,0,0];return Ri(a,a,[-t.x,-t.y]),Gd(a,a,[i,r]),Ri(a,a,[e.x,e.y]),a},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var i=this,r=i.x,a=i.x+i.width,o=i.y,s=i.y+i.height,u=e.x,c=e.x+e.width,h=e.y,p=e.y+e.height,f=!(a<u||c<r||s<h||p<o);if(t){var d=1/0,v=0,g=Math.abs(a-u),m=Math.abs(c-r),y=Math.abs(s-h),_=Math.abs(p-o),b=Math.min(g,m),C=Math.min(y,_);a<u||c<r?b>v&&(v=b,_t.set(Cl,g<m?-g:m,0)):b<d&&(d=b,_t.set(bl,g<m?g:-m,0)),s<h||p<o?C>v&&(v=C,_t.set(Cl,0,y<_?-y:_)):b<d&&(d=b,_t.set(bl,0,y<_?y:-_))}return t&&_t.copy(t,f?bl:Cl),f},n.prototype.contain=function(e,t){var i=this;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],a=i[3],s=i[5];return e.x=t.x*r+i[4],e.y=t.y*a+s,e.width=t.width*r,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}Ma.x=Aa.x=t.x,Ma.y=ka.y=t.y,Ia.x=ka.x=t.x+t.width,Ia.y=Aa.y=t.y+t.height,Ma.transform(i),ka.transform(i),Ia.transform(i),Aa.transform(i),e.x=Kc(Ma.x,Ia.x,Aa.x,ka.x),e.y=Kc(Ma.y,Ia.y,Aa.y,ka.y);var u=Qc(Ma.x,Ia.x,Aa.x,ka.x),c=Qc(Ma.y,Ia.y,Aa.y,ka.y);e.width=u-e.x,e.height=c-e.y}else e!==t&&n.copy(e,t)},n}();const xt=UF;var C1="silent";function ZF(){or(this.event)}var qF=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.handler=null,t}return ae(e,n),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Gn),Sl=function(){return function n(e,t){this.x=e,this.y=t}}(),KF=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Hd=new xt(0,0,0,0),S1=function(n){function e(t,i,r,a,o){var s=n.call(this)||this;return s._hovered=new Sl(0,0),s.storage=t,s.painter=i,s.painterRoot=a,s._pointerSize=o,r=r||new qF,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new kF(s),s}return ae(e,n),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(M(KF,function(i){t.on&&t.on(i,this[i],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var i=t.zrX,r=t.zrY,a=z1(this,i,r),o=this._hovered,s=o.target;s&&!s.__zr&&(s=(o=this.findHover(o.x,o.y)).target);var u=this._hovered=a?new Sl(i,r):this.findHover(i,r),c=u.target,h=this.proxy;h.setCursor&&h.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(u,"mousemove",t),c&&c!==s&&this.dispatchToElement(u,"mouseover",t)},e.prototype.mouseout=function(t){var i=t.zrEventControl;"only_globalout"!==i&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==i&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Sl(0,0)},e.prototype.dispatch=function(t,i){var r=this[t];r&&r.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var i=this.proxy;i.setCursor&&i.setCursor(t)},e.prototype.dispatchToElement=function(t,i,r){var a=(t=t||{}).target;if(!a||!a.silent){for(var o="on"+i,s=function $F(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:ZF}}(i,t,r);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(i,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(i,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){"function"==typeof u[o]&&u[o].call(u,s),u.trigger&&u.trigger(i,s)}))}},e.prototype.findHover=function(t,i,r){var a=this.storage.getDisplayList(),o=new Sl(t,i);if(x1(a,o,t,i,r),this._pointerSize&&!o.target){for(var s=[],u=this._pointerSize,c=u/2,h=new xt(t-c,i-c,u,u),p=a.length-1;p>=0;p--){var f=a[p];f!==r&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(Hd.copy(f.getBoundingRect()),f.transform&&Hd.applyTransform(f.transform),Hd.intersect(h)&&s.push(f))}if(s.length)for(var v=Math.PI/12,g=2*Math.PI,m=0;m<c;m+=4)for(var y=0;y<g;y+=v)if(x1(s,o,t+m*Math.cos(y),i+m*Math.sin(y),r),o.target)return o}return o},e.prototype.processGesture=function(t,i){this._gestureMgr||(this._gestureMgr=new XF);var r=this._gestureMgr;"start"===i&&r.clear();var a=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===i&&r.clear(),a){var o=a.type;t.gestureEvent=o;var s=new Sl;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e}(Gn);function QF(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var i=n,r=void 0,a=!1;i;){if(i.ignoreClip&&(a=!0),!a){var o=i.getClipPath();if(o&&!o.contain(e,t))return!1}i.silent&&(r=!0),i=i.__hostTarget||i.parent}return!r||C1}return!1}function x1(n,e,t,i,r){for(var a=n.length-1;a>=0;a--){var o=n[a],s=void 0;if(o!==r&&!o.ignore&&(s=QF(o,t,i))&&(!e.topTarget&&(e.topTarget=o),s!==C1)){e.target=o;break}}}function z1(n,e,t){var i=n.painter;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}M(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){S1.prototype[n]=function(e){var a,o,t=e.zrX,i=e.zrY,r=z1(this,t,i);if(("mouseup"!==n||!r)&&(o=(a=this.findHover(t,i)).target),"mousedown"===n)this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if("mouseup"===n)this._upEl=o;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||Nr(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,e)}});const JF=S1;var xl=7;function T1(n,e,t,i){var r=e+1;if(r===t)return 1;if(i(n[r++],n[e])<0){for(;r<t&&i(n[r],n[r-1])<0;)r++;!function eG(n,e,t){for(t--;e<t;){var i=n[e];n[e++]=n[t],n[t--]=i}}(n,e,r)}else for(;r<t&&i(n[r],n[r-1])>=0;)r++;return r-e}function D1(n,e,t,i,r){for(i===e&&i++;i<t;i++){for(var u,a=n[i],o=e,s=i;o<s;)r(a,n[u=o+s>>>1])<0?s=u:o=u+1;var c=i-o;switch(c){case 3:n[o+3]=n[o+2];case 2:n[o+2]=n[o+1];case 1:n[o+1]=n[o];break;default:for(;c>0;)n[o+c]=n[o+c-1],c--}n[o]=a}}function Xd(n,e,t,i,r,a){var o=0,s=0,u=1;if(a(n,e[t+r])>0){for(s=i-r;u<s&&a(n,e[t+r+u])>0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),o+=r,u+=r}else{for(s=r+1;u<s&&a(n,e[t+r-u])<=0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var c=o;o=r-u,u=r-c}for(o++;o<u;){var h=o+(u-o>>>1);a(n,e[t+h])>0?o=h+1:u=h}return u}function jd(n,e,t,i,r,a){var o=0,s=0,u=1;if(a(n,e[t+r])<0){for(s=r+1;u<s&&a(n,e[t+r-u])<0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s);var c=o;o=r-u,u=r-c}else{for(s=i-r;u<s&&a(n,e[t+r+u])>=0;)o=u,(u=1+(u<<1))<=0&&(u=s);u>s&&(u=s),o+=r,u+=r}for(o++;o<u;){var h=o+(u-o>>>1);a(n,e[t+h])<0?u=h:o=h+1}return u}function Jc(n,e,t,i){t||(t=0),i||(i=n.length);var r=i-t;if(!(r<2)){var a=0;if(r<32)return void D1(n,t,i,t+(a=T1(n,t,i,e)),e);var o=function nG(n,e){var i,r,t=xl,a=0,o=[];function h(d){var v=i[d],g=r[d],m=i[d+1],y=r[d+1];r[d]=g+y,d===a-3&&(i[d+1]=i[d+2],r[d+1]=r[d+2]),a--;var _=jd(n[m],n,v,g,0,e);v+=_,0!=(g-=_)&&0!==(y=Xd(n[v+g-1],n,m,y,y-1,e))&&(g<=y?function p(d,v,g,m){var y=0;for(y=0;y<v;y++)o[y]=n[d+y];var _=0,b=g,C=d;if(n[C++]=n[b++],0!=--m)if(1!==v){for(var S,z,w,x=t;;){S=0,z=0,w=!1;do{if(e(n[b],o[_])<0){if(n[C++]=n[b++],z++,S=0,0==--m){w=!0;break}}else if(n[C++]=o[_++],S++,z=0,1==--v){w=!0;break}}while((S|z)<x);if(w)break;do{if(0!==(S=jd(n[b],o,_,v,0,e))){for(y=0;y<S;y++)n[C+y]=o[_+y];if(C+=S,_+=S,(v-=S)<=1){w=!0;break}}if(n[C++]=n[b++],0==--m){w=!0;break}if(0!==(z=Xd(o[_],n,b,m,0,e))){for(y=0;y<z;y++)n[C+y]=n[b+y];if(C+=z,b+=z,0==(m-=z)){w=!0;break}}if(n[C++]=o[_++],1==--v){w=!0;break}x--}while(S>=xl||z>=xl);if(w)break;x<0&&(x=0),x+=2}if((t=x)<1&&(t=1),1===v){for(y=0;y<m;y++)n[C+y]=n[b+y];n[C+m]=o[_]}else{if(0===v)throw new Error;for(y=0;y<v;y++)n[C+y]=o[_+y]}}else{for(y=0;y<m;y++)n[C+y]=n[b+y];n[C+m]=o[_]}else for(y=0;y<v;y++)n[C+y]=o[_+y]}(v,g,m,y):function f(d,v,g,m){var y=0;for(y=0;y<m;y++)o[y]=n[g+y];var _=d+v-1,b=m-1,C=g+m-1,x=0,S=0;if(n[C--]=n[_--],0!=--v)if(1!==m){for(var z=t;;){var w=0,T=0,D=!1;do{if(e(o[b],n[_])<0){if(n[C--]=n[_--],w++,T=0,0==--v){D=!0;break}}else if(n[C--]=o[b--],T++,w=0,1==--m){D=!0;break}}while((w|T)<z);if(D)break;do{if(0!=(w=v-jd(o[b],n,d,v,v-1,e))){for(v-=w,S=1+(C-=w),x=1+(_-=w),y=w-1;y>=0;y--)n[S+y]=n[x+y];if(0===v){D=!0;break}}if(n[C--]=o[b--],1==--m){D=!0;break}if(0!=(T=m-Xd(n[_],o,0,m,m-1,e))){for(m-=T,S=1+(C-=T),x=1+(b-=T),y=0;y<T;y++)n[S+y]=o[x+y];if(m<=1){D=!0;break}}if(n[C--]=n[_--],0==--v){D=!0;break}z--}while(w>=xl||T>=xl);if(D)break;z<0&&(z=0),z+=2}if((t=z)<1&&(t=1),1===m){for(S=1+(C-=v),x=1+(_-=v),y=v-1;y>=0;y--)n[S+y]=n[x+y];n[C]=o[b]}else{if(0===m)throw new Error;for(x=C-(m-1),y=0;y<m;y++)n[x+y]=o[y]}}else{for(S=1+(C-=v),x=1+(_-=v),y=v-1;y>=0;y--)n[S+y]=n[x+y];n[C]=o[b]}else for(x=C-(m-1),y=0;y<m;y++)n[x+y]=o[y]}(v,g,m,y))}return i=[],r=[],{mergeRuns:function u(){for(;a>1;){var d=a-2;if(d>=1&&r[d-1]<=r[d]+r[d+1]||d>=2&&r[d-2]<=r[d]+r[d-1])r[d-1]<r[d+1]&&d--;else if(r[d]>r[d+1])break;h(d)}},forceMergeRuns:function c(){for(;a>1;){var d=a-2;d>0&&r[d-1]<r[d+1]&&d--,h(d)}},pushRun:function s(d,v){i[a]=d,r[a]=v,a+=1}}}(n,e),s=function tG(n){for(var e=0;n>=32;)e|=1&n,n>>=1;return n+e}(r);do{if((a=T1(n,t,i,e))<s){var u=r;u>s&&(u=s),D1(n,t,t+u,t+a,e),a=u}o.pushRun(t,a),o.mergeRuns(),r-=a,t+=a}while(0!==r);o.forceMergeRuns()}}var On=1,Qo=4,M1=!1;function Yd(){M1||(M1=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function I1(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var iG=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=I1}return n.prototype.traverse=function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var i=this._displayList;return(e||!i.length)&&this.updateDisplayList(t),i},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,r=0,a=t.length;r<a;r++)this._updateAndAddDisplayable(t[r],null,e);i.length=this._displayListLen,Jc(i,I1)},n.prototype._updateAndAddDisplayable=function(e,t,i){if(!e.ignore||i){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var a=r,o=e;a;)a.parent=o,a.updateTransform(),t.push(a),o=a,a=a.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),u=0;u<s.length;u++){var c=s[u];e.__dirty&&(c.__dirty|=On),this._updateAndAddDisplayable(c,t,i)}e.__dirty=0}else{var h=e;t&&t.length?h.__clipPaths=t:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(Yd(),h.z=0),isNaN(h.z2)&&(Yd(),h.z2=0),isNaN(h.zlevel)&&(Yd(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var p=e.getDecalElement&&e.getDecalElement();p&&this._updateAndAddDisplayable(p,t,i);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,t,i);var d=e.getTextContent();d&&this._updateAndAddDisplayable(d,t,i)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,i=e.length;t<i;t++)this.delRoot(e[t]);else{var r=zt(this._roots,e);r>=0&&this._roots.splice(r,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const rG=iG;var A1;A1=Lt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const Wd=A1;var th={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4))},elasticOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var e,t=.1;return 0===n?0:1===n?1:(!t||t<1?(t=1,e=.1):e=.4*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-th.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*th.bounceIn(2*n):.5*th.bounceOut(2*n-1)+.5}};const k1=th;var eh=Math.pow,Lr=Math.sqrt,nh=1e-8,P1=1e-4,R1=Lr(3),ih=1/3,Ni=za(),Xn=za(),Jo=za();function Br(n){return n>-nh&&n<nh}function N1(n){return n>nh||n<-nh}function Ne(n,e,t,i,r){var a=1-r;return a*a*(a*n+3*r*e)+r*r*(r*i+3*a*t)}function O1(n,e,t,i,r){var a=1-r;return 3*(((e-n)*a+2*(t-e)*r)*a+(i-t)*r*r)}function rh(n,e,t,i,r,a){var o=i+3*(e-t)-n,s=3*(t-2*e+n),u=3*(e-n),c=n-r,h=s*s-3*o*u,p=s*u-9*o*c,f=u*u-3*s*c,d=0;if(Br(h)&&Br(p))Br(s)?a[0]=0:(v=-u/s)>=0&&v<=1&&(a[d++]=v);else{var g=p*p-4*h*f;if(Br(g)){var m=p/h,y=-m/2;(v=-s/o+m)>=0&&v<=1&&(a[d++]=v),y>=0&&y<=1&&(a[d++]=y)}else if(g>0){var _=Lr(g),b=h*s+1.5*o*(-p+_),C=h*s+1.5*o*(-p-_);(v=(-s-((b=b<0?-eh(-b,ih):eh(b,ih))+(C=C<0?-eh(-C,ih):eh(C,ih))))/(3*o))>=0&&v<=1&&(a[d++]=v)}else{var x=(2*h*s-3*o*p)/(2*Lr(h*h*h)),S=Math.acos(x)/3,z=Lr(h),w=Math.cos(S),v=(-s-2*z*w)/(3*o),T=(y=(-s+z*(w+R1*Math.sin(S)))/(3*o),(-s+z*(w-R1*Math.sin(S)))/(3*o));v>=0&&v<=1&&(a[d++]=v),y>=0&&y<=1&&(a[d++]=y),T>=0&&T<=1&&(a[d++]=T)}}return d}function E1(n,e,t,i,r){var a=6*t-12*e+6*n,o=9*e+3*i-3*n-9*t,s=3*e-3*n,u=0;if(Br(o))N1(a)&&(c=-s/a)>=0&&c<=1&&(r[u++]=c);else{var h=a*a-4*o*s;if(Br(h))r[0]=-a/(2*o);else if(h>0){var c,p=Lr(h),f=(-a-p)/(2*o);(c=(-a+p)/(2*o))>=0&&c<=1&&(r[u++]=c),f>=0&&f<=1&&(r[u++]=f)}}return u}function Vr(n,e,t,i,r,a){var o=(e-n)*r+n,s=(t-e)*r+e,u=(i-t)*r+t,c=(s-o)*r+o,h=(u-s)*r+s,p=(h-c)*r+c;a[0]=n,a[1]=o,a[2]=c,a[3]=p,a[4]=p,a[5]=h,a[6]=u,a[7]=i}function L1(n,e,t,i,r,a,o,s,u,c,h){var p,v,g,m,y,f=.005,d=1/0;Ni[0]=u,Ni[1]=c;for(var _=0;_<1;_+=.05)Xn[0]=Ne(n,t,r,o,_),Xn[1]=Ne(e,i,a,s,_),(m=Ta(Ni,Xn))<d&&(p=_,d=m);d=1/0;for(var b=0;b<32&&!(f<P1);b++)g=p+f,Xn[0]=Ne(n,t,r,o,v=p-f),Xn[1]=Ne(e,i,a,s,v),m=Ta(Xn,Ni),v>=0&&m<d?(p=v,d=m):(Jo[0]=Ne(n,t,r,o,g),Jo[1]=Ne(e,i,a,s,g),y=Ta(Jo,Ni),g<=1&&y<d?(p=g,d=y):f*=.5);return h&&(h[0]=Ne(n,t,r,o,p),h[1]=Ne(e,i,a,s,p)),Lr(d)}function aG(n,e,t,i,r,a,o,s,u){for(var c=n,h=e,p=0,f=1/u,d=1;d<=u;d++){var v=d*f,g=Ne(n,t,r,o,v),m=Ne(e,i,a,s,v),y=g-c,_=m-h;p+=Math.sqrt(y*y+_*_),c=g,h=m}return p}function Ge(n,e,t,i){var r=1-i;return r*(r*n+2*i*e)+i*i*t}function Ud(n,e,t,i){return 2*((1-i)*(e-n)+i*(t-e))}function B1(n,e,t){var i=n+t-2*e;return 0===i?.5:(n-e)/i}function wl(n,e,t,i,r){var a=(e-n)*i+n,o=(t-e)*i+e,s=(o-a)*i+a;r[0]=n,r[1]=a,r[2]=s,r[3]=s,r[4]=o,r[5]=t}function V1(n,e,t,i,r,a,o,s,u){var c,h=.005,p=1/0;Ni[0]=o,Ni[1]=s;for(var f=0;f<1;f+=.05)Xn[0]=Ge(n,t,r,f),Xn[1]=Ge(e,i,a,f),(d=Ta(Ni,Xn))<p&&(c=f,p=d);p=1/0;for(var v=0;v<32&&!(h<P1);v++){var g=c-h,m=c+h;Xn[0]=Ge(n,t,r,g),Xn[1]=Ge(e,i,a,g);var d=Ta(Xn,Ni);if(g>=0&&d<p)c=g,p=d;else{Jo[0]=Ge(n,t,r,m),Jo[1]=Ge(e,i,a,m);var y=Ta(Jo,Ni);m<=1&&y<p?(c=m,p=y):h*=.5}}return u&&(u[0]=Ge(n,t,r,c),u[1]=Ge(e,i,a,c)),Lr(p)}function sG(n,e,t,i,r,a,o){for(var s=n,u=e,c=0,h=1/o,p=1;p<=o;p++){var f=p*h,d=Ge(n,t,r,f),v=Ge(e,i,a,f),g=d-s,m=v-u;c+=Math.sqrt(g*g+m*m),s=d,u=v}return c}var lG=/cubic-bezier\(([0-9,\.e ]+)\)/;function $d(n){var e=n&&lG.exec(n);if(e){var t=e[1].split(","),i=+hi(t[0]),r=+hi(t[1]),a=+hi(t[2]),o=+hi(t[3]);if(isNaN(i+r+a+o))return;var s=[];return function(u){return u<=0?0:u>=1?1:rh(0,i,a,1,u,s)&&Ne(0,r,o,1,s[0])}}}var uG=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||xe,this.ondestroy=e.ondestroy||xe,this.onrestart=e.onrestart||xe,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var i=this._life,r=e-this._startTime-this._pausedTime,a=r/i;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),1===a){if(!this.loop)return!0;this._startTime=e-r%i,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=at(e)?e:k1[e]||$d(e)},n}();const cG=uG;var F1=function(){return function n(e){this.value=e}}(),hG=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new F1(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),pG=function(){function n(e){this._list=new hG,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var i=this._list,r=this._map,a=null;if(null==r[e]){var o=i.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=i.head;i.remove(u),delete r[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=t:s=new F1(t),s.key=e,i.insertEntry(s),r[e]=s}return a},n.prototype.get=function(e){var t=this._map[e],i=this._list;if(null!=t)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const Tl=pG;var G1={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function pi(n){return(n=Math.round(n))<0?0:n>255?255:n}function Dl(n){return n<0?0:n>1?1:n}function Zd(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?pi(parseFloat(e)/100*255):pi(parseInt(e,10))}function Pa(n){var e=n;return e.length&&"%"===e.charAt(e.length-1)?Dl(parseFloat(e)/100):Dl(parseFloat(e))}function qd(n,e,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?n+(e-n)*t*6:2*t<1?e:3*t<2?n+(e-n)*(2/3-t)*6:n}function Fr(n,e,t){return n+(e-n)*t}function jn(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function Kd(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var H1=new Tl(20),ah=null;function ts(n,e){ah&&Kd(ah,e),ah=H1.put(n,ah||e.slice())}function Sn(n,e){if(n){e=e||[];var t=H1.get(n);if(t)return Kd(e,t);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in G1)return Kd(e,G1[i]),ts(n,e),e;var a,r=i.length;if("#"===i.charAt(0))return 4===r||5===r?(a=parseInt(i.slice(1,4),16))>=0&&a<=4095?(jn(e,(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,5===r?parseInt(i.slice(4),16)/15:1),ts(n,e),e):void jn(e,0,0,0,1):7===r||9===r?(a=parseInt(i.slice(1,7),16))>=0&&a<=16777215?(jn(e,(16711680&a)>>16,(65280&a)>>8,255&a,9===r?parseInt(i.slice(7),16)/255:1),ts(n,e),e):void jn(e,0,0,0,1):void 0;var o=i.indexOf("("),s=i.indexOf(")");if(-1!==o&&s+1===r){var u=i.substr(0,o),c=i.substr(o+1,s-(o+1)).split(","),h=1;switch(u){case"rgba":if(4!==c.length)return 3===c.length?jn(e,+c[0],+c[1],+c[2],1):jn(e,0,0,0,1);h=Pa(c.pop());case"rgb":return c.length>=3?(jn(e,Zd(c[0]),Zd(c[1]),Zd(c[2]),3===c.length?h:Pa(c[3])),ts(n,e),e):void jn(e,0,0,0,1);case"hsla":return 4!==c.length?void jn(e,0,0,0,1):(c[3]=Pa(c[3]),Qd(c,e),ts(n,e),e);case"hsl":return 3!==c.length?void jn(e,0,0,0,1):(Qd(c,e),ts(n,e),e);default:return}}jn(e,0,0,0,1)}}function Qd(n,e){var t=(parseFloat(n[0])%360+360)%360/360,i=Pa(n[1]),r=Pa(n[2]),a=r<=.5?r*(i+1):r+i-r*i,o=2*r-a;return jn(e=e||[],pi(255*qd(o,a,t+1/3)),pi(255*qd(o,a,t)),pi(255*qd(o,a,t-1/3)),1),4===n.length&&(e[3]=n[3]),e}function Jd(n,e){var t=Sn(n);if(t){for(var i=0;i<3;i++)t[i]=e<0?t[i]*(1-e)|0:(255-t[i])*e+t[i]|0,t[i]>255?t[i]=255:t[i]<0&&(t[i]=0);return Oi(t,4===t.length?"rgba":"rgb")}}function tv(n,e,t){if(e&&e.length&&n>=0&&n<=1){t=t||[];var i=n*(e.length-1),r=Math.floor(i),a=Math.ceil(i),o=e[r],s=e[a],u=i-r;return t[0]=pi(Fr(o[0],s[0],u)),t[1]=pi(Fr(o[1],s[1],u)),t[2]=pi(Fr(o[2],s[2],u)),t[3]=Dl(Fr(o[3],s[3],u)),t}}function Ml(n,e,t,i){var r=Sn(n);if(n)return r=function dG(n){if(n){var u,c,e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),a=Math.max(e,t,i),o=a-r,s=(a+r)/2;if(0===o)u=0,c=0;else{c=s<.5?o/(a+r):o/(2-a-r);var h=((a-e)/6+o/2)/o,p=((a-t)/6+o/2)/o,f=((a-i)/6+o/2)/o;e===a?u=f-p:t===a?u=1/3+h-f:i===a&&(u=2/3+p-h),u<0&&(u+=1),u>1&&(u-=1)}var d=[360*u,c,s];return null!=n[3]&&d.push(n[3]),d}}(r),null!=e&&(r[0]=function fG(n){return(n=Math.round(n))<0?0:n>360?360:n}(e)),null!=t&&(r[1]=Pa(t)),null!=i&&(r[2]=Pa(i)),Oi(Qd(r),"rgba")}function oh(n,e){var t=Sn(n);if(t&&null!=e)return t[3]=Dl(e),Oi(t,"rgba")}function Oi(n,e){if(n&&n.length){var t=n[0]+","+n[1]+","+n[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(t+=","+n[3]),e+"("+t+")"}}function sh(n,e){var t=Sn(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}var X1=new Tl(100);function ev(n){if(Q(n)){var e=X1.get(n);return e||(e=Jd(n,-.1),X1.put(n,e)),e}if(Hc(n)){var t=F({},n);return t.colorStops=X(n.colorStops,function(i){return{offset:i.offset,color:Jd(i.color,-.1)}}),t}return n}var Il=Math.round;function Al(n){var e;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var t=Sn(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}}else n="none";return{color:n,opacity:e??1}}var j1=1e-4;function Gr(n){return n<j1&&n>-j1}function lh(n){return Il(1e3*n)/1e3}function nv(n){return Il(1e4*n)/1e4}var mG={left:"start",right:"end",center:"middle",middle:"middle"};function Y1(n){return n&&!!n.image}function iv(n){return Y1(n)||function CG(n){return n&&!!n.svgElement}(n)}function W1(n){return"linear"===n.type}function U1(n){return"radial"===n.type}function $1(n){return n&&("linear"===n.type||"radial"===n.type)}function uh(n){return"url(#"+n+")"}function Z1(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function q1(n){var e=n.x||0,t=n.y||0,i=(n.rotation||0)*Wc,r=mt(n.scaleX,1),a=mt(n.scaleY,1),o=n.skewX||0,s=n.skewY||0,u=[];return(e||t)&&u.push("translate("+e+"px,"+t+"px)"),i&&u.push("rotate("+i+")"),(1!==r||1!==a)&&u.push("scale("+r+","+a+")"),(o||s)&&u.push("skew("+Il(o*Wc)+"deg, "+Il(s*Wc)+"deg)"),u.join(" ")}var SG=Lt.hasGlobalWindow&&at(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},rv=Array.prototype.slice;function lr(n,e,t){return(e-n)*t+n}function av(n,e,t,i){for(var r=e.length,a=0;a<r;a++)n[a]=lr(e[a],t[a],i);return n}function ch(n,e,t,i){for(var r=e.length,a=0;a<r;a++)n[a]=e[a]+t[a]*i;return n}function K1(n,e,t,i){for(var r=e.length,a=r&&e[0].length,o=0;o<r;o++){n[o]||(n[o]=[]);for(var s=0;s<a;s++)n[o][s]=e[o][s]+t[o][s]*i}return n}function zG(n,e){for(var t=n.length,i=e.length,r=t>i?e:n,a=Math.min(t,i),o=r[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(t,i);s++)r.push({offset:o.offset,color:o.color.slice()})}function wG(n,e,t){var i=n,r=e;if(i.push&&r.push){var a=i.length,o=r.length;if(a!==o)if(a>o)i.length=o;else for(var u=a;u<o;u++)i.push(1===t?r[u]:rv.call(r[u]));var c=i[0]&&i[0].length;for(u=0;u<i.length;u++)if(1===t)isNaN(i[u])&&(i[u]=r[u]);else for(var h=0;h<c;h++)isNaN(i[u][h])&&(i[u][h]=r[u][h])}}function kl(n){if(Ke(n)){var e=n.length;if(Ke(n[0])){for(var t=[],i=0;i<e;i++)t.push(rv.call(n[i]));return t}return rv.call(n)}return n}function hh(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=null==n[3]?1:n[3],"rgba("+n.join(",")+")"}function tC(n){return 4===n||5===n}function dh(n){return 1===n||2===n}var Rl=[0,0,0,0],DG=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,i){this._needsSort=!0;var r=this.keyframes,a=r.length,o=!1,s=6,u=t;if(Ke(t)){var c=function TG(n){return Ke(n&&n[0])?2:1}(t);s=c,(1===c&&!Bt(t[0])||2===c&&!Bt(t[0][0]))&&(o=!0)}else if(Bt(t)&&!yl(t))s=0;else if(Q(t))if(isNaN(+t)){var h=Sn(t);h&&(u=h,s=3)}else s=0;else if(Hc(t)){var p=F({},u);p.colorStops=X(t.colorStops,function(d){return{offset:d.offset,color:Sn(d.color)}}),W1(t)?s=4:U1(t)&&(s=5),u=p}0===a?this.valType=s:(s!==this.valType||6===s)&&(o=!0),this.discrete=this.discrete||o;var f={time:e,value:u,rawValue:t,percent:0};return i&&(f.easing=i,f.easingFunc=at(i)?i:k1[i]||$d(i)),r.push(f),f},n.prototype.prepare=function(e,t){var i=this.keyframes;this._needsSort&&i.sort(function(g,m){return g.time-m.time});for(var r=this.valType,a=i.length,o=i[a-1],s=this.discrete,u=dh(r),c=tC(r),h=0;h<a;h++){var p=i[h],f=p.value,d=o.value;p.percent=p.time/e,s||(u&&h!==a-1?wG(f,d,r):c&&zG(f.colorStops,d.colorStops))}if(!s&&5!==r&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;var v=i[0].value;for(h=0;h<a;h++)0===r?i[h].additiveValue=i[h].value-v:3===r?i[h].additiveValue=ch([],i[h].value,v,-1):dh(r)&&(i[h].additiveValue=1===r?ch([],i[h].value,v,-1):K1([],i[h].value,v,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var h,d,v,i=null!=this._additiveTrack,r=i?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,u=this.propName,c=3===a,p=this._lastFr,f=Math.min;if(1===s)d=v=o[0];else{if(t<0)h=0;else if(t<this._lastFrP){for(h=f(p+1,s-1);h>=0&&!(o[h].percent<=t);h--);h=f(h,s-2)}else{for(h=p;h<s&&!(o[h].percent>t);h++);h=f(h-1,s-2)}v=o[h+1],d=o[h]}if(d&&v){this._lastFr=h,this._lastFrP=t;var m=v.percent-d.percent,y=0===m?1:f((t-d.percent)/m,1);v.easingFunc&&(y=v.easingFunc(y));var _=i?this._additiveValue:c?Rl:e[u];if((dh(a)||c)&&!_&&(_=this._additiveValue=[]),this.discrete)e[u]=y<1?d.rawValue:v.rawValue;else if(dh(a))1===a?av(_,d[r],v[r],y):function xG(n,e,t,i){for(var r=e.length,a=r&&e[0].length,o=0;o<r;o++){n[o]||(n[o]=[]);for(var s=0;s<a;s++)n[o][s]=lr(e[o][s],t[o][s],i)}}(_,d[r],v[r],y);else if(tC(a)){var b=d[r],C=v[r],x=4===a;e[u]={type:x?"linear":"radial",x:lr(b.x,C.x,y),y:lr(b.y,C.y,y),colorStops:X(b.colorStops,function(z,w){var T=C.colorStops[w];return{offset:lr(z.offset,T.offset,y),color:hh(av([],z.color,T.color,y))}}),global:C.global},x?(e[u].x2=lr(b.x2,C.x2,y),e[u].y2=lr(b.y2,C.y2,y)):e[u].r=lr(b.r,C.r,y)}else if(c)av(_,d[r],v[r],y),i||(e[u]=hh(_));else{var S=lr(d[r],v[r],y);i?this._additiveValue=S:e[u]=S}i&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,i=this.propName,r=this._additiveValue;0===t?e[i]=e[i]+r:3===t?(Sn(e[i],Rl),ch(Rl,Rl,r,1),e[i]=hh(Rl)):1===t?ch(e[i],e[i],r,1):2===t&&K1(e[i],e[i],r,1)},n}(),MG=function(){function n(e,t,i,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r?xd("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=i)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,i){return this.whenWithKeys(e,t,At(t),i)},n.prototype.whenWithKeys=function(e,t,i,r){for(var a=this._tracks,o=0;o<i.length;o++){var s=i[o],u=a[s];if(!u){u=a[s]=new DG(s);var c=void 0,h=this._getAdditiveTrack(s);if(h){var p=h.keyframes,f=p[p.length-1];c=f&&f.value,3===h.valType&&c&&(c=hh(c))}else c=this._target[s];if(null==c)continue;e>0&&u.addKeyframe(0,kl(c),r),this._trackKeys.push(s)}u.addKeyframe(e,kl(t[s]),r)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,i=0;i<t;i++)e[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)e[t[i]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var a=i[r].getTrack(e);a&&(t=a)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,i=[],r=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],u=this._getAdditiveTrack(o),c=s.keyframes,h=c.length;if(s.prepare(r,u),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var p=c[h-1];p&&(t._target[s.propName]=p.rawValue),s.setFinished()}else i.push(s)}if(i.length||this._force){var f=new cG({life:r,loop:this._loop,delay:this._delay||0,onframe:function(d){t._started=2;var v=t._additiveAnimators;if(v){for(var g=!1,m=0;m<v.length;m++)if(v[m]._clip){g=!0;break}g||(t._additiveAnimators=null)}for(m=0;m<i.length;m++)i[m].step(t._target,d);var y=t._onframeCbs;if(y)for(m=0;m<y.length;m++)y[m](t._target,d)},ondestroy:function(){t._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){this._clip&&(e&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return X(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,a=0;a<e.length;a++){var o=i[e[a]];o&&!o.isFinished()&&(t?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var s=!0;for(a=0;a<r.length;a++)if(!i[r[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(e,t,i){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var a=t[r],o=this._tracks[a];if(o&&!o.isFinished()){var s=o.keyframes,u=s[i?0:s.length-1];u&&(e[a]=kl(u.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||At(e);for(var i=0;i<t.length;i++){var r=t[i],a=this._tracks[r];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[r]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n}();const lv=MG;function es(){return(new Date).getTime()}var IG=function(n){function e(t){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(t=t||{}).stage||{},i}return ae(e,n),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var i=t.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(t){if(t.animation){var i=t.prev,r=t.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var i=t.getClip();i&&this.removeClip(i),t.animation=null},e.prototype.update=function(t){for(var i=es()-this._pausedTime,r=i-this._time,a=this._head;a;){var o=a.next;a.step(i,r)&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=i,t||(this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,Wd(function i(){t._running&&(Wd(i),!t._paused&&t.update())})},e.prototype.start=function(){this._running||(this._time=es(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=es(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=es()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var i=t.next;t.prev=t.next=t.animation=null,t=i}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,i){i=i||{},this.start();var r=new lv(t,i.loop);return this.addAnimator(r),r},e}(Gn);const AG=IG;var uv=Lt.domSupported,cv=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:n,touch:["touchstart","touchend","touchmove"],pointer:X(n,function(r){var a=r.replace("mouse","pointer");return t.hasOwnProperty(a)?a:r})}}(),eC_mouse=["mousemove","mouseup"],eC_pointer=["pointermove","pointerup"],nC=!1;function hv(n){var e=n.pointerType;return"pen"===e||"touch"===e}function pv(n){n&&(n.zrByTouch=!0)}function iC(n,e){for(var t=e,i=!1;t&&9!==t.nodeType&&!(i=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return i}var NG=function(){return function n(e,t){this.stopPropagation=xe,this.stopImmediatePropagation=xe,this.preventDefault=xe,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}}(),fi={mousedown:function(n){n=Hn(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Hn(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Hn(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){iC(this,(n=Hn(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){nC=!0,n=Hn(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){nC||(n=Hn(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){pv(n=Hn(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),fi.mousemove.call(this,n),fi.mousedown.call(this,n)},touchmove:function(n){pv(n=Hn(this.dom,n)),this.handler.processGesture(n,"change"),fi.mousemove.call(this,n)},touchend:function(n){pv(n=Hn(this.dom,n)),this.handler.processGesture(n,"end"),fi.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&fi.click.call(this,n)},pointerdown:function(n){fi.mousedown.call(this,n)},pointermove:function(n){hv(n)||fi.mousemove.call(this,n)},pointerup:function(n){fi.mouseup.call(this,n)},pointerout:function(n){hv(n)||fi.mouseout.call(this,n)}};M(["click","dblclick","contextmenu"],function(n){fi[n]=function(e){e=Hn(this.dom,e),this.trigger(n,e)}});var fv={pointermove:function(n){hv(n)||fv.mousemove.call(this,n)},pointerup:function(n){fv.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function vh(n,e,t,i){n.mounted[e]=t,n.listenerOpts[e]=i,Bd(n.domTarget,e,t,i)}function dv(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&HF(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var rC=function(){return function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}}(),LG=function(n){function e(t,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=i,r._localHandlerScope=new rC(t,fi),uv&&(r._globalHandlerScope=new rC(document,fv)),function OG(n,e){var t=e.domHandlers;Lt.pointerEventsSupported?M(cv.pointer,function(i){vh(e,i,function(r){t[i].call(n,r)})}):(Lt.touchEventsSupported&&M(cv.touch,function(i){vh(e,i,function(r){t[i].call(n,r),function PG(n){n.touching=!0,null!=n.touchTimer&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}(e)})}),M(cv.mouse,function(i){vh(e,i,function(r){r=Ld(r),e.touching||t[i].call(n,r)})}))}(r,r._localHandlerScope),r}return ae(e,n),e.prototype.dispose=function(){dv(this._localHandlerScope),uv&&dv(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,uv&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var i=this._globalHandlerScope;t?function EG(n,e){function t(i){vh(e,i,function r(a){a=Ld(a),iC(n,a.target)||(a=function RG(n,e){return Hn(n.dom,new NG(n,e),!0)}(n,a),e.domHandlers[i].call(n,a))},{capture:!0})}Lt.pointerEventsSupported?M(eC_pointer,t):Lt.touchEventsSupported||M(eC_mouse,t)}(this,i):dv(i)}},e}(Gn);const BG=LG;var aC=1;Lt.hasGlobalWindow&&(aC=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var gh=aC,gv="#333",mv="#ccc",oC=qc;function Ra(n){return n>5e-5||n<-5e-5}var Na=[],ns=[],yv=[1,0,0,1,0,0],_v=Math.abs,FG=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return Ra(this.rotation)||Ra(this.x)||Ra(this.y)||Ra(this.scaleX-1)||Ra(this.scaleY-1)||Ra(this.skewX)||Ra(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;t||e?(i=i||[1,0,0,1,0,0],t?this.getLocalTransform(i):oC(i),e&&(t?sr(i,e,i):Fd(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&(oC(i),this.invTransform=null)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(Na);var i=Na[0]<0?-1:1,r=Na[1]<0?-1:1,a=((Na[0]-i)*t+i)/Na[0]||0,o=((Na[1]-r)*t+r)/Na[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],Ko(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),a=Math.PI/2+r-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||[1,0,0,1,0,0],sr(ns,e.invTransform,t),t=ns);var i=this.originX,r=this.originY;(i||r)&&(yv[4]=i,yv[5]=r,sr(ns,t,yv),ns[4]-=i,ns[5]-=r,t=ns),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var i=[e,t],r=this.invTransform;return r&&je(i,i,r),i},n.prototype.transformCoordToGlobal=function(e,t){var i=[e,t],r=this.transform;return r&&je(i,i,r),i},n.prototype.getLineScale=function(){var e=this.transform;return e&&_v(e[0]-1)>1e-10&&_v(e[3]-1)>1e-10?Math.sqrt(_v(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){lC(this,e)},n.getLocalTransform=function(e,t){t=t||[];var i=e.originX||0,r=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,u=e.anchorY,c=e.rotation||0,h=e.x,p=e.y,f=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(i||r||s||u){var v=i+s,g=r+u;t[4]=-v*a-f*g*o,t[5]=-g*o-d*v*a}else t[4]=t[5]=0;return t[0]=a,t[3]=o,t[1]=d*a,t[2]=f*o,c&&Da(t,t,c),t[4]+=i+h,t[5]+=r+p,t},n.initDefaultProps=((e=n.prototype).scaleX=e.scaleY=e.globalScaleRatio=1,void(e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0)),n;var e}(),Ei=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function lC(n,e){for(var t=0;t<Ei.length;t++){var i=Ei[t];n[i]=e[i]}}const ur=FG;var uC={};function En(n,e){var t=uC[e=e||Rr];t||(t=uC[e]=new Tl(500));var i=t.get(n);return null==i&&(i=ci.measureText(n,e).width,t.put(n,i)),i}function cC(n,e,t,i){var r=En(n,e),a=mh(e),o=Ol(0,r,t),s=is(0,a,i);return new xt(o,s,r,a)}function Nl(n,e,t,i){var r=((n||"")+"").split("\n");if(1===r.length)return cC(r[0],e,t,i);for(var o=new xt(0,0,0,0),s=0;s<r.length;s++){var u=cC(r[s],e,t,i);0===s?o.copy(u):o.union(u)}return o}function Ol(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function is(n,e,t){return"middle"===t?n-=e/2:"bottom"===t&&(n-=e),n}function mh(n){return En("\u56fd",n)}function di(n,e){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function yh(n,e,t){var i=e.position||"inside",r=null!=e.distance?e.distance:5,a=t.height,o=t.width,s=a/2,u=t.x,c=t.y,h="left",p="top";if(i instanceof Array)u+=di(i[0],t.width),c+=di(i[1],t.height),h=null,p=null;else switch(i){case"left":u-=r,c+=s,h="right",p="middle";break;case"right":u+=r+o,c+=s,p="middle";break;case"top":u+=o/2,c-=r,h="center",p="bottom";break;case"bottom":u+=o/2,c+=a+r,h="center";break;case"inside":u+=o/2,c+=s,h="center",p="middle";break;case"insideLeft":u+=r,c+=s,p="middle";break;case"insideRight":u+=o-r,c+=s,h="right",p="middle";break;case"insideTop":u+=o/2,c+=r,h="center";break;case"insideBottom":u+=o/2,c+=a-r,h="center",p="bottom";break;case"insideTopLeft":u+=r,c+=r;break;case"insideTopRight":u+=o-r,c+=r,h="right";break;case"insideBottomLeft":u+=r,c+=a-r,p="bottom";break;case"insideBottomRight":u+=o-r,c+=a-r,h="right",p="bottom"}return(n=n||{}).x=u,n.y=c,n.align=h,n.verticalAlign=p,n}var bv="__zr_normal__",Cv=Ei.concat(["ignore"]),GG=ki(Ei,function(n,e){return n[e]=!0,n},{ignore:!1}),rs={},HG=new xt(0,0,0,0),Sv=function(){function n(e){this.id=o1(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,a=t.innerTransformable,o=void 0,s=void 0,u=!1;a.parent=r?this:null;var c=!1;if(a.copyTransform(t),null!=i.position){var h=HG;h.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),r||h.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(rs,i,h):yh(rs,i,h),a.x=rs.x,a.y=rs.y,o=rs.align,s=rs.verticalAlign;var p=i.origin;if(p&&null!=i.rotation){var f=void 0,d=void 0;"center"===p?(f=.5*h.width,d=.5*h.height):(f=di(p[0],h.width),d=di(p[1],h.height)),c=!0,a.originX=-a.x+f+(r?0:h.x),a.originY=-a.y+d+(r?0:h.y)}}null!=i.rotation&&(a.rotation=i.rotation);var v=i.offset;v&&(a.x+=v[0],a.y+=v[1],c||(a.originX=-v[0],a.originY=-v[1]));var g=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),y=void 0,_=void 0,b=void 0;g&&this.canBeInsideText()?(_=i.insideStroke,(null==(y=i.insideFill)||"auto"===y)&&(y=this.getInsideTextFill()),(null==_||"auto"===_)&&(_=this.getInsideTextStroke(y),b=!0)):(_=i.outsideStroke,(null==(y=i.outsideFill)||"auto"===y)&&(y=this.getOutsideFill()),(null==_||"auto"===_)&&(_=this.getOutsideStroke(y),b=!0)),((y=y||"#000")!==m.fill||_!==m.stroke||b!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(u=!0,m.fill=y,m.stroke=_,m.autoStroke=b,m.align=o,m.verticalAlign=s,t.setDefaultTextStyle(m)),t.__dirty|=On,u&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?mv:gv},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof t&&Sn(t);i||(i=[255,255,255,1]);for(var r=i[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)i[o]=i[o]*r+(a?0:255)*(1-r);return i[3]=1,Oi(i,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},F(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(ct(e))for(var r=At(e),a=0;a<r.length;a++){var o=r[a];this.attrKV(o,e[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],a=r.__fromStateTransition;if(!(r.getLoop()||a&&a!==bv)){var o=r.targetName;r.saveTo(o?t[o]:t)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,Cv)},n.prototype._savePrimaryToNormal=function(e,t,i){for(var r=0;r<i.length;r++){var a=i[r];null!=e[a]&&!(a in t)&&(t[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(bv,!1,e)},n.prototype.useState=function(e,t,i,r){var a=e===bv;if(this.hasState()||!a){var s=this.currentStates,u=this.stateTransition;if(!(zt(s,e)>=0)||!t&&1!==s.length){var c;if(this.stateProxy&&!a&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!a)return void xd("State "+e+" not exists.");a||this.saveCurrentToNormalState(c);var h=!!(c&&c.hoverLayer||r);h&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,t,!i&&!this.__inHover&&u&&u.duration>0,u);var p=this._textContent,f=this._textGuide;return p&&p.useState(e,t,i,h),f&&f.useState(e,t,i,h),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~On),c}}},n.prototype.useStates=function(e,t,i){if(e.length){var r=[],a=this.currentStates,o=e.length,s=o===a.length;if(s)for(var u=0;u<o;u++)if(e[u]!==a[u]){s=!1;break}if(s)return;for(u=0;u<o;u++){var c=e[u],h=void 0;this.stateProxy&&(h=this.stateProxy(c,e)),h||(h=this.states[c]),h&&r.push(h)}var p=r[o-1],f=!!(p&&p.hoverLayer||i);f&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(r),v=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!t&&!this.__inHover&&v&&v.duration>0,v);var g=this._textContent,m=this._textGuide;g&&g.useStates(e,t,f),m&&m.useStates(e,t,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~On)}else this.clearStates()},n.prototype.isSilent=function(){for(var e=this.silent,t=this.parent;!e&&t;){if(t.silent){e=!0;break}t=t.parent}return e},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=zt(this.currentStates,e);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},n.prototype.replaceState=function(e,t,i){var r=this.currentStates.slice(),a=zt(r,e),o=zt(r,t)>=0;a>=0?o?r.splice(a,1):r[a]=t:i&&!o&&r.push(t),this.useStates(r)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var i,t={},r=0;r<e.length;r++){var a=e[r];F(t,a),a.textConfig&&F(i=i||{},a.textConfig)}return i&&(t.textConfig=i),t},n.prototype._applyStateObj=function(e,t,i,r,a,o){var s=!(t&&r);t&&t.textConfig?(this.textConfig=F({},r?this.textConfig:i.textConfig),F(this.textConfig,t.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var u={},c=!1,h=0;h<Cv.length;h++){var p=Cv[h],f=a&&GG[p];t&&null!=t[p]?f?(c=!0,u[p]=t[p]):this[p]=t[p]:s&&null!=i[p]&&(f?(c=!0,u[p]=i[p]):this[p]=i[p])}if(!a)for(h=0;h<this.animators.length;h++){var d=this.animators[h],v=d.targetName;d.getLoop()||d.__changeFinalValue(v?(t||i)[v]:t||i)}c&&this._transitionState(e,u,o)},n.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new ur,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),F(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=On;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=e),i&&(i.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,i){var a=new lv(e?this[e]:this,t,i);return e&&(a.targetName=e),this.addAnimator(a,e),a},n.prototype.addAnimator=function(e,t){var i=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(t)}).done(function(){var a=r.animators,o=zt(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var i=this.animators,r=i.length,a=[],o=0;o<r;o++){var s=i[o];e&&e!==s.scope?a.push(s):s.stop(t)}return this.animators=a,this},n.prototype.animateTo=function(e,t,i){xv(this,e,t,i)},n.prototype.animateFrom=function(e,t,i){xv(this,e,t,i,!0)},n.prototype._transitionState=function(e,t,i,r){for(var a=xv(this,t,i,r),o=0;o<a.length;o++)a[o].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;function r(a,o,s,u){function c(h,p){Object.defineProperty(p,0,{get:function(){return h[s]},set:function(f){h[s]=f}}),Object.defineProperty(p,1,{get:function(){return h[u]},set:function(f){h[u]=f}})}Object.defineProperty(e,a,{get:function(){return this[o]||c(this,this[o]=[]),this[o]},set:function(h){this[s]=h[0],this[u]=h[1],this[o]=h,c(this,h)}})}e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=On,Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),n}();function xv(n,e,t,i,r){var a=[];hC(n,"",n,e,t=t||{},i,a,r);var o=a.length,s=!1,u=t.done,c=t.aborted,h=function(){s=!0,--o<=0&&(s?u&&u():c&&c())},p=function(){--o<=0&&(s?u&&u():c&&c())};o||u&&u(),a.length>0&&t.during&&a[0].during(function(v,g){t.during(g)});for(var f=0;f<a.length;f++){var d=a[f];h&&d.done(h),p&&d.aborted(p),t.force&&d.duration(t.duration),d.start(t.easing)}return a}function zv(n,e,t){for(var i=0;i<t;i++)n[i]=e[i]}function jG(n,e,t){if(Ke(e[t]))if(Ke(n[t])||(n[t]=[]),bn(e[t])){var i=e[t].length;n[t].length!==i&&(n[t]=new e[t].constructor(i),zv(n[t],e[t],i))}else{var r=e[t],a=n[t],o=r.length;if(function XG(n){return Ke(n[0])}(r))for(var s=r[0].length,u=0;u<o;u++)a[u]?zv(a[u],r[u],s):a[u]=Array.prototype.slice.call(r[u]);else zv(a,r,o);a.length=r.length}else n[t]=e[t]}function hC(n,e,t,i,r,a,o,s){for(var u=At(i),c=r.duration,h=r.delay,p=r.additive,f=r.setToFinal,d=!ct(a),v=n.animators,g=[],m=0;m<u.length;m++){var _=i[y=u[m]];if(null!=_&&null!=t[y]&&(d||a[y]))if(!ct(_)||Ke(_)||Hc(_))g.push(y);else{if(e){s||(t[y]=_,n.updateDuringAnimation(e));continue}hC(n,y,t[y],_,r,a&&a[y],o,s)}else s||(t[y]=_,n.updateDuringAnimation(e),g.push(y))}var b=g.length;if(!p&&b)for(var C=0;C<v.length;C++)if((x=v[C]).targetName===e&&x.stopTracks(g)){var z=zt(v,x);v.splice(z,1)}if(r.force||(g=Ut(g,function(I){return!function YG(n,e){return n===e||Ke(n)&&Ke(e)&&function WG(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}(n,e)}(i[I],t[I])}),b=g.length),b>0||r.force&&!o.length){var x,w=void 0,T=void 0,D=void 0;if(s)for(T={},f&&(w={}),C=0;C<b;C++)T[y=g[C]]=t[y],f?w[y]=i[y]:t[y]=i[y];else if(f)for(D={},C=0;C<b;C++){var y;D[y=g[C]]=kl(t[y]),jG(t,i,y)}(x=new lv(t,!1,!1,p?Ut(v,function(A){return A.targetName===e}):null)).targetName=e,r.scope&&(x.scope=r.scope),f&&w&&x.whenWithKeys(0,w,g),D&&x.whenWithKeys(0,D,g),x.whenWithKeys(c??500,s?T:i,g).delay(h||0),n.addAnimator(x,e),o.push(x)}}Te(Sv,Gn),Te(Sv,ur);const pC=Sv;var fC=function(n){function e(t){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return ae(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===t)return i[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,i){if(t&&t!==this&&t.parent!==this&&i&&i.parent===this){var r=this._children,a=r.indexOf(i);a>=0&&(r.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,i){var r=zt(this._children,t);return r>=0&&this.replaceAt(i,r),this},e.prototype.replaceAt=function(t,i){var r=this._children,a=r[i];if(t&&t!==this&&t.parent!==this&&t!==a){r[i]=t,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var i=this.__zr;i&&i!==t.__zr&&t.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(t){var i=this.__zr,r=this._children,a=zt(r,t);return a<0||(r.splice(a,1),t.parent=null,i&&t.removeSelfFromZr(i),i&&i.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,i=this.__zr,r=0;r<t.length;r++){var a=t[r];i&&a.removeSelfFromZr(i),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,i){for(var r=this._children,a=0;a<r.length;a++)t.call(i,r[a],a);return this},e.prototype.traverse=function(t,i){for(var r=0;r<this._children.length;r++){var a=this._children[r],o=t.call(i,a);a.isGroup&&!o&&a.traverse(t,i)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(t)},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(t)},e.prototype.getBoundingRect=function(t){for(var i=new xt(0,0,0,0),r=t||this._children,a=[],o=null,s=0;s<r.length;s++){var u=r[s];if(!u.ignore&&!u.invisible){var c=u.getBoundingRect(),h=u.getLocalTransform(a);h?(xt.applyTransform(i,c,h),(o=o||i.clone()).union(i)):(o=o||c.clone()).union(c)}}return o||i},e}(pC);fC.prototype.type="group";const ft=fC;var wv,_h={},Oa={},ZG=function(){function n(e,t,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=e;var a=new rG,o=i.renderer||"canvas";_h[o]||(o=At(_h)[0]),i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var s=new _h[o](t,a,i,e),u=i.ssr||s.ssrOnly;this.storage=a,this.painter=s;var d,c=Lt.node||Lt.worker||u?null:new BG(s.getViewportRoot(),s.root),h=i.useCoarsePointer;(null==h||"auto"===h?Lt.touchEventsSupported:!!h)&&(d=mt(i.pointerSize,44)),this.handler=new JF(a,s,c,s.root,d),this.animation=new AG({stage:{update:u?null:function(){return r._flush(!0)}}}),u||this.animation.start()}return n.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},n.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function $G(n){if(!n)return!1;if("string"==typeof n)return sh(n,1)<.4;if(n.colorStops){for(var e=n.colorStops,t=0,i=e.length,r=0;r<i;r++)t+=sh(e[r].color,1);return(t/=i)<.4}return!1}(e))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(e){var t,i=es();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=es();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},n.prototype.resize=function(e){this._disposed||(this.painter.resize((e=e||{}).width,e.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},n.prototype.on=function(e,t,i){return this._disposed||this.handler.on(e,t,i),this},n.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},n.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},n.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof ft&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,function UG(n){delete Oa[n]}(this.id))},n}();function dC(n,e){var t=new ZG(o1(),n,e);return Oa[t.id]=t,t}var gC=20;function Yt(n,e,t,i){var r=e[0],a=e[1],o=t[0],s=t[1],u=a-r,c=s-o;if(0===u)return 0===c?o:(o+s)/2;if(i)if(u>0){if(n<=r)return o;if(n>=a)return s}else{if(n>=r)return o;if(n<=a)return s}else{if(n===r)return o;if(n===a)return s}return(n-r)/u*c+o}function q(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return Q(n)?function JG(n){return n.replace(/^\s+|\s+$/g,"")}(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):null==n?NaN:+n}function _e(n,e,t){return null==e&&(e=10),e=Math.min(Math.max(0,e),gC),n=(+n).toFixed(e),t?n:+n}function Yn(n){return n.sort(function(e,t){return e-t}),n}function Li(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t;return function t3(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),i=t>0?+e.slice(t+1):0,r=t>0?t:e.length,a=e.indexOf(".");return Math.max(0,(a<0?0:r-1-a)-i)}(n)}function mC(n,e){var t=Math.log,i=Math.LN10,r=Math.floor(t(n[1]-n[0])/i),a=Math.round(t(Math.abs(e[1]-e[0]))/i),o=Math.min(Math.max(-r+a,0),20);return isFinite(o)?o:20}function e3(n,e){var t=Math.max(Li(n),Li(e)),i=n+e;return t>gC?i:_e(i,t)}var _C=9007199254740991;function bC(n){var e=2*Math.PI;return(n%e+e)%e}function El(n){return n>-1e-4&&n<1e-4}var n3=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Bi(n){if(n instanceof Date)return n;if(Q(n)){var e=n3.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function Tv(n){if(0===n)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function CC(n,e){var t=Tv(n),i=Math.pow(10,t),r=n/i;return n=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,t>=-20?+n.toFixed(t<0?-t:0):n}function Dv(n,e){var t=(n.length-1)*e+1,i=Math.floor(t),r=+n[i-1],a=t-i;return a?r+a*(n[i]-r):r}function SC(n){n.sort(function(u,c){return s(u,c,0)?-1:1});for(var e=-1/0,t=1,i=0;i<n.length;){for(var r=n[i].interval,a=n[i].close,o=0;o<2;o++)r[o]<=e&&(r[o]=e,a[o]=o?1:1-t),e=r[o],t=a[o];r[0]===r[1]&&a[0]*a[1]!=1?n.splice(i,1):i++}return n;function s(u,c,h){return u.interval[h]<c.interval[h]||u.interval[h]===c.interval[h]&&(u.close[h]-c.close[h]==(h?-1:1)||!h&&s(u,c,1))}}function cr(n){var e=parseFloat(n);return e==n&&(0!==e||!Q(n)||n.indexOf("x")<=0)?e:NaN}function xC(n){return!isNaN(cr(n))}function zC(){return Math.round(9*Math.random())}function wC(n,e){return 0===e?n:wC(e,n%e)}function TC(n,e){return null==n?e:null==e?n:n*e/wC(n,e)}function DC(n,e,t){return(e-n)*t+n}var MC="series\0",IC="\0_ec_\0";function Zt(n){return n instanceof Array?n:null==n?[]:[n]}function Ea(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var i=0,r=t.length;i<r;i++){var a=t[i];!n.emphasis[e].hasOwnProperty(a)&&n[e].hasOwnProperty(a)&&(n.emphasis[e][a]=n[e][a])}}}var AC=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function as(n){return!ct(n)||H(n)||n instanceof Date?n:n.value}function r3(n){return ct(n)&&!(n instanceof Array)}function kC(n,e,t){var i="normalMerge"===t,r="replaceMerge"===t,a="replaceAll"===t;n=n||[],e=(e||[]).slice();var o=nt();M(e,function(u,c){ct(u)||(e[c]=null)});var s=function a3(n,e,t){var i=[];if("replaceAll"===t)return i;for(var r=0;r<n.length;r++){var a=n[r];a&&null!=a.id&&e.set(a.id,r),i.push({existing:"replaceMerge"===t||Bl(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return i}(n,o,t);return(i||r)&&function o3(n,e,t,i){M(i,function(r,a){if(r&&null!=r.id){var o=Ll(r.id),s=t.get(o);if(null!=s){var u=n[s];ln(!u.newOption,'Duplicated option on id "'+o+'".'),u.newOption=r,u.existing=e[s],i[a]=null}}})}(s,n,o,e),i&&function s3(n,e){M(e,function(t,i){if(t&&null!=t.name)for(var r=0;r<n.length;r++){var a=n[r].existing;if(!n[r].newOption&&a&&(null==a.id||null==t.id)&&!Bl(t)&&!Bl(a)&&PC("name",a,t))return n[r].newOption=t,void(e[i]=null)}})}(s,e),i||r?function l3(n,e,t){M(e,function(i){if(i){for(var r,a=0;(r=n[a])&&(r.newOption||Bl(r.existing)||r.existing&&null!=i.id&&!PC("id",i,r.existing));)a++;r?(r.newOption=i,r.brandNew=t):n.push({newOption:i,brandNew:t,existing:null,keyInfo:null}),a++}})}(s,e,r):a&&function u3(n,e){M(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}(s,e),function c3(n){var e=nt();M(n,function(t){var i=t.existing;i&&e.set(i.id,t)}),M(n,function(t){var i=t.newOption;ln(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),M(n,function(t,i){var r=t.existing,a=t.newOption,o=t.keyInfo;if(ct(a)){if(o.name=null!=a.name?Ll(a.name):r?r.name:MC+i,r)o.id=Ll(r.id);else if(null!=a.id)o.id=Ll(a.id);else{var s=0;do{o.id="\0"+o.name+"\0"+s++}while(e.get(o.id))}e.set(o.id,t)}})}(s),s}function PC(n,e,t){var i=Ae(e[n],null),r=Ae(t[n],null);return null!=i&&null!=r&&i===r}function Ll(n){return Ae(n,"")}function Ae(n,e){return null==n?e:Q(n)?n:Bt(n)||wd(n)?n+"":e}function Mv(n){var e=n.name;return!(!e||!e.indexOf(MC))}function Bl(n){return n&&null!=n.id&&0===Ll(n.id).indexOf(IC)}function La(n,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?H(e.dataIndex)?X(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex):null!=e.name?H(e.name)?X(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name):void 0}function Nt(){var n="__ec_inner_"+v3++;return function(e){return e[n]||(e[n]={})}}var v3=zC();function Vl(n,e,t){var i=Iv(e,t),a=i.queryOptionMap,s=i.others,u=t?t.defaultMainType:null;return!i.mainTypeSpecified&&u&&a.set(u,{}),a.each(function(c,h){var p=Fl(n,h,c,{useDefault:u===h,enableAll:!t||null==t.enableAll||t.enableAll,enableNone:!t||null==t.enableNone||t.enableNone});s[h+"Models"]=p.models,s[h+"Model"]=p.models[0]}),s}function Iv(n,e){var t;if(Q(n)){var i={};i[n+"Index"]=0,t=i}else t=n;var r=nt(),a={},o=!1;return M(t,function(s,u){if("dataIndex"!==u&&"dataIndexInside"!==u){var c=u.match(/^(\w+)(Index|Id|Name)$/)||[],h=c[1],p=(c[2]||"").toLowerCase();!h||!p||e&&e.includeMainTypes&&zt(e.includeMainTypes,h)<0||(o=o||!!h,(r.get(h)||r.set(h,{}))[p]=s)}else a[u]=s}),{mainTypeSpecified:o,queryOptionMap:r,others:a}}var De={useDefault:!0,enableAll:!1,enableNone:!1},g3={useDefault:!1,enableAll:!0,enableNone:!0};function Fl(n,e,t,i){i=i||De;var r=t.index,a=t.id,o=t.name,s={models:null,specified:null!=r||null!=a||null!=o};if(!s.specified){var u=void 0;return s.models=i.useDefault&&(u=n.getComponent(e))?[u]:[],s}return"none"===r||!1===r?(ln(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(ln(i.enableAll,'`"all"` is not a valid value on index option.'),r=a=o=null),s.models=n.queryComponents({mainType:e,index:r,id:a,name:o}),s)}function RC(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function Av(n,e){var t=nt(),i=[];return M(n,function(r){var a=e(r);(t.get(a)||(i.push(a),t.set(a,[]))).push(r)}),{keys:i,buckets:t}}function NC(n,e,t,i,r){var a=null==e||"auto"===e;if(null==i)return i;if(Bt(i))return _e(o=DC(t||0,i,r),a?Math.max(Li(t||0),Li(i)):e);if(Q(i))return r<1?t:i;for(var s=[],u=t,c=i,h=Math.max(u?u.length:0,c.length),p=0;p<h;++p){var f=n.getDimensionInfo(p);if(f&&"ordinal"===f.type)s[p]=(r<1&&u?u:c)[p];else{var d=u&&u[p]?u[p]:0,v=c[p],o=DC(d,v,r);s[p]=_e(o,a?Math.max(Li(d),Li(v)):e)}}return s}var _3=".",Ba="___EC__COMPONENT__CONTAINER___",OC="___EC__EXTENDED_CLASS___";function Vi(n){var e={main:"",sub:""};if(n){var t=n.split(_3);e.main=t[0]||"",e.sub=t[1]||""}return e}function kv(n,e){n.$constructor=n,n.extend=function(t){var r,i=this;return function S3(n){return at(n)&&/^class\s/.test(Function.prototype.toString.call(n))}(i)?r=function(a){function o(){return a.apply(this,arguments)||this}return B(o,a),o}(i):(r=function(){(t.$constructor||i).apply(this,arguments)},function mF(n,e){var t=n.prototype;function i(){}for(var r in i.prototype=e.prototype,n.prototype=new i,t)t.hasOwnProperty(r)&&(n.prototype[r]=t[r]);n.prototype.constructor=n,n.superClass=e}(r,this)),F(r.prototype,t),r[OC]=!0,r.extend=this.extend,r.superCall=w3,r.superApply=T3,r.superClass=i,r}}function EC(n,e){n.extend=e.extend}var x3=Math.round(10*Math.random());function w3(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this.superClass.prototype[e].apply(n,t)}function T3(n,e,t){return this.superClass.prototype[e].apply(n,t)}function bh(n){var e={};n.registerClass=function(i){var r=i.type||i.prototype.type;if(r){(function b3(n){ln(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')})(r),i.prototype.type=r;var a=Vi(r);if(a.sub){if(a.sub!==Ba){var o=function t(i){var r=e[i.main];return(!r||!r[Ba])&&((r=e[i.main]={})[Ba]=!0),r}(a);o[a.sub]=i}}else e[a.main]=i}return i},n.getClass=function(i,r,a){var o=e[i];if(o&&o[Ba]&&(o=r?o[r]:null),a&&!o)throw new Error(r?"Component "+i+"."+(r||"")+" is used but not imported.":i+".type should be specified.");return o},n.getClassesByMainType=function(i){var r=Vi(i),a=[],o=e[r.main];return o&&o[Ba]?M(o,function(s,u){u!==Ba&&a.push(s)}):a.push(o),a},n.hasClass=function(i){var r=Vi(i);return!!e[r.main]},n.getAllClassMainTypes=function(){var i=[];return M(e,function(r,a){i.push(a)}),i},n.hasSubTypes=function(i){var r=Vi(i),a=e[r.main];return a&&a[Ba]}}function Va(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(i,r,a){for(var o={},s=0;s<n.length;s++){var u=n[s][1];if(!(r&&zt(r,u)>=0||a&&zt(a,u)<0)){var c=i.getShallow(u,e);null!=c&&(o[n[s][0]]=c)}}return o}}var M3=Va([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),I3=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return M3(this,e,t)},n}(),Pv=new Tl(50);function A3(n){if("string"==typeof n){var e=Pv.get(n);return e&&e.image}return n}function Rv(n,e,t,i,r){if(n){if("string"==typeof n){if(e&&e.__zrImageSrc===n||!t)return e;var a=Pv.get(n),o={hostEl:t,cb:i,cbPayload:r};return a?!Ch(e=a.image)&&a.pending.push(o):((e=ci.loadImage(n,LC,LC)).__zrImageSrc=n,Pv.put(n,e.__cachedImgObj={image:e,pending:[o]})),e}return n}return e}function LC(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],i=t.cb;i&&i(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function Ch(n){return n&&n.width&&n.height}var Nv=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function k3(n,e,t,i,r){if(!e)return"";var a=(n+"").split("\n");r=BC(e,t,i,r);for(var o=0,s=a.length;o<s;o++)a[o]=VC(a[o],r);return a.join("\n")}function BC(n,e,t,i){var r=F({},i=i||{});r.font=e,t=mt(t,"..."),r.maxIterations=mt(i.maxIterations,2);var a=r.minChar=mt(i.minChar,0);r.cnCharWidth=En("\u56fd",e);var o=r.ascCharWidth=En("a",e);r.placeholder=mt(i.placeholder,"");for(var s=n=Math.max(0,n-1),u=0;u<a&&s>=o;u++)s-=o;var c=En(t,e);return c>s&&(t="",c=0),s=n-c,r.ellipsis=t,r.ellipsisWidth=c,r.contentWidth=s,r.containerWidth=n,r}function VC(n,e){var t=e.containerWidth,i=e.font,r=e.contentWidth;if(!t)return"";var a=En(n,i);if(a<=t)return n;for(var o=0;;o++){if(a<=r||o>=e.maxIterations){n+=e.ellipsis;break}var s=0===o?P3(n,r,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(n.length*r/a):0;a=En(n=n.substr(0,s),i)}return""===n&&(n=e.placeholder),n}function P3(n,e,t,i){for(var r=0,a=0,o=n.length;a<o&&r<e;a++){var s=n.charCodeAt(a);r+=0<=s&&s<=127?t:i}return a}var N3=function(){return function n(){}}(),FC=function(){return function n(e){this.tokens=[],e&&(this.tokens=e)}}(),O3=function(){return function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}}();function Ov(n,e,t,i,r){var h,p,a=""===e,o=r&&t.rich[r]||{},s=n.lines,u=o.font||t.font,c=!1;if(i){var f=o.padding,d=f?f[1]+f[3]:0;if(null!=o.width&&"auto"!==o.width){var v=di(o.width,i.width)+d;s.length>0&&v+i.accumWidth>i.width&&(h=e.split("\n"),c=!0),i.accumWidth=v}else{var g=GC(e,u,i.width,i.breakAll,i.accumWidth);i.accumWidth=g.accumWidth+d,p=g.linesWidths,h=g.lines}}else h=e.split("\n");for(var m=0;m<h.length;m++){var y=h[m],_=new N3;if(_.styleName=r,_.text=y,_.isLineHolder=!y&&!a,_.width="number"==typeof o.width?o.width:p?p[m]:En(y,u),m||c)s.push(new FC([_]));else{var b=(s[s.length-1]||(s[0]=new FC)).tokens,C=b.length;1===C&&b[0].isLineHolder?b[0]=_:(y||!C||a)&&b.push(_)}}}var B3=ki(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function V3(n){return!function L3(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}(n)||!!B3[n]}function GC(n,e,t,i,r){for(var a=[],o=[],s="",u="",c=0,h=0,p=0;p<n.length;p++){var f=n.charAt(p);if("\n"!==f){var d=En(f,e),v=!i&&!V3(f);(a.length?h+d>t:r+h+d>t)?h?(s||u)&&(v?(s||(s=u,u="",h=c=0),a.push(s),o.push(h-c),u+=f,s="",h=c+=d):(u&&(s+=u,u="",c=0),a.push(s),o.push(h),s=f,h=d)):v?(a.push(u),o.push(c),u=f,c=d):(a.push(f),o.push(d)):(h+=d,v?(u+=f,c+=d):(u&&(s+=u,u="",c=0),s+=f))}else u&&(s+=u,h+=c),a.push(s),o.push(h),s="",u="",c=0,h=0}return!a.length&&!s&&(s=n,u="",c=0),u&&(s+=u),s&&(a.push(s),o.push(h)),1===a.length&&(h+=r),{accumWidth:h,lines:a,linesWidths:o}}var Ev="__zr_style_"+Math.round(10*Math.random()),Fa={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Sh={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Fa[Ev]=!0;var HC=["z","z2","invisible"],F3=["invisible"],G3=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype._init=function(t){for(var i=At(t),r=0;r<i.length;r++){var a=i[r];"style"===a?this.useStyle(t[a]):n.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,i,r,a){var o=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function H3(n,e,t){return Lv.copy(n.getBoundingRect()),n.transform&&Lv.applyTransform(n.transform),Bv.width=e,Bv.height=t,!Lv.intersect(Bv)}(this,t,i)||o&&!o[0]&&!o[3])return!1;if(r&&this.__clipPaths)for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1;if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},e.prototype.contain=function(t,i){return this.rectContain(t,i)},e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.rectContain=function(t,i){var r=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(r[0],r[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,r=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,u=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new xt(0,0,0,0)),i?xt.applyTransform(t,r,i):t.copy(r),(o||s||u)&&(t.width+=2*o+Math.abs(s),t.height+=2*o+Math.abs(u),t.x=Math.min(t.x,t.x+s-o),t.y=Math.min(t.y,t.y+u-o));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+2*c),t.height=Math.ceil(t.height+1+2*c))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new xt(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,i){"style"!==t?n.prototype.attrKV.call(this,t,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,i){return"string"==typeof t?this.style[t]=i:F(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(2&this.__dirty)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return Yc(Fa,t)},e.prototype.useStyle=function(t){t[Ev]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[Ev]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,i,HC)},e.prototype._applyStateObj=function(t,i,r,a,o,s){n.prototype._applyStateObj.call(this,t,i,r,a,o,s);var c,u=!(i&&a);if(i&&i.style?o?a?c=i.style:(c=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(c,i.style)):(c=this._mergeStyle(this.createStyle(),a?this.style:r.style),this._mergeStyle(c,i.style)):u&&(c=r.style),c)if(o){var h=this.style;if(this.style=this.createStyle(u?{}:h),u)for(var p=At(h),f=0;f<p.length;f++)(d=p[f])in c&&(c[d]=c[d],this.style[d]=h[d]);var v=At(c);for(f=0;f<v.length;f++)this.style[d=v[f]]=this.style[d];this._transitionState(t,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);var g=this.__inHover?F3:HC;for(f=0;f<g.length;f++){var d=g[f];i&&null!=i[d]?this[d]=i[d]:u&&null!=r[d]&&(this[d]=r[d])}},e.prototype._mergeStates=function(t){for(var r,i=n.prototype._mergeStates.call(this,t),a=0;a<t.length;a++){var o=t[a];o.style&&this._mergeStyle(r=r||{},o.style)}return r&&(i.style=r),i},e.prototype._mergeStyle=function(t,i){return F(t,i),t},e.prototype.getAnimationStyleProps=function(){return Sh},e.initDefaultProps=((t=e.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=2|On)),e;var t}(pC),Lv=new xt(0,0,0,0),Bv=new xt(0,0,0,0);const Wn=G3;var xn=Math.min,zn=Math.max,Vv=Math.sin,Fv=Math.cos,Ga=2*Math.PI,xh=za(),zh=za(),wh=za();function Th(n,e,t){if(0!==n.length){for(var i=n[0],r=i[0],a=i[0],o=i[1],s=i[1],u=1;u<n.length;u++)r=xn(r,(i=n[u])[0]),a=zn(a,i[0]),o=xn(o,i[1]),s=zn(s,i[1]);e[0]=r,e[1]=o,t[0]=a,t[1]=s}}function XC(n,e,t,i,r,a){r[0]=xn(n,t),r[1]=xn(e,i),a[0]=zn(n,t),a[1]=zn(e,i)}var jC=[],YC=[];function X3(n,e,t,i,r,a,o,s,u,c){var h=E1,p=Ne,f=h(n,t,r,o,jC);u[0]=1/0,u[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var d=0;d<f;d++){var v=p(n,t,r,o,jC[d]);u[0]=xn(v,u[0]),c[0]=zn(v,c[0])}for(f=h(e,i,a,s,YC),d=0;d<f;d++){var g=p(e,i,a,s,YC[d]);u[1]=xn(g,u[1]),c[1]=zn(g,c[1])}u[0]=xn(n,u[0]),c[0]=zn(n,c[0]),u[0]=xn(o,u[0]),c[0]=zn(o,c[0]),u[1]=xn(e,u[1]),c[1]=zn(e,c[1]),u[1]=xn(s,u[1]),c[1]=zn(s,c[1])}function j3(n,e,t,i,r,a,o,s){var u=B1,c=Ge,h=zn(xn(u(n,t,r),1),0),p=zn(xn(u(e,i,a),1),0),f=c(n,t,r,h),d=c(e,i,a,p);o[0]=xn(n,r,f),o[1]=xn(e,a,d),s[0]=zn(n,r,f),s[1]=zn(e,a,d)}function Y3(n,e,t,i,r,a,o,s,u){var c=Or,h=Er,p=Math.abs(r-a);if(p%Ga<1e-4&&p>1e-4)return s[0]=n-t,s[1]=e-i,u[0]=n+t,void(u[1]=e+i);if(xh[0]=Fv(r)*t+n,xh[1]=Vv(r)*i+e,zh[0]=Fv(a)*t+n,zh[1]=Vv(a)*i+e,c(s,xh,zh),h(u,xh,zh),(r%=Ga)<0&&(r+=Ga),(a%=Ga)<0&&(a+=Ga),r>a&&!o?a+=Ga:r<a&&o&&(r+=Ga),o){var f=a;a=r,r=f}for(var d=0;d<a;d+=Math.PI/2)d>r&&(wh[0]=Fv(d)*t+n,wh[1]=Vv(d)*i+e,c(s,wh,s),h(u,wh,u))}var Qt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ha=[],Xa=[],Fi=[],Hr=[],Gi=[],Hi=[],Gv=Math.min,Hv=Math.max,ja=Math.cos,Ya=Math.sin,hr=Math.abs,Xv=Math.PI,Xr=2*Xv,jv=typeof Float32Array<"u",Gl=[];function Yv(n){return Math.round(n/Xv*1e8)/1e8%2*Xv}function Wv(n,e){var t=Yv(n[0]);t<0&&(t+=Xr);var r=n[1];r+=t-n[0],!e&&r-t>=Xr?r=t+Xr:e&&t-r>=Xr?r=t-Xr:!e&&t>r?r=t+(Xr-Yv(t-r)):e&&t<r&&(r=t-(Xr-Yv(r-t))),n[0]=t,n[1]=r}var W3=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,i){(i=i||0)>0&&(this._ux=hr(i/gh/e)||0,this._uy=hr(i/gh/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(Qt.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var i=hr(e-this._xi),r=hr(t-this._yi),a=i>this._ux||r>this._uy;if(this.addData(Qt.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var o=i*i+r*r;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=o)}return this},n.prototype.bezierCurveTo=function(e,t,i,r,a,o){return this._drawPendingPt(),this.addData(Qt.C,e,t,i,r,a,o),this._ctx&&this._ctx.bezierCurveTo(e,t,i,r,a,o),this._xi=a,this._yi=o,this},n.prototype.quadraticCurveTo=function(e,t,i,r){return this._drawPendingPt(),this.addData(Qt.Q,e,t,i,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(e,t,i,r,a,o){return this._drawPendingPt(),Gl[0]=r,Gl[1]=a,Wv(Gl,o),this.addData(Qt.A,e,t,i,i,r=Gl[0],(a=Gl[1])-r,0,o?0:1),this._ctx&&this._ctx.arc(e,t,i,r,a,o),this._xi=ja(a)*i+e,this._yi=Ya(a)*i+t,this},n.prototype.arcTo=function(e,t,i,r,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,i,r,a),this},n.prototype.rect=function(e,t,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,i,r),this.addData(Qt.R,e,t,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Qt.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&e.closePath(),this._xi=t,this._yi=i,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;(!this.data||this.data.length!==t)&&jv&&(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,r=this._len,a=0;a<t;a++)i+=e[a].len();for(jv&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),a=0;a<t;a++)for(var o=e[a].data,s=0;s<o.length;s++)this.data[r++]=o[s];this._len=r},n.prototype.addData=function(e,t,i,r,a,o,s,u,c){if(this._saveData){var h=this.data;this._len+arguments.length>h.length&&(this._expandData(),h=this.data);for(var p=0;p<arguments.length;p++)h[this._len++]=arguments[p]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,jv&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){Fi[0]=Fi[1]=Gi[0]=Gi[1]=Number.MAX_VALUE,Hr[0]=Hr[1]=Hi[0]=Hi[1]=-Number.MAX_VALUE;var o,e=this.data,t=0,i=0,r=0,a=0;for(o=0;o<this._len;){var s=e[o++],u=1===o;switch(u&&(r=t=e[o],a=i=e[o+1]),s){case Qt.M:t=r=e[o++],i=a=e[o++],Gi[0]=r,Gi[1]=a,Hi[0]=r,Hi[1]=a;break;case Qt.L:XC(t,i,e[o],e[o+1],Gi,Hi),t=e[o++],i=e[o++];break;case Qt.C:X3(t,i,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Gi,Hi),t=e[o++],i=e[o++];break;case Qt.Q:j3(t,i,e[o++],e[o++],e[o],e[o+1],Gi,Hi),t=e[o++],i=e[o++];break;case Qt.A:var c=e[o++],h=e[o++],p=e[o++],f=e[o++],d=e[o++],v=e[o++]+d;o+=1;var g=!e[o++];u&&(r=ja(d)*p+c,a=Ya(d)*f+h),Y3(c,h,p,f,d,v,g,Gi,Hi),t=ja(v)*p+c,i=Ya(v)*f+h;break;case Qt.R:XC(r=t=e[o++],a=i=e[o++],r+e[o++],a+e[o++],Gi,Hi);break;case Qt.Z:t=r,i=a}Or(Fi,Fi,Gi),Er(Hr,Hr,Hi)}return 0===o&&(Fi[0]=Fi[1]=Hr[0]=Hr[1]=0),new xt(Fi[0],Fi[1],Hr[0]-Fi[0],Hr[1]-Fi[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,i=this._ux,r=this._uy,a=0,o=0,s=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,h=0,p=0,f=0;f<t;){var d=e[f++],v=1===f;v&&(s=a=e[f],u=o=e[f+1]);var g=-1;switch(d){case Qt.M:a=s=e[f++],o=u=e[f++];break;case Qt.L:var m=e[f++],b=(y=e[f++])-o;(hr(_=m-a)>i||hr(b)>r||f===t-1)&&(g=Math.sqrt(_*_+b*b),a=m,o=y);break;case Qt.C:var C=e[f++],x=e[f++],y=(m=e[f++],e[f++]),S=e[f++],z=e[f++];g=aG(a,o,C,x,m,y,S,z,10),a=S,o=z;break;case Qt.Q:g=sG(a,o,C=e[f++],x=e[f++],m=e[f++],y=e[f++],10),a=m,o=y;break;case Qt.A:var w=e[f++],T=e[f++],D=e[f++],I=e[f++],A=e[f++],k=e[f++],P=k+A;f+=1,v&&(s=ja(A)*D+w,u=Ya(A)*I+T),g=Hv(D,I)*Gv(Xr,Math.abs(k)),a=ja(P)*D+w,o=Ya(P)*I+T;break;case Qt.R:s=a=e[f++],u=o=e[f++],g=2*e[f++]+2*e[f++];break;case Qt.Z:var _=s-a;b=u-o,g=Math.sqrt(_*_+b*b),a=s,o=u}g>=0&&(c[p++]=g,h+=g)}return this._pathLen=h,h},n.prototype.rebuildPath=function(e,t){var s,u,c,h,p,f,v,_,C,x,i=this.data,r=this._ux,a=this._uy,o=this._len,d=t<1,m=0,y=0,b=0;if(!d||(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,_=t*this._pathLen))t:for(var S=0;S<o;){var z=i[S++],w=1===S;switch(w&&(s=c=i[S],u=h=i[S+1]),z!==Qt.L&&b>0&&(e.lineTo(C,x),b=0),z){case Qt.M:s=c=i[S++],u=h=i[S++],e.moveTo(c,h);break;case Qt.L:p=i[S++],f=i[S++];var T=hr(p-c),D=hr(f-h);if(T>r||D>a){if(d){if(m+(I=v[y++])>_){e.lineTo(c*(1-(A=(_-m)/I))+p*A,h*(1-A)+f*A);break t}m+=I}e.lineTo(p,f),c=p,h=f,b=0}else{var k=T*T+D*D;k>b&&(C=p,x=f,b=k)}break;case Qt.C:var P=i[S++],N=i[S++],O=i[S++],L=i[S++],E=i[S++],V=i[S++];if(d){if(m+(I=v[y++])>_){Vr(c,P,O,E,A=(_-m)/I,Ha),Vr(h,N,L,V,A,Xa),e.bezierCurveTo(Ha[1],Xa[1],Ha[2],Xa[2],Ha[3],Xa[3]);break t}m+=I}e.bezierCurveTo(P,N,O,L,E,V),c=E,h=V;break;case Qt.Q:if(P=i[S++],N=i[S++],O=i[S++],L=i[S++],d){if(m+(I=v[y++])>_){wl(c,P,O,A=(_-m)/I,Ha),wl(h,N,L,A,Xa),e.quadraticCurveTo(Ha[1],Xa[1],Ha[2],Xa[2]);break t}m+=I}e.quadraticCurveTo(P,N,O,L),c=O,h=L;break;case Qt.A:var j=i[S++],$=i[S++],it=i[S++],ot=i[S++],st=i[S++],Tt=i[S++],kt=i[S++],Dt=!i[S++],pt=it>ot?it:ot,Mt=hr(it-ot)>.001,bt=st+Tt,rt=!1;if(d&&(m+(I=v[y++])>_&&(bt=st+Tt*(_-m)/I,rt=!0),m+=I),Mt&&e.ellipse?e.ellipse(j,$,it,ot,kt,st,bt,Dt):e.arc(j,$,pt,st,bt,Dt),rt)break t;w&&(s=ja(st)*it+j,u=Ya(st)*ot+$),c=ja(bt)*it+j,h=Ya(bt)*ot+$;break;case Qt.R:s=c=i[S],u=h=i[S+1],p=i[S++],f=i[S++];var Ct=i[S++],he=i[S++];if(d){if(m+(I=v[y++])>_){var Et=_-m;e.moveTo(p,f),e.lineTo(p+Gv(Et,Ct),f),(Et-=Ct)>0&&e.lineTo(p+Ct,f+Gv(Et,he)),(Et-=he)>0&&e.lineTo(p+Hv(Ct-Et,0),f+he),(Et-=Ct)>0&&e.lineTo(p,f+Hv(he-Et,0));break t}m+=I}e.rect(p,f,Ct,he);break;case Qt.Z:if(d){var I;if(m+(I=v[y++])>_){var A;e.lineTo(c*(1-(A=(_-m)/I))+s*A,h*(1-A)+u*A);break t}m+=I}e.closePath(),c=s,h=u}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=Qt,n.initDefaultProps=((e=n.prototype)._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,void(e._version=0)),n;var e}();const Xi=W3;function jr(n,e,t,i,r,a,o){if(0===r)return!1;var u,s=r;if(o>e+s&&o>i+s||o<e-s&&o<i-s||a>n+s&&a>t+s||a<n-s&&a<t-s)return!1;if(n===t)return Math.abs(a-n)<=s/2;var h=(u=(e-i)/(n-t))*a-o+(n*i-t*e)/(n-t);return h*h/(u*u+1)<=s/2*s/2}function U3(n,e,t,i,r,a,o,s,u,c,h){if(0===u)return!1;var p=u;return!(h>e+p&&h>i+p&&h>a+p&&h>s+p||h<e-p&&h<i-p&&h<a-p&&h<s-p||c>n+p&&c>t+p&&c>r+p&&c>o+p||c<n-p&&c<t-p&&c<r-p&&c<o-p)&&L1(n,e,t,i,r,a,o,s,c,h,null)<=p/2}function WC(n,e,t,i,r,a,o,s,u){if(0===o)return!1;var c=o;return!(u>e+c&&u>i+c&&u>a+c||u<e-c&&u<i-c&&u<a-c||s>n+c&&s>t+c&&s>r+c||s<n-c&&s<t-c&&s<r-c)&&V1(n,e,t,i,r,a,s,u,null)<=c/2}var UC=2*Math.PI;function Ln(n){return(n%=UC)<0&&(n+=UC),n}var Hl=2*Math.PI;function $3(n,e,t,i,r,a,o,s,u){if(0===o)return!1;var c=o;s-=n,u-=e;var h=Math.sqrt(s*s+u*u);if(h-c>t||h+c<t)return!1;if(Math.abs(i-r)%Hl<1e-4)return!0;if(a){var p=i;i=Ln(r),r=Ln(p)}else i=Ln(i),r=Ln(r);i>r&&(r+=Hl);var f=Math.atan2(u,s);return f<0&&(f+=Hl),f>=i&&f<=r||f+Hl>=i&&f+Hl<=r}function pr(n,e,t,i,r,a){if(a>e&&a>i||a<e&&a<i||i===e)return 0;var o=(a-e)/(i-e),s=i<e?1:-1;(1===o||0===o)&&(s=i<e?.5:-.5);var u=o*(t-n)+n;return u===r?1/0:u>r?s:0}var Yr=Xi.CMD,Wa=2*Math.PI,cn=[-1,-1,-1],Un=[-1,-1];function K3(){var n=Un[0];Un[0]=Un[1],Un[1]=n}function Q3(n,e,t,i,r,a,o,s,u,c){if(c>e&&c>i&&c>a&&c>s||c<e&&c<i&&c<a&&c<s)return 0;var h=rh(e,i,a,s,c,cn);if(0===h)return 0;for(var p=0,f=-1,d=void 0,v=void 0,g=0;g<h;g++){var m=cn[g],y=0===m||1===m?.5:1;Ne(n,t,r,o,m)<u||(f<0&&(f=E1(e,i,a,s,Un),Un[1]<Un[0]&&f>1&&K3(),d=Ne(e,i,a,s,Un[0]),f>1&&(v=Ne(e,i,a,s,Un[1]))),p+=2===f?m<Un[0]?d<e?y:-y:m<Un[1]?v<d?y:-y:s<v?y:-y:m<Un[0]?d<e?y:-y:s<d?y:-y)}return p}function J3(n,e,t,i,r,a,o,s){if(s>e&&s>i&&s>a||s<e&&s<i&&s<a)return 0;var u=function oG(n,e,t,i,r){var a=n-2*e+t,o=2*(e-n),s=n-i,u=0;if(Br(a))N1(o)&&(c=-s/o)>=0&&c<=1&&(r[u++]=c);else{var h=o*o-4*a*s;if(Br(h))(c=-o/(2*a))>=0&&c<=1&&(r[u++]=c);else if(h>0){var c,p=Lr(h),f=(-o-p)/(2*a);(c=(-o+p)/(2*a))>=0&&c<=1&&(r[u++]=c),f>=0&&f<=1&&(r[u++]=f)}}return u}(e,i,a,s,cn);if(0===u)return 0;var c=B1(e,i,a);if(c>=0&&c<=1){for(var h=0,p=Ge(e,i,a,c),f=0;f<u;f++){var d=0===cn[f]||1===cn[f]?.5:1;Ge(n,t,r,cn[f])<o||(h+=cn[f]<c?p<e?d:-d:a<p?d:-d)}return h}return d=0===cn[0]||1===cn[0]?.5:1,Ge(n,t,r,cn[0])<o?0:a<e?d:-d}function t4(n,e,t,i,r,a,o,s){if((s-=e)>t||s<-t)return 0;var u=Math.sqrt(t*t-s*s);cn[0]=-u,cn[1]=u;var c=Math.abs(i-r);if(c<1e-4)return 0;if(c>=Wa-1e-4){i=0,r=Wa;var h=a?1:-1;return o>=cn[0]+n&&o<=cn[1]+n?h:0}if(i>r){var p=i;i=r,r=p}i<0&&(i+=Wa,r+=Wa);for(var f=0,d=0;d<2;d++){var v=cn[d];if(v+n>o){var g=Math.atan2(s,v);h=a?1:-1,g<0&&(g=Wa+g),(g>=i&&g<=r||g+Wa>=i&&g+Wa<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(h=-h),f+=h)}}return f}function $C(n,e,t,i,r){for(var f,d,a=n.data,o=n.len(),s=0,u=0,c=0,h=0,p=0,v=0;v<o;){var g=a[v++],m=1===v;switch(g===Yr.M&&v>1&&(t||(s+=pr(u,c,h,p,i,r))),m&&(h=u=a[v],p=c=a[v+1]),g){case Yr.M:u=h=a[v++],c=p=a[v++];break;case Yr.L:if(t){if(jr(u,c,a[v],a[v+1],e,i,r))return!0}else s+=pr(u,c,a[v],a[v+1],i,r)||0;u=a[v++],c=a[v++];break;case Yr.C:if(t){if(U3(u,c,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],e,i,r))return!0}else s+=Q3(u,c,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],i,r)||0;u=a[v++],c=a[v++];break;case Yr.Q:if(t){if(WC(u,c,a[v++],a[v++],a[v],a[v+1],e,i,r))return!0}else s+=J3(u,c,a[v++],a[v++],a[v],a[v+1],i,r)||0;u=a[v++],c=a[v++];break;case Yr.A:var y=a[v++],_=a[v++],b=a[v++],C=a[v++],x=a[v++],S=a[v++];v+=1;var z=!!(1-a[v++]);f=Math.cos(x)*b+y,d=Math.sin(x)*C+_,m?(h=f,p=d):s+=pr(u,c,f,d,i,r);var w=(i-y)*C/b+y;if(t){if($3(y,_,C,x,x+S,z,e,w,r))return!0}else s+=t4(y,_,C,x,x+S,z,w,r);u=Math.cos(x+S)*b+y,c=Math.sin(x+S)*C+_;break;case Yr.R:if(h=u=a[v++],p=c=a[v++],f=h+a[v++],d=p+a[v++],t){if(jr(h,p,f,p,e,i,r)||jr(f,p,f,d,e,i,r)||jr(f,d,h,d,e,i,r)||jr(h,d,h,p,e,i,r))return!0}else s+=pr(f,p,f,d,i,r),s+=pr(h,d,h,p,i,r);break;case Yr.Z:if(t){if(jr(u,c,h,p,e,i,r))return!0}else s+=pr(u,c,h,p,i,r);u=h,c=p}}return!t&&!function q3(n,e){return Math.abs(n-e)<1e-4}(c,p)&&(s+=pr(u,c,h,p,i,r)||0),0!==s}var Dh=lt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Fa),i4={style:lt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Sh.style)},Uv=Ei.concat(["invisible","culling","z","z2","zlevel","parent"]),r4=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.update=function(){var t=this;n.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(u){t.buildPath(u,t.shape)}),r.silent=!0;var a=r.style;for(var o in i)a[o]!==i[o]&&(a[o]=i[o]);a.fill=i.fill?i.decal:null,a.decal=null,a.shadowColor=null,i.strokeFirst&&(a.stroke=null);for(var s=0;s<Uv.length;++s)r[Uv[s]]=this[Uv[s]];r.__dirty|=On}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var i=At(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var a=0;a<i.length;a++){var o=i[a],s=t[o];"style"===o?this.style?F(this.style,s):this.useStyle(s):"shape"===o?F(this.shape,s):n.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(Q(t)){var i=sh(t,0);return i>.5?gv:i>.2?"#eee":mv}if(t)return mv}return gv},e.prototype.getInsideTextStroke=function(t){var i=this.style.fill;if(Q(i)){var r=this.__zr;if(!(!r||!r.isDarkMode())==sh(t,0)<.4)return i}},e.prototype.buildPath=function(t,i,r){},e.prototype.pathUpdated=function(){this.__dirty&=~Qo},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Xi(!1)},e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return!(null==i||"none"===i||!(t.lineWidth>0))},e.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},e.prototype.getBoundingRect=function(){var t=this._rect,i=this.style,r=!t;if(r){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&Qo)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||r){s.copy(t);var u=i.strokeNoScale?this.getLineScale():1,c=i.lineWidth;this.hasFill()||(c=Math.max(c,this.strokeContainThreshold??4)),u>1e-10&&(s.width+=c/u,s.height+=c/u,s.x-=c/u/2,s.y-=c/u/2)}return s}return t},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),a=this.getBoundingRect(),o=this.style;if(a.contain(t=r[0],i=r[1])){var s=this.path;if(this.hasStroke()){var u=o.lineWidth,c=o.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),function n4(n,e,t,i){return $C(n,e,!0,t,i)}(s,u/c,t,i)))return!0}if(this.hasFill())return function e4(n,e,t){return $C(n,0,!1,e,t)}(s,t,i)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Qo,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,i){"shape"===t?this.setShape(i):n.prototype.attrKV.call(this,t,i)},e.prototype.setShape=function(t,i){var r=this.shape;return r||(r=this.shape={}),"string"==typeof t?r[t]=i:F(r,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Qo)},e.prototype.createStyle=function(t){return Yc(Dh,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.shape&&!i.shape&&(i.shape=F({},this.shape))},e.prototype._applyStateObj=function(t,i,r,a,o,s){n.prototype._applyStateObj.call(this,t,i,r,a,o,s);var c,u=!(i&&a);if(i&&i.shape?o?a?c=i.shape:(c=F({},r.shape),F(c,i.shape)):(c=F({},a?this.shape:r.shape),F(c,i.shape)):u&&(c=r.shape),c)if(o){this.shape=F({},this.shape);for(var h={},p=At(c),f=0;f<p.length;f++){var d=p[f];"object"==typeof c[d]?this.shape[d]=c[d]:h[d]=c[d]}this._transitionState(t,{shape:h},s)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r,i=n.prototype._mergeStates.call(this,t),a=0;a<t.length;a++){var o=t[a];o.shape&&this._mergeStyle(r=r||{},o.shape)}return r&&(i.shape=r),i},e.prototype.getAnimationStyleProps=function(){return i4},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(a){function o(s){var u=a.call(this,s)||this;return t.init&&t.init.call(u,s),u}return ae(o,a),o.prototype.getDefaultStyle=function(){return ht(t.style)},o.prototype.getDefaultShape=function(){return ht(t.shape)},o}(e);for(var r in t)"function"==typeof t[r]&&(i.prototype[r]=t[r]);return i},e.initDefaultProps=((t=e.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=2|On|Qo)),e;var t}(Wn);const It=r4;var a4=lt({strokeFirst:!0,font:Rr,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Dh),ZC=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return ae(e,n),e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return null!=i&&"none"!==i&&t.lineWidth>0},e.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},e.prototype.createStyle=function(t){return Yc(a4,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var i=t.text;null!=i?i+="":i="";var r=Nl(i,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;r.x-=a/2,r.y-=a/2,r.width+=a,r.height+=a}this._rect=r}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(Wn);ZC.prototype.type="tspan";const Xl=ZC;var o4=lt({x:0,y:0},Fa),s4={style:lt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Sh.style)},qC=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return ae(e,n),e.prototype.createStyle=function(t){return Yc(o4,t)},e.prototype._getSize=function(t){var i=this.style,r=i[t];if(null!=r)return r;var a=function l4(n){return!!(n&&"string"!=typeof n&&n.width&&n.height)}(i.image)?i.image:this.__image;if(!a)return 0;var o="width"===t?"height":"width",s=i[o];return null==s?a[t]:a[t]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return s4},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new xt(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Wn);qC.prototype.type="image";const Ye=qC;var os=Math.round;function KC(n,e,t){if(e){var i=e.x1,r=e.x2,a=e.y1,o=e.y2;n.x1=i,n.x2=r,n.y1=a,n.y2=o;var s=t&&t.lineWidth;return s&&(os(2*i)===os(2*r)&&(n.x1=n.x2=Ua(i,s,!0)),os(2*a)===os(2*o)&&(n.y1=n.y2=Ua(a,s,!0))),n}}function QC(n,e,t){if(e){var i=e.x,r=e.y,a=e.width,o=e.height;n.x=i,n.y=r,n.width=a,n.height=o;var s=t&&t.lineWidth;return s&&(n.x=Ua(i,s,!0),n.y=Ua(r,s,!0),n.width=Math.max(Ua(i+a,s,!1)-n.x,0===a?0:1),n.height=Math.max(Ua(r+o,s,!1)-n.y,0===o?0:1)),n}}function Ua(n,e,t){if(!e)return n;var i=os(2*n);return(i+os(e))%2==0?i/2:(i+(t?1:-1))/2}var c4=function(){return function n(){this.x=0,this.y=0,this.width=0,this.height=0}}(),h4={},JC=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.getDefaultShape=function(){return new c4},e.prototype.buildPath=function(t,i){var r,a,o,s;if(this.subPixelOptimize){var u=QC(h4,i,this.style);r=u.x,a=u.y,o=u.width,s=u.height,u.r=i.r,i=u}else r=i.x,a=i.y,o=i.width,s=i.height;i.r?function u4(n,e){var s,u,c,h,p,t=e.x,i=e.y,r=e.width,a=e.height,o=e.r;r<0&&(t+=r,r=-r),a<0&&(i+=a,a=-a),"number"==typeof o?s=u=c=h=o:o instanceof Array?1===o.length?s=u=c=h=o[0]:2===o.length?(s=c=o[0],u=h=o[1]):3===o.length?(s=o[0],u=h=o[1],c=o[2]):(s=o[0],u=o[1],c=o[2],h=o[3]):s=u=c=h=0,s+u>r&&(s*=r/(p=s+u),u*=r/p),c+h>r&&(c*=r/(p=c+h),h*=r/p),u+c>a&&(u*=a/(p=u+c),c*=a/p),s+h>a&&(s*=a/(p=s+h),h*=a/p),n.moveTo(t+s,i),n.lineTo(t+r-u,i),0!==u&&n.arc(t+r-u,i+u,u,-Math.PI/2,0),n.lineTo(t+r,i+a-c),0!==c&&n.arc(t+r-c,i+a-c,c,0,Math.PI/2),n.lineTo(t+h,i+a),0!==h&&n.arc(t+h,i+a-h,h,Math.PI/2,Math.PI),n.lineTo(t,i+s),0!==s&&n.arc(t+s,i+s,s,Math.PI,1.5*Math.PI)}(t,i):t.rect(r,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(It);JC.prototype.type="rect";const Ot=JC;var tS={fill:"#000"},p4={style:lt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Sh.style)},nS=function(n){function e(t){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=tS,i.attr(t),i}return ae(e,n),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,function v4(n){sS(n),M(n.rich,sS)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new xt(0,0,0,0),i=this._children,r=[],a=null,o=0;o<i.length;o++){var s=i[o],u=s.getBoundingRect(),c=s.getLocalTransform(r);c?(t.copy(u),t.applyTransform(c),(a=a||t.clone()).union(t)):(a=a||u.clone()).union(u)}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||tS},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,i){if(!i)return t;var r=i.rich,a=t.rich||r&&{};return F(t,i),r&&a?(this._mergeRich(a,r),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,i){for(var r=At(i),a=0;a<r.length;a++){var o=r[a];t[o]=t[o]||{},F(t[o],i[o])}},e.prototype.getAnimationStyleProps=function(){return p4},e.prototype._getOrCreateChild=function(t){var i=this._children[this._childCursor];return(!i||!(i instanceof t))&&(i=new t),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var t=this.style,i=t.font||Rr,r=t.padding,o=function R3(n,e){null!=n&&(n+="");var p,t=e.overflow,i=e.padding,r=e.font,a="truncate"===t,o=mh(r),s=mt(e.lineHeight,o),u=!!e.backgroundColor,c="truncate"===e.lineOverflow,h=e.width,f=(p=null==h||"break"!==t&&"breakAll"!==t?n?n.split("\n"):[]:n?GC(n,e.font,h,"breakAll"===t,0).lines:[]).length*s,d=mt(e.height,f);if(f>d&&c){var v=Math.floor(d/s);p=p.slice(0,v)}if(n&&a&&null!=h)for(var g=BC(h,r,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m=0;m<p.length;m++)p[m]=VC(p[m],g);var y=d,_=0;for(m=0;m<p.length;m++)_=Math.max(En(p[m],r),_);null==h&&(h=_);var b=_;return i&&(y+=i[0]+i[2],b+=i[1]+i[3],h+=i[1]+i[3]),u&&(b=h),{lines:p,height:d,outerWidth:b,outerHeight:y,lineHeight:s,calculatedLineHeight:o,contentWidth:_,contentHeight:f,width:h}}(hS(t),t),s=$v(t),u=!!t.backgroundColor,c=o.outerHeight,h=o.outerWidth,p=o.contentWidth,f=o.lines,d=o.lineHeight,v=this._defaultStyle,g=t.x||0,m=t.y||0,y=t.align||v.align||"left",_=t.verticalAlign||v.verticalAlign||"top",b=g,C=is(m,o.contentHeight,_);if(s||r){var x=Ol(g,h,y),S=is(m,c,_);s&&this._renderBackground(t,t,x,S,h,c)}C+=d/2,r&&(b=cS(g,y,r),"top"===_?C+=r[0]:"bottom"===_&&(C-=r[2]));for(var z=0,w=!1,T=(uS("fill"in t?t.fill:(w=!0,v.fill))),D=(lS("stroke"in t?t.stroke:u||v.autoStroke&&!w?null:(z=2,v.stroke))),I=t.textShadowBlur>0,A=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),k=o.calculatedLineHeight,P=0;P<f.length;P++){var N=this._getOrCreateChild(Xl),O=N.createStyle();N.useStyle(O),O.text=f[P],O.x=b,O.y=C,y&&(O.textAlign=y),O.textBaseline="middle",O.opacity=t.opacity,O.strokeFirst=!0,I&&(O.shadowBlur=t.textShadowBlur||0,O.shadowColor=t.textShadowColor||"transparent",O.shadowOffsetX=t.textShadowOffsetX||0,O.shadowOffsetY=t.textShadowOffsetY||0),O.stroke=D,O.fill=T,D&&(O.lineWidth=t.lineWidth||z,O.lineDash=t.lineDash,O.lineDashOffset=t.lineDashOffset||0),O.font=i,aS(O,t),C+=d,A&&N.setBoundingRect(new xt(Ol(O.x,t.width,O.textAlign),is(O.y,k,O.textBaseline),p,k))}},e.prototype._updateRichTexts=function(){var t=this.style,r=function E3(n,e){var t=new O3;if(null!=n&&(n+=""),!n)return t;for(var u,i=e.width,r=e.height,a=e.overflow,o="break"!==a&&"breakAll"!==a||null==i?null:{width:i,accumWidth:0,breakAll:"breakAll"===a},s=Nv.lastIndex=0;null!=(u=Nv.exec(n));){var c=u.index;c>s&&Ov(t,n.substring(s,c),e,o),Ov(t,u[2],e,o,u[1]),s=Nv.lastIndex}s<n.length&&Ov(t,n.substring(s,n.length),e,o);var h=[],p=0,f=0,d=e.padding,v="truncate"===a,g="truncate"===e.lineOverflow;function m(E,V,j){E.width=V,E.lineHeight=j,p+=j,f=Math.max(f,V)}t:for(var y=0;y<t.lines.length;y++){for(var _=t.lines[y],b=0,C=0,x=0;x<_.tokens.length;x++){var z=(S=_.tokens[x]).styleName&&e.rich[S.styleName]||{},w=S.textPadding=z.padding,T=w?w[1]+w[3]:0,D=S.font=z.font||e.font;S.contentHeight=mh(D);var I=mt(z.height,S.contentHeight);if(S.innerHeight=I,w&&(I+=w[0]+w[2]),S.height=I,S.lineHeight=Pi(z.lineHeight,e.lineHeight,I),S.align=z&&z.align||e.align,S.verticalAlign=z&&z.verticalAlign||"middle",g&&null!=r&&p+S.lineHeight>r){x>0?(_.tokens=_.tokens.slice(0,x),m(_,C,b),t.lines=t.lines.slice(0,y+1)):t.lines=t.lines.slice(0,y);break t}var A=z.width,k=null==A||"auto"===A;if("string"==typeof A&&"%"===A.charAt(A.length-1))S.percentWidth=A,h.push(S),S.contentWidth=En(S.text,D);else{if(k){var P=z.backgroundColor,N=P&&P.image;N&&Ch(N=A3(N))&&(S.width=Math.max(S.width,N.width*I/N.height))}var O=v&&null!=i?i-C:null;null!=O&&O<S.width?!k||O<T?(S.text="",S.width=S.contentWidth=0):(S.text=k3(S.text,O-T,D,e.ellipsis,{minChar:e.truncateMinChar}),S.width=S.contentWidth=En(S.text,D)):S.contentWidth=En(S.text,D)}S.width+=T,C+=S.width,z&&(b=Math.max(b,S.lineHeight))}m(_,C,b)}for(t.outerWidth=t.width=mt(i,f),t.outerHeight=t.height=mt(r,p),t.contentHeight=p,t.contentWidth=f,d&&(t.outerWidth+=d[1]+d[3],t.outerHeight+=d[0]+d[2]),y=0;y<h.length;y++){var S;(S=h[y]).width=parseInt(S.percentWidth,10)/100*t.width}return t}(hS(t),t),a=r.width,o=r.outerWidth,s=r.outerHeight,u=t.padding,h=t.y||0,p=this._defaultStyle,d=t.verticalAlign||p.verticalAlign,v=Ol(t.x||0,o,t.align||p.align),g=is(h,s,d),m=v,y=g;u&&(m+=u[3],y+=u[0]);var _=m+a;$v(t)&&this._renderBackground(t,t,v,g,o,s);for(var b=!!t.backgroundColor,C=0;C<r.lines.length;C++){for(var x=r.lines[C],S=x.tokens,z=S.length,w=x.lineHeight,T=x.width,D=0,I=m,A=_,k=z-1,P=void 0;D<z&&(!(P=S[D]).align||"left"===P.align);)this._placeToken(P,t,w,y,I,"left",b),T-=P.width,I+=P.width,D++;for(;k>=0&&"right"===(P=S[k]).align;)this._placeToken(P,t,w,y,A,"right",b),T-=P.width,A-=P.width,k--;for(I+=(a-(I-m)-(_-A)-T)/2;D<=k;)this._placeToken(P=S[D],t,w,y,I+P.width/2,"center",b),I+=P.width,D++;y+=w}},e.prototype._placeToken=function(t,i,r,a,o,s,u){var c=i.rich[t.styleName]||{};c.text=t.text;var h=t.verticalAlign,p=a+r/2;"top"===h?p=a+t.height/2:"bottom"===h&&(p=a+r-t.height/2),!t.isLineHolder&&$v(c)&&this._renderBackground(c,i,"right"===s?o-t.width:"center"===s?o-t.width/2:o,p-t.height/2,t.width,t.height);var d=!!c.backgroundColor,v=t.textPadding;v&&(o=cS(o,s,v),p-=t.height/2-v[0]-t.innerHeight/2);var g=this._getOrCreateChild(Xl),m=g.createStyle();g.useStyle(m);var y=this._defaultStyle,_=!1,b=0,C=uS("fill"in c?c.fill:"fill"in i?i.fill:(_=!0,y.fill)),x=lS("stroke"in c?c.stroke:"stroke"in i?i.stroke:d||u||y.autoStroke&&!_?null:(b=2,y.stroke)),S=c.textShadowBlur>0||i.textShadowBlur>0;m.text=t.text,m.x=o,m.y=p,S&&(m.shadowBlur=c.textShadowBlur||i.textShadowBlur||0,m.shadowColor=c.textShadowColor||i.textShadowColor||"transparent",m.shadowOffsetX=c.textShadowOffsetX||i.textShadowOffsetX||0,m.shadowOffsetY=c.textShadowOffsetY||i.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=t.font||Rr,m.opacity=Pi(c.opacity,i.opacity,1),aS(m,c),x&&(m.lineWidth=Pi(c.lineWidth,i.lineWidth,b),m.lineDash=mt(c.lineDash,i.lineDash),m.lineDashOffset=i.lineDashOffset||0,m.stroke=x),C&&(m.fill=C);var z=t.contentWidth,w=t.contentHeight;g.setBoundingRect(new xt(Ol(m.x,z,m.textAlign),is(m.y,w,m.textBaseline),z,w))},e.prototype._renderBackground=function(t,i,r,a,o,s){var g,m,_,u=t.backgroundColor,c=t.borderWidth,h=t.borderColor,p=u&&u.image,f=u&&!p,d=t.borderRadius,v=this;if(f||t.lineHeight||c&&h){(g=this._getOrCreateChild(Ot)).useStyle(g.createStyle()),g.style.fill=null;var y=g.shape;y.x=r,y.y=a,y.width=o,y.height=s,y.r=d,g.dirtyShape()}if(f)(_=g.style).fill=u||null,_.fillOpacity=mt(t.fillOpacity,1);else if(p){(m=this._getOrCreateChild(Ye)).onload=function(){v.dirtyStyle()};var b=m.style;b.image=u.image,b.x=r,b.y=a,b.width=o,b.height=s}c&&h&&((_=g.style).lineWidth=c,_.stroke=h,_.strokeOpacity=mt(t.strokeOpacity,1),_.lineDash=t.borderDash,_.lineDashOffset=t.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2));var C=(g||m).style;C.shadowBlur=t.shadowBlur||0,C.shadowColor=t.shadowColor||"transparent",C.shadowOffsetX=t.shadowOffsetX||0,C.shadowOffsetY=t.shadowOffsetY||0,C.opacity=Pi(t.opacity,i.opacity,1)},e.makeFont=function(t){var i="";return oS(t)&&(i=[t.fontStyle,t.fontWeight,rS(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),i&&hi(i)||t.textFont||t.font},e}(Wn),f4={left:!0,right:1,center:1},d4={top:1,bottom:1,middle:1},iS=["fontStyle","fontWeight","fontSize","fontFamily"];function rS(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?bd+"px":n+"px":n}function aS(n,e){for(var t=0;t<iS.length;t++){var i=iS[t],r=e[i];null!=r&&(n[i]=r)}}function oS(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}function sS(n){if(n){n.font=nS.makeFont(n);var e=n.align;"middle"===e&&(e="center"),n.align=null==e||f4[e]?e:"left";var t=n.verticalAlign;"center"===t&&(t="middle"),n.verticalAlign=null==t||d4[t]?t:"top",n.padding&&(n.padding=Dd(n.padding))}}function lS(n,e){return null==n||e<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function uS(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function cS(n,e,t){return"right"===e?n-t[1]:"center"===e?n+t[3]/2-t[1]/2:n+t[3]}function hS(n){var e=n.text;return null!=e&&(e+=""),e}function $v(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const Vt=nS;var dt=Nt(),Zv=function(n,e,t,i){if(i){var r=dt(i);r.dataIndex=t,r.dataType=e,r.seriesIndex=n,r.ssrType="chart","group"===i.type&&i.traverse(function(a){var o=dt(a);o.seriesIndex=n,o.dataIndex=t,o.dataType=e,o.ssrType="chart"})}},pS=1,fS={},dS=Nt(),qv=Nt(),Kv=0,jl=1,Mh=2,hn=["emphasis","blur","select"],Yl=["normal","emphasis","blur","select"],ss=10,g4=9,$a="highlight",Ih="downplay",Wl="select",Ah="unselect",Ul="toggleSelect";function ls(n){return null!=n&&"none"!==n}function kh(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function vS(n){kh(n,"emphasis",Mh)}function gS(n){n.hoverState===Mh&&kh(n,"normal",Kv)}function Qv(n){kh(n,"blur",jl)}function mS(n){n.hoverState===jl&&kh(n,"normal",Kv)}function m4(n){n.selected=!0}function y4(n){n.selected=!1}function yS(n,e,t){e(n,t)}function fr(n,e,t){yS(n,e,t),n.isGroup&&n.traverse(function(i){yS(i,e,t)})}function Ph(n,e){switch(e){case"emphasis":n.hoverState=Mh;break;case"normal":n.hoverState=Kv;break;case"blur":n.hoverState=jl;break;case"select":n.selected=!0}}function Jv(n,e){var t=this.states[n];if(this.style){if("emphasis"===n)return function b4(n,e,t,i){var r=t&&zt(t,"select")>=0,a=!1;if(n instanceof It){var o=dS(n),s=r&&o.selectFill||o.normalFill,u=r&&o.selectStroke||o.normalStroke;if(ls(s)||ls(u)){var c=(i=i||{}).style||{};"inherit"===c.fill?(a=!0,i=F({},i),(c=F({},c)).fill=s):!ls(c.fill)&&ls(s)?(a=!0,i=F({},i),(c=F({},c)).fill=ev(s)):!ls(c.stroke)&&ls(u)&&(a||(i=F({},i),c=F({},c)),c.stroke=ev(u)),i.style=c}}return i&&null==i.z2&&(a||(i=F({},i)),i.z2=n.z2+(n.z2EmphasisLift??ss)),i}(this,0,e,t);if("blur"===n)return function S4(n,e,t){var i=zt(n.currentStates,e)>=0,r=n.style.opacity,a=i?null:function _4(n,e,t,i){for(var r=n.style,a={},o=0;o<e.length;o++){var s=e[o];a[s]=r[s]??(i&&i[s])}for(o=0;o<n.animators.length;o++){var c=n.animators[o];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&"style"===c.targetName&&c.saveTo(a,e)}return a}(n,["opacity"],e,{opacity:1}),o=(t=t||{}).style||{};return null==o.opacity&&(t=F({},t),o=F({opacity:i?r:.1*a.opacity},o),t.style=o),t}(this,n,t);if("select"===n)return function C4(n,e,t){return t&&null==t.z2&&((t=F({},t)).z2=n.z2+(n.z2SelectLift??g4)),t}(this,0,t)}return t}function Za(n){n.stateProxy=Jv;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=Jv),t&&(t.stateProxy=Jv)}function _S(n,e){!zS(n,e)&&!n.__highByOuter&&fr(n,vS)}function bS(n,e){!zS(n,e)&&!n.__highByOuter&&fr(n,gS)}function dr(n,e){n.__highByOuter|=1<<(e||0),fr(n,vS)}function vr(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&fr(n,gS)}function CS(n){fr(n,Qv)}function tg(n){fr(n,mS)}function SS(n){fr(n,m4)}function xS(n){fr(n,y4)}function zS(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function wS(n){var e=n.getModel(),t=[],i=[];e.eachComponent(function(r,a){var o=qv(a),s="series"===r,u=s?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!s&&i.push(u),o.isBlured&&(u.group.traverse(function(c){mS(c)}),s&&t.push(a)),o.isBlured=!1}),M(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(t,!1,e)})}function eg(n,e,t,i){var r=i.getModel();function a(c,h){for(var p=0;p<h.length;p++){var f=c.getItemGraphicEl(h[p]);f&&tg(f)}}if(t=t||"coordinateSystem",null!=n&&e&&"none"!==e){var o=r.getSeriesByIndex(n),s=o.coordinateSystem;s&&s.master&&(s=s.master);var u=[];r.eachSeries(function(c){var h=o===c,p=c.coordinateSystem;if(p&&p.master&&(p=p.master),!("series"===t&&!h||"coordinateSystem"===t&&!(p&&s?p===s:h)||"series"===e&&h)){if(i.getViewOfSeriesModel(c).group.traverse(function(m){m.__highByOuter&&h&&"self"===e||Qv(m)}),Ke(e))a(c.getData(),e);else if(ct(e))for(var v=At(e),g=0;g<v.length;g++)a(c.getData(v[g]),e[v[g]]);u.push(c),qv(c).isBlured=!0}}),r.eachComponent(function(c,h){if("series"!==c){var p=i.getViewOfComponentModel(h);p&&p.toggleBlurSeries&&p.toggleBlurSeries(u,!0,r)}})}}function ng(n,e,t){if(null!=n&&null!=e){var i=t.getModel().getComponent(n,e);if(i){qv(i).isBlured=!0;var r=t.getViewOfComponentModel(i);!r||!r.focusBlurEnabled||r.group.traverse(function(a){Qv(a)})}}}function ig(n,e,t,i){var r={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==e||null==t)return r;var a=i.getModel().getComponent(n,e);if(!a)return r;var o=i.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return r;for(var u,s=o.findHighDownDispatchers(t),c=0;c<s.length;c++)if("self"===dt(s[c]).focus){u=!0;break}return{focusSelf:u,dispatchers:s}}function TS(n){M(n.getAllData(),function(t){var r=t.type;t.data.eachItemGraphicEl(function(a,o){n.isSelected(o,r)?SS(a):xS(a)})})}function D4(n){var e=[];return n.eachSeries(function(t){M(t.getAllData(),function(r){var o=r.type,s=t.getSelectedDataIndices();if(s.length>0){var u={dataIndex:s,seriesIndex:t.seriesIndex};null!=o&&(u.dataType=o),e.push(u)}})}),e}function qa(n,e,t){Ka(n,!0),fr(n,Za),rg(n,e,t)}function fe(n,e,t,i){i?function M4(n){Ka(n,!1)}(n):qa(n,e,t)}function rg(n,e,t){var i=dt(n);null!=e?(i.focus=e,i.blurScope=t):i.focus&&(i.focus=null)}var DS=["emphasis","blur","select"],I4={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function We(n,e,t,i){t=t||"itemStyle";for(var r=0;r<DS.length;r++){var a=DS[r],o=e.getModel([a,t]);n.ensureState(a).style=i?i(o):o[I4[t]]()}}function Ka(n,e){var t=!1===e,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!t)}function $l(n){return!(!n||!n.__highDownDispatcher)}function ag(n){var e=n.type;return e===Wl||e===Ah||e===Ul}function MS(n){var e=n.type;return e===$a||e===Ih}var IS=Nt();function us(n,e,t,i,r){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var u="update"===n;if(e&&e.isAnimationEnabled()){var c=void 0,h=void 0,p=void 0;return i?(c=mt(i.duration,200),h=mt(i.easing,"cubicOut"),p=0):(c=e.getShallow(u?"animationDurationUpdate":"animationDuration"),h=e.getShallow(u?"animationEasingUpdate":"animationEasing"),p=e.getShallow(u?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(c=a.duration),null!=a.easing&&(h=a.easing),null!=a.delay&&(p=a.delay)),at(p)&&(p=p(t,r)),at(c)&&(c=c(t)),{duration:c||0,delay:p,easing:h}}return null}function og(n,e,t,i,r,a,o){var u,s=!1;at(r)?(o=a,a=r,r=null):ct(r)&&(a=r.cb,o=r.during,s=r.isFrom,u=r.removeOpt,r=r.dataIndex);var c="leave"===n;c||e.stopAnimation("leave");var h=us(n,i,r,c?u||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(h&&h.duration>0){var v={duration:h.duration,delay:h.delay||0,easing:h.easing,done:a,force:!!a||!!o,setToFinal:!c,scope:n,during:o};s?e.animateFrom(t,v):e.animateTo(t,v)}else e.stopAnimation(),!s&&e.attr(t),o&&o(1),a&&a()}function Gt(n,e,t,i,r,a){og("update",n,e,t,i,r,a)}function le(n,e,t,i,r,a){og("enter",n,e,t,i,r,a)}function cs(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++)if("leave"===n.animators[e].scope)return!0;return!1}function Wr(n,e,t,i,r,a){cs(n)||og("leave",n,e,t,i,r,a)}function AS(n,e,t,i){n.removeTextContent(),n.removeTextGuideLine(),Wr(n,{style:{opacity:0}},e,t,i)}function Zl(n,e,t){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||AS(r,e,t,i)}):AS(n,e,t,i)}function vi(n){IS(n).oldStyle=n.style}var Rh={};function kS(n,e){for(var t=0;t<hn.length;t++){var i=hn[t],r=e[i],a=n.ensureState(i);a.style=a.style||{},a.style.text=r}var o=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(o,!0)}function sg(n,e,t){var s,i=n.labelFetcher,r=n.labelDataIndex,a=n.labelDimIndex,o=e.normal;i&&(s=i.getFormattedLabel(r,"normal",null,a,o&&o.get("formatter"),null!=t?{interpolatedValue:t}:null)),null==s&&(s=at(n.defaultText)?n.defaultText(r,n,t):n.defaultText);for(var u={normal:s},c=0;c<hn.length;c++){var h=hn[c],p=e[h];u[h]=mt(i?i.getFormattedLabel(r,h,null,a,p&&p.get("formatter")):null,s)}return u}function Ue(n,e,t,i){t=t||Rh;for(var r=n instanceof Vt,a=!1,o=0;o<Yl.length;o++)if((s=e[Yl[o]])&&s.getShallow("show")){a=!0;break}var u=r?n:n.getTextContent();if(a){r||(u||(u=new Vt,n.setTextContent(u)),n.stateProxy&&(u.stateProxy=n.stateProxy));var c=sg(t,e),h=e.normal,p=!!h.getShallow("show"),f=te(h,i&&i.normal,t,!1,!r);for(f.text=c.normal,r||n.setTextConfig(Nh(h,t,!1)),o=0;o<hn.length;o++){var s,d=hn[o];if(s=e[d]){var v=u.ensureState(d),g=!!mt(s.getShallow("show"),p);g!==p&&(v.ignore=!g),v.style=te(s,i&&i[d],t,!0,!r),v.style.text=c[d],r||(n.ensureState(d).textConfig=Nh(s,t,!0))}}u.silent=!!h.getShallow("silent"),null!=u.style.x&&(f.x=u.style.x),null!=u.style.y&&(f.y=u.style.y),u.ignore=!p,u.useStyle(f),u.dirty(),t.enableTextSetter&&(hs(u).setLabelText=function(y){var _=sg(t,e,y);kS(u,_)})}else u&&(u.ignore=!0);n.dirty()}function Oe(n,e){for(var t={normal:n.getModel(e=e||"label")},i=0;i<hn.length;i++){var r=hn[i];t[r]=n.getModel([r,e])}return t}function te(n,e,t,i,r){var a={};return function N4(n,e,t,i,r){t=t||Rh;var u,a=e.ecModel,o=a&&a.option.textStyle,s=function O4(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||Rh).rich;if(t){e=e||{};for(var i=At(t),r=0;r<i.length;r++)e[i[r]]=1}n=n.parentModel}return e}(e);if(s)for(var c in u={},s)if(s.hasOwnProperty(c)){var h=e.getModel(["rich",c]);OS(u[c]={},h,o,t,i,r,!1,!0)}u&&(n.rich=u);var p=e.get("overflow");p&&(n.overflow=p);var f=e.get("minMargin");null!=f&&(n.margin=f),OS(n,e,o,t,i,r,!0,!1)}(a,n,t,i,r),e&&F(a,e),a}function Nh(n,e,t){e=e||{};var r,i={},a=n.getShallow("rotate"),o=mt(n.getShallow("distance"),t?null:5),s=n.getShallow("offset");return"outside"===(r=n.getShallow("position")||(t?null:"inside"))&&(r=e.defaultOutsidePosition||"top"),null!=r&&(i.position=r),null!=s&&(i.offset=s),null!=a&&(a*=Math.PI/180,i.rotation=a),null!=o&&(i.distance=o),i.outsideFill="inherit"===n.get("color")?e.inheritColor||null:"auto",i}var PS=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],RS=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],NS=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function OS(n,e,t,i,r,a,o,s){t=!r&&t||Rh;var u=i&&i.inheritColor,c=e.getShallow("color"),h=e.getShallow("textBorderColor"),p=mt(e.getShallow("opacity"),t.opacity);("inherit"===c||"auto"===c)&&(c=u||null),("inherit"===h||"auto"===h)&&(h=u||null),a||(c=c||t.color,h=h||t.textBorderColor),null!=c&&(n.fill=c),null!=h&&(n.stroke=h);var f=mt(e.getShallow("textBorderWidth"),t.textBorderWidth);null!=f&&(n.lineWidth=f);var d=mt(e.getShallow("textBorderType"),t.textBorderType);null!=d&&(n.lineDash=d);var v=mt(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);null!=v&&(n.lineDashOffset=v),!r&&null==p&&!s&&(p=i&&i.defaultOpacity),null!=p&&(n.opacity=p),!r&&!a&&null==n.fill&&i.inheritColor&&(n.fill=i.inheritColor);for(var g=0;g<PS.length;g++)null!=(y=mt(e.getShallow(m=PS[g]),t[m]))&&(n[m]=y);for(g=0;g<RS.length;g++)null!=(y=e.getShallow(m=RS[g]))&&(n[m]=y);if(null==n.verticalAlign){var _=e.getShallow("baseline");null!=_&&(n.verticalAlign=_)}if(!o||!i.disableBox){for(g=0;g<NS.length;g++){var m,y;null!=(y=e.getShallow(m=NS[g]))&&(n[m]=y)}var b=e.getShallow("borderType");null!=b&&(n.borderDash=b),("auto"===n.backgroundColor||"inherit"===n.backgroundColor)&&u&&(n.backgroundColor=u),("auto"===n.borderColor||"inherit"===n.borderColor)&&u&&(n.borderColor=u)}}function lg(n,e){var t=e&&e.getModel("textStyle");return hi([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var hs=Nt();function ES(n,e,t,i){if(n){var r=hs(n);r.prevValue=r.value,r.value=t;var a=e.normal;r.valueAnimation=a.get("valueAnimation"),r.valueAnimation&&(r.precision=a.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function LS(n,e,t,i,r){var a=hs(n);if(a.valueAnimation&&a.prevValue!==a.value){var o=a.defaultInterpolatedText,s=mt(a.interpolatedValue,a.prevValue),u=a.value;n.percent=0,(null==a.prevValue?le:Gt)(n,{percent:1},i,e,null,function c(h){var p=NC(t,a.precision,s,u,h);a.interpolatedValue=1===h?null:p;var f=sg({labelDataIndex:e,labelFetcher:r,defaultText:o?o(p):p+""},a.statesModels,p);kS(n,f)})}}var E4=["textStyle","color"],ug=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],cg=new Vt,L4=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(E4):null)},n.prototype.getFont=function(){return lg({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<ug.length;i++)t[ug[i]]=this.getShallow(ug[i]);return cg.useStyle(t),cg.update(),cg.getBoundingRect()},n}();const B4=L4;var BS=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],V4=Va(BS),F4=function(){function n(){}return n.prototype.getLineStyle=function(e){return V4(this,e)},n}(),VS=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],G4=Va(VS),H4=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return G4(this,e,t)},n}(),Qa=function(){function n(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}return n.prototype.init=function(e,t,i){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a]},n.prototype.mergeOption=function(e,t){St(this.option,e,!0)},n.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var i=this.option,r=null==i?i:i[e];if(null==r&&!t){var a=this.parentModel;a&&(r=a.getShallow(e))}return r},n.prototype.getModel=function(e,t){var i=null!=e,r=i?this.parsePath(e):null;return new n(i?this._doGet(r):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new(0,this.constructor)(ht(this.option))},n.prototype.parsePath=function(e){return"string"==typeof e?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Lt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var i=this.option;if(!e)return i;for(var r=0;r<e.length&&(!e[r]||null!=(i=i&&"object"==typeof i?i[e[r]]:null));r++);return null==i&&t&&(i=t._doGet(this.resolveParentPath(e),t.parentModel)),i},n}();kv(Qa),function z3(n){var e=["__\0is_clz",x3++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!(!t||!t[e])}}(Qa),Te(Qa,F4),Te(Qa,H4),Te(Qa,I3),Te(Qa,B4);const ee=Qa;var X4=Math.round(10*Math.random());function ps(n){return[n||"",X4++].join("_")}function Ur(n,e){return St(St({},n,!0),e,!0)}var fs="EN",Eh={},pg={},FS=Lt.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||fs).toUpperCase().indexOf("ZH")>-1?"ZH":fs;function GS(n,e){n=n.toUpperCase(),pg[n]=new ee(e),Eh[n]=e}function fg(n){return pg[n]}GS("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),GS("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe",custom:"\u81ea\u5b9a\u4e49\u56fe\u8868",chart:"\u56fe\u8868"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var ql=36e5,$n=24*ql,HS=365*$n,Kl={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Lh="{yyyy}-{MM}-{dd}",XS={year:"{yyyy}",month:"{yyyy}-{MM}",day:Lh,hour:Lh+" "+Kl.hour,minute:Lh+" "+Kl.minute,second:Lh+" "+Kl.second,millisecond:Kl.none},gg=["year","month","day","hour","minute","second","millisecond"],jS=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function $r(n,e){return"0000".substr(0,e-(n+="").length)+n}function ds(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function q4(n){return n===ds(n)}function Bh(n,e,t,i){var r=Bi(n),a=r[mg(t)](),o=r[vs(t)]()+1,s=Math.floor((o-1)/3)+1,u=r[Vh(t)](),c=r["get"+(t?"UTC":"")+"Day"](),h=r[Ql(t)](),p=(h-1)%12+1,f=r[Fh(t)](),d=r[Gh(t)](),v=r[Hh(t)](),m=(i instanceof ee?i:fg(i||FS)||function Z4(){return pg[fs]}()).getModel("time"),y=m.get("month"),_=m.get("monthAbbr"),b=m.get("dayOfWeek"),C=m.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,$r(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,y[o-1]).replace(/{MMM}/g,_[o-1]).replace(/{MM}/g,$r(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,$r(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,b[c]).replace(/{ee}/g,C[c]).replace(/{e}/g,c+"").replace(/{HH}/g,$r(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,$r(p+"",2)).replace(/{h}/g,p+"").replace(/{mm}/g,$r(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,$r(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,$r(v,3)).replace(/{S}/g,v+"")}function YS(n,e){var t=Bi(n),i=t[vs(e)]()+1,r=t[Vh(e)](),a=t[Ql(e)](),o=t[Fh(e)](),s=t[Gh(e)](),c=0===t[Hh(e)](),h=c&&0===s,p=h&&0===o,f=p&&0===a,d=f&&1===r;return d&&1===i?"year":d?"month":f?"day":p?"hour":h?"minute":c?"second":"millisecond"}function WS(n,e,t){var i=Bt(n)?Bi(n):n;switch(e=e||YS(n,t)){case"year":return i[mg(t)]();case"half-year":return i[vs(t)]()>=6?1:0;case"quarter":return Math.floor((i[vs(t)]()+1)/4);case"month":return i[vs(t)]();case"day":return i[Vh(t)]();case"half-day":return i[Ql(t)]()/24;case"hour":return i[Ql(t)]();case"minute":return i[Fh(t)]();case"second":return i[Gh(t)]();case"millisecond":return i[Hh(t)]()}}function mg(n){return n?"getUTCFullYear":"getFullYear"}function vs(n){return n?"getUTCMonth":"getMonth"}function Vh(n){return n?"getUTCDate":"getDate"}function Ql(n){return n?"getUTCHours":"getHours"}function Fh(n){return n?"getUTCMinutes":"getMinutes"}function Gh(n){return n?"getUTCSeconds":"getSeconds"}function Hh(n){return n?"getUTCMilliseconds":"getMilliseconds"}function J4(n){return n?"setUTCFullYear":"setFullYear"}function US(n){return n?"setUTCMonth":"setMonth"}function $S(n){return n?"setUTCDate":"setDate"}function ZS(n){return n?"setUTCHours":"setHours"}function qS(n){return n?"setUTCMinutes":"setMinutes"}function KS(n){return n?"setUTCSeconds":"setSeconds"}function QS(n){return n?"setUTCMilliseconds":"setMilliseconds"}function JS(n){if(!xC(n))return Q(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function tx(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var gs=Dd;function yg(n,e,t){function r(h){return h&&hi(h)?h:"-"}function a(h){return!(null==h||isNaN(h)||!isFinite(h))}var o="time"===e,s=n instanceof Date;if(o||s){var u=o?Bi(n):n;if(!isNaN(+u))return Bh(u,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",t);if(s)return"-"}if("ordinal"===e)return wd(n)?r(n):Bt(n)&&a(n)?n+"":"-";var c=cr(n);return a(c)?JS(c):wd(n)?r(n):"boolean"==typeof n?n+"":"-"}var ex=["a","b","c","d","e","f","g"],_g=function(n,e){return"{"+n+(e??"")+"}"};function nx(n,e,t){H(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],a=0;a<r.length;a++){var o=ex[a];n=n.replace(_g(o),_g(o,0))}for(var s=0;s<i;s++)for(var u=0;u<r.length;u++){var c=e[s][r[u]];n=n.replace(_g(ex[u],s),t?Cn(c):c)}return n}function Ja(n,e){return e=e||"transparent",Q(n)?n:ct(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function Xh(n,e){if("_blank"===e||"blank"===e){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var jh=M,ix=["left","right","top","bottom","width","height"],to=[["width","left","right"],["height","top","bottom"]];function bg(n,e,t,i,r){var a=0,o=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild(function(u,c){var d,v,h=u.getBoundingRect(),p=e.childAt(c+1),f=p&&p.getBoundingRect();if("horizontal"===n){var g=h.width+(f?-f.x+h.x:0);(d=a+g)>i||u.newline?(a=0,d=g,o+=s+t,s=h.height):s=Math.max(s,h.height)}else{var m=h.height+(f?-f.y+h.y:0);(v=o+m)>r||u.newline?(a+=s+t,o=0,v=m,s=h.width):s=Math.max(s,h.width)}u.newline||(u.x=a,u.y=o,u.markRedraw(),"horizontal"===n?a=d+t:o=v+t)})}var eo=bg;function ke(n,e,t){t=gs(t||0);var i=e.width,r=e.height,a=q(n.left,i),o=q(n.top,r),s=q(n.right,i),u=q(n.bottom,r),c=q(n.width,i),h=q(n.height,r),p=t[2]+t[0],f=t[1]+t[3],d=n.aspect;switch(isNaN(c)&&(c=i-s-f-a),isNaN(h)&&(h=r-u-p-o),null!=d&&(isNaN(c)&&isNaN(h)&&(d>i/r?c=.8*i:h=.8*r),isNaN(c)&&(c=d*h),isNaN(h)&&(h=c/d)),isNaN(a)&&(a=i-s-c-f),isNaN(o)&&(o=r-u-h-p),n.left||n.right){case"center":a=i/2-c/2-t[3];break;case"right":a=i-c-f}switch(n.top||n.bottom){case"middle":case"center":o=r/2-h/2-t[0];break;case"bottom":o=r-h-p}a=a||0,o=o||0,isNaN(c)&&(c=i-f-a-(s||0)),isNaN(h)&&(h=r-p-o-(u||0));var v=new xt(a+t[3],o+t[0],c,h);return v.margin=t,v}function Yh(n,e,t,i,r,a){var c,o=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],u=r&&r.boundingMode||"all";if((a=a||n).x=n.x,a.y=n.y,!o&&!s)return!1;if("raw"===u)c="group"===n.type?new xt(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(c=n.getBoundingRect(),n.needLocalTransform()){var h=n.getLocalTransform();(c=c.clone()).applyTransform(h)}var p=ke(lt({width:c.width,height:c.height},e),t,i),f=o?p.x-c.x:0,d=s?p.y-c.y:0;return"raw"===u?(a.x=f,a.y=d):(a.x+=f,a.y+=d),a===n&&n.markRedraw(),!0}function Jl(n){var e=n.layoutMode||n.constructor.layoutMode;return ct(e)?e:e?{type:e}:null}function Zr(n,e,t){var i=t&&t.ignoreSize;!H(i)&&(i=[i,i]);var r=o(to[0],0),a=o(to[1],1);function o(h,p){var f={},d=0,v={},g=0;if(jh(h,function(b){v[b]=n[b]}),jh(h,function(b){s(e,b)&&(f[b]=v[b]=e[b]),u(f,b)&&d++,u(v,b)&&g++}),i[p])return u(e,h[1])?v[h[2]]=null:u(e,h[2])&&(v[h[1]]=null),v;if(2===g||!d)return v;if(d>=2)return f;for(var y=0;y<h.length;y++){var _=h[y];if(!s(f,_)&&s(n,_)){f[_]=n[_];break}}return f}function s(h,p){return h.hasOwnProperty(p)}function u(h,p){return null!=h[p]&&"auto"!==h[p]}function c(h,p,f){jh(h,function(d){p[d]=f[d]})}c(to[0],n,r),c(to[1],n,a)}function ms(n){return rx({},n)}function rx(n,e){return e&&n&&jh(ix,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}yt(bg,"vertical"),yt(bg,"horizontal");var r5=Nt(),ys=function(n){function e(t,i,r){var a=n.call(this,t,i,r)||this;return a.uid=ps("ec_cpt_model"),a}return B(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=Jl(this),a=r?ms(t):{};St(t,i.getTheme().get(this.mainType)),St(t,this.getDefaultOption()),r&&Zr(t,a,r)},e.prototype.mergeOption=function(t,i){St(this.option,t,!0);var r=Jl(this);r&&Zr(this.option,t,r)},e.prototype.optionUpdated=function(t,i){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!function C3(n){return!(!n||!n[OC])}(t))return t.defaultOption;var i=r5(this);if(!i.defaultOption){for(var r=[],a=t;a;){var o=a.prototype.defaultOption;o&&r.push(o),a=a.superClass}for(var s={},u=r.length-1;u>=0;u--)s=St(s,r[u],!0);i.defaultOption=s}return i.defaultOption},e.prototype.getReferringComponents=function(t,i){var a=t+"Id";return Fl(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(a,!0)},i)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=((t=e.prototype).type="component",t.id="",t.name="",t.mainType="",t.subType="",void(t.componentIndex=0)),e;var t}(ee);EC(ys,ee),bh(ys),function j4(n){var e={};n.registerSubTypeDefaulter=function(t,i){var r=Vi(t);e[r.main]=i},n.determineSubType=function(t,i){var r=i.type;if(!r){var a=Vi(t).main;n.hasSubTypes(t)&&e[a]&&(r=e[a](i))}return r}}(ys),function Y4(n,e){function i(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}n.topologicalTravel=function(a,o,s,u){if(a.length){var c=function t(a){var o={},s=[];return M(a,function(u){var c=i(o,u),p=function r(a,o){var s=[];return M(a,function(u){zt(o,u)>=0&&s.push(u)}),s}(c.originalDeps=e(u),a);c.entryCount=p.length,0===c.entryCount&&s.push(u),M(p,function(f){zt(c.predecessor,f)<0&&c.predecessor.push(f);var d=i(o,f);zt(d.successor,f)<0&&d.successor.push(u)})}),{graph:o,noEntryList:s}}(o),h=c.graph,p=c.noEntryList,f={};for(M(a,function(_){f[_]=!0});p.length;){var d=p.pop(),v=h[d],g=!!f[d];g&&(s.call(u,d,v.originalDeps.slice()),delete f[d]),M(v.successor,g?y:m)}M(f,function(){throw new Error("")})}function m(_){h[_].entryCount--,0===h[_].entryCount&&p.push(_)}function y(_){f[_]=!0,m(_)}}}(ys,function a5(n){var e=[];return M(ys.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=X(e,function(t){return Vi(t).main}),"dataset"!==n&&zt(e,"dataset")<=0&&e.unshift("dataset"),e});const Ft=ys;var ax="";typeof navigator<"u"&&(ax=navigator.platform||"");var _s="rgba(0, 0, 0, 0.2)";const o5={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:_s,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:_s,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:_s,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:_s,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:_s,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:_s,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:ax.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var ox=nt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Zn="original",Qe="arrayRows",qn="objectRows",ji="keyedColumns",gr="typedArray",sx="unknown",Yi="column",bs="row",$e={Must:1,Might:2,Not:3},lx=Nt();function ux(n,e,t){var i={},r=Sg(e);if(!r||!n)return i;var h,p,a=[],o=[],u=lx(e.ecModel).datasetMap,c=r.uid+"_"+t.seriesLayoutBy;M(n=n.slice(),function(g,m){var y=ct(g)?g:n[m]={name:g};"ordinal"===y.type&&null==h&&(h=m,p=v(y)),i[y.name]=[]});var f=u.get(c)||u.set(c,{categoryWayDim:p,valueWayDim:0});function d(g,m,y){for(var _=0;_<y;_++)g.push(m+_)}function v(g){var m=g.dimsDef;return m?m.length:1}return M(n,function(g,m){var y=g.name,_=v(g);if(null==h)d(i[y],b=f.valueWayDim,_),d(o,b,_),f.valueWayDim+=_;else if(h===m)d(i[y],0,_),d(a,0,_);else{var b;d(i[y],b=f.categoryWayDim,_),d(o,b,_),f.categoryWayDim+=_}}),a.length&&(i.itemName=a),o.length&&(i.seriesName=o),i}function Cg(n,e,t){var i={};if(!Sg(n))return i;var s,a=e.sourceFormat,o=e.dimensionsDefine;(a===qn||a===ji)&&M(o,function(h,p){"name"===(ct(h)?h.name:h)&&(s=p)});var u=function(){for(var h={},p={},f=[],d=0,v=Math.min(5,t);d<v;d++){var g=hx(e.data,a,e.seriesLayoutBy,o,e.startIndex,d);f.push(g);var m=g===$e.Not;if(m&&null==h.v&&d!==s&&(h.v=d),(null==h.n||h.n===h.v||!m&&f[h.n]===$e.Not)&&(h.n=d),y(h)&&f[h.n]!==$e.Not)return h;m||(g===$e.Might&&null==p.v&&d!==s&&(p.v=d),(null==p.n||p.n===p.v)&&(p.n=d))}function y(_){return null!=_.v&&null!=_.n}return y(h)?h:y(p)?p:null}();if(u){i.value=[u.v];var c=s??u.n;i.itemName=[c],i.seriesName=[c]}return i}function Sg(n){if(!n.get("data",!0))return Fl(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},De).models[0]}function cx(n,e){return hx(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function hx(n,e,t,i,r,a){var o,u,c;if(bn(n))return $e.Not;if(i){var h=i[a];ct(h)?(u=h.name,c=h.type):Q(h)&&(u=h)}if(null!=c)return"ordinal"===c?$e.Must:$e.Not;if(e===Qe){var p=n;if(t===bs){for(var f=p[a],d=0;d<(f||[]).length&&d<5;d++)if(null!=(o=C(f[r+d])))return o}else for(d=0;d<p.length&&d<5;d++){var v=p[r+d];if(v&&null!=(o=C(v[a])))return o}}else if(e===qn){var g=n;if(!u)return $e.Not;for(d=0;d<g.length&&d<5;d++)if((m=g[d])&&null!=(o=C(m[u])))return o}else if(e===ji){if(!u)return $e.Not;if(!(f=n[u])||bn(f))return $e.Not;for(d=0;d<f.length&&d<5;d++)if(null!=(o=C(f[d])))return o}else if(e===Zn){var _=n;for(d=0;d<_.length&&d<5;d++){var m,b=as(m=_[d]);if(!H(b))return $e.Not;if(null!=(o=C(b[a])))return o}}function C(x){var S=Q(x);return null!=x&&isFinite(x)&&""!==x?S?$e.Might:$e.Not:S&&"-"!==x?$e.Must:void 0}return $e.Not}var xg=nt(),px=Nt(),h5=Nt(),zg=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,i){var r=Zt(this.get("color",!0)),a=this.get("colorLayer",!0);return fx(this,px,r,a,e,t,i)},n.prototype.clearColorPalette=function(){!function f5(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}(this,px)},n}();function wg(n,e,t,i){var r=Zt(n.get(["aria","decal","decals"]));return fx(n,h5,r,null,e,t,i)}function fx(n,e,t,i,r,a,o){var s=e(a=a||n),u=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(r))return c[r];var h=null!=o&&i?function p5(n,e){for(var t=n.length,i=0;i<t;i++)if(n[i].length>e)return n[i];return n[t-1]}(i,o):t;if((h=h||t)&&h.length){var p=h[u];return r&&(c[r]=p),s.paletteIdx=(u+1)%h.length,p}}var Wh,tu,dx,vx="\0_ec_inner",mx=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.init=function(t,i,r,a,o,s){a=a||{},this.option=null,this._theme=new ee(a),this._locale=new ee(o),this._optionManager=s},e.prototype.setOption=function(t,i,r){var a=bx(i);this._optionManager.setOption(t,r,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,i){return this._resetOption(t,bx(i))},e.prototype._resetOption=function(t,i){var r=!1,a=this._optionManager;if(!t||"recreate"===t){var o=a.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(o,i)):dx(this,o),r=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var s=a.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,i))}if(!t||"recreate"===t||"media"===t){var u=a.getMediaOption(this);u.length&&M(u,function(c){r=!0,this._mergeOption(c,i)},this)}return r},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,i){var r=this.option,a=this._componentsMap,o=this._componentsCount,s=[],u=nt(),c=i&&i.replaceMergeMainTypeMap;(function s5(n){lx(n).datasetMap=nt()})(this),M(t,function(p,f){null!=p&&(Ft.hasClass(f)?f&&(s.push(f),u.set(f,!0)):r[f]=null==r[f]?ht(p):St(r[f],p,!0))}),c&&c.each(function(p,f){Ft.hasClass(f)&&!u.get(f)&&(s.push(f),u.set(f,!0))}),Ft.topologicalTravel(s,Ft.getAllClassMainTypes(),function h(p){var f=function c5(n,e,t){var i=xg.get(e);if(!i)return t;var r=i(n);return r?t.concat(r):t}(this,p,Zt(t[p])),d=a.get(p),g=kC(d,f,d?c&&c.get(p)?"replaceMerge":"normalMerge":"replaceAll");(function p3(n,e,t){M(n,function(i){var r=i.newOption;ct(r)&&(i.keyInfo.mainType=e,i.keyInfo.subType=function f3(n,e,t,i){return e.type?e.type:t?t.subType:i.determineSubType(n,e)}(e,r,i.existing,t))})})(g,p,Ft),r[p]=null,a.set(p,null),o.set(p,0);var b,m=[],y=[],_=0;M(g,function(x,S){var z=x.existing,w=x.newOption;if(w){var D=Ft.getClass(p,x.keyInfo.subType,!("series"===p));if(!D)return;if("tooltip"===p){if(b)return;b=!0}if(z&&z.constructor===D)z.name=x.keyInfo.name,z.mergeOption(w,this),z.optionUpdated(w,!1);else{var k=F({componentIndex:S},x.keyInfo);F(z=new D(w,this,this,k),k),x.brandNew&&(z.__requireNewView=!0),z.init(w,this,this),z.optionUpdated(null,!0)}}else z&&(z.mergeOption({},this),z.optionUpdated({},!1));z?(m.push(z.option),y.push(z),_++):(m.push(void 0),y.push(void 0))},this),r[p]=m,a.set(p,y),o.set(p,_),"series"===p&&Wh(this)},this),this._seriesIndices||Wh(this)},e.prototype.getOption=function(){var t=ht(this.option);return M(t,function(i,r){if(Ft.hasClass(r)){for(var a=Zt(i),o=a.length,s=!1,u=o-1;u>=0;u--)a[u]&&!Bl(a[u])?s=!0:(a[u]=null,!s&&o--);a.length=o,t[r]=a}}),delete t[vx],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,i){var r=this._componentsMap.get(t);if(r){var a=r[i||0];if(a)return a;if(null==i)for(var o=0;o<r.length;o++)if(r[o])return r[o]}},e.prototype.queryComponents=function(t){var i=t.mainType;if(!i)return[];var u,r=t.index,a=t.id,o=t.name,s=this._componentsMap.get(i);return s&&s.length?(null!=r?(u=[],M(Zt(r),function(c){s[c]&&u.push(s[c])})):u=null!=a?yx("id",a,s):null!=o?yx("name",o,s):Ut(s,function(c){return!!c}),_x(u,t)):[]},e.prototype.findComponents=function(t){var r=t.mainType,a=function s(c){var h=r+"Index",p=r+"Id",f=r+"Name";return!c||null==c[h]&&null==c[p]&&null==c[f]?null:{mainType:r,index:c[h],id:c[p],name:c[f]}}(t.query);return function u(c){return t.filter?Ut(c,t.filter):c}(_x(a?this.queryComponents(a):Ut(this._componentsMap.get(r),function(c){return!!c}),t))},e.prototype.eachComponent=function(t,i,r){var a=this._componentsMap;if(at(t)){var o=i,s=t;a.each(function(p,f){for(var d=0;p&&d<p.length;d++){var v=p[d];v&&s.call(o,f,v,v.componentIndex)}})}else for(var u=Q(t)?a.get(t):ct(t)?this.findComponents(t):null,c=0;u&&c<u.length;c++){var h=u[c];h&&i.call(r,h,h.componentIndex)}},e.prototype.getSeriesByName=function(t){var i=Ae(t,null);return Ut(this._componentsMap.get("series"),function(r){return!!r&&null!=i&&r.name===i})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Ut(this._componentsMap.get("series"),function(i){return!!i&&i.subType===t})},e.prototype.getSeries=function(){return Ut(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,i){tu(this),M(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];t.call(i,a,r)},this)},e.prototype.eachRawSeries=function(t,i){M(this._componentsMap.get("series"),function(r){r&&t.call(i,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(t,i,r){tu(this),M(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===t&&i.call(r,o,a)},this)},e.prototype.eachRawSeriesByType=function(t,i,r){return M(this.getSeriesByType(t),i,r)},e.prototype.isSeriesFiltered=function(t){return tu(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,i){tu(this);var r=[];M(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];t.call(i,o,a)&&r.push(a)},this),this._seriesIndices=r,this._seriesIndicesMap=nt(r)},e.prototype.restoreData=function(t){Wh(this);var i=this._componentsMap,r=[];i.each(function(a,o){Ft.hasClass(o)&&r.push(o)}),Ft.topologicalTravel(r,Ft.getAllClassMainTypes(),function(a){M(i.get(a),function(o){o&&("series"!==a||!function g5(n,e){if(e){var t=e.seriesIndex,i=e.seriesId,r=e.seriesName;return null!=t&&n.componentIndex!==t||null!=i&&n.id!==i||null!=r&&n.name!==r}}(o,t))&&o.restoreData()})})},e.internalField=(Wh=function(t){var i=t._seriesIndices=[];M(t._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),t._seriesIndicesMap=nt(i)},tu=function(t){},void(dx=function(t,i){t.option={},t.option[vx]=1,t._componentsMap=nt({series:[]}),t._componentsCount=nt();var r=i.aria;ct(r)&&null==r.enabled&&(r.enabled=!0),function m5(n,e){var t=n.color&&!n.colorLayer;M(e,function(i,r){"colorLayer"===r&&t||Ft.hasClass(r)||("object"==typeof i?n[r]=n[r]?St(n[r],i,!1):ht(i):null==n[r]&&(n[r]=i))})}(i,t._theme.option),St(i,o5,!1),t._mergeOption(i,null)})),e}(ee);function yx(n,e,t){if(H(e)){var i=nt();return M(e,function(a){null!=a&&null!=Ae(a,null)&&i.set(a,!0)}),Ut(t,function(a){return a&&i.get(a[n])})}var r=Ae(e,null);return Ut(t,function(a){return a&&null!=r&&a[n]===r})}function _x(n,e){return e.hasOwnProperty("subType")?Ut(n,function(t){return t&&t.subType===e.subType}):n}function bx(n){var e=nt();return n&&M(Zt(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Te(mx,zg);const Cx=mx;var y5=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const Sx=function(){return function n(e){M(y5,function(t){this[t]=J(e[t],e)},this)}}();var Tg={},b5=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var i=[];M(Tg,function(r,a){var o=r.create(e,t);i=i.concat(o||[])}),this._coordinateSystems=i},n.prototype.update=function(e,t){M(this._coordinateSystems,function(i){i.update&&i.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){Tg[e]=t},n.get=function(e){return Tg[e]},n}();const eu=b5;var C5=/^(min|max)?(.+)$/,S5=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,i){e&&(M(Zt(e.series),function(o){o&&o.data&&bn(o.data)&&Xc(o.data)}),M(Zt(e.dataset),function(o){o&&o.source&&bn(o.source)&&Xc(o.source)})),e=ht(e);var r=this._optionBackup,a=function x5(n,e,t){var r,a,i=[],o=n.baseOption,s=n.timeline,u=n.options,c=n.media,h=!!n.media,p=!!(u||s||o&&o.timeline);function f(d){M(e,function(v){v(d,t)})}return o?(a=o).timeline||(a.timeline=s):((p||h)&&(n.options=n.media=null),a=n),h&&H(c)&&M(c,function(d){d&&d.option&&(d.query?i.push(d):r||(r=d))}),f(a),M(u,function(d){return f(d)}),M(i,function(d){return f(d.option)}),{baseOption:a,timelineOptions:u||[],mediaDefault:r,mediaList:i}}(e,t,!r);this._newBaseOption=a.baseOption,r?(a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],ht(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,i=this._timelineOptions;if(i.length){var r=e.getComponent("timeline");r&&(t=ht(i[r.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),i=this._api.getHeight(),r=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!r.length&&!a)return s;for(var u=0,c=r.length;u<c;u++)z5(r[u].query,t,i)&&o.push(u);return!o.length&&a&&(o=[-1]),o.length&&!function T5(n,e){return n.join(",")===e.join(",")}(o,this._currentMediaIndices)&&(s=X(o,function(h){return ht(-1===h?a.option:r[h].option)})),this._currentMediaIndices=o,s},n}();function z5(n,e,t){var i={width:e,height:t,aspectratio:e/t},r=!0;return M(n,function(a,o){var s=o.match(C5);if(s&&s[1]&&s[2]){var u=s[1],c=s[2].toLowerCase();(function w5(n,e,t){return"min"===t?n>=e:"max"===t?n<=e:n===e})(i[c],a,u)||(r=!1)}}),r}const D5=S5;var gi=M,nu=ct,xx=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Dg(n){var e=n&&n.itemStyle;if(e)for(var t=0,i=xx.length;t<i;t++){var r=xx[t],a=e.normal,o=e.emphasis;a&&a[r]&&(n[r]=n[r]||{},n[r].normal?St(n[r].normal,a[r]):n[r].normal=a[r],a[r]=null),o&&o[r]&&(n[r]=n[r]||{},n[r].emphasis?St(n[r].emphasis,o[r]):n[r].emphasis=o[r],o[r]=null)}}function Je(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var i=n[e].normal,r=n[e].emphasis;i&&(t?(n[e].normal=n[e].emphasis=null,lt(n[e],i)):n[e]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[e]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function iu(n){Je(n,"itemStyle"),Je(n,"lineStyle"),Je(n,"areaStyle"),Je(n,"label"),Je(n,"labelLine"),Je(n,"upperLabel"),Je(n,"edgeLabel")}function Me(n,e){var t=nu(n)&&n[e],i=nu(t)&&t.textStyle;if(i)for(var r=0,a=AC.length;r<a;r++){var o=AC[r];i.hasOwnProperty(o)&&(t[o]=i[o])}}function Kn(n){n&&(iu(n),Me(n,"label"),n.emphasis&&Me(n.emphasis,"label"))}function mr(n){return H(n)?n:n?[n]:[]}function zx(n){return(H(n)?n[0]:n)||{}}function Tx(n){n&&M(P5,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var P5=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],R5=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Mg=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ru(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<Mg.length;t++){var i=Mg[t][1];null!=e[i]&&(e[Mg[t][0]]=e[i])}}function Dx(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function Mx(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function Ix(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&Ix(n[t].children,e)}function Ax(n,e){(function I5(n,e){gi(mr(n.series),function(i){nu(i)&&function M5(n){if(nu(n)){Dg(n),iu(n),Me(n,"label"),Me(n,"upperLabel"),Me(n,"edgeLabel"),n.emphasis&&(Me(n.emphasis,"label"),Me(n.emphasis,"upperLabel"),Me(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(Dg(e),Kn(e));var t=n.markLine;t&&(Dg(t),Kn(t));var i=n.markArea;i&&Kn(i);var r=n.data;if("graph"===n.type){r=r||n.nodes;var a=n.links||n.edges;if(a&&!bn(a))for(var o=0;o<a.length;o++)Kn(a[o]);M(n.categories,function(c){iu(c)})}if(r&&!bn(r))for(o=0;o<r.length;o++)Kn(r[o]);if((e=n.markPoint)&&e.data){var s=e.data;for(o=0;o<s.length;o++)Kn(s[o])}if((t=n.markLine)&&t.data){var u=t.data;for(o=0;o<u.length;o++)H(u[o])?(Kn(u[o][0]),Kn(u[o][1])):Kn(u[o])}"gauge"===n.type?(Me(n,"axisLabel"),Me(n,"title"),Me(n,"detail")):"treemap"===n.type?(Je(n.breadcrumb,"itemStyle"),M(n.levels,function(c){iu(c)})):"tree"===n.type&&iu(n.leaves)}}(i)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),gi(t,function(i){gi(mr(n[i]),function(r){r&&(Me(r,"axisLabel"),Me(r.axisPointer,"label"))})}),gi(mr(n.parallel),function(i){var r=i&&i.parallelAxisDefault;Me(r,"axisLabel"),Me(r&&r.axisPointer,"label")}),gi(mr(n.calendar),function(i){Je(i,"itemStyle"),Me(i,"dayLabel"),Me(i,"monthLabel"),Me(i,"yearLabel")}),gi(mr(n.radar),function(i){Me(i,"name"),i.name&&null==i.axisName&&(i.axisName=i.name,delete i.name),null!=i.nameGap&&null==i.axisNameGap&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),gi(mr(n.geo),function(i){nu(i)&&(Kn(i),gi(mr(i.regions),function(r){Kn(r)}))}),gi(mr(n.timeline),function(i){Kn(i),Je(i,"label"),Je(i,"itemStyle"),Je(i,"controlStyle",!0);var r=i.data;H(r)&&M(r,function(a){ct(a)&&(Je(a,"label"),Je(a,"itemStyle"))})}),gi(mr(n.toolbox),function(i){Je(i,"iconStyle"),gi(i.feature,function(r){Je(r,"iconStyle")})}),Me(zx(n.axisPointer),"label"),Me(zx(n.tooltip).axisPointer,"label")})(n,e),n.series=Zt(n.series),M(n.series,function(t){if(ct(t)){var i=t.type;if("line"===i)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=t.clockWise&&(t.clockwise=t.clockWise),Dx(t.label),(r=t.data)&&!bn(r))for(var a=0;a<r.length;a++)Dx(r[a]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===i){var o=function A5(n,e){for(var t=e.split(","),i=n,r=0;r<t.length&&null!=(i=i&&i[t[r]]);r++);return i}(t,"pointer.color");null!=o&&function k5(n,e,t,i){for(var o,r=e.split(","),a=n,s=0;s<r.length-1;s++)null==a[o=r[s]]&&(a[o]={}),a=a[o];(i||null==a[r[s]])&&(a[r[s]]=t)}(t,"itemStyle.color",o)}else if("bar"===i){var r;if(ru(t),ru(t.backgroundStyle),ru(t.emphasis),(r=t.data)&&!bn(r))for(a=0;a<r.length;a++)"object"==typeof r[a]&&(ru(r[a]),ru(r[a]&&r[a].emphasis))}else if("sunburst"===i){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),Mx(t),Ix(t.data,Mx)}else"graph"===i||"sankey"===i?function N5(n){n&&null!=n.focusNodeAdjacency&&(n.emphasis=n.emphasis||{},null==n.emphasis.focus&&(n.emphasis.focus="adjacency"))}(t):"map"===i&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&lt(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),Tx(t)}}),n.dataRange&&(n.visualMap=n.dataRange),M(R5,function(t){var i=n[t];i&&(H(i)||(i=[i]),M(i,function(r){Tx(r)}))})}function E5(n){M(n,function(e,t){var i=[],r=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(c,h,p){var d,v,f=o.get(e.stackedDimension,p);if(isNaN(f))return r;s?v=o.getRawIndex(p):d=o.get(e.stackedByDimension,p);for(var g=NaN,m=t-1;m>=0;m--){var y=n[m];if(s||(v=y.data.rawIndexOf(y.stackedByDimension,d)),v>=0){var _=y.data.getByRawIndex(y.stackResultDimension,v);if("all"===u||"positive"===u&&_>0||"negative"===u&&_<0||"samesign"===u&&f>=0&&_>0||"samesign"===u&&f<=0&&_<0){f=e3(f,_),g=_;break}}}return i[0]=f,i[1]=g,i})})}var Uh=function(){return function n(e){this.data=e.data||(e.sourceFormat===ji?{}:[]),this.sourceFormat=e.sourceFormat||sx,this.seriesLayoutBy=e.seriesLayoutBy||Yi,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var i=0;i<t.length;i++){var r=t[i];null==r.type&&cx(this,i)===$e.Must&&(r.type="ordinal")}}}();function Ig(n){return n instanceof Uh}function Ag(n,e,t){t=t||kx(n);var i=e.seriesLayoutBy,r=function B5(n,e,t,i,r){var a,o;if(!n)return{dimensionsDefine:Px(r),startIndex:o,dimensionsDetectedCount:a};if(e===Qe){var s=n;"auto"===i||null==i?Rx(function(c){null!=c&&"-"!==c&&(Q(c)?null==o&&(o=1):o=0)},t,s,10):o=Bt(i)?i:i?1:0,!r&&1===o&&(r=[],Rx(function(c,h){r[h]=null!=c?c+"":""},t,s,1/0)),a=r?r.length:t===bs?s.length:s[0]?s[0].length:null}else if(e===qn)r||(r=function V5(n){for(var t,e=0;e<n.length&&!(t=n[e++]););if(t)return At(t)}(n));else if(e===ji)r||(r=[],M(n,function(c,h){r.push(h)}));else if(e===Zn){var u=as(n[0]);a=H(u)&&u.length||1}return{startIndex:o,dimensionsDefine:Px(r),dimensionsDetectedCount:a}}(n,t,i,e.sourceHeader,e.dimensions);return new Uh({data:n,sourceFormat:t,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:ht(e)})}function kg(n){return new Uh({data:n,sourceFormat:bn(n)?gr:Zn})}function L5(n){return new Uh({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:ht(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function kx(n){var e=sx;if(bn(n))e=gr;else if(H(n)){0===n.length&&(e=Qe);for(var t=0,i=n.length;t<i;t++){var r=n[t];if(null!=r){if(H(r)||bn(r)){e=Qe;break}if(ct(r)){e=qn;break}}}}else if(ct(n))for(var a in n)if(et(n,a)&&Ke(n[a])){e=ji;break}return e}function Px(n){if(n){var e=nt();return X(n,function(t,i){var r={name:(t=ct(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var a=e.get(r.name);return a?r.name+="-"+a.count++:e.set(r.name,{count:1}),r})}}function Rx(n,e,t,i){if(e===bs)for(var r=0;r<t.length&&r<i;r++)n(t[r]?t[r][0]:null,r);else{var a=t[0]||[];for(r=0;r<a.length&&r<i;r++)n(a[r],r)}}function Nx(n){var e=n.sourceFormat;return e===qn||e===ji}var no,io,ro,Ox,Ex,Lx=function(){function n(e,t){var i=Ig(e)?e:kg(e);this._source=i;var r=this._data=i.data;i.sourceFormat===gr&&(this._offset=0,this._dimSize=t,this._data=r),Ex(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=((e=n.prototype).pure=!1,void(e.persistent=!0)),n.internalField=function(){var e;Ex=function(o,s,u){var c=u.sourceFormat,h=u.seriesLayoutBy,p=u.startIndex,f=u.dimensionsDefine;if(F(o,Ox[Rg(c,h)]),c===gr)o.getItem=t,o.count=r,o.fillStorage=i;else{var v=Vx(c,h);o.getItem=J(v,null,s,p,f);var g=Gx(c,h);o.count=J(g,null,s,p,f)}};var t=function(o,s){s=s||[];for(var u=this._data,c=this._dimSize,h=c*(o-=this._offset),p=0;p<c;p++)s[p]=u[h+p];return s},i=function(o,s,u,c){for(var h=this._data,p=this._dimSize,f=0;f<p;f++){for(var d=c[f],v=null==d[0]?1/0:d[0],g=null==d[1]?-1/0:d[1],m=s-o,y=u[f],_=0;_<m;_++){var b=h[_*p+f];y[o+_]=b,b<v&&(v=b),b>g&&(g=b)}d[0]=v,d[1]=g}},r=function(){return this._data?this._data.length/this._dimSize:0};function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}(e={})[Qe+"_"+Yi]={pure:!0,appendData:a},e[Qe+"_"+bs]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[qn]={pure:!0,appendData:a},e[ji]={pure:!0,appendData:function(o){var s=this._data;M(o,function(u,c){for(var h=s[c]||(s[c]=[]),p=0;p<(u||[]).length;p++)h.push(u[p])})}},e[Zn]={appendData:a},e[gr]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},Ox=e}(),n;var e}(),Bx=function(n,e,t,i){return n[i]},F5=((no={})[Qe+"_"+Yi]=function(n,e,t,i){return n[i+e]},no[Qe+"_"+bs]=function(n,e,t,i,r){i+=e;for(var a=r||[],o=n,s=0;s<o.length;s++){var u=o[s];a[s]=u?u[i]:null}return a},no[qn]=Bx,no[ji]=function(n,e,t,i,r){for(var a=r||[],o=0;o<t.length;o++){var u=n[t[o].name];a[o]=u?u[i]:null}return a},no[Zn]=Bx,no);function Vx(n,e){return F5[Rg(n,e)]}var Fx=function(n,e,t){return n.length},G5=((io={})[Qe+"_"+Yi]=function(n,e,t){return Math.max(0,n.length-e)},io[Qe+"_"+bs]=function(n,e,t){var i=n[0];return i?Math.max(0,i.length-e):0},io[qn]=Fx,io[ji]=function(n,e,t){var r=n[t[0].name];return r?r.length:0},io[Zn]=Fx,io);function Gx(n,e){return G5[Rg(n,e)]}var Pg=function(n,e,t){return n[e]},H5=((ro={})[Qe]=Pg,ro[qn]=function(n,e,t){return n[t]},ro[ji]=Pg,ro[Zn]=function(n,e,t){var i=as(n);return i instanceof Array?i[e]:i},ro[gr]=Pg,ro);function Hx(n){return H5[n]}function Rg(n,e){return n===Qe?n+"_"+e:n}function Cs(n,e,t){if(n){var i=n.getRawDataItem(e);if(null!=i){var r=n.getStore(),a=r.getSource().sourceFormat;if(null!=t){var o=n.getDimensionIndex(t),s=r.getDimensionProperty(o);return Hx(a)(i,o,s)}var u=i;return a===Zn&&(u=as(i)),u}}}var X5=/\{@(.+?)\}/g,Ng=function(){function n(){}return n.prototype.getDataParams=function(e,t){var i=this.getData(t),r=this.getRawValue(e,t),a=i.getRawIndex(e),o=i.getName(e),s=i.getRawDataItem(e),u=i.getItemVisual(e,"style"),c=u&&u[i.getItemVisual(e,"drawType")||"fill"],h=u&&u.stroke,p=this.mainType,f="series"===p,d=i.userOutput&&i.userOutput.get();return{componentType:p,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:o,dataIndex:a,data:s,dataType:t,value:r,color:c,borderColor:h,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,i,r,a,o){t=t||"normal";var s=this.getData(i),u=this.getDataParams(e,i);return o&&(u.value=o.interpolatedValue),null!=r&&H(u.value)&&(u.value=u.value[r]),a||(a=s.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"])),at(a)?(u.status=t,u.dimensionIndex=r,a(u)):Q(a)?nx(a,u).replace(X5,function(p,f){var d=f.length,v=f;"["===v.charAt(0)&&"]"===v.charAt(d-1)&&(v=+v.slice(1,d-1));var g=Cs(s,e,v);if(o&&H(o.interpolatedValue)){var m=s.getDimensionIndex(v);m>=0&&(g=o.interpolatedValue[m])}return null!=g?g+"":""}):void 0},n.prototype.getRawValue=function(e,t){return Cs(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,i){},n}();function Xx(n){var e,t;return ct(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function au(n){return new j5(n)}var j5=function(){function n(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var a,t=this._upstream,i=e&&e.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(a=this._plan(this.context));var p,o=h(this._modBy),s=this._modDataCount||0,u=h(e&&e.modBy),c=e&&e.modDataCount||0;function h(_){return!(_>=1)&&(_=1),_}(o!==u||s!==c)&&(a="reset"),(this._dirty||"reset"===a)&&(this._dirty=!1,p=this._doReset(i)),this._modBy=u,this._modDataCount=c;var f=e&&e.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,v=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!i&&(p||d<v)){var g=this._progress;if(H(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],d,v,u,c);else this._doProgress(g,d,v,u,c)}this._dueIndex=v,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,i,r,a){jx.reset(t,i,r,a),this._callingProgress=e,this._callingProgress({start:t,end:i,count:i-t,next:jx.next},this.context)},n.prototype._doReset=function(e){var t,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(i=t.forceFirstProgress,t=t.progress),H(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),jx=function(){var n,e,t,i,r,a={reset:function(u,c,h,p){e=u,n=c,t=h,i=p,r=Math.ceil(i/t),a.next=t>1&&i>0?s:o}};return a;function o(){return e<n?e++:null}function s(){var u=e%r*t+Math.ceil(e/r),c=e>=n?null:u<i?u:e;return e++,c}}();function jt(n){throw new Error(n)}function qr(n,e){var t=e&&e.type;return"ordinal"===t?n:("time"===t&&!Bt(n)&&null!=n&&"-"!==n&&(n=+Bi(n)),null==n||""===n?NaN:+n)}typeof console<"u"&&console.warn&&console;var $5=nt({number:function(n){return parseFloat(n)},time:function(n){return+Bi(n)},trim:function(n){return Q(n)?hi(n):n}});function Wx(n){return $5.get(n)}var Ux={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},Z5=function(){function n(e,t){Bt(t)||jt(""),this._opFn=Ux[e],this._rvalFloat=cr(t)}return n.prototype.evaluate=function(e){return Bt(e)?this._opFn(e,this._rvalFloat):this._opFn(cr(e),this._rvalFloat)},n}(),$x=function(){function n(e,t){var i="desc"===e;this._resultLT=i?1:-1,null==t&&(t=i?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return n.prototype.evaluate=function(e,t){var i=Bt(e)?e:cr(e),r=Bt(t)?t:cr(t),a=isNaN(i),o=isNaN(r);if(a&&(i=this._incomparable),o&&(r=this._incomparable),a&&o){var s=Q(e),u=Q(t);s&&(i=u?e:0),u&&(r=s?t:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n}(),q5=function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=cr(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var i=typeof e;i!==this._rvalTypeof&&("number"===i||"number"===this._rvalTypeof)&&(t=cr(e)===this._rvalFloat)}return this._isEQ?t:!t},n}();function K5(n,e){return"eq"===n||"ne"===n?new q5("eq"===n,e):et(Ux,n)?new Z5(n,e):null}var Q5=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return qr(e,t)},n}();function t8(n){return Eg(n.sourceFormat)||jt(""),n.data}function e8(n){var e=n.sourceFormat,t=n.data;if(Eg(e)||jt(""),e===Qe){for(var r=[],a=0,o=t.length;a<o;a++)r.push(t[a].slice());return r}if(e===qn){for(r=[],a=0,o=t.length;a<o;a++)r.push(F({},t[a]));return r}}function n8(n,e,t){if(null!=t){if(Bt(t)||!isNaN(t)&&!et(e,t))return n[t];if(et(e,t))return e[t]}}function i8(n){return ht(n)}var Zx=nt();function o8(n,e,t,i){e.length||jt(""),ct(n)||jt("");var o=Zx.get(n.type);o||jt("");var s=X(e,function(h){return function J5(n,e){var t=new Q5,i=n.data,r=t.sourceFormat=n.sourceFormat,a=n.startIndex;n.seriesLayoutBy!==Yi&&jt("");var s=[],u={},c=n.dimensionsDefine;if(c)M(c,function(g,m){var y=g.name,_={index:m,name:y,displayName:g.displayName};s.push(_),null!=y&&(et(u,y)&&jt(""),u[y]=_)});else for(var h=0;h<n.dimensionsDetectedCount;h++)s.push({index:h});var p=Vx(r,Yi);e.__isBuiltIn&&(t.getRawDataItem=function(g){return p(i,a,s,g)},t.getRawData=J(t8,null,n)),t.cloneRawData=J(e8,null,n);var f=Gx(r,Yi);t.count=J(f,null,i,a,s);var d=Hx(r);t.retrieveValue=function(g,m){var y=p(i,a,s,g);return v(y,m)};var v=t.retrieveValueFromItem=function(g,m){if(null!=g){var y=s[m];if(y)return d(g,m,y.name)}};return t.getDimensionInfo=J(n8,null,s,u),t.cloneAllDimensionInfo=J(i8,null,s),t}(h,o)});return X(Zt(o.transform({upstream:s[0],upstreamList:s,config:ht(n.config)})),function(h,p){ct(h)||jt(""),h.data||jt(""),Eg(kx(h.data))||jt("");var v,g=e[0];if(g&&0===p&&!h.dimensions){var m=g.startIndex;m&&(h.data=g.data.slice(0,m).concat(h.data)),v={seriesLayoutBy:Yi,sourceHeader:m,dimensions:g.metaRawOption.dimensions}}else v={seriesLayoutBy:Yi,sourceHeader:0,dimensions:h.dimensions};return Ag(h.data,v,null)})}function Eg(n){return n===Qe||n===qn}var Lg,$h="undefined",s8=typeof Uint32Array===$h?Array:Uint32Array,l8=typeof Uint16Array===$h?Array:Uint16Array,qx=typeof Int32Array===$h?Array:Int32Array,Kx=typeof Float64Array===$h?Array:Float64Array,Qx={float:Kx,int:qx,ordinal:Array,number:Array,time:Kx};function ou(n){return n>65535?s8:l8}function u8(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function Jx(n,e,t,i,r){var a=Qx[t||"float"];if(r){var o=n[e],s=o&&o.length;if(s!==i){for(var u=new a(i),c=0;c<s;c++)u[c]=o[c];n[e]=u}}else n[e]=new a(i)}var c8=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=nt()}return n.prototype.initData=function(e,t,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),a=this.defaultDimValueGetter=Lg[r.sourceFormat];this._dimValueGetter=i||a,this._rawExtent=[],Nx(r),this._dimensions=X(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var i=this._calcDimNameToIdx,r=this._dimensions,a=i.get(e);if(null!=a){if(r[a].type===t)return a}else a=r.length;return r[a]={type:t},i.set(e,a),this._chunks[a]=new Qx[t||"float"](this._rawCount),this._rawExtent[a]=[1/0,-1/0],a},n.prototype.collectOrdinalMeta=function(e,t){var i=this._chunks[e],r=this._dimensions[e],a=this._rawExtent,o=r.ordinalOffset||0,s=i.length;0===o&&(a[e]=[1/0,-1/0]);for(var u=a[e],c=o;c<s;c++){var h=i[c]=t.parseAndCollect(i[c]);isNaN(h)||(u[0]=Math.min(h,u[0]),u[1]=Math.max(h,u[1]))}r.ordinalMeta=t,r.ordinalOffset=s,r.type="ordinal"},n.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,i=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(e,t){for(var i=this._chunks,r=this._dimensions,a=r.length,o=this._rawExtent,s=this.count(),u=s+Math.max(e.length,t||0),c=0;c<a;c++)Jx(i,c,r[c].type,u,!0);for(var p=[],f=s;f<u;f++)for(var d=f-s,v=0;v<a;v++){var g=Lg.arrayRows.call(this,e[d]||p,r[v].property,d,v);i[v][f]=g;var m=o[v];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}return this._rawCount=this._count=u,{start:s,end:u}},n.prototype._initDataFromProvider=function(e,t,i){for(var r=this._provider,a=this._chunks,o=this._dimensions,s=o.length,u=this._rawExtent,c=X(o,function(_){return _.property}),h=0;h<s;h++){var p=o[h];u[h]||(u[h]=[1/0,-1/0]),Jx(a,h,p.type,t,i)}if(r.fillStorage)r.fillStorage(e,t,a,u);else for(var f=[],d=e;d<t;d++){f=r.getItem(d,f);for(var v=0;v<s;v++){var g=a[v],m=this._dimValueGetter(f,c[v],d,v);g[d]=m;var y=u[v];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var i=[],r=[];if(null==t){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)r.push(a)}else r=e;a=0;for(var o=r.length;a<o;a++)i.push(this.get(r[a],t));return i},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[e];return i?i[t]:NaN},n.prototype.getSum=function(e){var i=0;if(this._chunks[e])for(var r=0,a=this.count();r<a;r++){var o=this.get(e,r);isNaN(o)||(i+=o)}return i},n.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var i=t.sort(function(a,o){return a-o}),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(null!=i&&i<this._count&&i===e)return e;for(var r=0,a=this._count-1;r<=a;){var o=(r+a)/2|0;if(t[o]<e)r=o+1;else{if(!(t[o]>e))return o;a=o-1}}return-1},n.prototype.indicesOfNearest=function(e,t,i){var a=this._chunks[e],o=[];if(!a)return o;null==i&&(i=1/0);for(var s=1/0,u=-1,c=0,h=0,p=this.count();h<p;h++){var d=t-a[this.getRawIndex(h)],v=Math.abs(d);v<=i&&((v<s||v===s&&d>=0&&u<0)&&(s=v,u=d,c=0),d===u&&(o[c++]=h))}return o.length=c,o},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=this._count;if((i=t.constructor)===Array){e=new i(r);for(var a=0;a<r;a++)e[a]=t[a]}else e=new i(t.buffer,0,r)}else{var i;for(e=new(i=ou(this._rawCount))(this.count()),a=0;a<e.length;a++)e[a]=a}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=new(ou(i._rawCount))(r),s=[],u=e.length,c=0,h=e[0],p=i._chunks,f=0;f<r;f++){var d=void 0,v=i.getRawIndex(f);if(0===u)d=t(f);else if(1===u)d=t(p[h][v],f);else{for(var m=0;m<u;m++)s[m]=p[e[m]][v];s[m]=f,d=t.apply(null,s)}d&&(o[c++]=v)}return c<r&&(i._indices=o),i._count=c,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(e){var t=this.clone(),i=t._count;if(!i)return this;var r=At(e),a=r.length;if(!a)return this;var o=t.count(),u=new(ou(t._rawCount))(o),c=0,h=r[0],p=e[h][0],f=e[h][1],d=t._chunks,v=!1;if(!t._indices){var g=0;if(1===a){for(var m=d[r[0]],y=0;y<i;y++)((_=m[y])>=p&&_<=f||isNaN(_))&&(u[c++]=g),g++;v=!0}else if(2===a){m=d[r[0]];var b=d[r[1]],C=e[r[1]][0],x=e[r[1]][1];for(y=0;y<i;y++){var S=b[y];((_=m[y])>=p&&_<=f||isNaN(_))&&(S>=C&&S<=x||isNaN(S))&&(u[c++]=g),g++}v=!0}}if(!v)if(1===a)for(y=0;y<o;y++){var z=t.getRawIndex(y);((_=d[r[0]][z])>=p&&_<=f||isNaN(_))&&(u[c++]=z)}else for(y=0;y<o;y++){for(var w=!0,T=(z=t.getRawIndex(y),0);T<a;T++){var _,D=r[T];((_=d[D][z])<e[D][0]||_>e[D][1])&&(w=!1)}w&&(u[c++]=t.getRawIndex(y))}return c<o&&(t._indices=u),t._count=c,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var i=this.clone(e);return this._updateDims(i,e,t),i},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,i){for(var r=e._chunks,a=[],o=t.length,s=e.count(),u=[],c=e._rawExtent,h=0;h<t.length;h++)c[t[h]]=[1/0,-1/0];for(var p=0;p<s;p++){for(var f=e.getRawIndex(p),d=0;d<o;d++)u[d]=r[t[d]][f];u[o]=p;var v=i&&i.apply(null,u);if(null!=v)for("object"!=typeof v&&(a[0]=v,v=a),h=0;h<v.length;h++){var g=t[h],m=v[h],y=c[g],_=r[g];_&&(_[f]=m),m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}},n.prototype.lttbDownSample=function(e,t){var h,p,f,i=this.clone([e],!0),a=i._chunks[e],o=this.count(),s=0,u=Math.floor(1/t),c=this.getRawIndex(0),d=new(ou(this._rawCount))(Math.min(2*(Math.ceil(o/u)+2),o));d[s++]=c;for(var v=1;v<o-1;v+=u){for(var g=Math.min(v+u,o-1),m=Math.min(v+2*u,o),y=(m+g)/2,_=0,b=g;b<m;b++){var x=a[C=this.getRawIndex(b)];isNaN(x)||(_+=x)}_/=m-g;var S=v,z=Math.min(v+u,o),w=v-1,T=a[c];h=-1,f=S;var D=-1,I=0;for(b=S;b<z;b++){var C;x=a[C=this.getRawIndex(b)],isNaN(x)?(I++,D<0&&(D=C)):(p=Math.abs((w-y)*(x-T)-(w-b)*(_-T)))>h&&(h=p,f=C)}I>0&&I<z-S&&(d[s++]=Math.min(D,f),f=Math.max(D,f)),d[s++]=f,c=f}return d[s++]=this.getRawIndex(o-1),i._count=s,i._indices=d,i.getRawIndex=this._getRawIdx,i},n.prototype.downSample=function(e,t,i,r){for(var a=this.clone([e],!0),o=a._chunks,s=[],u=Math.floor(1/t),c=o[e],h=this.count(),p=a._rawExtent[e]=[1/0,-1/0],f=new(ou(this._rawCount))(Math.ceil(h/u)),d=0,v=0;v<h;v+=u){u>h-v&&(s.length=u=h-v);for(var g=0;g<u;g++){var m=this.getRawIndex(v+g);s[g]=c[m]}var y=i(s),_=this.getRawIndex(Math.min(v+r(s,y)||0,h-1));c[_]=y,y<p[0]&&(p[0]=y),y>p[1]&&(p[1]=y),f[d++]=_}return a._count=d,a._indices=f,a._updateGetRawIdx(),a},n.prototype.each=function(e,t){if(this._count)for(var i=e.length,r=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(i){case 0:t(a);break;case 1:t(r[e[0]][s],a);break;case 2:t(r[e[0]][s],r[e[1]][s],a);break;default:for(var u=0,c=[];u<i;u++)c[u]=r[e[u]][s];c[u]=a,t.apply(null,c)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],i=[1/0,-1/0];if(!t)return i;var o,r=this.count();if(!this._indices)return this._rawExtent[e].slice();if(o=this._extent[e])return o.slice();for(var s=(o=i)[0],u=o[1],c=0;c<r;c++){var p=t[this.getRawIndex(c)];p<s&&(s=p),p>u&&(u=p)}return this._extent[e]=o=[s,u],o},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],r=this._chunks,a=0;a<r.length;a++)i.push(r[a][t]);return i},n.prototype.clone=function(e,t){var i=new n,r=this._chunks,a=e&&ki(e,function(s,u){return s[u]=!0,s},{});if(a)for(var o=0;o<r.length;o++)i._chunks[o]=a[o]?u8(r[o]):r[o];else i._chunks=r;return this._copyCommonProps(i),t||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=ht(this._extent),e._rawExtent=ht(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var i=this._indices.length;t=new e(i);for(var r=0;r<i;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,i,r,a){return qr(t[a],this._dimensions[a])}Lg={arrayRows:e,objectRows:function(t,i,r,a){return qr(t[i],this._dimensions[a])},keyedColumns:e,original:function(t,i,r,a){var o=t&&(null==t.value?t:t.value);return qr(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(t,i,r,a){return t[a]}}}(),n}();const Bg=c8;var tz=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var r,a,e=this._sourceHost,t=this._getUpstreamSourceManagers(),i=!!t.length;if(Zh(e)){var o=e,s=void 0,u=void 0,c=void 0;if(i){var h=t[0];h.prepareSource(),s=(c=h.getSource()).data,u=c.sourceFormat,a=[h._getVersionSign()]}else u=bn(s=o.get("data",!0))?gr:Zn,a=[];var p=this._getSourceMetaRawOption()||{},f=c&&c.metaRawOption||{},d=mt(p.seriesLayoutBy,f.seriesLayoutBy)||null,v=mt(p.sourceHeader,f.sourceHeader),g=mt(p.dimensions,f.dimensions);r=d!==f.seriesLayoutBy||!!v!=!!f.sourceHeader||g?[Ag(s,{seriesLayoutBy:d,sourceHeader:v,dimensions:g},u)]:[]}else{var y=e;if(i){var _=this._applyTransform(t);r=_.sourceList,a=_.upstreamSignList}else r=[Ag(y.get("source",!0),this._getSourceMetaRawOption(),null)],a=[]}this._setLocalSource(r,a)},n.prototype._applyTransform=function(e){var t=this._sourceHost,i=t.get("transform",!0),r=t.get("fromTransformResult",!0);null!=r&&1!==e.length&&nz("");var o,s=[],u=[];return M(e,function(c){c.prepareSource();var h=c.getSource(r||0);null!=r&&!h&&nz(""),s.push(h),u.push(c._getVersionSign())}),i?o=function a8(n,e,t){var i=Zt(n),r=i.length;r||jt("");for(var o=0,s=r;o<s;o++)e=o8(i[o],e),o!==s-1&&(e.length=Math.max(e.length,1));return e}(i,s):null!=r&&(o=[L5(s[0])]),{sourceList:o,upstreamSignList:u}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var i=e[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},n.prototype.getSource=function(e){var t=this._sourceList[e=e||0];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,i){var a=this._storeList,o=a[0];o||(o=a[0]={});var s=o[i];if(!s){var u=this._getUpstreamSourceManagers()[0];Zh(this._sourceHost)&&u?s=u._innerGetDataStore(e,t,i):(s=new Bg).initData(new Lx(t,e.length),e),o[i]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Zh(e)){var t=Sg(e);return t?[t.getSourceManager()]:[]}return X(function l5(n){return n.get("transform",!0)||n.get("fromTransformResult",!0)?Fl(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},De).models:[]}(e),function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,i,r,e=this._sourceHost;if(Zh(e))t=e.get("seriesLayoutBy",!0),i=e.get("sourceHeader",!0),r=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),i=a.get("sourceHeader",!0),r=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:i,dimensions:r}},n}();function ez(n){n.option.transform&&Xc(n.option.transform)}function Zh(n){return"series"===n.mainType}function nz(n){throw new Error(n)}var iz="line-height:1";function rz(n,e){var t=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",a=n.color||"#464646",o=n.fontSize||14,s=n.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+Cn(i+"")+"px;color:"+Cn(t)+";font-weight:"+Cn(r+""),valueStyle:"font-size:"+Cn(o+"")+"px;color:"+Cn(a)+";font-weight:"+Cn(s+"")}:{nameStyle:{fontSize:i,fill:t,fontWeight:r},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var h8=[0,10,20,30],p8=["","\n","\n\n","\n\n\n"];function Ee(n,e){return e.type=n,e}function Vg(n){return"section"===n.type}function az(n){return Vg(n)?f8:d8}function oz(n){if(Vg(n)){var e=0,t=n.blocks.length,i=t>1||t>0&&!n.noHeader;return M(n.blocks,function(r){var a=oz(r);a>=e&&(e=a+ +(i&&(!a||Vg(r)&&!r.noHeader)))}),e}return 0}function f8(n,e,t,i){var r=e.noHeader,a=function v8(n){return{html:h8[n],richText:p8[n]}}(oz(e)),o=[],s=e.blocks||[];ln(!s||H(s)),s=s||[];var u=n.orderMode;if(e.sortBlocks&&u){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(et(c,u)){var h=new $x(c[u],null);s.sort(function(v,g){return h.evaluate(v.sortParam,g.sortParam)})}else"seriesDesc"===u&&s.reverse()}M(s,function(v,g){var m=e.valueFormatter,y=az(v)(m?F(F({},n),{valueFormatter:m}):n,v,g>0?a.html:0,i);null!=y&&o.push(y)});var p="richText"===n.renderMode?o.join(a.richText):Fg(o.join(""),r?t:a.html);if(r)return p;var f=yg(e.header,"ordinal",n.useUTC),d=rz(i,n.renderMode).nameStyle;return"richText"===n.renderMode?lz(n,f,d)+a.richText+p:Fg('<div style="'+d+";"+iz+';">'+Cn(f)+"</div>"+p,t)}function d8(n,e,t,i){var r=n.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,u=e.name,c=n.useUTC,h=e.valueFormatter||n.valueFormatter||function(C){return X(C=H(C)?C:[C],function(x,S){return yg(x,H(d)?d[S]:d,c)})};if(!a||!o){var p=s?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),f=a?"":yg(u,"ordinal",c),d=e.valueType,v=o?[]:h(e.value,e.dataIndex),g=!s||!a,m=!s&&a,y=rz(i,r),_=y.nameStyle,b=y.valueStyle;return"richText"===r?(s?"":p)+(a?"":lz(n,f,_))+(o?"":function y8(n,e,t,i,r){var a=[r];return t&&a.push({padding:[0,0,0,i?10:20],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(H(e)?e.join("  "):e,a)}(n,v,g,m,b)):Fg((s?"":p)+(a?"":function g8(n,e,t){return'<span style="'+t+";"+(e?"margin-left:2px":"")+'">'+Cn(n)+"</span>"}(f,!s,_))+(o?"":function m8(n,e,t,i){return'<span style="'+(e?"float:right;margin-left:"+(t?"10px":"20px"):"")+";"+i+'">'+X(n=H(n)?n:[n],function(o){return Cn(o)}).join("&nbsp;&nbsp;")+"</span>"}(v,g,m,b)),t)}}function sz(n,e,t,i,r,a){if(n)return az(n)({useUTC:r,renderMode:t,orderMode:i,markupStyleCreator:e,valueFormatter:n.valueFormatter},n,0,a)}function Fg(n,e){return'<div style="margin: '+e+"px 0 0;"+iz+';">'+n+'<div style="clear:both"></div></div>'}function lz(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function uz(n,e){return Ja(n.getData().getItemVisual(e,"style")[n.visualDrawType])}function cz(n,e){return n.get("padding")??("richText"===e?[8,10]:10)}var Gg=function(){function n(){this.richTextStyles={},this._nextStyleNameId=zC()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,i){var r="richText"===i?this._generateStyleName():null,a=function e5(n,e){var t=Q(n)?{color:n,extraCssText:e}:n||{},i=t.color,r=t.type;e=t.extraCssText;var a=t.renderMode||"html";return i?"html"===a?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Cn(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Cn(i)+";"+(e||"")+'"></span>':{renderMode:a,content:"{"+(t.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}({color:t,type:e,renderMode:i,markerId:r});return Q(a)?a:(this.richTextStyles[r]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(e,t){var i={};H(t)?M(t,function(a){return F(i,a)}):F(i,t);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+e+"}"},n}();function hz(n){var h,p,f,d,e=n.series,t=n.dataIndex,i=n.multipleSeries,r=e.getData(),a=r.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(t),u=H(s),c=uz(e,t);if(o>1||u&&!o){var v=function _8(n,e,t,i,r){var a=e.getData(),o=ki(n,function(p,f,d){var v=a.getDimensionInfo(d);return p||v&&!1!==v.tooltip&&null!=v.displayName},!1),s=[],u=[],c=[];function h(p,f){var d=a.getDimensionInfo(f);!d||!1===d.otherDims.tooltip||(o?c.push(Ee("nameValue",{markerType:"subItem",markerColor:r,name:d.displayName,value:p,valueType:d.type})):(s.push(p),u.push(d.type)))}return i.length?M(i,function(p){h(Cs(a,t,p),p)}):M(n,h),{inlineValues:s,inlineValueTypes:u,blocks:c}}(s,e,t,a,c);h=v.inlineValues,p=v.inlineValueTypes,f=v.blocks,d=v.inlineValues[0]}else if(o){var g=r.getDimensionInfo(a[0]);d=h=Cs(r,t,a[0]),p=g.type}else d=h=u?s[0]:s;var m=Mv(e),y=m&&e.name||"",_=r.getName(t),b=i?y:_;return Ee("section",{header:y,noHeader:i||!m,sortParam:d,blocks:[Ee("nameValue",{markerType:"item",markerColor:c,name:b,noName:!hi(b),value:h,valueType:p,dataIndex:t})].concat(f||[])})}var Kr=Nt();function qh(n,e){return n.getName(e)||n.getId(e)}var Kh="__universalTransitionEnabled",Qh=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return B(e,n),e.prototype.init=function(t,i,r){this.seriesIndex=this.componentIndex,this.dataTask=au({count:C8,reset:S8}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r),(Kr(this).sourceManager=new tz(this)).prepareSource();var o=this.getInitialData(t,r);fz(o,this),this.dataTask.context.data=o,Kr(this).dataBeforeProcessed=o,pz(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=Jl(this),a=r?ms(t):{},o=this.subType;Ft.hasClass(o)&&(o+="Series"),St(t,i.getTheme().get(this.subType)),St(t,this.getDefaultOption()),Ea(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&Zr(t,a,r)},e.prototype.mergeOption=function(t,i){t=St(this.option,t,!0),this.fillDataTextStyle(t.data);var r=Jl(this);r&&Zr(this.option,t,r);var a=Kr(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(t,i);fz(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Kr(this).dataBeforeProcessed=o,pz(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(t){if(t&&!bn(t))for(var i=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&Ea(t[r],"label",i)},e.prototype.getInitialData=function(t,i){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var i=Hg(this);if(i){var r=i.context.data;return null==t?r:r.getLinkedData(t)}return Kr(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var i=Hg(this);if(i){var r=i.context;r.outputData=t,i!==this.dataTask&&(r.data=t)}Kr(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return nt(t)},e.prototype.getSourceManager=function(){return Kr(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Kr(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,i,r){return hz({series:this,dataIndex:t,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Lt.node&&(!t||!t.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,i,r){var a=this.ecModel,o=zg.prototype.getColorFromPalette.call(this,t,i,r);return o||(o=a.getColorFromPalette(t,i,r)),o},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,i){this._innerSelect(this.getData(i),t)},e.prototype.unselect=function(t,i){var r=this.option.selectedMap;if(r){var a=this.option.selectedMode,o=this.getData(i);if("series"===a||"all"===r)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var s=0;s<t.length;s++){var c=qh(o,t[s]);r[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(t,i){for(var r=[],a=0;a<t.length;a++)r[0]=t[a],this.isSelected(t[a],i)?this.unselect(r,i):this.select(r,i)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,i=At(t),r=[],a=0;a<i.length;a++){var o=t[i[a]];o>=0&&r.push(o)}return r},e.prototype.isSelected=function(t,i){var r=this.option.selectedMap;if(!r)return!1;var a=this.getData(i);return("all"===r||r[qh(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[Kh])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,i){var r,a,o=this.option,s=o.selectedMode,u=i.length;if(s&&u)if("series"===s)o.selectedMap="all";else if("multiple"===s){ct(o.selectedMap)||(o.selectedMap={});for(var c=o.selectedMap,h=0;h<u;h++){var p=i[h];c[f=qh(t,p)]=!0,this._selectedDataIndicesMap[f]=t.getRawIndex(p)}}else if("single"===s||!0===s){var d=i[u-1],f=qh(t,d);o.selectedMap=((r={})[f]=!0,r),this._selectedDataIndicesMap=((a={})[f]=t.getRawIndex(d),a)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var i=[];t.hasItemOption&&t.each(function(r){var a=t.getRawDataItem(r);a&&a.selected&&i.push(r)}),i.length>0&&this._innerSelect(t,i)}},e.registerClass=function(t){return Ft.registerClass(t)},e.protoInitialize=((t=e.prototype).type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",void(t.visualDrawType="fill")),e;var t}(Ft);function pz(n){var e=n.name;Mv(n)||(n.name=function b8(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),i=[];return M(t,function(r){var a=e.getDimensionInfo(r);a.displayName&&i.push(a.displayName)}),i.join(" ")}(n)||e)}function C8(n){return n.model.getRawData().count()}function S8(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),x8}function x8(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function fz(n,e){M(jc(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,yt(z8,e))})}function z8(n,e){var t=Hg(n);return t&&t.setOutputEnd((e||this).count()),e}function Hg(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var i=t.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}Te(Qh,Ng),Te(Qh,zg),EC(Qh,Ft);const ce=Qh;var Xg=function(){function n(){this.group=new ft,this.uid=ps("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){},n.prototype.updateLayout=function(e,t,i,r){},n.prototype.updateVisual=function(e,t,i,r){},n.prototype.toggleBlurSeries=function(e,t,i){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();kv(Xg),bh(Xg);const de=Xg;function xs(){var n=Nt();return function(e){var t=n(e),i=e.pipelineContext,r=!!t.large,a=!!t.progressiveRender,o=t.large=!(!i||!i.large),s=t.progressiveRender=!(!i||!i.progressiveRender);return(r!==o||a!==s)&&"reset"}}var zs=Xi.CMD,w8=[[],[],[]],dz=Math.sqrt,T8=Math.atan2;function vz(n,e){if(e){var r,a,o,s,u,c,t=n.data,i=n.len(),h=zs.M,p=zs.C,f=zs.L,d=zs.R,v=zs.A,g=zs.Q;for(o=0,s=0;o<i;){switch(r=t[o++],s=o,a=0,r){case h:case f:a=1;break;case p:a=3;break;case g:a=2;break;case v:var m=e[4],y=e[5],_=dz(e[0]*e[0]+e[1]*e[1]),b=dz(e[2]*e[2]+e[3]*e[3]),C=T8(-e[1]/b,e[0]/_);t[o]*=_,t[o++]+=m,t[o]*=b,t[o++]+=y,t[o++]*=_,t[o++]*=b,t[o++]+=C,t[o++]+=C,s=o+=2;break;case d:c[0]=t[o++],c[1]=t[o++],je(c,c,e),t[s++]=c[0],t[s++]=c[1],c[0]+=t[o++],c[1]+=t[o++],je(c,c,e),t[s++]=c[0],t[s++]=c[1]}for(u=0;u<a;u++){var x=w8[u];x[0]=t[o++],x[1]=t[o++],je(x,x,e),t[s++]=x[0],t[s++]=x[1]}}n.increaseVersion()}}var jg=Math.sqrt,Jh=Math.sin,tp=Math.cos,su=Math.PI;function gz(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Yg(n,e){return(n[0]*e[0]+n[1]*e[1])/(gz(n)*gz(e))}function mz(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(Yg(n,e))}function yz(n,e,t,i,r,a,o,s,u,c,h){var p=u*(su/180),f=tp(p)*(n-t)/2+Jh(p)*(e-i)/2,d=-1*Jh(p)*(n-t)/2+tp(p)*(e-i)/2,v=f*f/(o*o)+d*d/(s*s);v>1&&(o*=jg(v),s*=jg(v));var g=(r===a?-1:1)*jg((o*o*(s*s)-o*o*(d*d)-s*s*(f*f))/(o*o*(d*d)+s*s*(f*f)))||0,m=g*o*d/s,y=g*-s*f/o,_=(n+t)/2+tp(p)*m-Jh(p)*y,b=(e+i)/2+Jh(p)*m+tp(p)*y,C=mz([1,0],[(f-m)/o,(d-y)/s]),x=[(f-m)/o,(d-y)/s],S=[(-1*f-m)/o,(-1*d-y)/s],z=mz(x,S);if(Yg(x,S)<=-1&&(z=su),Yg(x,S)>=1&&(z=0),z<0){var w=Math.round(z/su*1e6)/1e6;z=2*su+w%2*su}h.addData(c,_,b,o,s,C,z,p,a)}var D8=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,M8=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,_z=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return ae(e,n),e.prototype.applyTransform=function(t){},e}(It);function bz(n){return null!=n.setData}function Cz(n,e){var t=function I8(n){var e=new Xi;if(!n)return e;var o,t=0,i=0,r=t,a=i,s=Xi.CMD,u=n.match(D8);if(!u)return e;for(var c=0;c<u.length;c++){for(var h=u[c],p=h.charAt(0),f=void 0,d=h.match(M8)||[],v=d.length,g=0;g<v;g++)d[g]=parseFloat(d[g]);for(var m=0;m<v;){var y=void 0,_=void 0,b=void 0,C=void 0,x=void 0,S=void 0,z=void 0,w=t,T=i,D=void 0,I=void 0;switch(p){case"l":t+=d[m++],i+=d[m++],e.addData(f=s.L,t,i);break;case"L":t=d[m++],i=d[m++],e.addData(f=s.L,t,i);break;case"m":t+=d[m++],i+=d[m++],e.addData(f=s.M,t,i),r=t,a=i,p="l";break;case"M":t=d[m++],i=d[m++],e.addData(f=s.M,t,i),r=t,a=i,p="L";break;case"h":t+=d[m++],e.addData(f=s.L,t,i);break;case"H":t=d[m++],e.addData(f=s.L,t,i);break;case"v":i+=d[m++],e.addData(f=s.L,t,i);break;case"V":i=d[m++],e.addData(f=s.L,t,i);break;case"C":e.addData(f=s.C,d[m++],d[m++],d[m++],d[m++],d[m++],d[m++]),t=d[m-2],i=d[m-1];break;case"c":e.addData(f=s.C,d[m++]+t,d[m++]+i,d[m++]+t,d[m++]+i,d[m++]+t,d[m++]+i),t+=d[m-2],i+=d[m-1];break;case"S":y=t,_=i,D=e.len(),I=e.data,o===s.C&&(y+=t-I[D-4],_+=i-I[D-3]),w=d[m++],T=d[m++],t=d[m++],i=d[m++],e.addData(f=s.C,y,_,w,T,t,i);break;case"s":y=t,_=i,D=e.len(),I=e.data,o===s.C&&(y+=t-I[D-4],_+=i-I[D-3]),w=t+d[m++],T=i+d[m++],t+=d[m++],i+=d[m++],e.addData(f=s.C,y,_,w,T,t,i);break;case"Q":w=d[m++],T=d[m++],t=d[m++],i=d[m++],e.addData(f=s.Q,w,T,t,i);break;case"q":w=d[m++]+t,T=d[m++]+i,t+=d[m++],i+=d[m++],e.addData(f=s.Q,w,T,t,i);break;case"T":y=t,_=i,D=e.len(),I=e.data,o===s.Q&&(y+=t-I[D-4],_+=i-I[D-3]),t=d[m++],i=d[m++],e.addData(f=s.Q,y,_,t,i);break;case"t":y=t,_=i,D=e.len(),I=e.data,o===s.Q&&(y+=t-I[D-4],_+=i-I[D-3]),t+=d[m++],i+=d[m++],e.addData(f=s.Q,y,_,t,i);break;case"A":b=d[m++],C=d[m++],x=d[m++],S=d[m++],z=d[m++],yz(w=t,T=i,t=d[m++],i=d[m++],S,z,b,C,x,f=s.A,e);break;case"a":b=d[m++],C=d[m++],x=d[m++],S=d[m++],z=d[m++],yz(w=t,T=i,t+=d[m++],i+=d[m++],S,z,b,C,x,f=s.A,e)}}("z"===p||"Z"===p)&&(e.addData(f=s.Z),t=r,i=a),o=f}return e.toStatic(),e}(n),i=F({},e);return i.buildPath=function(r){var a;bz(r)?(r.setData(t.data),(a=r.getContext())&&r.rebuildPath(a,1)):t.rebuildPath(a=r,1)},i.applyTransform=function(r){vz(t,r),this.dirtyShape()},i}function Sz(n,e){return new _z(Cz(n,e))}function Wg(n,e){e=e||{};var t=new It;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?vz(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var P8=function(){return function n(){this.cx=0,this.cy=0,this.r=0}}(),xz=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.getDefaultShape=function(){return new P8},e.prototype.buildPath=function(t,i){t.moveTo(i.cx+i.r,i.cy),t.arc(i.cx,i.cy,i.r,0,2*Math.PI)},e}(It);xz.prototype.type="circle";const Qr=xz;var R8=function(){return function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}}(),zz=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.getDefaultShape=function(){return new R8},e.prototype.buildPath=function(t,i){var r=.5522848,a=i.cx,o=i.cy,s=i.rx,u=i.ry,c=s*r,h=u*r;t.moveTo(a-s,o),t.bezierCurveTo(a-s,o-h,a-c,o-u,a,o-u),t.bezierCurveTo(a+c,o-u,a+s,o-h,a+s,o),t.bezierCurveTo(a+s,o+h,a+c,o+u,a,o+u),t.bezierCurveTo(a-c,o+u,a-s,o+h,a-s,o),t.closePath()},e}(It);zz.prototype.type="ellipse";const Ug=zz;var wz=Math.PI,$g=2*wz,ao=Math.sin,ws=Math.cos,N8=Math.acos,tn=Math.atan2,Tz=Math.abs,lu=Math.sqrt,uu=Math.max,Wi=Math.min,mi=1e-4;function ep(n,e,t,i,r,a,o){var s=n-t,u=e-i,c=(o?a:-a)/lu(s*s+u*u),h=c*u,p=-c*s,f=n+h,d=e+p,v=t+h,g=i+p,m=(f+v)/2,y=(d+g)/2,_=v-f,b=g-d,C=_*_+b*b,x=r-a,S=f*g-v*d,z=(b<0?-1:1)*lu(uu(0,x*x*C-S*S)),w=(S*b-_*z)/C,T=(-S*_-b*z)/C,D=(S*b+_*z)/C,I=(-S*_+b*z)/C,A=w-m,k=T-y,P=D-m,N=I-y;return A*A+k*k>P*P+N*N&&(w=D,T=I),{cx:w,cy:T,x0:-h,y0:-p,x1:w*(r/x-1),y1:T*(r/x-1)}}var B8=function(){return function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0}}(),Dz=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.getDefaultShape=function(){return new B8},e.prototype.buildPath=function(t,i){!function L8(n,e){var t,i=uu(e.r,0),r=uu(e.r0||0,0),a=i>0;if(a||r>0){if(a||(i=r,r=0),r>i){var s=i;i=r,r=s}var u=e.startAngle,c=e.endAngle;if(!isNaN(u)&&!isNaN(c)){var h=e.cx,p=e.cy,f=!!e.clockwise,d=Tz(c-u),v=d>$g&&d%$g;if(v>mi&&(d=v),i>mi)if(d>$g-mi)n.moveTo(h+i*ws(u),p+i*ao(u)),n.arc(h,p,i,u,c,!f),r>mi&&(n.moveTo(h+r*ws(c),p+r*ao(c)),n.arc(h,p,r,c,u,f));else{var g=void 0,m=void 0,y=void 0,_=void 0,b=void 0,C=void 0,x=void 0,S=void 0,z=void 0,w=void 0,T=void 0,D=void 0,I=void 0,A=void 0,k=void 0,P=void 0,N=i*ws(u),O=i*ao(u),L=r*ws(c),E=r*ao(c),V=d>mi;if(V){var j=e.cornerRadius;j&&(t=function E8(n){var e;if(H(n)){var t=n.length;if(!t)return n;e=1===t?[n[0],n[0],0,0]:2===t?[n[0],n[0],n[1],n[1]]:3===t?n.concat(n[2]):n}else e=[n,n,n,n];return e}(j),g=t[0],m=t[1],y=t[2],_=t[3]);var $=Tz(i-r)/2;if(b=Wi($,y),C=Wi($,_),x=Wi($,g),S=Wi($,m),T=z=uu(b,C),D=w=uu(x,S),(z>mi||w>mi)&&(I=i*ws(c),A=i*ao(c),k=r*ws(u),P=r*ao(u),d<wz)){var it=function O8(n,e,t,i,r,a,o,s){var u=t-n,c=i-e,h=o-r,p=s-a,f=p*u-h*c;if(!(f*f<mi))return[n+(f=(h*(e-a)-p*(n-r))/f)*u,e+f*c]}(N,O,k,P,I,A,L,E);if(it){var ot=N-it[0],st=O-it[1],Tt=I-it[0],kt=A-it[1],Dt=1/ao(N8((ot*Tt+st*kt)/(lu(ot*ot+st*st)*lu(Tt*Tt+kt*kt)))/2),pt=lu(it[0]*it[0]+it[1]*it[1]);T=Wi(z,(i-pt)/(Dt+1)),D=Wi(w,(r-pt)/(Dt-1))}}}if(V)if(T>mi){var Mt=Wi(y,T),bt=Wi(_,T),rt=ep(k,P,N,O,i,Mt,f),Ct=ep(I,A,L,E,i,bt,f);n.moveTo(h+rt.cx+rt.x0,p+rt.cy+rt.y0),T<z&&Mt===bt?n.arc(h+rt.cx,p+rt.cy,T,tn(rt.y0,rt.x0),tn(Ct.y0,Ct.x0),!f):(Mt>0&&n.arc(h+rt.cx,p+rt.cy,Mt,tn(rt.y0,rt.x0),tn(rt.y1,rt.x1),!f),n.arc(h,p,i,tn(rt.cy+rt.y1,rt.cx+rt.x1),tn(Ct.cy+Ct.y1,Ct.cx+Ct.x1),!f),bt>0&&n.arc(h+Ct.cx,p+Ct.cy,bt,tn(Ct.y1,Ct.x1),tn(Ct.y0,Ct.x0),!f))}else n.moveTo(h+N,p+O),n.arc(h,p,i,u,c,!f);else n.moveTo(h+N,p+O);r>mi&&V?D>mi?(Mt=Wi(g,D),rt=ep(L,E,I,A,r,-(bt=Wi(m,D)),f),Ct=ep(N,O,k,P,r,-Mt,f),n.lineTo(h+rt.cx+rt.x0,p+rt.cy+rt.y0),D<w&&Mt===bt?n.arc(h+rt.cx,p+rt.cy,D,tn(rt.y0,rt.x0),tn(Ct.y0,Ct.x0),!f):(bt>0&&n.arc(h+rt.cx,p+rt.cy,bt,tn(rt.y0,rt.x0),tn(rt.y1,rt.x1),!f),n.arc(h,p,r,tn(rt.cy+rt.y1,rt.cx+rt.x1),tn(Ct.cy+Ct.y1,Ct.cx+Ct.x1),f),Mt>0&&n.arc(h+Ct.cx,p+Ct.cy,Mt,tn(Ct.y1,Ct.x1),tn(Ct.y0,Ct.x0),!f))):(n.lineTo(h+L,p+E),n.arc(h,p,r,c,u,f)):n.lineTo(h+L,p+E)}else n.moveTo(h,p);n.closePath()}}}(t,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(It);Dz.prototype.type="sector";const wn=Dz;var V8=function(){return function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}}(),Mz=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.getDefaultShape=function(){return new V8},e.prototype.buildPath=function(t,i){var r=i.cx,a=i.cy,o=2*Math.PI;t.moveTo(r+i.r,a),t.arc(r,a,i.r,0,o,!1),t.moveTo(r+i.r0,a),t.arc(r,a,i.r0,0,o,!0)},e}(It);Mz.prototype.type="ring";const np=Mz;function Iz(n,e,t){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var a=function F8(n,e,t,i){var u,c,h,p,r=[],a=[],o=[],s=[];if(i){h=[1/0,1/0],p=[-1/0,-1/0];for(var f=0,d=n.length;f<d;f++)Or(h,h,n[f]),Er(p,p,n[f]);Or(h,h,i[0]),Er(p,p,i[1])}for(f=0,d=n.length;f<d;f++){var v=n[f];if(t)u=n[f?f-1:d-1],c=n[(f+1)%d];else{if(0===f||f===d-1){r.push(ar(n[f]));continue}u=n[f-1],c=n[f+1]}wa(a,c,u),$c(a,a,e);var g=kd(v,u),m=kd(v,c),y=g+m;0!==y&&(g/=y,m/=y),$c(o,a,-g),$c(s,a,m);var _=d1([],v,o),b=d1([],v,s);i&&(Er(_,_,h),Or(_,_,p),Er(b,b,h),Or(b,b,p)),r.push(_),r.push(b)}return t&&r.push(r.shift()),r}(r,i,t,e.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var o=r.length,s=0;s<(t?o:o-1);s++){var u=a[2*s],c=a[2*s+1],h=r[(s+1)%o];n.bezierCurveTo(u[0],u[1],c[0],c[1],h[0],h[1])}}else{n.moveTo(r[0][0],r[0][1]),s=1;for(var p=r.length;s<p;s++)n.lineTo(r[s][0],r[s][1])}t&&n.closePath()}}var G8=function(){return function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}}(),Az=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.getDefaultShape=function(){return new G8},e.prototype.buildPath=function(t,i){Iz(t,i,!0)},e}(It);Az.prototype.type="polygon";const Tn=Az;var H8=function(){return function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}}(),kz=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new H8},e.prototype.buildPath=function(t,i){Iz(t,i,!1)},e}(It);kz.prototype.type="polyline";const Dn=kz;var X8={},j8=function(){return function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}(),Pz=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new j8},e.prototype.buildPath=function(t,i){var r,a,o,s;if(this.subPixelOptimize){var u=KC(X8,i,this.style);r=u.x1,a=u.y1,o=u.x2,s=u.y2}else r=i.x1,a=i.y1,o=i.x2,s=i.y2;var c=i.percent;0!==c&&(t.moveTo(r,a),c<1&&(o=r*(1-c)+o*c,s=a*(1-c)+s*c),t.lineTo(o,s))},e.prototype.pointAt=function(t){var i=this.shape;return[i.x1*(1-t)+i.x2*t,i.y1*(1-t)+i.y2*t]},e}(It);Pz.prototype.type="line";const He=Pz;var Mn=[],Y8=function(){return function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}}();function Rz(n,e,t){return null!=n.cpx2||null!=n.cpy2?[(t?O1:Ne)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?O1:Ne)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?Ud:Ge)(n.x1,n.cpx1,n.x2,e),(t?Ud:Ge)(n.y1,n.cpy1,n.y2,e)]}var Nz=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Y8},e.prototype.buildPath=function(t,i){var r=i.x1,a=i.y1,o=i.x2,s=i.y2,u=i.cpx1,c=i.cpy1,h=i.cpx2,p=i.cpy2,f=i.percent;0!==f&&(t.moveTo(r,a),null==h||null==p?(f<1&&(wl(r,u,o,f,Mn),u=Mn[1],o=Mn[2],wl(a,c,s,f,Mn),c=Mn[1],s=Mn[2]),t.quadraticCurveTo(u,c,o,s)):(f<1&&(Vr(r,u,h,o,f,Mn),u=Mn[1],h=Mn[2],o=Mn[3],Vr(a,c,p,s,f,Mn),c=Mn[1],p=Mn[2],s=Mn[3]),t.bezierCurveTo(u,c,h,p,o,s)))},e.prototype.pointAt=function(t){return Rz(this.shape,t,!1)},e.prototype.tangentAt=function(t){var i=Rz(this.shape,t,!0);return Zo(i,i)},e}(It);Nz.prototype.type="bezier-curve";const ip=Nz;var W8=function(){return function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),Oz=function(n){function e(t){return n.call(this,t)||this}return ae(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new W8},e.prototype.buildPath=function(t,i){var r=i.cx,a=i.cy,o=Math.max(i.r,0),s=i.startAngle,u=i.endAngle,c=i.clockwise,h=Math.cos(s),p=Math.sin(s);t.moveTo(h*o+r,p*o+a),t.arc(r,a,o,s,u,!c)},e}(It);Oz.prototype.type="arc";const Zg=Oz;var U8=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="compound",t}return ae(e,n),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,i=this.shapeChanged(),r=0;r<t.length;r++)i=i||t[r].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(i[0],i[1],t[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,i){for(var r=i.paths||[],a=0;a<r.length;a++)r[a].buildPath(t,r[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),It.prototype.getBoundingRect.call(this)},e}(It);const qg=U8;var $8=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const Ez=$8;var Z8=function(n){function e(t,i,r,a,o,s){var u=n.call(this,o)||this;return u.x=t??0,u.y=i??0,u.x2=r??1,u.y2=a??0,u.type="linear",u.global=s||!1,u}return ae(e,n),e}(Ez);const cu=Z8;var q8=function(n){function e(t,i,r,a,o){var s=n.call(this,a)||this;return s.x=t??.5,s.y=i??.5,s.r=r??.5,s.type="radial",s.global=o||!1,s}return ae(e,n),e}(Ez);const Lz=q8;var oo=[0,0],so=[0,0],rp=new _t,ap=new _t,K8=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new _t;for(i=0;i<2;i++)this._axes[i]=new _t;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var i=this._corners,r=this._axes,a=e.x,o=e.y,s=a+e.width,u=o+e.height;if(i[0].set(a,o),i[1].set(s,o),i[2].set(s,u),i[3].set(a,u),t)for(var c=0;c<4;c++)i[c].transform(t);for(_t.sub(r[0],i[1],i[0]),_t.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),c=0;c<2;c++)this._origin[c]=r[c].dot(i[0])},n.prototype.intersect=function(e,t){var i=!0,r=!t;return rp.set(1/0,1/0),ap.set(0,0),!this._intersectCheckOneSide(this,e,rp,ap,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(e,this,rp,ap,r,-1)&&(i=!1,r)||r||_t.copy(t,i?rp:ap),i},n.prototype._intersectCheckOneSide=function(e,t,i,r,a,o){for(var s=!0,u=0;u<2;u++){var c=this._axes[u];if(this._getProjMinMaxOnAxis(u,e._corners,oo),this._getProjMinMaxOnAxis(u,t._corners,so),oo[1]<so[0]||oo[0]>so[1]){if(s=!1,a)return s;var h=Math.abs(so[0]-oo[1]),p=Math.abs(oo[0]-so[1]);Math.min(h,p)>r.len()&&_t.scale(r,c,h<p?-h*o:p*o)}else i&&(h=Math.abs(so[0]-oo[1]),p=Math.abs(oo[0]-so[1]),Math.min(h,p)<i.len()&&_t.scale(i,c,h<p?h*o:-p*o))}return s},n.prototype._getProjMinMaxOnAxis=function(e,t,i){for(var r=this._axes[e],a=this._origin,o=t[0].dot(r)+a[e],s=o,u=o,c=1;c<t.length;c++){var h=t[c].dot(r)+a[e];s=Math.min(h,s),u=Math.max(h,u)}i[0]=s,i[1]=u},n}();const op=K8;var Q8=[],J8=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return ae(e,n),e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,i){i?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,i){i=i||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(i=this._displayables[t]).parent=this,i.update(),i.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var i;(i=this._temporaryDisplayables[t]).parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new xt(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(Q8)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);if(this.getBoundingRect().contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(t,i))return!0;return!1},e}(Wn);const t7=J8;var sp=Math.max,lp=Math.min,Kg={};function e7(n){return It.extend(n)}var n7=function A8(n,e){var t=Cz(n,e);return function(r){function a(o){var s=r.call(this,o)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return ae(a,r),a}(_z)};function i7(n,e){return n7(n,e)}function yi(n,e){Kg[n]=e}function Qg(n){if(Kg.hasOwnProperty(n))return Kg[n]}function up(n,e,t,i){var r=Sz(n,e);return t&&("center"===i&&(t=Vz(t,r.getBoundingRect())),Fz(r,t)),r}function Bz(n,e,t){var i=new Ye({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){"center"===t&&i.setStyle(Vz(e,{width:r.width,height:r.height}))}});return i}function Vz(n,e){var r,t=e.width/e.height,i=n.height*t;return r=i<=n.width?n.height:(i=n.width)/t,{x:n.x+n.width/2-i/2,y:n.y+n.height/2-r/2,width:i,height:r}}var Qn=function k8(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push(n[r].getUpdatedPathProxy(!0));var o=new It(e);return o.createPathProxy(),o.buildPath=function(s){if(bz(s)){s.appendPath(t);var u=s.getContext();u&&s.rebuildPath(u,1)}},o};function Fz(n,e){if(n.applyTransform){var i=n.getBoundingRect().calculateTransform(e);n.applyTransform(i)}}function Ts(n,e){return KC(n,n,{lineWidth:e}),n}function r7(n){return QC(n.shape,n.shape,n.style),n}var cp=Ua;function lo(n,e){for(var t=qc([]);n&&n!==e;)sr(t,n.getLocalTransform(),t),n=n.parent;return t}function _i(n,e,t){return e&&!Ke(e)&&(e=ur.getLocalTransform(e)),t&&(e=Ko([],e)),je([],n,e)}function hp(n,e,t){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=["left"===n?-i:"right"===n?i:0,"top"===n?-r:"bottom"===n?r:0];return a=_i(a,e,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Gz(n){return!n.isGroup}function hu(n,e,t){if(n&&e){var a=function i(o){var s={};return o.traverse(function(u){Gz(u)&&u.anid&&(s[u.anid]=u)}),s}(n);e.traverse(function(o){if(Gz(o)&&o.anid){var s=a[o.anid];if(s){var u=r(o);o.attr(r(s)),Gt(o,u,t,dt(o).dataIndex)}}})}function r(o){var s={x:o.x,y:o.y,rotation:o.rotation};return function a7(n){return null!=n.shape}(o)&&(s.shape=F({},o.shape)),s}}function Hz(n,e){return X(n,function(t){var i=t[0];i=sp(i,e.x),i=lp(i,e.x+e.width);var r=t[1];return r=sp(r,e.y),[i,r=lp(r,e.y+e.height)]})}function o7(n,e){var t=sp(n.x,e.x),i=lp(n.x+n.width,e.x+e.width),r=sp(n.y,e.y),a=lp(n.y+n.height,e.y+e.height);if(i>=t&&a>=r)return{x:t,y:r,width:i-t,height:a-r}}function pu(n,e,t){var i=F({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(r.image=n.slice(8),lt(r,t),new Ye(i)):up(n.replace("path://",""),i,t,"center")}function fu(n,e,t,i,r){for(var a=0,o=r[r.length-1];a<r.length;a++){var s=r[a];if(Xz(n,e,t,i,s[0],s[1],o[0],o[1]))return!0;o=s}}function Xz(n,e,t,i,r,a,o,s){var u=t-n,c=i-e,h=o-r,p=s-a,f=Jg(h,p,u,c);if(function s7(n){return n<=1e-6&&n>=-1e-6}(f))return!1;var d=n-r,v=e-a,g=Jg(d,v,u,c)/f;if(g<0||g>1)return!1;var m=Jg(d,v,h,p)/f;return!(m<0||m>1)}function Jg(n,e,t,i){return n*i-t*e}function Ds(n){var e=n.itemTooltipOption,t=n.componentModel,i=n.itemName,r=Q(e)?{formatter:e}:e,a=t.mainType,o=t.componentIndex,s={componentType:a,name:i,$vars:["name"]};s[a+"Index"]=o;var u=n.formatterParamsExtra;u&&M(At(u),function(h){et(s,h)||(s[h]=u[h],s.$vars.push(h))});var c=dt(n.el);c.componentMainType=a,c.componentIndex=o,c.tooltipConfig={name:i,option:lt({content:i,formatterParams:s},r)}}function jz(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function Jr(n,e){if(n)if(H(n))for(var t=0;t<n.length;t++)jz(n[t],e);else jz(n,e)}yi("circle",Qr),yi("ellipse",Ug),yi("sector",wn),yi("ring",np),yi("polygon",Tn),yi("polyline",Dn),yi("rect",Ot),yi("line",He),yi("bezierCurve",ip),yi("arc",Zg);var Yz=Nt(),l7=xs(),tm=function(){function n(){this.group=new ft,this.uid=ps("viewChart"),this.renderTask=au({plan:u7,reset:c7}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.highlight=function(e,t,i,r){var a=e.getData(r&&r.dataType);a&&Uz(a,r,"emphasis")},n.prototype.downplay=function(e,t,i,r){var a=e.getData(r&&r.dataType);a&&Uz(a,r,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateLayout=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateVisual=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.eachRendered=function(e){Jr(this.group,e)},n.markUpdateMethod=function(e,t){Yz(e).updateMethod=t},n.protoInitialize=void(n.prototype.type="chart"),n}();function Wz(n,e,t){n&&$l(n)&&("emphasis"===e?dr:vr)(n,t)}function Uz(n,e,t){var i=La(n,e),r=e&&null!=e.highlightKey?function k4(n){var e=fS[n];return null==e&&pS<=32&&(e=fS[n]=pS++),e}(e.highlightKey):null;null!=i?M(Zt(i),function(a){Wz(n.getItemGraphicEl(a),t,r)}):n.eachItemGraphicEl(function(a){Wz(a,t,r)})}function u7(n){return l7(n.model)}function c7(n){var e=n.model,t=n.ecModel,i=n.api,r=n.payload,a=e.pipelineContext.progressiveRender,o=n.view,s=r&&Yz(r).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==u&&o[u](e,t,i,r),h7[u]}kv(tm),bh(tm);var h7={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const ne=tm;var pp="\0__throttleOriginMethod",$z="\0__throttleRate",Zz="\0__throttleType";function em(n,e,t){var i,s,u,c,h,r=0,a=0,o=null;function p(){a=(new Date).getTime(),o=null,n.apply(u,c||[])}e=e||0;var f=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];i=(new Date).getTime(),u=this,c=d;var g=h||e,m=h||t;h=null,s=i-(m?r:a)-g,clearTimeout(o),m?o=setTimeout(p,g):s>=0?p():o=setTimeout(p,-s),r=i};return f.clear=function(){o&&(clearTimeout(o),o=null)},f.debounceNextCall=function(d){h=d},f}function Ms(n,e,t,i){var r=n[e];if(r){var a=r[pp]||r;if(r[$z]!==t||r[Zz]!==i){if(null==t||!i)return n[e]=a;(r=n[e]=em(a,t,"debounce"===i))[pp]=a,r[Zz]=i,r[$z]=t}return r}}function du(n,e){var t=n[e];t&&t[pp]&&(t.clear&&t.clear(),n[e]=t[pp])}var qz=Nt(),Kz={itemStyle:Va(VS,!0),lineStyle:Va(BS,!0)},p7={lineStyle:"stroke",itemStyle:"fill"};function Qz(n,e){return n.visualStyleMapper||Kz[e]||(console.warn("Unknown style type '"+e+"'."),Kz.itemStyle)}function Jz(n,e){return n.visualDrawType||p7[e]||(console.warn("Unknown style type '"+e+"'."),"fill")}var f7={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=Qz(n,i)(r),s=r.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var u=Jz(n,i),c=o[u],h=at(c)?c:null;if(!o[u]||h||"auto"===o.fill||"auto"===o.stroke){var f=n.getColorFromPalette(n.name,null,e.getSeriesCount());o[u]||(o[u]=f,t.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||at(o.fill)?f:o.fill,o.stroke="auto"===o.stroke||at(o.stroke)?f:o.stroke}if(t.setVisual("style",o),t.setVisual("drawType",u),!e.isSeriesFiltered(n)&&h)return t.setVisual("colorFromPalette",!1),{dataEach:function(d,v){var g=n.getDataParams(v),m=F({},o);m[u]=h(g),d.setItemVisual(v,"style",m)}}}},vu=new ee,d7={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.ignoreStyleOnData&&!e.isSeriesFiltered(n)){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=Qz(n,i),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(o,s){var u=o.getRawDataItem(s);if(u&&u[i]){vu.option=u[i];var c=r(vu);F(o.ensureUniqueItemVisual(s,"style"),c),vu.option.decal&&(o.setItemVisual(s,"decal",vu.option.decal),vu.option.decal.dirty=!0),a in c&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},v7={performRawSeries:!0,overallReset:function(n){var e=nt();n.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+i,a=e.get(r);a||e.set(r,a={}),qz(t).scope=a}}),n.eachSeries(function(t){if(!t.isColorBySeries()&&!n.isSeriesFiltered(t)){var i=t.getRawData(),r={},a=t.getData(),o=qz(t).scope,u=Jz(t,t.visualStyleAccessPath||"itemStyle");a.each(function(c){var h=a.getRawIndex(c);r[h]=c}),i.each(function(c){var h=r[c];if(a.getItemVisual(h,"colorFromPalette")){var f=a.ensureUniqueItemVisual(h,"style"),d=i.getName(c)||c+"",v=i.count();f[u]=t.getColorFromPalette(d,o,v)}})}})}},fp=Math.PI,m7=function(){function n(e,t,i,r){this._stageTaskMap=nt(),this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),r=i.context,o=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>i.blockIndex?i.step:null,s=r&&r.modDataCount;return{step:o,modBy:null!=s?Math.ceil(s/o):null,modDataCount:s}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),a=e.getData().count(),o=i.progressiveEnabled&&t.incrementalPrepareRender&&a>=i.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),u="mod"===e.get("progressiveChunkMode")?a:null;e.pipelineContext=i.context={progressiveRender:o,modDataCount:u,large:s}},n.prototype.restorePipelines=function(e){var t=this,i=t._pipelineMap=nt();e.eachSeries(function(r){var a=r.getProgressive(),o=r.uid;i.set(o,{id:o,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:a&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),i=this.api;M(this._allHandlers,function(r){var a=e.get(r.uid)||e.set(r.uid,{});ln(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,a,t,i),r.overallReset&&this._createOverallStageTask(r,a,t,i)},this)},n.prototype.prepareView=function(e,t,i,r){var a=e.renderTask,o=a.context;o.model=t,o.ecModel=i,o.api=r,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,i){this._performStageTasks(this._visualHandlers,e,t,i)},n.prototype._performStageTasks=function(e,t,i,r){r=r||{};var a=!1,o=this;function s(u,c){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(c.__pipeline.id))}M(e,function(u,c){if(!r.visualType||r.visualType===u.visualType){var h=o._stageTaskMap.get(u.uid),p=h.seriesTaskMap,f=h.overallTask;if(f){var d,v=f.agentStubMap;v.each(function(m){s(r,m)&&(m.dirty(),d=!0)}),d&&f.dirty(),o.updatePayload(f,i);var g=o.getPerformArgs(f,r.block);v.each(function(m){m.perform(g)}),f.perform(g)&&(a=!0)}else p&&p.each(function(m,y){s(r,m)&&m.dirty();var _=o.getPerformArgs(m,r.block);_.skip=!u.performRawSeries&&t.isSeriesFiltered(m.context.model),o.updatePayload(m,i),m.perform(_)&&(a=!0)})}}),this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(i){t=i.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,i,r){var a=this,o=t.seriesTaskMap,s=t.seriesTaskMap=nt(),u=e.seriesType,c=e.getTargetSeries;function h(p){var f=p.uid,d=s.set(f,o&&o.get(f)||au({plan:S7,reset:x7,count:w7}));d.context={model:p,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(p,d)}e.createOnAllSeries?i.eachRawSeries(h):u?i.eachRawSeriesByType(u,h):c&&c(i,r).each(h)},n.prototype._createOverallStageTask=function(e,t,i,r){var a=this,o=t.overallTask=t.overallTask||au({reset:y7});o.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,u=o.agentStubMap=nt(),c=e.seriesType,h=e.getTargetSeries,p=!0,f=!1;function v(g){var m=g.uid,y=u.set(m,s&&s.get(m)||(f=!0,au({reset:_7,onDirty:C7})));y.context={model:g,overallProgress:p},y.agent=o,y.__block=p,a._pipe(g,y)}ln(!e.createOnAllSeries,""),c?i.eachRawSeriesByType(c,v):h?h(i,r).each(v):(p=!1,M(i.getSeries(),v)),f&&o.dirty()},n.prototype._pipe=function(e,t){var r=this._pipelineMap.get(e.uid);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},n.wrapStageHandler=function(e,t){return at(e)&&(e={overallReset:e,seriesType:T7(e)}),e.uid=ps("stageHandler"),t&&(e.visualType=t),e},n}();function y7(n){n.overallReset(n.ecModel,n.api,n.payload)}function _7(n){return n.overallProgress&&b7}function b7(){this.agent.dirty(),this.getDownstream().dirty()}function C7(){this.agent&&this.agent.dirty()}function S7(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function x7(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Zt(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?X(e,function(t,i){return tw(i)}):z7}var z7=tw(0);function tw(n){return function(e,t){var i=t.data,r=t.resetDefines[n];if(r&&r.dataEach)for(var a=e.start;a<e.end;a++)r.dataEach(i,a);else r&&r.progress&&r.progress(e,i)}}function w7(n){return n.data.count()}function T7(n){dp=null;try{n(gu,ew)}catch{}return dp}var dp,gu={},ew={};function nw(n,e){for(var t in e.prototype)n[t]=xe}nw(gu,Cx),nw(ew,Sx),gu.eachSeriesByType=gu.eachRawSeriesByType=function(n){dp=n},gu.eachComponent=function(n){"series"===n.mainType&&n.subType&&(dp=n.subType)};const iw=m7;var rw=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const D7={color:rw,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],rw]};var pn="#B9B8CE",aw="#100C2A",vp=function(){return{axisLine:{lineStyle:{color:pn}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},ow=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],sw={darkMode:!0,color:ow,backgroundColor:aw,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:pn}},textStyle:{color:pn},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:pn}},dataZoom:{borderColor:"#71708A",textStyle:{color:pn},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:pn}},timeline:{lineStyle:{color:pn},label:{color:pn},controlStyle:{color:pn,borderColor:pn}},calendar:{itemStyle:{color:aw},dayLabel:{color:pn},monthLabel:{color:pn},yearLabel:{color:pn}},timeAxis:vp(),logAxis:vp(),valueAxis:vp(),categoryAxis:vp(),line:{symbol:"circle"},graph:{color:ow},gauge:{title:{color:pn},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:pn},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};sw.categoryAxis.splitLine.show=!1;const M7=sw;var I7=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},i={},r={};if(Q(e)){var a=Vi(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};M(e,function(u,c){for(var h=!1,p=0;p<o.length;p++){var f=o[p],d=c.lastIndexOf(f);if(d>0&&d===c.length-f.length){var v=c.slice(0,d);"data"!==v&&(t.mainType=v,t[f.toLowerCase()]=u,h=!0)}}s.hasOwnProperty(c)&&(i[c]=u,h=!0),h||(r[c]=u)})}return{cptQuery:t,dataQuery:i,otherQuery:r}},n.prototype.filter=function(e,t){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,a=i.packedEvent,o=i.model,s=i.view;if(!o||!s)return!0;var u=t.cptQuery,c=t.dataQuery;return h(u,o,"mainType")&&h(u,o,"subType")&&h(u,o,"index","componentIndex")&&h(u,o,"name")&&h(u,o,"id")&&h(c,a,"name")&&h(c,a,"dataIndex")&&h(c,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,r,a));function h(p,f,d,v){return null==p[d]||f[v||d]===p[d]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),nm=["symbol","symbolSize","symbolRotate","symbolOffset"],lw=nm.concat(["symbolKeepAspect"]),A7={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var i={},r={},a=!1,o=0;o<nm.length;o++){var s=nm[o],u=n.get(s);at(u)?(a=!0,r[s]=u):i[s]=u}if(i.symbol=i.symbol||n.defaultSymbol,t.setVisual(F({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),!e.isSeriesFiltered(n)){var c=At(r);return{dataEach:a?function h(p,f){for(var d=n.getRawValue(f),v=n.getDataParams(f),g=0;g<c.length;g++){var m=c[g];p.setItemVisual(f,m,r[m](d,v))}}:null}}}}},k7={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(n.hasSymbolVisual&&!e.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function i(r,a){for(var o=r.getItemModel(a),s=0;s<lw.length;s++){var u=lw[s],c=o.getShallow(u,!0);null!=c&&r.setItemVisual(a,u,c)}}:null}}};function im(n,e,t){switch(t){case"color":return n.getItemVisual(e,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function mu(n,e){switch(e){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function uw(n,e,t,i){switch(t){case"color":n.ensureUniqueItemVisual(e,"style")[n.getVisual("drawType")]=i,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,i)}}function cw(n,e){function t(i,r){var a=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(o){a.push(o.seriesIndex)}),a}M([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){e(i[0],function(r,a,o){r=F({},r),o.dispatchAction(F(r,{type:i[1],seriesIndex:t(a,r)}))})})}function Is(n,e,t,i,r){var a=n+e;t.isSilent(a)||i.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,u=o.option.selectedMap,c=r.selected,h=0;h<c.length;h++)if(c[h].seriesIndex===s){var p=o.getData(),f=La(p,r.fromActionPayload);t.trigger(a,{type:a,seriesId:o.id,name:H(f)?p.getName(f[0]):p.getName(f),selected:Q(u)?u:F({},u)})}})}function uo(n,e,t){for(var i;n&&(!e(n)||(i=n,!t));)n=n.__hostTarget||n.parent;return i}var R7=Math.round(9*Math.random()),N7="function"==typeof Object.defineProperty,O7=function(){function n(){this._id="__ec_inner_"+R7++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var i=this._guard(e);return N7?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},n.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const E7=O7;var L7=It.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,a=e.height/2;n.moveTo(t,i-a),n.lineTo(t+r,i+a),n.lineTo(t-r,i+a),n.closePath()}}),B7=It.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,a=e.height/2;n.moveTo(t,i-a),n.lineTo(t+r,i),n.lineTo(t,i+a),n.lineTo(t-r,i),n.closePath()}}),V7=It.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,i=e.y,r=e.width/5*3,a=Math.max(r,e.height),o=r/2,s=o*o/(a-o),u=i-a+o+s,c=Math.asin(s/o),h=Math.cos(c)*o,p=Math.sin(c),f=Math.cos(c),d=.6*o,v=.7*o;n.moveTo(t-h,u+s),n.arc(t,u,o,Math.PI-c,2*Math.PI+c),n.bezierCurveTo(t+h-p*d,u+s+f*d,t,i-v,t,i),n.bezierCurveTo(t,i-v,t-h+p*d,u+s+f*d,t-h,u+s),n.closePath()}}),F7=It.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.x,a=e.y,o=e.width/3*2;n.moveTo(r,a),n.lineTo(r+o,a+t),n.lineTo(r,a+t/4*3),n.lineTo(r-o,a+t),n.lineTo(r,a),n.closePath()}}),H7={line:function(n,e,t,i,r){r.x1=n,r.y1=e+i/2,r.x2=n+t,r.y2=e+i/2},rect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i},roundRect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i,r.r=Math.min(t,i)/4},square:function(n,e,t,i,r){var a=Math.min(t,i);r.x=n,r.y=e,r.width=a,r.height=a},circle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.r=Math.min(t,i)/2},diamond:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i},pin:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},arrow:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},triangle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i}},gp={};M({line:He,rect:Ot,roundRect:Ot,square:Ot,circle:Qr,diamond:B7,pin:V7,arrow:F7,triangle:L7},function(n,e){gp[e]=new n});var X7=It.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var i=yh(n,e,t),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.position&&(i.y=t.y+.4*t.height),i},buildPath:function(n,e,t){var i=e.symbolType;if("none"!==i){var r=gp[i];r||(r=gp[i="rect"]),H7[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(n,r.shape,t)}}});function j7(n,e){if("image"!==this.type){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):"line"===this.shape.symbolType?t.stroke=n:t.fill=n,this.markRedraw()}}function Ie(n,e,t,i,r,a,o){var u,s=0===n.indexOf("empty");return s&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(u=0===n.indexOf("image://")?Bz(n.slice(8),new xt(e,t,i,r),o?"center":"cover"):0===n.indexOf("path://")?up(n.slice(7),{},new xt(e,t,i,r),o?"center":"cover"):new X7({shape:{symbolType:n,x:e,y:t,width:i,height:r}})).__isEmptyBrush=s,u.setColor=j7,a&&u.setColor(a),u}function As(n){return H(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function co(n,e){if(null!=n)return H(n)||(n=[n,n]),[q(n[0],e[0])||0,q(mt(n[1],n[0]),e[1])||0]}function ho(n){return isFinite(n)}function rm(n,e,t){for(var i="radial"===e.type?function W7(n,e,t){var i=t.width,r=t.height,a=Math.min(i,r),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,u=null==e.r?.5:e.r;return e.global||(o=o*i+t.x,s=s*r+t.y,u*=a),o=ho(o)?o:.5,s=ho(s)?s:.5,u=u>=0&&ho(u)?u:.5,n.createRadialGradient(o,s,0,o,s,u)}(n,e,t):function Y7(n,e,t){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,a=null==e.y?0:e.y,o=null==e.y2?0:e.y2;return e.global||(i=i*t.width+t.x,r=r*t.width+t.x,a=a*t.height+t.y,o=o*t.height+t.y),i=ho(i)?i:0,r=ho(r)?r:1,a=ho(a)?a:0,o=ho(o)?o:0,n.createLinearGradient(i,a,r,o)}(n,e,t),r=e.colorStops,a=0;a<r.length;a++)i.addColorStop(r[a].offset,r[a].color);return i}function mp(n){return parseInt(n,10)}function ks(n,e,t){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var s=document.defaultView.getComputedStyle(n);return(n[r]||mp(s[i])||mp(n.style[i]))-(mp(s[a])||0)-(mp(s[o])||0)|0}function am(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&function $7(n,e){return n&&"solid"!==n&&e>0?"dashed"===n?[4*e,2*e]:"dotted"===n?[e]:Bt(n)?[n]:H(n)?n:null:null}(e.lineDash,e.lineWidth),i=e.lineDashOffset;if(t){var r=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;r&&1!==r&&(t=X(t,function(a){return a/r}),i/=r)}return[t,i]}var Z7=new Xi(!0);function yp(n){var e=n.stroke;return!(null==e||"none"===e||!(n.lineWidth>0))}function hw(n){return"string"==typeof n&&"none"!==n}function _p(n){var e=n.fill;return null!=e&&"none"!==e}function pw(n,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function fw(n,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function om(n,e,t){var i=Rv(e.image,e.__image,t);if(Ch(i)){var r=n.createPattern(i,e.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*Wc),a.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(a)}return r}}var dw=["shadowBlur","shadowOffsetX","shadowOffsetY"],vw=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function gw(n,e,t,i,r){var a=!1;if(!i&&e===(t=t||{}))return!1;if(i||e.opacity!==t.opacity){In(n,r),a=!0;var o=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(o)?Fa.opacity:o}(i||e.blend!==t.blend)&&(a||(In(n,r),a=!0),n.globalCompositeOperation=e.blend||Fa.blend);for(var s=0;s<dw.length;s++){var u=dw[s];(i||e[u]!==t[u])&&(a||(In(n,r),a=!0),n[u]=n.dpr*(e[u]||0))}return(i||e.shadowColor!==t.shadowColor)&&(a||(In(n,r),a=!0),n.shadowColor=e.shadowColor||Fa.shadowColor),a}function mw(n,e,t,i,r){var a=yu(e,r.inHover),o=i?null:t&&yu(t,r.inHover)||{};if(a===o)return!1;var s=gw(n,a,o,i,r);if((i||a.fill!==o.fill)&&(s||(In(n,r),s=!0),hw(a.fill)&&(n.fillStyle=a.fill)),(i||a.stroke!==o.stroke)&&(s||(In(n,r),s=!0),hw(a.stroke)&&(n.strokeStyle=a.stroke)),(i||a.opacity!==o.opacity)&&(s||(In(n,r),s=!0),n.globalAlpha=null==a.opacity?1:a.opacity),e.hasStroke()){var c=a.lineWidth/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==c&&(s||(In(n,r),s=!0),n.lineWidth=c)}for(var h=0;h<vw.length;h++){var p=vw[h],f=p[0];(i||a[f]!==o[f])&&(s||(In(n,r),s=!0),n[f]=a[f]||p[1])}return s}function yw(n,e){var t=e.transform,i=n.dpr||1;t?n.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):n.setTransform(i,0,0,i,0,0)}var _w=1,bw=2,Cw=3,Sw=4;function In(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function yu(n,e){return e&&n.__hoverStyle||n.style}function xw(n,e){po(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function po(n,e,t,i){var r=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return e.__dirty&=~On,void(e.__isRendered=!1);var a=e.__clipPaths,o=t.prevElClipPaths,s=!1,u=!1;if((!o||function U7(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}(a,o))&&(o&&o.length&&(In(n,t),n.restore(),u=s=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(In(n,t),n.save(),function tH(n,e,t){for(var i=!1,r=0;r<n.length;r++){var a=n[r];i=i||a.isZeroArea(),yw(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=i}(a,n,t),s=!0),t.prevElClipPaths=a),t.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=t.prevEl;c||(u=s=!0);var h=e instanceof It&&e.autoBatch&&function nH(n){var e=_p(n),t=yp(n);return!(n.lineDash||!(+e^+t)||e&&"string"!=typeof n.fill||t&&"string"!=typeof n.stroke||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}(e.style);s||function eH(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}(r,c.transform)?(In(n,t),yw(n,e)):h||In(n,t);var p=yu(e,t.inHover);e instanceof It?(t.lastDrawType!==_w&&(u=!0,t.lastDrawType=_w),mw(n,e,c,u,t),(!h||!t.batchFill&&!t.batchStroke)&&n.beginPath(),function q7(n,e,t,i){var r,a=yp(t),o=_p(t),s=t.strokePercent,u=s<1,c=!e.path;(!e.silent||u)&&c&&e.createPathProxy();var h=e.path||Z7,p=e.__dirty;if(!i){var f=t.fill,d=t.stroke,v=o&&!!f.colorStops,g=a&&!!d.colorStops,m=o&&!!f.image,y=a&&!!d.image,_=void 0,b=void 0,C=void 0,x=void 0,S=void 0;(v||g)&&(S=e.getBoundingRect()),v&&(_=p?rm(n,f,S):e.__canvasFillGradient,e.__canvasFillGradient=_),g&&(b=p?rm(n,d,S):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),m&&(C=p||!e.__canvasFillPattern?om(n,f,e):e.__canvasFillPattern,e.__canvasFillPattern=C),y&&(x=p||!e.__canvasStrokePattern?om(n,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=C),v?n.fillStyle=_:m&&(C?n.fillStyle=C:o=!1),g?n.strokeStyle=b:y&&(x?n.strokeStyle=x:a=!1)}var w,T,z=e.getGlobalScale();h.setScale(z[0],z[1],e.segmentIgnoreThreshold),n.setLineDash&&t.lineDash&&(w=(r=am(e))[0],T=r[1]);var D=!0;(c||p&Qo)&&(h.setDPR(n.dpr),u?h.setContext(null):(h.setContext(n),D=!1),h.reset(),e.buildPath(h,e.shape,i),h.toStatic(),e.pathUpdated()),D&&h.rebuildPath(n,u?s:1),w&&(n.setLineDash(w),n.lineDashOffset=T),i||(t.strokeFirst?(a&&fw(n,t),o&&pw(n,t)):(o&&pw(n,t),a&&fw(n,t))),w&&n.setLineDash([])}(n,e,p,h),h&&(t.batchFill=p.fill||"",t.batchStroke=p.stroke||"")):e instanceof Xl?(t.lastDrawType!==Cw&&(u=!0,t.lastDrawType=Cw),mw(n,e,c,u,t),function Q7(n,e,t){var i,r=t.text;if(null!=r&&(r+=""),r){n.font=t.font||Rr,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var a=void 0,o=void 0;n.setLineDash&&t.lineDash&&(a=(i=am(e))[0],o=i[1]),a&&(n.setLineDash(a),n.lineDashOffset=o),t.strokeFirst?(yp(t)&&n.strokeText(r,t.x,t.y),_p(t)&&n.fillText(r,t.x,t.y)):(_p(t)&&n.fillText(r,t.x,t.y),yp(t)&&n.strokeText(r,t.x,t.y)),a&&n.setLineDash([])}}(n,e,p)):e instanceof Ye?(t.lastDrawType!==bw&&(u=!0,t.lastDrawType=bw),function J7(n,e,t,i,r){gw(n,yu(e,r.inHover),t&&yu(t,r.inHover),i,r)}(n,e,c,u,t),function K7(n,e,t){var i=e.__image=Rv(t.image,e.__image,e,e.onload);if(i&&Ch(i)){var r=t.x||0,a=t.y||0,o=e.getWidth(),s=e.getHeight(),u=i.width/i.height;if(null==o&&null!=s?o=s*u:null==s&&null!=o?s=o/u:null==o&&null==s&&(o=i.width,s=i.height),t.sWidth&&t.sHeight)n.drawImage(i,c=t.sx||0,h=t.sy||0,t.sWidth,t.sHeight,r,a,o,s);else if(t.sx&&t.sy){var c,h;n.drawImage(i,c=t.sx,h=t.sy,o-c,s-h,r,a,o,s)}else n.drawImage(i,r,a,o,s)}}(n,e,p)):e.getTemporalDisplayables&&(t.lastDrawType!==Sw&&(u=!0,t.lastDrawType=Sw),function iH(n,e,t){var i=e.getDisplayables(),r=e.getTemporalDisplayables();n.save();var o,s,a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover};for(o=e.getCursor(),s=i.length;o<s;o++)(u=i[o]).beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),po(n,u,a,o===s-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u;for(var c=0,h=r.length;c<h;c++){var u;(u=r[c]).beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),po(n,u,a,c===h-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}(n,e,t)),h&&i&&In(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}}var sm=new E7,zw=new Tl(100),ww=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Ps(n,e){if("none"===n)return null;var t=e.getDevicePixelRatio(),i=e.getZr(),r="svg"===i.painter.type;n.dirty&&sm.delete(n);var a=sm.get(n);if(a)return a;var o=lt(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===o.backgroundColor&&(o.backgroundColor=null);var s={repeat:"repeat"};return function u(c){for(var h=[t],p=!0,f=0;f<ww.length;++f){var d=o[ww[f]];if(null!=d&&!H(d)&&!Q(d)&&!Bt(d)&&"boolean"!=typeof d){p=!1;break}h.push(d)}var v;if(p){v=h.join(",")+(r?"-svg":"");var g=zw.get(v);g&&(r?c.svgElement=g:c.image=g)}var w,m=Dw(o.dashArrayX),y=function rH(n){if(!n||"object"==typeof n&&0===n.length)return[0,0];if(Bt(n)){var e=Math.ceil(n);return[e,e]}var t=X(n,function(i){return Math.ceil(i)});return n.length%2?t.concat(t):t}(o.dashArrayY),_=Tw(o.symbol),b=function aH(n){return X(n,function(e){return Mw(e)})}(m),C=Mw(y),x=!r&&ci.createCanvas(),S=r&&{tag:"g",attrs:{},key:"dcl",children:[]},z=function T(){for(var I=1,A=0,k=b.length;A<k;++A)I=TC(I,b[A]);var P=1;for(A=0,k=_.length;A<k;++A)P=TC(P,_[A].length);I*=P;var N=C*b.length*_.length;return{width:Math.max(1,Math.min(I,o.maxTileWidth)),height:Math.max(1,Math.min(N,o.maxTileHeight))}}();x&&(x.width=z.width*t,x.height=z.height*t,w=x.getContext("2d")),function D(){w&&(w.clearRect(0,0,x.width,x.height),o.backgroundColor&&(w.fillStyle=o.backgroundColor,w.fillRect(0,0,x.width,x.height)));for(var I=0,A=0;A<y.length;++A)I+=y[A];if(!(I<=0))for(var k=-C,P=0,N=0,O=0;k<z.height;){if(P%2==0){for(var L=N/2%_.length,E=0,V=0,j=0;E<2*z.width;){var $=0;for(A=0;A<m[O].length;++A)$+=m[O][A];if($<=0)break;if(V%2==0){var it=.5*(1-o.symbolSize);pt(E+m[O][V]*it,k+y[P]*it,m[O][V]*o.symbolSize,y[P]*o.symbolSize,_[L][j/2%_[L].length])}E+=m[O][V],++j,++V===m[O].length&&(V=0)}++O===m.length&&(O=0)}k+=y[P],++N,++P===y.length&&(P=0)}function pt(Mt,bt,rt,Ct,he){var Et=r?1:t,be=Ie(he,Mt*Et,bt*Et,rt*Et,Ct*Et,o.color,o.symbolKeepAspect);if(r){var ve=i.painter.renderOneToVNode(be);ve&&S.children.push(ve)}else xw(w,be)}}(),p&&zw.put(v,x||S),c.image=x,c.svgElement=S,c.svgWidth=z.width,c.svgHeight=z.height}(s),s.rotation=o.rotation,s.scaleX=s.scaleY=r?1:1/t,sm.set(n,s),n.dirty=!1,s}function Tw(n){if(!n||0===n.length)return[["rect"]];if(Q(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!Q(n[t])){e=!1;break}if(e)return Tw([n]);var i=[];for(t=0;t<n.length;++t)Q(n[t])?i.push([n[t]]):i.push(n[t]);return i}function Dw(n){if(!n||0===n.length)return[[0,0]];if(Bt(n))return[[e=Math.ceil(n),e]];for(var t=!0,i=0;i<n.length;++i)if(!Bt(n[i])){t=!1;break}if(t)return Dw([n]);var r=[];for(i=0;i<n.length;++i)if(Bt(n[i])){var e=Math.ceil(n[i]);r.push([e,e])}else e=X(n[i],function(s){return Math.ceil(s)}),r.push(e.length%2==1?e.concat(e):e);return r}function Mw(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2==1?2*e:e}const bi=new Gn;var Iw={},en="__flagInMainProcess",An="__pendingUpdate",um="__needsUpdateStatus",Rw=/^[a-zA-Z0-9_]+$/,cm="__connectUpdateStatus";function Ow(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.isDisposed())return Lw(this,n,e)}}function Ew(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Lw(this,n,e)}}function Lw(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Gn.prototype[e].apply(n,t)}var Bw=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e}(Gn),Vw=Bw.prototype;Vw.on=Ew("on"),Vw.off=Ew("off");var Rs,hm,Cp,ta,pm,fm,dm,_u,bu,Fw,Gw,vm,Hw,Sp,Xw,jw,Jn,Yw,xp=function(n){function e(t,i,r){var a=n.call(this,new I7)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],r=r||{},Q(i)&&(i=Ww[i]),a._dom=t,r.ssr&&function QG(n){wv=n}(function(d){var v=dt(d),g=v.dataIndex;if(null!=g){var m=nt();return m.set("series_index",v.seriesIndex),m.set("data_index",g),v.ssrType&&m.set("ssr_type",v.ssrType),m}});var h=a._zr=dC(t,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:mt(r.useDirtyRect,!1),useCoarsePointer:mt(r.useCoarsePointer,"auto"),pointerSize:r.pointerSize});a._ssr=r.ssr,a._throttledZrFlush=em(J(h.flush,h),17),(i=ht(i))&&Ax(i,!0),a._theme=i,a._locale=function $4(n){if(Q(n)){var e=Eh[n.toUpperCase()]||{};return"ZH"===n||"EN"===n?ht(e):St(ht(e),ht(Eh[fs]),!1)}return St(ht(n),ht(Eh[fs]),!1)}(r.locale||FS),a._coordSysMgr=new eu;var p=a._api=Xw(a);function f(d,v){return d.__prio-v.__prio}return Jc(wp,f),Jc(mm,f),a._scheduler=new iw(a,p,mm,wp),a._messageCenter=new Bw,a._initEvents(),a.resize=J(a.resize,a),h.animation.on("frame",a._onframe,a),Fw(h,a),Gw(h,a),Xc(a),a}return B(e,n),e.prototype._onframe=function(){if(!this._disposed){Yw(this);var t=this._scheduler;if(this[An]){var i=this[An].silent;this[en]=!0;try{Rs(this),ta.update.call(this,null,this[An].updateParams)}catch(u){throw this[en]=!1,this[An]=null,u}this._zr.flush(),this[en]=!1,this[An]=null,_u.call(this,i),bu.call(this,i)}else if(t.unfinished){var r=1,a=this._model,o=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),fm(this,a),t.performVisualTasks(a),Sp(this,this._model,o,"remain",{}),r-=+new Date-s}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,i,r){if(!this[en]){if(this._disposed)return;var a,o,s;if(ct(i)&&(r=i.lazyUpdate,a=i.silent,o=i.replaceMerge,s=i.transition,i=i.notMerge),this[en]=!0,!this._model||i){var u=new D5(this._api),c=this._theme,h=this._model=new Cx;h.scheduler=this._scheduler,h.ssr=this._ssr,h.init(null,null,null,c,this._locale,u)}this._model.setOption(t,{replaceMerge:o},ym);var p={seriesTransition:s,optionChanged:!0};if(r)this[An]={silent:a,updateParams:p},this[en]=!1,this.getZr().wakeUp();else{try{Rs(this),ta.update.call(this,null,p)}catch(f){throw this[An]=null,this[en]=!1,f}this._ssr||this._zr.flush(),this[An]=null,this[en]=!1,_u.call(this,a),bu.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Lt.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){return this._zr.painter.getRenderedCanvas({backgroundColor:(t=t||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){return this._zr.painter.renderToString({useViewBox:(t=t||{}).useViewBox})},e.prototype.getSvgDataURL=function(){if(Lt.svgSupported){var t=this._zr;return M(t.storage.getDisplayList(),function(r){r.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var r=this._model,a=[],o=this;M((t=t||{}).excludeComponents,function(u){r.eachComponent({mainType:u},function(c){var h=o._componentsMap[c.__viewId];h.group.ignore||(a.push(h),h.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return M(a,function(u){u.group.ignore=!1}),s}},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var i="svg"===t.type,r=this.group,a=Math.min,o=Math.max,s=1/0;if(Tp[r]){var u=s,c=s,h=-s,p=-s,f=[],d=t&&t.pixelRatio||this.getDevicePixelRatio();M(fo,function(b,C){if(b.group===r){var x=i?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(ht(t)),S=b.getDom().getBoundingClientRect();u=a(S.left,u),c=a(S.top,c),h=o(S.right,h),p=o(S.bottom,p),f.push({dom:x,left:S.left,top:S.top})}});var v=(h*=d)-(u*=d),g=(p*=d)-(c*=d),m=ci.createCanvas(),y=dC(m,{renderer:i?"svg":"canvas"});if(y.resize({width:v,height:g}),i){var _="";return M(f,function(b){_+='<g transform="translate('+(b.left-u)+","+(b.top-c)+')">'+b.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=_,t.connectedBackgroundColor&&y.painter.setBackgroundColor(t.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}return t.connectedBackgroundColor&&y.add(new Ot({shape:{x:0,y:0,width:v,height:g},style:{fill:t.connectedBackgroundColor}})),M(f,function(b){var C=new Ye({style:{x:b.left*d-u,y:b.top*d-c,image:b.dom}});y.add(C)}),y.refreshImmediately(),m.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,i){return pm(this,"convertToPixel",t,i)},e.prototype.convertFromPixel=function(t,i){return pm(this,"convertFromPixel",t,i)},e.prototype.containPixel=function(t,i){var a;if(!this._disposed)return M(Vl(this._model,t),function(s,u){u.indexOf("Models")>=0&&M(s,function(c){var h=c.coordinateSystem;if(h&&h.containPoint)a=a||!!h.containPoint(i);else if("seriesModels"===u){var p=this._chartsMap[c.__viewId];p&&p.containPoint&&(a=a||p.containPoint(i,c))}},this)},this),!!a},e.prototype.getVisual=function(t,i){var a=Vl(this._model,t,{defaultMainType:"series"}),s=a.seriesModel.getData(),u=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return null!=u?im(s,u,i):mu(s,i)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;M(zH,function(i){var r=function(a){var u,o=t.getModel(),s=a.target;if("globalout"===i?u={}:s&&uo(s,function(v){var g=dt(v);if(g&&null!=g.dataIndex){var m=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return u=m&&m.getDataParams(g.dataIndex,g.dataType,s)||{},!0}if(g.eventData)return u=F({},g.eventData),!0},!0),u){var h=u.componentType,p=u.componentIndex;("markLine"===h||"markPoint"===h||"markArea"===h)&&(h="series",p=u.seriesIndex);var f=h&&null!=p&&o.getComponent(h,p),d=f&&t["series"===f.mainType?"_chartsMap":"_componentsMap"][f.__viewId];u.event=a,u.type=i,t._$eventProcessor.eventInfo={targetEl:s,packedEvent:u,model:f,view:d},t.trigger(i,u)}};r.zrEventfulCallAtLast=!0,t._zr.on(i,r,t)}),M(Cu,function(i,r){t._messageCenter.on(r,function(a){this.trigger(r,a)},t)}),M(["selectchanged"],function(i){t._messageCenter.on(i,function(r){this.trigger(i,r)},t)}),function P7(n,e,t){n.on("selectchanged",function(i){var r=t.getModel();i.isFromClick?(Is("map","selectchanged",e,r,i),Is("pie","selectchanged",e,r,i)):"select"===i.fromAction?(Is("map","selected",e,r,i),Is("pie","selected",e,r,i)):"unselect"===i.fromAction&&(Is("map","unselected",e,r,i),Is("pie","unselected",e,r,i))})}(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&RC(this.getDom(),bm,"");var i=this,r=i._api,a=i._model;M(i._componentsViews,function(o){o.dispose(a,r)}),M(i._chartsViews,function(o){o.dispose(a,r)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete fo[i.id]}},e.prototype.resize=function(t){if(!this[en]){if(this._disposed)return;this._zr.resize(t);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),a=t&&t.silent;this[An]&&(null==a&&(a=this[An].silent),r=!0,this[An]=null),this[en]=!0;try{r&&Rs(this),ta.update.call(this,{type:"resize",animation:F({duration:0},t&&t.animation)})}catch(o){throw this[en]=!1,o}this[en]=!1,_u.call(this,a),bu.call(this,a)}}},e.prototype.showLoading=function(t,i){if(!this._disposed&&(ct(t)&&(i=t,t=""),t=t||"default",this.hideLoading(),_m[t])){var r=_m[t](this._api,i),a=this._zr;this._loadingFX=r,a.add(r)}},e.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var i=F({},t);return i.type=Cu[t.type],i},e.prototype.dispatchAction=function(t,i){if(!this._disposed&&(ct(i)||(i={silent:!!i}),zp[t.type]&&this._model)){if(this[en])return void this._pendingActions.push(t);var r=i.silent;dm.call(this,t,r);var a=i.flush;a?this._zr.flush():!1!==a&&Lt.browser.weChat&&this._throttledZrFlush(),_u.call(this,r),bu.call(this,r)}},e.prototype.updateLabelLayout=function(){bi.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(!this._disposed){var i=t.seriesIndex;this.getModel().getSeriesByIndex(i).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(p){p.clearColorPalette(),p.eachSeries(function(f){f.clearColorPalette()})}function r(p){for(var f=[],d=p.currentStates,v=0;v<d.length;v++){var g=d[v];"emphasis"===g||"blur"===g||"select"===g||f.push(g)}p.selected&&p.states.select&&f.push("select"),p.hoverState===Mh&&p.states.emphasis?f.push("emphasis"):p.hoverState===jl&&p.states.blur&&f.push("blur"),p.useStates(f)}function s(p,f){if(!p.preventAutoZ){var d=p.get("z")||0,v=p.get("zlevel")||0;f.eachRendered(function(g){return u(g,d,v,-1/0),!0})}}function u(p,f,d,v){var g=p.getTextContent(),m=p.getTextGuideLine();if(p.isGroup)for(var _=p.childrenRef(),b=0;b<_.length;b++)v=Math.max(u(_[b],f,d,v),v);else p.z=f,p.zlevel=d,v=Math.max(p.z2,v);if(g&&(g.z=f,g.zlevel=d,isFinite(v)&&(g.z2=v+2)),m){var C=p.textGuideLineConfig;m.z=f,m.zlevel=d,isFinite(v)&&(m.z2=v+(C&&C.showAbove?1:-1))}return v}function c(p,f){f.eachRendered(function(d){if(!cs(d)){var v=d.getTextContent(),g=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function h(p,f){var d=p.getModel("stateAnimation"),v=p.isAnimationEnabled(),g=d.get("duration"),m=g>0?{duration:g,delay:d.get("delay"),easing:d.get("easing")}:null;f.eachRendered(function(y){if(y.states&&y.states.emphasis){if(cs(y))return;if(y instanceof It&&function P4(n){var e=dS(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}(y),y.__dirty){var _=y.prevStates;_&&y.useStates(_)}if(v){y.stateTransition=m;var b=y.getTextContent(),C=y.getTextGuideLine();b&&(b.stateTransition=m),C&&(C.stateTransition=m)}y.__dirty&&r(y)}})}Rs=function(p){var f=p._scheduler;f.restorePipelines(p._model),f.prepareStageTasks(),hm(p,!0),hm(p,!1),f.plan()},hm=function(p,f){for(var d=p._model,v=p._scheduler,g=f?p._componentsViews:p._chartsViews,m=f?p._componentsMap:p._chartsMap,y=p._zr,_=p._api,b=0;b<g.length;b++)g[b].__alive=!1;function C(S){var z=S.__requireNewView;S.__requireNewView=!1;var w="_ec_"+S.id+"_"+S.type,T=!z&&m[w];if(!T){var D=Vi(S.type);(T=new(f?de.getClass(D.main,D.sub):ne.getClass(D.sub))).init(d,_),m[w]=T,g.push(T),y.add(T.group)}S.__viewId=T.__id=w,T.__alive=!0,T.__model=S,T.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!f&&v.prepareView(T,S,d,_)}for(f?d.eachComponent(function(S,z){"series"!==S&&C(z)}):d.eachSeries(C),b=0;b<g.length;){var x=g[b];x.__alive?b++:(!f&&x.renderTask.dispose(),y.remove(x.group),x.dispose(d,_),g.splice(b,1),m[x.__id]===x&&delete m[x.__id],x.__id=x.group.__ecComponentInfo=null)}},Cp=function(p,f,d,v,g){var m=p._model;if(m.setUpdatePayload(d),v){var y={};y[v+"Id"]=d[v+"Id"],y[v+"Index"]=d[v+"Index"],y[v+"Name"]=d[v+"Name"];var _={mainType:v,query:y};g&&(_.subType=g);var C,b=d.excludeSeriesId;null!=b&&(C=nt(),M(Zt(b),function(S){var z=Ae(S,null);null!=z&&C.set(z,!0)})),m&&m.eachComponent(_,function(S){if(!C||null==C.get(S.id))if(MS(d))if(S instanceof ce)d.type===$a&&!d.notBlur&&!S.get(["emphasis","disabled"])&&function x4(n,e,t){var i=n.seriesIndex,r=n.getData(e.dataType);if(r){var a=La(r,e);a=(H(a)?a[0]:a)||0;var o=r.getItemGraphicEl(a);if(!o)for(var s=r.count(),u=0;!o&&u<s;)o=r.getItemGraphicEl(u++);if(o){var c=dt(o);eg(i,c.focus,c.blurScope,t)}else{var h=n.get(["emphasis","focus"]),p=n.get(["emphasis","blurScope"]);null!=h&&eg(i,h,p,t)}}}(S,d,p._api);else{var w=ig(S.mainType,S.componentIndex,d.name,p._api),D=w.dispatchers;d.type===$a&&w.focusSelf&&!d.notBlur&&ng(S.mainType,S.componentIndex,p._api),D&&M(D,function(I){d.type===$a?dr(I):vr(I)})}else ag(d)&&S instanceof ce&&(function T4(n,e,t){if(ag(e)){var i=e.dataType,a=La(n.getData(i),e);H(a)||(a=[a]),n[e.type===Ul?"toggleSelect":e.type===Wl?"select":"unselect"](a,i)}}(S,d),TS(S),Jn(p))},p),m&&m.eachComponent(_,function(S){C&&null!=C.get(S.id)||x(p["series"===v?"_chartsMap":"_componentsMap"][S.__viewId])},p)}else M([].concat(p._componentsViews).concat(p._chartsViews),x);function x(S){S&&S.__alive&&S[f]&&S[f](S.__model,m,p._api,d)}},ta={prepareAndUpdate:function(p){Rs(this),ta.update.call(this,p,{optionChanged:null!=p.newOption})},update:function(p,f){var d=this._model,v=this._api,g=this._zr,m=this._coordSysMgr,y=this._scheduler;if(d){d.setUpdatePayload(p),y.restoreData(d,p),y.performSeriesTasks(d),m.create(d,v),y.performDataProcessorTasks(d,p),fm(this,d),m.update(d,v),t(d),y.performVisualTasks(d,p),vm(this,d,v,p,f);var _=d.get("backgroundColor")||"transparent",b=d.get("darkMode");g.setBackgroundColor(_),null!=b&&"auto"!==b&&g.setDarkMode(b),bi.trigger("afterupdate",d,v)}},updateTransform:function(p){var f=this,d=this._model,v=this._api;if(d){d.setUpdatePayload(p);var g=[];d.eachComponent(function(y,_){if("series"!==y){var b=f.getViewOfComponentModel(_);if(b&&b.__alive)if(b.updateTransform){var C=b.updateTransform(_,d,v,p);C&&C.update&&g.push(b)}else g.push(b)}});var m=nt();d.eachSeries(function(y){var _=f._chartsMap[y.__viewId];if(_.updateTransform){var b=_.updateTransform(y,d,v,p);b&&b.update&&m.set(y.uid,1)}else m.set(y.uid,1)}),t(d),this._scheduler.performVisualTasks(d,p,{setDirty:!0,dirtyMap:m}),Sp(this,d,v,p,{},m),bi.trigger("afterupdate",d,v)}},updateView:function(p){var f=this._model;f&&(f.setUpdatePayload(p),ne.markUpdateMethod(p,"updateView"),t(f),this._scheduler.performVisualTasks(f,p,{setDirty:!0}),vm(this,f,this._api,p,{}),bi.trigger("afterupdate",f,this._api))},updateVisual:function(p){var f=this,d=this._model;d&&(d.setUpdatePayload(p),d.eachSeries(function(v){v.getData().clearAllVisual()}),ne.markUpdateMethod(p,"updateVisual"),t(d),this._scheduler.performVisualTasks(d,p,{visualType:"visual",setDirty:!0}),d.eachComponent(function(v,g){if("series"!==v){var m=f.getViewOfComponentModel(g);m&&m.__alive&&m.updateVisual(g,d,f._api,p)}}),d.eachSeries(function(v){f._chartsMap[v.__viewId].updateVisual(v,d,f._api,p)}),bi.trigger("afterupdate",d,this._api))},updateLayout:function(p){ta.update.call(this,p)}},pm=function(p,f,d,v){if(!p._disposed)for(var y,g=p._model,m=p._coordSysMgr.getCoordinateSystems(),_=Vl(g,d),b=0;b<m.length;b++){var C=m[b];if(C[f]&&null!=(y=C[f](g,_,v)))return y}},fm=function(p,f){var d=p._chartsMap,v=p._scheduler;f.eachSeries(function(g){v.updateStreamModes(g,d[g.__viewId])})},dm=function(p,f){var d=this,v=this.getModel(),g=p.type,m=p.escapeConnect,y=zp[g],_=y.actionInfo,b=(_.update||"update").split(":"),C=b.pop(),x=null!=b[0]&&Vi(b[0]);this[en]=!0;var S=[p],z=!1;p.batch&&(z=!0,S=X(p.batch,function(P){return(P=lt(F({},P),p)).batch=null,P}));var T,w=[],D=ag(p),I=MS(p);if(I&&wS(this._api),M(S,function(P){if((T=(T=y.action(P,d._model,d._api))||F({},P)).type=_.event||T.type,w.push(T),I){var N=Iv(p),E=N.mainTypeSpecified?N.queryOptionMap.keys()[0]:"series";Cp(d,C,P,E),Jn(d)}else D?(Cp(d,C,P,"series"),Jn(d)):x&&Cp(d,C,P,x.main,x.sub)}),"none"!==C&&!I&&!D&&!x)try{this[An]?(Rs(this),ta.update.call(this,p),this[An]=null):ta[C].call(this,p)}catch(P){throw this[en]=!1,P}if(T=z?{type:_.event||g,escapeConnect:m,batch:w}:w[0],this[en]=!1,!f){var A=this._messageCenter;if(A.trigger(T.type,T),D){var k={type:"selectchanged",escapeConnect:m,selected:D4(v),isFromClick:p.isFromClick||!1,fromAction:p.type,fromActionPayload:p};A.trigger(k.type,k)}}},_u=function(p){for(var f=this._pendingActions;f.length;){var d=f.shift();dm.call(this,d,p)}},bu=function(p){!p&&this.trigger("updated")},Fw=function(p,f){p.on("rendered",function(d){f.trigger("rendered",d),p.animation.isFinished()&&!f[An]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},Gw=function(p,f){p.on("mouseover",function(d){var g=uo(d.target,$l);g&&(function z4(n,e,t){var i=dt(n),r=ig(i.componentMainType,i.componentIndex,i.componentHighDownName,t),a=r.dispatchers;a?(r.focusSelf&&ng(i.componentMainType,i.componentIndex,t),M(a,function(s){return _S(s,e)})):(eg(i.seriesIndex,i.focus,i.blurScope,t),"self"===i.focus&&ng(i.componentMainType,i.componentIndex,t),_S(n,e))}(g,d,f._api),Jn(f))}).on("mouseout",function(d){var g=uo(d.target,$l);g&&(function w4(n,e,t){wS(t);var i=dt(n),r=ig(i.componentMainType,i.componentIndex,i.componentHighDownName,t).dispatchers;r?M(r,function(a){return bS(a,e)}):bS(n,e)}(g,d,f._api),Jn(f))}).on("click",function(d){var g=uo(d.target,function(_){return null!=dt(_).dataIndex},!0);if(g){var m=g.selected?"unselect":"select",y=dt(g);f._api.dispatchAction({type:m,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})},vm=function(p,f,d,v,g){(function i(p){var f=[],d=[],v=!1;if(p.eachComponent(function(_,b){var C=b.get("zlevel")||0,x=b.get("z")||0,S=b.getZLevelKey();v=v||!!S,("series"===_?d:f).push({zlevel:C,z:x,idx:b.componentIndex,type:_,key:S})}),v){var m,y,g=f.concat(d);Jc(g,function(_,b){return _.zlevel===b.zlevel?_.z-b.z:_.zlevel-b.zlevel}),M(g,function(_){var b=p.getComponent(_.type,_.idx),C=_.zlevel,x=_.key;null!=m&&(C=Math.max(m,C)),x?(C===m&&x!==y&&C++,y=x):y&&(C===m&&C++,y=""),m=C,b.setZLevel(C)})}})(f),Hw(p,f,d,v,g),M(p._chartsViews,function(m){m.__alive=!1}),Sp(p,f,d,v,g),M(p._chartsViews,function(m){m.__alive||m.remove(f,d)})},Hw=function(p,f,d,v,g,m){M(m||p._componentsViews,function(y){var _=y.__model;c(0,y),y.render(_,f,d,v),s(_,y),h(_,y)})},Sp=function(p,f,d,v,g,m){var y=p._scheduler;g=F(g||{},{updatedSeries:f.getSeries()}),bi.trigger("series:beforeupdate",f,d,g);var _=!1;f.eachSeries(function(b){var C=p._chartsMap[b.__viewId];C.__alive=!0;var x=C.renderTask;y.updatePayload(x,v),c(0,C),m&&m.get(b.uid)&&x.dirty(),x.perform(y.getPerformArgs(x))&&(_=!0),C.group.silent=!!b.get("silent"),function o(p,f){var d=p.get("blendMode")||null;f.eachRendered(function(v){v.isGroup||(v.style.blend=d)})}(b,C),TS(b)}),y.unfinished=_||y.unfinished,bi.trigger("series:layoutlabels",f,d,g),bi.trigger("series:transition",f,d,g),f.eachSeries(function(b){var C=p._chartsMap[b.__viewId];s(b,C),h(b,C)}),function a(p,f){var g=0;p._zr.storage.traverse(function(m){m.isGroup||g++}),g>f.get("hoverLayerThreshold")&&!Lt.node&&!Lt.worker&&f.eachSeries(function(m){if(!m.preventUsingHoverLayer){var y=p._chartsMap[m.__viewId];y.__alive&&y.eachRendered(function(_){_.states.emphasis&&(_.states.emphasis.hoverLayer=!0)})}})}(p,f),bi.trigger("series:afterupdate",f,d,g)},Jn=function(p){p[um]=!0,p.getZr().wakeUp()},Yw=function(p){p[um]&&(p.getZr().storage.traverse(function(f){cs(f)||r(f)}),p[um]=!1)},Xw=function(p){return new(function(f){function d(){return null!==f&&f.apply(this,arguments)||this}return B(d,f),d.prototype.getCoordinateSystems=function(){return p._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(v){for(;v;){var g=v.__ecComponentInfo;if(null!=g)return p._model.getComponent(g.mainType,g.index);v=v.parent}},d.prototype.enterEmphasis=function(v,g){dr(v,g),Jn(p)},d.prototype.leaveEmphasis=function(v,g){vr(v,g),Jn(p)},d.prototype.enterBlur=function(v){CS(v),Jn(p)},d.prototype.leaveBlur=function(v){tg(v),Jn(p)},d.prototype.enterSelect=function(v){SS(v),Jn(p)},d.prototype.leaveSelect=function(v){xS(v),Jn(p)},d.prototype.getModel=function(){return p.getModel()},d.prototype.getViewOfComponentModel=function(v){return p.getViewOfComponentModel(v)},d.prototype.getViewOfSeriesModel=function(v){return p.getViewOfSeriesModel(v)},d}(Sx))(p)},jw=function(p){function f(d,v){for(var g=0;g<d.length;g++)d[g][cm]=v}M(Cu,function(d,v){p._messageCenter.on(v,function(g){if(Tp[p.group]&&0!==p[cm]){if(g&&g.escapeConnect)return;var m=p.makeActionFromEvent(g),y=[];M(fo,function(_){_!==p&&_.group===p.group&&y.push(_)}),f(y,0),M(y,function(_){1!==_[cm]&&_.dispatchAction(m)}),f(y,2)}})})}}(),e}(Gn),gm=xp.prototype;gm.on=Ow("on"),gm.off=Ow("off"),gm.one=function(n,e,t){var i=this;this.on.call(this,n,function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),i.off(n,r)},t)};var zH=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],zp={},Cu={},mm=[],ym=[],wp=[],Ww={},_m={},fo={},Tp={},wH=+new Date-0,bm="_echarts_instance_";function $w(n,e){Ww[n]=e}function Zw(n){zt(ym,n)<0&&ym.push(n)}function qw(n,e){Sm(mm,n,e,2e3)}function Cm(n,e){bi.on(n,e)}function Ui(n,e,t){at(e)&&(t=e,e="");var i=ct(n)?n.type:[n,n={event:e}][0];n.event=(n.event||i).toLowerCase(),!Cu[e=n.event]&&(ln(Rw.test(i)&&Rw.test(e)),zp[i]||(zp[i]={action:t,actionInfo:n}),Cu[e]=i)}function vo(n,e){Sm(wp,n,e,3e3,"visual")}var Kw=[];function Sm(n,e,t,i,r){if((at(e)||ct(e))&&(t=e,e=i),!(zt(Kw,t)>=0)){Kw.push(t);var a=iw.wrapStageHandler(t,r);a.__prio=e,a.__raw=t,n.push(a)}}function Qw(n,e){_m[n]=e}vo(2e3,f7),vo(4500,d7),vo(4500,v7),vo(2e3,A7),vo(4500,k7),vo(7e3,function oH(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var i=t.getData();i.hasItemVisual()&&i.each(function(o){var s=i.getItemVisual(o,"decal");s&&(i.ensureUniqueItemVisual(o,"style").decal=Ps(s,e))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=Ps(r,e))}})}),Zw(Ax),qw(900,function O5(n){var e=nt();n.eachSeries(function(t){var i=t.get("stack");if(i){var r=e.get(i)||e.set(i,[]),a=t.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;r.length&&a.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}}),e.each(E5)}),Qw("default",function g7(n,e){lt(e=e||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new ft,i=new Ot({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(i);var o,r=new Vt({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Ot({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return t.add(a),e.showSpinner&&((o=new Zg({shape:{startAngle:-fp/2,endAngle:-fp/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*fp/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*fp/2}).delay(300).start("circularInOut"),t.add(o)),t.resize=function(){var s=r.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,c=(n.getWidth()-2*u-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:u),h=n.getHeight()/2;e.showSpinner&&o.setShape({cx:c,cy:h}),a.setShape({x:c-u,y:h-u,width:2*u,height:2*u}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}),Ui({type:$a,event:$a,update:$a},xe),Ui({type:Ih,event:Ih,update:Ih},xe),Ui({type:Wl,event:Wl,update:Wl},xe),Ui({type:Ah,event:Ah,update:Ah},xe),Ui({type:Ul,event:Ul,update:Ul},xe),$w("light",D7),$w("dark",M7);var Jw=[],NH={registerPreprocessor:Zw,registerProcessor:qw,registerPostInit:function MH(n){Cm("afterinit",n)},registerPostUpdate:function IH(n){Cm("afterupdate",n)},registerUpdateLifecycle:Cm,registerAction:Ui,registerCoordinateSystem:function AH(n,e){eu.register(n,e)},registerLayout:function kH(n,e){Sm(wp,n,e,1e3,"layout")},registerVisual:vo,registerTransform:function r8(n){var e=(n=ht(n)).type;e||jt("");var i=e.split(":");2!==i.length&&jt("");var r=!1;"echarts"===i[0]&&(e=i[1],r=!0),n.__isBuiltIn=r,Zx.set(e,n)},registerLoading:Qw,registerMap:function PH(n,e,t){var i=function uH(n){return Iw[n]}("registerMap");i&&i(n,e,t)},registerImpl:function lH(n,e){Iw[n]=e},PRIORITY:{PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},ComponentModel:Ft,ComponentView:de,SeriesModel:ce,ChartView:ne,registerComponentModel:function(n){Ft.registerClass(n)},registerComponentView:function(n){de.registerClass(n)},registerSeriesModel:function(n){ce.registerClass(n)},registerChartView:function(n){ne.registerClass(n)},registerSubTypeDefaulter:function(n,e){Ft.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){!function qG(n,e){_h[n]=e}(n,e)}};function wt(n){H(n)?M(n,function(e){wt(e)}):zt(Jw,n)>=0||(Jw.push(n),at(n)&&(n={install:n}),n.install(NH))}var Su=2*Math.PI,go=Xi.CMD,OH=["top","right","bottom","left"];function EH(n,e,t,i,r){var a=t.width,o=t.height;switch(n){case"top":i.set(t.x+a/2,t.y-e),r.set(0,-1);break;case"bottom":i.set(t.x+a/2,t.y+o+e),r.set(0,1);break;case"left":i.set(t.x-e,t.y+o/2),r.set(-1,0);break;case"right":i.set(t.x+a+e,t.y+o/2),r.set(1,0)}}function LH(n,e,t,i,r,a,o,s,u){o-=n,s-=e;var c=Math.sqrt(o*o+s*s),h=(o/=c)*t+n,p=(s/=c)*t+e;if(Math.abs(i-r)%Su<1e-4)return u[0]=h,u[1]=p,c-t;if(a){var f=i;i=Ln(r),r=Ln(f)}else i=Ln(i),r=Ln(r);i>r&&(r+=Su);var d=Math.atan2(s,o);if(d<0&&(d+=Su),d>=i&&d<=r||d+Su>=i&&d+Su<=r)return u[0]=h,u[1]=p,c-t;var v=t*Math.cos(i)+n,g=t*Math.sin(i)+e,m=t*Math.cos(r)+n,y=t*Math.sin(r)+e,_=(v-o)*(v-o)+(g-s)*(g-s),b=(m-o)*(m-o)+(y-s)*(y-s);return _<b?(u[0]=v,u[1]=g,Math.sqrt(_)):(u[0]=m,u[1]=y,Math.sqrt(b))}function Dp(n,e,t,i,r,a,o,s){var u=r-n,c=a-e,h=t-n,p=i-e,f=Math.sqrt(h*h+p*p),v=(u*(h/=f)+c*(p/=f))/f;s&&(v=Math.min(Math.max(v,0),1));var g=o[0]=n+(v*=f)*h,m=o[1]=e+v*p;return Math.sqrt((g-r)*(g-r)+(m-a)*(m-a))}function tT(n,e,t,i,r,a,o){t<0&&(n+=t,t=-t),i<0&&(e+=i,i=-i);var s=n+t,u=e+i,c=o[0]=Math.min(Math.max(r,n),s),h=o[1]=Math.min(Math.max(a,e),u);return Math.sqrt((c-r)*(c-r)+(h-a)*(h-a))}var Ci=[];function BH(n,e,t){var i=tT(e.x,e.y,e.width,e.height,n.x,n.y,Ci);return t.set(Ci[0],Ci[1]),i}function VH(n,e,t){for(var s,u,i=0,r=0,a=0,o=0,c=1/0,h=e.data,p=n.x,f=n.y,d=0;d<h.length;){var v=h[d++];1===d&&(a=i=h[d],o=r=h[d+1]);var g=c;switch(v){case go.M:i=a=h[d++],r=o=h[d++];break;case go.L:g=Dp(i,r,h[d],h[d+1],p,f,Ci,!0),i=h[d++],r=h[d++];break;case go.C:g=L1(i,r,h[d++],h[d++],h[d++],h[d++],h[d],h[d+1],p,f,Ci),i=h[d++],r=h[d++];break;case go.Q:g=V1(i,r,h[d++],h[d++],h[d],h[d+1],p,f,Ci),i=h[d++],r=h[d++];break;case go.A:var m=h[d++],y=h[d++],_=h[d++],b=h[d++],C=h[d++],x=h[d++];d+=1;var S=!!(1-h[d++]);s=Math.cos(C)*_+m,u=Math.sin(C)*b+y,d<=1&&(a=s,o=u),g=LH(m,y,b,C,C+x,S,(p-m)*b/_+m,f,Ci),i=Math.cos(C+x)*_+m,r=Math.sin(C+x)*b+y;break;case go.R:g=tT(a=i=h[d++],o=r=h[d++],h[d++],h[d++],p,f,Ci);break;case go.Z:g=Dp(i,r,a,o,p,f,Ci,!0),i=a,r=o}g<c&&(c=g,t.set(Ci[0],Ci[1]))}return c}var Si=new _t,ie=new _t,ze=new _t,$i=new _t,Zi=new _t;function eT(n,e){if(n){var t=n.getTextGuideLine(),i=n.getTextContent();if(i&&t){var r=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=r.candidates||OH,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var u=1/0,c=r.anchor,h=n.getComputedTransform(),p=h&&Ko([],h),f=e.get("length2")||0;c&&ze.copy(c);for(var d=0;d<o.length;d++){EH(o[d],0,s,Si,$i),_t.scaleAndAdd(ie,Si,$i,f),ie.transform(p);var g=n.getBoundingRect(),m=c?c.distance(ie):n instanceof It?VH(ie,n.path,ze):BH(ie,g,ze);m<u&&(u=m,ie.transform(h),ze.transform(h),ze.toArray(a[0]),ie.toArray(a[1]),Si.toArray(a[2]))}nT(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var Mp=[],fn=new _t;function nT(n,e){if(e<=180&&e>0){e=e/180*Math.PI,Si.fromArray(n[0]),ie.fromArray(n[1]),ze.fromArray(n[2]),_t.sub($i,Si,ie),_t.sub(Zi,ze,ie);var t=$i.len(),i=Zi.len();if(!(t<.001||i<.001)){$i.scale(1/t),Zi.scale(1/i);var r=$i.dot(Zi);if(Math.cos(e)<r){var o=Dp(ie.x,ie.y,ze.x,ze.y,Si.x,Si.y,Mp,!1);fn.fromArray(Mp),fn.scaleAndAdd(Zi,o/Math.tan(Math.PI-e));var s=ze.x!==ie.x?(fn.x-ie.x)/(ze.x-ie.x):(fn.y-ie.y)/(ze.y-ie.y);if(isNaN(s))return;s<0?_t.copy(fn,ie):s>1&&_t.copy(fn,ze),fn.toArray(n[1])}}}}function FH(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Si.fromArray(n[0]),ie.fromArray(n[1]),ze.fromArray(n[2]),_t.sub($i,ie,Si),_t.sub(Zi,ze,ie);var i=$i.len(),r=Zi.len();if(!(i<.001||r<.001)&&($i.scale(1/i),Zi.scale(1/r),$i.dot(e)<Math.cos(t))){var s=Dp(ie.x,ie.y,ze.x,ze.y,Si.x,Si.y,Mp,!1);fn.fromArray(Mp);var u=Math.PI/2,h=u+Math.acos(Zi.dot(e))-t;if(h>=u)_t.copy(fn,ze);else{fn.scaleAndAdd(Zi,s/Math.tan(Math.PI/2-h));var p=ze.x!==ie.x?(fn.x-ie.x)/(ze.x-ie.x):(fn.y-ie.y)/(ze.y-ie.y);if(isNaN(p))return;p<0?_t.copy(fn,ie):p>1&&_t.copy(fn,ze)}fn.toArray(n[1])}}}function xm(n,e,t,i){var r="normal"===t,a=r?n:n.ensureState(t);a.ignore=e;var o=i.get("smooth");o&&!0===o&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=i.getModel("lineStyle").getLineStyle();r?n.useStyle(s):a.style=s}function GH(n,e){var t=e.smooth,i=e.points;if(i)if(n.moveTo(i[0][0],i[0][1]),t>0&&i.length>=3){var r=Nr(i[0],i[1]),a=Nr(i[1],i[2]);if(!r||!a)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var o=Math.min(r,a)*t,s=Zc([],i[1],i[0],o/r),u=Zc([],i[1],i[2],o/a),c=Zc([],s,u,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),n.bezierCurveTo(u[0],u[1],u[0],u[1],i[2][0],i[2][1])}else for(var h=1;h<i.length;h++)n.lineTo(i[h][0],i[h][1])}function zm(n,e,t){var i=n.getTextGuideLine(),r=n.getTextContent();if(r){for(var a=e.normal,o=a.get("show"),s=r.ignore,u=0;u<Yl.length;u++){var c=Yl[u],h=e[c],p="normal"===c;if(h){var f=h.get("show");if((p?s:mt(r.states[c]&&r.states[c].ignore,s))||!mt(f,o)){var v=p?i:i&&i.states[c];v&&(v.ignore=!0),i&&xm(i,!0,c,h);continue}i||(i=new Dn,n.setTextGuideLine(i),!p&&(s||!o)&&xm(i,!0,"normal",e.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),xm(i,!1,c,h)}}if(i){lt(i.style,t),i.style.fill=null;var g=a.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=g||!1,i.buildPath=GH}}else i&&n.removeTextGuideLine()}function wm(n,e){for(var t={normal:n.getModel(e=e||"labelLine")},i=0;i<hn.length;i++){var r=hn[i];t[r]=n.getModel([r,e])}return t}function iT(n){for(var e=[],t=0;t<n.length;t++){var i=n[t];if(!i.defaultAttr.ignore){var r=i.label,a=r.getComputedTransform(),o=r.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,u=r.style.margin||0,c=o.clone();c.applyTransform(a),c.x-=u/2,c.y-=u/2,c.width+=u,c.height+=u;var h=s?new op(o,a):null;e.push({label:r,labelLine:i.labelLine,rect:c,localRect:o,obb:h,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:a})}}return e}function rT(n,e,t,i,r,a){var o=n.length;if(!(o<2)){n.sort(function(T,D){return T.rect[e]-D.rect[e]});for(var u,s=0,c=!1,h=[],p=0,f=0;f<o;f++){var d=n[f],v=d.rect;(u=v[e]-s)<0&&(v[e]-=u,d.label[e]-=u,c=!0);var g=Math.max(-u,0);h.push(g),p+=g,s=v[e]+v[t]}p>0&&a&&S(-p/o,0,o);var _,b,m=n[0],y=n[o-1];return C(),_<0&&z(-_,.8),b<0&&z(b,.8),C(),x(_,b,1),x(b,_,-1),C(),_<0&&w(-_),b<0&&w(b),c}function C(){_=m.rect[e]-i,b=r-y.rect[e]-y.rect[t]}function x(T,D,I){if(T<0){var A=Math.min(D,-T);if(A>0){S(A*I,0,o);var k=A+T;k<0&&z(-k*I,1)}else z(-T*I,1)}}function S(T,D,I){0!==T&&(c=!0);for(var A=D;A<I;A++){var k=n[A];k.rect[e]+=T,k.label[e]+=T}}function z(T,D){for(var I=[],A=0,k=1;k<o;k++){var P=n[k-1].rect,N=Math.max(n[k].rect[e]-P[e]-P[t],0);I.push(N),A+=N}if(A){var O=Math.min(Math.abs(T)/A,D);if(T>0)for(k=0;k<o-1;k++)S(I[k]*O,0,k+1);else for(k=o-1;k>0;k--)S(-I[k-1]*O,k,o)}}function w(T){var D=T<0?-1:1;T=Math.abs(T);for(var I=Math.ceil(T/(o-1)),A=0;A<o-1;A++)if(D>0?S(I,0,A+1):S(-I,o-A-1,o),(T-=I)<=0)return}}function aT(n,e,t,i){return rT(n,"y","height",e,t,i)}function oT(n){var e=[];n.sort(function(g,m){return m.priority-g.priority});var t=new xt(0,0,0,0);function i(g){if(!g.ignore){var m=g.ensureState("emphasis");null==m.ignore&&(m.ignore=!1)}g.ignore=!0}for(var r=0;r<n.length;r++){var a=n[r],o=a.axisAligned,s=a.localRect,u=a.transform,c=a.label,h=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var p=a.obb,f=!1,d=0;d<e.length;d++){var v=e[d];if(t.intersect(v.rect)){if(o&&v.axisAligned){f=!0;break}if(v.obb||(v.obb=new op(v.localRect,v.transform)),p||(p=new op(s,u)),p.intersect(v.obb)){f=!0;break}}}f?(i(c),h&&i(h)):(c.attr("ignore",a.defaultAttr.ignore),h&&h.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function XH(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function jH(n,e){var t=n.label,i=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:XH(i&&i.shape.points)}}var sT=["align","verticalAlign","width","height","fontSize"],dn=new ur,Tm=Nt(),YH=Nt();function Ip(n,e,t){for(var i=0;i<t.length;i++){var r=t[i];null!=e[r]&&(n[r]=e[r])}}var Ap=["x","y","rotation"],WH=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,i,r,a){var o=r.style,u=r.__hostTarget.textConfig||{},c=r.getComputedTransform(),h=r.getBoundingRect().plain();xt.applyTransform(h,h,c),c?dn.setLocalTransform(c):(dn.x=dn.y=dn.rotation=dn.originX=dn.originY=0,dn.scaleX=dn.scaleY=1),dn.rotation=Ln(dn.rotation);var f,p=r.__hostTarget;if(p){f=p.getBoundingRect().plain();var d=p.getComputedTransform();xt.applyTransform(f,f,d)}var v=f&&p.getTextGuideLine();this._labelList.push({label:r,labelLine:v,seriesModel:i,dataIndex:e,dataType:t,layoutOption:a,computedLayoutOption:null,rect:h,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:v&&v.ignore,x:dn.x,y:dn.y,scaleX:dn.scaleX,scaleY:dn.scaleY,rotation:dn.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:r.cursor,attachedPos:u.position,attachedRot:u.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,r=i.get("labelLayout");(at(r)||At(r).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=dt(a);o&&!o.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,i,o,r)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),i=e.getHeight();function r(b,C){return function(){eT(b,C)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,u=s.__hostTarget,c=o.defaultAttr,h=void 0;h=at(o.layoutOption)?o.layoutOption(jH(o,u)):o.layoutOption,o.computedLayoutOption=h=h||{};var p=Math.PI/180;u&&u.setTextConfig({local:!1,position:null!=h.x||null!=h.y?null:c.attachedPos,rotation:null!=h.rotate?h.rotate*p:c.attachedRot,offset:[h.dx||0,h.dy||0]});var f=!1;if(null!=h.x?(s.x=q(h.x,t),s.setStyle("x",0),f=!0):(s.x=c.x,s.setStyle("x",c.style.x)),null!=h.y?(s.y=q(h.y,i),s.setStyle("y",0),f=!0):(s.y=c.y,s.setStyle("y",c.style.y)),h.labelLinePoints){var d=u.getTextGuideLine();d&&(d.setShape({points:h.labelLinePoints}),f=!1)}Tm(s).needsUpdateLabelLine=f,s.rotation=null!=h.rotate?h.rotate*p:c.rotation,s.scaleX=c.scaleX,s.scaleY=c.scaleY;for(var g=0;g<sT.length;g++){var m=sT[g];s.setStyle(m,null!=h[m]?h[m]:c.style[m])}if(h.draggable){if(s.draggable=!0,s.cursor="move",u){var y=o.seriesModel;null!=o.dataIndex&&(y=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex)),s.on("drag",r(u,y.getModel("labelLine")))}}else s.off("drag"),s.cursor=c.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),i=e.getHeight(),r=iT(this._labelList),a=Ut(r,function(u){return"shiftX"===u.layoutOption.moveOverlap}),o=Ut(r,function(u){return"shiftY"===u.layoutOption.moveOverlap});(function HH(n,e,t,i){rT(n,"x","width",e,t,i)})(a,0,t),aT(o,0,i),oT(Ut(r,function(u){return u.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var e=this;M(this._chartViewList,function(t){var i=t.__model,r=t.ignoreLabelLineUpdate,a=i.isAnimationEnabled();t.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!r,u=o.getTextContent();!s&&u&&(s=Tm(u).needsUpdateLabelLine),s&&e._updateLabelLine(o,i),a&&e._animateLabels(o,i)})})},n.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),r=dt(e),a=r.dataIndex;if(i&&null!=a){var o=t.getData(r.dataType),s=o.getItemModel(a),u={},c=o.getItemVisual(a,"style");if(c){var h=o.getVisual("drawType");u.stroke=c[h]}var p=s.getModel("labelLine");zm(e,wm(s),u),eT(e,p)}},n.prototype._animateLabels=function(e,t){var i=e.getTextContent(),r=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!cs(e))){var o=(a=Tm(i)).oldLayout,s=dt(e),u=s.dataIndex,c={x:i.x,y:i.y,rotation:i.rotation},h=t.getData(s.dataType);if(o){i.attr(o);var f=e.prevStates;f&&(zt(f,"select")>=0&&i.attr(a.oldLayoutSelect),zt(f,"emphasis")>=0&&i.attr(a.oldLayoutEmphasis)),Gt(i,c,t,u)}else if(i.attr(c),!hs(i).valueAnimation){var p=mt(i.style.opacity,1);i.style.opacity=0,le(i,{style:{opacity:p}},t,u)}if(a.oldLayout=c,i.states.select){var d=a.oldLayoutSelect={};Ip(d,c,Ap),Ip(d,i.states.select,Ap)}if(i.states.emphasis){var v=a.oldLayoutEmphasis={};Ip(v,c,Ap),Ip(v,i.states.emphasis,Ap)}LS(i,u,h,t,t)}if(r&&!r.ignore&&!r.invisible){var a=YH(r),g={points:r.shape.points};(o=a.oldLayout)?(r.attr({shape:o}),Gt(r,{shape:g},t)):(r.setShape(g),r.style.strokePercent=0,le(r,{style:{strokePercent:1}},t)),a.oldLayout=g}},n}();const UH=WH;var Dm=Nt();function lT(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){var r=Dm(t).labelManager;r||(r=Dm(t).labelManager=new UH),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,i){var r=Dm(t).labelManager;i.updatedSeries.forEach(function(a){r.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}function uT(n,e,t){var i=ci.createCanvas(),r=e.getWidth(),a=e.getHeight(),o=i.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=r+"px",o.height=a+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*t,i.height=a*t,i}wt(lT);var $H=function(n){function e(t,i,r){var o,a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||gh,"string"==typeof t?o=uT(t,i,r):ct(t)&&(t=(o=t).id),a.id=t,a.dom=o;var s=o.style;return s&&(c1(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=i,a.dpr=r,a}return ae(e,n),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=uT("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,i,r,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var m,o=[],s=this.maxRepaintRectCount,u=!1,c=new xt(0,0,0,0);function h(_){if(_.isFinite()&&!_.isZero())if(0===o.length)(b=new xt(0,0,0,0)).copy(_),o.push(b);else{for(var C=!1,x=1/0,S=0,z=0;z<o.length;++z){var w=o[z];if(w.intersect(_)){var T=new xt(0,0,0,0);T.copy(w),T.union(_),o[z]=T,C=!0;break}if(u){c.copy(_),c.union(w);var k=c.width*c.height-_.width*_.height-w.width*w.height;k<x&&(x=k,S=z)}}var b;u&&(o[S].union(_),C=!0),C||((b=new xt(0,0,0,0)).copy(_),o.push(b)),u||(u=o.length>=s)}}for(var p=this.__startIndex;p<this.__endIndex;++p)if(f=t[p]){var d=f.shouldBePainted(r,a,!0,!0);(v=f.__isRendered&&(f.__dirty&On||!d)?f.getPrevPaintRect():null)&&h(v);var g=d&&(f.__dirty&On||!f.__isRendered)?f.getPaintRect():null;g&&h(g)}for(p=this.__prevStartIndex;p<this.__prevEndIndex;++p){var f,v;d=(f=i[p])&&f.shouldBePainted(r,a,!0,!0),!f||d&&f.__zr||!f.__isRendered||(v=f.getPrevPaintRect())&&h(v)}do{for(m=!1,p=0;p<o.length;)if(o[p].isZero())o.splice(p,1);else{for(var y=p+1;y<o.length;)o[p].intersect(o[y])?(m=!0,o[p].union(o[y]),o.splice(y,1)):y++;p++}}while(m);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,i){var r=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=t+"px",o.height=i+"px"),a.width=t*r,a.height=i*r,s&&(s.width=t*r,s.height=i*r,1!==r&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,i,r){var a=this.dom,o=this.ctx,s=a.width,u=a.height;i=i||this.clearColor;var c=this.motionBlur&&!t,h=this.lastFrameAlpha,p=this.dpr,f=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/p,u/p));var d=this.domBack;function v(g,m,y,_){if(o.clearRect(g,m,y,_),i&&"transparent"!==i){var b=void 0;Hc(i)?(b=(i.global||i.__width===y&&i.__height===_)&&i.__canvasGradient||rm(o,i,{x:0,y:0,width:y,height:_}),i.__canvasGradient=b,i.__width=y,i.__height=_):function bF(n){return null!=n.image}(i)&&(i.scaleX=i.scaleX||p,i.scaleY=i.scaleY||p,b=om(o,i,{dirty:function(){f.setUnpainted(),f.painter.refresh()}})),o.save(),o.fillStyle=b||i,o.fillRect(g,m,y,_),o.restore()}c&&(o.save(),o.globalAlpha=h,o.drawImage(d,g,m,y,_),o.restore())}!r||c?v(0,0,s,u):r.length&&M(r,function(g){v(g.x*p,g.y*p,g.width*p,g.height*p)})},e}(Gn);const Mm=$H;var mo=314159,QH=function(){function n(e,t,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=i=F({},i||{}),this.dpr=i.devicePixelRatio||gh,this._singleCanvas=a,this.root=e,e.style&&(c1(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(a){var h=e,p=h.width,f=h.height;null!=i.width&&(p=i.width),null!=i.height&&(f=i.height),this.dpr=i.devicePixelRatio||1,h.width=p*this.dpr,h.height=f*this.dpr,this._width=p,this._height=f;var d=new Mm(h,this,this.dpr);d.__builtin__=!0,d.initContext(),u[mo]=d,d.zlevel=mo,s.push(mo),this._domRoot=e}else{this._width=ks(e,0,i),this._height=ks(e,1,i);var c=this._domRoot=function KH(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}(this._width,this._height);e.appendChild(c)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var a=0;a<r.length;a++){var s=this._layers[r[a]];!s.__builtin__&&s.refresh&&s.refresh(0===a?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,i=this._hoverlayer;if(i&&i.clear(),t){for(var a,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<t;o++){var s=e[o];s.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),a||(a=i.ctx).save(),po(a,s,r,o===t-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(e,t){xw(e,t)},n.prototype._paintList=function(e,t,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,i),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var u=this;Wd(function(){u._paintList(e,t,i,r)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(mo).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,i)})},n.prototype._doPaintList=function(e,t,i){for(var r=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var c=this._layers[this._zlevelList[s]];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||i)&&a.push(c)}for(var h=!0,p=!1,f=function(g){var m=a[g],y=m.ctx,_=o&&m.createRepaintRects(e,t,d._width,d._height),b=i?m.__startIndex:m.__drawIndex,C=!i&&m.incremental&&Date.now,x=C&&Date.now(),S=m.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,S,_);else if(b===m.__startIndex){var z=e[b];(!z.incremental||!z.notClear||i)&&m.clear(!1,S,_)}-1===b&&(console.error("For some unknown reason. drawIndex is -1"),b=m.__startIndex);var w,T=function(k){var P={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(w=b;w<m.__endIndex;w++){var N=e[w];if(N.__inHover&&(p=!0),r._doPaintEl(N,m,o,k,P,w===m.__endIndex-1),C&&Date.now()-x>15)break}P.prevElClipPaths&&y.restore()};if(_)if(0===_.length)w=m.__endIndex;else for(var D=d.dpr,I=0;I<_.length;++I){var A=_[I];y.save(),y.beginPath(),y.rect(A.x*D,A.y*D,A.width*D,A.height*D),y.clip(),T(A),y.restore()}else y.save(),T(),y.restore();m.__drawIndex=w,m.__drawIndex<m.__endIndex&&(h=!1)},d=this,v=0;v<a.length;v++)f(v);return Lt.wxa&&M(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:h,needsRefreshHover:p}},n.prototype._doPaintEl=function(e,t,i,r,a,o){var s=t.ctx;if(i){var u=e.getPaintRect();(!r||u&&u.intersect(r))&&(po(s,e,a,o),e.setPrevPaintRect(u))}else po(s,e,a,o)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=mo);var i=this._layers[e];return i||((i=new Mm("zr_"+e,this,this.dpr)).zlevel=e,i.__builtin__=!0,this._layerConfig[e]?St(i,this._layerConfig[e],!0):this._layerConfig[e-.01]&&St(i,this._layerConfig[e-.01],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},n.prototype.insertLayer=function(e,t){var i=this._layers,r=this._zlevelList,a=r.length,o=this._domRoot,s=null,u=-1;if(!i[e]&&function qH(n){return!(!n||!n.__builtin__&&("function"!=typeof n.resize||"function"!=typeof n.refresh))}(t)){if(a>0&&e>r[0]){for(u=0;u<a-1&&!(r[u]<e&&r[u+1]>e);u++);s=i[r[u]]}if(r.splice(u+1,0,e),i[e]=t,!t.virtual)if(s){var c=s.dom;c.nextSibling?o.insertBefore(t.dom,c.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},n.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var a=i[r];e.call(t,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var a=i[r],o=this._layers[a];o.__builtin__&&e.call(t,o,a)}},n.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var a=i[r],o=this._layers[a];o.__builtin__||e.call(t,o,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){function t(p){a&&(a.__endIndex!==p&&(a.__dirty=!0),a.__endIndex=p)}if(this.eachBuiltinLayer(function(p,f){p.__dirty=p.__used=!1}),this._singleCanvas)for(var i=1;i<e.length;i++)if((r=e[i]).zlevel!==e[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}var s,u,a=null,o=0;for(u=0;u<e.length;u++){var r,c=(r=e[u]).zlevel,h=void 0;s!==c&&(s=c,o=0),r.incremental?((h=this.getLayer(c+.001,this._needsManuallyCompositing)).incremental=!0,o=1):h=this.getLayer(c+(o>0?.01:0),this._needsManuallyCompositing),h.__builtin__||xd("ZLevel "+c+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==u&&(h.__dirty=!0),h.__startIndex=u,h.__drawIndex=h.incremental?-1:u,t(u),a=h),r.__dirty&On&&!r.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=u))}t(u),this.eachBuiltinLayer(function(p,f){!p.__used&&p.getElementCount()>0&&(p.__dirty=!0,p.__startIndex=p.__endIndex=p.__drawIndex=0),p.__dirty&&p.__drawIndex<0&&(p.__drawIndex=p.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,M(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?St(i[e],t,!0):i[e]=t;for(var r=0;r<this._zlevelList.length;r++){var a=this._zlevelList[r];a!==e&&a!==e+.01||St(this._layers[a],i[e],!0)}}},n.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],i.splice(zt(i,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,a=this.root;if(null!=e&&(r.width=e),null!=t&&(r.height=t),e=ks(a,0,r),t=ks(a,1,r),i.style.display="",this._width!==e||t!==this._height){for(var o in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(mo).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[mo].dom;var t=new Mm("image",this,(e=e||{}).pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,a=t.dom.height;this.eachLayer(function(p){p.__builtin__?i.drawImage(p.dom,0,0,r,a):p.renderToCanvas&&(i.save(),p.renderToCanvas(i),i.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),u=0,c=s.length;u<c;u++)po(i,s[u],o,u===c-1);return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const JH=QH;var Im=Math.sin,Am=Math.cos,hT=Math.PI,yo=2*Math.PI,eX=180/hT,nX=function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,i,r,a,o){this._add("C",e,t,i,r,a,o)},n.prototype.quadraticCurveTo=function(e,t,i,r){this._add("Q",e,t,i,r)},n.prototype.arc=function(e,t,i,r,a,o){this.ellipse(e,t,i,i,0,r,a,o)},n.prototype.ellipse=function(e,t,i,r,a,o,s,u){var v,c=s-o,h=!u,p=Math.abs(c),f=Gr(p-yo)||(h?c>=yo:-c>=yo),d=c>0?c%yo:c%yo+yo;v=!!f||!Gr(p)&&d>=hT==!!h;var g=e+i*Am(o),m=t+r*Im(o);this._start&&this._add("M",g,m);var y=Math.round(a*eX);if(f){var _=1/this._p,b=(h?1:-1)*(yo-_);this._add("A",i,r,y,1,+h,e+i*Am(o+b),t+r*Im(o+b)),_>.01&&this._add("A",i,r,y,0,+h,g,m)}else{var C=e+i*Am(s),x=t+r*Im(s);this._add("A",i,r,y,+v,+h,C,x)}},n.prototype.rect=function(e,t,i,r){this._add("M",e,t),this._add("l",i,0),this._add("l",0,r),this._add("l",-i,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,i,r,a,o,s,u,c){for(var h=[],p=this._p,f=1;f<arguments.length;f++){var d=arguments[f];if(isNaN(d))return void(this._invalid=!0);h.push(Math.round(d*p)/p)}this._d.push(e+h.join(" ")),this._start="Z"===e},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}();const pT=nX;var xu="none",iX=Math.round,km=["lineCap","miterLimit","lineJoin"],oX=X(km,function(n){return"stroke-"+n.toLowerCase()});var fT="http://www.w3.org/2000/svg",dT="http://www.w3.org/1999/xlink",lX="http://www.w3.org/2000/xmlns/",uX="http://www.w3.org/XML/1998/namespace",vT="ecmeta_";function gT(n){return document.createElementNS(fT,n)}function Le(n,e,t,i,r){return{tag:n,attrs:t||{},children:i,text:r,key:e}}function Pm(n,e){var t=(e=e||{}).newline?"\n":"";return function i(r){var a=r.children,o=r.tag,u=r.text;return function cX(n,e){var t=[];if(e)for(var i in e){var r=e[i],a=i;!1!==r&&(!0!==r&&null!=r&&(a+='="'+r+'"'),t.push(a))}return"<"+n+" "+t.join(" ")+">"}(o,r.attrs)+("style"!==o?Cn(u):u||"")+(a?""+t+X(a,function(c){return i(c)}).join(t)+t:"")+function hX(n){return"</"+n+">"}(o)}(n)}function Rm(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function mT(n,e,t,i){return Le("svg","root",{width:n,height:e,xmlns:fT,"xmlns:xlink":dT,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+n+" "+e},t)}var fX=0;function yT(){return fX++}var _T={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},_o="transform-origin";function dX(n,e,t){var i=F({},n.shape);F(i,e),n.buildPath(t,i);var r=new pT;return r.reset(Z1(n)),t.rebuildPath(r,1),r.generateStr(),r.getStr()}function vX(n,e){var t=e.originX,i=e.originY;(t||i)&&(n[_o]=t+"px "+i+"px")}var gX={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function bT(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function CT(n){return Q(n)?_T[n]?"cubic-bezier("+_T[n]+")":$d(n)?n:"":""}function Pp(n,e,t,i){var r=n.animators,a=r.length,o=[];if(n instanceof qg){var s=function mX(n,e,t){var a,o,r={};if(M(n.shape.paths,function(u){var c=Rm(t.zrId);c.animation=!0,Pp(u,{},c,!0);var h=c.cssAnims,p=c.cssNodes,f=At(h),d=f.length;if(d){var v=h[o=f[d-1]];for(var g in v){var m=v[g];r[g]=r[g]||{d:""},r[g].d+=m.d||""}for(var y in p){var _=p[y].animation;_.indexOf(o)>=0&&(a=_)}}}),a){e.d=!1;var s=bT(r,t);return a.replace(o,s)}}(n,e,t);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var u={},c=0;c<a;c++){var h=r[c],p=[h.getMaxTime()/1e3+"s"],f=CT(h.getClip().easing),d=h.getDelay();p.push(f||"linear"),d&&p.push(d/1e3+"s"),h.getLoop()&&p.push("infinite");var v=p.join(" ");u[v]=u[v]||[v,[]],u[v][1].push(h)}function g(_){var b=_[1],C=b.length,x={},S={},z={},w="animation-timing-function";function T(pt,Mt,bt){for(var rt=pt.getTracks(),Ct=pt.getMaxTime(),he=0;he<rt.length;he++){var Et=rt[he];if(Et.needsAnimate()){var be=Et.keyframes,ve=Et.propName;if(bt&&(ve=bt(ve)),ve)for(var nn=0;nn<be.length;nn++){var Mr=be[nn],kn=Math.round(Mr.time/Ct*100)+"%",Qf=CT(Mr.easing),ya=Mr.rawValue;(Q(ya)||Bt(ya))&&(Mt[kn]=Mt[kn]||{},Mt[kn][ve]=Mr.rawValue,Qf&&(Mt[kn][w]=Qf))}}}}for(var D=0;D<C;D++)(A=(I=b[D]).targetName)?"shape"===A&&T(I,S):!i&&T(I,x);for(var k in x){var P={};lC(P,n),F(P,x[k]);var N=q1(P),O=x[k][w];z[k]=N?{transform:N}:{},vX(z[k],P),O&&(z[k][w]=O)}var L,E=!0;for(var k in S){z[k]=z[k]||{};var V=!L;O=S[k][w],V&&(L=new Xi);var j=L.len();L.reset(),z[k].d=dX(n,S[k],L);var $=L.len();if(!V&&j!==$){E=!1;break}O&&(z[k][w]=O)}if(!E)for(var k in z)delete z[k].d;if(!i)for(D=0;D<C;D++){var I,A;"style"===(A=(I=b[D]).targetName)&&T(I,z,function(rt){return gX[rt]})}var st,it=At(z),ot=!0;for(D=1;D<it.length;D++){var Tt=it[D-1];if(z[Tt][_o]!==z[it[D]][_o]){ot=!1;break}st=z[Tt][_o]}if(ot&&st){for(var k in z)z[k][_o]&&delete z[k][_o];e[_o]=st}if(Ut(it,function(pt){return At(z[pt]).length>0}).length)return bT(z,t)+" "+_[0]+" both"}for(var m in u)(s=g(u[m]))&&o.push(s);if(o.length){var y=t.zrId+"-cls-"+yT();t.cssNodes["."+y]={animation:o.join(",")},e.class=y}}function ST(n,e,t,i){var r=JSON.stringify(n),a=t.cssStyleCache[r];a||(a=t.zrId+"-cls-"+yT(),t.cssStyleCache[r]=a,t.cssNodes["."+a+(i?":hover":"")]=n),e.class=e.class?e.class+" "+a:a}var zu=Math.round;function xT(n){return n&&Q(n.src)}function zT(n){return n&&at(n.toDataURL)}function Nm(n,e,t,i){(function sX(n,e,t,i){var r=null==e.opacity?1:e.opacity;if(t instanceof Ye)n("opacity",r);else{if(function rX(n){var e=n.fill;return null!=e&&e!==xu}(e)){var a=Al(e.fill);n("fill",a.color);var o=null!=e.fillOpacity?e.fillOpacity*a.opacity*r:a.opacity*r;(i||o<1)&&n("fill-opacity",o)}else n("fill",xu);if(function aX(n){var e=n.stroke;return null!=e&&e!==xu}(e)){var s=Al(e.stroke);n("stroke",s.color);var u=e.strokeNoScale?t.getLineScale():1,c=u?(e.lineWidth||0)/u:0,h=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*r:s.opacity*r,p=e.strokeFirst;if((i||1!==c)&&n("stroke-width",c),(i||p)&&n("paint-order",p?"stroke":"fill"),(i||h<1)&&n("stroke-opacity",h),e.lineDash){var f=am(t),d=f[0],v=f[1];d&&(v=iX(v||0),n("stroke-dasharray",d.join(",")),(v||i)&&n("stroke-dashoffset",v))}else i&&n("stroke-dasharray",xu);for(var g=0;g<km.length;g++){var m=km[g];if(i||e[m]!==Dh[m]){var y=e[m]||Dh[m];y&&n(oX[g],y)}}}else i&&n("stroke",xu)}})(function(r,a){var o="fill"===r||"stroke"===r;o&&$1(a)?AT(e,n,r,i):o&&iv(a)?kT(t,n,r,i):n[r]=o&&"none"===a?"transparent":a},e,t,!1),function wX(n,e,t){var i=n.style;if(function _G(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}(i)){var r=function bG(n){var e=n.style,t=n.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}(n),a=t.shadowCache,o=a[r];if(!o){var s=n.getGlobalScale(),u=s[0],c=s[1];if(!u||!c)return;var h=i.shadowOffsetX||0,p=i.shadowOffsetY||0,f=i.shadowBlur,d=Al(i.shadowColor),v=d.opacity,g=d.color,_=f/2/u+" "+f/2/c;o=t.zrId+"-s"+t.shadowIdx++,t.defs[o]=Le("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Le("feDropShadow","",{dx:h/u,dy:p/c,stdDeviation:_,"flood-color":g,"flood-opacity":v})]),a[r]=o}e.filter=uh(o)}}(t,n,i)}function Om(n,e){var t=function KG(n){if("function"==typeof wv)return wv(n)}(e);t&&(t.each(function(i,r){null!=i&&(n[(vT+r).toLowerCase()]=i+"")}),e.isSilent()&&(n[vT+"silent"]="true"))}function wT(n){return Gr(n[0]-1)&&Gr(n[1])&&Gr(n[2])&&Gr(n[3]-1)}function Em(n,e,t){if(e&&(!function _X(n){return Gr(n[4])&&Gr(n[5])}(e)||!wT(e))){var i=t?10:1e4;n.transform=wT(e)?"translate("+zu(e[4]*i)/i+" "+zu(e[5]*i)/i+")":function gG(n){return"matrix("+lh(n[0])+","+lh(n[1])+","+lh(n[2])+","+lh(n[3])+","+nv(n[4])+","+nv(n[5])+")"}(e)}}function TT(n,e,t){for(var i=n.points,r=[],a=0;a<i.length;a++)r.push(zu(i[a][0]*t)/t),r.push(zu(i[a][1]*t)/t);e.points=r.join(" ")}function DT(n){return!n.smooth}var CX={circle:[function bX(n){var e=X(n,function(t){return"string"==typeof t?[t,t]:t});return function(t,i,r){for(var a=0;a<e.length;a++){var o=e[a],s=t[o[0]];null!=s&&(i[o[1]]=zu(s*r)/r)}}}(["cx","cy","r"])],polyline:[TT,DT],polygon:[TT,DT]};function MT(n,e){var t=n.style,i=n.shape,r=CX[n.type],a={},o=e.animation,s="path",u=n.style.strokePercent,c=e.compress&&Z1(n)||4;if(!r||e.willUpdate||r[1]&&!r[1](i)||o&&function SX(n){for(var e=n.animators,t=0;t<e.length;t++)if("shape"===e[t].targetName)return!0;return!1}(n)||u<1){var p=!n.path||n.shapeChanged();n.path||n.createPathProxy();var f=n.path;p&&(f.beginPath(),n.buildPath(f,n.shape),n.pathUpdated());var d=f.getVersion(),v=n,g=v.__svgPathBuilder;(v.__svgPathVersion!==d||!g||u!==v.__svgPathStrokePercent)&&(g||(g=v.__svgPathBuilder=new pT),g.reset(c),f.rebuildPath(g,u),g.generateStr(),v.__svgPathVersion=d,v.__svgPathStrokePercent=u),a.d=g.getStr()}else{s=n.type;var h=Math.pow(10,c);r[0](i,a,h)}return Em(a,n.transform),Nm(a,t,n,e),Om(a,n),e.animation&&Pp(n,a,e),e.emphasis&&function yX(n,e,t){if(!n.ignore)if(n.isSilent())ST(i={"pointer-events":"none"},e,t,!0);else{var r=n.states.emphasis&&n.states.emphasis.style?n.states.emphasis.style:{},a=r.fill;if(!a){var o=n.style&&n.style.fill,s=n.states.select&&n.states.select.style&&n.states.select.style.fill,u=n.currentStates.indexOf("select")>=0&&s||o;u&&(a=ev(u))}var c=r.lineWidth;c&&(c/=!r.strokeNoScale&&n.transform?n.transform[0]:1);var i={cursor:"pointer"};a&&(i.fill=a),r.stroke&&(i.stroke=r.stroke),c&&(i["stroke-width"]=c),ST(i,e,t,!0)}}(n,a,e),Le(s,n.id+"",a)}function IT(n,e){return n instanceof It?MT(n,e):n instanceof Ye?function xX(n,e){var t=n.style,i=t.image;if(i&&!Q(i)&&(xT(i)?i=i.src:zT(i)&&(i=i.toDataURL())),i){var r=t.x||0,a=t.y||0,u={href:i,width:t.width,height:t.height};return r&&(u.x=r),a&&(u.y=a),Em(u,n.transform),Nm(u,t,n,e),Om(u,n),e.animation&&Pp(n,u,e),Le("image",n.id+"",u)}}(n,e):n instanceof Xl?function zX(n,e){var t=n.style,i=t.text;if(null!=i&&(i+=""),i&&!isNaN(t.x)&&!isNaN(t.y)){var r=t.font||Rr,a=t.x||0,o=function yG(n,e,t){return"top"===t?n+=e/2:"bottom"===t&&(n-=e/2),n}(t.y||0,mh(r),t.textBaseline),u={"dominant-baseline":"central","text-anchor":mG[t.textAlign]||t.textAlign};if(oS(t)){var c="",h=t.fontStyle,p=rS(t.fontSize);if(!parseFloat(p))return;var d=t.fontWeight;c+="font-size:"+p+";font-family:"+(t.fontFamily||e1)+";",h&&"normal"!==h&&(c+="font-style:"+h+";"),d&&"normal"!==d&&(c+="font-weight:"+d+";"),u.style=c}else u.style="font: "+r;return i.match(/\s/)&&(u["xml:space"]="preserve"),a&&(u.x=a),o&&(u.y=o),Em(u,n.transform),Nm(u,t,n,e),Om(u,n),e.animation&&Pp(n,u,e),Le("text",n.id+"",u,void 0,i)}}(n,e):void 0}function AT(n,e,t,i){var a,r=n[t],o={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(W1(r))a="linearGradient",o.x1=r.x,o.y1=r.y,o.x2=r.x2,o.y2=r.y2;else{if(!U1(r))return;a="radialGradient",o.cx=mt(r.x,.5),o.cy=mt(r.y,.5),o.r=mt(r.r,.5)}for(var s=r.colorStops,u=[],c=0,h=s.length;c<h;++c){var p=100*nv(s[c].offset)+"%",d=Al(s[c].color),g=d.opacity,m={offset:p};m["stop-color"]=d.color,g<1&&(m["stop-opacity"]=g),u.push(Le("stop",c+"",m))}var _=Pm(Le(a,"",o,u)),b=i.gradientCache,C=b[_];C||(C=i.zrId+"-g"+i.gradientIdx++,b[_]=C,o.id=C,i.defs[C]=Le(a,C,o,u)),e[t]=uh(C)}function kT(n,e,t,i){var p,r=n.style[t],a=n.getBoundingRect(),o={},s=r.repeat,u="no-repeat"===s,c="repeat-x"===s,h="repeat-y"===s;if(Y1(r)){var f=r.imageWidth,d=r.imageHeight,v=void 0,g=r.image;if(Q(g)?v=g:xT(g)?v=g.src:zT(g)&&(v=g.toDataURL()),typeof Image>"u"){var m="Image width/height must been given explictly in svg-ssr renderer.";ln(f,m),ln(d,m)}else if(null==f||null==d){var y=function(D,I){if(D){var A=D.elm,k=f||I.width,P=d||I.height;"pattern"===D.tag&&(c?(P=1,k/=a.width):h&&(k=1,P/=a.height)),D.attrs.width=k,D.attrs.height=P,A&&(A.setAttribute("width",k),A.setAttribute("height",P))}},_=Rv(v,null,n,function(D){u||y(S,D),y(p,D)});_&&_.width&&_.height&&(f=f||_.width,d=d||_.height)}p=Le("image","img",{href:v,width:f,height:d}),o.width=f,o.height=d}else r.svgElement&&(p=ht(r.svgElement),o.width=r.svgWidth,o.height=r.svgHeight);if(p){var b,C;u?b=C=1:c?(C=1,b=o.width/a.width):h?(b=1,C=o.height/a.height):o.patternUnits="userSpaceOnUse",null!=b&&!isNaN(b)&&(o.width=b),null!=C&&!isNaN(C)&&(o.height=C);var x=q1(r);x&&(o.patternTransform=x);var S=Le("pattern","",o,[p]),z=Pm(S),w=i.patternCache,T=w[z];T||(T=i.zrId+"-p"+i.patternIdx++,w[z]=T,o.id=T,S=i.defs[T]=Le("pattern",T,o,[p])),e[t]=uh(T)}}function TX(n,e,t){var i=t.clipPathCache,r=t.defs,a=i[n.id];if(!a){var o={id:a=t.zrId+"-c"+t.clipPathIdx++};i[n.id]=a,r[a]=Le("clipPath",a,o,[MT(n,t)])}e["clip-path"]=uh(a)}function PT(n){return document.createTextNode(n)}function bo(n,e,t){n.insertBefore(e,t)}function RT(n,e){n.removeChild(e)}function NT(n,e){n.appendChild(e)}function OT(n){return n.parentNode}function ET(n){return n.nextSibling}function Lm(n,e){n.textContent=e}var LT=58,DX=120,MX=Le("","");function Bm(n){return void 0===n}function qi(n){return void 0!==n}function IX(n,e,t){for(var i={},r=e;r<=t;++r){var a=n[r].key;void 0!==a&&(i[a]=r)}return i}function wu(n,e){return n.tag===e.tag&&n.key===e.key}function Tu(n){var e,t=n.children,i=n.tag;if(qi(i)){var r=n.elm=gT(i);if(Vm(MX,n),H(t))for(e=0;e<t.length;++e){var a=t[e];null!=a&&NT(r,Tu(a))}else qi(n.text)&&!ct(n.text)&&NT(r,PT(n.text))}else n.elm=PT(n.text);return n.elm}function BT(n,e,t,i,r){for(;i<=r;++i){var a=t[i];null!=a&&bo(n,Tu(a),e)}}function Rp(n,e,t,i){for(;t<=i;++t){var r=e[t];null!=r&&(qi(r.tag)?RT(OT(r.elm),r.elm):RT(n,r.elm))}}function Vm(n,e){var t,i=e.elm,r=n&&n.attrs||{},a=e.attrs||{};if(r!==a){for(t in a){var o=a[t];r[t]!==o&&(!0===o?i.setAttribute(t,""):!1===o?i.removeAttribute(t):"style"===t?i.style.cssText=o:t.charCodeAt(0)!==DX?i.setAttribute(t,o):"xmlns:xlink"===t||"xmlns"===t?i.setAttributeNS(lX,t,o):t.charCodeAt(3)===LT?i.setAttributeNS(uX,t,o):t.charCodeAt(5)===LT?i.setAttributeNS(dT,t,o):i.setAttribute(t,o))}for(t in r)t in a||i.removeAttribute(t)}}function Ns(n,e){var t=e.elm=n.elm,i=n.children,r=e.children;n!==e&&(Vm(n,e),Bm(e.text)?qi(i)&&qi(r)?i!==r&&function AX(n,e,t){for(var p,f,d,i=0,r=0,a=e.length-1,o=e[0],s=e[a],u=t.length-1,c=t[0],h=t[u];i<=a&&r<=u;)null==o?o=e[++i]:null==s?s=e[--a]:null==c?c=t[++r]:null==h?h=t[--u]:wu(o,c)?(Ns(o,c),o=e[++i],c=t[++r]):wu(s,h)?(Ns(s,h),s=e[--a],h=t[--u]):wu(o,h)?(Ns(o,h),bo(n,o.elm,ET(s.elm)),o=e[++i],h=t[--u]):wu(s,c)?(Ns(s,c),bo(n,s.elm,o.elm),s=e[--a],c=t[++r]):(Bm(p)&&(p=IX(e,i,a)),Bm(f=p[c.key])||(d=e[f]).tag!==c.tag?bo(n,Tu(c),o.elm):(Ns(d,c),e[f]=void 0,bo(n,d.elm,o.elm)),c=t[++r]);(i<=a||r<=u)&&(i>a?BT(n,null==t[u+1]?null:t[u+1].elm,t,r,u):Rp(n,e,i,a))}(t,i,r):qi(r)?(qi(n.text)&&Lm(t,""),BT(t,null,r,0,r.length-1)):qi(i)?Rp(t,i,0,i.length-1):qi(n.text)&&Lm(t,""):n.text!==e.text&&(qi(i)&&Rp(t,i,0,i.length-1),Lm(t,e.text)))}var PX=0,RX=function(){function n(e,t,i){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=i=F({},i),this.root=e,this._id="zr"+PX++,this._oldVNode=mT(i.width,i.height),e&&!i.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=gT("svg");Vm(null,this._oldVNode),r.appendChild(a),e.appendChild(r)}this.resize(i.width,i.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function kX(n,e){if(wu(n,e))Ns(n,e);else{var t=n.elm,i=OT(t);Tu(e),null!==i&&(bo(i,e.elm,ET(t)),Rp(i,[n],0,0))}}(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return IT(e,Rm(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),i=this._width,r=this._height,a=Rm(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis;var o=[],s=this._bgVNode=function NX(n,e,t,i){var r;if(t&&"none"!==t)if(r=Le("rect","bg",{width:n,height:e,x:"0",y:"0"}),$1(t))AT({fill:t},r.attrs,"fill",i);else if(iv(t))kT({style:{fill:t},dirty:xe,getBoundingRect:function(){return{width:n,height:e}}},r.attrs,"fill",i);else{var a=Al(t),s=a.opacity;r.attrs.fill=a.color,s<1&&(r.attrs["fill-opacity"]=s)}return r}(i,r,this._backgroundColor,a);s&&o.push(s);var u=e.compress?null:this._mainVNode=Le("g","main",{},[]);this._paintList(t,a,u?u.children:o),u&&o.push(u);var c=X(At(a.defs),function(f){return a.defs[f]});if(c.length&&o.push(Le("defs","defs",{},c)),e.animation){var h=function pX(n,e,t){var i=(t=t||{}).newline?"\n":"",r=" {"+i,a=i+"}",o=X(At(n),function(u){return u+r+X(At(n[u]),function(c){return c+":"+n[u][c]+";"}).join(i)+a}).join(i),s=X(At(e),function(u){return"@keyframes "+u+r+X(At(e[u]),function(c){return c+r+X(At(e[u][c]),function(h){var p=e[u][c][h];return"d"===h&&(p='path("'+p+'")'),h+":"+p+";"}).join(i)+a}).join(i)+a}).join(i);return o||s?["<![CDATA[",o,s,"]]>"].join(i):""}(a.cssNodes,a.cssAnims,{newline:!0});if(h){var p=Le("style","stl",{},[],h);o.push(p)}}return mT(i,r,o,e.useViewBox)},n.prototype.renderToString=function(e){return Pm(this.renderToVNode({animation:mt((e=e||{}).cssAnimation,!0),emphasis:mt(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:mt(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,i){for(var s,u,r=e.length,a=[],o=0,c=0,h=0;h<r;h++){var p=e[h];if(!p.invisible){var f=p.__clipPaths,d=f&&f.length||0,v=u&&u.length||0,g=void 0;for(g=Math.max(d-1,v-1);g>=0&&(!f||!u||f[g]!==u[g]);g--);for(var m=v-1;m>g;m--)s=a[--o-1];for(var y=g+1;y<d;y++){var _={};TX(f[y],_,t);var b=Le("g","clip-g-"+c++,_,[]);(s?s.children:i).push(b),a[o++]=b,s=b}u=f;var C=IT(p,t);C&&(s?s.children:i).push(C)}}},n.prototype.resize=function(e,t){var i=this._opts,r=this.root,a=this._viewport;if(null!=e&&(i.width=e),null!=t&&(i.height=t),r&&a&&(a.style.display="none",e=ks(r,0,i),t=ks(r,1,i),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var o=a.style;o.width=e+"px",o.height=t+"px"}if(iv(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var u=this._bgVNode&&this._bgVNode.elm;u&&(u.setAttribute("width",e),u.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),i="data:image/svg+xml;";return e?(t=SG(t))&&i+"base64,"+t:i+"charset=UTF-8,"+encodeURIComponent(t)},n}();const OX=RX;function Du(n){return null==n?0:n.length||1}function FT(n){return n}var LX=function(){function n(e,t,i,r,a,o){this._old=e,this._new=t,this._oldKeyGetter=i||FT,this._newKeyGetter=r||FT,this.context=a,this._diffModeMultiple="multiple"===o}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},r=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,i,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=r[o],u=i[s],c=Du(u);if(c>1){var h=u.shift();1===u.length&&(i[s]=u[0]),this._update&&this._update(h,o)}else 1===c?(i[s]=null,this._update&&this._update(u,o)):this._remove&&this._remove(o)}this._performRestAdd(a,i)},n.prototype._executeMultiple=function(){var t=this._new,i={},r={},a=[],o=[];this._initIndexMap(this._old,i,a,"_oldKeyGetter"),this._initIndexMap(t,r,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var u=a[s],c=i[u],h=r[u],p=Du(c),f=Du(h);if(p>1&&1===f)this._updateManyToOne&&this._updateManyToOne(h,c),r[u]=null;else if(1===p&&f>1)this._updateOneToMany&&this._updateOneToMany(h,c),r[u]=null;else if(1===p&&1===f)this._update&&this._update(h,c),r[u]=null;else if(p>1&&f>1)this._updateManyToMany&&this._updateManyToMany(h,c),r[u]=null;else if(p>1)for(var d=0;d<p;d++)this._remove&&this._remove(c[d]);else this._remove&&this._remove(c)}this._performRestAdd(o,r)},n.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],a=t[r],o=Du(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else 1===o&&this._add&&this._add(a);t[r]=null}},n.prototype._initIndexMap=function(e,t,i,r){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[r](e[o],o);if(a||(i[o]=s),t){var u=t[s],c=Du(u);0===c?(t[s]=o,a&&i.push(s)):1===c?t[s]=[u,o]:u.push(o)}}},n}();const yr=LX;var BX=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function Fm(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function Np(n){return"category"===n?"ordinal":"time"===n?"time":"float"}const Op=function(){return function n(e){this.otherDims={},null!=e&&F(this,e)}}();var HX=Nt(),XX={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},GT=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=jT(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return mt(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Nx(this.source),i=!YT(e),r="",a=[],o=0,s=0;o<e;o++){var u=void 0,c=void 0,h=void 0,p=this.dimensions[s];if(p&&p.storeDimIndex===o)u=t?p.name:null,c=p.type,h=p.ordinalMeta,s++;else{var f=this.getSourceDimension(o);f&&(u=t?f.name:null,c=f.type)}a.push({property:u,type:c,ordinalMeta:h}),t&&null!=u&&(!p||!p.isCalculationCoord)&&(r+=i?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),r+="$",r+=XX[c]||"f",h&&(r+=h.uid),r+="$"}var d=this.source;return{dimensions:a,hash:[d.seriesLayoutBy,d.startIndex,r].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var r=void 0,a=this.dimensions[i];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(r=a.name),i++;else{var o=this.getSourceDimension(t);o&&(r=o.name)}e.push(r)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function HT(n){return n instanceof GT}function XT(n){for(var e=nt(),t=0;t<(n||[]).length;t++){var i=n[t],r=ct(i)?i.name:i;null!=r&&null==e.get(r)&&e.set(r,t)}return e}function jT(n){var e=HX(n);return e.dimNameMap||(e.dimNameMap=XT(n.dimensionsDefine))}function YT(n){return n>30}var UT,Ep,Iu,Au,Gm,Lp,Hm,Mu=ct,ea=X,jX=typeof Int32Array>"u"?Array:Int32Array,WX=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],UX=["_approximateExtent"],$X=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i,r=!1;HT(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,i=e),i=i||["x","y"];for(var a={},o=[],s={},u=!1,c={},h=0;h<i.length;h++){var p=i[h],f=Q(p)?new Op({name:p}):p instanceof Op?p:new Op(p),d=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=d,f.coordDimIndex=0);var v=f.otherDims=f.otherDims||{};o.push(d),a[d]=f,null!=c[d]&&(u=!0),f.createInvertedIndices&&(s[d]=[]),0===v.itemName&&(this._nameDimIdx=h),0===v.itemId&&(this._idDimIdx=h),r&&(f.storeDimIndex=h)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(u),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=nt();M(o,function(m){g.set(a[m].storeDimIndex,m)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(null!=i)return i;var r=this._schema.getSourceDimension(t);return r?r.name:void 0},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(Bt(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(i){return t.hasOwnProperty(i)?t[i]:void 0}:function(i){return t[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(null==t)return i.encodeFirstDimNotExtra[e];var r=i.encode[e];return r?r[t]:null},n.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,i){var a,r=this;if(e instanceof Bg&&(a=e),!a){var o=this.dimensions,s=Ig(e)||Ke(e)?new Lx(e,o.length):e;a=new Bg;var u=ea(o,function(c){return{type:r._dimInfos[c].type,property:c}});a.initData(s,u,i)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=function VX(n,e){var t={},i=t.encode={},r=nt(),a=[],o=[],s={};M(n.dimensions,function(f){var d=n.getDimensionInfo(f),v=d.coordDim;if(v){var g=d.coordDimIndex;Fm(i,v)[g]=f,d.isExtraCoord||(r.set(v,1),function FX(n){return!("ordinal"===n||"time"===n)}(d.type)&&(a[0]=f),Fm(s,v)[g]=n.getDimensionIndex(d.name)),d.defaultTooltip&&o.push(f)}ox.each(function(m,y){var _=Fm(i,y),b=d.otherDims[y];null!=b&&!1!==b&&(_[b]=d.name)})});var u=[],c={};r.each(function(f,d){var v=i[d];c[d]=v[0],u=u.concat(v)}),t.dataDimsOnCoord=u,t.dataDimIndicesOnCoord=X(u,function(f){return n.getDimensionInfo(f).storeDimIndex}),t.encodeFirstDimNotExtra=c;var h=i.label;h&&h.length&&(a=h.slice());var p=i.tooltip;return p&&p.length?o=p.slice():o.length||(o=a.slice()),i.defaultedLabel=a,i.defaultedTooltip=o,t.userOutput=new BX(s,e),t}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t.length),r=i.start,a=i.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=r;s<a;s++)this._nameList[s]=t[s-r],o&&Hm(this,s)},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var r=this._dimInfos[t[i]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==gr&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList;if(r.getSource().sourceFormat===Zn&&!r.pure)for(var c=[],h=e;h<t;h++){var p=r.getItem(h,c);if(!this.hasItemOption&&r3(p)&&(this.hasItemOption=!0),p){var f=p.name;null==a[h]&&null!=f&&(a[h]=Ae(f,null));var d=p.id;null==o[h]&&null!=d&&(o[h]=Ae(d,null))}}if(this._shouldMakeIdFromName())for(h=e;h<t;h++)Hm(this,h);UT(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){Mu(e)?F(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return null==i&&null!=this._nameDimIdx&&(i=Iu(this,this._nameDimIdx,t)),null==i&&(i=""),i},n.prototype._getCategory=function(e,t){var i=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[i]:i},n.prototype.getId=function(e){return Ep(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._dimInfos[e];if(r)return this._store.get(r.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._dimInfos[e];if(r)return this._store.getByRawIndex(r.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var i=this,r=this._store;return H(e)?r.getValues(ea(e,function(a){return i._getStoreDimIndex(a)}),t):r.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,r=t.length;i<r;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=(e&&this._invertedIndicesMap[e])[t];return null==r||isNaN(r)?-1:r},n.prototype.indicesOfNearest=function(e,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,i)},n.prototype.each=function(e,t,i){at(e)&&(i=t,t=e,e=[]);var r=i||this,a=ea(Au(e),this._getStoreDimIndex,this);this._store.each(a,r?J(t,r):t)},n.prototype.filterSelf=function(e,t,i){at(e)&&(i=t,t=e,e=[]);var r=i||this,a=ea(Au(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,r?J(t,r):t),this},n.prototype.selectRange=function(e){var t=this,i={},r=At(e),a=[];return M(r,function(o){var s=t._getStoreDimIndex(o);i[s]=e[o],a.push(s)}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(e,t,i){at(e)&&(i=t,t=e,e=[]);var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},i=i||this),r},n.prototype.map=function(e,t,i,r){var a=i||r||this,o=ea(Au(e),this._getStoreDimIndex,this),s=Lp(this);return s._store=this._store.map(o,a?J(t,a):t),s},n.prototype.modify=function(e,t,i,r){var o=i||r||this,s=ea(Au(e),this._getStoreDimIndex,this);this._store.modify(s,o?J(t,o):t)},n.prototype.downSample=function(e,t,i,r){var a=Lp(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,i,r),a},n.prototype.lttbDownSample=function(e,t){var i=Lp(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,i=this.getRawDataItem(e);return new ee(i,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new yr(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return Ep(e,i)},function(i){return Ep(t,i)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},Mu(e)?F(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e];return(i&&i[t])??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,r=i[e];r||(r=i[e]={});var a=r[t];return null==a&&(H(a=this.getVisual(t))?a=a.slice():Mu(a)&&(a=F({},a)),r[t]=a),a},n.prototype.setItemVisual=function(e,t,i){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,Mu(t)?F(r,t):r[t]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){Mu(e)?F(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?F(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){Zv(this.hostModel&&this.hostModel.seriesIndex,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){M(this._graphicEls,function(i,r){i&&e&&e.call(t,i,r)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:ea(this.dimensions,this._getDimInfo,this),this.hostModel)),Gm(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var i=this[e];at(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=i.apply(this,arguments);return t.apply(this,[r].concat(Td(arguments)))})},n.internalField=(UT=function(e){var t=e._invertedIndicesMap;M(t,function(i,r){var a=e._dimInfos[r],o=a.ordinalMeta,s=e._store;if(o){i=t[r]=new jX(o.categories.length);for(var u=0;u<i.length;u++)i[u]=-1;for(u=0;u<s.count();u++)i[s.get(a.storeDimIndex,u)]=u}})},Iu=function(e,t,i){return Ae(e._getCategory(t,i),null)},Ep=function(e,t){var i=e._idList[t];return null==i&&null!=e._idDimIdx&&(i=Iu(e,e._idDimIdx,t)),null==i&&(i="e\0\0"+t),i},Au=function(e){return H(e)||(e=null!=e?[e]:[]),e},Lp=function(e){var t=new n(e._schema?e._schema:ea(e.dimensions,e._getDimInfo,e),e.hostModel);return Gm(t,e),t},Gm=function(e,t){M(WX.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,M(UX,function(i){e[i]=ht(t[i])}),e._calculationInfo=F({},t._calculationInfo)},void(Hm=function(e,t){var i=e._nameList,r=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=i[t],u=r[t];if(null==s&&null!=a&&(i[t]=s=Iu(e,a,t)),null==u&&null!=o&&(r[t]=u=Iu(e,o,t)),null==u&&null!=s){var c=e._nameRepeatCount,h=c[s]=(c[s]||0)+1;u=s,h>1&&(u+="__ec__"+h),r[t]=u}})),n}();const vn=$X;function Os(n,e){Ig(n)||(n=kg(n));var t=(e=e||{}).coordDimensions||[],i=e.dimensionsDefine||n.dimensionsDefine||[],r=nt(),a=[],o=function qX(n,e,t,i){var r=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,i||0);return M(e,function(a){var o;ct(a)&&(o=a.dimsDef)&&(r=Math.max(r,o.length))}),r}(n,t,i,e.dimensionsCount),s=e.canOmitUnusedDimensions&&YT(o),u=i===n.dimensionsDefine,c=u?jT(n):XT(i),h=e.encodeDefine;!h&&e.encodeDefaulter&&(h=e.encodeDefaulter(n,o));for(var p=nt(h),f=new qx(o),d=0;d<f.length;d++)f[d]=-1;function v(T){var D=f[T];if(D<0){var I=i[T],A=ct(I)?I:{name:I},k=new Op,P=A.name;return null!=P&&null!=c.get(P)&&(k.name=k.displayName=P),null!=A.type&&(k.type=A.type),null!=A.displayName&&(k.displayName=A.displayName),f[T]=a.length,k.storeDimIndex=T,a.push(k),k}return a[D]}if(!s)for(d=0;d<o;d++)v(d);p.each(function(T,D){var I=Zt(T).slice();if(1===I.length&&!Q(I[0])&&I[0]<0)p.set(D,!1);else{var A=p.set(D,[]);M(I,function(k,P){var N=Q(k)?c.get(k):k;null!=N&&N<o&&(A[P]=N,m(v(N),D,P))})}});var g=0;function m(T,D,I){null!=ox.get(D)?T.otherDims[D]=I:(T.coordDim=D,T.coordDimIndex=I,r.set(D,!0))}M(t,function(T){var D,I,A,k;if(Q(T))D=T,k={};else{D=(k=T).name;var P=k.ordinalMeta;k.ordinalMeta=null,(k=F({},k)).ordinalMeta=P,I=k.dimsDef,A=k.otherDims,k.name=k.coordDim=k.coordDimIndex=k.dimsDef=k.otherDims=null}var N=p.get(D);if(!1!==N){if(!(N=Zt(N)).length)for(var O=0;O<(I&&I.length||1);O++){for(;g<o&&null!=v(g).coordDim;)g++;g<o&&N.push(g++)}M(N,function(L,E){var V=v(L);if(u&&null!=k.type&&(V.type=k.type),m(lt(V,k),D,E),null==V.name&&I){var j=I[E];!ct(j)&&(j={name:j}),V.name=V.displayName=j.name,V.defaultTooltip=j.defaultTooltip}A&&lt(V.otherDims,A)})}});var y=e.generateCoord,_=e.generateCoordCount,b=null!=_;_=y?_||1:0;var C=y||"value";function x(T){null==T.name&&(T.name=T.coordDim)}if(s)M(a,function(T){x(T)}),a.sort(function(T,D){return T.storeDimIndex-D.storeDimIndex});else for(var S=0;S<o;S++){var z=v(S);null==z.coordDim&&(z.coordDim=KX(C,r,b),z.coordDimIndex=0,(!y||_<=0)&&(z.isExtraCoord=!0),_--),x(z),null==z.type&&(cx(n,S)===$e.Must||z.isExtraCoord&&(null!=z.otherDims.itemName||null!=z.otherDims.seriesName))&&(z.type="ordinal")}return function ZX(n){for(var e=nt(),t=0;t<n.length;t++){var i=n[t],r=i.name,a=e.get(r)||0;a>0&&(i.name=r+(a-1)),a++,e.set(r,a)}}(a),new GT({source:n,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function KX(n,e,t){if(t||e.hasKey(n)){for(var i=0;e.hasKey(n+i);)i++;n+=i}return e.set(n,!0),n}var QX=function(){return function n(e){this.coordSysDims=[],this.axisMap=nt(),this.categoryAxisMap=nt(),this.coordSysName=e}}(),t6={cartesian2d:function(n,e,t,i){var r=n.getReferringComponents("xAxis",De).models[0],a=n.getReferringComponents("yAxis",De).models[0];e.coordSysDims=["x","y"],t.set("x",r),t.set("y",a),Es(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),Es(a)&&(i.set("y",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,i){var r=n.getReferringComponents("singleAxis",De).models[0];e.coordSysDims=["single"],t.set("single",r),Es(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(n,e,t,i){var r=n.getReferringComponents("polar",De).models[0],a=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",o),Es(a)&&(i.set("radius",a),e.firstCategoryDimIndex=0),Es(o)&&(i.set("angle",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,i){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,i){var r=n.ecModel,a=r.getComponent("parallel",n.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();M(a.parallelAxisIndex,function(s,u){var c=r.getComponent("parallelAxis",s),h=o[u];t.set(h,c),Es(c)&&(i.set(h,c),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=u))})}};function Es(n){return"category"===n.get("type")}function na(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function $T(n,e){return na(n,e)?n.getCalculationInfo("stackResultDimension"):e}const _r=function a6(n,e,t){t=t||{};var r,i=e.getSourceManager(),a=!1;n?(a=!0,r=kg(n)):a=(r=i.getSource()).sourceFormat===Zn;var o=function JX(n){var e=n.get("coordinateSystem"),t=new QX(e),i=t6[e];if(i)return i(n,t,t.axisMap,t.categoryAxisMap),t}(e),s=function i6(n,e){var r,t=n.get("coordinateSystem"),i=eu.get(t);return e&&e.coordSysDims&&(r=X(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var u=s.get("type");o.type=Np(u)}return o})),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),r}(e,o),u=t.useEncodeDefaulter,c=at(u)?u:u?yt(ux,s,e):null,p=Os(r,{coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a}),f=function r6(n,e,t){var i,r;return t&&M(n,function(a,o){var u=t.categoryAxisMap.get(a.coordDim);u&&(null==i&&(i=o),a.ordinalMeta=u.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),null!=a.otherDims.itemName&&(r=!0)}),!r&&null!=i&&(n[i].otherDims.itemName=0),i}(p.dimensions,t.createInvertedIndices,o),d=a?null:i.getSharedDataStore(p),v=function e6(n,e,t){var a,o,s,i=(t=t||{}).byIndex,r=t.stackedCoordDimension;!function n6(n){return!HT(n.schema)}(e)?(a=(o=e.schema).dimensions,s=e.store):a=e;var c,h,p,f,u=!(!n||!n.get("stack"));if(M(a,function(_,b){Q(_)&&(a[b]=_={name:_}),u&&!_.isExtraCoord&&(!i&&!c&&_.ordinalMeta&&(c=_),!h&&"ordinal"!==_.type&&"time"!==_.type&&(!r||r===_.coordDim)&&(h=_))}),h&&!i&&!c&&(i=!0),h){p="__\0ecstackresult_"+n.id,f="__\0ecstackedover_"+n.id,c&&(c.createInvertedIndices=!0);var d=h.coordDim,v=h.type,g=0;M(a,function(_){_.coordDim===d&&g++});var m={name:p,coordDim:d,coordDimIndex:g,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},y={name:f,coordDim:f,coordDimIndex:g+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(f,v),y.storeDimIndex=s.ensureCalculationDimension(p,v)),o.appendCalculationDimension(m),o.appendCalculationDimension(y)):(a.push(m),a.push(y))}return{stackedDimension:h&&h.name,stackedByDimension:c&&c.name,isStackedByIndex:i,stackedOverDimension:f,stackResultDimension:p}}(e,{schema:p,store:d}),g=new vn(p,e);g.setCalculationInfo(v);var m=null!=f&&function o6(n){if(n.sourceFormat===Zn){var e=function s6(n){for(var e=0;e<n.length&&null==n[e];)e++;return n[e]}(n.data||[]);return!H(as(e))}}(r)?function(y,_,b,C){return C===f?b:this.defaultDimValueGetter(y,_,b,C)}:null;return g.hasItemOption=!1,g.initData(a?r:d,null,m),g};var l6=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return B(e,n),e.prototype.getInitialData=function(t){return _r(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var i=new ft,r=Ie("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);i.add(r),r.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s="none"===a?"circle":a,u=.8*t.itemHeight,c=Ie(s,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);return i.add(c),c.setStyle(t.itemStyle),c.rotation=("inherit"===t.iconRotate?o:t.iconRotate||0)*Math.PI/180,c.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(ce);const u6=l6;function Ls(n,e){var t=n.mapDimensionsAll("defaultedLabel"),i=t.length;if(1===i){var r=Cs(n,e,t[0]);return null!=r?r+"":null}if(i){for(var a=[],o=0;o<t.length;o++)a.push(Cs(n,e,t[o]));return a.join(" ")}}function ZT(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!H(e))return e+"";for(var i=[],r=0;r<t.length;r++){var a=n.getDimensionIndex(t[r]);a>=0&&i.push(e[a])}return i.join(" ")}var c6=function(n){function e(t,i,r,a){var o=n.call(this)||this;return o.updateData(t,i,r,a),o}return B(e,n),e.prototype._createSymbol=function(t,i,r,a,o){this.removeAll();var s=Ie(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=h6,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){dr(this.childAt(0))},e.prototype.downplay=function(){vr(this.childAt(0))},e.prototype.setZ=function(t,i){var r=this.childAt(0);r.zlevel=t,r.z=i},e.prototype.setDraggable=function(t,i){var r=this.childAt(0);r.draggable=t,r.cursor=!i&&t?"move":r.cursor},e.prototype.updateData=function(t,i,r,a){this.silent=!1;var o=t.getItemVisual(i,"symbol")||"circle",s=t.hostModel,u=e.getSymbolSize(t,i),c=o!==this._symbolType,h=a&&a.disableAnimation;if(c){var p=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(o,t,i,u,p)}else{(f=this.childAt(0)).silent=!1;var d={scaleX:u[0]/2,scaleY:u[1]/2};h?f.attr(d):Gt(f,d,s,i),vi(f)}if(this._updateCommon(t,i,u,r,a),c){var f=this.childAt(0);h||(d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}},f.scaleX=f.scaleY=0,f.style.opacity=0,le(f,d,s,i))}h&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,i,r,a,o){var c,h,p,f,d,v,g,m,y,s=this.childAt(0),u=t.hostModel;if(a&&(c=a.emphasisItemStyle,h=a.blurItemStyle,p=a.selectItemStyle,f=a.focus,d=a.blurScope,g=a.labelStatesModels,m=a.hoverScale,y=a.cursorStyle,v=a.emphasisDisabled),!a||t.hasItemOption){var _=a&&a.itemModel?a.itemModel:t.getItemModel(i),b=_.getModel("emphasis");c=b.getModel("itemStyle").getItemStyle(),p=_.getModel(["select","itemStyle"]).getItemStyle(),h=_.getModel(["blur","itemStyle"]).getItemStyle(),f=b.get("focus"),d=b.get("blurScope"),v=b.get("disabled"),g=Oe(_),m=b.getShallow("scale"),y=_.getShallow("cursor")}var C=t.getItemVisual(i,"symbolRotate");s.attr("rotation",(C||0)*Math.PI/180||0);var x=co(t.getItemVisual(i,"symbolOffset"),r);x&&(s.x=x[0],s.y=x[1]),y&&s.attr("cursor",y);var S=t.getItemVisual(i,"style"),z=S.fill;if(s instanceof Ye){var w=s.style;s.useStyle(F({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},S))}else s.useStyle(s.__isEmptyBrush?F({},S):S),s.style.decal=null,s.setColor(z,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var T=t.getItemVisual(i,"liftZ"),D=this._z2;null!=T?null==D&&(this._z2=s.z2,s.z2+=T):null!=D&&(s.z2=D,this._z2=null);var I=o&&o.useNameLabel;Ue(s,g,{labelFetcher:u,labelDataIndex:i,defaultText:function A(N){return I?t.getName(N):Ls(t,N)},inheritColor:z,defaultOpacity:S.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var k=s.ensureState("emphasis");k.style=c,s.ensureState("select").style=p,s.ensureState("blur").style=h;var P=null==m||!0===m?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;k.scaleX=this._sizeX*P,k.scaleY=this._sizeY*P,this.setSymbolScale(1),fe(this,f,d,v)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,i,r){var a=this.childAt(0),o=dt(this).dataIndex,s=r&&r.animation;if(this.silent=a.silent=!0,r&&r.fadeLabel){var u=a.getTextContent();u&&Wr(u,{style:{opacity:0}},i,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Wr(a,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,i){return As(t.getItemVisual(i,"symbolSize"))},e}(ft);function h6(n,e){this.parent.drift(n,e)}const ku=c6;function Xm(n,e,t,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(t))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==n.getItemVisual(t,"symbol")}function qT(n){return null!=n&&!ct(n)&&(n={isIgnore:n}),n||{}}function KT(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Oe(e),cursorStyle:e.get("cursor")}}var p6=function(){function n(e){this.group=new ft,this._SymbolCtor=e||ku}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=qT(t);var i=this.group,r=e.hostModel,a=this._data,o=this._SymbolCtor,s=t.disableAnimation,u=KT(e),c={disableAnimation:s},h=t.getSymbolPoint||function(p){return e.getItemLayout(p)};a||i.removeAll(),e.diff(a).add(function(p){var f=h(p);if(Xm(e,f,p,t)){var d=new o(e,p,u,c);d.setPosition(f),e.setItemGraphicEl(p,d),i.add(d)}}).update(function(p,f){var d=a.getItemGraphicEl(f),v=h(p);if(Xm(e,v,p,t)){var g=e.getItemVisual(p,"symbol")||"circle",m=d&&d.getSymbolType&&d.getSymbolType();if(!d||m&&m!==g)i.remove(d),(d=new o(e,p,u,c)).setPosition(v);else{d.updateData(e,p,u,c);var y={x:v[0],y:v[1]};s?d.attr(y):Gt(d,y,r)}i.add(d),e.setItemGraphicEl(p,d)}else i.remove(d)}).remove(function(p){var f=a.getItemGraphicEl(p);f&&f.fadeOut(function(){i.remove(f)},r)}).execute(),this._getSymbolPoint=h,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(i,r){var a=e._getSymbolPoint(r);i.setPosition(a),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=KT(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,i){function r(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=qT(i);for(var a=e.start;a<e.end;a++){var o=t.getItemLayout(a);if(Xm(t,o,a,i)){var s=new this._SymbolCtor(t,a,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(e){Jr(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},i.hostModel)}):t.removeAll()},n}();const Pu=p6;function QT(n,e,t){var i=n.getBaseAxis(),r=n.getOtherAxis(i),a=function f6(n,e){var t=0,i=n.scale.getExtent();return"start"===e?t=i[0]:"end"===e?t=i[1]:Bt(e)&&!isNaN(e)?t=e:i[0]>0?t=i[0]:i[1]<0&&(t=i[1]),t}(r,t),o=i.dim,s=r.dim,u=e.mapDimension(s),c=e.mapDimension(o),h="x"===s||"radius"===s?1:0,p=X(n.dimensions,function(v){return e.mapDimension(v)}),f=!1,d=e.getCalculationInfo("stackResultDimension");return na(e,p[0])&&(f=!0,p[0]=d),na(e,p[1])&&(f=!0,p[1]=d),{dataDimsForPoint:p,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:u,baseDim:c,baseDataOffset:h,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function JT(n,e,t,i){var r=NaN;n.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var a=n.baseDataOffset,o=[];return o[a]=t.get(n.baseDim,i),o[1-a]=r,e.dataToPoint(o)}var tD=typeof Float32Array<"u",d6=tD?Float32Array:Array;function Ki(n){return H(n)?tD?new Float32Array(n):n:new d6(n)}var ia=Math.min,ra=Math.max;function Co(n,e){return isNaN(n)||isNaN(e)}function jm(n,e,t,i,r,a,o,s,u){for(var c,h,p,f,d,v,g=t,m=0;m<i;m++){var y=e[2*g],_=e[2*g+1];if(g>=r||g<0)break;if(Co(y,_)){if(u){g+=a;continue}break}if(g===t)n[a>0?"moveTo":"lineTo"](y,_),p=y,f=_;else{var b=y-c,C=_-h;if(b*b+C*C<.5){g+=a;continue}if(o>0){for(var x=g+a,S=e[2*x],z=e[2*x+1];S===y&&z===_&&m<i;)m++,S=e[2*(x+=a)],z=e[2*x+1],b=(y=e[2*(g+=a)])-c,C=(_=e[2*g+1])-h;var w=m+1;if(u)for(;Co(S,z)&&w<i;)w++,S=e[2*(x+=a)],z=e[2*x+1];var T=.5,D=0,I=0,A=void 0,k=void 0;if(w>=i||Co(S,z))d=y,v=_;else{D=S-c,I=z-h;var P=y-c,N=S-y,O=_-h,L=z-_,E=void 0,V=void 0;if("x"===s){var j=D>0?1:-1;d=y-j*(E=Math.abs(P))*o,v=_,A=y+j*(V=Math.abs(N))*o,k=_}else if("y"===s){var $=I>0?1:-1;d=y,v=_-$*(E=Math.abs(O))*o,A=y,k=_+$*(V=Math.abs(L))*o}else E=Math.sqrt(P*P+O*O),d=y-D*o*(1-(T=(V=Math.sqrt(N*N+L*L))/(V+E))),v=_-I*o*(1-T),k=_+I*o*T,A=ia(A=y+D*o*T,ra(S,y)),k=ia(k,ra(z,_)),A=ra(A,ia(S,y)),v=_-(I=(k=ra(k,ia(z,_)))-_)*E/V,d=ia(d=y-(D=A-y)*E/V,ra(c,y)),v=ia(v,ra(h,_)),A=y+(D=y-(d=ra(d,ia(c,y))))*V/E,k=_+(I=_-(v=ra(v,ia(h,_))))*V/E}n.bezierCurveTo(p,f,d,v,y,_),p=A,f=k}else n.lineTo(y,_)}c=y,h=_,g+=a}return m}var eD=function(){return function n(){this.smooth=0,this.smoothConstraint=!0}}(),m6=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polyline",i}return B(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new eD},e.prototype.buildPath=function(t,i){var r=i.points,a=0,o=r.length/2;if(i.connectNulls){for(;o>0&&Co(r[2*o-2],r[2*o-1]);o--);for(;a<o&&Co(r[2*a],r[2*a+1]);a++);}for(;a<o;)a+=jm(t,r,a,o,o,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(t,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s,u,a=this.path.data,o=Xi.CMD,c="x"===i,h=[],p=0;p<a.length;){var d=void 0,v=void 0,g=void 0,m=void 0,y=void 0,_=void 0,b=void 0;switch(a[p++]){case o.M:s=a[p++],u=a[p++];break;case o.L:if(d=a[p++],v=a[p++],(b=c?(t-s)/(d-s):(t-u)/(v-u))<=1&&b>=0){var C=c?(v-u)*b+u:(d-s)*b+s;return c?[t,C]:[C,t]}s=d,u=v;break;case o.C:d=a[p++],v=a[p++],g=a[p++],m=a[p++],y=a[p++],_=a[p++];var x=c?rh(s,d,g,y,t,h):rh(u,v,m,_,t,h);if(x>0)for(var S=0;S<x;S++){var z=h[S];if(z<=1&&z>=0)return C=c?Ne(u,v,m,_,z):Ne(s,d,g,y,z),c?[t,C]:[C,t]}s=y,u=_}}},e}(It),y6=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e}(eD),nD=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-polygon",i}return B(e,n),e.prototype.getDefaultShape=function(){return new y6},e.prototype.buildPath=function(t,i){var r=i.points,a=i.stackedOnPoints,o=0,s=r.length/2,u=i.smoothMonotone;if(i.connectNulls){for(;s>0&&Co(r[2*s-2],r[2*s-1]);s--);for(;o<s&&Co(r[2*o],r[2*o+1]);o++);}for(;o<s;){var c=jm(t,r,o,s,s,1,i.smooth,u,i.connectNulls);jm(t,a,o+c-1,c,s,-1,i.stackedOnSmooth,u,i.connectNulls),o+=c+1,t.closePath()}},e}(It);function iD(n,e,t,i,r){var a=n.getArea(),o=a.x,s=a.y,u=a.width,c=a.height,h=t.get(["lineStyle","width"])||2;o-=h/2,s-=h/2,u+=h,c+=h,u=Math.ceil(u),o!==Math.floor(o)&&(o=Math.floor(o),u++);var p=new Ot({shape:{x:o,y:s,width:u,height:c}});if(e){var f=n.getBaseAxis(),d=f.isHorizontal(),v=f.inverse;d?(v&&(p.shape.x+=u),p.shape.width=0):(v||(p.shape.y+=c),p.shape.height=0);var g=at(r)?function(m){r(m,p)}:null;le(p,{shape:{width:u,height:c,x:o,y:s}},t,null,i,g)}return p}function rD(n,e,t){var i=n.getArea(),r=_e(i.r0,1),a=_e(i.r,1),o=new wn({shape:{cx:_e(n.cx,1),cy:_e(n.cy,1),r0:r,r:a,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&("angle"===n.getBaseAxis().dim?o.shape.endAngle=i.startAngle:o.shape.r=r,le(o,{shape:{endAngle:i.endAngle,r:a}},t)),o}function Ru(n,e,t,i,r){return n?"polar"===n.type?rD(n,e,t):"cartesian2d"===n.type?iD(n,e,t,i,r):null:null}function So(n,e){return n.type===e}function aD(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function oD(n){for(var e=1/0,t=1/0,i=-1/0,r=-1/0,a=0;a<n.length;){var o=n[a++],s=n[a++];isNaN(o)||(e=Math.min(o,e),i=Math.max(o,i)),isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r))}return[[e,t],[i,r]]}function sD(n,e){var t=oD(n),i=t[0],r=t[1],a=oD(e),o=a[0],s=a[1];return Math.max(Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function lD(n){return Bt(n)?n:n?.5:0}function aa(n,e,t,i){var r=e.getBaseAxis(),a="x"===r.dim||"radius"===r.dim?0:1,o=[],s=0,u=[],c=[],h=[],p=[];if(i){for(s=0;s<n.length;s+=2)!isNaN(n[s])&&!isNaN(n[s+1])&&p.push(n[s],n[s+1]);n=p}for(s=0;s<n.length-2;s+=2)switch(h[0]=n[s+2],h[1]=n[s+3],c[0]=n[s],c[1]=n[s+1],o.push(c[0],c[1]),t){case"end":u[a]=h[a],u[1-a]=c[1-a],o.push(u[0],u[1]);break;case"middle":var d=[];u[a]=d[a]=(c[a]+h[a])/2,u[1-a]=c[1-a],d[1-a]=h[1-a],o.push(u[0],u[1]),o.push(d[0],d[1]);break;default:u[a]=c[a],u[1-a]=h[1-a],o.push(u[0],u[1])}return o.push(n[s++],n[s++]),o}function z6(n,e){return isNaN(n)||isNaN(e)}function uD(n,e){return[n[2*e],n[2*e+1]]}function cD(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<hn.length;e++)if(n.get([hn[e],"endLabel","show"]))return!0;return!1}function Ym(n,e,t,i){if(So(e,"cartesian2d")){var r=i.getModel("endLabel"),a=r.get("valueAnimation"),o=i.getData(),s={lastFrameIndex:0},u=cD(i)?function(d,v){n._endLabelOnDuring(d,v,o,s,a,r,e)}:null,c=e.getBaseAxis().isHorizontal(),h=iD(e,t,i,function(){var d=n._endLabel;d&&t&&null!=s.originalX&&d.attr({x:s.originalX,y:s.originalY})},u);if(!i.get("clip",!0)){var p=h.shape,f=Math.max(p.width,p.height);c?(p.y-=f,p.height+=2*f):(p.x-=f,p.width+=2*f)}return u&&u(1,h),h}return rD(e,t,i)}var M6=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.init=function(){var t=new ft,i=new Pu;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t},e.prototype.render=function(t,i,r){var a=this,o=t.coordinateSystem,s=this.group,u=t.getData(),c=t.getModel("lineStyle"),h=t.getModel("areaStyle"),p=u.getLayout("points")||[],f="polar"===o.type,d=this._coordSys,v=this._symbolDraw,g=this._polyline,m=this._polygon,y=this._lineGroup,_=!i.ssr&&t.get("animation"),b=!h.isEmpty(),C=h.get("origin"),x=QT(o,u,C),S=b&&function _6(n,e,t){if(!t.valueDim)return[];for(var i=e.count(),r=Ki(2*i),a=0;a<i;a++){var o=JT(t,n,e,a);r[2*a]=o[0],r[2*a+1]=o[1]}return r}(o,u,x),z=t.get("showSymbol"),w=t.get("connectNulls"),T=z&&!f&&function S6(n,e,t){var i=n.get("showAllSymbol"),r="auto"===i;if(!i||r){var a=t.getAxesByScale("ordinal")[0];if(a&&(!r||!function x6(n,e){var t=n.getExtent(),i=Math.abs(t[1]-t[0])/n.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),a=Math.max(1,Math.round(r/5)),o=0;o<r;o+=a)if(1.5*ku.getSymbolSize(e,o)[n.isHorizontal()?1:0]>i)return!1;return!0}(a,e))){var o=e.mapDimension(a.dim),s={};return M(a.getViewLabels(),function(u){var c=a.scale.getRawOrdinalNumber(u.tickValue);s[c]=1}),function(u){return!s.hasOwnProperty(e.get(o,u))}}}}(t,u,o),D=this._data;D&&D.eachItemGraphicEl(function(kt,Dt){kt.__temp&&(s.remove(kt),D.setItemGraphicEl(Dt,null))}),z||v.remove(),s.add(y);var A,I=!f&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(null!=(A=o.getArea()).width?(A.x-=.1,A.y-=.1,A.width+=.2,A.height+=.2):A.r0&&(A.r0-=.5,A.r+=.5)),this._clipShapeForSymbol=A;var k=function C6(n,e,t){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&"cartesian2d"===e.type){for(var r,a,o=i.length-1;o>=0;o--){var s=n.getDimensionInfo(i[o].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){a=i[o];break}}if(a){var u=e.getAxis(r),c=X(a.stops,function(b){return{coord:u.toGlobalCoord(u.dataToCoord(b.value)),color:b.color}}),h=c.length,p=a.outerColors.slice();h&&c[0].coord>c[h-1].coord&&(c.reverse(),p.reverse());var f=function b6(n,e){var r,a,t=[],i=n.length;function o(h,p,f){var d=h.coord,g=function vG(n,e,t){if(e&&e.length&&n>=0&&n<=1){var i=n*(e.length-1),r=Math.floor(i),a=Math.ceil(i),o=Sn(e[r]),s=Sn(e[a]),u=i-r,c=Oi([pi(Fr(o[0],s[0],u)),pi(Fr(o[1],s[1],u)),pi(Fr(o[2],s[2],u)),Dl(Fr(o[3],s[3],u))],"rgba");return t?{color:c,leftIndex:r,rightIndex:a,value:i}:c}}((f-d)/(p.coord-d),[h.color,p.color]);return{coord:f,color:g}}for(var s=0;s<i;s++){var u=n[s],c=u.coord;if(c<0)r=u;else{if(c>e){a?t.push(o(a,u,e)):r&&t.push(o(r,u,0),o(r,u,e));break}r&&(t.push(o(r,u,0)),r=null),t.push(u),a=u}}return t}(c,"x"===r?t.getWidth():t.getHeight()),d=f.length;if(!d&&h)return c[0].coord<0?p[1]?p[1]:c[h-1].color:p[0]?p[0]:c[0].color;var g=f[0].coord-10,m=f[d-1].coord+10,y=m-g;if(y<.001)return"transparent";M(f,function(b){b.offset=(b.coord-g)/y}),f.push({offset:d?f[d-1].offset:.5,color:p[1]||"transparent"}),f.unshift({offset:d?f[0].offset:.5,color:p[0]||"transparent"});var _=new cu(0,0,0,0,f,!0);return _[r]=g,_[r+"2"]=m,_}}}(u,o,r)||u.getVisual("style")[u.getVisual("drawType")];if(g&&d.type===o.type&&I===this._step){b&&!m?m=this._newPolygon(p,S):m&&!b&&(y.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,o,Ja(k));var P=y.getClipPath();P?le(P,{shape:Ym(this,o,!1,t).shape},t):y.setClipPath(Ym(this,o,!0,t)),z&&v.updateData(u,{isIgnore:T,clipShape:A,disableAnimation:!0,getSymbolPoint:function(kt){return[p[2*kt],p[2*kt+1]]}}),(!aD(this._stackedOnPoints,S)||!aD(this._points,p))&&(_?this._doUpdateAnimation(u,S,o,r,I,C,w):(I&&(p=aa(p,o,I,w),S&&(S=aa(S,o,I,w))),g.setShape({points:p}),m&&m.setShape({points:p,stackedOnPoints:S})))}else z&&v.updateData(u,{isIgnore:T,clipShape:A,disableAnimation:!0,getSymbolPoint:function(kt){return[p[2*kt],p[2*kt+1]]}}),_&&this._initSymbolLabelAnimation(u,o,A),I&&(p=aa(p,o,I,w),S&&(S=aa(S,o,I,w))),g=this._newPolyline(p),b?m=this._newPolygon(p,S):m&&(y.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,o,Ja(k)),y.setClipPath(Ym(this,o,!0,t));var O=t.getModel("emphasis"),L=O.get("focus"),E=O.get("blurScope"),V=O.get("disabled");g.useStyle(lt(c.getLineStyle(),{fill:"none",stroke:k,lineJoin:"bevel"})),We(g,t,"lineStyle"),g.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(g.getState("emphasis").style.lineWidth=+g.style.lineWidth+1),dt(g).seriesIndex=t.seriesIndex,fe(g,L,E,V);var $=lD(t.get("smooth")),it=t.get("smoothMonotone");if(g.setShape({smooth:$,smoothMonotone:it,connectNulls:w}),m){var ot=u.getCalculationInfo("stackedOnSeries"),st=0;m.useStyle(lt(h.getAreaStyle(),{fill:k,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),ot&&(st=lD(ot.get("smooth"))),m.setShape({smooth:$,stackedOnSmooth:st,smoothMonotone:it,connectNulls:w}),We(m,t,"areaStyle"),dt(m).seriesIndex=t.seriesIndex,fe(m,L,E,V)}var Tt=function(kt){a._changePolyState(kt)};u.eachItemGraphicEl(function(kt){kt&&(kt.onHoverStateChange=Tt)}),this._polyline.onHoverStateChange=Tt,this._data=u,this._coordSys=o,this._stackedOnPoints=S,this._points=p,this._step=I,this._valueOrigin=C,t.get("triggerLineEvent")&&(this.packEventData(t,g),m&&this.packEventData(t,m))},e.prototype.packEventData=function(t,i){dt(i).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,i,r,a){var o=t.getData(),s=La(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var u=o.getLayout("points"),c=o.getItemGraphicEl(s);if(!c){var h=u[2*s],p=u[2*s+1];if(isNaN(h)||isNaN(p)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,p))return;var f=t.get("zlevel")||0,d=t.get("z")||0;(c=new ku(o,s)).x=h,c.y=p,c.setZ(f,d);var v=c.getSymbolPath().getTextContent();v&&(v.zlevel=f,v.z=d,v.z2=this._polyline.z2+1),c.__temp=!0,o.setItemGraphicEl(s,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else ne.prototype.highlight.call(this,t,i,r,a)},e.prototype.downplay=function(t,i,r,a){var o=t.getData(),s=La(o,a);if(this._changePolyState("normal"),null!=s&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else ne.prototype.downplay.call(this,t,i,r,a)},e.prototype._changePolyState=function(t){var i=this._polygon;Ph(this._polyline,t),i&&Ph(i,t)},e.prototype._newPolyline=function(t){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new m6({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(t,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new nD({shape:{points:t,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,i,r){var a,o,s=i.getBaseAxis(),u=s.inverse;"cartesian2d"===i.type?(a=s.isHorizontal(),o=!1):"polar"===i.type&&(a="angle"===s.dim,o=!0);var c=t.hostModel,h=c.get("animationDuration");at(h)&&(h=h(null));var p=c.get("animationDelay")||0,f=at(p)?p(null):p;t.eachItemGraphicEl(function(d,v){var g=d;if(g){var y=void 0,_=void 0,b=void 0;if(r)if(o){var C=r,x=i.pointToCoord([d.x,d.y]);a?(y=C.startAngle,_=C.endAngle,b=-x[1]/180*Math.PI):(y=C.r0,_=C.r,b=x[0])}else a?(y=r.x,_=r.x+r.width,b=d.x):(y=r.y+r.height,_=r.y,b=d.y);var z=_===y?0:(b-y)/(_-y);u&&(z=1-z);var w=at(p)?p(v):h*z+f,T=g.getSymbolPath(),D=T.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:w}),D&&D.animateFrom({style:{opacity:0}},{duration:300,delay:w}),T.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,i,r){var a=t.getModel("endLabel");if(cD(t)){var o=t.getData(),s=this._polyline,u=o.getLayout("points");if(!u)return s.removeTextContent(),void(this._endLabel=null);var c=this._endLabel;c||((c=this._endLabel=new Vt({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var h=function w6(n){for(var e=n.length/2;e>0&&z6(n[2*e-2],n[2*e-1]);e--);return e-1}(u);h>=0&&(Ue(s,Oe(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:h,defaultText:function(p,f,d){return null!=d?ZT(o,d):Ls(o,p)},enableTextSetter:!0},function D6(n,e){var t=e.getBaseAxis(),i=t.isHorizontal(),r=t.inverse,a=i?r?"right":"left":"center",o=i?"middle":r?"top":"bottom";return{normal:{align:n.get("align")||a,verticalAlign:n.get("verticalAlign")||o}}}(a,i)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,i,r,a,o,s,u){var c=this._endLabel,h=this._polyline;if(c){t<1&&null==a.originalX&&(a.originalX=c.x,a.originalY=c.y);var p=r.getLayout("points"),f=r.hostModel,d=f.get("connectNulls"),v=s.get("precision"),g=s.get("distance")||0,m=u.getBaseAxis(),y=m.isHorizontal(),_=m.inverse,b=i.shape,C=_?y?b.x:b.y+b.height:y?b.x+b.width:b.y,x=(y?g:0)*(_?-1:1),S=(y?0:-g)*(_?-1:1),z=y?"x":"y",w=function T6(n,e,t){for(var a,o,i=n.length/2,r="x"===t?0:1,s=0,u=-1,c=0;c<i;c++)if(o=n[2*c+r],!isNaN(o)&&!isNaN(n[2*c+1-r])){if(0===c){a=o;continue}if(a<=e&&o>=e||a>=e&&o<=e){u=c;break}s=c,a=o}return{range:[s,u],t:(e-a)/(o-a)}}(p,C,z),T=w.range,D=T[1]-T[0],I=void 0;if(D>=1){if(D>1&&!d){var A=uD(p,T[0]);c.attr({x:A[0]+x,y:A[1]+S}),o&&(I=f.getRawValue(T[0]))}else{(A=h.getPointOn(C,z))&&c.attr({x:A[0]+x,y:A[1]+S});var k=f.getRawValue(T[0]),P=f.getRawValue(T[1]);o&&(I=NC(r,v,k,P,w.t))}a.lastFrameIndex=T[0]}else{var N=1===t||a.lastFrameIndex>0?T[0]:0;A=uD(p,N),o&&(I=f.getRawValue(N)),c.attr({x:A[0]+x,y:A[1]+S})}if(o){var O=hs(c);"function"==typeof O.setLabelText&&O.setLabelText(I)}}},e.prototype._doUpdateAnimation=function(t,i,r,a,o,s,u){var c=this._polyline,h=this._polygon,p=t.hostModel,f=function g6(n,e,t,i,r,a,o,s){for(var u=function v6(n,e){var t=[];return e.diff(n).add(function(i){t.push({cmd:"+",idx:i})}).update(function(i,r){t.push({cmd:"=",idx:r,idx1:i})}).remove(function(i){t.push({cmd:"-",idx:i})}).execute(),t}(n,e),c=[],h=[],p=[],f=[],d=[],v=[],g=[],m=QT(r,e,o),y=n.getLayout("points")||[],_=e.getLayout("points")||[],b=0;b<u.length;b++){var C=u[b],x=!0,S=void 0,z=void 0;switch(C.cmd){case"=":var w=y[S=2*C.idx],T=y[S+1],D=_[z=2*C.idx1],I=_[z+1];(isNaN(w)||isNaN(T))&&(w=D,T=I),c.push(w,T),h.push(D,I),p.push(t[S],t[S+1]),f.push(i[z],i[z+1]),g.push(e.getRawIndex(C.idx1));break;case"+":var A=C.idx,k=m.dataDimsForPoint,P=r.dataToPoint([e.get(k[0],A),e.get(k[1],A)]);z=2*A,c.push(P[0],P[1]),h.push(_[z],_[z+1]);var N=JT(m,r,e,A);p.push(N[0],N[1]),f.push(i[z],i[z+1]),g.push(e.getRawIndex(A));break;case"-":x=!1}x&&(d.push(C),v.push(v.length))}v.sort(function(Tt,kt){return g[Tt]-g[kt]});var O=c.length,L=Ki(O),E=Ki(O),V=Ki(O),j=Ki(O),$=[];for(b=0;b<v.length;b++){var it=v[b],ot=2*b,st=2*it;L[ot]=c[st],L[ot+1]=c[st+1],E[ot]=h[st],E[ot+1]=h[st+1],V[ot]=p[st],V[ot+1]=p[st+1],j[ot]=f[st],j[ot+1]=f[st+1],$[b]=d[it]}return{current:L,next:E,stackedOnCurrent:V,stackedOnNext:j,status:$}}(this._data,t,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),d=f.current,v=f.stackedOnCurrent,g=f.next,m=f.stackedOnNext;if(o&&(d=aa(f.current,r,o,u),v=aa(f.stackedOnCurrent,r,o,u),g=aa(f.next,r,o,u),m=aa(f.stackedOnNext,r,o,u)),sD(d,g)>3e3||h&&sD(v,m)>3e3)return c.stopAnimation(),c.setShape({points:g}),void(h&&(h.stopAnimation(),h.setShape({points:g,stackedOnPoints:m})));c.shape.__points=f.current,c.shape.points=d;var y={shape:{points:g}};f.current!==d&&(y.shape.__points=f.next),c.stopAnimation(),Gt(c,y,p),h&&(h.setShape({points:d,stackedOnPoints:v}),h.stopAnimation(),Gt(h,{shape:{stackedOnPoints:m}},p),c.shape.points!==h.shape.points&&(h.shape.points=c.shape.points));for(var _=[],b=f.status,C=0;C<b.length;C++)if("="===b[C].cmd){var S=t.getItemGraphicEl(b[C].idx1);S&&_.push({el:S,ptIdx:C})}c.animators&&c.animators.length&&c.animators[0].during(function(){h&&h.dirtyShape();for(var z=c.shape.__points,w=0;w<_.length;w++){var T=_[w].el,D=2*_[w].ptIdx;T.x=z[D],T.y=z[D+1],T.markRedraw()}})},e.prototype.remove=function(t){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(a,o){a.__temp&&(i.remove(a),r.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(ne);const I6=M6;function Nu(n,e){return{seriesType:n,plan:xs(),reset:function(t){var i=t.getData(),r=t.coordinateSystem,o=e||t.pipelineContext.large;if(r){var s=X(r.dimensions,function(d){return i.mapDimension(d)}).slice(0,2),u=s.length,c=i.getCalculationInfo("stackResultDimension");na(i,s[0])&&(s[0]=c),na(i,s[1])&&(s[1]=c);var h=i.getStore(),p=i.getDimensionIndex(s[0]),f=i.getDimensionIndex(s[1]);return u&&{progress:function(d,v){for(var m=o&&Ki((d.end-d.start)*u),y=[],_=[],b=d.start,C=0;b<d.end;b++){var x=void 0;if(1===u){var S=h.get(p,b);x=r.dataToPoint(S,null,_)}else y[0]=h.get(p,b),y[1]=h.get(f,b),x=r.dataToPoint(y,null,_);o?(m[C++]=x[0],m[C++]=x[1]):v.setItemLayout(b,x.slice())}o&&v.setLayout("points",m)}}}}}}var A6={average:function(n){for(var e=0,t=0,i=0;i<n.length;i++)isNaN(n[i])||(e+=n[i],t++);return 0===t?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},minmax:function(n){for(var e=-1/0,t=-1/0,i=0;i<n.length;i++){var r=n[i],a=Math.abs(r);a>e&&(e=a,t=r)}return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},k6=function(n){return Math.round(n.length/2)};function hD(n){return{seriesType:n,reset:function(e,t,i){var r=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=r.count();if(s>10&&"cartesian2d"===o.type&&a){var u=o.getBaseAxis(),c=o.getOtherAxis(u),h=u.getExtent(),p=i.getDevicePixelRatio(),f=Math.abs(h[1]-h[0])*(p||1),d=Math.round(s/f);if(isFinite(d)&&d>1){"lttb"===a&&e.setData(r.lttbDownSample(r.mapDimension(c.dim),1/d));var v=void 0;Q(a)?v=A6[a]:at(a)&&(v=a),v&&e.setData(r.downSample(r.mapDimension(c.dim),1/d,v,k6))}}}}}var Wm="__ec_stack_";function Um(n){return n.get("stack")||Wm+n.seriesIndex}function $m(n){return n.dim+n.index}function pD(n,e){var t=[];return e.eachSeriesByType(n,function(i){mD(i)&&t.push(i)}),t}function fD(n){var e=function N6(n){var e={};M(n,function(u){var h=u.coordinateSystem.getBaseAxis();if("time"===h.type||"value"===h.type)for(var p=u.getData(),f=h.dim+"_"+h.index,d=p.getDimensionIndex(p.mapDimension(h.dim)),v=p.getStore(),g=0,m=v.count();g<m;++g){var y=v.get(d,g);e[f]?e[f].push(y):e[f]=[y]}});var t={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort(function(u,c){return u-c});for(var a=null,o=1;o<r.length;++o){var s=r[o]-r[o-1];s>0&&(a=null===a?s:Math.min(a,s))}t[i]=a}}return t}(n),t=[];return M(n,function(i){var s,a=i.coordinateSystem.getBaseAxis(),o=a.getExtent();if("category"===a.type)s=a.getBandWidth();else if("value"===a.type||"time"===a.type){var c=e[a.dim+"_"+a.index],h=Math.abs(o[1]-o[0]),p=a.scale.getExtent(),f=Math.abs(p[1]-p[0]);s=c?h/f*c:h}else{var d=i.getData();s=Math.abs(o[1]-o[0])/d.count()}var v=q(i.get("barWidth"),s),g=q(i.get("barMaxWidth"),s),m=q(i.get("barMinWidth")||(yD(i)?.5:1),s),y=i.get("barGap"),_=i.get("barCategoryGap");t.push({bandWidth:s,barWidth:v,barMaxWidth:g,barMinWidth:m,barGap:y,barCategoryGap:_,axisKey:$m(a),stackId:Um(i)})}),dD(t)}function dD(n){var e={};M(n,function(i,r){var a=i.axisKey,o=i.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=s.stacks;e[a]=s;var c=i.stackId;u[c]||s.autoWidthCount++,u[c]=u[c]||{width:0,maxWidth:0};var h=i.barWidth;h&&!u[c].width&&(u[c].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var p=i.barMaxWidth;p&&(u[c].maxWidth=p);var f=i.barMinWidth;f&&(u[c].minWidth=f);var d=i.barGap;null!=d&&(s.gap=d);var v=i.barCategoryGap;null!=v&&(s.categoryGap=v)});var t={};return M(e,function(i,r){t[r]={};var a=i.stacks,o=i.bandWidth,s=i.categoryGap;if(null==s){var u=At(a).length;s=Math.max(35-4*u,15)+"%"}var c=q(s,o),h=q(i.gap,1),p=i.remainedWidth,f=i.autoWidthCount,d=(p-c)/(f+(f-1)*h);d=Math.max(d,0),M(a,function(y){var _=y.maxWidth,b=y.minWidth;if(y.width){var C=y.width;_&&(C=Math.min(C,_)),b&&(C=Math.max(C,b)),y.width=C,p-=C+h*C,f--}else C=d,_&&_<C&&(C=Math.min(_,p)),b&&b>C&&(C=b),C!==d&&(y.width=C,p-=C+h*C,f--)}),d=(p-c)/(f+(f-1)*h),d=Math.max(d,0);var g,v=0;M(a,function(y,_){y.width||(y.width=d),g=y,v+=y.width*(1+h)}),g&&(v-=g.width*h);var m=-v/2;M(a,function(y,_){t[r][_]=t[r][_]||{bandWidth:o,offset:m,width:y.width},m+=y.width*(1+h)})}),t}function vD(n,e){var t=pD(n,e),i=fD(t);M(t,function(r){var a=r.getData(),s=r.coordinateSystem.getBaseAxis(),u=Um(r),c=i[$m(s)][u];a.setLayout({bandWidth:c.bandWidth,offset:c.offset,size:c.width})})}function gD(n){return{seriesType:n,plan:xs(),reset:function(e){if(mD(e)){var t=e.getData(),i=e.coordinateSystem,r=i.getBaseAxis(),a=i.getOtherAxis(r),o=t.getDimensionIndex(t.mapDimension(a.dim)),s=t.getDimensionIndex(t.mapDimension(r.dim)),u=e.get("showBackground",!0),c=t.mapDimension(a.dim),h=t.getCalculationInfo("stackResultDimension"),p=na(t,c)&&!!t.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),d=function E6(n,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}(0,a),v=yD(e),g=e.get("barMinHeight")||0,m=h&&t.getDimensionIndex(h),y=t.getLayout("size"),_=t.getLayout("offset");return{progress:function(b,C){for(var I,x=b.count,S=v&&Ki(3*x),z=v&&u&&Ki(3*x),w=v&&Ki(x),T=i.master.getRect(),D=f?T.width:T.height,A=C.getStore(),k=0;null!=(I=b.next());){var P=A.get(p?m:o,I),N=A.get(s,I),O=d,L=void 0;p&&(L=+P-A.get(o,I));var E=void 0,V=void 0,j=void 0,$=void 0;if(f){var it=i.dataToPoint([P,N]);p&&(O=i.dataToPoint([L,N])[0]),E=O,V=it[1]+_,j=it[0]-O,$=y,Math.abs(j)<g&&(j=(j<0?-1:1)*g)}else it=i.dataToPoint([N,P]),p&&(O=i.dataToPoint([N,L])[1]),E=it[0]+_,V=O,j=y,$=it[1]-O,Math.abs($)<g&&($=($<=0?-1:1)*g);v?(S[k]=E,S[k+1]=V,S[k+2]=f?j:$,z&&(z[k]=f?T.x:E,z[k+1]=f?V:T.y,z[k+2]=D),w[I]=I):C.setItemLayout(I,{x:E,y:V,width:j,height:$}),k+=3}v&&C.setLayout({largePoints:S,largeDataIndices:w,largeBackgroundPoints:z,valueAxisHorizontal:f})}}}}}}function mD(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function yD(n){return n.pipelineContext&&n.pipelineContext.large}var _D=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.getInitialData=function(t,i){return _r(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,i,r){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(t),s=a.dataToPoint(o);if(r)M(a.getAxes(),function(f,d){if("category"===f.type&&null!=i){var v=f.getTicksCoords(),g=f.getTickModel().get("alignWithLabel"),m=o[d],y="x1"===i[d]||"y1"===i[d];if(y&&!g&&(m+=1),v.length<2)return;if(2===v.length)return void(s[d]=f.toGlobalCoord(f.getExtent()[y?1:0]));for(var _=void 0,b=void 0,C=1,x=0;x<v.length;x++){var S=v[x].coord,z=x===v.length-1?v[x-1].tickValue+C:v[x].tickValue;if(z===m){b=S;break}if(z<m)_=S;else if(null!=_&&z>m){b=(S+_)/2;break}1===x&&(C=z-v[0].tickValue)}null==b&&(_?_&&(b=v[v.length-1].coord):b=v[0].coord),s[d]=f.toGlobalCoord(b)}});else{var u=this.getData(),c=u.getLayout("offset"),h=u.getLayout("size"),p=a.getBaseAxis().isHorizontal()?0:1;s[p]+=c+h/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(ce);ce.registerClass(_D);const Bp=_D;var L6=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.getInitialData=function(){return _r(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>t&&(t=i),t},e.prototype.brushSelector=function(t,i,r){return r.rect(i.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Ur(Bp.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Bp);const B6=L6;var V6=function(){return function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),F6=function(n){function e(t){var i=n.call(this,t)||this;return i.type="sausage",i}return B(e,n),e.prototype.getDefaultShape=function(){return new V6},e.prototype.buildPath=function(t,i){var r=i.cx,a=i.cy,o=Math.max(i.r0||0,0),s=Math.max(i.r,0),u=.5*(s-o),c=o+u,h=i.startAngle,p=i.endAngle,f=i.clockwise,d=2*Math.PI,v=f?p-h<d:h-p<d;v||(h=p-(f?d:-d));var g=Math.cos(h),m=Math.sin(h),y=Math.cos(p),_=Math.sin(p);v?(t.moveTo(g*o+r,m*o+a),t.arc(g*c+r,m*c+a,u,-Math.PI+h,h,!f)):t.moveTo(g*s+r,m*s+a),t.arc(r,a,s,h,p,!f),t.arc(y*c+r,_*c+a,u,p-2*Math.PI,p-Math.PI,!f),0!==o&&t.arc(r,a,o,p,h,f)},e}(It);const Vp=F6;function Fp(n,e,t){return e*Math.sin(n)*(t?-1:1)}function Gp(n,e,t){return e*Math.cos(n)*(t?1:-1)}function xo(n,e,t){var i=n.get("borderRadius");if(null==i)return t?{cornerRadius:0}:null;H(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:X(i,function(a){return di(a,r)})}}var Zm=Math.max,qm=Math.min,j6=function(n){function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return B(e,n),e.prototype.render=function(t,i,r,a){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var o=t.get("coordinateSystem");("cartesian2d"===o||"polar"===o)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,i,r):this._renderNormal(t,i,r,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,i){this._progressiveEls=[],this._incrementalRenderLarge(t,i)},e.prototype.eachRendered=function(t){Jr(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(null==this._isLargeDraw||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t,i,r,a){var p,o=this.group,s=t.getData(),u=this._data,c=t.coordinateSystem,h=c.getBaseAxis();"cartesian2d"===c.type?p=h.isHorizontal():"polar"===c.type&&(p="angle"===h.dim);var f=t.isAnimationEnabled()?t:null,d=function Y6(n,e){var t=n.get("realtimeSort",!0),i=e.getBaseAxis();if(t&&"category"===i.type&&"cartesian2d"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}(t,c);d&&this._enableRealtimeSort(d,s,r);var v=t.get("clip",!0)||d,g=function X6(n,e){var t=n.getArea&&n.getArea();if(So(n,"cartesian2d")){var i=n.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(t.x-=r,t.width+=2*r):(t.y-=r,t.height+=2*r)}}return t}(c,s);o.removeClipPath();var m=t.get("roundCap",!0),y=t.get("showBackground",!0),_=t.getModel("backgroundStyle"),b=_.get("borderRadius")||0,C=[],x=this._backgroundEls,S=a&&a.isInitSort,z=a&&"changeAxisOrder"===a.type;function w(I){var A=Hp[c.type](s,I),k=function Q6(n,e,t){return new("polar"===n.type?wn:Ot)({shape:AD(e,t,n),silent:!0,z2:0})}(c,p,A);return k.useStyle(_.getItemStyle()),k.setShape("cartesian2d"===c.type?"r":"cornerRadius",b),C[I]=k,k}s.diff(u).add(function(I){var A=s.getItemModel(I),k=Hp[c.type](s,I,A);if(y&&w(I),s.hasValue(I)&&zD[c.type](k)){var P=!1;v&&(P=bD[c.type](g,k));var N=CD[c.type](t,s,I,k,p,f,h.model,!1,m);d&&(N.forceLabelAnimation=!0),TD(N,s,I,A,k,t,p,"polar"===c.type),S?N.attr({shape:k}):d?SD(d,f,N,k,I,p,!1,!1):le(N,{shape:k},t,I),s.setItemGraphicEl(I,N),o.add(N),N.ignore=P}}).update(function(I,A){var k=s.getItemModel(I),P=Hp[c.type](s,I,k);if(y){var N=void 0;0===x.length?N=w(A):((N=x[A]).useStyle(_.getItemStyle()),N.setShape("cartesian2d"===c.type?"r":"cornerRadius",b),C[I]=N);var O=Hp[c.type](s,I);Gt(N,{shape:AD(p,O,c)},f,I)}var E=u.getItemGraphicEl(A);if(s.hasValue(I)&&zD[c.type](P)){var V=!1;if(v&&(V=bD[c.type](g,P))&&o.remove(E),E?vi(E):E=CD[c.type](t,s,I,P,p,f,h.model,!!E,m),d&&(E.forceLabelAnimation=!0),z){var j=E.getTextContent();if(j){var $=hs(j);null!=$.prevValue&&($.prevValue=$.value)}}else TD(E,s,I,k,P,t,p,"polar"===c.type);S?E.attr({shape:P}):d?SD(d,f,E,P,I,p,!0,z):Gt(E,{shape:P},t,I,null),s.setItemGraphicEl(I,E),E.ignore=V,o.add(E)}else o.remove(E)}).remove(function(I){var A=u.getItemGraphicEl(I);A&&Zl(A,t,I)}).execute();var T=this._backgroundGroup||(this._backgroundGroup=new ft);T.removeAll();for(var D=0;D<C.length;++D)T.add(C[D]);o.add(T),this._backgroundEls=C,this._data=s},e.prototype._renderLarge=function(t,i,r){this._clear(),MD(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,i){this._removeBackground(),MD(i,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var i=t.get("clip",!0)&&Ru(t.coordinateSystem,!1,t),r=this.group;i?r.setClipPath(i):r.removeClipPath()},e.prototype._enableRealtimeSort=function(t,i,r){var a=this;if(i.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,t,r),this._isFirstFrame=!1;else{var s=function(u){var c=i.getItemGraphicEl(u),h=c&&c.shape;return h&&Math.abs(o.isHorizontal()?h.height:h.width)||0};this._onRendered=function(){a._updateSortWithinSameData(i,s,o,r)},r.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,i,r){var a=[];return t.each(t.mapDimension(i.dim),function(o,s){var u=r(s);a.push({dataIndex:s,mappedValue:u=u??NaN,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:X(a,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,i,r){for(var a=r.scale,o=t.mapDimension(r.dim),s=Number.MAX_VALUE,u=0,c=a.getOrdinalMeta().categories.length;u<c;++u){var h=t.rawIndexOf(o,a.getRawOrdinalNumber(u)),p=h<0?Number.MIN_VALUE:i(t.indexOfRawIndex(h));if(p>s)return!0;s=p}return!1},e.prototype._isOrderDifferentInView=function(t,i){for(var r=i.scale,a=r.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],r.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==r.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,i,r,a){if(this._isOrderChangedWithinSameData(t,i,r)){var o=this._dataSort(t,r,i);this._isOrderDifferentInView(o,r)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,i,r){var a=i.baseAxis,o=this._dataSort(t,a,function(s){return t.get(t.mapDimension(i.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},e.prototype.remove=function(t,i){this._clear(this._model),this._removeOnRenderedListener(i)},e.prototype.dispose=function(t,i){this._removeOnRenderedListener(i)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var i=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(a){Zl(a,t,dt(a).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(ne),bD={cartesian2d:function(n,e){var t=e.width<0?-1:1,i=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=n.x+n.width,a=n.y+n.height,o=Zm(e.x,n.x),s=qm(e.x+e.width,r),u=Zm(e.y,n.y),c=qm(e.y+e.height,a),h=s<o,p=c<u;return e.x=h&&o>r?s:o,e.y=p&&u>a?c:u,e.width=h?0:s-o,e.height=p?0:c-u,t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),h||p},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}var r=qm(e.r,n.r),a=Zm(e.r0,n.r0);e.r=r,e.r0=a;var o=r-a<0;return t<0&&(i=e.r,e.r=e.r0,e.r0=i),o}},CD={cartesian2d:function(n,e,t,i,r,a,o,s,u){var c=new Ot({shape:F({},i),z2:1});return c.__dataIndex=t,c.name="item",a&&(c.shape[r?"height":"width"]=0),c},polar:function(n,e,t,i,r,a,o,s,u){var c=!r&&u?Vp:wn,h=new c({shape:i,z2:1});h.name="item";var p=wD(r);if(h.calculateTextPosition=function G6(n,e){var t=(e=e||{}).isRoundCap;return function(i,r,a){var o=r.position;if(!o||o instanceof Array)return yh(i,r,a);var s=n(o),u=null!=r.distance?r.distance:5,c=this.shape,h=c.cx,p=c.cy,f=c.r,d=c.r0,v=(f+d)/2,g=c.startAngle,m=c.endAngle,y=(g+m)/2,_=t?Math.abs(f-d)/2:0,b=Math.cos,C=Math.sin,x=h+f*b(g),S=p+f*C(g),z="left",w="top";switch(s){case"startArc":x=h+(d-u)*b(y),S=p+(d-u)*C(y),z="center",w="top";break;case"insideStartArc":x=h+(d+u)*b(y),S=p+(d+u)*C(y),z="center",w="bottom";break;case"startAngle":x=h+v*b(g)+Fp(g,u+_,!1),S=p+v*C(g)+Gp(g,u+_,!1),z="right",w="middle";break;case"insideStartAngle":x=h+v*b(g)+Fp(g,-u+_,!1),S=p+v*C(g)+Gp(g,-u+_,!1),z="left",w="middle";break;case"middle":x=h+v*b(y),S=p+v*C(y),z="center",w="middle";break;case"endArc":x=h+(f+u)*b(y),S=p+(f+u)*C(y),z="center",w="bottom";break;case"insideEndArc":x=h+(f-u)*b(y),S=p+(f-u)*C(y),z="center",w="top";break;case"endAngle":x=h+v*b(m)+Fp(m,u+_,!0),S=p+v*C(m)+Gp(m,u+_,!0),z="left",w="middle";break;case"insideEndAngle":x=h+v*b(m)+Fp(m,-u+_,!0),S=p+v*C(m)+Gp(m,-u+_,!0),z="right",w="middle";break;default:return yh(i,r,a)}return(i=i||{}).x=x,i.y=S,i.align=z,i.verticalAlign=w,i}}(p,{isRoundCap:c===Vp}),a){var d=r?"r":"endAngle",v={};h.shape[d]=r?i.r0:i.startAngle,v[d]=i[d],(s?Gt:le)(h,{shape:v},a)}return h}};function SD(n,e,t,i,r,a,o,s){var u,c;a?(c={x:i.x,width:i.width},u={y:i.y,height:i.height}):(c={y:i.y,height:i.height},u={x:i.x,width:i.width}),s||(o?Gt:le)(t,{shape:u},e,r,null),(o?Gt:le)(t,{shape:c},e?n.baseAxis.model:null,r)}function xD(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var W6=["x","y","width","height"],U6=["cx","cy","r","startAngle","endAngle"],zD={cartesian2d:function(n){return!xD(n,W6)},polar:function(n){return!xD(n,U6)}},Hp={cartesian2d:function(n,e,t){var i=n.getItemLayout(e),r=t?function Z6(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||"none"===t)return 0;var i=n.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,a)}(t,i):0,a=i.width>0?1:-1,o=i.height>0?1:-1;return{x:i.x+a*r/2,y:i.y+o*r/2,width:i.width-a*r,height:i.height-o*r}},polar:function(n,e,t){var i=n.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function wD(n){return function(e){var t=e?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+t;default:return i}}}(n)}function TD(n,e,t,i,r,a,o,s){var u=e.getItemVisual(t,"style");if(s){if(!a.get("roundCap")){var h=n.shape;F(h,xo(i.getModel("itemStyle"),h,!0)),n.setShape(h)}}else{var c=i.get(["itemStyle","borderRadius"])||0;n.setShape("r",c)}n.useStyle(u);var f=i.getShallow("cursor");f&&n.attr("cursor",f);var d=s?o?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":o?r.height>=0?"bottom":"top":r.width>=0?"right":"left",v=Oe(i);Ue(n,v,{labelFetcher:a,labelDataIndex:t,defaultText:Ls(a.getData(),t),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:d});var g=n.getTextContent();if(s&&g){var m=i.get(["label","position"]);n.textConfig.inside="middle"===m||null,function H6(n,e,t,i){if(Bt(i))n.setTextConfig({rotation:i});else if(H(e))n.setTextConfig({rotation:0});else{var u,r=n.shape,a=r.clockwise?r.startAngle:r.endAngle,o=r.clockwise?r.endAngle:r.startAngle,s=(a+o)/2,c=t(e);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=a;break;case"endAngle":case"insideEndAngle":u=o;break;default:return void n.setTextConfig({rotation:0})}var h=1.5*Math.PI-u;"middle"===c&&h>Math.PI/2&&h<1.5*Math.PI&&(h-=Math.PI),n.setTextConfig({rotation:h})}}(n,"outside"===m?d:m,wD(o),i.get(["label","rotate"]))}ES(g,v,a.getRawValue(t),function(_){return ZT(e,_)});var y=i.getModel(["emphasis"]);fe(n,y.get("focus"),y.get("blurScope"),y.get("disabled")),We(n,i),function $6(n){return null!=n.startAngle&&null!=n.endAngle&&n.startAngle===n.endAngle}(r)&&(n.style.fill="none",n.style.stroke="none",M(n.states,function(_){_.style&&(_.style.fill=_.style.stroke="none")}))}var q6=function(){return function n(){}}(),DD=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeBar",i}return B(e,n),e.prototype.getDefaultShape=function(){return new q6},e.prototype.buildPath=function(t,i){for(var r=i.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],c=this.barWidth,h=0;h<r.length;h+=3)u[a]=c,u[o]=r[h+2],s[a]=r[h+a],s[o]=r[h+o],t.rect(s[0],s[1],u[0],u[1])},e}(It);function MD(n,e,t,i){var r=n.getData(),a=r.getLayout("valueAxisHorizontal")?1:0,o=r.getLayout("largeDataIndices"),s=r.getLayout("size"),u=n.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var h=new DD({shape:{points:c},incremental:!!i,silent:!0,z2:0});h.baseDimIdx=a,h.largeDataIndices=o,h.barWidth=s,h.useStyle(u.getItemStyle()),e.add(h),t&&t.push(h)}var p=new DD({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});p.baseDimIdx=a,p.largeDataIndices=o,p.barWidth=s,e.add(p),p.useStyle(r.getVisual("style")),dt(p).seriesIndex=n.seriesIndex,n.get("silent")||(p.on("mousedown",ID),p.on("mousemove",ID)),t&&t.push(p)}var ID=em(function(n){var t=function K6(n,e,t){for(var i=n.baseDimIdx,r=1-i,a=n.shape.points,o=n.largeDataIndices,s=[],u=[],c=n.barWidth,h=0,p=a.length/3;h<p;h++){var f=3*h;if(u[i]=c,u[r]=a[f+2],s[i]=a[f+i],s[r]=a[f+r],u[r]<0&&(s[r]+=u[r],u[r]=-u[r]),e>=s[0]&&e<=s[0]+u[0]&&t>=s[1]&&t<=s[1]+u[1])return o[h]}return-1}(this,n.offsetX,n.offsetY);dt(this).dataIndex=t>=0?t:null},30,!1);function AD(n,e,t){if(So(t,"cartesian2d")){var i=e,r=t.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}return{cx:(r=t.getArea()).cx,cy:r.cy,r0:n?r.r0:e.r0,r:n?r.r:e.r,startAngle:n?e.startAngle:0,endAngle:n?e.endAngle:2*Math.PI}}const J6=j6;var kD=2*Math.PI,Xp=Math.PI/180;function PD(n,e){return ke(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function RD(n,e){var t=PD(n,e),i=n.get("center"),r=n.get("radius");H(r)||(r=[0,r]);var h,p,a=q(t.width,e.getWidth()),o=q(t.height,e.getHeight()),s=Math.min(a,o),u=q(r[0],s/2),c=q(r[1],s/2),f=n.coordinateSystem;if(f){var d=f.dataToPoint(i);h=d[0]||0,p=d[1]||0}else H(i)||(i=[i,i]),h=q(i[0],a)+t.x,p=q(i[1],o)+t.y;return{cx:h,cy:p,r0:u,r:c}}function ej(n,e,t){e.eachSeriesByType(n,function(i){var r=i.getData(),a=r.mapDimension("value"),o=PD(i,t),s=RD(i,t),u=s.cx,c=s.cy,h=s.r,p=s.r0,f=-i.get("startAngle")*Xp,d=i.get("endAngle"),v=i.get("padAngle")*Xp;d="auto"===d?f-kD:-d*Xp;var m=i.get("minAngle")*Xp+v,y=0;r.each(a,function(O){!isNaN(O)&&y++});var _=r.getSum(a),b=Math.PI/(_||y)*2,C=i.get("clockwise"),x=i.get("roseType"),S=i.get("stillShowZeroSum"),z=r.getDataExtent(a);z[0]=0;var w=C?1:-1,T=[f,d],D=w*v/2;Wv(T,!C),f=T[0],d=T[1];var I=Math.abs(d-f),A=I,k=0,P=f;if(r.setLayout({viewRect:o,r:h}),r.each(a,function(O,L){var E;if(isNaN(O))r.setItemLayout(L,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:C,cx:u,cy:c,r0:p,r:x?NaN:h});else{(E="area"!==x?0===_&&S?b:O*b:I/y)<m?(E=m,A-=m):k+=O;var V=P+w*E,j=0,$=0;v>E?$=j=P+w*E/2:(j=P+D,$=V-D),r.setItemLayout(L,{angle:E,startAngle:j,endAngle:$,clockwise:C,cx:u,cy:c,r0:p,r:x?Yt(O,z,[p,h]):h}),P=V}}),A<kD&&y)if(A<=.001){var N=I/y;r.each(a,function(O,L){if(!isNaN(O)){var E=r.getItemLayout(L);E.angle=N;var V=0,j=0;N<v?j=V=f+w*(L+.5)*N:(V=f+w*L*N+D,j=f+w*(L+1)*N-D),E.startAngle=V,E.endAngle=j}})}else b=A/k,P=f,r.each(a,function(O,L){if(!isNaN(O)){var E=r.getItemLayout(L),V=E.angle===m?m:O*b,j=0,$=0;V<v?$=j=P+w*V/2:(j=P+D,$=P+w*V-D),E.startAngle=j,E.endAngle=$,P+=w*V}})})}function Ou(n){return{seriesType:n,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var r=e.getData();r.filterSelf(function(a){for(var o=r.getName(a),s=0;s<i.length;s++)if(!i[s].isSelected(o))return!1;return!0})}}}}var nj=Math.PI/180;function ND(n,e,t,i,r,a,o,s,u,c){if(!(n.length<2)){for(var f=n.length,d=0;d<f;d++)"outer"===n[d].position&&"labelLine"===n[d].labelAlignTo&&(n[d].linePoints[1][0]+=n[d].label.x-c,n[d].label.x=c);aT(n,u,u+o)&&function p(g){for(var m={list:[],maxY:0},y={list:[],maxY:0},_=0;_<g.length;_++)if("none"===g[_].labelAlignTo){var b=g[_],C=b.label.y>t?y:m,x=Math.abs(b.label.y-t);if(x>=C.maxY){var S=b.label.x-e-b.len2*r,z=i+b.len,w=Math.abs(S)<z?Math.sqrt(x*x/(1-S*S/z/z)):z;C.rB=w,C.maxY=x}C.list.push(b)}h(m),h(y)}(n)}function h(g){for(var m=g.rB,y=m*m,_=0;_<g.list.length;_++){var b=g.list[_],C=Math.abs(b.label.y-t),x=i+b.len,S=x*x,z=Math.sqrt((1-Math.abs(C*C/y))*S),w=e+(z+b.len2)*r;OD(b,b.targetTextWidth-(w-b.label.x)*r,!0),b.label.x=w}}}function OD(n,e,t){if(void 0===t&&(t=!1),null==n.labelStyleWidth){var i=n.label,r=i.style,a=n.rect,o=r.backgroundColor,s=r.padding,u=s?s[1]+s[3]:0,c=r.overflow,h=a.width+(o?0:u);if(e<h||t){var p=a.height;if(c&&c.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-u);var f=i.getBoundingRect();i.setStyle("width",Math.ceil(f.width)),i.setStyle("backgroundColor",o)}else{var d=e-u;i.setStyle("width",e<h?d:t?d>n.unconstrainedWidth?null:d:null)}var g=i.getBoundingRect();a.width=g.width,a.height=g.height+((i.style.margin||0)+2.1),a.y-=(a.height-p)/2}}}function Km(n){return"center"===n.position}var aj=function(n){function e(t,i,r){var a=n.call(this)||this;a.z2=2;var o=new Vt;return a.setTextContent(o),a.updateData(t,i,r,!0),a}return B(e,n),e.prototype.updateData=function(t,i,r,a){var o=this,s=t.hostModel,u=t.getItemModel(i),c=u.getModel("emphasis"),h=t.getItemLayout(i),p=F(xo(u.getModel("itemStyle"),h,!0),h);if(isNaN(p.startAngle))o.setShape(p);else{if(a){o.setShape(p);var f=s.getShallow("animationType");s.ecModel.ssr?(le(o,{scaleX:0,scaleY:0},s,{dataIndex:i,isFrom:!0}),o.originX=p.cx,o.originY=p.cy):"scale"===f?(o.shape.r=h.r0,le(o,{shape:{r:h.r}},s,i)):null!=r?(o.setShape({startAngle:r,endAngle:r}),le(o,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},s,i)):(o.shape.endAngle=h.startAngle,Gt(o,{shape:{endAngle:h.endAngle}},s,i))}else vi(o),Gt(o,{shape:p},s,i);o.useStyle(t.getItemVisual(i,"style")),We(o,u);var d=(h.startAngle+h.endAngle)/2,v=s.get("selectedOffset"),g=Math.cos(d)*v,m=Math.sin(d)*v,y=u.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(s,t,i),o.ensureState("emphasis").shape=F({r:h.r+(c.get("scale")&&c.get("scaleSize")||0)},xo(c.getModel("itemStyle"),h)),F(o.ensureState("select"),{x:g,y:m,shape:xo(u.getModel(["select","itemStyle"]),h)}),F(o.ensureState("blur"),{shape:xo(u.getModel(["blur","itemStyle"]),h)});var _=o.getTextGuideLine(),b=o.getTextContent();_&&F(_.ensureState("select"),{x:g,y:m}),F(b.ensureState("select"),{x:g,y:m}),fe(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))}},e.prototype._updateLabel=function(t,i,r){var a=this,o=i.getItemModel(r),s=o.getModel("labelLine"),u=i.getItemVisual(r,"style"),c=u&&u.fill,h=u&&u.opacity;Ue(a,Oe(o),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:c,defaultOpacity:h,defaultText:t.getFormattedLabel(r,"normal")||i.getName(r)});var p=a.getTextContent();a.setTextConfig({position:null,rotation:null}),p.attr({z2:10});var f=t.get(["label","position"]);if("outside"!==f&&"outer"!==f)a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new Dn,this.setTextGuideLine(d)),zm(this,wm(o),{stroke:c,opacity:Pi(s.get(["lineStyle","opacity"]),h,1)})}},e}(wn),oj=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return B(e,n),e.prototype.render=function(t,i,r,a){var c,o=t.getData(),s=this._data,u=this.group;if(!s&&o.count()>0){for(var h=o.getItemLayout(0),p=1;isNaN(h&&h.startAngle)&&p<o.count();++p)h=o.getItemLayout(p);h&&(c=h.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),0===o.count()&&t.get("showEmptyCircle")){var f=new wn({shape:RD(t,r)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,u.add(f)}o.diff(s).add(function(d){var v=new aj(o,d,c);o.setItemGraphicEl(d,v),u.add(v)}).update(function(d,v){var g=s.getItemGraphicEl(v);g.updateData(o,d,c),g.off("click"),u.add(g),o.setItemGraphicEl(d,g)}).remove(function(d){Zl(s.getItemGraphicEl(d),t,d)}).execute(),function rj(n){var i,r,e=n.getData(),t=[],a=!1,o=(n.get("minShowLabelAngle")||0)*nj,s=e.getLayout("viewRect"),u=e.getLayout("r"),c=s.width,h=s.x,p=s.y,f=s.height;function d(S){S.ignore=!0}e.each(function(S){var z=e.getItemGraphicEl(S),w=z.shape,T=z.getTextContent(),D=z.getTextGuideLine(),I=e.getItemModel(S),A=I.getModel("label"),k=A.get("position")||I.get(["emphasis","label","position"]),P=A.get("distanceToLabelLine"),N=A.get("alignTo"),O=q(A.get("edgeDistance"),c),L=A.get("bleedMargin"),E=I.getModel("labelLine"),V=E.get("length");V=q(V,c);var j=E.get("length2");if(j=q(j,c),Math.abs(w.endAngle-w.startAngle)<o)return M(T.states,d),T.ignore=!0,void(D&&(M(D.states,d),D.ignore=!0));if(function v(S){if(!S.ignore)return!0;for(var z in S.states)if(!1===S.states[z].ignore)return!0;return!1}(T)){var st,Tt,kt,Dt,$=(w.startAngle+w.endAngle)/2,it=Math.cos($),ot=Math.sin($);i=w.cx,r=w.cy;var pt="inside"===k||"inner"===k;if("center"===k)st=w.cx,Tt=w.cy,Dt="center";else{var Mt=(pt?(w.r+w.r0)/2*it:w.r*it)+i,bt=(pt?(w.r+w.r0)/2*ot:w.r*ot)+r;if(st=Mt+3*it,Tt=bt+3*ot,!pt){var rt=Mt+it*(V+u-w.r),Ct=bt+ot*(V+u-w.r),he=rt+(it<0?-1:1)*j;st="edge"===N?it<0?h+O:h+c-O:he+(it<0?-P:P),Tt=Ct,kt=[[Mt,bt],[rt,Ct],[he,Ct]]}Dt=pt?"center":"edge"===N?it>0?"right":"left":it>0?"left":"right"}var be=Math.PI,ve=0,nn=A.get("rotate");if(Bt(nn))ve=nn*(be/180);else if("center"===k)ve=0;else if("radial"===nn||!0===nn)ve=it<0?-$+be:-$;else if("tangential"===nn&&"outside"!==k&&"outer"!==k){var kn=Math.atan2(it,ot);kn<0&&(kn=2*be+kn),ot>0&&(kn=be+kn),ve=kn-be}if(a=!!ve,T.x=st,T.y=Tt,T.rotation=ve,T.setStyle({verticalAlign:"middle"}),pt){T.setStyle({align:Dt});var q_=T.states.select;q_&&(q_.x+=T.x,q_.y+=T.y)}else{var ya=T.getBoundingRect().clone();ya.applyTransform(T.getComputedTransform());var qR=(T.style.margin||0)+2.1;ya.y-=qR/2,ya.height+=qR,t.push({label:T,labelLine:D,position:k,len:V,len2:j,minTurnAngle:E.get("minTurnAngle"),maxSurfaceAngle:E.get("maxSurfaceAngle"),surfaceNormal:new _t(it,ot),linePoints:kt,textAlign:Dt,labelDistance:P,labelAlignTo:N,edgeDistance:O,bleedMargin:L,rect:ya,unconstrainedWidth:ya.width,labelStyleWidth:T.style.width})}z.setTextConfig({inside:pt})}}),!a&&n.get("avoidLabelOverlap")&&function ij(n,e,t,i,r,a,o,s){for(var u=[],c=[],h=Number.MAX_VALUE,p=-Number.MAX_VALUE,f=0;f<n.length;f++){var d=n[f].label;Km(n[f])||(d.x<e?(h=Math.min(h,d.x),u.push(n[f])):(p=Math.max(p,d.x),c.push(n[f])))}for(f=0;f<n.length;f++)if(!Km(v=n[f])&&v.linePoints){if(null!=v.labelStyleWidth)continue;d=v.label;var m,g=v.linePoints;v.targetTextWidth=m="edge"===v.labelAlignTo?d.x<e?g[2][0]-v.labelDistance-o-v.edgeDistance:o+r-v.edgeDistance-g[2][0]-v.labelDistance:"labelLine"===v.labelAlignTo?d.x<e?h-o-v.bleedMargin:o+r-p-v.bleedMargin:d.x<e?d.x-o-v.bleedMargin:o+r-d.x-v.bleedMargin,OD(v,m)}for(ND(c,e,t,i,1,0,a,0,s,p),ND(u,e,t,i,-1,0,a,0,s,h),f=0;f<n.length;f++){var v;if(!Km(v=n[f])&&v.linePoints){var _=(d=v.label).style.padding,x=v.rect.width+(d.style.backgroundColor?0:_?_[1]+_[3]:0),S=(g=v.linePoints)[1][0]-g[2][0];"edge"===v.labelAlignTo?g[2][0]=d.x<e?o+v.edgeDistance+x+v.labelDistance:o+r-v.edgeDistance-x-v.labelDistance:(g[2][0]=d.x<e?d.x+v.labelDistance:d.x-v.labelDistance,g[1][0]=g[2][0]+S),g[1][1]=g[2][1]=d.y}}}(t,i,r,u,c,f,h,p);for(var g=0;g<t.length;g++){var m=t[g],y=m.label,_=m.labelLine,b=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign}),b&&(M(y.states,d),y.ignore=!0);var C=y.states.select;C&&(C.x+=y.x,C.y+=y.y)}if(_){var x=m.linePoints;b||!x?(M(_.states,d),_.ignore=!0):(nT(x,m.minTurnAngle),FH(x,m.surfaceNormal,m.maxSurfaceAngle),_.setShape({points:x}),y.__hostTarget.textGuideLineConfig={anchor:new _t(x[0][0],x[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,i){var a=i.getData().getItemLayout(0);if(a){var o=t[0]-a.cx,s=t[1]-a.cy,u=Math.sqrt(o*o+s*s);return u<=a.r&&u>=a.r0}},e.type="pie",e}(ne);const sj=oj;function Bs(n,e,t){e=H(e)&&{coordDimensions:e}||F({encodeDefine:n.getEncode()},e);var i=n.getSource(),r=Os(i,e).dimensions,a=new vn(r,n);return a.initData(i,t),a}var lj=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},n.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},n.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},n}();const Eu=lj;var uj=Nt(),cj=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Eu(J(this.getData,this),J(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Bs(this,{coordDimensions:["value"],encodeDefaulter:yt(Cg,this)})},e.prototype.getDataParams=function(t){var i=this.getData(),r=uj(i),a=r.seats;if(!a){var o=[];i.each(i.mapDimension("value"),function(u){o.push(u)}),a=r.seats=function yC(n,e){var t=ki(n,function(d,v){return d+(isNaN(v)?0:v)},0);if(0===t)return[];for(var i=Math.pow(10,e),r=X(n,function(d){return(isNaN(d)?0:d)/t*i*100}),a=100*i,o=X(r,function(d){return Math.floor(d)}),s=ki(o,function(d,v){return d+v},0),u=X(r,function(d,v){return d-o[v]});s<a;){for(var c=Number.NEGATIVE_INFINITY,h=null,p=0,f=u.length;p<f;++p)u[p]>c&&(c=u[p],h=p);++o[h],u[h]=0,++s}return X(o,function(d){return d/i})}(o,i.hostModel.get("percentPrecision"))}var s=n.prototype.getDataParams.call(this,t);return s.percent=a[t]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(t){Ea(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(ce);const hj=cj;var dj=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return B(e,n),e.prototype.getInitialData=function(t,i){return _r(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(ce);const vj=dj;var gj=function(){return function n(){}}(),mj=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return B(e,n),e.prototype.getDefaultShape=function(){return new gj},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,i){var p,r=i.points,a=i.size,o=this.symbolProxy,s=o.shape,u=t.getContext?t.getContext():t,h=this.softClipShape;if(u&&a[0]<4)this._ctx=u;else{for(this._ctx=null,p=this._off;p<r.length;){var f=r[p++],d=r[p++];isNaN(f)||isNaN(d)||h&&!h.contain(f,d)||(s.x=f-a[0]/2,s.y=d-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(t,s,!0))}this.incremental&&(this._off=p,this.notClear=!0)}},e.prototype.afterBrush=function(){var s,t=this.shape,i=t.points,r=t.size,a=this._ctx,o=this.softClipShape;if(a){for(s=this._off;s<i.length;){var u=i[s++],c=i[s++];isNaN(u)||isNaN(c)||o&&!o.contain(u,c)||a.fillRect(u-r[0]/2,c-r[1]/2,r[0],r[1])}this.incremental&&(this._off=s,this.notClear=!0)}},e.prototype.findDataIndex=function(t,i){for(var r=this.shape,a=r.points,o=r.size,s=Math.max(o[0],4),u=Math.max(o[1],4),c=a.length/2-1;c>=0;c--){var h=2*c,p=a[h]-s/2,f=a[h+1]-u/2;if(t>=p&&i>=f&&t<=p+s&&i<=f+u)return c}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(t=r[0],i=r[1])?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape,r=i.points,a=i.size,o=a[0],s=a[1],u=1/0,c=1/0,h=-1/0,p=-1/0,f=0;f<r.length;){var d=r[f++],v=r[f++];u=Math.min(d,u),h=Math.max(d,h),c=Math.min(v,c),p=Math.max(v,p)}t=this._rect=new xt(u-o/2,c-s/2,h-u+o,p-c+s)}return t},e}(It),yj=function(){function n(){this.group=new ft}return n.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(i){null!=i.startIndex&&(t=new Float32Array(t.buffer,4*i.startIndex*2,2*(i.endIndex-i.startIndex))),i.setShape("points",t),i.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,i){var r=this._newAdded[0],a=t.getLayout("points"),o=r&&r.shape.points;if(o&&o.length<2e4){var s=o.length,u=new Float32Array(s+a.length);u.set(o),u.set(a,s),r.endIndex=e.end,r.setShape({points:u})}else{this._newAdded=[];var c=this._create();c.startIndex=e.start,c.endIndex=e.end,c.incremental=!0,c.setShape({points:a}),this._setCommon(c,t,i)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new mj({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;i=i||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=i.clipShape||null,e.symbolProxy=Ie(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<4;e.useStyle(r.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),u=s&&s.fill;u&&e.setColor(u);var c=dt(e);c.seriesIndex=r.seriesIndex,e.on("mousemove",function(h){c.dataIndex=null;var p=e.hoverDataIdx;p>=0&&(c.dataIndex=p+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const _j=yj;var bj=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){var a=t.getData();this._updateSymbolDraw(a,t).updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var a=t.getData();this._updateSymbolDraw(a,t).incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._symbolDraw.incrementalUpdate(t,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=t.end===i.getData().count()},e.prototype.updateTransform=function(t,i,r){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=Nu("").reset(t,i,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var i=t.coordinateSystem;return i&&i.getArea&&i.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,i){var r=this._symbolDraw,o=i.pipelineContext.large;return(!r||o!==this._isLargeDraw)&&(r&&r.remove(),r=this._symbolDraw=o?new _j:new Pu,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(ne);const Cj=bj;var Sj=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Ft);const xj=Sj;var Lu=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),Qm=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",De).models[0]},e.type="cartesian2dAxis",e}(Ft);Te(Qm,Lu);var LD={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},zj=St({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},LD),Jm=St({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},LD);const BD={category:zj,value:Jm,time:St({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Jm),log:lt({logBase:10},Jm)};var Dj=0,Mj=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Dj}return n.createByAxisModel=function(e){var t=e.option,i=t.data,r=i&&X(i,Ij);return new n({categories:r,needCollect:!r,deduplication:!1!==t.dedplication})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(!Q(e)&&!i)return e;if(i&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var r=this._getOrCreateMap();return null==(t=r.get(e))&&(i?(this.categories[t=this.categories.length]=e,r.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=nt(this.categories))},n}();function Ij(n){return ct(n)&&null!=n.value?n.value:n+""}const ty=Mj;var Aj={value:1,category:1,time:1,log:1};function Vs(n,e,t,i){M(Aj,function(r,a){var o=St(St({},BD[a],!0),i,!0),s=function(u){function c(){var h=null!==u&&u.apply(this,arguments)||this;return h.type=e+"Axis."+a,h}return B(c,u),c.prototype.mergeDefaultAndTheme=function(h,p){var f=Jl(this),d=f?ms(h):{};St(h,p.getTheme().get(a+"Axis")),St(h,this.getDefaultOption()),h.type=VD(h),f&&Zr(h,d,f)},c.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=ty.createByAxisModel(this))},c.prototype.getCategories=function(h){var p=this.option;if("category"===p.type)return h?p.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=e+"Axis."+a,c.defaultOption=o,c}(t);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(e+"Axis",VD)}function VD(n){return n.type||(n.data?"category":"value")}var FD=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();bh(FD);const br=FD;function ey(n){return"interval"===n.type||"log"===n.type}function ny(n){var e=Math.pow(10,Tv(n)),t=n/e;return t?2===t?t=3:3===t?t=5:t*=2:t=1,_e(t*e)}function GD(n){return Li(n)+2}function HD(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function jp(n,e){return n>=e[0]&&n<=e[1]}function Yp(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function Wp(n,e){return n*(e[1]-e[0])+e[0]}var XD=function(n){function e(t){var i=n.call(this,t)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new ty({})),H(r)&&(r=new ty({categories:X(r,function(a){return ct(a)?a.value:a})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return B(e,n),e.prototype.parse=function(t){return null==t?NaN:Q(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return jp(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return Yp(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(Wp(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],i=this._extent,r=i[0];r<=i[1];)t.push({value:r}),r++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var i=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,u=Math.min(s,i.length);o<u;++o){var c=i[o];r[o]=c,a[c]=o}for(var h=0;o<s;++o){for(;null!=a[h];)h++;r.push(h),a[h]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[i];return null==r?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(br);br.registerClass(XD);const iy=XD;var zo=_e,jD=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return B(e,n),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return jp(t,this._extent)},e.prototype.normalize=function(t){return Yp(t,this._extent)},e.prototype.scale=function(t){return Wp(t,this._extent)},e.prototype.setExtent=function(t,i){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(i)||(r[1]=parseFloat(i))},e.prototype.unionExtent=function(t){var i=this._extent;t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=GD(t)},e.prototype.getTicks=function(t){var i=this._interval,r=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!i)return s;r[0]<a[0]&&s.push(t?{value:zo(a[0]-i,o)}:{value:r[0]});for(var c=a[0];c<=a[1]&&(s.push({value:c}),(c=zo(c+i,o))!==s[s.length-1].value);)if(s.length>1e4)return[];var h=s.length?s[s.length-1].value:a[1];return r[1]>h&&s.push(t?{value:zo(h+i,o)}:{value:r[1]}),s},e.prototype.getMinorTicks=function(t){for(var i=this.getTicks(!0),r=[],a=this.getExtent(),o=1;o<i.length;o++){for(var u=i[o-1],c=0,h=[],f=(i[o].value-u.value)/t;c<t-1;){var d=zo(u.value+(c+1)*f);d>a[0]&&d<a[1]&&h.push(d),c++}r.push(h)}return r},e.prototype.getLabel=function(t,i){if(null==t)return"";var r=i&&i.precision;return null==r?r=Li(t.value)||0:"auto"===r&&(r=this._intervalPrecision),JS(zo(t.value,r,!0))},e.prototype.calcNiceTicks=function(t,i,r){t=t||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=function kj(n,e,t,i){var r={},o=r.interval=CC((n[1]-n[0])/e,!0);null!=t&&o<t&&(o=r.interval=t),null!=i&&o>i&&(o=r.interval=i);var s=r.intervalPrecision=GD(o);return function Pj(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),HD(n,0,e),HD(n,1,e),n[0]>n[1]&&(n[0]=n[1])}(r.niceTickExtent=[_e(Math.ceil(n[0]/o)*o,s),_e(Math.floor(n[1]/o)*o,s)],n),r}(a,t,i,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=Math.abs(i[0]);t.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;isFinite(i[1]-i[0])||(i[0]=0,i[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(i[0]=zo(Math.floor(i[0]/o)*o)),t.fixMax||(i[1]=zo(Math.ceil(i[1]/o)*o))},e.prototype.setNiceExtent=function(t,i){this._niceExtent=[t,i]},e.type="interval",e}(br);br.registerClass(jD);const oa=jD;var YD=function(n){function e(t){var i=n.call(this,t)||this;return i.type="time",i}return B(e,n),e.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return Bh(t.value,XS[function K4(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(ds(this._minLevelUnit))]||XS.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,i,r){var a=this.getSetting("useUTC");return function Q4(n,e,t,i,r){var a=null;if(Q(t))a=t;else if(at(t))a=t(n.value,e,{level:n.level});else{var o=F({},Kl);if(n.level>0)for(var s=0;s<gg.length;++s)o[gg[s]]="{primary|"+o[gg[s]]+"}";var u=t?!1===t.inherit?t:lt(t,o):o,c=YS(n.value,r);if(u[c])a=u[c];else if(u.inherit){for(s=jS.indexOf(c)-1;s>=0;--s)if(u[c]){a=u[c];break}a=a||o.none}if(H(a)){var p=null==n.level?0:n.level>=0?n.level:a.length+n.level;a=a[p=Math.min(p,a.length-1)]}}return Bh(new Date(n.value),a,r,i)}(t,i,r,this.getSetting("locale"),a)},e.prototype.getTicks=function(){var i=this._extent,r=[];if(!this._interval)return r;r.push({value:i[0],level:0});var a=this.getSetting("useUTC"),o=function Fj(n,e,t,i){var a=jS,o=0;function s(D,I,A,k,P,N,O){for(var L=new Date(I),E=I,V=L[k]();E<A&&E<=i[1];)O.push({value:E}),L[P](V+=D),E=L.getTime();O.push({value:E,notAdd:!0})}function u(D,I,A){var k=[],P=!I.length;if(!function Nj(n,e,t,i){var r=Bi(e),a=Bi(t),o=function(v){return WS(r,v,i)===WS(a,v,i)},s=function(){return o("year")},u=function(){return s()&&o("month")},c=function(){return u()&&o("day")},h=function(){return c()&&o("hour")},p=function(){return h()&&o("minute")},f=function(){return p()&&o("second")};switch(n){case"year":return s();case"month":return u();case"day":return c();case"hour":return h();case"minute":return p();case"second":return f();case"millisecond":return f()&&o("millisecond")}}(ds(D),i[0],i[1],t)){P&&(I=[{value:Vj(new Date(i[0]),D,t)},{value:i[1]}]);for(var N=0;N<I.length-1;N++){var O=I[N].value,L=I[N+1].value;if(O!==L){var E=void 0,V=void 0,j=void 0;switch(D){case"year":E=Math.max(1,Math.round(e/$n/365)),V=mg(t),j=J4(t);break;case"half-year":case"quarter":case"month":E=Ej(e),V=vs(t),j=US(t);break;case"week":case"half-week":case"day":E=Oj(e),V=Vh(t),j=$S(t),!0;break;case"half-day":case"quarter-day":case"hour":E=Lj(e),V=Ql(t),j=ZS(t);break;case"minute":E=WD(e,!0),V=Fh(t),j=qS(t);break;case"second":E=WD(e,!1),V=Gh(t),j=KS(t);break;case"millisecond":E=Bj(e),V=Hh(t),j=QS(t)}s(E,O,L,V,j,0,k),"year"===D&&A.length>1&&0===N&&A.unshift({value:A[0].value-E})}}for(N=0;N<k.length;N++)A.push(k[N]);return k}}for(var c=[],h=[],p=0,f=0,d=0;d<a.length&&o++<1e4;++d){var v=ds(a[d]);if(q4(a[d])&&(u(a[d],c[c.length-1]||[],h),v!==(a[d+1]?ds(a[d+1]):null))){if(h.length){f=p,h.sort(function(D,I){return D.value-I.value});for(var m=[],y=0;y<h.length;++y){var _=h[y].value;(0===y||h[y-1].value!==_)&&(m.push(h[y]),_>=i[0]&&_<=i[1]&&p++)}var b=(i[1]-i[0])/e;if(p>1.5*b&&f>b/1.5||(c.push(m),p>b||n===a[d]))break}h=[]}}var C=Ut(X(c,function(D){return Ut(D,function(I){return I.value>=i[0]&&I.value<=i[1]&&!I.notAdd})}),function(D){return D.length>0}),x=[],S=C.length-1;for(d=0;d<C.length;++d)for(var z=C[d],w=0;w<z.length;++w)x.push({value:z[w].value,level:S-d});x.sort(function(D,I){return D.value-I.value});var T=[];for(d=0;d<x.length;++d)(0===d||x[d].value!==x[d-1].value)&&T.push(x[d]);return T}(this._minLevelUnit,this._approxInterval,a,i);return(r=r.concat(o)).push({value:i[1],level:0}),r},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1]&&(i[0]-=$n,i[1]+=$n),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-$n}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,i,r){var a=this._extent;this._approxInterval=(a[1]-a[0])/(t=t||10),null!=i&&this._approxInterval<i&&(this._approxInterval=i),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var s=Up.length,u=Math.min(function(n,e,t,i){for(;t<i;){var r=t+i>>>1;n[r][1]<e?t=r+1:i=r}return t}(Up,this._approxInterval,0,s),s-1);this._interval=Up[u][1],this._minLevelUnit=Up[Math.max(u-1,0)][0]},e.prototype.parse=function(t){return Bt(t)?t:+Bi(t)},e.prototype.contain=function(t){return jp(this.parse(t),this._extent)},e.prototype.normalize=function(t){return Yp(this.parse(t),this._extent)},e.prototype.scale=function(t){return Wp(t,this._extent)},e.type="time",e}(oa),Up=[["second",1e3],["minute",6e4],["hour",ql],["quarter-day",6*ql],["half-day",12*ql],["day",1.2*$n],["half-week",3.5*$n],["week",7*$n],["month",31*$n],["quarter",95*$n],["half-year",HS/2],["year",HS]];function Oj(n,e){return(n/=$n)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function Ej(n){return(n/=30*$n)>6?6:n>3?3:n>2?2:1}function Lj(n){return(n/=ql)>12?12:n>6?6:n>3.5?4:n>2?2:1}function WD(n,e){return(n/=e?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function Bj(n){return CC(n,!0)}function Vj(n,e,t){var i=new Date(n);switch(ds(e)){case"year":case"month":i[US(t)](0);case"day":i[$S(t)](1);case"hour":i[ZS(t)](0);case"minute":i[qS(t)](0);case"second":i[KS(t)](0),i[QS(t)](0)}return i.getTime()}br.registerClass(YD);const UD=YD;var $D=br.prototype,Bu=oa.prototype,Gj=_e,Hj=Math.floor,Xj=Math.ceil,$p=Math.pow,xi=Math.log,ry=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new oa,t._interval=0,t}return B(e,n),e.prototype.getTicks=function(t){var r=this._extent,a=this._originalScale.getExtent();return X(Bu.getTicks.call(this,t),function(s){var u=s.value,c=_e($p(this.base,u));return c=u===r[0]&&this._fixMin?Zp(c,a[0]):c,{value:c=u===r[1]&&this._fixMax?Zp(c,a[1]):c}},this)},e.prototype.setExtent=function(t,i){var r=xi(this.base);t=xi(Math.max(0,t))/r,i=xi(Math.max(0,i))/r,Bu.setExtent.call(this,t,i)},e.prototype.getExtent=function(){var t=this.base,i=$D.getExtent.call(this);i[0]=$p(t,i[0]),i[1]=$p(t,i[1]);var a=this._originalScale.getExtent();return this._fixMin&&(i[0]=Zp(i[0],a[0])),this._fixMax&&(i[1]=Zp(i[1],a[1])),i},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var i=this.base;t[0]=xi(t[0])/xi(i),t[1]=xi(t[1])/xi(i),$D.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.calcNiceTicks=function(t){t=t||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var a=function i3(n){return Math.pow(10,Tv(n))}(r);for(t/r*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[_e(Xj(i[0]/a)*a),_e(Hj(i[1]/a)*a)];this._interval=a,this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){Bu.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return jp(t=xi(t)/xi(this.base),this._extent)},e.prototype.normalize=function(t){return Yp(t=xi(t)/xi(this.base),this._extent)},e.prototype.scale=function(t){return t=Wp(t,this._extent),$p(this.base,t)},e.type="log",e}(br),ZD=ry.prototype;function Zp(n,e){return Gj(n,Li(e))}ZD.getMinorTicks=Bu.getMinorTicks,ZD.getLabel=Bu.getLabel,br.registerClass(ry);const jj=ry;var Yj=function(){function n(e,t,i){this._prepareParams(e,t,i)}return n.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=this._modelMinRaw=t.get("min",!0);at(a)?this._modelMinNum=qp(e,a({min:i[0],max:i[1]})):"dataMin"!==a&&(this._modelMinNum=qp(e,a));var o=this._modelMaxRaw=t.get("max",!0);if(at(o)?this._modelMaxNum=qp(e,o({min:i[0],max:i[1]})):"dataMax"!==o&&(this._modelMaxNum=qp(e,o)),r)this._axisDataLen=t.getCategories().length;else{var s=t.get("boundaryGap"),u=H(s)?s:[s||0,s||0];this._boundaryGapInner="boolean"==typeof u[0]||"boolean"==typeof u[1]?[0,0]:[di(u[0],1),di(u[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,r=this._axisDataLen,a=this._boundaryGapInner,o=e?null:i-t||Math.abs(t),s="dataMin"===this._modelMinRaw?t:this._modelMinNum,u="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,c=null!=s,h=null!=u;null==s&&(s=e?r?0:NaN:t-a[0]*o),null==u&&(u=e?r?r-1:NaN:i+a[1]*o),(null==s||!isFinite(s))&&(s=NaN),(null==u||!isFinite(u))&&(u=NaN);var p=yl(s)||yl(u)||e&&!r;this._needCrossZero&&(s>0&&u>0&&!c&&(s=0),s<0&&u<0&&!h&&(u=0));var f=this._determinedMin,d=this._determinedMax;return null!=f&&(s=f,c=!0),null!=d&&(u=d,h=!0),{min:s,max:u,minFixed:c,maxFixed:h,isBlank:p}},n.prototype.modifyDataMinMax=function(e,t){this[Uj[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){this[Wj[e]]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),Wj={min:"_determinedMin",max:"_determinedMax"},Uj={min:"_dataMin",max:"_dataMax"};function qD(n,e,t){var i=n.rawExtentInfo;return i||(i=new Yj(n,e,t),n.rawExtentInfo=i,i)}function qp(n,e){return null==e?null:yl(e)?NaN:n.parse(e)}function KD(n,e){var t=n.type,i=qD(n,e,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,a=i.max,o=e.ecModel;if(o&&"time"===t){var s=pD("bar",o),u=!1;if(M(s,function(p){u=u||p.getBaseAxis()===e.axis}),u){var c=fD(s),h=function $j(n,e,t,i){var r=t.axis.getExtent(),a=r[1]-r[0],o=function O6(n,e,t){if(n&&e){var i=n[$m(e)];return null!=i&&null!=t?i[Um(t)]:i}}(i,t.axis);if(void 0===o)return{min:n,max:e};var s=1/0;M(o,function(d){s=Math.min(d.offset,s)});var u=-1/0;M(o,function(d){u=Math.max(d.offset+d.width,u)}),s=Math.abs(s),u=Math.abs(u);var c=s+u,h=e-n,f=h/(1-(s+u)/a)-h;return{min:n-=f*(s/c),max:e+=f*(u/c)}}(r,a,e,c);r=h.min,a=h.max}}return{extent:[r,a],fixMin:i.minFixed,fixMax:i.maxFixed}}function Fs(n,e){var t=e,i=KD(n,t),r=i.extent,a=t.get("splitNumber");n instanceof jj&&(n.base=t.get("logBase"));var o=n.type,s=t.get("interval"),u="interval"===o||"time"===o;n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:a,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:u?t.get("minInterval"):null,maxInterval:u?t.get("maxInterval"):null}),null!=s&&n.setInterval&&n.setInterval(s)}function Kp(n,e){if(e=e||n.get("type"))switch(e){case"category":return new iy({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new UD({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(br.getClass(e)||oa)}}function Vu(n){var e=n.getLabelModel().get("formatter"),t="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?function(i){return function(r,a){return n.scale.getFormattedLabel(r,a,i)}}(e):Q(e)?function(i){return function(r){var a=n.scale.getLabel(r);return i.replace("{value}",a??"")}}(e):at(e)?function(i){return function(r,a){return null!=t&&(a=r.value-t),i(ay(n,r),a,null!=r.level?{level:r.level}:null)}}(e):function(i){return n.scale.getLabel(i)}}function ay(n,e){return"category"===n.type?n.scale.getLabel(e):e.value}function Kj(n,e){var t=e*Math.PI/180,i=n.width,r=n.height,a=i*Math.abs(Math.cos(t))+Math.abs(r*Math.sin(t)),o=i*Math.abs(Math.sin(t))+Math.abs(r*Math.cos(t));return new xt(n.x,n.y,a,o)}function oy(n){return n.get("interval")??"auto"}function QD(n){return"category"===n.type&&0===oy(n.getLabelModel())}function Qp(n,e){var t={};return M(n.mapDimensionsAll(e),function(i){t[$T(n,i)]=!0}),At(t)}var Jj=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return X(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ut(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}(),sy=["x","y"];function JD(n){return"interval"===n.type||"time"===n.type}var eY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=sy,t}return B(e,n),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(JD(t)&&JD(i)){var r=t.getExtent(),a=i.getExtent(),o=this.dataToPoint([r[0],a[0]]),s=this.dataToPoint([r[1],a[1]]),u=r[1]-r[0],c=a[1]-a[0];if(u&&c){var h=(s[0]-o[0])/u,p=(s[1]-o[1])/c,v=this._transform=[h,0,0,p,o[0]-r[0]*h,o[1]-a[0]*p];this._invTransform=Ko([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,i){var r=this.dataToPoint(t),a=this.dataToPoint(i),o=this.getArea(),s=new xt(r[0],r[1],a[0]-r[0],a[1]-r[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,i,r){r=r||[];var a=t[0],o=t[1];if(this._transform&&null!=a&&isFinite(a)&&null!=o&&isFinite(o))return je(r,t,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(a,i)),r[1]=u.toGlobalCoord(u.dataToCoord(o,i)),r},e.prototype.clampData=function(t,i){var r=this.getAxis("x").scale,a=this.getAxis("y").scale,o=r.getExtent(),s=a.getExtent(),u=r.parse(t[0]),c=a.parse(t[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),i[1]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),i},e.prototype.pointToData=function(t,i){var r=[];if(this._invTransform)return je(r,t,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return r[0]=a.coordToData(a.toLocalCoord(t[0]),i),r[1]=o.coordToData(o.toLocalCoord(t[1]),i),r},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(t){t=t||0;var i=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),a=Math.min(i[0],i[1])-t,o=Math.min(r[0],r[1])-t,s=Math.max(i[0],i[1])-a+t,u=Math.max(r[0],r[1])-o+t;return new xt(a,o,s,u)},e}(Jj);const nY=eY;var Fu=Nt();function t2(n,e){var a,o,t=e2(n,"labels"),i=oy(e);return n2(t,i)||(at(i)?a=o2(n,i):(o="auto"===i?function lY(n){return Fu(n).autoInterval??(Fu(n).autoInterval=n.calculateCategoryInterval())}(n):i,a=a2(n,o)),r2(t,i,{labels:a,labelCategoryInterval:o}))}function e2(n,e){return Fu(n)[e]||(Fu(n)[e]=[])}function n2(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function r2(n,e,t){return n.push({key:e,value:t}),t}function a2(n,e,t){var i=Vu(n),r=n.scale,a=r.getExtent(),o=n.getLabelModel(),s=[],u=Math.max((e||0)+1,1),c=a[0],h=r.count();0!==c&&u>1&&h/u>2&&(c=Math.round(Math.ceil(c/u)*u));var p=QD(n),f=o.get("showMinLabel")||p,d=o.get("showMaxLabel")||p;f&&c!==a[0]&&g(a[0]);for(var v=c;v<=a[1];v+=u)g(v);function g(m){var y={value:m};s.push(t?m:{formattedLabel:i(y),rawLabel:r.getLabel(y),tickValue:m})}return d&&v-u!==a[1]&&g(a[1]),s}function o2(n,e,t){var i=n.scale,r=Vu(n),a=[];return M(i.getTicks(),function(o){var s=i.getLabel(o),u=o.value;e(o.value,s)&&a.push(t?u:{formattedLabel:r(o),rawLabel:s,tickValue:u})}),a}var s2=[0,1],hY=function(){function n(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return n.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=i&&e<=r},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return mC(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},n.prototype.dataToCoord=function(e,t){var i=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&"ordinal"===r.type&&l2(i=i.slice(),r.count()),Yt(e,s2,i,t)},n.prototype.coordToData=function(e,t){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&l2(i=i.slice(),r.count());var a=Yt(e,i,s2,t);return this.scale.scale(a)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),a=X(function rY(n,e){return"category"===n.type?function oY(n,e){var a,o,t=e2(n,"ticks"),i=oy(e),r=n2(t,i);if(r)return r;if((!e.get("show")||n.scale.isBlank())&&(a=[]),at(i))a=o2(n,i,!0);else if("auto"===i){var s=t2(n,n.getLabelModel());o=s.labelCategoryInterval,a=X(s.labels,function(u){return u.tickValue})}else a=a2(n,o=i,!0);return r2(t,i,{ticks:a,tickCategoryInterval:o})}(n,e):{ticks:X(n.scale.getTicks(),function(t){return t.value})}}(this,t).ticks,function(s){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this);return function pY(n,e,t,i){var r=e.length;if(n.onBand&&!t&&r){var o,a=n.getExtent();if(1===r)e[0].coord=a[0],o=e[1]={coord:a[1]};else{var c=(e[r-1].coord-e[0].coord)/(e[r-1].tickValue-e[0].tickValue);M(e,function(d){d.coord-=c/2});var h=n.scale.getExtent();e.push(o={coord:e[r-1].coord+c*(1+h[1]-e[r-1].tickValue)})}var p=a[0]>a[1];f(e[0].coord,a[0])&&(i?e[0].coord=a[0]:e.shift()),i&&f(a[0],e[0].coord)&&e.unshift({coord:a[0]}),f(a[1],o.coord)&&(i?o.coord=a[1]:e.pop()),i&&f(o.coord,a[1])&&e.push({coord:a[1]})}function f(d,v){return d=_e(d),v=_e(v),p?d>v:d<v}}(this,a,t.get("alignWithLabel"),e.clamp),a},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),X(this.scale.getMinorTicks(t),function(a){return X(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this)},n.prototype.getViewLabels=function(){return function iY(n){return"category"===n.type?function aY(n){var e=n.getLabelModel(),t=t2(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}(n):function sY(n){var e=n.scale.getTicks(),t=Vu(n);return{labels:X(e,function(i,r){return{level:i.level,formattedLabel:t(i,r),rawLabel:n.scale.getLabel(i),tickValue:i.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);0===i&&(i=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return function uY(n){var e=function cY(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(n),t=Vu(n),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=n.scale,a=r.getExtent(),o=r.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=a[0],c=n.dataToCoord(u+1)-n.dataToCoord(u),h=Math.abs(c*Math.cos(i)),p=Math.abs(c*Math.sin(i)),f=0,d=0;u<=a[1];u+=s){var g,m=Nl(t({value:u}),e.font,"center","top");g=1.3*m.height,f=Math.max(f,1.3*m.width,7),d=Math.max(d,g,7)}var y=f/h,_=d/p;isNaN(y)&&(y=1/0),isNaN(_)&&(_=1/0);var b=Math.max(0,Math.floor(Math.min(y,_))),C=Fu(n.model),x=n.getExtent(),S=C.lastAutoInterval,z=C.lastTickCount;return null!=S&&null!=z&&Math.abs(S-b)<=1&&Math.abs(z-o)<=1&&S>b&&C.axisExtent0===x[0]&&C.axisExtent1===x[1]?b=S:(C.lastTickCount=o,C.lastAutoInterval=b,C.axisExtent0=x[0],C.axisExtent1=x[1]),b}(this)},n}();function l2(n,e){var r=(n[1]-n[0])/e/2;n[0]+=r,n[1]-=r}const zi=hY;var fY=function(n){function e(t,i,r,a,o){var s=n.call(this,t,i,r)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return B(e,n),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),i)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(zi);const dY=fY;function ly(n,e,t){t=t||{};var i=n.coordinateSystem,r=e.axis,a={},o=r.getAxesOnZeroOf()[0],s=r.position,u=o?"onZero":s,c=r.dim,h=i.getRect(),p=[h.x,h.x+h.width,h.y,h.y+h.height],f={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,v="x"===c?[p[2]-d,p[3]+d]:[p[0]-d,p[1]+d];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));v[f.onZero]=Math.max(Math.min(g,v[1]),v[0])}a.position=["y"===c?v[f[u]]:p[0],"x"===c?v[f[u]]:p[3]],a.rotation=Math.PI/2*("x"===c?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],a.labelOffset=o?v[f[s]]-v[f.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Fe(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var y=e.get(["axisLabel","rotate"]);return a.labelRotate="top"===u?-y:y,a.z2=1,a}function u2(n){return"cartesian2d"===n.get("coordinateSystem")}function c2(n){var e={xAxisModel:null,yAxisModel:null};return M(e,function(t,i){var r=i.replace(/Model$/,""),a=n.getReferringComponents(r,De).models[0];e[i]=a}),e}var uy=Math.log;function h2(n,e,t){var i=oa.prototype,r=i.getTicks.call(t),a=i.getTicks.call(t,!0),o=r.length-1,s=i.getInterval.call(t),u=KD(n,e),c=u.extent,h=u.fixMin,p=u.fixMax;if("log"===n.type){var f=uy(n.base);c=[uy(c[0])/f,uy(c[1])/f]}n.setExtent(c[0],c[1]),n.calcNiceExtent({splitNumber:o,fixMin:h,fixMax:p});var d=i.getExtent.call(n);h&&(c[0]=d[0]),p&&(c[1]=d[1]);var v=i.getInterval.call(n),g=c[0],m=c[1];if(h&&p)v=(m-g)/o;else if(h)for(m=c[0]+v*o;m<c[1]&&isFinite(m)&&isFinite(c[1]);)v=ny(v),m=c[0]+v*o;else if(p)for(g=c[1]-v*o;g>c[0]&&isFinite(g)&&isFinite(c[0]);)v=ny(v),g=c[1]-v*o;else{n.getTicks().length-1>o&&(v=ny(v));var _=v*o;(g=_e((m=Math.ceil(c[1]/v)*v)-_))<0&&c[0]>=0?(g=0,m=_e(_)):m>0&&c[1]<=0&&(m=0,g=-_e(_))}var b=(r[0].value-a[0].value)/s,C=(r[o].value-a[o].value)/s;i.setExtent.call(n,g+v*b,m+v*C),i.setInterval.call(n,v),(b||C)&&i.setNiceExtent.call(n,g+v,m-v)}var vY=function(){function n(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=sy,this._initCartesian(e,t,i),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var i=this._axesMap;function r(o){var s,u=At(o),c=u.length;if(c){for(var h=[],p=c-1;p>=0;p--){var d=o[+u[p]],v=d.model,g=d.scale;ey(g)&&v.get("alignTicks")&&null==v.get("interval")?h.push(d):(Fs(g,v),ey(g)&&(s=d))}h.length&&(s||Fs((s=h.pop()).scale,s.model),M(h,function(m){h2(m.scale,m.model,s.scale)}))}}this._updateScale(e,this.model),r(i.x),r(i.y);var a={};M(i.x,function(o){p2(i,"y",o,a)}),M(i.y,function(o){p2(i,"x",o,a)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,i){var r=e.getBoxLayoutParams(),a=!i&&e.get("containLabel"),o=ke(r,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;function u(){M(s,function(c){var h=c.isHorizontal(),p=h?[0,o.width]:[0,o.height],f=c.inverse?1:0;c.setExtent(p[f],p[1-f]),function gY(n,e){var t=n.getExtent(),i=t[0]+t[1];n.toGlobalCoord="x"===n.dim?function(r){return r+e}:function(r){return i-r+e},n.toLocalCoord="x"===n.dim?function(r){return r-e}:function(r){return i-r+e}}(c,h?o.x:o.y)})}u(),a&&(M(s,function(c){if(!c.model.get(["axisLabel","inside"])){var h=function qj(n){var t=n.scale;if(n.model.get(["axisLabel","show"])&&!t.isBlank()){var i,r,a=t.getExtent();r=t instanceof iy?t.count():(i=t.getTicks()).length;var u,o=n.getLabelModel(),s=Vu(n),c=1;r>40&&(c=Math.ceil(r/40));for(var h=0;h<r;h+=c){var f=s(i?i[h]:{value:a[0]+h},h),v=Kj(o.getTextRect(f),o.get("rotate")||0);u?u.union(v):u=v}return u}}(c);if(h){var p=c.isHorizontal()?"height":"width",f=c.model.get(["axisLabel","margin"]);o[p]-=h[p]+f,"top"===c.position?o.y+=h.height+f:"left"===c.position&&(o.x+=h.width+f)}}}),u()),M(this._coordsList,function(c){c.calcAffineTransform()})},n.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(null!=i)return i[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];ct(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,a=this._coordsList;r<a.length;r++)if(a[r].getAxis("x").index===e||a[r].getAxis("y").index===t)return a[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(e){var s,u,t=e.seriesModel,i=e.xAxisModel||t&&t.getReferringComponents("xAxis",De).models[0],r=e.yAxisModel||t&&t.getReferringComponents("yAxis",De).models[0],a=e.gridModel;return t?zt(this._coordsList,s=t.coordinateSystem)<0&&(s=null):i&&r?s=this.getCartesian(i.componentIndex,r.componentIndex):i?u=this.getAxis("x",i.componentIndex):r?u=this.getAxis("y",r.componentIndex):a&&a.coordinateSystem===this&&(s=this._coordsList[0]),{cartesian:s,axis:u}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,i){var r=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(t.eachComponent("xAxis",c("x"),this),t.eachComponent("yAxis",c("y"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function c(h){return function(p,f){if(cy(p,e)){var d=p.get("position");"x"===h?"top"!==d&&"bottom"!==d&&(d=o.bottom?"top":"bottom"):"left"!==d&&"right"!==d&&(d=o.left?"right":"left"),o[d]=!0;var v=new dY(h,Kp(p),[0,0],p.get("type"),d);v.onBand="category"===v.type&&p.get("boundaryGap"),v.inverse=p.get("inverse"),p.axis=v,v.model=p,v.grid=a,v.index=f,a._axesList.push(v),s[h][f]=v,u[h]++}}}this._axesMap=s,M(s.x,function(h,p){M(s.y,function(f,d){var v="x"+p+"y"+d,g=new nY(v);g.master=r,g.model=e,r._coordsMap[v]=g,r._coordsList.push(g),g.addAxis(h),g.addAxis(f)})})},n.prototype._updateScale=function(e,t){function i(r,a){M(Qp(r,a.dim),function(o){a.scale.unionExtentFromData(r,o)})}M(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),"category"===r.type){var a=r.model.get("categorySortInfo");r.scale.setSortInfo(a)}}),e.eachSeries(function(r){if(u2(r)){var a=c2(r),o=a.xAxisModel,s=a.yAxisModel;if(!cy(o,t)||!cy(s,t))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),c=r.getData(),h=u.getAxis("x"),p=u.getAxis("y");i(c,h),i(c,p)}},this)},n.prototype.getTooltipAxes=function(e){var t=[],i=[];return M(this.getCartesians(),function(r){var a=null!=e&&"auto"!==e?r.getAxis(e):r.getBaseAxis(),o=r.getOtherAxis(a);zt(t,a)<0&&t.push(a),zt(i,o)<0&&i.push(o)}),{baseAxes:t,otherAxes:i}},n.create=function(e,t){var i=[];return e.eachComponent("grid",function(r,a){var o=new n(r,e,t);o.name="grid_"+a,o.resize(r,t,!0),r.coordinateSystem=o,i.push(o)}),e.eachSeries(function(r){if(u2(r)){var a=c2(r),o=a.xAxisModel,s=a.yAxisModel,u=o.getCoordSysModel();r.coordinateSystem=u.coordinateSystem.getCartesian(o.componentIndex,s.componentIndex)}}),i},n.dimensions=sy,n}();function cy(n,e){return n.getCoordSysModel()===e}function p2(n,e,t,i){t.getAxesOnZeroOf=function(){return a?[a]:[]};var a,r=n[e],o=t.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=u)f2(r[u])&&(a=r[u]);else for(var c in r)if(r.hasOwnProperty(c)&&f2(r[c])&&!i[h(r[c])]){a=r[c];break}a&&(i[h(a)]=!0)}function h(p){return p.dim+"_"+p.index}}function f2(n){return n&&"category"!==n.type&&"time"!==n.type&&function Zj(n){var e=n.scale.getExtent(),t=e[0],i=e[1];return!(t>0&&i>0||t<0&&i<0)}(n)}const mY=vY;var sa=Math.PI,wo=function(){function n(e,t){this.group=new ft,this.opt=t,this.axisModel=e,lt(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new ft({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(e){return!!d2[e]},n.prototype.add=function(e){d2[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,i){var a,o,r=bC(t-e);return El(r)?(o=i>0?"top":"bottom",a="center"):El(r-sa)?(o=i>0?"bottom":"top",a="center"):(o="middle",a=r>0&&r<sa?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:a,textVerticalAlign:o}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),d2={axisLine:function(n,e,t,i){var r=e.get(["axisLine","show"]);if("auto"===r&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),r){var a=e.axis.getExtent(),o=i.transform,s=[a[0],0],u=[a[1],0],c=s[0]>u[0];o&&(je(s,s,o),je(u,u,o));var h=F({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),p=new He({shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:h,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});Ts(p.shape,p.style.lineWidth),p.anid="line",t.add(p);var f=e.get(["axisLine","symbol"]);if(null!=f){var d=e.get(["axisLine","symbolSize"]);Q(f)&&(f=[f,f]),(Q(d)||Bt(d))&&(d=[d,d]);var v=co(e.get(["axisLine","symbolOffset"])||0,d),g=d[0],m=d[1];M([{rotate:n.rotation+Math.PI/2,offset:v[0],r:0},{rotate:n.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],function(y,_){if("none"!==f[_]&&null!=f[_]){var b=Ie(f[_],-g/2,-m/2,g,m,h.stroke,!0),C=y.r+y.offset,x=c?u:s;b.attr({rotation:y.rotate,x:x[0]+C*Math.cos(n.rotation),y:x[1]-C*Math.sin(n.rotation),silent:!0,z2:11}),t.add(b)}})}}},axisTickLabel:function(n,e,t,i){var r=function bY(n,e,t,i){var r=t.axis,a=t.getModel("axisTick"),o=a.get("show");if("auto"===o&&i.handleAutoShown&&(o=i.handleAutoShown("axisTick")),o&&!r.scale.isBlank()){for(var s=a.getModel("lineStyle"),u=i.tickDirection*a.get("length"),h=m2(r.getTicksCoords(),e.transform,u,lt(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),p=0;p<h.length;p++)n.add(h[p]);return h}}(t,i,e,n),a=function SY(n,e,t,i){var r=t.axis;if(Fe(i.axisLabelShow,t.get(["axisLabel","show"]))&&!r.scale.isBlank()){var o=t.getModel("axisLabel"),s=o.get("margin"),u=r.getViewLabels(),c=(Fe(i.labelRotate,o.get("rotate"))||0)*sa/180,h=wo.innerTextLayout(i.rotation,c,i.labelDirection),p=t.getCategories&&t.getCategories(!0),f=[],d=wo.isLabelSilent(t),v=t.get("triggerEvent");return M(u,function(g,m){var y="ordinal"===r.scale.type?r.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,_=g.formattedLabel,b=g.rawLabel,C=o;if(p&&p[y]){var x=p[y];ct(x)&&x.textStyle&&(C=new ee(x.textStyle,o,t.ecModel))}var S=C.getTextColor()||t.get(["axisLine","lineStyle","color"]),z=r.dataToCoord(y),w=C.getShallow("align",!0)||h.textAlign,T=mt(C.getShallow("alignMinLabel",!0),w),D=mt(C.getShallow("alignMaxLabel",!0),w),I=C.getShallow("verticalAlign",!0)||C.getShallow("baseline",!0)||h.textVerticalAlign,A=mt(C.getShallow("verticalAlignMinLabel",!0),I),k=mt(C.getShallow("verticalAlignMaxLabel",!0),I),P=new Vt({x:z,y:i.labelOffset+i.labelDirection*s,rotation:h.rotation,silent:d,z2:10+(g.level||0),style:te(C,{text:_,align:0===m?T:m===u.length-1?D:w,verticalAlign:0===m?A:m===u.length-1?k:I,fill:at(S)?S("category"===r.type?b:"value"===r.type?y+"":y,m):S})});if(P.anid="label_"+y,v){var N=wo.makeAxisEventDataBase(t);N.targetType="axisLabel",N.value=b,N.tickIndex=m,"category"===r.type&&(N.dataIndex=y),dt(P).eventData=N}e.add(P),P.updateTransform(),f.push(P),n.add(P),P.decomposeTransform()}),f}}(t,i,e,n);(function _Y(n,e,t){if(!QD(n.axis)){var i=n.get(["axisLabel","showMinLabel"]),r=n.get(["axisLabel","showMaxLabel"]),a=(e=e||[])[0],o=e[1],s=e[e.length-1],u=e[e.length-2],c=(t=t||[])[0],h=t[1],p=t[t.length-1],f=t[t.length-2];!1===i?(ti(a),ti(c)):v2(a,o)&&(i?(ti(o),ti(h)):(ti(a),ti(c))),!1===r?(ti(s),ti(p)):v2(u,s)&&(r?(ti(u),ti(f)):(ti(s),ti(p)))}})(e,a,r),function CY(n,e,t,i){var r=t.axis,a=t.getModel("minorTick");if(a.get("show")&&!r.scale.isBlank()){var o=r.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),u=i*a.get("length"),c=lt(s.getLineStyle(),lt(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),h=0;h<o.length;h++)for(var p=m2(o[h],e.transform,u,c,"minorticks_"+h),f=0;f<p.length;f++)n.add(p[f])}}(t,i,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])&&oT(iT(X(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}})))},axisName:function(n,e,t,i){var r=Fe(n.axisName,e.get("name"));if(r){var f,v,a=e.get("nameLocation"),o=n.nameDirection,s=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,c=e.axis.getExtent(),h=c[0]>c[1]?-1:1,p=["start"===a?c[0]-h*u:"end"===a?c[1]+h*u:(c[0]+c[1])/2,g2(a)?n.labelOffset+o*u:0],d=e.get("nameRotate");null!=d&&(d=d*sa/180),g2(a)?f=wo.innerTextLayout(n.rotation,d??n.rotation,o):(f=function yY(n,e,t,i){var a,o,r=bC(t-n),s=i[0]>i[1],u="start"===e&&!s||"start"!==e&&s;return El(r-sa/2)?(o=u?"bottom":"top",a="center"):El(r-1.5*sa)?(o=u?"top":"bottom",a="center"):(o="middle",a=r<1.5*sa&&r>sa/2?u?"left":"right":u?"right":"left"),{rotation:r,textAlign:a,textVerticalAlign:o}}(n.rotation,a,d||0,c),null!=(v=n.axisNameAvailableWidth)&&(v=Math.abs(v/Math.sin(f.rotation)),!isFinite(v)&&(v=null)));var g=s.getFont(),m=e.get("nameTruncate",!0)||{},y=m.ellipsis,_=Fe(n.nameTruncateMaxWidth,m.maxWidth,v),b=new Vt({x:p[0],y:p[1],rotation:f.rotation,silent:wo.isLabelSilent(e),style:te(s,{text:r,font:g,overflow:"truncate",width:_,ellipsis:y,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Ds({el:b,componentModel:e,itemName:r}),b.__fullText=r,b.anid="name",e.get("triggerEvent")){var C=wo.makeAxisEventDataBase(e);C.targetType="axisName",C.name=r,dt(b).eventData=C}i.add(b),b.updateTransform(),t.add(b),b.decomposeTransform()}}};function ti(n){n&&(n.ignore=!0)}function v2(n,e){var t=n&&n.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(t&&i){var r=qc([]);return Da(r,r,-n.rotation),t.applyTransform(sr([],r,n.getLocalTransform())),i.applyTransform(sr([],r,e.getLocalTransform())),t.intersect(i)}}function g2(n){return"middle"===n||"center"===n}function m2(n,e,t,i,r){for(var a=[],o=[],s=[],u=0;u<n.length;u++){var c=n[u].coord;o[0]=c,o[1]=0,s[0]=c,s[1]=t,e&&(je(o,o,e),je(s,s,e));var h=new He({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});Ts(h.shape,h.style.lineWidth),h.anid=r+"_"+n[u].tickValue,a.push(h)}return a}const Cr=wo;function hy(n,e){return"all"===n||H(n)&&zt(n,e)>=0||n===e}function py(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Gu(n)]}function fy(n){return!!n.get(["handle","show"])}function Gu(n){return n.type+"||"+n.id}var y2={},AY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r,a){this.axisPointerClass&&function MY(n){var e=py(n);if(e){var t=e.axisPointerModel,i=e.axis.scale,r=t.option,a=t.get("status"),o=t.get("value");null!=o&&(o=i.parse(o));var s=fy(t);null==a&&(r.status=s?"show":"hide");var u=i.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==o||o>u[1])&&(o=u[1]),o<u[0]&&(o=u[0]),r.value=o,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},e.prototype.updateAxisPointer=function(t,i,r,a){this._doUpdateAxisPointerClass(t,r,!1)},e.prototype.remove=function(t,i){var r=this._axisPointer;r&&r.remove(i)},e.prototype.dispose=function(t,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,r){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=function IY(n){var e=py(n);return e&&e.axisPointerModel}(t);o?(this._axisPointer||(this._axisPointer=new a)).render(t,o,i,r):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,i){y2[t]=i},e.getAxisPointerClass=function(t){return t&&y2[t]},e.type="axis",e}(de);const To=AY;var dy=Nt();function _2(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),u=i.coordinateSystem.getRect(),c=r.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var h=s.length,p=dy(n).splitAreaColors,f=nt(),d=0;if(p)for(var v=0;v<c.length;v++){var g=p.get(c[v].tickValue);if(null!=g){d=(g+(h-1)*v)%h;break}}var m=r.toGlobalCoord(c[0].coord),y=o.getAreaStyle();for(s=H(s)?s:[s],v=1;v<c.length;v++){var _=r.toGlobalCoord(c[v].coord),b=void 0,C=void 0,x=void 0,S=void 0;r.isHorizontal()?(C=u.y,S=u.height,m=(b=m)+(x=_-b)):(b=u.x,x=u.width,m=(C=m)+(S=_-C));var z=c[v-1].tickValue;null!=z&&f.set(z,d),e.add(new Ot({anid:null!=z?"area_"+z:null,shape:{x:b,y:C,width:x,height:S},style:lt({fill:s[d]},y),autoBatch:!0,silent:!0})),d=(d+1)%h}dy(n).splitAreaColors=f}}}function b2(n){dy(n).splitAreaColors=null}var kY=["axisLine","axisTickLabel","axisName"],PY=["splitArea","splitLine","minorSplitLine"],C2=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return B(e,n),e.prototype.render=function(t,i,r,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ft,this.group.add(this._axisGroup),t.get("show")){var s=t.getCoordSysModel(),u=ly(s,t),c=new Cr(t,F({handleAutoShown:function(p){for(var f=s.coordinateSystem.getCartesians(),d=0;d<f.length;d++)if(ey(f[d].getOtherAxis(t.axis).scale))return!0;return!1}},u));M(kY,c.add,c),this._axisGroup.add(c.getGroup()),M(PY,function(p){t.get([p,"show"])&&RY[p](this,this._axisGroup,t,s)},this),a&&"changeAxisOrder"===a.type&&a.isInitSort||hu(o,this._axisGroup,t),n.prototype.render.call(this,t,i,r,a)}},e.prototype.remove=function(){b2(this)},e.type="cartesianAxis",e}(To),RY={splitLine:function(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var a=t.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=H(s)?s:[s];for(var u=i.coordinateSystem.getRect(),c=r.isHorizontal(),h=0,p=r.getTicksCoords({tickModel:a}),f=[],d=[],v=o.getLineStyle(),g=0;g<p.length;g++){var m=r.toGlobalCoord(p[g].coord);c?(f[0]=m,f[1]=u.y,d[0]=m,d[1]=u.y+u.height):(f[0]=u.x,f[1]=m,d[0]=u.x+u.width,d[1]=m);var y=h++%s.length,b=new He({anid:null!=p[g].tickValue?"line_"+p[g].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:lt({stroke:s[y]},v),silent:!0});Ts(b.shape,v.lineWidth),e.add(b)}}},minorSplitLine:function(n,e,t,i){var r=t.axis,o=t.getModel("minorSplitLine").getModel("lineStyle"),s=i.coordinateSystem.getRect(),u=r.isHorizontal(),c=r.getMinorTicksCoords();if(c.length)for(var h=[],p=[],f=o.getLineStyle(),d=0;d<c.length;d++)for(var v=0;v<c[d].length;v++){var g=r.toGlobalCoord(c[d][v].coord);u?(h[0]=g,h[1]=s.y,p[0]=g,p[1]=s.y+s.height):(h[0]=s.x,h[1]=g,p[0]=s.x+s.width,p[1]=g);var m=new He({anid:"minor_line_"+c[d][v].tickValue,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:f,silent:!0});Ts(m.shape,f.lineWidth),e.add(m)}},splitArea:function(n,e,t,i){_2(n,e,t,i)}},S2=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="xAxis",e}(C2),NY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=S2.type,t}return B(e,n),e.type="yAxis",e}(C2),OY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="grid",t}return B(e,n),e.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new Ot({shape:t.coordinateSystem.getRect(),style:lt({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(de),x2={offset:0};function z2(n){n.registerComponentView(OY),n.registerComponentModel(xj),n.registerCoordinateSystem("cartesian2d",mY),Vs(n,"x",Qm,x2),Vs(n,"y",Qm,x2),n.registerComponentView(S2),n.registerComponentView(NY),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function LY(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],r=e.coordinateSystem;if(r){var a=r.getIndicatorAxes();M(a,function(o,s){t.each(t.mapDimension(a[s].dim),function(u,c){i[c]=i[c]||[];var h=r.dataToPoint(u,s);i[c][s]=w2(h)?h:T2(r)})}),t.each(function(o){var s=function yF(n,e,t){if(n&&e)for(var i=0,r=n.length;i<r;i++)if(e.call(t,n[i],i,n))return n[i]}(i[o],function(u){return w2(u)})||T2(r);i[o].push(s.slice()),t.setItemLayout(o,i[o])})}})}function w2(n){return!isNaN(n[0])&&!isNaN(n[1])}function T2(n){return[n.cx,n.cy]}function BY(n){var e=n.polar;if(e){H(e)||(e=[e]);var t=[];M(e,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],H(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):t.push(i)}),n.polar=t}M(n.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var VY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){var a=t.coordinateSystem,o=this.group,s=t.getData(),u=this._data;function c(f,d){var v=f.getItemVisual(d,"symbol")||"circle";if("none"!==v){var g=As(f.getItemVisual(d,"symbolSize")),m=Ie(v,-1,-1,2,2),y=f.getItemVisual(d,"symbolRotate")||0;return m.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:y*Math.PI/180||0}),m}}function h(f,d,v,g,m,y){v.removeAll();for(var _=0;_<d.length-1;_++){var b=c(g,m);b&&(b.__dimIdx=_,f[_]?(b.setPosition(f[_]),Pn[y?"initProps":"updateProps"](b,{x:d[_][0],y:d[_][1]},t,m)):b.setPosition(d[_]),v.add(b))}}function p(f){return X(f,function(d){return[a.cx,a.cy]})}s.diff(u).add(function(f){var d=s.getItemLayout(f);if(d){var v=new Tn,g=new Dn,m={shape:{points:d}};v.shape.points=p(d),g.shape.points=p(d),le(v,m,t,f),le(g,m,t,f);var y=new ft,_=new ft;y.add(g),y.add(v),y.add(_),h(g.shape.points,d,_,s,f,!0),s.setItemGraphicEl(f,y)}}).update(function(f,d){var v=u.getItemGraphicEl(d),g=v.childAt(0),m=v.childAt(1),y=v.childAt(2),_={shape:{points:s.getItemLayout(f)}};_.shape.points&&(h(g.shape.points,_.shape.points,y,s,f,!1),vi(m),vi(g),Gt(g,_,t),Gt(m,_,t),s.setItemGraphicEl(f,v))}).remove(function(f){o.remove(u.getItemGraphicEl(f))}).execute(),s.eachItemGraphicEl(function(f,d){var v=s.getItemModel(d),g=f.childAt(0),m=f.childAt(1),y=f.childAt(2),_=s.getItemVisual(d,"style"),b=_.fill;o.add(f),g.useStyle(lt(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),We(g,v,"lineStyle"),We(m,v,"areaStyle");var C=v.getModel("areaStyle"),x=C.isEmpty()&&C.parentModel.isEmpty();m.ignore=x,M(["emphasis","select","blur"],function(w){var T=v.getModel([w,"areaStyle"]),D=T.isEmpty()&&T.parentModel.isEmpty();m.ensureState(w).ignore=D&&x}),m.useStyle(lt(C.getAreaStyle(),{fill:b,opacity:.7,decal:_.decal}));var S=v.getModel("emphasis"),z=S.getModel("itemStyle").getItemStyle();y.eachChild(function(w){if(w instanceof Ye){var T=w.style;w.useStyle(F({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},_))}else w.useStyle(_),w.setColor(b),w.style.strokeNoScale=!0;w.ensureState("emphasis").style=ht(z);var I=s.getStore().get(s.getDimensionIndex(w.__dimIdx),d);(null==I||isNaN(I))&&(I=""),Ue(w,Oe(v),{labelFetcher:s.hostModel,labelDataIndex:d,labelDimIndex:w.__dimIdx,defaultText:I,inheritColor:b,defaultOpacity:_.opacity})}),fe(f,S.get("focus"),S.get("blurScope"),S.get("disabled"))}),this._data=s},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(ne);const FY=VY;var GY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return B(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Eu(J(this.getData,this),J(this.getRawData,this))},e.prototype.getInitialData=function(t,i){return Bs(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,i,r){var a=this.getData(),s=this.coordinateSystem.getIndicatorAxes(),u=this.getData().getName(t),c=""===u?this.name:u,h=uz(this,t);return Ee("section",{header:c,sortBlocks:!0,blocks:X(s,function(p){var f=a.get(a.mapDimension(p.dim),t);return Ee("nameValue",{markerType:"subItem",markerColor:h,name:p.name,value:f,sortParam:f})})})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var i=this.getData(),r=this.coordinateSystem,a=i.getValues(X(r.dimensions,function(c){return i.mapDimension(c)}),t),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var u=r.getIndicatorAxes();return r.coordToPoint(u[o].dataToCoord(a[o]),o)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(ce);const HY=GY;var Hu=BD.value;function Jp(n,e){return lt({show:e},n)}var XY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),u=this.get("axisName"),c=this.get(["axisName","show"]),h=this.get(["axisName","formatter"]),p=this.get("axisNameGap"),f=this.get("triggerEvent"),d=X(this.get("indicator")||[],function(v){null!=v.max&&v.max>0&&!v.min?v.min=0:null!=v.min&&v.min<0&&!v.max&&(v.max=0);var g=u;null!=v.color&&(g=lt({color:v.color},u));var m=St(ht(v),{boundaryGap:t,splitNumber:i,scale:r,axisLine:a,axisTick:o,axisLabel:s,name:v.text,showName:c,nameLocation:"end",nameGap:p,nameTextStyle:g,triggerEvent:f},!1);Q(h)?m.name=h.replace("{value}",m.name??""):at(h)&&(m.name=h(m.name,m));var _=new ee(m,null,this.ecModel);return Te(_,Lu.prototype),_.mainType="radar",_.componentIndex=this.componentIndex,_},this);this._indicatorModels=d},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:St({lineStyle:{color:"#bbb"}},Hu.axisLine),axisLabel:Jp(Hu.axisLabel,!1),axisTick:Jp(Hu.axisTick,!1),splitLine:Jp(Hu.splitLine,!0),splitArea:Jp(Hu.splitArea,!0),indicator:[]},e}(Ft);const jY=XY;var YY=["axisLine","axisTickLabel","axisName"],WY=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var i=t.coordinateSystem;M(X(i.getIndicatorAxes(),function(o){var s=o.model.get("showName")?o.name:"";return new Cr(o.model,{axisName:s,position:[i.cx,i.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(o){M(YY,o.add,o),this.group.add(o.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var i=t.coordinateSystem,r=i.getIndicatorAxes();if(r.length){var a=t.get("shape"),o=t.getModel("splitLine"),s=t.getModel("splitArea"),u=o.getModel("lineStyle"),c=s.getModel("areaStyle"),h=o.get("show"),p=s.get("show"),f=u.get("color"),d=c.get("color"),v=H(f)?f:[f],g=H(d)?d:[d],m=[],y=[];if("circle"===a)for(var b=r[0].getTicksCoords(),C=i.cx,x=i.cy,S=0;S<b.length;S++)h&&m[_(m,v,S)].push(new Qr({shape:{cx:C,cy:x,r:b[S].coord}})),p&&S<b.length-1&&y[_(y,g,S)].push(new np({shape:{cx:C,cy:x,r0:b[S].coord,r:b[S+1].coord}}));else{var w,T=X(r,function(N,O){var L=N.getTicksCoords();return w=null==w?L.length-1:Math.min(L.length-1,w),X(L,function(E){return i.coordToPoint(E.coord,O)})}),D=[];for(S=0;S<=w;S++){for(var I=[],A=0;A<r.length;A++)I.push(T[A][S]);I[0]&&I.push(I[0].slice()),h&&m[_(m,v,S)].push(new Dn({shape:{points:I}})),p&&D&&y[_(y,g,S-1)].push(new Tn({shape:{points:I.concat(D)}})),D=I.slice().reverse()}}var k=u.getLineStyle(),P=c.getAreaStyle();M(y,function(N,O){this.group.add(Qn(N,{style:lt({stroke:"none",fill:g[O%g.length]},P),silent:!0}))},this),M(m,function(N,O){this.group.add(Qn(N,{style:lt({fill:"none",stroke:v[O%v.length]},k),silent:!0}))},this)}function _(N,O,L){var E=L%O.length;return N[E]=N[E]||[],E}},e.type="radar",e}(de);const UY=WY;var $Y=function(n){function e(t,i,r){var a=n.call(this,t,i,r)||this;return a.type="value",a.angle=0,a.name="",a}return B(e,n),e}(zi);const ZY=$Y;var qY=function(){function n(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=X(e.getIndicatorModels(),function(r,a){var o="indicator_"+a,s=new ZY(o,new oa);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(o),s},this),this.resize(e,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(r),this.cy-e*Math.sin(r)]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=Math.sqrt(t*t+i*i);t/=r,i/=r;for(var s,a=Math.atan2(-i,t),o=1/0,u=-1,c=0;c<this._indicatorAxes.length;c++){var h=this._indicatorAxes[c],p=Math.abs(a-h.angle);p<o&&(s=h,u=c,o=p)}return[u,+(s&&s.coordToData(r))]},n.prototype.resize=function(e,t){var i=e.get("center"),r=t.getWidth(),a=t.getHeight(),o=Math.min(r,a)/2;this.cx=q(i[0],r),this.cy=q(i[1],a),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(Q(s)||Bt(s))&&(s=[0,s]),this.r0=q(s[0],o),this.r=q(s[1],o),M(this._indicatorAxes,function(u,c){u.setExtent(this.r0,this.r);var h=this.startAngle+c*Math.PI*2/this._indicatorAxes.length;h=Math.atan2(Math.sin(h),Math.cos(h)),u.angle=h},this)},n.prototype.update=function(e,t){var i=this._indicatorAxes,r=this._model;M(i,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,u){if("radar"===s.get("coordinateSystem")&&e.getComponent("radar",s.get("radarIndex"))===r){var c=s.getData();M(i,function(h){h.scale.unionExtentFromData(c,c.mapDimension(h.dim))})}},this);var a=r.get("splitNumber"),o=new oa;o.setExtent(0,a),o.setInterval(1),M(i,function(s,u){h2(s.scale,s.model,o)})},n.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var i=[];return e.eachComponent("radar",function(r){var a=new n(r,e,t);i.push(a),r.coordinateSystem=a}),e.eachSeriesByType("radar",function(r){"radar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();const KY=qY;function QY(n){n.registerCoordinateSystem("radar",KY),n.registerComponentModel(jY),n.registerComponentView(UY),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(i){t.setItemVisual(i,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var D2="\0_ec_interaction_mutex";function M2(n,e){return!!vy(n)[e]}function vy(n){return n[D2]||(n[D2]={})}Ui({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},xe);var nW=function(n){function e(t){var i=n.call(this)||this;i._zr=t;var r=J(i._mousedownHandler,i),a=J(i._mousemoveHandler,i),o=J(i._mouseupHandler,i),s=J(i._mousewheelHandler,i),u=J(i._pinchHandler,i);return i.enable=function(c,h){this.disable(),this._opt=lt(ht(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==c&&(c=!0),(!0===c||"move"===c||"pan"===c)&&(t.on("mousedown",r),t.on("mousemove",a),t.on("mouseup",o)),(!0===c||"scale"===c||"zoom"===c)&&(t.on("mousewheel",s),t.on("pinch",u))},i.disable=function(){t.off("mousedown",r),t.off("mousemove",a),t.off("mouseup",o),t.off("mousewheel",s),t.off("pinch",u)},i}return B(e,n),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!_1(t)){for(var i=t.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var r=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,r,a)&&(this._x=r,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&tf("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!M2(this._zr,"globalPan")){var i=t.offsetX,r=t.offsetY,a=this._x,o=this._y,s=i-a,u=r-o;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&or(t.event),I2(this,"pan","moveOnMouseMove",t,{dx:s,dy:u,oldX:a,oldY:o,newX:i,newY:r,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){_1(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var i=tf("zoomOnMouseWheel",t,this._opt),r=tf("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,o=Math.abs(a),s=t.offsetX,u=t.offsetY;if(0!==a&&(i||r)){if(i){var c=o>3?1.4:o>1?1.2:1.1;gy(this,"zoom","zoomOnMouseWheel",t,{scale:a>0?c:1/c,originX:s,originY:u,isAvailableBehavior:null})}if(r){var p=Math.abs(a);gy(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(a>0?1:-1)*(p>3?.4:p>1?.15:.05),originX:s,originY:u,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){M2(this._zr,"globalPan")||gy(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},e}(Gn);function gy(n,e,t,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(or(i.event),I2(n,e,t,i,r))}function I2(n,e,t,i,r){r.isAvailableBehavior=J(tf,null,t,i),n.trigger(e,r)}function tf(n,e,t){var i=t[n];return!n||i&&(!Q(i)||e.event[i+"Key"])}const Xu=nW;function my(n,e,t){var i=n.target;i.x+=e,i.y+=t,i.dirty()}function yy(n,e,t,i){var r=n.target,a=n.zoomLimit,o=n.zoom=n.zoom||1;if(o*=e,a){var s=a.min||0;o=Math.max(Math.min(a.max||1/0,o),s)}var c=o/n.zoom;n.zoom=o,r.x-=(t-r.x)*(c-1),r.y-=(i-r.y)*(c-1),r.scaleX*=c,r.scaleY*=c,r.dirty()}var iW={axisPointer:1,tooltip:1,brush:1};function ef(n,e,t){var i=e.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==t&&!iW.hasOwnProperty(i.mainType)&&r&&r.model!==t}function A2(n){Q(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var t=n;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var _y,nf={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},k2=At(nf),rf={"alignment-baseline":"textBaseline","stop-color":"stopColor"},P2=At(rf),rW=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var i=A2(e);this._defsUsePending=[];var r=new ft;this._root=r;var h,p,a=[],o=i.getAttribute("viewBox")||"",s=parseFloat(i.getAttribute("width")||t.width),u=parseFloat(i.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(u)&&(u=null),Bn(i,r,null,!0,!1);for(var c=i.firstChild;c;)this._parseNode(c,r,a,null,!1,!1),c=c.nextSibling;if(function sW(n,e){for(var t=0;t<e.length;t++){var i=e[t];i[0].style[i[1]]=n[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var f=af(o);f.length>=4&&(h={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(h&&null!=s&&null!=u&&(p=F2(h,{x:0,y:0,width:s,height:u}),!t.ignoreViewBox)){var d=r;(r=new ft).add(d),d.scaleX=d.scaleY=p.scale,d.x=p.x,d.y=p.y}return!t.ignoreRootClip&&null!=s&&null!=u&&r.setClipPath(new Ot({shape:{x:0,y:0,width:s,height:u}})),{root:r,width:s,height:u,viewBoxRect:h,viewBoxTransform:p,named:a}},n.prototype._parseNode=function(e,t,i,r,a,o){var u,s=e.nodeName.toLowerCase(),c=r;if("defs"===s&&(a=!0),"text"===s&&(o=!0),"defs"===s||"switch"===s)u=t;else{if(!a){var h=_y[s];if(h&&et(_y,s)){u=h.call(this,e,t);var p=e.getAttribute("name");if(p){var f={name:p,namedFrom:null,svgNodeTagLower:s,el:u};i.push(f),"g"===s&&(c=f)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:u});t.add(u)}}var d=R2[s];if(d&&et(R2,s)){var v=d.call(this,e),g=e.getAttribute("id");g&&(this._defs[g]=v)}}if(u&&u.isGroup)for(var m=e.firstChild;m;)1===m.nodeType?this._parseNode(m,u,i,c,a,o):3===m.nodeType&&o&&this._parseText(m,u),m=m.nextSibling},n.prototype._parseText=function(e,t){var i=new Xl({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});ei(t,i),Bn(e,i,this._defsUsePending,!1,!1),function aW(n,e){var t=e.__selfStyle;if(t){var i=t.textBaseline,r=i;i&&"auto"!==i&&"baseline"!==i?"before-edge"===i||"text-before-edge"===i?r="top":"after-edge"===i||"text-after-edge"===i?r="bottom":("central"===i||"mathematical"===i)&&(r="middle"):r="alphabetic",n.style.textBaseline=r}var a=e.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&("middle"===o&&(s="center"),n.style.textAlign=s)}}(i,t);var r=i.style,a=r.fontSize;a&&a<9&&(r.fontSize=9,i.scaleX*=a/9,i.scaleY*=a/9);var o=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=o;var s=i.getBoundingRect();return this._textX+=s.width,t.add(i),i},n.internalField=void(_y={g:function(e,t){var i=new ft;return ei(t,i),Bn(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new Ot;return ei(t,i),Bn(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new Qr;return ei(t,i),Bn(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new He;return ei(t,i),Bn(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new Ug;return ei(t,i),Bn(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var r,i=e.getAttribute("points");i&&(r=E2(i));var a=new Tn({shape:{points:r||[]},silent:!0});return ei(t,a),Bn(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var r,i=e.getAttribute("points");i&&(r=E2(i));var a=new Dn({shape:{points:r||[]},silent:!0});return ei(t,a),Bn(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var i=new Ye;return ei(t,i),Bn(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(a),this._textY=parseFloat(r)+parseFloat(o);var s=new ft;return ei(t,s),Bn(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,t){var i=e.getAttribute("x"),r=e.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var a=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0",s=new ft;return ei(t,s),Bn(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(e,t){var r=Sz(e.getAttribute("d")||"");return ei(t,r),Bn(e,r,this._defsUsePending,!1,!1),r.silent=!0,r}}),n}(),R2={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),a=new cu(e,t,i,r);return N2(n,a),O2(n,a),a},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new Lz(e,t,i);return N2(n,r),O2(n,r),r}};function N2(n,e){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(e.global=!0)}function O2(n,e){for(var t=n.firstChild;t;){if(1===t.nodeType&&"stop"===t.nodeName.toLocaleLowerCase()){var r,i=t.getAttribute("offset");r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var a={};V2(t,a,a);var o=a.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:o})}t=t.nextSibling}}function ei(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),lt(e.__inheritedStyle,n.__inheritedStyle))}function E2(n){for(var e=af(n),t=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),a=parseFloat(e[i+1]);t.push([r,a])}return t}function Bn(n,e,t,i,r){var a=e,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};1===n.nodeType&&(function cW(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var i=[],r=null;t.replace(uW,function(p,f,d){return i.push(f,d),""});for(var a=i.length-1;a>0;a-=2){var s=i[a-1],u=af(i[a]);switch(r=r||[1,0,0,1,0,0],s){case"translate":Ri(r,r,[parseFloat(u[0]),parseFloat(u[1]||"0")]);break;case"scale":Gd(r,r,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case"rotate":Da(r,r,-parseFloat(u[0])*by,[parseFloat(u[1]||"0"),parseFloat(u[2]||"0")]);break;case"skewX":sr(r,[1,0,Math.tan(parseFloat(u[0])*by),1,0,0],r);break;case"skewY":sr(r,[1,Math.tan(parseFloat(u[0])*by),0,1,0,0],r);break;case"matrix":r[0]=parseFloat(u[0]),r[1]=parseFloat(u[1]),r[2]=parseFloat(u[2]),r[3]=parseFloat(u[3]),r[4]=parseFloat(u[4]),r[5]=parseFloat(u[5])}}e.setLocalTransform(r)}}(n,e),V2(n,o,s),i||function hW(n,e,t){for(var i=0;i<k2.length;i++)null!=(a=n.getAttribute(r=k2[i]))&&(e[nf[r]]=a);for(i=0;i<P2.length;i++){var r,a;null!=(a=n.getAttribute(r=P2[i]))&&(t[rf[r]]=a)}}(n,o,s)),a.style=a.style||{},null!=o.fill&&(a.style.fill=L2(a,"fill",o.fill,t)),null!=o.stroke&&(a.style.stroke=L2(a,"stroke",o.stroke,t)),M(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(u){null!=o[u]&&(a.style[u]=parseFloat(o[u]))}),M(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(u){null!=o[u]&&(a.style[u]=o[u])}),r&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=X(af(o.lineDash),function(u){return parseFloat(u)})),("hidden"===o.visibility||"collapse"===o.visibility)&&(a.invisible=!0),"none"===o.display&&(a.ignore=!0)}var oW=/^url\(\s*#(.*?)\)/;function L2(n,e,t,i){var r=t&&t.match(oW);if(!r)return"none"===t&&(t=null),t;var a=hi(r[1]);i.push([n,e,a])}var lW=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function af(n){return n.match(lW)||[]}var uW=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,by=Math.PI/180,B2=/([^\s:;]+)\s*:\s*([^:;]+)/g;function V2(n,e,t){var i=n.getAttribute("style");if(i){B2.lastIndex=0;for(var r;null!=(r=B2.exec(i));){var a=r[1],o=et(nf,a)?nf[a]:null;o&&(e[o]=r[2]);var s=et(rf,a)?rf[a]:null;s&&(t[s]=r[2])}}}function F2(n,e){var r=Math.min(e.width/n.width,e.height/n.height);return{scale:r,x:-(n.x+n.width/2)*r+(e.x+e.width/2),y:-(n.y+n.height/2)*r+(e.y+e.height/2)}}var fW=1e-8;function G2(n,e){return Math.abs(n-e)<fW}function Do(n,e,t){var i=0,r=n[0];if(!r)return!1;for(var a=1;a<n.length;a++){var o=n[a];i+=pr(r[0],r[1],o[0],o[1],e,t),r=o}var s=n[0];return(!G2(r[0],s[0])||!G2(r[1],s[1]))&&(i+=pr(r[0],r[1],s[0],s[1],e,t)),0!==i}var dW=[];function Cy(n,e){for(var t=0;t<n.length;t++)je(n[t],n[t],e)}function H2(n,e,t,i){for(var r=0;r<n.length;r++){var a=n[r];i&&(a=i.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Or(e,e,a),Er(t,t,a))}}var X2=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),j2=function(){return function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t}}(),Y2=function(){return function n(e){this.type="linestring",this.points=e}}(),W2=function(n){function e(t,i,r){var a=n.call(this,t)||this;return a.type="geoJSON",a.geometries=i,a._center=r&&[r[0],r[1]],a}return B(e,n),e.prototype.calcCenter=function(){for(var i,t=this.geometries,r=0,a=0;a<t.length;a++){var o=t[a],s=o.exterior,u=s&&s.length;u>r&&(i=o,r=u)}if(i)return function vW(n){for(var e=0,t=0,i=0,r=n.length,a=n[r-1][0],o=n[r-1][1],s=0;s<r;s++){var u=n[s][0],c=n[s][1],h=a*c-u*o;e+=h,t+=(a+u)*h,i+=(o+c)*h,a=u,o=c}return e?[t/e/3,i/e/3,e]:[n[0][0]||0,n[0][1]||0]}(i.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},e.prototype.getBoundingRect=function(t){var i=this._rect;if(i&&!t)return i;var r=[1/0,1/0],a=[-1/0,-1/0];return M(this.geometries,function(s){"polygon"===s.type?H2(s.exterior,r,a,t):M(s.points,function(u){H2(u,r,a,t)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])||(r[0]=r[1]=a[0]=a[1]=0),i=new xt(r[0],r[1],a[0]-r[0],a[1]-r[1]),t||(this._rect=i),i},e.prototype.contain=function(t){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(t[0],t[1]))return!1;t:for(var a=0,o=r.length;a<o;a++){var s=r[a];if("polygon"===s.type){var c=s.interiors;if(Do(s.exterior,t[0],t[1])){for(var h=0;h<(c?c.length:0);h++)if(Do(c[h],t[0],t[1]))continue t;return!0}}}return!1},e.prototype.transformTo=function(t,i,r,a){var o=this.getBoundingRect(),s=o.width/o.height;r?a||(a=r/s):r=s*a;for(var u=new xt(t,i,r,a),c=o.calculateTransform(u),h=this.geometries,p=0;p<h.length;p++){var f=h[p];"polygon"===f.type?(Cy(f.exterior,c),M(f.interiors,function(d){Cy(d,c)})):M(f.points,function(d){Cy(d,c)})}(o=this._rect).copy(u),this._center=[o.x+o.width/2,o.y+o.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e}(X2),gW=function(n){function e(t,i){var r=n.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return B(e,n),e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,i=t.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],a=qc(dW),o=t;o&&!o.isGeoSVGGraphicRoot;)sr(a,o.getLocalTransform(),a),o=o.parent;return Ko(a,a),je(r,r,a),r},e}(X2),mW=nt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),yW=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=nt(),this._freedGraphics=[],this._mapName=e,this._parsedXML=A2(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function bW(n){var e=[],t=nt();return M(n,function(i){if(null==i.namedFrom){var r=new gW(i.name,i.el);e.push(r),t.set(i.name,r)}}),{regions:e,regionsMap:t}}(e.named),r=t.regionsMap;this._regions=t.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,i;try{t=e&&function pW(n,e){return(new rW).parse(n,e)}(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},ln(null!=(i=t.root))}catch(m){throw new Error("Invalid svg format\n"+m.message)}var r=new ft;r.add(i),r.isGeoSVGGraphicRoot=!0;var a=t.width,o=t.height,s=t.viewBoxRect,u=this._boundingRect;if(!u){var c=void 0,h=void 0,p=void 0,f=void 0;if(null!=a?(c=0,p=a):s&&(c=s.x,p=s.width),null!=o?(h=0,f=o):s&&(h=s.y,f=s.height),null==c||null==h){var d=i.getBoundingRect();null==c&&(c=d.x,p=d.width),null==h&&(h=d.y,f=d.height)}u=this._boundingRect=new xt(c,h,p,f)}if(s){var v=F2(s,u);i.scaleX=i.scaleY=v.scale,i.x=v.x,i.y=v.y}r.setClipPath(new Ot({shape:u.plain()}));var g=[];return M(t.named,function(m){null!=mW.get(m.svgNodeTagLower)&&(g.push(m),function _W(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}(m.el))}),{root:r,boundingRect:u,named:g}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},n}();function Sy(n,e,t){for(var i=0;i<n.length;i++)n[i]=U2(n[i],e[i],t)}function U2(n,e,t){for(var i=[],r=e[0],a=e[1],o=0;o<n.length;o+=2){var s=n.charCodeAt(o)-64,u=n.charCodeAt(o+1)-64;s=s>>1^-(1&s),u=u>>1^-(1&u),r=s+=r,a=u+=a,i.push([s/t,u/t])}return i}for(var xy=[126,25],Mo=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Io=0;Io<Mo.length;Io++)for(var Gs=0;Gs<Mo[Io].length;Gs++)Mo[Io][Gs][0]/=10.5,Mo[Io][Gs][1]/=-14,Mo[Io][Gs][0]+=xy[0],Mo[Io][Gs][1]+=xy[1];var zW={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},TW=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],IW=function(){function n(e,t,i){this.type="geoJSON",this._parsedMap=nt(),this._mapName=e,this._specialAreas=i,this._geoJSON=function kW(n){return Q(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}(t)}return n.prototype.load=function(e,t){var i=this._parsedMap.get(t=t||"name");if(!i){var r=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:r,boundingRect:AW(r)})}var a=nt(),o=[];return M(i.regions,function(s){var u=s.name;e&&et(e,u)&&(s=s.cloneShallow(u=e[u])),o.push(s),a.set(u,s)}),{regions:o,boundingRect:i.boundingRect||new xt(0,0,0,0),regionsMap:a}},n.prototype._parseToRegions=function(e){var r,t=this._mapName,i=this._geoJSON;try{r=i?function SW(n,e){return n=function CW(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;return null==t&&(t=1024),M(e.features,function(r){var a=r.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=U2(s,o,t);break;case"Polygon":case"MultiLineString":Sy(s,o,t);break;case"MultiPolygon":M(s,function(u,c){return Sy(u,o[c],t)})}}),e.UTF8Encoding=!1,e}(n),X(Ut(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var i=t.properties,r=t.geometry,a=[];switch(r.type){case"Polygon":var o=r.coordinates;a.push(new j2(o[0],o.slice(1)));break;case"MultiPolygon":M(r.coordinates,function(u){u[0]&&a.push(new j2(u[0],u.slice(1)))});break;case"LineString":a.push(new Y2([r.coordinates]));break;case"MultiLineString":a.push(new Y2(r.coordinates))}var s=new W2(i[e||"name"],a,i.cp);return s.properties=i,s})}(i,e):[]}catch(a){throw new Error("Invalid geoJson format\n"+a.message)}return function xW(n,e){if("china"===n){for(var t=0;t<e.length;t++)if("\u5357\u6d77\u8bf8\u5c9b"===e[t].name)return;e.push(new W2("\u5357\u6d77\u8bf8\u5c9b",X(Mo,function(i){return{type:"polygon",exterior:i}}),xy))}}(t,r),M(r,function(a){var o=a.name;(function wW(n,e){if("china"===n){var t=zW[e.name];if(t){var i=e.getCenter();i[0]+=t[0]/10.5,i[1]+=-t[1]/14,e.setCenter(i)}}})(t,a),function DW(n,e){"china"===n&&"\u53f0\u6e7e"===e.name&&e.geometries.push({type:"polygon",exterior:TW[0]})}(t,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),r},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function AW(n){for(var e,t=0;t<n.length;t++){var i=n[t].getBoundingRect();(e=e||i.clone()).union(i)}return e}var ju=nt();const Sr={registerMap:function(n,e,t){if(e.svg){var i=new yW(n,e.svg);ju.set(n,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?t=e.specialAreas:r=e,i=new IW(n,r,t),ju.set(n,i)}},getGeoResource:function(n){return ju.get(n)},getMapForUser:function(n){var e=ju.get(n);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(n,e,t){var i=ju.get(n);if(i)return i.load(e,t)}};var zy=["rect","circle","line","ellipse","polygon","polyline","path"],PW=nt(zy),RW=nt(zy.concat(["g"])),NW=nt(zy.concat(["g"])),Z2=Nt();function of(n){var e=n.getItemStyle(),t=n.get("areaColor");return null!=t&&(e.fill=t),e}function q2(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var OW=function(){function n(e){var t=new ft;this.uid=ps("ec_map_draw"),this._controller=new Xu(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new ft),t.add(this._svgGroup=new ft)}return n.prototype.draw=function(e,t,i,r,a){var o="geo"===e.mainType,s=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},function(y){!s&&y.getHostGeoModel()===e&&(s=y.getData())});var u=e.coordinateSystem,c=this._regionsGroup,h=this.group,p=u.getTransformInfo(),f=p.raw,d=p.roam;!c.childAt(0)||a?(h.x=d.x,h.y=d.y,h.scaleX=d.scaleX,h.scaleY=d.scaleY,h.dirty()):Gt(h,d,e);var g=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,m={api:i,geo:u,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:g,isGeo:o,transformInfoRaw:f};"geoJSON"===u.resourceType?this._buildGeoJSON(m):"geoSVG"===u.resourceType&&this._buildSVG(m),this._updateController(e,t,i),this._updateMapSelectHandler(e,c,i,r)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=nt(),i=nt(),r=this._regionsGroup,a=e.transformInfoRaw,o=e.mapOrGeoModel,s=e.data,u=e.geo.projection,c=u&&u.stream;function h(d,v){return v&&(d=v(d)),d&&[d[0]*a.scaleX+a.x,d[1]*a.scaleY+a.y]}function p(d){for(var v=[],g=!c&&u&&u.project,m=0;m<d.length;++m){var y=h(d[m],g);y&&v.push(y)}return v}function f(d){return{shape:{points:p(d)}}}r.removeAll(),M(e.geo.regions,function(d){var v=d.name,g=t.get(v),m=i.get(v)||{},y=m.dataIdx,_=m.regionModel;g||(g=t.set(v,new ft),r.add(g),y=s?s.indexOfName(v):null,_=e.isGeo?o.getRegionModel(v):s?s.getItemModel(y):null,i.set(v,{dataIdx:y,regionModel:_}));var b=[],C=[];M(d.geometries,function(z){if("polygon"===z.type){var w=[z.exterior].concat(z.interiors||[]);c&&(w=nM(w,c)),M(w,function(D){b.push(new Tn(f(D)))})}else{var T=z.points;c&&(T=nM(T,c,!0)),M(T,function(D){C.push(new Dn(f(D)))})}});var x=h(d.getCenter(),u&&u.project);function S(z,w){if(z.length){var T=new qg({culling:!0,segmentIgnoreThreshold:1,shape:{paths:z}});g.add(T),K2(e,T,y,_),Q2(e,T,v,_,o,y,x),w&&(q2(T),M(T.states,q2))}}S(b),S(C,!0)}),t.each(function(d,v){var g=i.get(v),y=g.regionModel;J2(e,d,v,y,o,g.dataIdx),tM(e,d,v,y,o),eM(e,d,v,y,o)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=nt(),a=!1;M(this._svgGraphicRecord.named,function(o){var s=o.name,u=e.mapOrGeoModel,c=e.data,h=o.svgNodeTagLower,p=o.el,f=c?c.indexOfName(s):null,d=u.getRegionModel(s);null!=PW.get(h)&&p instanceof Wn&&K2(e,p,f,d),p instanceof Wn&&(p.culling=!0),p.z2EmphasisLift=0,o.namedFrom||(null!=NW.get(h)&&Q2(e,p,s,d,u,f,null),J2(e,p,s,d,u,f),tM(e,p,s,d,u),null==RW.get(h))||("self"===eM(e,p,s,d,u)&&(a=!0),(r.get(s)||r.set(s,[])).push(p))},this),this._enableBlurEntireSVG(a,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Za(a);var o=a.ensureState("blur").style||{};null==o.opacity&&null!=r&&(o.opacity=r),a.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var i=t.coordinateSystem;if("geoJSON"===i.resourceType){var r=this._regionsGroupByName;if(r){var a=r.get(e);return a?[a]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=Sr.getGeoResource(e);if(t&&"geoSVG"===t.type){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=Sr.getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,i){var r=e.coordinateSystem,a=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=r.getZoom(),a.enable(e.get("roam")||!1);var s=e.mainType;function u(){var c={type:"geoRoam",componentType:s};return c[s+"Id"]=e.id,c}a.off("pan").on("pan",function(c){this._mouseDownFlag=!1,my(o,c.dx,c.dy),i.dispatchAction(F(u(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,yy(o,c.scale,c.originX,c.originY),i.dispatchAction(F(u(),{zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(c,h,p){return r.containPoint([h,p])&&!ef(c,i,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=Z2(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,i,r){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},n}();function K2(n,e,t,i){var r=i.getModel("itemStyle"),a=i.getModel(["emphasis","itemStyle"]),o=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),u=of(r),c=of(a),h=of(s),p=of(o),f=n.data;if(f){var d=f.getItemVisual(t,"style"),v=f.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&d.fill&&(u.fill=d.fill),v&&(u.decal=Ps(v,n.api))}e.setStyle(u),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=c,e.ensureState("select").style=h,e.ensureState("blur").style=p,Za(e)}function Q2(n,e,t,i,r,a,o){var s=n.data,u=n.isGeo,c=s&&isNaN(s.get(s.mapDimension("value"),a)),h=s&&s.getItemLayout(a);if(u||c||h&&h.showLabel){var p=u?t:a,f=void 0;(!s||a>=0)&&(f=r);var d=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Ue(e,Oe(i),{labelFetcher:f,labelDataIndex:p,defaultText:t},d);var v=e.getTextContent();if(v&&(Z2(v).ignore=v.ignore,e.textConfig&&o)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(o[0]-g.x)/g.width*100+"%",(o[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function J2(n,e,t,i,r,a){n.data?n.data.setItemGraphicEl(a,e):dt(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:t,region:i&&i.option||{}}}function tM(n,e,t,i,r){n.data||Ds({el:e,componentModel:r,itemName:t,itemTooltipOption:i.get("tooltip")})}function eM(n,e,t,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var a=i.getModel("emphasis"),o=a.get("focus");return fe(e,o,a.get("blurScope"),a.get("disabled")),n.isGeo&&function A4(n,e,t){var i=dt(n);i.componentMainType=e.mainType,i.componentIndex=e.componentIndex,i.componentHighDownName=t}(e,r,t),o}function nM(n,e,t){var r,i=[];function a(){r=[]}function o(){r.length&&(i.push(r),r=[])}var s=e({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(u,c){isFinite(u)&&isFinite(c)&&r.push([u,c])},sphere:function(){}});return!t&&s.polygonStart(),M(n,function(u){s.lineStart();for(var c=0;c<u.length;c++)s.point(u[c][0],u[c][1]);s.lineEnd()}),!t&&s.polygonEnd(),i}const iM=OW;var EW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===t.id)(s=this._mapDraw)&&o.add(s.group);else if(t.needsDrawMap){var s=this._mapDraw||new iM(r);o.add(s.group),s.draw(t,i,r,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(t,i,r)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,i,r){var a=t.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,u){if(!isNaN(s)){var c=a.getItemLayout(u);if(c&&c.point){var h=c.point,p=c.offset,f=new Qr({style:{fill:t.getData().getVisual("style").fill},shape:{cx:h[0]+9*p,cy:h[1],r:3},silent:!0,z2:8+(p?0:ss+1)});if(!p){var d=t.mainSeries.getData(),v=a.getName(u),g=d.indexOfName(v),m=a.getItemModel(u),y=m.getModel("label"),_=d.getItemGraphicEl(g);Ue(f,Oe(m),{labelFetcher:{getFormattedLabel:function(b,C){return t.getFormattedLabel(g,C)}},defaultText:v}),f.disableLabelAnimation=!0,y.get("position")||f.setTextConfig({position:"bottom"}),_.onHoverStateChange=function(b){Ph(f,b)}}o.add(f)}}})},e.type="map",e}(ne);const LW=EW;var BW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(i){if(null!=i){var r=this.getData().getName(i),a=this.coordinateSystem,o=a.getRegion(r);return o&&a.dataToPoint(o.getCenter())}},t}return B(e,n),e.prototype.getInitialData=function(t){for(var i=Bs(this,{coordDimensions:["value"],encodeDefaulter:yt(Cg,this)}),r=nt(),a=[],o=0,s=i.count();o<s;o++){var u=i.getName(o);r.set(u,!0)}return M(Sr.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(h){var p=h.name;r.get(p)||a.push(p)}),i.appendValues([],a),i},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var i=this.getData();return i.get(i.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var i=this.getData();return i.getItemModel(i.indexOfName(t))},e.prototype.formatTooltip=function(t,i,r){for(var a=this.getData(),o=this.getRawValue(t),s=a.getName(t),u=this.seriesGroup,c=[],h=0;h<u.length;h++){var p=u[h].originalData.indexOfName(s),f=a.mapDimension("value");isNaN(u[h].originalData.get(f,p))||c.push(u[h].name)}return Ee("section",{header:c.join(", "),noHeader:!c.length,blocks:[Ee("nameValue",{name:s,value:o})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var i=t.icon||"roundRect",r=Ie(i,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(ce);const VW=BW;function GW(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),r=i?"o"+i.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),M(e,function(t,i){for(var r=function FW(n,e){var t={};return M(n,function(i){i.each(i.mapDimension("value"),function(r,a){var o="ec-"+i.getName(a);t[o]=t[o]||[],isNaN(r)||t[o].push(r)})}),n[0].map(n[0].mapDimension("value"),function(i,r){for(var a="ec-"+n[0].getName(r),o=0,s=1/0,u=-1/0,c=t[a].length,h=0;h<c;h++)s=Math.min(s,t[a][h]),u=Math.max(u,t[a][h]),o+=t[a][h];return 0===c?NaN:"min"===e?s:"max"===e?u:"average"===e?o/c:o})}(X(t,function(o){return o.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(r.cloneShallow()),t[a].mainSeries=t[0]})}function HW(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getMapType();if(!t.getHostGeoModel()&&!e[i]){var r={};M(t.seriesGroup,function(o){var s=o.coordinateSystem,u=o.originalData;o.get("showLegendSymbol")&&n.getComponent("legend")&&u.each(u.mapDimension("value"),function(c,h){var p=u.getName(h),f=s.getRegion(p);if(f&&!isNaN(c)){var d=r[p]||0,v=s.dataToPoint(f.getCenter());r[p]=d+1,u.setItemLayout(h,{point:v,offset:d})}})});var a=t.getData();a.each(function(o){var s=a.getName(o),u=a.getItemLayout(o)||{};u.showLabel=!r[s],a.setItemLayout(o,u)}),e[i]=!0}})}var rM=je,XW=function(n){function e(t){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new ur,i._rawTransformable=new ur,i.name=t,i}return B(e,n),e.prototype.setBoundingRect=function(t,i,r,a){return this._rect=new xt(t,i,r,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,i,r,a){this._transformTo(t,i,r,a),this._viewRect=new xt(t,i,r,a)},e.prototype._transformTo=function(t,i,r,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new xt(t,i,r,a));var u=s.parent;s.parent=null,s.decomposeTransform(),s.parent=u,this._updateTransform()},e.prototype.setCenter=function(t,i){t&&(this._center=[q(t[0],i.getWidth()),q(t[1],i.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var i=this.zoomLimit;i&&(null!=i.max&&(t=Math.min(i.max,t)),null!=i.min&&(t=Math.max(i.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),a=this.getCenter(),o=this.getZoom();a=je([],a,t),r=je([],r,t),i.originX=a[0],i.originY=a[1],i.x=r[0]-a[0],i.y=r[1]-a[1],i.scaleX=i.scaleY=o,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,i=this._rawTransformable;i.parent=t,t.updateTransform(),i.updateTransform(),Fd(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],Ko(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,i=this._roamTransformable,r=new ur;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,i,r){var a=i?this._rawTransform:this.transform;return r=r||[],a?rM(r,t,a):un(r,t)},e.prototype.pointToData=function(t){var i=this.invTransform;return i?rM([],t,i):[t[0],t[1]]},e.prototype.convertToPixel=function(t,i,r){var a=aM(i);return a===this?a.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var a=aM(i);return a===this?a.pointToData(r):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(ur);function aM(n){var e=n.seriesModel;return e?e.coordinateSystem:null}const Yu=XW;var jW={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},oM=["lng","lat"],sM=function(n){function e(t,i,r){var a=n.call(this,t)||this;a.dimensions=oM,a.type="geo",a._nameCoordMap=nt(),a.map=i;var f,o=r.projection,s=Sr.load(i,r.nameMap,r.nameProperty),u=Sr.getGeoResource(i),h=(a.resourceType=u?u.type:null,a.regions=s.regions),p=jW[u.type];if(a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o,o)for(var d=0;d<h.length;d++){var v=h[d].getBoundingRect(o);(f=f||v.clone()).union(v)}else f=s.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=o?1:mt(r.aspectScale,p.aspectScale),a._invertLongitute=!o&&p.invertLongitute,a}return B(e,n),e.prototype._transformTo=function(t,i,r,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var u=this._rawTransformable;u.transform=o.calculateTransform(new xt(t,i,r,a));var c=u.parent;u.parent=null,u.decomposeTransform(),u.parent=c,s&&(u.scaleY=-u.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var i=this.regions,r=0;r<i.length;r++){var a=i[r];if("geoJSON"===a.type&&a.contain(t))return i[r]}},e.prototype.addGeoCoord=function(t,i){this._nameCoordMap.set(t,i)},e.prototype.getGeoCoord=function(t){var i=this._regionsMap.get(t);return this._nameCoordMap.get(t)||i&&i.getCenter()},e.prototype.dataToPoint=function(t,i,r){if(Q(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,i,r)}},e.prototype.pointToData=function(t){var i=this.projection;return i&&(t=i.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,i,r){return n.prototype.dataToPoint.call(this,t,i,r)},e.prototype.convertToPixel=function(t,i,r){var a=lM(i);return a===this?a.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var a=lM(i);return a===this?a.pointToData(r):null},e}(Yu);function lM(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",De).models[0]||{}).coordinateSystem:null}Te(sM,Yu);const uM=sM;function cM(n,e){var t=n.get("boundingCoords");if(null!=t){var i=t[0],r=t[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var a=this.projection;if(a){var o=i[0],s=i[1],u=r[0],c=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var h=function(S,z,w,T){for(var D=w-S,I=T-z,A=0;A<=100;A++){var k=A/100,P=a.project([S+D*k,z+I*k]);Or(i,i,P),Er(r,r,P)}};h(o,s,u,s),h(u,s,u,c),h(u,c,o,c),h(o,c,u,s)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}}var _,b,C,p=this.getBoundingRect(),f=n.get("layoutCenter"),d=n.get("layoutSize"),v=e.getWidth(),g=e.getHeight(),m=p.width/p.height*this.aspectScale,y=!1;if(f&&d&&(_=[q(f[0],v),q(f[1],g)],b=q(d,Math.min(v,g)),!isNaN(_[0])&&!isNaN(_[1])&&!isNaN(b)&&(y=!0)),y)C={},m>1?(C.width=b,C.height=b/m):(C.height=b,C.width=b*m),C.y=_[1]-C.height/2,C.x=_[0]-C.width/2;else{var x=n.getBoxLayoutParams();x.aspect=m,C=ke(x,{width:v,height:g})}this.setViewRect(C.x,C.y,C.width,C.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}var WW=function(){function n(){this.dimensions=oM}return n.prototype.create=function(e,t){var i=[];function r(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}e.eachComponent("geo",function(o,s){var u=o.get("map"),c=new uM(u+s,u,F({nameMap:o.get("nameMap")},r(o)));c.zoomLimit=o.get("scaleLimit"),i.push(c),o.coordinateSystem=c,c.model=o,c.resize=cM,c.resize(o,t)}),e.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var u=o.get("geoIndex")||0;o.coordinateSystem=i[u]}});var a={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),M(a,function(o,s){var u=X(o,function(h){return h.get("nameMap")}),c=new uM(s,s,F({nameMap:zd(u)},r(o[0])));c.zoomLimit=Fe.apply(null,X(o,function(h){return h.get("scaleLimit")})),i.push(c),c.resize=cM,c.resize(o[0],t),M(o,function(h){h.coordinateSystem=c,function YW(n,e){M(e.get("geoCoord"),function(t,i){n.addGeoCoord(i,t)})}(c,h)})}),i},n.prototype.getFilledRegions=function(e,t,i,r){for(var a=(e||[]).slice(),o=nt(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);return M(Sr.load(t,i,r).regions,function(c){var h=c.name;!o.get(h)&&a.push({name:h})}),a},n}();const hM=new WW;var $W=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(t,i,r){var a=Sr.getGeoResource(t.map);if(a&&"geoJSON"===a.type){var o=t.itemStyle=t.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(t,r),Ea(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,i=this.option;i.regions=hM.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=ki(i.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new ee(o,t,t.ecModel)),o.selected&&(r[s]=!0)),a},nt()),i.selectedMap||(i.selectedMap=r)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new ee(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,i){var a=this.getRegionModel(t).get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]),o={name:t};return at(a)?(o.status=i,a(o)):Q(a)?a.replace("{a}",t??""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var i=this.option,r=i.selectedMode;r&&("multiple"!==r&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[t]=!0)},e.prototype.unSelect=function(t){var i=this.option.selectedMap;i&&(i[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var i=this.option.selectedMap;return!(!i||!i[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(Ft);const ZW=$W;function pM(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function wy(n,e,t,i){var r=n.getZoom(),a=n.getCenter(),o=e.zoom,s=n.projectedToPoint?n.projectedToPoint(a):n.dataToPoint(a);if(null!=e.dx&&null!=e.dy&&(s[0]-=e.dx,s[1]-=e.dy,n.setCenter(pM(n,s),i)),null!=o){if(t){var u=t.min||0;o=Math.max(Math.min(r*o,t.max||1/0),u)/r}n.scaleX*=o,n.scaleY*=o;var p=(e.originY-n.y)*(o-1);n.x-=(e.originX-n.x)*(o-1),n.y-=p,n.updateTransform(),n.setCenter(pM(n,s),i),n.setZoom(o*r)}return{center:n.getCenter(),zoom:n.getZoom()}}var qW=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return B(e,n),e.prototype.init=function(t,i){this._api=i},e.prototype.render=function(t,i,r,a){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new iM(r));var o=this._mapDraw;o.draw(t,i,r,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=t.get("silent"),this.group.add(o.group),this.updateSelectStatus(t,i,r)},e.prototype._handleRegionClick=function(t){var i;uo(t.target,function(r){return null!=(i=dt(r).eventData)},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},e.prototype.updateSelectStatus=function(t,i,r){var a=this;this._mapDraw.group.traverse(function(o){var s=dt(o).eventData;if(s)return a._model.isSelected(s.name)?r.enterSelect(o):r.leaveSelect(o),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(de);const KW=qW;function QW(n,e,t){Sr.registerMap(n,e,t)}function fM(n){function e(t,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:r},function(u){u[t](r.name),M(u.coordinateSystem.regions,function(p){o[p.name]=u.isSelected(p.name)||!1});var h=[];M(o,function(p,f){o[f]&&h.push(f)}),s.push({geoIndex:u.componentIndex,name:h})}),{selected:o,allSelected:s,name:r.name}})}n.registerCoordinateSystem("geo",hM),n.registerComponentModel(ZW),n.registerComponentView(KW),n.registerImpl("registerMap",QW),n.registerImpl("getMap",function(t){return Sr.getMapForUser(t)}),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,i,r){var a=t.componentType||"series";i.eachComponent({mainType:a,query:t},function(o){var s=o.coordinateSystem;if("geo"===s.type){var u=wy(s,t,o.get("scaleLimit"),r);o.setCenter&&o.setCenter(u.center),o.setZoom&&o.setZoom(u.zoom),"series"===a&&M(o.seriesGroup,function(c){c.setCenter(u.center),c.setZoom(u.zoom)})}})})}function eU(n,e){var t=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(t.length){!function rU(n){for(var e=n.children,t=e.length,i=0,r=0;--t>=0;){var a=e[t];a.hierNode.prelim+=i,a.hierNode.modifier+=i,i+=a.hierNode.shift+(r+=a.hierNode.change)}}(n);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+e(n,r),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else r&&(n.hierNode.prelim=r.hierNode.prelim+e(n,r));n.parentNode.hierNode.defaultAncestor=function aU(n,e,t,i){if(e){for(var r=n,a=n,o=a.parentNode.children[0],s=e,u=r.hierNode.modifier,c=a.hierNode.modifier,h=o.hierNode.modifier,p=s.hierNode.modifier;s=Ty(s),a=Dy(a),s&&a;){r=Ty(r),o=Dy(o),r.hierNode.ancestor=n;var f=s.hierNode.prelim+p-a.hierNode.prelim-c+i(s,a);f>0&&(sU(oU(s,n,t),n,f),c+=f,u+=f),p+=s.hierNode.modifier,c+=a.hierNode.modifier,u+=r.hierNode.modifier,h+=o.hierNode.modifier}s&&!Ty(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=p-u),a&&!Dy(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=c-h,t=n)}return t}(n,r,n.parentNode.hierNode.defaultAncestor||i[0],e)}function nU(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function dM(n){return arguments.length?n:lU}function Wu(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function Ty(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function Dy(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function oU(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function sU(n,e,t){var i=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=i}function lU(n,e){return n.parentNode===e.parentNode?1:2}var uU=function(){return function n(){this.parentPoint=[],this.childPoints=[]}}(),cU=function(n){function e(t){return n.call(this,t)||this}return B(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new uU},e.prototype.buildPath=function(t,i){var r=i.childPoints,a=r.length,o=i.parentPoint,s=r[0],u=r[a-1];if(1===a)return t.moveTo(o[0],o[1]),void t.lineTo(s[0],s[1]);var c=i.orient,h="TB"===c||"BT"===c?0:1,p=1-h,f=q(i.forkPosition,1),d=[];d[h]=o[h],d[p]=o[p]+(u[p]-o[p])*f,t.moveTo(o[0],o[1]),t.lineTo(d[0],d[1]),t.moveTo(s[0],s[1]),d[h]=s[h],t.lineTo(d[0],d[1]),d[h]=u[h],t.lineTo(d[0],d[1]),t.lineTo(u[0],u[1]);for(var v=1;v<a-1;v++){var g=r[v];t.moveTo(g[0],g[1]),d[h]=g[h],t.lineTo(d[0],d[1])}},e}(It),hU=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new ft,t}return B(e,n),e.prototype.init=function(t,i){this._controller=new Xu(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,i,r){var a=t.getData(),o=t.layoutInfo,s=this._mainGroup;"radial"===t.get("layout")?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(t,r),this._updateController(t,i,r);var c=this._data;a.diff(c).add(function(h){vM(a,h)&&gM(a,h,null,s,t)}).update(function(h,p){var f=c.getItemGraphicEl(p);vM(a,h)?gM(a,h,f,s,t):f&&_M(c,p,f,s,t)}).remove(function(h){var p=c.getItemGraphicEl(h);p&&_M(c,h,p,s,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&a.eachItemGraphicEl(function(h,p){h.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:p})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,i){var r=t.getData(),a=[];r.each(function(p){var f=r.getItemLayout(p);f&&!isNaN(f.x)&&!isNaN(f.y)&&a.push([+f.x,+f.y])});var o=[],s=[];Th(a,o,s);var u=this._min,c=this._max;s[0]-o[0]==0&&(o[0]=u?u[0]:o[0]-1,s[0]=c?c[0]:s[0]+1),s[1]-o[1]==0&&(o[1]=u?u[1]:o[1]-1,s[1]=c?c[1]:s[1]+1);var h=t.coordinateSystem=new Yu;h.zoomLimit=t.get("scaleLimit"),h.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),h.setCenter(t.get("center"),i),h.setZoom(t.get("zoom")),this.group.attr({x:h.x,y:h.y,scaleX:h.scaleX,scaleY:h.scaleY}),this._min=o,this._max=s},e.prototype._updateController=function(t,i,r){var a=this,o=this._controller,s=this._controllerHost,u=this.group;o.setPointerChecker(function(c,h,p){var f=u.getBoundingRect();return f.applyTransform(u.transform),f.contain(h,p)&&!ef(c,r,t)}),o.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(c){my(s,c.dx,c.dy),r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){yy(s,c.scale,c.originX,c.originY),r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),a._updateNodeAndLinkScale(t),r.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var i=t.getData(),r=this._getNodeGlobalScale(t);i.eachItemGraphicEl(function(a,o){a.setSymbolScale(r)})},e.prototype._getNodeGlobalScale=function(t){var i=t.coordinateSystem;if("view"!==i.type)return 1;var r=this._nodeScaleRatio,a=i.scaleX||1;return((i.getZoom()-1)*r+1)/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(ne);function vM(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function gM(n,e,t,i,r){var a=!t,o=n.tree.getNodeByDataIndex(e),s=o.getModel(),u=o.getVisual("style").fill,c=!1===o.isExpand&&0!==o.children.length?u:"#fff",h=n.tree.root,p=o.parentNode===h?o:o.parentNode||o,f=n.getItemGraphicEl(p.dataIndex),d=p.getLayout(),v=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:d,g=o.getLayout();a?((t=new ku(n,e,null,{symbolInnerColor:c,useNameLabel:!0})).x=v.x,t.y=v.y):t.updateData(n,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=g.rawX,t.__radialRawY=g.rawY,i.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,Gt(t,{x:g.x,y:g.y},r);var m=t.getSymbolPath();if("radial"===r.get("layout")){var y=h.children[0],_=y.getLayout(),b=y.children.length,C=void 0,x=void 0;if(g.x===_.x&&!0===o.isExpand&&y.children.length){var S={x:(y.children[0].getLayout().x+y.children[b-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[b-1].getLayout().y)/2};(C=Math.atan2(S.y-_.y,S.x-_.x))<0&&(C=2*Math.PI+C),(x=S.x<_.x)&&(C-=Math.PI)}else(C=Math.atan2(g.y-_.y,g.x-_.x))<0&&(C=2*Math.PI+C),0===o.children.length||0!==o.children.length&&!1===o.isExpand?(x=g.x<_.x)&&(C-=Math.PI):(x=g.x>_.x)||(C-=Math.PI);var z=x?"left":"right",w=s.getModel("label"),T=w.get("rotate"),D=T*(Math.PI/180),I=m.getTextContent();I&&(m.setTextConfig({position:w.get("position")||z,rotation:null==T?-C:D,origin:"center"}),I.setStyle("verticalAlign","middle"))}var A=s.get(["emphasis","focus"]),k="relative"===A?jc(o.getAncestorsIndices(),o.getDescendantIndices()):"ancestor"===A?o.getAncestorsIndices():"descendant"===A?o.getDescendantIndices():null;k&&(dt(t).focus=k),function pU(n,e,t,i,r,a,o,s){var u=e.getModel(),c=n.get("edgeShape"),h=n.get("layout"),p=n.getOrient(),f=n.get(["lineStyle","curveness"]),d=n.get("edgeForkPosition"),v=u.getModel("lineStyle").getLineStyle(),g=i.__edge;if("curve"===c)e.parentNode&&e.parentNode!==t&&(g||(g=i.__edge=new ip({shape:My(h,p,f,r,r)})),Gt(g,{shape:My(h,p,f,a,o)},n));else if("polyline"===c&&"orthogonal"===h&&e!==t&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var m=e.children,y=[],_=0;_<m.length;_++){var b=m[_].getLayout();y.push([b.x,b.y])}g||(g=i.__edge=new cU({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:p,forkPosition:d}})),Gt(g,{shape:{parentPoint:[o.x,o.y],childPoints:y}},n)}g&&("polyline"!==c||e.isExpand)&&(g.useStyle(lt({strokeNoScale:!0,fill:null},v)),We(g,u,"lineStyle"),Za(g),s.add(g))}(r,o,h,t,v,d,g,i),t.__edge&&(t.onHoverStateChange=function(P){if("blur"!==P){var N=o.parentNode&&n.getItemGraphicEl(o.parentNode.dataIndex);N&&N.hoverState===jl||Ph(t.__edge,P)}})}function mM(n,e,t,i,r){var o=yM(e.tree.root,n),s=o.source,u=o.sourceLayout,c=e.getItemGraphicEl(n.dataIndex);if(c){var h=e.getItemGraphicEl(s.dataIndex),f=c.__edge||(!1===s.isExpand||1===s.children.length?h.__edge:void 0),d=i.get("edgeShape"),v=i.get("layout"),g=i.get("orient"),m=i.get(["lineStyle","curveness"]);f&&("curve"===d?Wr(f,{shape:My(v,g,m,u,u),style:{opacity:0}},i,{cb:function(){t.remove(f)},removeOpt:r}):"polyline"===d&&"orthogonal"===i.get("layout")&&Wr(f,{shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]]},style:{opacity:0}},i,{cb:function(){t.remove(f)},removeOpt:r}))}}function yM(n,e){for(var i,t=e.parentNode===n?e:e.parentNode||e;null==(i=t.getLayout());)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:i}}function _M(n,e,t,i,r){var a=n.tree.getNodeByDataIndex(e),s=yM(n.tree.root,a).sourceLayout,u={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Wr(t,{x:s.x+1,y:s.y+1},r,{cb:function(){i.remove(t),n.setItemGraphicEl(e,null)},removeOpt:u}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:u}),a.children.forEach(function(c){mM(c,n,i,r,u)}),mM(a,n,i,r,u)}function My(n,e,t,i,r){var a,o,s,u,c,h,p,f;if("radial"===n){h=r.rawX,f=r.rawY;var d=Wu(c=i.rawX,p=i.rawY),v=Wu(c,p+(f-p)*t),g=Wu(h,f+(p-f)*t),m=Wu(h,f);return{x1:d.x||0,y1:d.y||0,x2:m.x||0,y2:m.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:g.x||0,cpy2:g.y||0}}return c=i.x,p=i.y,h=r.x,f=r.y,("LR"===e||"RL"===e)&&(a=c+(h-c)*t,o=p,s=h+(c-h)*t,u=f),("TB"===e||"BT"===e)&&(a=c,o=p+(f-p)*t,s=h,u=f+(p-f)*t),{x1:c,y1:p,x2:h,y2:f,cpx1:a,cpy1:o,cpx2:s,cpy2:u}}const fU=hU;var ni=Nt();function vU(n,e){if(function bU(n){return ni(n).mainData===n}(this)){var t=F({},ni(this).datas);t[this.dataType]=e,bM(e,t,n)}else Iy(e,this.dataType,ni(this).mainData,n);return e}function gU(n,e){return n.struct&&n.struct.update(),e}function mU(n,e){return M(ni(e).datas,function(t,i){t!==e&&Iy(t.cloneShallow(),i,e,n)}),e}function yU(n){var e=ni(this).mainData;return null==n||null==e?e:ni(e).datas[n]}function _U(){var n=ni(this).mainData;return null==n?[{data:n}]:X(At(ni(n).datas),function(e){return{type:e,data:ni(n).datas[e]}})}function bM(n,e,t){ni(n).datas={},M(e,function(i,r){Iy(i,r,n,t)})}function Iy(n,e,t,i){ni(t).datas[e]=n,ni(n).mainData=t,n.dataType=e,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=n),n.getLinkedData=yU,n.getLinkedDataAll=_U}const CM=function dU(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,bM(e,t,n),M(t,function(i){M(e.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,yt(vU,n))})}),e.wrapMethod("cloneShallow",yt(mU,n)),M(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,yt(gU,n))}),ln(t[e.dataType]===e)};var CU=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,i){at(e)&&(i=t,t=e,e=null),Q(e=e||{})&&(e={order:e});var o,r=e.order||"preorder",a=this[e.attr||"children"];"preorder"===r&&(o=t.call(i,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(e,t,i);"postorder"===r&&t.call(i,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,r=i.length;t<r;t++){var a=i[t].getNodeById(e);if(a)return a}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,r=i.length;t<r;t++){var a=i[t].contains(e);if(a)return a}},n.prototype.getAncestors=function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),SU=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,r=t.length;i<r;i++)t[i].dataIndex=-1;for(i=0,r=e.count();i<r;i++)t[e.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,i){var r=new n(t),a=[],o=1;!function s(h,p){var f=h.value;o=Math.max(o,H(f)?f.length:1),a.push(h);var d=new CU(Ae(h.name,""),r);p?function xU(n,e){n.parentNode!==e&&(e.children.push(n),n.parentNode=e)}(d,p):r.root=d,r._nodes.push(d);var v=h.children;if(v)for(var g=0;g<v.length;g++)s(v[g],d)}(e),r.root.updateDepthAndHeight(0);var u=Os(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,c=new vn(u,t);return c.initData(a),i&&i(c),CM({mainData:c,struct:r,structAttr:"tree"}),r.update(),r},n}();const Ay=SU;function Uu(n,e,t){if(n&&zt(e,n.type)>=0){var i=t.getData().tree.root,r=n.targetNode;if(Q(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var a=n.targetNodeId;if(null!=a&&(r=i.getNodeById(a)))return{node:r}}}function SM(n){for(var e=[];n;)(n=n.parentNode)&&e.push(n);return e.reverse()}function ky(n,e){return zt(SM(n),e)>=0}function sf(n,e){for(var t=[];n;){var i=n.dataIndex;t.push({name:n.name,dataIndex:i,value:e.getRawValue(i)}),n=n.parentNode}return t.reverse(),t}var zU=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return B(e,n),e.prototype.getInitialData=function(t){var i={name:t.name,children:t.data},a=new ee(t.leaves||{},this,this.ecModel),o=Ay.createTree(i,this,function s(p){p.wrapMethod("getItemModel",function(f,d){var v=o.getNodeByDataIndex(d);return v&&v.children.length&&v.isExpand||(f.parentModel=a),f})}),u=0;o.eachNode("preorder",function(p){p.depth>u&&(u=p.depth)});var h=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:u;return o.root.eachNode("preorder",function(p){var f=p.hostTree.data.getRawDataItem(p.dataIndex);p.isExpand=f&&null!=f.collapsed?!f.collapsed:p.depth<=h}),o.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,i,r){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(t),u=s.getValue(),c=s.name;s&&s!==o;)c=s.parentNode.name+"."+c,s=s.parentNode;return Ee("nameValue",{name:c,value:u,noValue:isNaN(u)||null==u})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=sf(r,this),i.collapsed=!r.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(ce);const wU=zU;function $u(n,e){for(var i,t=[n];i=t.pop();)if(e(i),i.isExpand){var r=i.children;if(r.length)for(var a=r.length-1;a>=0;a--)t.push(r[a])}}function DU(n,e){n.eachSeriesByType("tree",function(t){!function MU(n,e){var t=function iU(n,e){return ke(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(n,e);n.layoutInfo=t;var i=n.get("layout"),r=0,a=0,o=null;"radial"===i?(r=2*Math.PI,a=Math.min(t.height,t.width)/2,o=dM(function(b,C){return(b.parentNode===C.parentNode?1:2)/b.depth})):(r=t.width,a=t.height,o=dM());var s=n.getData().tree.root,u=s.children[0];if(u){(function tU(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var i,r,t=[e];i=t.pop();)if(r=i.children,i.isExpand&&r.length)for(var o=r.length-1;o>=0;o--){var s=r[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},t.push(s)}})(s),function TU(n,e,t){for(var a,i=[n],r=[];a=i.pop();)if(r.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)i.push(o[s])}for(;a=r.pop();)e(a,t)}(u,eU,o),s.hierNode.modifier=-u.hierNode.prelim,$u(u,nU);var c=u,h=u,p=u;$u(u,function(b){var C=b.getLayout().x;C<c.getLayout().x&&(c=b),C>h.getLayout().x&&(h=b),b.depth>p.depth&&(p=b)});var f=c===h?1:o(c,h)/2,d=f-c.getLayout().x,v=0,g=0,m=0,y=0;if("radial"===i)v=r/(h.getLayout().x+f+d),g=a/(p.depth-1||1),$u(u,function(b){var C=Wu(m=(b.getLayout().x+d)*v,y=(b.depth-1)*g);b.setLayout({x:C.x,y:C.y,rawX:m,rawY:y},!0)});else{var _=n.getOrient();"RL"===_||"LR"===_?(g=a/(h.getLayout().x+f+d),v=r/(p.depth-1||1),$u(u,function(b){y=(b.getLayout().x+d)*g,b.setLayout({x:m="LR"===_?(b.depth-1)*v:r-(b.depth-1)*v,y},!0)})):("TB"===_||"BT"===_)&&(v=r/(h.getLayout().x+f+d),g=a/(p.depth-1||1),$u(u,function(b){m=(b.getLayout().x+d)*v,b.setLayout({x:m,y:y="TB"===_?(b.depth-1)*g:a-(b.depth-1)*g},!0)}))}}}(t,e)})}function IU(n){n.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();F(t.ensureUniqueItemVisual(r.dataIndex,"style"),o)})})}var xM=["treemapZoomToNode","treemapRender","treemapMove"];function zM(n){var e=n.getData(),i={};e.tree.eachNode(function(r){for(var a=r;a&&a.depth>1;)a=a.parentNode;var o=wg(n.ecModel,a.name||a.dataIndex+"",i);r.setVisual("decal",o)})}var RU=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return B(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};wM(r);var a=t.levels||[],o=this.designatedVisualItemStyle={},s=new ee({itemStyle:o},this,i);a=t.levels=function NU(n,e){var t=Zt(e.get("color")),i=Zt(e.get(["aria","decal","decals"]));if(t){var r,a;M(n=n||[],function(s){var u=new ee(s),c=u.get("color"),h=u.get("decal");(u.get(["itemStyle","color"])||c&&"none"!==c)&&(r=!0),(u.get(["itemStyle","decal"])||h&&"none"!==h)&&(a=!0)});var o=n[0]||(n[0]={});return r||(o.color=t.slice()),!a&&i&&(o.decal=i.slice()),n}}(a,i);var u=X(a||[],function(p){return new ee(p,s,i)},this),c=Ay.createTree(r,this,function h(p){p.wrapMethod("getItemModel",function(f,d){var v=c.getNodeByDataIndex(d);return f.parentModel=(v?u[v.depth]:null)||s,f})});return c.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,i,r){var a=this.getData(),o=this.getRawValue(t);return Ee("nameValue",{name:a.getName(t),value:o})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=sf(r,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},F(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var i=this._idIndexMap;i||(i=this._idIndexMap=nt(),this._idIndexMapCount=0);var r=i.get(t);return null==r&&i.set(t,r=this._idIndexMapCount++),r},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){zM(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(ce);function wM(n){var e=0;M(n.children,function(i){wM(i);var r=i.value;H(r)&&(r=r[0]),e+=r});var t=n.value;H(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=e),t<0&&(t=0),H(n.value)?n.value[0]=t:n.value=t}const OU=RU;var LU=function(){function n(e){this.group=new ft,e.add(this.group)}return n.prototype.render=function(e,t,i,r){var a=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),a.get("show")&&i){var s=a.getModel("itemStyle"),u=a.getModel("emphasis"),c=s.getModel("textStyle"),h=u.getModel(["itemStyle","textStyle"]),p={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,p,c),this._renderContent(e,p,s,u,c,h,r),Yh(o,p.pos,p.box)}},n.prototype._prepare=function(e,t,i){for(var r=e;r;r=r.parentNode){var a=Ae(r.getModel().get("name"),""),o=i.getTextRect(a),s=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=s+8,t.renderList.push({node:r,text:a,width:s})}},n.prototype._renderContent=function(e,t,i,r,a,o,s){for(var u=0,c=t.emptyItemWidth,h=e.get(["breadcrumb","height"]),p=function n5(n,e,t){var i=e.width,r=e.height,a=q(n.left,i),o=q(n.top,r),s=q(n.right,i),u=q(n.bottom,r);return(isNaN(a)||isNaN(parseFloat(n.left)))&&(a=0),(isNaN(s)||isNaN(parseFloat(n.right)))&&(s=i),(isNaN(o)||isNaN(parseFloat(n.top)))&&(o=0),(isNaN(u)||isNaN(parseFloat(n.bottom)))&&(u=r),t=gs(t||0),{width:Math.max(s-a-t[1]-t[3],0),height:Math.max(u-o-t[0]-t[2],0)}}(t.pos,t.box),f=t.totalWidth,d=t.renderList,v=r.getModel("itemStyle").getItemStyle(),g=d.length-1;g>=0;g--){var m=d[g],y=m.node,_=m.width,b=m.text;f>p.width&&(f-=_-c,_=c,b=null);var C=new Tn({shape:{points:BU(u,0,_,h,g===d.length-1,0===g)},style:lt(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new Vt({style:te(a,{text:b})}),textConfig:{position:"inside"},z2:1e4*ss,onclick:yt(s,y)});C.disableLabelAnimation=!0,C.getTextContent().ensureState("emphasis").style=te(o,{text:b}),C.ensureState("emphasis").style=v,fe(C,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(C),VU(C,e,y),u+=_+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function BU(n,e,t,i,r,a){var o=[[r?n:n-5,e],[n+t,e],[n+t,e+i],[r?n:n-5,e+i]];return!a&&o.splice(2,0,[n+t+5,e+i/2]),!r&&o.push([n,e+i/2]),o}function VU(n,e,t){dt(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&sf(t,e)}}const FU=LU;var GU=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,i,r,a){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:r,easing:a}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,a=this._storage.length;r<a;r++){var o=this._storage[r];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),Ry=ft,DM=Ot,AM="upperLabel",XU=10*ss,jU=2*ss,YU=3*ss,Ao=Va([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),kM=function(n){var e=Ao(n);return e.stroke=e.fill=e.lineWidth=null,e},lf=Nt(),WU=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}return B(e,n),e.prototype.render=function(t,i,r,a){if(!(zt(i.findComponents({mainType:"series",subType:"treemap",query:a}),t)<0)){this.seriesModel=t,this.api=r,this.ecModel=i;var u=Uu(a,["treemapZoomToNode","treemapRootToNode"],t),c=a&&a.type,h=t.layoutInfo,p=!this._oldTree,f=this._storage,d="treemapRootToNode"===c&&u&&f?{rootNodeGroup:f.nodeGroup[u.node.getRawIndex()],direction:a.direction}:null,v=this._giveContainerGroup(h),g=t.get("animation"),m=this._doRender(v,t,d);!g||p||c&&"treemapZoomToNode"!==c&&"treemapRootToNode"!==c?m.renderFinally():this._doAnimation(v,m,t,d),this._resetController(r),this._renderBreadcrumb(t,r,u)}},e.prototype._giveContainerGroup=function(t){var i=this._containerGroup;return i||(i=this._containerGroup=new Ry,this._initEvents(i),this.group.add(i)),i.x=t.x,i.y=t.y,i},e.prototype._doRender=function(t,i,r){var a=i.getData().tree,o=this._oldTree,s={nodeGroup:[],background:[],content:[]},u={nodeGroup:[],background:[],content:[]},c=this._storage,h=[];function p(m,y,_,b){return function UU(n,e,t,i,r,a,o,s,u,c){if(o){var h=o.getLayout(),p=n.getData(),f=o.getModel();if(p.setItemGraphicEl(o.dataIndex,null),h&&h.isInView){var d=h.width,v=h.height,g=h.borderWidth,m=h.invisible,y=o.getRawIndex(),_=s&&s.getRawIndex(),b=o.viewChildren,C=h.upperHeight,x=b&&b.length,S=f.getModel("itemStyle"),z=f.getModel(["emphasis","itemStyle"]),w=f.getModel(["blur","itemStyle"]),T=f.getModel(["select","itemStyle"]),D=S.get("borderRadius")||0,I=st("nodeGroup",Ry);if(I){if(u.add(I),I.x=h.x||0,I.y=h.y||0,I.markRedraw(),lf(I).nodeWidth=d,lf(I).nodeHeight=v,h.isAboveViewRoot)return I;var A=st("background",DM,c,jU);A&&function V(Dt,pt,Mt){var bt=dt(pt);if(bt.dataIndex=o.dataIndex,bt.seriesIndex=n.seriesIndex,pt.setShape({x:0,y:0,width:d,height:v,r:D}),m)$(pt);else{pt.invisible=!1;var rt=o.getVisual("style"),Ct=rt.stroke,he=kM(S);he.fill=Ct;var Et=Ao(z);Et.fill=z.get("borderColor");var be=Ao(w);be.fill=w.get("borderColor");var ve=Ao(T);ve.fill=T.get("borderColor"),Mt?it(pt,Ct,rt.opacity,{x:g,y:0,width:d-2*g,height:C}):pt.removeTextContent(),pt.setStyle(he),pt.ensureState("emphasis").style=Et,pt.ensureState("blur").style=be,pt.ensureState("select").style=ve,Za(pt)}Dt.add(pt)}(I,A,x&&h.upperLabelHeight);var k=f.getModel("emphasis"),P=k.get("focus"),N=k.get("blurScope"),O=k.get("disabled"),L="ancestor"===P?o.getAncestorsIndices():"descendant"===P?o.getDescendantIndices():P;if(x)$l(I)&&Ka(I,!1),A&&(Ka(A,!O),p.setItemGraphicEl(o.dataIndex,A),rg(A,L,N));else{var E=st("content",DM,c,YU);E&&function j(Dt,pt){var Mt=dt(pt);Mt.dataIndex=o.dataIndex,Mt.seriesIndex=n.seriesIndex;var bt=Math.max(d-2*g,0),rt=Math.max(v-2*g,0);if(pt.culling=!0,pt.setShape({x:g,y:g,width:bt,height:rt,r:D}),m)$(pt);else{pt.invisible=!1;var Ct=o.getVisual("style"),he=Ct.fill,Et=kM(S);Et.fill=he,Et.decal=Ct.decal;var be=Ao(z),ve=Ao(w),nn=Ao(T);it(pt,he,Ct.opacity,null),pt.setStyle(Et),pt.ensureState("emphasis").style=be,pt.ensureState("blur").style=ve,pt.ensureState("select").style=nn,Za(pt)}Dt.add(pt)}(I,E),A.disableMorphing=!0,A&&$l(A)&&Ka(A,!1),Ka(I,!O),p.setItemGraphicEl(o.dataIndex,I),rg(I,L,N)}return I}}}function $(Dt){!Dt.invisible&&a.push(Dt)}function it(Dt,pt,Mt,bt){var rt=f.getModel(bt?AM:"label"),Ct=Ae(f.get("name"),null),he=rt.getShallow("show");Ue(Dt,Oe(f,bt?AM:"label"),{defaultText:he?Ct:null,inheritColor:pt,defaultOpacity:Mt,labelFetcher:n,labelDataIndex:o.dataIndex});var Et=Dt.getTextContent();if(Et){var be=Et.style,ve=Dd(be.padding||0);bt&&(Dt.setTextConfig({layoutRect:bt}),Et.disableLabelLayout=!0),Et.beforeUpdate=function(){var Mr=Math.max((bt?bt.width:Dt.shape.width)-ve[1]-ve[3],0),kn=Math.max((bt?bt.height:Dt.shape.height)-ve[0]-ve[2],0);(be.width!==Mr||be.height!==kn)&&Et.setStyle({width:Mr,height:kn})},be.truncateMinChar=2,be.lineOverflow="truncate",ot(be,bt,h);var nn=Et.getState("emphasis");ot(nn?nn.style:null,bt,h)}}function ot(Dt,pt,Mt){var bt=Dt?Dt.text:null;if(!pt&&Mt.isLeafRoot&&null!=bt){var rt=n.get("drillDownIcon",!0);Dt.text=rt?rt+" "+bt:bt}}function st(Dt,pt,Mt,bt){var rt=null!=_&&t[Dt][_],Ct=r[Dt];return rt?(t[Dt][_]=null,function Tt(Dt,pt){var Mt=Dt[y]={};pt instanceof Ry?(Mt.oldX=pt.x,Mt.oldY=pt.y):Mt.oldShape=F({},pt.shape)}(Ct,rt)):m||((rt=new pt)instanceof Wn&&(rt.z2=function $U(n,e){return n*XU+e}(Mt,bt)),function kt(Dt,pt){var Mt=Dt[y]={},bt=o.parentNode,rt=pt instanceof ft;if(bt&&(!i||"drillDown"===i.direction)){var Ct=0,he=0,Et=r.background[bt.getRawIndex()];!i&&Et&&Et.oldShape&&(Ct=Et.oldShape.width,he=Et.oldShape.height),rt?(Mt.oldX=0,Mt.oldY=he):Mt.oldShape={x:Ct,y:he,width:0,height:0}}Mt.fadein=!rt}(Ct,rt)),e[Dt][y]=rt}}(i,u,c,r,s,h,m,y,_,b)}!function d(m,y,_,b,C){function x(z){return z.getId()}function S(z,w){var T=null!=z?m[z]:null,D=null!=w?y[w]:null,I=p(T,D,_,C);I&&d(T&&T.viewChildren||[],D&&D.viewChildren||[],I,b,C+1)}b?(y=m,M(m,function(z,w){!z.isRemoved()&&S(w,w)})):new yr(y,m,x,x).add(S).update(S).remove(yt(S,null)).execute()}(a.root?[a.root]:[],o&&o.root?[o.root]:[],t,a===o||!o,0);var f=function v(m){var y={nodeGroup:[],background:[],content:[]};return m&&M(m,function(_,b){var C=y[b];M(_,function(x){x&&(C.push(x),lf(x).willDelete=!0)})}),y}(c);return this._oldTree=a,this._storage=u,{lastsForAnimation:s,willDeleteEls:f,renderFinally:function g(){M(f,function(m){M(m,function(y){y.parent&&y.parent.remove(y)})}),M(h,function(m){m.invisible=!0,m.dirty()})}}},e.prototype._doAnimation=function(t,i,r,a){var o=r.get("animationDurationUpdate"),s=r.get("animationEasing"),u=(at(o)?0:o)||0,c=(at(s)?null:s)||"cubicOut",h=function HU(){return new GU}();M(i.willDeleteEls,function(p,f){M(p,function(d,v){if(!d.invisible){var m,g=d.parent,y=lf(g);if(a&&"drillDown"===a.direction)m=g===a.rootNodeGroup?{shape:{x:0,y:0,width:y.nodeWidth,height:y.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var _=0,b=0;y.willDelete||(_=y.nodeWidth/2,b=y.nodeHeight/2),m="nodeGroup"===f?{x:_,y:b,style:{opacity:0}}:{shape:{x:_,y:b,width:0,height:0},style:{opacity:0}}}m&&h.add(d,m,u,0,c)}})}),M(this._storage,function(p,f){M(p,function(d,v){var g=i.lastsForAnimation[f][v],m={};g&&(d instanceof ft?null!=g.oldX&&(m.x=d.x,m.y=d.y,d.x=g.oldX,d.y=g.oldY):(g.oldShape&&(m.shape=F({},d.shape),d.setShape(g.oldShape)),g.fadein?(d.setStyle("opacity",0),m.style={opacity:1}):1!==d.style.opacity&&(m.style={opacity:1})),h.add(d,m,u,0,c))})},this),this._state="animating",h.finished(J(function(){this._state="ready",i.renderFinally()},this)).start()},e.prototype._resetController=function(t){var i=this._controller;i||((i=this._controller=new Xu(t.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",J(this._onPan,this)),i.on("zoom",J(this._onZoom,this)));var r=new xt(0,0,t.getWidth(),t.getHeight());i.setPointerChecker(function(a,o,s){return r.contain(o,s)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},e.prototype._onZoom=function(t){var i=t.originX,r=t.originY;if("animating"!==this._state){var a=this.seriesModel.getData().tree.root;if(!a)return;var o=a.getLayout();if(!o)return;var s=new xt(o.x,o.y,o.width,o.height),u=this.seriesModel.layoutInfo,c=[1,0,0,1,0,0];Ri(c,c,[-(i-=u.x),-(r-=u.y)]),Gd(c,c,[t.scale,t.scale]),Ri(c,c,[i,r]),s.applyTransform(c),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},e.prototype._initEvents=function(t){var i=this;t.on("click",function(r){if("ready"===i._state){var a=i.seriesModel.get("nodeClick",!0);if(a){var o=i.findTarget(r.offsetX,r.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)i._rootToNode(o);else if("zoomToNode"===a)i._zoomToNode(o);else if("link"===a){var u=s.hostTree.data.getItemModel(s.dataIndex),c=u.get("link",!0),h=u.get("target",!0)||"blank";c&&Xh(c,h)}}}}},this)},e.prototype._renderBreadcrumb=function(t,i,r){var a=this;r||(r=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(r={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new FU(this.group))).render(t,i,r.node,function(o){"animating"!==a._state&&(ky(t.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,i){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var u=s.transformCoordToLocal(t,i),c=s.shape;if(!(c.x<=u[0]&&u[0]<=c.x+c.width&&c.y<=u[1]&&u[1]<=c.y+c.height))return!1;r={node:o,offsetX:u[0],offsetY:u[1]}}},this),r},e.type="treemap",e}(ne);const ZU=WU;var qu=M,qU=ct,uf=-1,Ny=function(){function n(e){var t=e.mappingMethod,i=e.type,r=this.option=ht(e);this.type=i,this.mappingMethod=t,this._normalizeData=JU[t];var a=n.visualHandlers[i];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],"piecewise"===t?(Oy(r),function KU(n){var e=n.pieceList;n.hasSpecialVisual=!1,M(e,function(t,i){t.originIndex=i,null!=t.visual&&(n.hasSpecialVisual=!0)})}(r)):"category"===t?r.categories?function QU(n){var e=n.categories,t=n.categoryMap={},i=n.visual;if(qu(e,function(o,s){t[o]=s}),!H(i)){var r=[];ct(i)?qu(i,function(o,s){r[t[s]??uf]=o}):r[uf]=i,i=RM(n,r)}for(var a=e.length-1;a>=0;a--)null==i[a]&&(delete t[e[a]],e.pop())}(r):Oy(r,!0):(ln("linear"!==t||r.dataExtent),Oy(r))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return J(this._normalizeData,this)},n.listVisualTypes=function(){return At(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,i){ct(e)?M(e,t,i):t.call(i,e)},n.mapVisual=function(e,t,i){var r,a=H(e)?[]:ct(e)?{}:(r=!0,null);return n.eachVisual(e,function(o,s){var u=t.call(i,o,s);r?a=u:a[s]=u}),a},n.retrieveVisuals=function(e){var i,t={};return e&&qu(n.visualHandlers,function(r,a){e.hasOwnProperty(a)&&(t[a]=e[a],i=!0)}),i?t:null},n.prepareVisualTypes=function(e){if(H(e))e=e.slice();else{if(!qU(e))return[];var t=[];qu(e,function(i,r){t.push(r)}),e=t}return e.sort(function(i,r){return"color"===r&&"color"!==i&&0===i.indexOf("color")?1:-1}),e},n.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},n.findPieceIndex=function(e,t,i){for(var r,a=1/0,o=0,s=t.length;o<s;o++){var u=t[o].value;if(null!=u){if(u===e||Q(u)&&u===e+"")return o;i&&f(u,o)}}for(o=0,s=t.length;o<s;o++){var c=t[o],h=c.interval,p=c.close;if(h){if(h[0]===-1/0){if(hf(p[1],e,h[1]))return o}else if(h[1]===1/0){if(hf(p[0],h[0],e))return o}else if(hf(p[0],h[0],e)&&hf(p[1],e,h[1]))return o;i&&f(h[0],o),i&&f(h[1],o)}}if(i)return e===1/0?t.length-1:e===-1/0?0:r;function f(d,v){var g=Math.abs(d-e);g<a&&(a=g,r=v)}},n.visualHandlers={color:{applyVisual:Ku("color"),getColorMapper:function(){var e=this.option;return J("category"===e.mappingMethod?function(t,i){return!i&&(t=this._normalizeData(t)),Qu.call(this,t)}:function(t,i,r){var a=!!r;return!i&&(t=this._normalizeData(t)),r=tv(t,e.parsedVisual,r),a?r:Oi(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Oi(tv(e,this.option.parsedVisual),"rgba")},category:Qu,piecewise:function(e,t){var i=Ly.call(this,t);return null==i&&(i=Oi(tv(e,this.option.parsedVisual),"rgba")),i},fixed:ko}},colorHue:cf(function(e,t){return Ml(e,t)}),colorSaturation:cf(function(e,t){return Ml(e,null,t)}),colorLightness:cf(function(e,t){return Ml(e,null,null,t)}),colorAlpha:cf(function(e,t){return oh(e,t)}),decal:{applyVisual:Ku("decal"),_normalizedToVisual:{linear:null,category:Qu,piecewise:null,fixed:null}},opacity:{applyVisual:Ku("opacity"),_normalizedToVisual:Ey([0,1])},liftZ:{applyVisual:Ku("liftZ"),_normalizedToVisual:{linear:ko,category:ko,piecewise:ko,fixed:ko}},symbol:{applyVisual:function(e,t,i){i("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:PM,category:Qu,piecewise:function(e,t){var i=Ly.call(this,t);return null==i&&(i=PM.call(this,e)),i},fixed:ko}},symbolSize:{applyVisual:Ku("symbolSize"),_normalizedToVisual:Ey([0,1])}},n}();function Oy(n,e){var t=n.visual,i=[];ct(t)?qu(t,function(a){i.push(a)}):null!=t&&i.push(t),!e&&1===i.length&&!{color:1,symbol:1}.hasOwnProperty(n.type)&&(i[1]=i[0]),RM(n,i)}function cf(n){return{applyVisual:function(e,t,i){var r=this.mapValueToVisual(e);i("color",n(t("color"),r))},_normalizedToVisual:Ey([0,1])}}function PM(n){var e=this.option.visual;return e[Math.round(Yt(n,[0,1],[0,e.length-1],!0))]||{}}function Ku(n){return function(e,t,i){i(n,this.mapValueToVisual(e))}}function Qu(n){var e=this.option.visual;return e[this.option.loop&&n!==uf?n%e.length:n]}function ko(){return this.option.visual[0]}function Ey(n){return{linear:function(e){return Yt(e,n,this.option.visual,!0)},category:Qu,piecewise:function(e,t){var i=Ly.call(this,t);return null==i&&(i=Yt(e,n,this.option.visual,!0)),i},fixed:ko}}function Ly(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var r=t[Ny.findPieceIndex(n,t)];if(r&&r.visual)return r.visual[this.type]}}function RM(n,e){return n.visual=e,"color"===n.type&&(n.parsedVisual=X(e,function(t){return Sn(t)||[0,0,0,1]})),e}var JU={linear:function(n){return Yt(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=Ny.findPieceIndex(n,e,!0);if(null!=t)return Yt(t,[0,e.length-1],[0,1],!0)},category:function(n){return(this.option.categories?this.option.categoryMap[n]:n)??uf},fixed:xe};function hf(n,e,t){return n?e<=t:e<t}const Ze=Ny;var NM=Nt();const e$={seriesType:"treemap",reset:function(n){var t=n.getData().tree.root;t.isRemoved()||OM(t,{},n.getViewRoot().getAncestors(),n)}};function OM(n,e,t,i){var r=n.getModel(),a=n.getLayout(),o=n.hostTree.data;if(a&&!a.invisible&&a.isInView){var f,s=r.getModel("itemStyle"),u=function n$(n,e,t){var i=F({},e),r=t.designatedVisualItemStyle;return M(["color","colorAlpha","colorSaturation"],function(a){r[a]=e[a];var o=n.get(a);r[a]=null,null!=o&&(i[a]=o)}),i}(s,e,i),c=o.ensureUniqueItemVisual(n.dataIndex,"style"),h=s.get("borderColor"),p=s.get("borderColorSaturation");null!=p&&(h=function i$(n,e){return null!=e?Ml(e,null,null,n):null}(p,f=EM(u))),c.stroke=h;var d=n.viewChildren;if(d&&d.length){var v=function r$(n,e,t,i,r,a){if(a&&a.length){var o=Vy(e,"color")||null!=r.color&&"none"!==r.color&&(Vy(e,"colorAlpha")||Vy(e,"colorSaturation"));if(o){var s=e.get("visualMin"),u=e.get("visualMax"),c=t.dataExtent.slice();null!=s&&s<c[0]&&(c[0]=s),null!=u&&u>c[1]&&(c[1]=u);var h=e.get("colorMappingBy"),p={type:o.name,dataExtent:c,visual:o.range};"color"!==p.type||"index"!==h&&"id"!==h?p.mappingMethod="linear":(p.mappingMethod="category",p.loop=!0);var f=new Ze(p);return NM(f).drColorMappingBy=h,f}}}(0,r,a,0,u,d);M(d,function(g,m){if(g.depth>=t.length||g===t[g.depth]){var y=function a$(n,e,t,i,r,a){var o=F({},e);if(r){var s=r.type,u="color"===s&&NM(r).drColorMappingBy,c="index"===u?i:"id"===u?a.mapIdToIndex(t.getId()):t.getValue(n.get("visualDimension"));o[s]=r.mapValueToVisual(c)}return o}(r,u,g,m,v,i);OM(g,y,t,i)}})}else f=EM(u),c.fill=f}}function EM(n){var e=By(n,"color");if(e){var t=By(n,"colorAlpha"),i=By(n,"colorSaturation");return i&&(e=Ml(e,null,null,i)),t&&(e=oh(e,t)),e}}function By(n,e){var t=n[e];if(null!=t&&"none"!==t)return t}function Vy(n,e){var t=n.get(e);return H(t)&&t.length?{name:e,range:t}:null}var Ju=Math.max,pf=Math.min,LM=Fe,Fy=M,BM=["itemStyle","borderWidth"],o$=["itemStyle","gapWidth"],s$=["upperLabel","show"],l$=["upperLabel","height"];const u$={seriesType:"treemap",reset:function(n,e,t,i){var r=t.getWidth(),a=t.getHeight(),o=n.option,s=ke(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),u=o.size||[],c=q(LM(s.width,u[0]),r),h=q(LM(s.height,u[1]),a),p=i&&i.type,d=Uu(i,["treemapZoomToNode","treemapRootToNode"],n),v="treemapRender"===p||"treemapMove"===p?i.rootRect:null,g=n.getViewRoot(),m=SM(g);if("treemapMove"!==p){var y="treemapZoomToNode"===p?function v$(n,e,t,i,r){var a=(e||{}).node,o=[i,r];if(!a||a===t)return o;for(var s,u=i*r,c=u*n.option.zoomToNodeRatio;s=a.parentNode;){for(var h=0,p=s.children,f=0,d=p.length;f<d;f++)h+=p[f].getValue();var v=a.getValue();if(0===v)return o;c*=h/v;var g=s.getModel(),m=g.get(BM);(c+=4*m*m+(3*m+Math.max(m,HM(g)))*Math.pow(c,.5))>_C&&(c=_C),a=s}c<u&&(c=u);var _=Math.pow(c/u,.5);return[i*_,r*_]}(n,d,g,c,h):v?[v.width,v.height]:[c,h],_=o.sort;_&&"asc"!==_&&"desc"!==_&&(_="desc");var b={squareRatio:o.squareRatio,sort:_,leafDepth:o.leafDepth};g.hostTree.clearLayouts();var C={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};g.setLayout(C),VM(g,b,!1,0),C=g.getLayout(),Fy(m,function(S,z){var w=(m[z+1]||g).getValue();S.setLayout(F({dataExtent:[w,w],borderWidth:0,upperHeight:0},C))})}var x=n.getData().tree.root;x.setLayout(function g$(n,e,t){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!t)return i;var r=t.node,a=r.getLayout();if(!a)return i;for(var o=[a.width/2,a.height/2],s=r;s;){var u=s.getLayout();o[0]+=u.x,o[1]+=u.y,s=s.parentNode}return{x:n.width/2-o[0],y:n.height/2-o[1]}}(s,v,d),!0),n.setLayoutInfo(s),GM(x,new xt(-s.x,-s.y,r,a),m,g,0)}};function VM(n,e,t,i){var r,a;if(!n.isRemoved()){var o=n.getLayout();r=o.width,a=o.height;var s=n.getModel(),u=s.get(BM),c=s.get(o$)/2,h=HM(s),p=Math.max(u,h),f=u-c,d=p-c;n.setLayout({borderWidth:u,upperHeight:p,upperLabelHeight:h},!0);var v=(r=Ju(r-2*f,0))*(a=Ju(a-f-d,0)),g=function c$(n,e,t,i,r,a){var o=n.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var u=null!=i.leafDepth&&i.leafDepth<=a;if(r&&!u)return n.viewChildren=[];o=Ut(o,function(d){return!d.isRemoved()}),function p$(n,e){e&&n.sort(function(t,i){var r="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===r?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:r})}(o,s);var c=function f$(n,e,t){for(var i=0,r=0,a=e.length;r<a;r++)i+=e[r].getValue();var s,o=n.get("visualDimension");return e&&e.length?"value"===o&&t?(s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===t&&s.reverse()):(s=[1/0,-1/0],Fy(e,function(u){var c=u.getValue(o);c<s[0]&&(s[0]=c),c>s[1]&&(s[1]=c)})):s=[NaN,NaN],{sum:i,dataExtent:s}}(e,o,s);if(0===c.sum)return n.viewChildren=[];if(c.sum=function h$(n,e,t,i,r){if(!i)return t;for(var a=n.get("visibleMin"),o=r.length,s=o,u=o-1;u>=0;u--){var c=r["asc"===i?o-u-1:u].getValue();c/t*e<a&&(s=u,t-=c)}return r.splice("asc"===i?0:s,o-s),t}(e,t,c.sum,s,o),0===c.sum)return n.viewChildren=[];for(var h=0,p=o.length;h<p;h++){var f=o[h].getValue()/c.sum*t;o[h].setLayout({area:f})}return u&&(o.length&&n.setLayout({isLeafRoot:!0},!0),o.length=0),n.viewChildren=o,n.setLayout({dataExtent:c.dataExtent},!0),o}(n,s,v,e,t,i);if(g.length){var m={x:f,y:d,width:r,height:a},y=pf(r,a),_=1/0,b=[];b.area=0;for(var C=0,x=g.length;C<x;){var S=g[C];b.push(S),b.area+=S.getLayout().area;var z=d$(b,y,e.squareRatio);z<=_?(C++,_=z):(b.area-=b.pop().getLayout().area,FM(b,y,m,c,!1),y=pf(m.width,m.height),b.length=b.area=0,_=1/0)}if(b.length&&FM(b,y,m,c,!0),!t){var w=s.get("childrenVisibleMin");null!=w&&v<w&&(t=!0)}for(C=0,x=g.length;C<x;C++)VM(g[C],e,t,i+1)}}}function d$(n,e,t){for(var i=0,r=1/0,a=0,o=void 0,s=n.length;a<s;a++)(o=n[a].getLayout().area)&&(o<r&&(r=o),o>i&&(i=o));var u=n.area*n.area,c=e*e*t;return u?Ju(c*i/u,u/(c*r)):1/0}function FM(n,e,t,i,r){var a=e===t.width?0:1,o=1-a,s=["x","y"],u=["width","height"],c=t[s[a]],h=e?n.area/e:0;(r||h>t[u[o]])&&(h=t[u[o]]);for(var p=0,f=n.length;p<f;p++){var d=n[p],v={},g=h?d.getLayout().area/h:0,m=v[u[o]]=Ju(h-2*i,0),y=t[s[a]]+t[u[a]]-c,_=p===f-1||y<g?y:g,b=v[u[a]]=Ju(_-2*i,0);v[s[o]]=t[s[o]]+pf(i,m/2),v[s[a]]=c+pf(i,b/2),c+=_,d.setLayout(v,!0)}t[s[o]]+=h,t[u[o]]-=h}function GM(n,e,t,i,r){var a=n.getLayout(),o=t[r],s=o&&o===n;if(!(o&&!s||r===t.length&&n!==i)){n.setLayout({isInView:!0,invisible:!s&&!e.intersect(a),isAboveViewRoot:s},!0);var u=new xt(e.x-a.x,e.y-a.y,e.width,e.height);Fy(n.viewChildren||[],function(c){GM(c,u,t,i,r+1)})}}function HM(n){return n.get(s$)?n.get(l$):0}function y$(n){var e=n.findComponents({mainType:"legend"});!e||!e.length||n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),a=t.getGraph().data,o=i.mapArray(i.getName);a.filterSelf(function(s){var c=a.getItemModel(s).getShallow("category");if(null!=c){Bt(c)&&(c=o[c]);for(var h=0;h<e.length;h++)if(!e[h].isSelected(c))return!1}return!0})})}function _$(n){var e={};n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getData(),a={};i.each(function(o){var s=i.getName(o);a["ec-"+s]=o;var u=i.getItemModel(o),c=u.getModel("itemStyle").getItemStyle();c.fill||(c.fill=t.getColorFromPalette(s,e)),i.setItemVisual(o,"style",c);for(var h=["symbol","symbolSize","symbolKeepAspect"],p=0;p<h.length;p++){var f=u.getShallow(h[p],!0);null!=f&&i.setItemVisual(o,h[p],f)}}),i.count()&&r.each(function(o){var u=r.getItemModel(o).getShallow("category");if(null!=u){Q(u)&&(u=a["ec-"+u]);var c=i.getItemVisual(u,"style");F(r.ensureUniqueItemVisual(o,"style"),c);for(var p=["symbol","symbolSize","symbolKeepAspect"],f=0;f<p.length;f++)r.setItemVisual(o,p[f],i.getItemVisual(u,p[f]))}})})}function ff(n){return n instanceof Array||(n=[n,n]),n}function b$(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),r=ff(e.get("edgeSymbol")),a=ff(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(o){var s=i.getItemModel(o),u=t.getEdgeByIndex(o),c=ff(s.getShallow("symbol",!0)),h=ff(s.getShallow("symbolSize",!0)),p=s.getModel("lineStyle").getLineStyle(),f=i.ensureUniqueItemVisual(o,"style");switch(F(f,p),f.stroke){case"source":var d=u.node1.getVisual("style");f.stroke=d&&d.fill;break;case"target":d=u.node2.getVisual("style"),f.stroke=d&&d.fill}c[0]&&u.setVisual("fromSymbol",c[0]),c[1]&&u.setVisual("toSymbol",c[1]),h[0]&&u.setVisual("fromSymbolSize",h[0]),h[1]&&u.setVisual("toSymbolSize",h[1])})})}var df=function(n){return n.get("autoCurveness")||null},XM=function(n,e){var t=df(n),i=20,r=[];if(Bt(t))i=t;else if(H(t))return void(n.__curvenessList=t);e>i&&(i=e);var a=i%2?i+2:i+3;r=[];for(var o=0;o<a;o++)r.push((o%2?o+1:o)/10*(o%2?-1:1));n.__curvenessList=r},tc=function(n,e,t){var i=[n.id,n.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[t.uid,i,r].join("--\x3e")},jM=function(n){var e=n.split("--\x3e");return[e[0],e[2],e[1]].join("--\x3e")},C$=function(n,e){var t=tc(n.node1,n.node2,e);return e.__edgeMap[t]},S$=function(n,e){return Hy(tc(n.node1,n.node2,e),e)+Hy(tc(n.node2,n.node1,e),e)},Hy=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function Xy(n,e,t,i){var r=df(e),a=H(r);if(!r)return null;var o=C$(n,e);if(!o)return null;for(var s=-1,u=0;u<o.length;u++)if(o[u]===t){s=u;break}var c=S$(n,e);XM(e,c),n.lineStyle=n.lineStyle||{};var h=tc(n.node1,n.node2,e),p=e.__curvenessList,f=a||c%2?0:1;if(o.isForward)return p[f+s];var d=jM(h),v=Hy(d,e),g=p[s+v+f];return i?a?r&&0===r[0]?(v+f)%2?g:-g:((v%2?0:1)+f)%2?g:-g:(v+f)%2?g:-g:p[s+v+f]}function YM(n){var e=n.coordinateSystem;if(!e||"view"===e.type){var t=n.getGraph();t.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),jy(t,n)}}function jy(n,e){n.eachEdge(function(t,i){var r=Pi(t.getModel().get(["lineStyle","curveness"]),-Xy(t,e,i,!0),0),a=ar(t.node1.getLayout()),o=ar(t.node2.getLayout()),s=[a,o];+r&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*r,(a[1]+o[1])/2-(o[0]-a[0])*r]),t.setLayout(s)})}function w$(n,e){n.eachSeriesByType("graph",function(t){var i=t.get("layout"),r=t.coordinateSystem;if(r&&"view"!==r.type){var a=t.getData(),o=[];M(r.dimensions,function(f){o=o.concat(a.mapDimensionsAll(f))});for(var s=0;s<a.count();s++){for(var u=[],c=!1,h=0;h<o.length;h++){var p=a.get(o[h],s);isNaN(p)||(c=!0),u.push(p)}a.setItemLayout(s,c?r.dataToPoint(u):[NaN,NaN])}jy(a.graph,t)}else(!i||"none"===i)&&YM(t)})}function ec(n){var e=n.coordinateSystem;if("view"!==e.type)return 1;var t=n.option.nodeScaleRatio,i=e.scaleX;return((e.getZoom()-1)*t+1)/i}function nc(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var WM=Math.PI,Yy=[];function Wy(n,e,t,i){var r=n.coordinateSystem;if(!r||"view"===r.type){var a=r.getBoundingRect(),o=n.getData(),s=o.graph,u=a.width/2+a.x,c=a.height/2+a.y,h=Math.min(a.width,a.height)/2,p=o.count();if(o.setLayout({cx:u,cy:c}),p){if(t){var f=r.pointToData(i),g=[f[0]-u,f[1]-c];Zo(g,g),$c(g,g,h),t.setLayout([u+g[0],c+g[1]],!0),UM(t,n.get(["circular","rotateLabel"]),u,c)}T$[e](n,s,o,h,u,c,p),s.eachEdge(function(y,_){var S,b=Pi(y.getModel().get(["lineStyle","curveness"]),Xy(y,n,_),0),C=ar(y.node1.getLayout()),x=ar(y.node2.getLayout());+b&&(S=[u*(b*=3)+(C[0]+x[0])/2*(1-b),c*b+(C[1]+x[1])/2*(1-b)]),y.setLayout([C,x,S])})}}}var T$={value:function(n,e,t,i,r,a,o){var s=0,u=t.getSum("value"),c=2*Math.PI/(u||o);e.eachNode(function(h){var p=h.getValue("value"),f=c*(u?p:1)/2;s+=f,h.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+a]),s+=f})},symbolSize:function(n,e,t,i,r,a,o){var s=0;Yy.length=o;var u=ec(n);e.eachNode(function(p){var f=nc(p);isNaN(f)&&(f=2),f<0&&(f=0),f*=u;var d=Math.asin(f/2/i);isNaN(d)&&(d=WM/2),Yy[p.dataIndex]=d,s+=2*d});var c=(2*WM-s)/o/2,h=0;e.eachNode(function(p){var f=c+Yy[p.dataIndex];h+=f,(!p.getLayout()||!p.getLayout().fixed)&&p.setLayout([i*Math.cos(h)+r,i*Math.sin(h)+a]),h+=f})}};function UM(n,e,t,i){var r=n.getGraphicEl();if(r){var o=n.getModel().get(["label","rotate"])||0,s=r.getSymbolPath();if(e){var u=n.getLayout(),c=Math.atan2(u[1]-i,u[0]-t);c<0&&(c=2*Math.PI+c);var h=u[0]<t;h&&(c-=Math.PI);var p=h?"left":"right";s.setTextConfig({rotation:-c,position:p,origin:"center"});var f=s.ensureState("emphasis");F(f.textConfig||(f.textConfig={}),{position:p})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function D$(n){n.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&Wy(e,"symbolSize")})}var Hs=Id;function I$(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var i=e.preservedPoints||{},r=e.getGraph(),a=r.data,o=r.edgeData,s=e.getModel("force"),u=s.get("initLayout");e.preservedPoints?a.each(function(b){var C=a.getId(b);a.setItemLayout(b,i[C]||[NaN,NaN])}):u&&"none"!==u?"circular"===u&&Wy(e,"value"):YM(e);var c=a.getDataExtent("value"),h=o.getDataExtent("value"),p=s.get("repulsion"),f=s.get("edgeLength"),d=H(p)?p:[p,p],v=H(f)?f:[f,f];v=[v[1],v[0]];var g=a.mapArray("value",function(b,C){var x=a.getItemLayout(C),S=Yt(b,c,d);return isNaN(S)&&(S=(d[0]+d[1])/2),{w:S,rep:S,fixed:a.getItemModel(C).get("fixed"),p:!x||isNaN(x[0])||isNaN(x[1])?null:x}}),m=o.mapArray("value",function(b,C){var x=r.getEdgeByIndex(C),S=Yt(b,h,v);isNaN(S)&&(S=(v[0]+v[1])/2);var z=x.getModel(),w=Pi(x.getModel().get(["lineStyle","curveness"]),-Xy(x,e,C,!0),0);return{n1:g[x.node1.dataIndex],n2:g[x.node2.dataIndex],d:S,curveness:w,ignoreForceLayout:z.get("ignoreForceLayout")}}),y=t.getBoundingRect(),_=function M$(n,e,t){for(var i=n,r=e,a=t.rect,o=a.width,s=a.height,u=[a.x+o/2,a.y+s/2],c=null==t.gravity?.1:t.gravity,h=0;h<i.length;h++){var p=i[h];p.p||(p.p=za(o*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),p.pp=ar(p.p),p.edges=null}var v,g,f=null==t.friction?.6:t.friction,d=f;return{warmUp:function(){d=.8*f},setFixed:function(m){i[m].fixed=!0},setUnfixed:function(m){i[m].fixed=!1},beforeStep:function(m){v=m},afterStep:function(m){g=m},step:function(m){v&&v(i,r);for(var y=[],_=i.length,b=0;b<r.length;b++){var C=r[b];if(!C.ignoreForceLayout){wa(y,(S=C.n2).p,(x=C.n1).p);var z=Ad(y)-C.d,w=S.w/(x.w+S.w);isNaN(w)&&(w=0),Zo(y,y),!x.fixed&&Hs(x.p,x.p,y,w*z*d),!S.fixed&&Hs(S.p,S.p,y,-(1-w)*z*d)}}for(b=0;b<_;b++)(T=i[b]).fixed||(wa(y,u,T.p),Hs(T.p,T.p,y,c*d));for(b=0;b<_;b++)for(var x=i[b],D=b+1;D<_;D++){var S;wa(y,(S=i[D]).p,x.p),0===(z=Ad(y))&&(DF(y,Math.random()-.5,Math.random()-.5),z=1);var I=(x.rep+S.rep)/z/z;!x.fixed&&Hs(x.pp,x.pp,y,I),!S.fixed&&Hs(S.pp,S.pp,y,-I)}var A=[];for(b=0;b<_;b++){var T;(T=i[b]).fixed||(wa(A,T.p,T.pp),Hs(T.p,T.p,A,d),un(T.pp,T.p))}var k=(d*=.992)<.01;g&&g(i,r,k),m&&m(k)}}}(g,m,{rect:y,gravity:s.get("gravity"),friction:s.get("friction")});_.beforeStep(function(b,C){for(var x=0,S=b.length;x<S;x++)b[x].fixed&&un(b[x].p,r.getNodeByIndex(x).getLayout())}),_.afterStep(function(b,C,x){for(var S=0,z=b.length;S<z;S++)b[S].fixed||r.getNodeByIndex(S).setLayout(b[S].p),i[a.getId(S)]=b[S].p;for(S=0,z=C.length;S<z;S++){var w=C[S],T=r.getEdgeByIndex(S),D=w.n1.p,I=w.n2.p,A=T.getLayout();(A=A?A.slice():[])[0]=A[0]||[],A[1]=A[1]||[],un(A[0],D),un(A[1],I),+w.curveness&&(A[2]=[(D[0]+I[0])/2-(D[1]-I[1])*w.curveness,(D[1]+I[1])/2-(I[0]-D[0])*w.curveness]),T.setLayout(A)}}),e.forceLayout=_,e.preservedPoints=i,_.step()}else e.forceLayout=null})}function k$(n,e){var t=[];return n.eachSeriesByType("graph",function(i){var r=i.get("coordinateSystem");if(!r||"view"===r){var a=i.getData(),s=[],u=[];Th(a.mapArray(function(m){var y=a.getItemModel(m);return[+y.get("x"),+y.get("y")]}),s,u),u[0]-s[0]==0&&(u[0]+=1,s[0]-=1),u[1]-s[1]==0&&(u[1]+=1,s[1]-=1);var c=(u[0]-s[0])/(u[1]-s[1]),h=function A$(n,e,t){return ke(F(n.getBoxLayoutParams(),{aspect:t}),{width:e.getWidth(),height:e.getHeight()})}(i,e,c);isNaN(c)&&(s=[h.x,h.y],u=[h.x+h.width,h.y+h.height]);var p=u[0]-s[0],f=u[1]-s[1],d=h.width,v=h.height,g=i.coordinateSystem=new Yu;g.zoomLimit=i.get("scaleLimit"),g.setBoundingRect(s[0],s[1],p,f),g.setViewRect(h.x,h.y,d,v),g.setCenter(i.get("center"),e),g.setZoom(i.get("zoom")),t.push(g)}}),t}var $M=He.prototype,Uy=ip.prototype,ZM=function(){return function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}();function $y(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){B(function e(){return null!==n&&n.apply(this,arguments)||this},n)}(ZM);var P$=function(n){function e(t){var i=n.call(this,t)||this;return i.type="ec-line",i}return B(e,n),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ZM},e.prototype.buildPath=function(t,i){$y(i)?$M.buildPath.call(this,t,i):Uy.buildPath.call(this,t,i)},e.prototype.pointAt=function(t){return $y(this.shape)?$M.pointAt.call(this,t):Uy.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var i=this.shape,r=$y(i)?[i.x2-i.x1,i.y2-i.y1]:Uy.tangentAt.call(this,t);return Zo(r,r)},e}(It);const R$=P$;var Zy=["fromSymbol","toSymbol"];function qM(n){return"_"+n+"Type"}function KM(n,e,t){var i=e.getItemVisual(t,n);if(!i||"none"===i)return i;var r=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),o=e.getItemVisual(t,n+"Offset"),s=e.getItemVisual(t,n+"KeepAspect"),u=As(r);return i+u+co(o||0,u)+(a||"")+(s||"")}function QM(n,e,t){var i=e.getItemVisual(t,n);if(i&&"none"!==i){var r=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),o=e.getItemVisual(t,n+"Offset"),s=e.getItemVisual(t,n+"KeepAspect"),u=As(r),c=co(o||0,u),h=Ie(i,-u[0]/2+c[0],-u[1]/2+c[1],u[0],u[1],null,s);return h.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,h.name=n,h}}function qy(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var O$=function(n){function e(t,i,r){var a=n.call(this)||this;return a._createLine(t,i,r),a}return B(e,n),e.prototype._createLine=function(t,i,r){var a=t.hostModel,s=function N$(n){var e=new R$({name:"line",subPixelOptimize:!0});return qy(e.shape,n),e}(t.getItemLayout(i));s.shape.percent=0,le(s,{shape:{percent:1}},a,i),this.add(s),M(Zy,function(u){var c=QM(u,t,i);this.add(c),this[qM(u)]=KM(u,t,i)},this),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var a=t.hostModel,o=this.childOfName("line"),s=t.getItemLayout(i),u={shape:{}};qy(u.shape,s),Gt(o,u,a,i),M(Zy,function(c){var h=KM(c,t,i),p=qM(c);if(this[p]!==h){this.remove(this.childOfName(c));var f=QM(c,t,i);this.add(f)}this[p]=h},this),this._updateCommonStl(t,i,r)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,i,r){var a=t.hostModel,o=this.childOfName("line"),s=r&&r.emphasisLineStyle,u=r&&r.blurLineStyle,c=r&&r.selectLineStyle,h=r&&r.labelStatesModels,p=r&&r.emphasisDisabled,f=r&&r.focus,d=r&&r.blurScope;if(!r||t.hasItemOption){var v=t.getItemModel(i),g=v.getModel("emphasis");s=g.getModel("lineStyle").getLineStyle(),u=v.getModel(["blur","lineStyle"]).getLineStyle(),c=v.getModel(["select","lineStyle"]).getLineStyle(),p=g.get("disabled"),f=g.get("focus"),d=g.get("blurScope"),h=Oe(v)}var m=t.getItemVisual(i,"style"),y=m.stroke;o.useStyle(m),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=u,o.ensureState("select").style=c,M(Zy,function(S){var z=this.childOfName(S);if(z){z.setColor(y),z.style.opacity=m.opacity;for(var w=0;w<hn.length;w++){var T=hn[w],D=o.getState(T);if(D){var I=D.style||{},A=z.ensureState(T),k=A.style||(A.style={});null!=I.stroke&&(k[z.__isEmptyBrush?"stroke":"fill"]=I.stroke),null!=I.opacity&&(k.opacity=I.opacity)}}z.markRedraw()}},this);var _=a.getRawValue(i);Ue(this,h,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(S,z){return a.getFormattedLabel(S,z,t.dataType)}},inheritColor:y||"#000",defaultOpacity:m.opacity,defaultText:(null==_?t.getName(i):isFinite(_)?_e(_):_)+""});var b=this.getTextContent();if(b){var C=h.normal;b.__align=b.style.align,b.__verticalAlign=b.style.verticalAlign,b.__position=C.get("position")||"middle";var x=C.get("distance");H(x)||(x=[x,x]),b.__labelDistance=x}this.setTextConfig({position:null,local:!0,inside:!1}),fe(this,f,d,p)},e.prototype.highlight=function(){dr(this)},e.prototype.downplay=function(){vr(this)},e.prototype.updateLayout=function(t,i){this.setLinePoints(t.getItemLayout(i))},e.prototype.setLinePoints=function(t){var i=this.childOfName("line");qy(i.shape,t),i.dirty()},e.prototype.beforeUpdate=function(){var t=this,i=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),a=t.getTextContent();if(i||r||a&&!a.ignore){for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var u=t.childOfName("line");if(this.__dirty||u.__dirty){var c=u.shape.percent,h=u.pointAt(0),p=u.pointAt(c),f=wa([],p,h);if(Zo(f,f),i&&(i.setPosition(h),d(i,0),i.scaleX=i.scaleY=o*c,i.markRedraw()),r&&(r.setPosition(p),d(r,1),r.scaleX=r.scaleY=o*c,r.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var v=void 0,g=void 0,m=a.__labelDistance,y=m[0]*o,_=m[1]*o,b=c/2,C=u.tangentAt(b),x=[C[1],-C[0]],S=u.pointAt(b);x[1]>0&&(x[0]=-x[0],x[1]=-x[1]);var z=C[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var w=-Math.atan2(C[1],C[0]);p[0]<h[0]&&(w=Math.PI+w),a.rotation=w}var T=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":T=-_,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":T=_,g="top";break;default:T=0,g="middle"}switch(a.__position){case"end":a.x=f[0]*y+p[0],a.y=f[1]*_+p[1],v=f[0]>.8?"left":f[0]<-.8?"right":"center",g=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":a.x=-f[0]*y+h[0],a.y=-f[1]*_+h[1],v=f[0]>.8?"right":f[0]<-.8?"left":"center",g=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=y*z+h[0],a.y=h[1]+T,v=C[0]<0?"right":"left",a.originX=-y*z,a.originY=-T;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=S[0],a.y=S[1]+T,v="center",a.originY=-T;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-y*z+p[0],a.y=p[1]+T,v=C[0]>=0?"right":"left",a.originX=y*z,a.originY=-T}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||g,align:a.__align||v})}}}function d(D,I){var A=D.__specifiedRotation;if(null==A){var k=u.tangentAt(I);D.attr("rotation",(1===I?-1:1)*Math.PI/2-Math.atan2(k[1],k[0]))}else D.attr("rotation",A)}},e}(ft);const Ky=O$;var E$=function(){function n(e){this.group=new ft,this._LineCtor=e||Ky}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this,r=i.group,a=i._lineData;i._lineData=e,a||r.removeAll();var o=JM(e);e.diff(a).add(function(s){t._doAdd(e,s,o)}).update(function(s,u){t._doUpdate(a,e,u,s,o)}).remove(function(s){r.remove(a.getItemGraphicEl(s))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=JM(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){function i(s){!s.isGroup&&!function L$(n){return n.animators&&n.animators.length>0}(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=e.start;r<e.end;r++)if(Qy(t.getItemLayout(r))){var o=new this._LineCtor(t,r,this._seriesScope);o.traverse(i),this.group.add(o),t.setItemGraphicEl(r,o),this._progressiveEls.push(o)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){Jr(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,i){if(Qy(e.getItemLayout(t))){var a=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,a),this.group.add(a)}},n.prototype._doUpdate=function(e,t,i,r,a){var o=e.getItemGraphicEl(i);Qy(t.getItemLayout(r))?(o?o.updateData(t,r,a):o=new this._LineCtor(t,r,a),t.setItemGraphicEl(r,o),this.group.add(o)):this.group.remove(o)},n}();function JM(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Oe(e)}}function tI(n){return isNaN(n[0])||isNaN(n[1])}function Qy(n){return n&&!tI(n[0])&&!tI(n[1])}const Jy=E$;var t0=[],e0=[],n0=[],Xs=Ge,r0=Ta,eI=Math.abs;function nI(n,e,t){for(var s,i=n[0],r=n[1],a=n[2],o=1/0,u=t*t,c=.1,h=.1;h<=.9;h+=.1)t0[0]=Xs(i[0],r[0],a[0],h),t0[1]=Xs(i[1],r[1],a[1],h),(p=eI(r0(t0,e)-u))<o&&(o=p,s=h);for(var f=0;f<32;f++){var d=s+c;e0[0]=Xs(i[0],r[0],a[0],s),e0[1]=Xs(i[1],r[1],a[1],s),n0[0]=Xs(i[0],r[0],a[0],d),n0[1]=Xs(i[1],r[1],a[1],d);var p=r0(e0,e)-u;if(eI(p)<.01)break;var v=r0(n0,e)-u;c/=2,p<0?v>=0?s+=c:s-=c:v>=0?s-=c:s+=c}return s}function a0(n,e){var t=[],i=wl,r=[[],[],[]],a=[[],[]],o=[];e/=2,n.eachEdge(function(s,u){var c=s.getLayout(),h=s.getVisual("fromSymbol"),p=s.getVisual("toSymbol");c.__original||(c.__original=[ar(c[0]),ar(c[1])],c[2]&&c.__original.push(ar(c[2])));var f=c.__original;if(null!=c[2]){if(un(r[0],f[0]),un(r[1],f[2]),un(r[2],f[1]),h&&"none"!==h){var d=nc(s.node1),v=nI(r,f[0],d*e);i(r[0][0],r[1][0],r[2][0],v,t),r[0][0]=t[3],r[1][0]=t[4],i(r[0][1],r[1][1],r[2][1],v,t),r[0][1]=t[3],r[1][1]=t[4]}p&&"none"!==p&&(d=nc(s.node2),v=nI(r,f[1],d*e),i(r[0][0],r[1][0],r[2][0],v,t),r[1][0]=t[1],r[2][0]=t[2],i(r[0][1],r[1][1],r[2][1],v,t),r[1][1]=t[1],r[2][1]=t[2]),un(c[0],r[0]),un(c[1],r[2]),un(c[2],r[1])}else un(a[0],f[0]),un(a[1],f[1]),wa(o,a[1],a[0]),Zo(o,o),h&&"none"!==h&&(d=nc(s.node1),Id(a[0],a[0],o,d*e)),p&&"none"!==p&&(d=nc(s.node2),Id(a[1],a[1],o,-d*e)),un(c[0],a[0]),un(c[1],a[1])})}function iI(n){return"view"===n.type}var B$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(t,i){var r=new Pu,a=new Jy,o=this.group;this._controller=new Xu(i.getZr()),this._controllerHost={target:o},o.add(r.group),o.add(a.group),this._symbolDraw=r,this._lineDraw=a,this._firstRender=!0},e.prototype.render=function(t,i,r){var a=this,o=t.coordinateSystem;this._model=t;var s=this._symbolDraw,u=this._lineDraw,c=this.group;if(iI(o)){var h={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?c.attr(h):Gt(c,h,t)}a0(t.getGraph(),ec(t));var p=t.getData();s.updateData(p);var f=t.getEdgeData();u.updateData(f),this._updateNodeAndLinkScale(),this._updateController(t,i,r),clearTimeout(this._layoutTimeout);var d=t.forceLayout,v=t.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,v);var g=t.get("layout");p.graph.eachNode(function(b){var C=b.dataIndex,x=b.getGraphicEl(),S=b.getModel();if(x){x.off("drag").off("dragend");var z=S.get("draggable");z&&x.on("drag",function(T){switch(g){case"force":d.warmUp(),!a._layouting&&a._startForceLayoutIteration(d,v),d.setFixed(C),p.setItemLayout(C,[x.x,x.y]);break;case"circular":p.setItemLayout(C,[x.x,x.y]),b.setLayout({fixed:!0},!0),Wy(t,"symbolSize",b,[T.offsetX,T.offsetY]),a.updateLayout(t);break;default:p.setItemLayout(C,[x.x,x.y]),jy(t.getGraph(),t),a.updateLayout(t)}}).on("dragend",function(){d&&d.setUnfixed(C)}),x.setDraggable(z,!!S.get("cursor")),"adjacency"===S.get(["emphasis","focus"])&&(dt(x).focus=b.getAdjacentDataIndices())}}),p.graph.eachEdge(function(b){var C=b.getGraphicEl(),x=b.getModel().get(["emphasis","focus"]);C&&"adjacency"===x&&(dt(C).focus={edge:[b.dataIndex],node:[b.node1.dataIndex,b.node2.dataIndex]})});var m="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),y=p.getLayout("cx"),_=p.getLayout("cy");p.graph.eachNode(function(b){UM(b,m,y,_)}),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,i){var r=this;!function a(){t.step(function(o){r.updateLayout(r._model),(r._layouting=!o)&&(i?r._layoutTimeout=setTimeout(a,16):a())})}()},e.prototype._updateController=function(t,i,r){var a=this,o=this._controller,s=this._controllerHost,u=this.group;o.setPointerChecker(function(c,h,p){var f=u.getBoundingRect();return f.applyTransform(u.transform),f.contain(h,p)&&!ef(c,r,t)}),iI(t.coordinateSystem)?(o.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(c){my(s,c.dx,c.dy),r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){yy(s,c.scale,c.originX,c.originY),r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),a._updateNodeAndLinkScale(),a0(t.getGraph(),ec(t)),a._lineDraw.updateLayout(),r.updateLabelLayout()})):o.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,i=t.getData(),r=ec(t);i.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(r)})},e.prototype.updateLayout=function(t){a0(t.getGraph(),ec(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(ne);const V$=B$;function js(n){return"_EC_"+n}var F$=function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){var i=this._nodesMap;if(!i[js(e=null==e?""+t:""+e)]){var r=new Po(e,t);return r.hostGraph=this,this.nodes.push(r),i[js(e)]=r,r}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[js(e)]},n.prototype.addEdge=function(e,t,i){var r=this._nodesMap,a=this._edgesMap;if(Bt(e)&&(e=this.nodes[e]),Bt(t)&&(t=this.nodes[t]),e instanceof Po||(e=r[js(e)]),t instanceof Po||(t=r[js(t)]),e&&t){var o=e.id+"-"+t.id,s=new rI(e,t,i);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),a[o]=s,s}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof Po&&(e=e.id),t instanceof Po&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var i=this.nodes,r=i.length,a=0;a<r;a++)i[a].dataIndex>=0&&e.call(t,i[a],a)},n.prototype.eachEdge=function(e,t){for(var i=this.edges,r=i.length,a=0;a<r;a++)i[a].dataIndex>=0&&i[a].node1.dataIndex>=0&&i[a].node2.dataIndex>=0&&e.call(t,i[a],a)},n.prototype.breadthFirstTraverse=function(e,t,i,r){if(t instanceof Po||(t=this._nodesMap[js(t)]),t){for(var a="out"===i?"outEdges":"in"===i?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(r,t,null))for(var s=[t];s.length;){var u=s.shift(),c=u[a];for(o=0;o<c.length;o++){var h=c[o],p=h.node1===u?h.node2:h.node1;if(!p.__visited){if(e.call(r,p,u))return;s.push(p),p.__visited=!0}}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,r=this.edges,a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(a=0,o=e.count();a<o;a++)i[e.getRawIndex(a)].dataIndex=a;for(t.filterSelf(function(s){var u=r[t.getRawIndex(s)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0}),a=0,o=r.length;a<o;a++)r[a].dataIndex=-1;for(a=0,o=t.count();a<o;a++)r[t.getRawIndex(a)].dataIndex=a},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,i=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(r=0;r<i.length;r++){var a=i[r];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},n}(),Po=function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},n.prototype.getTrajectoryDataIndices=function(){for(var e=nt(),t=nt(),i=0;i<this.edges.length;i++){var r=this.edges[i];if(!(r.dataIndex<0)){e.set(r.dataIndex,!0);for(var a=[r.node1],o=[r.node2],s=0;s<a.length;){var u=a[s];s++,t.set(u.dataIndex,!0);for(var c=0;c<u.inEdges.length;c++)e.set(u.inEdges[c].dataIndex,!0),a.push(u.inEdges[c].node1)}for(s=0;s<o.length;){var h=o[s];for(s++,t.set(h.dataIndex,!0),c=0;c<h.outEdges.length;c++)e.set(h.outEdges[c].dataIndex,!0),o.push(h.outEdges[c].node2)}}}return{edge:e.keys(),node:t.keys()}},n}(),rI=function(){function n(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=i??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var e=nt(),t=nt();e.set(this.dataIndex,!0);for(var i=[this.node1],r=[this.node2],a=0;a<i.length;){var o=i[a];a++,t.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)e.set(o.inEdges[s].dataIndex,!0),i.push(o.inEdges[s].node1)}for(a=0;a<r.length;){var u=r[a];for(a++,t.set(u.dataIndex,!0),s=0;s<u.outEdges.length;s++)e.set(u.outEdges[s].dataIndex,!0),r.push(u.outEdges[s].node2)}return{edge:e.keys(),node:t.keys()}},n}();function aI(n,e){return{getValue:function(t){var i=this[n][e];return i.getStore().get(i.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,i){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,i)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,i){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,i)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}Te(Po,aI("hostGraph","data")),Te(rI,aI("hostGraph","edgeData"));const G$=F$;function oI(n,e,t,i,r){for(var a=new G$(i),o=0;o<n.length;o++)a.addNode(Fe(n[o].id,n[o].name,o),o);var s=[],u=[],c=0;for(o=0;o<e.length;o++){var h=e[o],p=h.source,f=h.target;a.addEdge(p,f,c)&&(u.push(h),s.push(Fe(Ae(h.id,null),p+" > "+f)),c++)}var v,d=t.get("coordinateSystem");if("cartesian2d"===d||"polar"===d)v=_r(n,t);else{var g=eu.get(d),m=g&&g.dimensions||[];zt(m,"value")<0&&m.concat(["value"]);var y=Os(n,{coordDimensions:m,encodeDefine:t.getEncode()}).dimensions;(v=new vn(y,t)).initData(n)}var _=new vn(["value"],t);return _.initData(u,s),r&&r(v,_),CM({mainData:v,struct:a,structAttr:"graph",datas:{node:v,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var H$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return B(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new Eu(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Ea(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,i){var r=t.edges||t.links||[],a=t.data||t.nodes||[],o=this;if(a&&r){!function x$(n){df(n)&&(n.__curvenessList=[],n.__edgeMap={},XM(n))}(this);var s=oI(a,r,this,!0,function u(c,h){c.wrapMethod("getItemModel",function(v){var y=o._categoriesModels[v.getShallow("category")];return y&&(y.parentModel=v.parentModel,v.parentModel=y),v});var p=ee.prototype.getModel;function f(v,g){var m=p.call(this,v,g);return m.resolveParentPath=d,m}function d(v){if(v&&("label"===v[0]||"label"===v[1])){var g=v.slice();return"label"===v[0]?g[0]="edgeLabel":"label"===v[1]&&(g[1]="edgeLabel"),g}return v}h.wrapMethod("getItemModel",function(v){return v.resolveParentPath=d,v.getModel=f,v})});return M(s.edges,function(c){!function z$(n,e,t,i){if(df(t)){var r=tc(n,e,t),a=t.__edgeMap,o=a[jM(r)];a[r]&&!o?a[r].isForward=!0:o&&a[r]&&(o.isForward=!0,a[r].isForward=!1),a[r]=a[r]||[],a[r].push(i)}}(c.node1,c.node2,this,c.dataIndex)},this),s.data}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,i,r){if("edge"===r){var a=this.getData(),o=this.getDataParams(t,r),s=a.graph.getEdgeByIndex(t),u=a.getName(s.node1.dataIndex),c=a.getName(s.node2.dataIndex),h=[];return null!=u&&h.push(u),null!=c&&h.push(c),Ee("nameValue",{name:h.join(" > "),value:o.value,noValue:null==o.value})}return hz({series:this,dataIndex:t,multipleSeries:i})},e.prototype._updateCategoriesData=function(){var t=X(this.option.categories||[],function(r){return null!=r.value?r:F({value:0},r)}),i=new vn(["value"],this);i.initData(t),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(ce);const X$=H$;var j$={type:"graphRoam",event:"graphRoam",update:"none"},W$=function(){return function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}}(),U$=function(n){function e(t){var i=n.call(this,t)||this;return i.type="pointer",i}return B(e,n),e.prototype.getDefaultShape=function(){return new W$},e.prototype.buildPath=function(t,i){var r=Math.cos,a=Math.sin,o=i.r,s=i.width,u=i.angle,c=i.x-r(u)*s*(s>=o/3?1:2),h=i.y-a(u)*s*(s>=o/3?1:2);u=i.angle-Math.PI/2,t.moveTo(c,h),t.lineTo(i.x+r(u)*s,i.y+a(u)*s),t.lineTo(i.x+r(i.angle)*o,i.y+a(i.angle)*o),t.lineTo(i.x-r(u)*s,i.y-a(u)*s),t.lineTo(c,h)},e}(It);const $$=U$;function vf(n,e){var t=null==n?"":n+"";return e&&(Q(e)?t=e.replace("{value}",t):at(e)&&(t=e(n))),t}var q$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),o=function Z$(n,e){var t=n.get("center"),i=e.getWidth(),r=e.getHeight(),a=Math.min(i,r);return{cx:q(t[0],e.getWidth()),cy:q(t[1],e.getHeight()),r:q(n.get("radius"),a/2)}}(t,r);this._renderMain(t,i,r,a,o),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,i,r,a,o){var s=this.group,u=t.get("clockwise"),c=-t.get("startAngle")/180*Math.PI,h=-t.get("endAngle")/180*Math.PI,p=t.getModel("axisLine"),d=p.get("roundCap")?Vp:wn,v=p.get("show"),g=p.getModel("lineStyle"),m=g.get("width"),y=[c,h];Wv(y,!u);for(var _=(h=y[1])-(c=y[0]),b=c,C=[],x=0;v&&x<a.length;x++){var z=new d({shape:{startAngle:b,endAngle:h=c+_*Math.min(Math.max(a[x][0],0),1),cx:o.cx,cy:o.cy,clockwise:u,r0:o.r-m,r:o.r},silent:!0});z.setStyle({fill:a[x][1]}),z.setStyle(g.getLineStyle(["color","width"])),C.push(z),b=h}C.reverse(),M(C,function(T){return s.add(T)});var w=function(T){if(T<=0)return a[0][1];var D;for(D=0;D<a.length;D++)if(a[D][0]>=T&&(0===D?0:a[D-1][0])<T)return a[D][1];return a[D-1][1]};this._renderTicks(t,i,r,w,o,c,h,u,m),this._renderTitleAndDetail(t,i,r,w,o),this._renderAnchor(t,o),this._renderPointer(t,i,r,w,o,c,h,u,m)},e.prototype._renderTicks=function(t,i,r,a,o,s,u,c,h){for(var P,N,p=this.group,f=o.cx,d=o.cy,v=o.r,g=+t.get("min"),m=+t.get("max"),y=t.getModel("splitLine"),_=t.getModel("axisTick"),b=t.getModel("axisLabel"),C=t.get("splitNumber"),x=_.get("splitNumber"),S=q(y.get("length"),v),z=q(_.get("length"),v),w=s,T=(u-s)/C,D=T/x,I=y.getModel("lineStyle").getLineStyle(),A=_.getModel("lineStyle").getLineStyle(),k=y.get("distance"),O=0;O<=C;O++){if(P=Math.cos(w),N=Math.sin(w),y.get("show")){var E=new He({shape:{x1:P*(v-(L=k?k+h:h))+f,y1:N*(v-L)+d,x2:P*(v-S-L)+f,y2:N*(v-S-L)+d},style:I,silent:!0});"auto"===I.stroke&&E.setStyle({stroke:a(O/C)}),p.add(E)}if(b.get("show")){var L=b.get("distance")+k,V=vf(_e(O/C*(m-g)+g),b.get("formatter")),j=a(O/C),$=P*(v-S-L)+f,it=N*(v-S-L)+d,ot=b.get("rotate"),st=0;"radial"===ot?(st=-w+2*Math.PI)>Math.PI/2&&(st+=Math.PI):"tangential"===ot?st=-w-Math.PI/2:Bt(ot)&&(st=ot*Math.PI/180),p.add(new Vt(0===st?{style:te(b,{text:V,x:$,y:it,verticalAlign:N<-.8?"top":N>.8?"bottom":"middle",align:P<-.4?"left":P>.4?"right":"center"},{inheritColor:j}),silent:!0}:{style:te(b,{text:V,x:$,y:it,verticalAlign:"middle",align:"center"},{inheritColor:j}),silent:!0,originX:$,originY:it,rotation:st}))}if(_.get("show")&&O!==C){L=(L=_.get("distance"))?L+h:h;for(var Tt=0;Tt<=x;Tt++){P=Math.cos(w),N=Math.sin(w);var kt=new He({shape:{x1:P*(v-L)+f,y1:N*(v-L)+d,x2:P*(v-z-L)+f,y2:N*(v-z-L)+d},silent:!0,style:A});"auto"===A.stroke&&kt.setStyle({stroke:a((O+Tt/x)/C)}),p.add(kt),w+=D}w-=D}else w+=T}},e.prototype._renderPointer=function(t,i,r,a,o,s,u,c,h){var p=this.group,f=this._data,d=this._progressEls,v=[],g=t.get(["pointer","show"]),m=t.getModel("progress"),y=m.get("show"),_=t.getData(),b=_.mapDimension("value"),C=+t.get("min"),x=+t.get("max"),S=[C,x],z=[s,u];function w(D,I){var $,k=_.getItemModel(D).getModel("pointer"),P=q(k.get("width"),o.r),N=q(k.get("length"),o.r),O=t.get(["pointer","icon"]),L=k.get("offsetCenter"),E=q(L[0],o.r),V=q(L[1],o.r),j=k.get("keepAspect");return($=O?Ie(O,E-P/2,V-N,P,N,null,j):new $$({shape:{angle:-Math.PI/2,width:P,r:N,x:E,y:V}})).rotation=-(I+Math.PI/2),$.x=o.cx,$.y=o.cy,$}function T(D,I){var k=m.get("roundCap")?Vp:wn,P=m.get("overlap"),N=P?m.get("width"):h/_.count(),E=new k({shape:{startAngle:s,endAngle:I,cx:o.cx,cy:o.cy,clockwise:c,r0:P?o.r-N:o.r-(D+1)*N,r:P?o.r:o.r-D*N}});return P&&(E.z2=x-_.get(b,D)%x),E}(y||g)&&(_.diff(f).add(function(D){var I=_.get(b,D);if(g){var A=w(D,s);le(A,{rotation:-((isNaN(+I)?z[0]:Yt(I,S,z,!0))+Math.PI/2)},t),p.add(A),_.setItemGraphicEl(D,A)}if(y){var k=T(D,s),P=m.get("clip");le(k,{shape:{endAngle:Yt(I,S,z,P)}},t),p.add(k),Zv(t.seriesIndex,_.dataType,D,k),v[D]=k}}).update(function(D,I){var A=_.get(b,D);if(g){var k=f.getItemGraphicEl(I),P=k?k.rotation:s,N=w(D,P);N.rotation=P,Gt(N,{rotation:-((isNaN(+A)?z[0]:Yt(A,S,z,!0))+Math.PI/2)},t),p.add(N),_.setItemGraphicEl(D,N)}if(y){var O=d[I],E=T(D,O?O.shape.endAngle:s),V=m.get("clip");Gt(E,{shape:{endAngle:Yt(A,S,z,V)}},t),p.add(E),Zv(t.seriesIndex,_.dataType,D,E),v[D]=E}}).execute(),_.each(function(D){var I=_.getItemModel(D),A=I.getModel("emphasis"),k=A.get("focus"),P=A.get("blurScope"),N=A.get("disabled");if(g){var O=_.getItemGraphicEl(D),L=_.getItemVisual(D,"style"),E=L.fill;if(O instanceof Ye){var V=O.style;O.useStyle(F({image:V.image,x:V.x,y:V.y,width:V.width,height:V.height},L))}else O.useStyle(L),"pointer"!==O.type&&O.setColor(E);O.setStyle(I.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===O.style.fill&&O.setStyle("fill",a(Yt(_.get(b,D),S,[0,1],!0))),O.z2EmphasisLift=0,We(O,I),fe(O,k,P,N)}if(y){var j=v[D];j.useStyle(_.getItemVisual(D,"style")),j.setStyle(I.getModel(["progress","itemStyle"]).getItemStyle()),j.z2EmphasisLift=0,We(j,I),fe(j,k,P,N)}}),this._progressEls=v)},e.prototype._renderAnchor=function(t,i){var r=t.getModel("anchor");if(r.get("show")){var o=r.get("size"),s=r.get("icon"),u=r.get("offsetCenter"),c=r.get("keepAspect"),h=Ie(s,i.cx-o/2+q(u[0],i.r),i.cy-o/2+q(u[1],i.r),o,o,null,c);h.z2=r.get("showAbove")?1:0,h.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(h)}},e.prototype._renderTitleAndDetail=function(t,i,r,a,o){var s=this,u=t.getData(),c=u.mapDimension("value"),h=+t.get("min"),p=+t.get("max"),f=new ft,d=[],v=[],g=t.isAnimationEnabled(),m=t.get(["pointer","showAbove"]);u.diff(this._data).add(function(y){d[y]=new Vt({silent:!0}),v[y]=new Vt({silent:!0})}).update(function(y,_){d[y]=s._titleEls[_],v[y]=s._detailEls[_]}).execute(),u.each(function(y){var _=u.getItemModel(y),b=u.get(c,y),C=new ft,x=a(Yt(b,[h,p],[0,1],!0)),S=_.getModel("title");if(S.get("show")){var z=S.get("offsetCenter"),w=o.cx+q(z[0],o.r),T=o.cy+q(z[1],o.r);(D=d[y]).attr({z2:m?0:2,style:te(S,{x:w,y:T,text:u.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:x})}),C.add(D)}var I=_.getModel("detail");if(I.get("show")){var A=I.get("offsetCenter"),k=o.cx+q(A[0],o.r),P=o.cy+q(A[1],o.r),N=q(I.get("width"),o.r),O=q(I.get("height"),o.r),L=t.get(["progress","show"])?u.getItemVisual(y,"style").fill:x,D=v[y],E=I.get("formatter");D.attr({z2:m?0:2,style:te(I,{x:k,y:P,text:vf(b,E),width:isNaN(N)?null:N,height:isNaN(O)?null:O,align:"center",verticalAlign:"middle"},{inheritColor:L})}),ES(D,{normal:I},b,function(j){return vf(j,E)}),g&&LS(D,y,u,t,{getFormattedLabel:function(j,$,it,ot,st,Tt){return vf(Tt?Tt.interpolatedValue:b,E)}}),C.add(D)}f.add(C)}),this.group.add(f),this._titleEls=d,this._detailEls=v},e.type="gauge",e}(ne);const K$=q$;var Q$=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return B(e,n),e.prototype.getInitialData=function(t,i){return Bs(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(ce);const J$=Q$;var e9=["itemStyle","opacity"],n9=function(n){function e(t,i){var r=n.call(this)||this,a=r,o=new Dn,s=new Vt;return a.setTextContent(s),r.setTextGuideLine(o),r.updateData(t,i,!0),r}return B(e,n),e.prototype.updateData=function(t,i,r){var a=this,o=t.hostModel,s=t.getItemModel(i),u=t.getItemLayout(i),c=s.getModel("emphasis"),h=s.get(e9);h=h??1,r||vi(a),a.useStyle(t.getItemVisual(i,"style")),a.style.lineJoin="round",r?(a.setShape({points:u.points}),a.style.opacity=0,le(a,{style:{opacity:h}},o,i)):Gt(a,{style:{opacity:h},shape:{points:u.points}},o,i),We(a,s),this._updateLabel(t,i),fe(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,i){var r=this,a=this.getTextGuideLine(),o=r.getTextContent(),s=t.hostModel,u=t.getItemModel(i),h=t.getItemLayout(i).label,p=t.getItemVisual(i,"style"),f=p.fill;Ue(o,Oe(u),{labelFetcher:t.hostModel,labelDataIndex:i,defaultOpacity:p.opacity,defaultText:t.getName(i)},{normal:{align:h.textAlign,verticalAlign:h.verticalAlign}}),r.setTextConfig({local:!0,inside:!!h.inside,insideStroke:f,outsideFill:f});var d=h.linePoints;a.setShape({points:d}),r.textGuideLineConfig={anchor:d?new _t(d[0][0],d[0][1]):null},Gt(o,{style:{x:h.x,y:h.y}},s,i),o.attr({rotation:h.rotation,originX:h.x,originY:h.y,z2:10}),zm(r,wm(u),{stroke:f})},e}(Tn),i9=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return B(e,n),e.prototype.render=function(t,i,r){var a=t.getData(),o=this._data,s=this.group;a.diff(o).add(function(u){var c=new n9(a,u);a.setItemGraphicEl(u,c),s.add(c)}).update(function(u,c){var h=o.getItemGraphicEl(c);h.updateData(a,u),s.add(h),a.setItemGraphicEl(u,h)}).remove(function(u){Zl(o.getItemGraphicEl(u),t,u)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(ne);const r9=i9;var a9=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Eu(J(this.getData,this),J(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,i){return Bs(this,{coordDimensions:["value"],encodeDefaulter:yt(Cg,this)})},e.prototype._defaultLabelLine=function(t){Ea(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var i=this.getData(),r=n.prototype.getDataParams.call(this,t),a=i.mapDimension("value"),o=i.getSum(a);return r.percent=o?+(i.get(a,t)/o*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(ce);const o9=a9;function c9(n,e){n.eachSeriesByType("funnel",function(t){var i=t.getData(),r=i.mapDimension("value"),a=t.get("sort"),o=function s9(n,e){return ke(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),s=t.get("orient"),u=o.width,c=o.height,h=function l9(n,e){for(var t=n.mapDimension("value"),i=n.mapArray(t,function(u){return u}),r=[],a="ascending"===e,o=0,s=n.count();o<s;o++)r[o]=o;return at(e)?r.sort(e):"none"!==e&&r.sort(function(u,c){return a?i[u]-i[c]:i[c]-i[u]}),r}(i,a),p=o.x,f=o.y,d="horizontal"===s?[q(t.get("minSize"),c),q(t.get("maxSize"),c)]:[q(t.get("minSize"),u),q(t.get("maxSize"),u)],v=i.getDataExtent(r),g=t.get("min"),m=t.get("max");null==g&&(g=Math.min(v[0],0)),null==m&&(m=v[1]);var y=t.get("funnelAlign"),_=t.get("gap"),C=(("horizontal"===s?u:c)-_*(i.count()-1))/i.count(),x=function(P,N){if("horizontal"===s){var L=Yt(i.get(r,P)||0,[g,m],d,!0),E=void 0;switch(y){case"top":E=f;break;case"center":E=f+(c-L)/2;break;case"bottom":E=f+(c-L)}return[[N,E],[N,E+L]]}var $,j=Yt(i.get(r,P)||0,[g,m],d,!0);switch(y){case"left":$=p;break;case"center":$=p+(u-j)/2;break;case"right":$=p+u-j}return[[$,N],[$+j,N]]};"ascending"===a&&(C=-C,_=-_,"horizontal"===s?p+=u:f+=c,h=h.reverse());for(var S=0;S<h.length;S++){var z=h[S],w=h[S+1],T=i.getItemModel(z);if("horizontal"===s){var D=T.get(["itemStyle","width"]);null==D?D=C:(D=q(D,u),"ascending"===a&&(D=-D));var I=x(z,p),A=x(w,p+D);p+=D+_,i.setItemLayout(z,{points:I.concat(A.slice().reverse())})}else{var k=T.get(["itemStyle","height"]);null==k?k=C:(k=q(k,c),"ascending"===a&&(k=-k)),I=x(z,f),A=x(w,f+k),f+=k+_,i.setItemLayout(z,{points:I.concat(A.slice().reverse())})}}!function u9(n){var t=n.hostModel.get("orient");n.each(function(i){var p,f,d,v,r=n.getItemModel(i),o=r.getModel("label").get("position"),s=r.getModel("labelLine"),u=n.getItemLayout(i),c=u.points,h="inner"===o||"inside"===o||"center"===o||"insideLeft"===o||"insideRight"===o;if(h)"insideLeft"===o?(f=(c[0][0]+c[3][0])/2+5,d=(c[0][1]+c[3][1])/2,p="left"):"insideRight"===o?(f=(c[1][0]+c[2][0])/2-5,d=(c[1][1]+c[2][1])/2,p="right"):(f=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,d=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,p="center"),v=[[f,d],[f,d]];else{var g=void 0,m=void 0,y=void 0,_=void 0,b=s.get("length");"left"===o?(m=(c[3][1]+c[0][1])/2,f=(y=(g=(c[3][0]+c[0][0])/2)-b)-5,p="right"):"right"===o?(m=(c[1][1]+c[2][1])/2,f=(y=(g=(c[1][0]+c[2][0])/2)+b)+5,p="left"):"top"===o?(g=(c[3][0]+c[0][0])/2,d=(_=(m=(c[3][1]+c[0][1])/2)-b)-5,p="center"):"bottom"===o?(g=(c[1][0]+c[2][0])/2,d=(_=(m=(c[1][1]+c[2][1])/2)+b)+5,p="center"):"rightTop"===o?(g="horizontal"===t?c[3][0]:c[1][0],m="horizontal"===t?c[3][1]:c[1][1],"horizontal"===t?(d=(_=m-b)-5,p="center"):(f=(y=g+b)+5,p="top")):"rightBottom"===o?(g=c[2][0],m=c[2][1],"horizontal"===t?(d=(_=m+b)+5,p="center"):(f=(y=g+b)+5,p="bottom")):"leftTop"===o?(g=c[0][0],m="horizontal"===t?c[0][1]:c[1][1],"horizontal"===t?(d=(_=m-b)-5,p="center"):(f=(y=g-b)-5,p="right")):"leftBottom"===o?(g="horizontal"===t?c[1][0]:c[3][0],m="horizontal"===t?c[1][1]:c[2][1],"horizontal"===t?(d=(_=m+b)+5,p="center"):(f=(y=g-b)-5,p="right")):(g=(c[1][0]+c[2][0])/2,m=(c[1][1]+c[2][1])/2,"horizontal"===t?(d=(_=m+b)+5,p="center"):(f=(y=g+b)+5,p="left")),"horizontal"===t?f=y=g:d=_=m,v=[[g,m],[y,_]]}u.label={linePoints:v,x:f,y:d,verticalAlign:"middle",textAlign:p,inside:h}})}(i)})}var f9=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new ft,t._initialized=!1,t}return B(e,n),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,i,r,a){this._progressiveEls=null;var o=this._dataGroup,s=t.getData(),u=this._data,c=t.coordinateSystem,h=c.dimensions,p=uI(t);if(s.diff(u).add(function f(m){o0(lI(s,o,m,h,c),s,m,p)}).update(function d(m,y){var _=u.getItemGraphicEl(y),b=sI(s,m,h,c);s.setItemGraphicEl(m,_),Gt(_,{shape:{points:b}},t,m),vi(_),o0(_,s,m,p)}).remove(function v(m){var y=u.getItemGraphicEl(m);o.remove(y)}).execute(),!this._initialized){this._initialized=!0;var g=function d9(n,e,t){var i=n.model,r=n.getRect(),a=new Ot({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),o="horizontal"===i.get("layout")?"width":"height";return a.setShape(o,0),le(a,{shape:{width:r.width,height:r.height}},e,t),a}(c,t,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(g)}this._data=s},e.prototype.incrementalPrepareRender=function(t,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,i,r){for(var a=i.getData(),o=i.coordinateSystem,s=o.dimensions,u=uI(i),c=this._progressiveEls=[],h=t.start;h<t.end;h++){var p=lI(a,this._dataGroup,h,s,o);p.incremental=!0,o0(p,a,h,u),c.push(p)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(ne);function sI(n,e,t,i){for(var r=[],a=0;a<t.length;a++){var o=t[a],s=n.get(n.mapDimension(o),e);v9(s,i.getAxis(o).type)||r.push(i.dataToPoint(s,o))}return r}function lI(n,e,t,i,r){var a=sI(n,t,i,r),o=new Dn({shape:{points:a},z2:10});return e.add(o),n.setItemGraphicEl(t,o),o}function uI(n){var e=n.get("smooth",!0);return!0===e&&(e=.3),yl(e=cr(e))&&(e=0),{smooth:e}}function o0(n,e,t,i){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=e.getItemModel(t),a=r.getModel("emphasis");We(n,r,"lineStyle"),fe(n,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function v9(n,e){return"category"===e?null==n:null==n||isNaN(n)}const g9=f9;var m9=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return B(e,n),e.prototype.getInitialData=function(t,i){return _r(null,this,{useEncodeDefaulter:J(y9,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var i=this.coordinateSystem,r=this.getData(),a=[];return i.eachActiveState(r,function(o,s){t===o&&a.push(r.getRawIndex(s))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(ce);function y9(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return M(e.dimensions,function(i){var r=function _9(n){return+n.replace("dim","")}(i);t[i]=r}),t}}const b9=m9;var C9=["lineStyle","opacity"],S9={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,a){t.eachActiveState(a,function(o,s){var u=i[o];if("normal"===o&&a.hasItemOption){var c=a.getItemModel(s).get(C9,!0);null!=c&&(u=c)}a.ensureUniqueItemVisual(s,"style").opacity=u},r.start,r.end)}}}};const x9=S9;function z9(n){(function w9(n){if(!n.parallel){var e=!1;M(n.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(n.parallel=[{}])}})(n),function T9(n){M(Zt(n.parallelAxis),function(t){if(ct(t)){var i=t.parallelIndex||0,r=Zt(n.parallel)[i];r&&r.parallelAxisDefault&&St(t,r.parallelAxisDefault,!1)}})}(n)}var M9=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){this._model=t,this._api=r,this._handlers||(this._handlers={},M(I9,function(a,o){r.getZr().on(o,this._handlers[o]=J(a,this))},this)),Ms(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,i){du(this,"_throttledDispatchExpand"),M(this._handlers,function(r,a){i.getZr().off(a,r)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(F({type:"parallelAxisExpand"},t))},e.type="parallel",e}(de),I9={mousedown:function(n){s0(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(s0(this,"click")&&e){var t=[n.offsetX,n.offsetY];if(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&s0(this,"mousemove")){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=t.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:t.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function s0(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}const A9=M9;var k9=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){t&&St(this.option,t,!0),this._initDimensions()},e.prototype.contains=function(t,i){var r=t.get("parallelIndex");return null!=r&&i.getComponent("parallel",r)===this},e.prototype.setAxisExpand=function(t){M(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){t.hasOwnProperty(i)&&(this.option[i]=t[i])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],i=this.parallelAxisIndex=[];M(Ut(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this),function(a){t.push("dim"+a.get("dim")),i.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(Ft);const P9=k9;var R9=function(n){function e(t,i,r,a,o){var s=n.call(this,t,i,r)||this;return s.type=a||"value",s.axisIndex=o,s}return B(e,n),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(zi);const N9=R9;function Ro(n,e,t,i,r,a){n=n||0;var o=t[1]-t[0];if(null!=r&&(r=Ys(r,[0,o])),null!=a&&(a=Math.max(a,r??0)),"all"===i){var s=Math.abs(e[1]-e[0]);s=Ys(s,[0,o]),r=a=Ys(s,[r,a]),i=0}e[0]=Ys(e[0],t),e[1]=Ys(e[1],t);var u=l0(e,i);e[i]+=n;var p,c=r||0,h=t.slice();return u.sign<0?h[0]+=c:h[1]-=c,e[i]=Ys(e[i],h),p=l0(e,i),null!=r&&(p.sign!==u.sign||p.span<r)&&(e[1-i]=e[i]+u.sign*r),p=l0(e,i),null!=a&&p.span>a&&(e[1-i]=e[i]+p.sign*a),e}function l0(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function Ys(n,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,n))}var u0=M,cI=Math.min,hI=Math.max,pI=Math.floor,O9=Math.ceil,fI=_e,E9=Math.PI,L9=function(){function n(e,t,i){this.type="parallel",this._axesMap=nt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var a=e.parallelAxisIndex;u0(e.dimensions,function(o,s){var u=a[s],c=t.getComponent("parallelAxis",u),h=this._axesMap.set(o,new N9(o,Kp(c),[0,0],c.get("type"),u));h.onBand="category"===h.type&&c.get("boundaryGap"),h.inverse=c.get("inverse"),c.axis=h,h.model=c,h.coordinateSystem=c.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,a=t.pixelDimIndex,o=e[1-a],s=e[a];return o>=i&&o<=i+t.axisLength&&s>=r&&s<=r+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var r=i.getData();u0(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(r,r.mapDimension(a)),Fs(o.scale,o.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=ke(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var v,e=this._model,t=this._rect,i=["x","y"],r=["width","height"],a=e.get("layout"),o="horizontal"===a?0:1,s=t[r[o]],u=[0,s],c=this.dimensions.length,h=gf(e.get("axisExpandWidth"),u),p=gf(e.get("axisExpandCount")||0,[0,c]),f=e.get("axisExpandable")&&c>3&&c>p&&p>1&&h>0&&s>0,d=e.get("axisExpandWindow");d?(v=gf(d[1]-d[0],u),d[1]=d[0]+v):(v=gf(h*(p-1),u),(d=[h*(e.get("axisExpandCenter")||pI(c/2))-v/2])[1]=d[0]+v);var m=(s-v)/(c-p);m<3&&(m=0);var y=[pI(fI(d[0]/h,1))+1,O9(fI(d[1]/h,1))-1];return{layout:a,pixelDimIndex:o,layoutBase:t[i[o]],layoutLength:s,axisBase:t[i[1-o]],axisLength:t[r[1-o]],axisExpandable:f,axisExpandWidth:h,axisCollapseWidth:m,axisExpandWindow:d,axisCount:c,winInnerIndices:y,axisExpandWindow0Pos:m/h*d[0]}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),a=r.layout;t.each(function(o){var s=[0,r.axisLength],u=o.inverse?1:0;o.setExtent(s[u],s[1-u])}),u0(i,function(o,s){var u=(r.axisExpandable?V9:B9)(s,r),c={horizontal:{x:u.position,y:r.axisLength},vertical:{x:0,y:u.position}},p=[c[a].x+e.x,c[a].y+e.y],f={horizontal:E9/2,vertical:0}[a],d=[1,0,0,1,0,0];Da(d,d,f),Ri(d,d,p),this._axesLayout[o]={position:p,rotation:f,transform:d,axisNameAvailableWidth:u.axisNameAvailableWidth,axisLabelShow:u.axisLabelShow,nameTruncateMaxWidth:u.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,i,r){null==i&&(i=0),null==r&&(r=e.count());var a=this._axesMap,o=this.dimensions,s=[],u=[];M(o,function(m){s.push(e.mapDimension(m)),u.push(a.get(m).model)});for(var c=this.hasAxisBrushed(),h=i;h<r;h++){var p=void 0;if(c){p="active";for(var f=e.getValues(s,h),d=0,v=o.length;d<v;d++)if("inactive"===u[d].getActiveState(f[d])){p="inactive";break}}else p="normal";t(p,h)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,r=0,a=e.length;r<a;r++)"normal"!==t.get(e[r]).model.getActiveState()&&(i=!0);return i},n.prototype.axisCoordToPoint=function(e,t){return _i([e,0],this._axesLayout[t].transform)},n.prototype.getAxisLayout=function(e){return ht(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,r=t.axisExpandWindow.slice(),a=r[1]-r[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var u,s=e[i]-t.layoutBase-t.axisExpandWindow0Pos,c="slide",h=t.axisCollapseWidth,p=this._model.get("axisExpandSlideTriggerArea"),f=null!=p[0];if(h)f&&h&&s<a*p[0]?(c="jump",u=s-a*p[2]):f&&h&&s>a*(1-p[0])?(c="jump",u=s-a*(1-p[2])):(u=s-a*p[1])>=0&&(u=s-a*(1-p[1]))<=0&&(u=0),(u*=t.axisExpandWidth/h)?Ro(u,r,o,"all"):c="none";else{var d=r[1]-r[0];(r=[hI(0,o[1]*s/d-d/2)])[1]=cI(o[1],r[0]+d),r[0]=r[1]-d}return{axisExpandWindow:r,behavior:c}},n}();function gf(n,e){return cI(hI(n,e[0]),e[1])}function B9(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function V9(n,e){var s,h,i=e.axisExpandWidth,a=e.axisCollapseWidth,o=e.winInnerIndices,u=a,c=!1;return n<o[0]?(s=n*a,h=a):n<=o[1]?(s=e.axisExpandWindow0Pos+n*i-e.axisExpandWindow[0],u=i,c=!0):(s=e.layoutLength-(e.axisCount-1-n)*a,h=a),{position:s,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:h}}const F9=L9;var H9={create:function G9(n,e){var t=[];return n.eachComponent("parallel",function(i,r){var a=new F9(i,n,e);a.name="parallel_"+r,a.resize(i,e),i.coordinateSystem=a,a.model=i,t.push(a)}),n.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var r=i.getReferringComponents("parallel",De).models[0];i.coordinateSystem=r.coordinateSystem}}),t}};const X9=H9;var dI=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return B(e,n),e.prototype.getAreaSelectStyle=function(){return Va([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var i=this.activeIntervals=ht(t);if(i)for(var r=i.length-1;r>=0;r--)Yn(i[r])},e.prototype.getActiveState=function(t){var i=this.activeIntervals;if(!i.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===i.length){var r=i[0];if(r[0]<=t&&t<=r[1])return"active"}else for(var a=0,o=i.length;a<o;a++)if(i[a][0]<=t&&t<=i[a][1])return"active";return"inactive"},e}(Ft);Te(dI,Lu);const vI=dI;var No=!0,ic=Math.min,Ws=Math.max,j9=Math.pow,Y9=1e4,W9=6,U9=6,gI="globalPan",$9={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Z9={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},mI={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},q9=0,K9=function(n){function e(t){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new ft,i._uid="brushController_"+q9++,M(rZ,function(r,a){this._handlers[a]=J(r,this)},i),i}return B(e,n),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var i=this._zr;this._enableGlobalPan||function tW(n,e,t){vy(n)[e]=t}(i,gI,this._uid),M(this._handlers,function(r,a){i.on(a,r)}),this._brushType=t.brushType,this._brushOption=St(ht(mI),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;(function eW(n,e,t){var i=vy(n);i[e]===t&&(i[e]=null)})(t,gI,this._uid),M(this._handlers,function(i,r){t.off(r,i)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var i=this._panels={};M(t,function(r){i[r.panelId]=ht(r)})}else this._panels=null;return this},e.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=i.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=X(t,function(f){return St(ht(mI),f,!0)});var r=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new yr(r,t,function c(f,d){return u(f.__brushOption,d)},u).add(h).update(h).remove(function p(f){r[f]!==s&&o.group.remove(r[f])}).execute(),this;function u(f,d){return(null!=f.id?f.id:"\0-brush-index-"+d)+"-"+f.brushType}function h(f,d){var v=t[f];if(null!=d&&r[d]===s)a[f]=r[d];else{var g=a[f]=null!=d?(r[d].__brushOption=v,r[d]):_I(o,yI(o,v));c0(o,g)}}},e.prototype.unmount=function(){return this.enableBrush(!1),f0(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Gn);function yI(n,e){var t=mf[e.brushType].createCover(n,e);return t.__brushOption=e,CI(t,e),n.group.add(t),t}function _I(n,e){var t=h0(e);return t.endCreating&&(t.endCreating(n,e),CI(e,e.__brushOption)),e}function bI(n,e){var t=e.__brushOption;h0(e).updateCoverShape(n,e,t.range,t)}function CI(n,e){var t=e.z;null==t&&(t=Y9),n.traverse(function(i){i.z=t,i.z2=t})}function c0(n,e){h0(e).updateCommon(n,e),bI(n,e)}function h0(n){return mf[n.__brushOption.brushType]}function p0(n,e,t){var i=n._panels;if(!i)return No;var r,a=n._transform;return M(i,function(o){o.isTargetByCursor(e,t,a)&&(r=o)}),r}function SI(n,e){var t=n._panels;if(!t)return No;var i=e.__brushOption.panelId;return null!=i?t[i]:No}function f0(n){var e=n._covers,t=e.length;return M(e,function(i){n.group.remove(i)},n),e.length=0,!!t}function Oo(n,e){var t=X(n._covers,function(i){var r=i.__brushOption,a=ht(r.range);return{brushType:r.brushType,panelId:r.panelId,range:a}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function xI(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function zI(n,e,t,i){var r=new ft;return r.add(new Ot({name:"main",style:v0(t),silent:!0,draggable:!0,cursor:"move",drift:yt(DI,n,e,r,["n","s","w","e"]),ondragend:yt(Oo,e,{isEnd:!0})})),M(i,function(a){r.add(new Ot({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:yt(DI,n,e,r,a),ondragend:yt(Oo,e,{isEnd:!0})}))}),r}function wI(n,e,t,i){var r=i.brushStyle.lineWidth||0,a=Ws(r,U9),o=t[0][0],s=t[1][0],u=o-r/2,c=s-r/2,h=t[0][1],p=t[1][1],f=h-a+r/2,d=p-a+r/2,v=h-o,g=p-s,m=v+r,y=g+r;xr(n,e,"main",o,s,v,g),i.transformable&&(xr(n,e,"w",u,c,a,y),xr(n,e,"e",f,c,a,y),xr(n,e,"n",u,c,m,a),xr(n,e,"s",u,d,m,a),xr(n,e,"nw",u,c,a,a),xr(n,e,"ne",f,c,a,a),xr(n,e,"sw",u,d,a,a),xr(n,e,"se",f,d,a,a))}function d0(n,e){var t=e.__brushOption,i=t.transformable,r=e.childAt(0);r.useStyle(v0(t)),r.attr({silent:!i,cursor:i?"move":"default"}),M([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=e.childOfName(a.join("")),s=1===a.length?g0(n,a[0]):function tZ(n,e){var t=[g0(n,e[0]),g0(n,e[1])];return("e"===t[0]||"w"===t[0])&&t.reverse(),t.join("")}(n,a);o&&o.attr({silent:!i,invisible:!i,cursor:i?Z9[s]+"-resize":null})})}function xr(n,e,t,i,r,a,o){var s=e.childOfName(t);s&&s.setShape(function nZ(n){var e=ic(n[0][0],n[1][0]),t=ic(n[0][1],n[1][1]);return{x:e,y:t,width:Ws(n[0][0],n[1][0])-e,height:Ws(n[0][1],n[1][1])-t}}(m0(n,e,[[i,r],[i+a,r+o]])))}function v0(n){return lt({strokeNoScale:!0},n.brushStyle)}function TI(n,e,t,i){var r=[ic(n,t),ic(e,i)],a=[Ws(n,t),Ws(e,i)];return[[r[0],a[0]],[r[1],a[1]]]}function g0(n,e){var r=hp({w:"left",e:"right",n:"top",s:"bottom"}[e],function J9(n){return lo(n.group)}(n));return{left:"w",right:"e",top:"n",bottom:"s"}[r]}function DI(n,e,t,i,r,a){var o=t.__brushOption,s=n.toRectRange(o.range),u=MI(e,r,a);M(i,function(c){var h=$9[c];s[h[0]][h[1]]+=u[h[0]]}),o.range=n.fromRectRange(TI(s[0][0],s[1][0],s[0][1],s[1][1])),c0(e,t),Oo(e,{isEnd:!1})}function eZ(n,e,t,i){var r=e.__brushOption.range,a=MI(n,t,i);M(r,function(o){o[0]+=a[0],o[1]+=a[1]}),c0(n,e),Oo(n,{isEnd:!1})}function MI(n,e,t){var i=n.group,r=i.transformCoordToLocal(e,t),a=i.transformCoordToLocal(0,0);return[r[0]-a[0],r[1]-a[1]]}function m0(n,e,t){var i=SI(n,e);return i&&i!==No?i.clipPath(t,n._transform):ht(t)}function y0(n){var e=n.event;e.preventDefault&&e.preventDefault()}function _0(n,e,t){return n.childOfName("main").contain(e,t)}function II(n,e,t,i){var s,r=n._creatingCover,a=n._creatingPanel,o=n._brushOption;if(n._track.push(t.slice()),function Q9(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],i=e[0],r=t[0]-i[0],a=t[1]-i[1];return j9(r*r+a*a,.5)>W9}(n)||r){if(a&&!r){"single"===o.brushMode&&f0(n);var u=ht(o);u.brushType=AI(u.brushType,a),u.panelId=a===No?null:a.panelId,r=n._creatingCover=yI(n,u),n._covers.push(r)}if(r){var c=mf[AI(n._brushType,a)];r.__brushOption.range=c.getCreatingRange(m0(n,r,n._track)),i&&(_I(n,r),c.updateCommon(n,r)),bI(n,r),s={isEnd:i}}}else i&&"single"===o.brushMode&&o.removeOnClick&&p0(n,e,t)&&f0(n)&&(s={isEnd:i,removeOnClick:!0});return s}function AI(n,e){return"auto"===n?e.defaultBrushType:n}var rZ={mousedown:function(n){if(this._dragging)kI(this,n);else if(!n.target||!n.target.draggable){y0(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=p0(this,n,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function iZ(n,e,t){if(n._brushType&&!function aZ(n,e,t){var i=n._zr;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}(n,e.offsetX,e.offsetY)){var i=n._zr,r=n._covers,a=p0(n,e,t);if(!n._dragging)for(var o=0;o<r.length;o++){var s=r[o].__brushOption;if(a&&(a===No||s.panelId===a.panelId)&&mf[s.brushType].contain(r[o],t[0],t[1]))return}a&&i.setCursorStyle("crosshair")}}(this,n,i),this._dragging){y0(n);var r=II(this,n,i,!1);r&&Oo(this,r)}},mouseup:function(n){kI(this,n)}};function kI(n,e){if(n._dragging){y0(e);var r=n.group.transformCoordToLocal(e.offsetX,e.offsetY),a=II(n,e,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&Oo(n,a)}}var mf={lineX:PI(0),lineY:PI(1),rect:{createCover:function(n,e){function t(i){return i}return zI({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=xI(n);return TI(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,i){wI(n,e,t,i)},updateCommon:d0,contain:_0},polygon:{createCover:function(n,e){var t=new ft;return t.add(new Dn({name:"main",style:v0(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new Tn({name:"main",draggable:!0,drift:yt(eZ,n,e),ondragend:yt(Oo,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,i){e.childAt(0).setShape({points:m0(n,e,t)})},updateCommon:d0,contain:_0}};function PI(n){return{createCover:function(e,t){return zI({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=xI(e);return[ic(t[0][n],t[1][n]),Ws(t[0][n],t[1][n])]},updateCoverShape:function(e,t,i,r){var a,o=SI(e,t);if(o!==No&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(n);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-n]]}var u=[i,a];n&&u.reverse(),wI(e,t,u,r)},updateCommon:d0,contain:_0}}const b0=K9;function RI(n){return n=C0(n),function(e){return Hz(e,n)}}function NI(n,e){return n=C0(n),function(t){var i=e??t,a=i?n.x:n.y;return[a,a+((i?n.width:n.height)||0)]}}function OI(n,e,t){var i=C0(n);return function(r,a){return i.contain(a[0],a[1])&&!ef(r,e,t)}}function C0(n){return xt.create(n)}var oZ=["axisLine","axisTickLabel","axisName"],sZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(t,i){n.prototype.init.apply(this,arguments),(this._brushController=new b0(i.getZr())).on("brush",J(this._onBrush,this))},e.prototype.render=function(t,i,r,a){if(!function lZ(n,e,t){return t&&"axisAreaSelect"===t.type&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}(t,i,a)){this.axisModel=t,this.api=r,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ft,this.group.add(this._axisGroup),t.get("show")){var s=function cZ(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}(t,i),u=s.coordinateSystem,c=t.getAreaSelectStyle(),h=c.width,d=F({strokeContainThreshold:h},u.getAxisLayout(t.axis.dim)),v=new Cr(t,d);M(oZ,v.add,v),this._axisGroup.add(v.getGroup()),this._refreshBrushController(d,c,t,s,h,r),hu(o,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,i,r,a,o,s){var u=r.axis.getExtent(),c=u[1]-u[0],h=Math.min(30,.1*Math.abs(c)),p=xt.create({x:u[0],y:-o/2,width:c,height:o});p.x-=h,p.width+=2*h,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:RI(p),isTargetByCursor:OI(p,s,a),getLinearBrushOtherExtent:NI(p,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(function uZ(n){var e=n.axis;return X(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}(r))},e.prototype._onBrush=function(t){var r=this.axisModel,a=r.axis,o=X(t.areas,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:o})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(de);const hZ=sZ;var pZ={type:"axisAreaSelect",event:"axisAreaSelected"},dZ={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function EI(n){n.registerComponentView(A9),n.registerComponentModel(P9),n.registerCoordinateSystem("parallel",X9),n.registerPreprocessor(z9),n.registerComponentModel(vI),n.registerComponentView(hZ),Vs(n,"parallel",vI,dZ),function fZ(n){n.registerAction(pZ,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(i){i.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(i){i.setAxisExpand(e)})})}(n)}var gZ=function(){return function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}}(),mZ=function(n){function e(t){return n.call(this,t)||this}return B(e,n),e.prototype.getDefaultShape=function(){return new gZ},e.prototype.buildPath=function(t,i){var r=i.extent;t.moveTo(i.x1,i.y1),t.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),"vertical"===i.orient?(t.lineTo(i.x2+r,i.y2),t.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(t.lineTo(i.x2,i.y2+r),t.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),t.closePath()},e.prototype.highlight=function(){dr(this)},e.prototype.downplay=function(){vr(this)},e}(It),yZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return B(e,n),e.prototype.render=function(t,i,r){var a=this,o=t.getGraph(),s=this.group,u=t.layoutInfo,c=u.width,h=u.height,p=t.getData(),f=t.getData("edge"),d=t.get("orient");this._model=t,s.removeAll(),s.x=u.x,s.y=u.y,o.eachEdge(function(v){var g=new mZ,m=dt(g);m.dataIndex=v.dataIndex,m.seriesIndex=t.seriesIndex,m.dataType="edge";var k,P,N,O,L,E,V,j,y=v.getModel(),_=y.getModel("lineStyle"),b=_.get("curveness"),C=v.node1.getLayout(),x=v.node1.getModel(),S=x.get("localX"),z=x.get("localY"),w=v.node2.getLayout(),T=v.node2.getModel(),D=T.get("localX"),I=T.get("localY"),A=v.getLayout();g.shape.extent=Math.max(1,A.dy),g.shape.orient=d,"vertical"===d?(L=k=(null!=S?S*c:C.x)+A.sy,E=(P=(null!=z?z*h:C.y)+C.dy)*(1-b)+(O=null!=I?I*h:w.y)*b,V=N=(null!=D?D*c:w.x)+A.ty,j=P*b+O*(1-b)):(L=(k=(null!=S?S*c:C.x)+C.dx)*(1-b)+(N=null!=D?D*c:w.x)*b,E=P=(null!=z?z*h:C.y)+A.sy,V=k*b+N*(1-b),j=O=(null!=I?I*h:w.y)+A.ty),g.setShape({x1:k,y1:P,x2:N,y2:O,cpx1:L,cpy1:E,cpx2:V,cpy2:j}),g.useStyle(_.getItemStyle()),LI(g.style,d,v);var $=""+y.get("value"),it=Oe(y,"edgeLabel");Ue(g,it,{labelFetcher:{getFormattedLabel:function(Tt,kt,Dt,pt,Mt,bt){return t.getFormattedLabel(Tt,kt,"edge",pt,Pi(Mt,it.normal&&it.normal.get("formatter"),$),bt)}},labelDataIndex:v.dataIndex,defaultText:$}),g.setTextConfig({position:"inside"});var ot=y.getModel("emphasis");We(g,y,"lineStyle",function(Tt){var kt=Tt.getItemStyle();return LI(kt,d,v),kt}),s.add(g),f.setItemGraphicEl(v.dataIndex,g);var st=ot.get("focus");fe(g,"adjacency"===st?v.getAdjacentDataIndices():"trajectory"===st?v.getTrajectoryDataIndices():st,ot.get("blurScope"),ot.get("disabled"))}),o.eachNode(function(v){var g=v.getLayout(),m=v.getModel(),y=m.get("localX"),_=m.get("localY"),b=m.getModel("emphasis"),C=new Ot({shape:{x:null!=y?y*c:g.x,y:null!=_?_*h:g.y,width:g.dx,height:g.dy},style:m.getModel("itemStyle").getItemStyle(),z2:10});Ue(C,Oe(m),{labelFetcher:{getFormattedLabel:function(S,z){return t.getFormattedLabel(S,z,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),C.disableLabelAnimation=!0,C.setStyle("fill",v.getVisual("color")),C.setStyle("decal",v.getVisual("style").decal),We(C,m),s.add(C),p.setItemGraphicEl(v.dataIndex,C),dt(C).dataType="node";var x=b.get("focus");fe(C,"adjacency"===x?v.getAdjacentDataIndices():"trajectory"===x?v.getTrajectoryDataIndices():x,b.get("blurScope"),b.get("disabled"))}),p.eachItemGraphicEl(function(v,g){p.getItemModel(g).get("draggable")&&(v.drift=function(y,_){a._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=_,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:p.getRawIndex(g),localX:this.shape.x/c,localY:this.shape.y/h})},v.ondragend=function(){a._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&t.isAnimationEnabled()&&s.setClipPath(function _Z(n,e,t){var i=new Ot({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return le(i,{shape:{width:n.width+20}},e,t),i}(s.getBoundingRect(),t,function(){s.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(ne);function LI(n,e,t){switch(n.fill){case"source":n.fill=t.node1.getVisual("color"),n.decal=t.node1.getVisual("style").decal;break;case"target":n.fill=t.node2.getVisual("color"),n.decal=t.node2.getVisual("style").decal;break;case"gradient":var i=t.node1.getVisual("color"),r=t.node2.getVisual("color");Q(i)&&Q(r)&&(n.fill=new cu(0,0,+("horizontal"===e),+("vertical"===e),[{color:i,offset:0},{color:r,offset:1}]))}}const bZ=yZ;var CZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.getInitialData=function(t,i){var r=t.edges||t.links,a=t.data||t.nodes,o=t.levels;this.levelModels=[];for(var s=this.levelModels,u=0;u<o.length;u++)null!=o[u].depth&&o[u].depth>=0&&(s[o[u].depth]=new ee(o[u],this,i));if(a&&r)return oI(a,r,this,!0,function h(p,f){p.wrapMethod("getItemModel",function(d,v){var g=d.parentModel,m=g.getData().getItemLayout(v);if(m){var _=g.levelModels[m.depth];_&&(d.parentModel=_)}return d}),f.wrapMethod("getItemModel",function(d,v){var g=d.parentModel,y=g.getGraph().getEdgeByIndex(v).node1.getLayout();if(y){var b=g.levelModels[y.depth];b&&(d.parentModel=b)}return d})}).data},e.prototype.setNodePosition=function(t,i){var a=(this.option.data||this.option.nodes)[t];a.localX=i[0],a.localY=i[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,i,r){function a(d){return isNaN(d)||null==d}if("edge"===r){var o=this.getDataParams(t,r),s=o.data,u=o.value;return Ee("nameValue",{name:s.source+" -- "+s.target,value:u,noValue:a(u)})}var p=this.getGraph().getNodeByIndex(t).getLayout().value,f=this.getDataParams(t,r).data.name;return Ee("nameValue",{name:null!=f?f+"":null,value:p,noValue:a(p)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,i){var r=n.prototype.getDataParams.call(this,t,i);if(null==r.value&&"node"===i){var o=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=o}return r},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(ce);const SZ=CZ;function xZ(n,e){n.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),a=function zZ(n,e){return ke(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=a;var o=a.width,s=a.height,u=t.getGraph(),c=u.nodes,h=u.edges;!function TZ(n){M(n,function(e){var t=ua(e.outEdges,yf),i=ua(e.inEdges,yf),r=e.getValue()||0,a=Math.max(t,i,r);e.setLayout({value:a},!0)})}(c),function wZ(n,e,t,i,r,a,o,s,u){(function DZ(n,e,t,i,r,a,o){for(var s=[],u=[],c=[],h=[],p=0,f=0;f<e.length;f++)s[f]=1;for(f=0;f<n.length;f++)u[f]=n[f].inEdges.length,0===u[f]&&c.push(n[f]);for(var d=-1;c.length;){for(var v=0;v<c.length;v++){var g=c[v],m=g.hostGraph.data.getRawDataItem(g.dataIndex),y=null!=m.depth&&m.depth>=0;y&&m.depth>d&&(d=m.depth),g.setLayout({depth:y?m.depth:p},!0),g.setLayout("vertical"===a?{dy:t}:{dx:t},!0);for(var _=0;_<g.outEdges.length;_++){var b=g.outEdges[_];s[e.indexOf(b)]=0;var x=b.node2;0==--u[n.indexOf(x)]&&h.indexOf(x)<0&&h.push(x)}}++p,c=h,h=[]}for(f=0;f<s.length;f++)if(1===s[f])throw new Error("Sankey is a DAG, the original data has cycle!");var z=d>p-1?d:p-1;o&&"left"!==o&&function MZ(n,e,t,i){if("right"===e){for(var r=[],a=n,o=0;a.length;){for(var s=0;s<a.length;s++){var u=a[s];u.setLayout({skNodeHeight:o},!0);for(var c=0;c<u.inEdges.length;c++){var h=u.inEdges[c];r.indexOf(h.node1)<0&&r.push(h.node1)}}a=r,r=[],++o}M(n,function(p){BI(p)||p.setLayout({depth:Math.max(0,i-p.getLayout().skNodeHeight)},!0)})}else"justify"===e&&function IZ(n,e){M(n,function(t){!BI(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}(n,i)}(n,o,0,z),function AZ(n,e,t){M(n,function(i){var r=i.getLayout().depth*e;i.setLayout("vertical"===t?{y:r}:{x:r},!0)})}(n,"vertical"===a?(r-t)/z:(i-t)/z,a)})(n,e,t,r,a,s,u),function kZ(n,e,t,i,r,a,o){var s=function PZ(n,e){var t=[],i="vertical"===e?"y":"x",r=Av(n,function(a){return a.getLayout()[i]});return r.keys.sort(function(a,o){return a-o}),M(r.keys,function(a){t.push(r.buckets.get(a))}),t}(n,o);(function RZ(n,e,t,i,r,a){var o=1/0;M(n,function(s){var u=s.length,c=0;M(s,function(p){c+=p.getLayout().value});var h="vertical"===a?(i-(u-1)*r)/c:(t-(u-1)*r)/c;h<o&&(o=h)}),M(n,function(s){M(s,function(u,c){var h=u.getLayout().value*o;"vertical"===a?(u.setLayout({x:c},!0),u.setLayout({dx:h},!0)):(u.setLayout({y:c},!0),u.setLayout({dy:h},!0))})}),M(e,function(s){var u=+s.getValue()*o;s.setLayout({dy:u},!0)})})(s,e,t,i,r,o),S0(s,r,t,i,o);for(var u=1;a>0;a--)NZ(s,u*=.99,o),S0(s,r,t,i,o),VZ(s,u,o),S0(s,r,t,i,o)}(n,e,a,r,i,o,s),function FZ(n,e){var t="vertical"===e?"x":"y";M(n,function(i){i.outEdges.sort(function(r,a){return r.node2.getLayout()[t]-a.node2.getLayout()[t]}),i.inEdges.sort(function(r,a){return r.node1.getLayout()[t]-a.node1.getLayout()[t]})}),M(n,function(i){var r=0,a=0;M(i.outEdges,function(o){o.setLayout({sy:r},!0),r+=o.getLayout().dy}),M(i.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}(n,s)}(c,h,i,r,o,s,0!==Ut(c,function(g){return 0===g.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function BI(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=e.depth&&e.depth>=0}function S0(n,e,t,i,r){var a="vertical"===r?"x":"y";M(n,function(o){o.sort(function(g,m){return g.getLayout()[a]-m.getLayout()[a]});for(var s,u,c,h=0,p=o.length,f="vertical"===r?"dx":"dy",d=0;d<p;d++)(c=h-(u=o[d]).getLayout()[a])>0&&(s=u.getLayout()[a]+c,u.setLayout("vertical"===r?{x:s}:{y:s},!0)),h=u.getLayout()[a]+u.getLayout()[f]+e;if((c=h-e-("vertical"===r?i:t))>0)for(s=u.getLayout()[a]-c,u.setLayout("vertical"===r?{x:s}:{y:s},!0),h=s,d=p-2;d>=0;--d)(c=(u=o[d]).getLayout()[a]+u.getLayout()[f]+e-h)>0&&(s=u.getLayout()[a]-c,u.setLayout("vertical"===r?{x:s}:{y:s},!0)),h=u.getLayout()[a]})}function NZ(n,e,t){M(n.slice().reverse(),function(i){M(i,function(r){if(r.outEdges.length){var a=ua(r.outEdges,OZ,t)/ua(r.outEdges,yf);if(isNaN(a)){var o=r.outEdges.length;a=o?ua(r.outEdges,EZ,t)/o:0}if("vertical"===t){var s=r.getLayout().x+(a-la(r,t))*e;r.setLayout({x:s},!0)}else{var u=r.getLayout().y+(a-la(r,t))*e;r.setLayout({y:u},!0)}}})})}function OZ(n,e){return la(n.node2,e)*n.getValue()}function EZ(n,e){return la(n.node2,e)}function LZ(n,e){return la(n.node1,e)*n.getValue()}function BZ(n,e){return la(n.node1,e)}function la(n,e){return"vertical"===e?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function yf(n){return n.getValue()}function ua(n,e,t){for(var i=0,r=n.length,a=-1;++a<r;){var o=+e(n[a],t);isNaN(o)||(i+=o)}return i}function VZ(n,e,t){M(n,function(i){M(i,function(r){if(r.inEdges.length){var a=ua(r.inEdges,LZ,t)/ua(r.inEdges,yf);if(isNaN(a)){var o=r.inEdges.length;a=o?ua(r.inEdges,BZ,t)/o:0}if("vertical"===t){var s=r.getLayout().x+(a-la(r,t))*e;r.setLayout({x:s},!0)}else{var u=r.getLayout().y+(a-la(r,t))*e;r.setLayout({y:u},!0)}}})})}function GZ(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),i=t.nodes,r=t.edges;if(i.length){var a=1/0,o=-1/0;M(i,function(s){var u=s.getLayout().value;u<a&&(a=u),u>o&&(o=u)}),M(i,function(s){var c=new Ze({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:e.get("color")}).mapValueToVisual(s.getLayout().value),h=s.getModel().get(["itemStyle","color"]);null!=h?(s.setVisual("color",h),s.setVisual("style",{fill:h})):(s.setVisual("color",c),s.setVisual("style",{fill:c}))})}r.length&&M(r,function(s){var u=s.getModel().get("lineStyle");s.setVisual("style",u)})})}var VI=function(){function n(){}return n.prototype.getInitialData=function(e,t){var i,u,r=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),o=r.get("type"),s=a.get("type");"category"===o?(e.layout="horizontal",i=r.getOrdinalMeta(),u=!0):"category"===s?(e.layout="vertical",i=a.getOrdinalMeta(),u=!0):e.layout=e.layout||"horizontal";var c=["x","y"],h="horizontal"===e.layout?0:1,p=this._baseAxisDim=c[h],f=c[1-h],d=[r,a],v=d[h].get("type"),g=d[1-h].get("type"),m=e.data;if(m&&u){var y=[];M(m,function(C,x){var S;H(C)?(S=C.slice(),C.unshift(x)):H(C.value)?((S=F({},C)).value=S.value.slice(),C.value.unshift(x)):S=C,y.push(S)}),e.data=y}var _=this.defaultValueDimensions,b=[{name:p,type:Np(v),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:Np(g),dimsDef:_.slice()}];return Bs(this,{coordDimensions:b,dimensionsCount:_.length+1,encodeDefaulter:yt(ux,b,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n}(),FI=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return B(e,n),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(ce);Te(FI,VI,!0);const XZ=FI;var jZ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){var a=t.getData(),o=this.group,s=this._data;this._data||o.removeAll();var u="horizontal"===t.get("layout")?1:0;a.diff(s).add(function(c){if(a.hasValue(c)){var p=GI(a.getItemLayout(c),a,c,u,!0);a.setItemGraphicEl(c,p),o.add(p)}}).update(function(c,h){var p=s.getItemGraphicEl(h);if(a.hasValue(c)){var f=a.getItemLayout(c);p?(vi(p),HI(f,p,a,c)):p=GI(f,a,c,u),o.add(p),a.setItemGraphicEl(c,p)}else o.remove(p)}).remove(function(c){var h=s.getItemGraphicEl(c);h&&o.remove(h)}).execute(),this._data=a},e.prototype.remove=function(t){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(a){a&&i.remove(a)})},e.type="boxplot",e}(ne),YZ=function(){return function n(){}}(),WZ=function(n){function e(t){var i=n.call(this,t)||this;return i.type="boxplotBoxPath",i}return B(e,n),e.prototype.getDefaultShape=function(){return new YZ},e.prototype.buildPath=function(t,i){var r=i.points,a=0;for(t.moveTo(r[a][0],r[a][1]),a++;a<4;a++)t.lineTo(r[a][0],r[a][1]);for(t.closePath();a<r.length;a++)t.moveTo(r[a][0],r[a][1]),a++,t.lineTo(r[a][0],r[a][1])},e}(It);function GI(n,e,t,i,r){var a=n.ends,o=new WZ({shape:{points:r?UZ(a,i,n):a}});return HI(n,o,e,t,r),o}function HI(n,e,t,i,r){(0,Pn[r?"initProps":"updateProps"])(e,{shape:{points:n.ends}},t.hostModel,i),e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=t.getItemModel(i),u=s.getModel("emphasis");We(e,s),fe(e,u.get("focus"),u.get("blurScope"),u.get("disabled"))}function UZ(n,e,t){return X(n,function(i){return(i=i.slice())[e]=t.initBaseline,i})}const $Z=jZ;var rc=M;function ZZ(n){var e=function qZ(n){var e=[],t=[];return n.eachSeriesByType("boxplot",function(i){var r=i.getBaseAxis(),a=zt(t,r);a<0&&(t[a=t.length]=r,e[a]={axis:r,seriesModels:[]}),e[a].seriesModels.push(i)}),e}(n);rc(e,function(t){var i=t.seriesModels;i.length&&(function KZ(n){var s,e=n.axis,t=n.seriesModels,i=t.length,r=n.boxWidthList=[],a=n.boxOffsetList=[],o=[];if("category"===e.type)s=e.getBandWidth();else{var u=0;rc(t,function(v){u=Math.max(u,v.getData().count())});var c=e.getExtent();s=Math.abs(c[1]-c[0])/u}rc(t,function(v){var g=v.get("boxWidth");H(g)||(g=[g,g]),o.push([q(g[0],s)||0,q(g[1],s)||0])});var h=.8*s-2,p=h/i*.3,f=(h-p*(i-1))/i,d=f/2-h/2;rc(t,function(v,g){a.push(d),d+=p+f,r.push(Math.min(Math.max(f,o[g][0]),o[g][1]))})}(t),rc(i,function(r,a){!function QZ(n,e,t){var i=n.coordinateSystem,r=n.getData(),a=t/2,o="horizontal"===n.get("layout")?0:1,s=1-o,u=["x","y"],c=r.mapDimension(u[o]),h=r.mapDimensionsAll(u[s]);if(!(null==c||h.length<5))for(var p=0;p<r.count();p++){var f=r.get(c,p),d=b(f,h[2],p),v=b(f,h[0],p),g=b(f,h[1],p),m=b(f,h[3],p),y=b(f,h[4],p),_=[];C(_,g,!1),C(_,m,!0),_.push(v,g,y,m),x(_,v),x(_,y),x(_,d),r.setItemLayout(p,{initBaseline:d[s],ends:_})}function b(S,z,w){var I,T=r.get(z,w),D=[];return D[o]=S,D[s]=T,isNaN(S)||isNaN(T)?I=[NaN,NaN]:(I=i.dataToPoint(D))[o]+=e,I}function C(S,z,w){var T=z.slice(),D=z.slice();T[o]+=a,D[o]-=a,w?S.push(T,D):S.push(D,T)}function x(S,z){var w=z.slice(),T=z.slice();w[o]-=a,T[o]+=a,S.push(w,T)}}(r,t.boxOffsetList[a],t.boxWidthList[a])}))})}var tq={type:"echarts:boxplot",transform:function(e){var t=e.upstream;t.sourceFormat!==Qe&&jt("");var r=function JZ(n,e){for(var t=[],i=[],r=(e=e||{}).boundIQR,a="none"===r||0===r,o=0;o<n.length;o++){var s=Yn(n[o].slice()),u=Dv(s,.25),c=Dv(s,.5),h=Dv(s,.75),p=s[0],f=s[s.length-1],d=(r??1.5)*(h-u),v=a?p:Math.max(p,u-d),g=a?f:Math.min(f,h+d),m=e.itemNameFormatter,y=at(m)?m({value:o}):Q(m)?m.replace("{value}",o+""):o+"";t.push([y,v,u,c,h,g]);for(var _=0;_<s.length;_++){var b=s[_];(b<v||b>g)&&i.push([y,b])}}return{boxData:t,outliers:i}}(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}},nq=["color","borderColor"],iq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,i,r){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,i,r,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,i):this._incrementalRenderNormal(t,i)},e.prototype.eachRendered=function(t){Jr(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(null==this._isLargeDraw||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t){var i=t.getData(),r=this._data,a=this.group,o=i.getLayout("isSimpleBox"),s=t.get("clip",!0),u=t.coordinateSystem,c=u.getArea&&u.getArea();this._data||a.removeAll(),i.diff(r).add(function(h){if(i.hasValue(h)){var p=i.getItemLayout(h);if(s&&XI(c,p))return;var f=x0(p,0,!0);le(f,{shape:{points:p.ends}},t,h),z0(f,i,h,o),a.add(f),i.setItemGraphicEl(h,f)}}).update(function(h,p){var f=r.getItemGraphicEl(p);if(i.hasValue(h)){var d=i.getItemLayout(h);s&&XI(c,d)?a.remove(f):(f?(Gt(f,{shape:{points:d.ends}},t,h),vi(f)):f=x0(d),z0(f,i,h,o),a.add(f),i.setItemGraphicEl(h,f))}else a.remove(f)}).remove(function(h){var p=r.getItemGraphicEl(h);p&&a.remove(p)}).execute(),this._data=i},e.prototype._renderLarge=function(t){this._clear(),jI(t,this.group);var i=t.get("clip",!0)?Ru(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,i){for(var o,r=i.getData(),a=r.getLayout("isSimpleBox");null!=(o=t.next());){var u=x0(r.getItemLayout(o));z0(u,r,o,a),u.incremental=!0,this.group.add(u),this._progressiveEls.push(u)}},e.prototype._incrementalRenderLarge=function(t,i){jI(i,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(ne),rq=function(){return function n(){}}(),aq=function(n){function e(t){var i=n.call(this,t)||this;return i.type="normalCandlestickBox",i}return B(e,n),e.prototype.getDefaultShape=function(){return new rq},e.prototype.buildPath=function(t,i){var r=i.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},e}(It);function x0(n,e,t){var i=n.ends;return new aq({shape:{points:t?oq(i,n):i},z2:100})}function XI(n,e){for(var t=!0,i=0;i<e.ends.length;i++)if(n.contain(e.ends[i][0],e.ends[i][1])){t=!1;break}return t}function z0(n,e,t,i){var r=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,We(n,r)}function oq(n,e){return X(n,function(t){return(t=t.slice())[1]=e.initBaseline,t})}var sq=function(){return function n(){}}(),w0=function(n){function e(t){var i=n.call(this,t)||this;return i.type="largeCandlestickBox",i}return B(e,n),e.prototype.getDefaultShape=function(){return new sq},e.prototype.buildPath=function(t,i){for(var r=i.points,a=0;a<r.length;)if(this.__sign===r[a++]){var o=r[a++];t.moveTo(o,r[a++]),t.lineTo(o,r[a++])}else a+=3},e}(It);function jI(n,e,t,i){var r=n.getData(),a=r.getLayout("largePoints"),o=new w0({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(o);var s=new w0({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var u=new w0({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(u),T0(1,o,n),T0(-1,s,n),T0(0,u,n),i&&(o.incremental=!0,s.incremental=!0),t&&t.push(o,s)}function T0(n,e,t,i){var r=t.get(["itemStyle",n>0?"borderColor":"borderColor0"])||t.get(["itemStyle",n>0?"color":"color0"]);0===n&&(r=t.get(["itemStyle","borderColorDoji"]));var a=t.getModel("itemStyle").getItemStyle(nq);e.useStyle(a),e.style.fill=null,e.style.stroke=r}const lq=iq;var YI=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return B(e,n),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,i,r){var a=i.getItemLayout(t);return a&&r.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(ce);Te(YI,VI,!0);const uq=YI;function cq(n){!n||!H(n.series)||M(n.series,function(e){ct(e)&&"k"===e.type&&(e.type="candlestick")})}var hq=["itemStyle","borderColor"],pq=["itemStyle","borderColor0"],fq=["itemStyle","borderColorDoji"],dq=["itemStyle","color"],vq=["itemStyle","color0"],gq={seriesType:"candlestick",plan:xs(),performRawSeries:!0,reset:function(n,e){function t(a,o){return o.get(a>0?dq:vq)}function i(a,o){return o.get(0===a?fq:a>0?hq:pq)}if(!e.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(a,o){for(var s;null!=(s=a.next());){var u=o.getItemModel(s),c=o.getItemLayout(s).sign,h=u.getItemStyle();h.fill=t(c,u),h.stroke=i(c,u)||h.fill,F(o.ensureUniqueItemVisual(s,"style"),h)}}}}};const mq=gq;var yq={seriesType:"candlestick",plan:xs(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),i=function _q(n,e){var i,t=n.getBaseAxis(),r="category"===t.type?t.getBandWidth():(i=t.getExtent(),Math.abs(i[1]-i[0])/e.count()),a=q(mt(n.get("barMaxWidth"),r),r),o=q(mt(n.get("barMinWidth"),1),r),s=n.get("barWidth");return null!=s?q(s,r):Math.max(Math.min(r/2,a),o)}(n,t),o=["x","y"],s=t.getDimensionIndex(t.mapDimension(o[0])),u=X(t.mapDimensionsAll(o[1]),t.getDimensionIndex,t),c=u[0],h=u[1],p=u[2],f=u[3];if(t.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(s<0||u.length<4))return{progress:n.pipelineContext.large?function v(g,m){for(var b,S,y=Ki(4*g.count),_=0,C=[],x=[],z=m.getStore(),w=!!n.get(["itemStyle","borderColorDoji"]);null!=(S=g.next());){var T=z.get(s,S),D=z.get(c,S),I=z.get(h,S),A=z.get(p,S),k=z.get(f,S);isNaN(T)||isNaN(A)||isNaN(k)?(y[_++]=NaN,_+=3):(y[_++]=WI(z,S,D,I,h,w),C[0]=T,C[1]=A,b=e.dataToPoint(C,null,x),y[_++]=b?b[0]:NaN,y[_++]=b?b[1]:NaN,C[1]=k,b=e.dataToPoint(C,null,x),y[_++]=b?b[1]:NaN)}m.setLayout("largePoints",y)}:function d(g,m){for(var y,_=m.getStore();null!=(y=g.next());){var b=_.get(s,y),C=_.get(c,y),x=_.get(h,y),S=_.get(p,y),z=_.get(f,y),w=Math.min(C,x),T=Math.max(C,x),D=L(w,b),I=L(T,b),A=L(S,b),k=L(z,b),P=[];E(P,I,0),E(P,D,1),P.push(j(k),j(I),j(A),j(D));var O=!!m.getItemModel(y).get(["itemStyle","borderColorDoji"]);m.setItemLayout(y,{sign:WI(_,y,C,x,h,O),initBaseline:C>x?I[1]:D[1],ends:P,brushRect:($=S,it=z,ot=b,st=void 0,Tt=void 0,st=L($,ot),Tt=L(it,ot),st[0]-=i/2,Tt[0]-=i/2,{x:st[0],y:st[1],width:i,height:Tt[1]-st[1]})})}var $,it,ot,st,Tt;function L($,it){var ot=[];return ot[0]=it,ot[1]=$,isNaN(it)||isNaN($)?[NaN,NaN]:e.dataToPoint(ot)}function E($,it,ot){var st=it.slice(),Tt=it.slice();st[0]=cp(st[0]+i/2,1,!1),Tt[0]=cp(Tt[0]-i/2,1,!0),ot?$.push(st,Tt):$.push(Tt,st)}function j($){return $[0]=cp($[0],1),$}}}}};function WI(n,e,t,i,r,a){return t>i?-1:t<i?1:a?0:e>0?n.get(r,e-1)<=i?1:-1:1}const bq=yq;function UI(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?t:null,fill:"fill"===e.brushType?t:null}})})}var Sq=function(n){function e(t,i){var r=n.call(this)||this,a=new ku(t,i),o=new ft;return r.add(a),r.add(o),r.updateData(t,i),r}return B(e,n),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var i=t.symbolType,r=t.color,a=t.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var u=Ie(i,-1,-1,2,2,r);u.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var c=-s/a*t.period+t.effectOffset;u.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(c).start(),u.animateStyle(!0).when(t.period,{opacity:0}).delay(c).start(),o.add(u)}UI(o,t)},e.prototype.updateEffectAnimation=function(t){for(var i=this._effectCfg,r=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(i[s]!==t[s])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}UI(r,t)},e.prototype.highlight=function(){dr(this)},e.prototype.downplay=function(){vr(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,i){var r=this,a=t.hostModel;this.childAt(0).updateData(t,i);var o=this.childAt(1),s=t.getItemModel(i),u=t.getItemVisual(i,"symbol"),c=As(t.getItemVisual(i,"symbolSize")),h=t.getItemVisual(i,"style"),p=h&&h.fill,f=s.getModel("emphasis");o.setScale(c),o.traverse(function(m){m.setStyle("fill",p)});var d=co(t.getItemVisual(i,"symbolOffset"),c);d&&(o.x=d[0],o.y=d[1]);var v=t.getItemVisual(i,"symbolRotate");o.rotation=(v||0)*Math.PI/180||0;var g={};g.showEffectOn=a.get("showEffectOn"),g.rippleScale=s.get(["rippleEffect","scale"]),g.brushType=s.get(["rippleEffect","brushType"]),g.period=1e3*s.get(["rippleEffect","period"]),g.effectOffset=i/t.count(),g.z=a.getShallow("z")||0,g.zlevel=a.getShallow("zlevel")||0,g.symbolType=u,g.color=p,g.rippleEffectColor=s.get(["rippleEffect","color"]),g.rippleNumber=s.get(["rippleEffect","number"]),"render"===g.showEffectOn?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(m){"emphasis"===m?"render"!==g.showEffectOn&&r.startEffectAnimation(g):"normal"===m&&"render"!==g.showEffectOn&&r.stopEffectAnimation()}),this._effectCfg=g,fe(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(ft);const xq=Sq;var zq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(){this._symbolDraw=new Pu(xq)},e.prototype.render=function(t,i,r){var a=t.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(o.group)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype.updateTransform=function(t,i,r){var a=t.getData();this.group.dirty();var o=Nu("").reset(t,i,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var i=t.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=function YF(n){var e=[1,0,0,1,0,0];return Fd(e,n),e}(i.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(ne);const wq=zq;var Tq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return B(e,n),e.prototype.getInitialData=function(t,i){return _r(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(ce);const Dq=Tq;var Iq=function(n){function e(t,i,r){var a=n.call(this)||this;return a.add(a.createLine(t,i,r)),a._updateEffectSymbol(t,i),a}return B(e,n),e.prototype.createLine=function(t,i,r){return new Ky(t,i,r)},e.prototype._updateEffectSymbol=function(t,i){var a=t.getItemModel(i).getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");H(o)||(o=[o,o]);var u=t.getItemVisual(i,"style"),c=a.get("color")||u&&u.stroke,h=this.childAt(1);this._symbolType!==s&&(this.remove(h),(h=Ie(s,-.5,-.5,1,1,c)).z2=100,h.culling=!0,this.add(h)),h&&(h.setStyle("shadowColor",c),h.setStyle(a.getItemStyle(["color"])),h.scaleX=o[0],h.scaleY=o[1],h.setColor(c),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(t,a,i))},e.prototype._updateEffectAnimation=function(t,i,r){var a=this.childAt(1);if(a){var o=t.getItemLayout(r),s=1e3*i.get("period"),u=i.get("loop"),c=i.get("roundTrip"),h=i.get("constantSpeed"),p=Fe(i.get("delay"),function(d){return d/t.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),h>0&&(s=this._getLineLength(a)/h*1e3),s!==this._period||u!==this._loop||c!==this._roundTrip){a.stopAnimation();var f=void 0;f=at(p)?p(r):p,a.__t>0&&(f=-s*a.__t),this._animateSymbol(a,s,f,u,c)}this._period=s,this._loop=u,this._roundTrip=c}},e.prototype._animateSymbol=function(t,i,r,a,o){if(i>0){t.__t=0;var s=this,u=t.animate("",a).when(o?2*i:i,{__t:o?2:1}).delay(r).during(function(){s._updateSymbolPosition(t)});a||u.done(function(){s.remove(t)}),u.start()}},e.prototype._getLineLength=function(t){return Nr(t.__p1,t.__cp1)+Nr(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,i){t.__p1=i[0],t.__p2=i[1],t.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},e.prototype.updateData=function(t,i,r){this.childAt(0).updateData(t,i,r),this._updateEffectSymbol(t,i)},e.prototype._updateSymbolPosition=function(t){var i=t.__p1,r=t.__p2,a=t.__cp1,o=t.__t<1?t.__t:2-t.__t,s=[t.x,t.y],u=s.slice(),c=Ge,h=Ud;s[0]=c(i[0],a[0],r[0],o),s[1]=c(i[1],a[1],r[1],o);var p=t.__t<1?h(i[0],a[0],r[0],o):h(r[0],a[0],i[0],1-o),f=t.__t<1?h(i[1],a[1],r[1],o):h(r[1],a[1],i[1],1-o);t.rotation=-Math.atan2(f,p)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Nr(u,s),1===o&&(s[0]=u[0]+(s[0]-u[0])/2,s[1]=u[1]+(s[1]-u[1])/2)):t.scaleY=1===t.__lastT?2*Nr(i,s):this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=s[0],t.y=s[1]},e.prototype.updateLayout=function(t,i){this.childAt(0).updateLayout(t,i);var r=t.getItemModel(i).getModel("effect");this._updateEffectAnimation(t,r,i)},e}(ft);const $I=Iq;var Aq=function(n){function e(t,i,r){var a=n.call(this)||this;return a._createPolyline(t,i,r),a}return B(e,n),e.prototype._createPolyline=function(t,i,r){var a=t.getItemLayout(i),o=new Dn({shape:{points:a}});this.add(o),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var a=t.hostModel;Gt(this.childAt(0),{shape:{points:t.getItemLayout(i)}},a,i),this._updateCommonStl(t,i,r)},e.prototype._updateCommonStl=function(t,i,r){var a=this.childAt(0),o=t.getItemModel(i),s=r&&r.emphasisLineStyle,u=r&&r.focus,c=r&&r.blurScope,h=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var p=o.getModel("emphasis");s=p.getModel("lineStyle").getLineStyle(),h=p.get("disabled"),u=p.get("focus"),c=p.get("blurScope")}a.useStyle(t.getItemVisual(i,"style")),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,fe(this,u,c,h)},e.prototype.updateLayout=function(t,i){this.childAt(0).setShape("points",t.getItemLayout(i))},e}(ft);const ZI=Aq;var kq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return B(e,n),e.prototype.createLine=function(t,i,r){return new ZI(t,i,r)},e.prototype._updateAnimationPoints=function(t,i){this._points=i;for(var r=[0],a=0,o=1;o<i.length;o++)a+=Nr(i[o-1],i[o]),r.push(a);if(0!==a){for(o=0;o<r.length;o++)r[o]/=a;this._offsets=r,this._length=a}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var i=t.__t<1?t.__t:2-t.__t,r=this._points,a=this._offsets,o=r.length;if(a){var u,s=this._lastFrame;if(i<this._lastFramePercent){for(u=Math.min(s+1,o-1);u>=0&&!(a[u]<=i);u--);u=Math.min(u,o-2)}else{for(u=s;u<o&&!(a[u]>i);u++);u=Math.min(u-1,o-2)}var h=(i-a[u])/(a[u+1]-a[u]),p=r[u],f=r[u+1];t.x=p[0]*(1-h)+h*f[0],t.y=p[1]*(1-h)+h*f[1],t.rotation=-Math.atan2(t.__t<1?f[1]-p[1]:p[1]-f[1],t.__t<1?f[0]-p[0]:p[0]-f[0])-Math.PI/2,this._lastFrame=u,this._lastFramePercent=i,t.ignore=!1}},e}($I);const Pq=kq;var Rq=function(){return function n(){this.polyline=!1,this.curveness=0,this.segs=[]}}(),Nq=function(n){function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return B(e,n),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Rq},e.prototype.buildPath=function(t,i){var o,r=i.segs,a=i.curveness;if(i.polyline)for(o=this._off;o<r.length;){var s=r[o++];if(s>0){t.moveTo(r[o++],r[o++]);for(var u=1;u<s;u++)t.lineTo(r[o++],r[o++])}}else for(o=this._off;o<r.length;){var c=r[o++],h=r[o++],p=r[o++],f=r[o++];t.moveTo(c,h),a>0?t.quadraticCurveTo((c+p)/2-(h-f)*a,(h+f)/2-(p-c)*a,p,f):t.lineTo(p,f)}this.incremental&&(this._off=o,this.notClear=!0)},e.prototype.findDataIndex=function(t,i){var r=this.shape,a=r.segs,o=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var u=0,c=0;c<a.length;){var h=a[c++];if(h>0)for(var p=a[c++],f=a[c++],d=1;d<h;d++)if(jr(p,f,v=a[c++],g=a[c++],s,t,i))return u;u++}else for(u=0,c=0;c<a.length;){p=a[c++],f=a[c++];var v=a[c++],g=a[c++];if(o>0){if(WC(p,f,(p+v)/2-(f-g)*o,(f+g)/2-(v-p)*o,v,g,s,t,i))return u}else if(jr(p,f,v,g,s,t,i))return u;u++}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i);return this.getBoundingRect().contain(t=r[0],i=r[1])?(this.hoverDataIdx=this.findDataIndex(t,i))>=0:(this.hoverDataIdx=-1,!1)},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape.segs,a=1/0,o=1/0,s=-1/0,u=-1/0,c=0;c<r.length;){var h=r[c++],p=r[c++];a=Math.min(h,a),s=Math.max(h,s),o=Math.min(p,o),u=Math.max(p,u)}t=this._rect=new xt(a,o,s,u)}return t},e}(It),Oq=function(){function n(){this.group=new ft}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],r=t.getLayout("linesPoints"),a=i&&i.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+r.length);s.set(a),s.set(r,o),i.setShape({segs:s})}else{this._newAdded=[];var u=this._create();u.incremental=!0,u.setShape({segs:r}),this._setCommon(u,t),u.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new Nq({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var o=dt(e);o.seriesIndex=r.seriesIndex,e.on("mousemove",function(s){o.dataIndex=null;var u=e.hoverDataIdx;u>0&&(o.dataIndex=u+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const Eq=Oq;var Lq={seriesType:"lines",plan:xs(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,a){var o=[];if(i){var s=void 0,u=r.end-r.start;if(t){for(var c=0,h=r.start;h<r.end;h++)c+=n.getLineCoordsCount(h);s=new Float32Array(u+2*c)}else s=new Float32Array(4*u);var p=0,f=[];for(h=r.start;h<r.end;h++){var d=n.getLineCoords(h,o);t&&(s[p++]=d);for(var v=0;v<d;v++)f=e.dataToPoint(o[v],!1,f),s[p++]=f[0],s[p++]=f[1]}a.setLayout("linesPoints",s)}else for(h=r.start;h<r.end;h++){var g=a.getItemModel(h),m=(d=n.getLineCoords(h,o),[]);if(t)for(var y=0;y<d;y++)m.push(e.dataToPoint(o[y]));else{m[0]=e.dataToPoint(o[0]),m[1]=e.dataToPoint(o[1]);var _=g.get(["lineStyle","curveness"]);+_&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*_,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*_])}a.setItemLayout(h,m)}}}}}};const qI=Lq;var Bq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){var a=t.getData(),o=this._updateLineDraw(a,t),s=t.get("zlevel"),u=t.get(["effect","trailLength"]),c=r.getZr(),h="svg"===c.painter.getType();h||c.painter.getLayer(s).clear(!0),null!=this._lastZlevel&&!h&&c.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&u>0&&(h||c.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),o.updateData(a);var p=t.get("clip",!0)&&Ru(t.coordinateSystem,!1,t);p?this.group.setClipPath(p):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var a=t.getData();this._updateLineDraw(a,t).incrementalPrepareUpdate(a),this._clearLayer(r),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._lineDraw.incrementalUpdate(t,i.getData()),this._finished=t.end===i.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,i,r){var a=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=qI.reset(t,i,r);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(r)},e.prototype._updateLineDraw=function(t,i){var r=this._lineDraw,a=this._showEffect(i),o=!!i.get("polyline"),u=i.pipelineContext.large;return(!r||a!==this._hasEffet||o!==this._isPolyline||u!==this._isLargeDraw)&&(r&&r.remove(),r=this._lineDraw=u?new Eq:new Jy(o?a?Pq:ZI:a?$I:Ky),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=u),this.group.add(r.group),r},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var i=t.getZr();"svg"!==i.painter.getType()&&null!=this._lastZlevel&&i.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.type="lines",e}(ne);const Vq=Bq;var Fq=typeof Uint32Array>"u"?Array:Uint32Array,Gq=typeof Float64Array>"u"?Array:Float64Array;function KI(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=X(e,function(t){var r={coords:[t[0].coord,t[1].coord]};return t[0].name&&(r.fromName=t[0].name),t[1].name&&(r.toName=t[1].name),zd([r,t[0],t[1]])}))}var Hq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return B(e,n),e.prototype.init=function(t){t.data=t.data||[],KI(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(KI(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var i=this._processFlatCoordsArray(t.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=jc(this._flatCoords,i.flatCoords),this._flatCoordsOffset=jc(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),t.data=new Float32Array(i.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var i=this.getData().getItemModel(t);return i.option instanceof Array?i.option:i.getShallow("coords")},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*t],a=this._flatCoordsOffset[2*t+1],o=0;o<a;o++)i[o]=i[o]||[],i[o][0]=this._flatCoords[r+2*o],i[o][1]=this._flatCoords[r+2*o+1];return a}var s=this._getCoordsFromItemModel(t);for(o=0;o<s.length;o++)i[o]=i[o]||[],i[o][0]=s[o][0],i[o][1]=s[o][1];return s.length},e.prototype._processFlatCoordsArray=function(t){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),Bt(t[0])){for(var r=t.length,a=new Fq(r),o=new Gq(r),s=0,u=0,c=0,h=0;h<r;){c++;var p=t[h++];a[u++]=s+i,a[u++]=p;for(var f=0;f<p;f++){var d=t[h++],v=t[h++];o[s++]=d,o[s++]=v}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,u),flatCoords:o,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,i){var a=new vn(["value"],this);return a.hasItemOption=!1,a.initData(t.data,[],function(o,s,u,c){if(o instanceof Array)return NaN;a.hasItemOption=!0;var h=o.value;return null!=h?h instanceof Array?h[c]:h:void 0}),a},e.prototype.formatTooltip=function(t,i,r){var o=this.getData().getItemModel(t),s=o.get("name");if(s)return s;var u=o.get("fromName"),c=o.get("toName"),h=[];return null!=u&&h.push(u),null!=c&&h.push(c),Ee("nameValue",{name:h.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),i=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&i>0?i+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(ce);const Xq=Hq;function _f(n){return n instanceof Array||(n=[n,n]),n}var jq={seriesType:"lines",reset:function(n){var e=_f(n.get("symbol")),t=_f(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",t&&t[0]),i.setVisual("toSymbolSize",t&&t[1]),{dataEach:i.hasItemOption?function r(a,o){var s=a.getItemModel(o),u=_f(s.getShallow("symbol",!0)),c=_f(s.getShallow("symbolSize",!0));u[0]&&a.setItemVisual(o,"fromSymbol",u[0]),u[1]&&a.setItemVisual(o,"toSymbol",u[1]),c[0]&&a.setItemVisual(o,"fromSymbolSize",c[0]),c[1]&&a.setItemVisual(o,"toSymbolSize",c[1])}:null}}};const Yq=jq;var $q=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=ci.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,i,r,a,o){var s=this._getBrush(),u=this._getGradient(a,"inRange"),c=this._getGradient(a,"outOfRange"),h=this.pointSize+this.blurSize,p=this.canvas,f=p.getContext("2d"),d=e.length;p.width=t,p.height=i;for(var v=0;v<d;++v){var g=e[v],m=g[0],y=g[1],b=r(g[2]);f.globalAlpha=b,f.drawImage(s,m-h,y-h)}if(!p.width||!p.height)return p;for(var C=f.getImageData(0,0,p.width,p.height),x=C.data,S=0,z=x.length,w=this.minOpacity,D=this.maxOpacity-w;S<z;){b=x[S+3]/256;var I=4*Math.floor(255*b);if(b>0){var A=o(b)?u:c;b>0&&(b=b*D+w),x[S++]=A[I],x[S++]=A[I+1],x[S++]=A[I+2],x[S++]=A[I+3]*b*256}else S+=4}return f.putImageData(C,0,0),p},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=ci.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var r=e.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},n.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,r=i[t]||(i[t]=new Uint8ClampedArray(1024)),a=[0,0,0,0],o=0,s=0;s<256;s++)e[t](s/255,!0,a),r[o++]=a[0],r[o++]=a[1],r[o++]=a[2],r[o++]=a[3];return r},n}();const Zq=$q;function QI(n){var e=n.dimensions;return"lng"===e[0]&&"lat"===e[1]}var Qq=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){var a;i.eachComponent("visualMap",function(s){s.eachTargetSeries(function(u){u===t&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,r,0,t.getData().count()):QI(o)&&this._renderOnGeo(o,t,a,r)},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll()},e.prototype.incrementalRender=function(t,i,r,a){var o=i.coordinateSystem;o&&(QI(o)?this.render(i,r,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(i,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Jr(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,i,r,a,o){var c,h,p,f,s=t.coordinateSystem,u=So(s,"cartesian2d");if(u){var d=s.getAxis("x"),v=s.getAxis("y");c=d.getBandWidth()+.5,h=v.getBandWidth()+.5,p=d.scale.getExtent(),f=v.scale.getExtent()}for(var g=this.group,m=t.getData(),y=t.getModel(["emphasis","itemStyle"]).getItemStyle(),_=t.getModel(["blur","itemStyle"]).getItemStyle(),b=t.getModel(["select","itemStyle"]).getItemStyle(),C=t.get(["itemStyle","borderRadius"]),x=Oe(t),S=t.getModel("emphasis"),z=S.get("focus"),w=S.get("blurScope"),T=S.get("disabled"),D=u?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],I=r;I<a;I++){var A=void 0,k=m.getItemVisual(I,"style");if(u){var P=m.get(D[0],I),N=m.get(D[1],I);if(isNaN(m.get(D[2],I))||isNaN(P)||isNaN(N)||P<p[0]||P>p[1]||N<f[0]||N>f[1])continue;var O=s.dataToPoint([P,N]);A=new Ot({shape:{x:O[0]-c/2,y:O[1]-h/2,width:c,height:h},style:k})}else{if(isNaN(m.get(D[1],I)))continue;A=new Ot({z2:1,shape:s.dataToRect([m.get(D[0],I)]).contentShape,style:k})}if(m.hasItemOption){var L=m.getItemModel(I),E=L.getModel("emphasis");y=E.getModel("itemStyle").getItemStyle(),_=L.getModel(["blur","itemStyle"]).getItemStyle(),b=L.getModel(["select","itemStyle"]).getItemStyle(),C=L.get(["itemStyle","borderRadius"]),z=E.get("focus"),w=E.get("blurScope"),T=E.get("disabled"),x=Oe(L)}A.shape.r=C;var V=t.getRawValue(I),j="-";V&&null!=V[2]&&(j=V[2]+""),Ue(A,x,{labelFetcher:t,labelDataIndex:I,defaultOpacity:k.opacity,defaultText:j}),A.ensureState("emphasis").style=y,A.ensureState("blur").style=_,A.ensureState("select").style=b,fe(A,z,w,T),A.incremental=o,o&&(A.states.emphasis.hoverLayer=!0),g.add(A),m.setItemGraphicEl(I,A),this._progressiveEls&&this._progressiveEls.push(A)}},e.prototype._renderOnGeo=function(t,i,r,a){var o=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,u=i.getData(),c=this._hmLayer||this._hmLayer||new Zq;c.blurSize=i.get("blurSize"),c.pointSize=i.get("pointSize"),c.minOpacity=i.get("minOpacity"),c.maxOpacity=i.get("maxOpacity");var h=t.getViewRect().clone(),p=t.getRoamTransform();h.applyTransform(p);var f=Math.max(h.x,0),d=Math.max(h.y,0),v=Math.min(h.width+h.x,a.getWidth()),g=Math.min(h.height+h.y,a.getHeight()),m=v-f,y=g-d,_=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],b=u.mapArray(_,function(z,w,T){var D=t.dataToPoint([z,w]);return D[0]-=f,D[1]-=d,D.push(T),D}),C=r.getExtent(),x="visualMap.continuous"===r.type?function Kq(n,e){var t=n[1]-n[0];return e=[(e[0]-n[0])/t,(e[1]-n[0])/t],function(i){return i>=e[0]&&i<=e[1]}}(C,r.option.range):function qq(n,e,t){var i=n[1]-n[0],r=(e=X(e,function(o){return{interval:[(o.interval[0]-n[0])/i,(o.interval[1]-n[0])/i]}})).length,a=0;return function(o){var s;for(s=a;s<r;s++)if((u=e[s].interval)[0]<=o&&o<=u[1]){a=s;break}if(s===r)for(s=a-1;s>=0;s--){var u;if((u=e[s].interval)[0]<=o&&o<=u[1]){a=s;break}}return s>=0&&s<r&&t[s]}}(C,r.getPieceList(),r.option.selected);c.update(b,m,y,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},x);var S=new Ye({style:{width:m,height:y,x:f,y:d,image:c.canvas},silent:!0});this.group.add(S)},e.type="heatmap",e}(ne);const Jq=Qq;var tK=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.getInitialData=function(t,i){return _r(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=eu.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(ce);const eK=tK;var iK=["itemStyle","borderWidth"],JI=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],D0=new Qr,rK=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){var a=this.group,o=t.getData(),s=this._data,u=t.coordinateSystem,h=u.getBaseAxis().isHorizontal(),p=u.master.getRect(),f={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:u,coordSysExtent:[[p.x,p.x+p.width],[p.y,p.y+p.height]],isHorizontal:h,valueDim:JI[+h],categoryDim:JI[1-+h]};o.diff(s).add(function(v){if(o.hasValue(v)){var g=oA(o,v),m=tA(o,v,g,f),y=sA(o,f,m);o.setItemGraphicEl(v,y),a.add(y),cA(y,f,m)}}).update(function(v,g){var m=s.getItemGraphicEl(g);if(o.hasValue(v)){var y=oA(o,v),_=tA(o,v,y,f),b=uA(o,_);m&&b!==m.__pictorialShapeStr&&(a.remove(m),o.setItemGraphicEl(v,null),m=null),m?function hK(n,e,t){Gt(n.__pictorialBundle,{x:t.bundlePosition[0],y:t.bundlePosition[1]},t.animationModel,t.dataIndex),t.symbolRepeat?nA(n,e,t,!0):iA(n,0,t,!0),rA(n,t,!0),aA(n,e,t,!0)}(m,f,_):m=sA(o,f,_,!0),o.setItemGraphicEl(v,m),m.__pictorialSymbolMeta=_,a.add(m),cA(m,f,_)}else a.remove(m)}).remove(function(v){var g=s.getItemGraphicEl(v);g&&lA(s,v,g.__pictorialSymbolMeta.animationModel,g)}).execute();var d=t.get("clip",!0)?Ru(t.coordinateSystem,!1,t):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=o,this.group},e.prototype.remove=function(t,i){var r=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(o){lA(a,dt(o).dataIndex,t,o)}):r.removeAll()},e.type="pictorialBar",e}(ne);function tA(n,e,t,i){var r=n.getItemLayout(e),a=t.get("symbolRepeat"),o=t.get("symbolClip"),s=t.get("symbolPosition")||"start",c=(t.get("symbolRotate")||0)*Math.PI/180||0,h=t.get("symbolPatternSize")||2,p=t.isAnimationEnabled(),f={dataIndex:e,layout:r,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:h,rotation:c,animationModel:p?t:null,hoverScale:p&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};(function aK(n,e,t,i,r){var h,a=i.valueDim,o=n.get("symbolBoundingData"),s=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=s.toGlobalCoord(s.dataToCoord(0)),c=1-+(t[a.wh]<=0);if(H(o)){var p=[M0(s,o[0])-u,M0(s,o[1])-u];p[1]<p[0]&&p.reverse(),h=p[c]}else h=null!=o?M0(s,o)-u:e?i.coordSysExtent[a.index][c]-u:t[a.wh];r.boundingLength=h,e&&(r.repeatCutLength=t[a.wh]),r.pxSign=h>0?1:-1})(t,a,r,i,f),function oK(n,e,t,i,r,a,o,s,u,c){var v,h=u.valueDim,p=u.categoryDim,f=Math.abs(t[p.wh]),d=n.getItemVisual(e,"symbolSize");(v=H(d)?d.slice():null==d?["100%","100%"]:[d,d])[p.index]=q(v[p.index],f),v[h.index]=q(v[h.index],i?f:Math.abs(a)),c.symbolSize=v,(c.symbolScale=[v[0]/s,v[1]/s])[h.index]*=(u.isHorizontal?-1:1)*o}(n,e,r,a,0,f.boundingLength,f.pxSign,h,i,f),function sK(n,e,t,i,r){var a=n.get(iK)||0;a&&(D0.attr({scaleX:e[0],scaleY:e[1],rotation:t}),D0.updateTransform(),a/=D0.getLineScale(),a*=e[i.valueDim.index]),r.valueLineWidth=a||0}(t,f.symbolScale,c,i,f);var d=f.symbolSize,v=co(t.get("symbolOffset"),d);return function lK(n,e,t,i,r,a,o,s,u,c,h,p){var f=h.categoryDim,d=h.valueDim,v=p.pxSign,g=Math.max(e[d.index]+s,0),m=g;if(i){var y=Math.abs(u),_=Fe(n.get("symbolMargin"),"15%")+"",b=!1;_.lastIndexOf("!")===_.length-1&&(b=!0,_=_.slice(0,_.length-1));var C=q(_,e[d.index]),x=Math.max(g+2*C,0),S=b?0:2*C,z=xC(i),w=z?i:hA((y+S)/x);x=g+2*(C=(y-w*g)/2/(b?w:Math.max(w-1,1))),S=b?0:2*C,!z&&"fixed"!==i&&(w=c?hA((Math.abs(c)+S)/x):0),m=w*x-S,p.repeatTimes=w,p.symbolMargin=C}var D=v*(m/2),I=p.pathPosition=[];I[f.index]=t[f.wh]/2,I[d.index]="start"===o?D:"end"===o?u-D:u/2,a&&(I[0]+=a[0],I[1]+=a[1]);var A=p.bundlePosition=[];A[f.index]=t[f.xy],A[d.index]=t[d.xy];var k=p.barRectShape=F({},t);k[d.wh]=v*Math.max(Math.abs(t[d.wh]),Math.abs(I[d.index]+D)),k[f.wh]=t[f.wh];var P=p.clipShape={};P[f.xy]=-t[f.xy],P[f.wh]=h.ecSize[f.wh],P[d.xy]=0,P[d.wh]=t[d.wh]}(t,d,r,a,0,v,s,f.valueLineWidth,f.boundingLength,f.repeatCutLength,i,f),f}function M0(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function eA(n){var e=n.symbolPatternSize,t=Ie(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function nA(n,e,t,i){var r=n.__pictorialBundle,s=t.pathPosition,u=e.valueDim,c=t.repeatTimes||0,h=0,p=t.symbolSize[e.valueDim.index]+t.valueLineWidth+2*t.symbolMargin;for(I0(n,function(g){g.__pictorialAnimationIndex=h,g.__pictorialRepeatTimes=c,h<c?Us(g,null,v(h),t,i):Us(g,null,{scaleX:0,scaleY:0},t,i,function(){r.remove(g)}),h++});h<c;h++){var f=eA(t);f.__pictorialAnimationIndex=h,f.__pictorialRepeatTimes=c,r.add(f);var d=v(h);Us(f,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},t,i)}function v(g){var m=s.slice(),y=t.pxSign,_=g;return("start"===t.symbolRepeatDirection?y>0:y<0)&&(_=c-1-g),m[u.index]=p*(_-c/2+.5)+s[u.index],{x:m[0],y:m[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function iA(n,e,t,i){var r=n.__pictorialBundle,a=n.__pictorialMainPath;a?Us(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,i):(a=n.__pictorialMainPath=eA(t),r.add(a),Us(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,i))}function rA(n,e,t){var i=F({},e.barRectShape),r=n.__pictorialBarRect;r?Us(r,null,{shape:i},e,t):((r=n.__pictorialBarRect=new Ot({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(r))}function aA(n,e,t,i){if(t.symbolClip){var r=n.__pictorialClipPath,a=F({},t.clipShape),o=e.valueDim,s=t.animationModel,u=t.dataIndex;if(r)Gt(r,{shape:a},s,u);else{a[o.wh]=0,r=new Ot({shape:a}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var c={};c[o.wh]=t.clipShape[o.wh],Pn[i?"updateProps":"initProps"](r,{shape:c},s,u)}}}function oA(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=uK,t.isAnimationEnabled=cK,t}function uK(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function cK(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function sA(n,e,t,i){var r=new ft,a=new ft;return r.add(a),r.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?nA(r,e,t):iA(r,0,t),rA(r,t,i),aA(r,e,t,i),r.__pictorialShapeStr=uA(n,t),r.__pictorialSymbolMeta=t,r}function lA(n,e,t,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var a=[];I0(i,function(o){a.push(o)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(t=null),M(a,function(o){Wr(o,{scaleX:0,scaleY:0},t,e,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(e,null)}function uA(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function I0(n,e,t){M(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&e.call(t,i)})}function Us(n,e,t,i,r,a){e&&n.attr(e),i.symbolClip&&!r?t&&n.attr(t):t&&Pn[r?"updateProps":"initProps"](n,t,i.animationModel,i.dataIndex,a)}function cA(n,e,t){var i=t.dataIndex,r=t.itemModel,a=r.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),u=r.getModel(["select","itemStyle"]).getItemStyle(),c=r.getShallow("cursor"),h=a.get("focus"),p=a.get("blurScope"),f=a.get("scale");I0(n,function(g){if(g instanceof Ye){var m=g.style;g.useStyle(F({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},t.style))}else g.useStyle(t.style);var y=g.ensureState("emphasis");y.style=o,f&&(y.scaleX=1.1*g.scaleX,y.scaleY=1.1*g.scaleY),g.ensureState("blur").style=s,g.ensureState("select").style=u,c&&(g.cursor=c),g.z2=t.z2});var d=e.valueDim.posDesc[+(t.boundingLength>0)],v=n.__pictorialBarRect;v.ignoreClip=!0,Ue(v,Oe(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:Ls(e.seriesModel.getData(),i),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:d}),fe(n,h,p,a.get("disabled"))}function hA(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}const pK=rK;var fK=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return B(e,n),e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Ur(Bp.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(Bp);const dK=fK;var gK=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return B(e,n),e.prototype.render=function(t,i,r){var a=t.getData(),o=this,s=this.group,u=t.getLayerSeries(),c=a.getLayout("layoutInfo"),h=c.rect,p=c.boundaryGap;function f(m){return m.name}s.x=0,s.y=h.y+p[0];var d=new yr(this._layersSeries||[],u,f,f),v=[];function g(m,y,_){var b=o._layers;if("remove"!==m){for(var S,C=[],x=[],z=u[y].indices,w=0;w<z.length;w++){var T=a.getItemLayout(z[w]),D=T.x,I=T.y0,A=T.y;C.push(D,I),x.push(D,I+A),S=a.getItemVisual(z[w],"style")}var k,P=a.getItemLayout(z[0]),O=t.getModel("label").get("margin"),L=t.getModel("emphasis");if("add"===m){var E=v[y]=new ft;k=new nD({shape:{points:C,stackedOnPoints:x,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),E.add(k),s.add(E),t.isAnimationEnabled()&&k.setClipPath(function mK(n,e,t){var i=new Ot({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return le(i,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},e,t),i}(k.getBoundingRect(),t,function(){k.removeClipPath()}))}else k=(E=b[_]).childAt(0),s.add(E),v[y]=E,Gt(k,{shape:{points:C,stackedOnPoints:x}},t),vi(k);Ue(k,Oe(t),{labelDataIndex:z[w-1],defaultText:a.getName(z[w-1]),inheritColor:S.fill},{normal:{verticalAlign:"middle"}}),k.setTextConfig({position:null,local:!0});var V=k.getTextContent();V&&(V.x=P.x-O,V.y=P.y0+P.y/2),k.useStyle(S),a.setItemGraphicEl(y,k),We(k,t),fe(k,L.get("focus"),L.get("blurScope"),L.get("disabled"))}else s.remove(b[y])}d.add(J(g,this,"add")).update(J(g,this,"update")).remove(J(g,this,"remove")).execute(),this._layersSeries=u,this._layers=v},e.type="themeRiver",e}(ne);const yK=gK;var _K=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Eu(J(this.getData,this),J(this.getRawData,this))},e.prototype.fixData=function(t){var i=t.length,r={},a=Av(t,function(f){return r.hasOwnProperty(f[0]+"")||(r[f[0]+""]=-1),f[2]}),o=[];a.buckets.each(function(f,d){o.push({name:d,dataList:f})});for(var s=o.length,u=0;u<s;++u){for(var c=o[u].name,h=0;h<o[u].dataList.length;++h)r[p=o[u].dataList[h][0]+""]=u;for(var p in r)r.hasOwnProperty(p)&&r[p]!==u&&(r[p]=u,t[i]=[p,0,c],i++)}return t},e.prototype.getInitialData=function(t,i){for(var a=this.getReferringComponents("singleAxis",De).models[0].get("type"),o=Ut(t.data,function(v){return void 0!==v[2]}),s=this.fixData(o||[]),u=[],c=this.nameMap=nt(),h=0,p=0;p<s.length;++p)u.push(s[p][2]),c.get(s[p][2])||(c.set(s[p][2],h),h++);var f=Os(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Np(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new vn(f,this);return d.initData(s),d},e.prototype.getLayerSeries=function(){for(var t=this.getData(),i=t.count(),r=[],a=0;a<i;++a)r[a]=a;var o=t.mapDimension("single"),s=Av(r,function(c){return t.get("name",c)}),u=[];return s.buckets.each(function(c,h){c.sort(function(p,f){return t.get(o,p)-t.get(o,f)}),u.push({name:h,indices:c})}),u},e.prototype.getAxisTooltipData=function(t,i,r){H(t)||(t=t?[t]:[]);for(var c,a=this.getData(),o=this.getLayerSeries(),s=[],u=o.length,h=0;h<u;++h){for(var p=Number.MAX_VALUE,f=-1,d=o[h].indices.length,v=0;v<d;++v){var g=a.get(t[0],o[h].indices[v]),m=Math.abs(g-i);m<=p&&(c=g,p=m,f=o[h].indices[v])}s.push(f)}return{dataIndices:s,nestestValue:c}},e.prototype.formatTooltip=function(t,i,r){var a=this.getData();return Ee("nameValue",{name:a.getName(t),value:a.get(a.mapDimension("value"),t)})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(ce);const bK=_K;function CK(n,e){n.eachSeriesByType("themeRiver",function(t){var i=t.getData(),r=t.coordinateSystem,a={},o=r.getRect();a.rect=o;var s=t.get("boundaryGap"),u=r.getAxis();a.boundaryGap=s,"horizontal"===u.orient?(s[0]=q(s[0],o.height),s[1]=q(s[1],o.height),pA(i,t,o.height-s[0]-s[1])):(s[0]=q(s[0],o.width),s[1]=q(s[1],o.width),pA(i,t,o.width-s[0]-s[1])),i.setLayout("layoutInfo",a)})}function pA(n,e,t){if(n.count())for(var d,i=e.coordinateSystem,r=e.getLayerSeries(),a=n.mapDimension("single"),o=n.mapDimension("value"),s=X(r,function(m){return X(m.indices,function(y){var _=i.dataToPoint(n.get(a,y));return _[1]=n.get(o,y),_})}),u=function SK(n){for(var e=n.length,t=n[0].length,i=[],r=[],a=0,o=0;o<t;++o){for(var s=0,u=0;u<e;++u)s+=n[u][o][1];s>a&&(a=s),i.push(s)}for(var c=0;c<t;++c)r[c]=(a-i[c])/2;a=0;for(var h=0;h<t;++h){var p=i[h]+r[h];p>a&&(a=p)}return{y0:r,max:a}}(s),c=u.y0,h=t/u.max,p=r.length,f=r[0].indices.length,v=0;v<f;++v){n.setItemLayout(r[0].indices[v],{layerIndex:0,x:s[0][v][0],y0:d=c[v]*h,y:s[0][v][1]*h});for(var g=1;g<p;++g)n.setItemLayout(r[g].indices[v],{layerIndex:g,x:s[g][v][0],y0:d+=s[g-1][v][1]*h,y:s[g][v][1]*h})}}var TK=function(n){function e(t,i,r,a){var o=n.call(this)||this;o.z2=2,o.textConfig={inside:!0},dt(o).seriesIndex=i.seriesIndex;var s=new Vt({z2:4,silent:t.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,t,i,r,a),o}return B(e,n),e.prototype.updateData=function(t,i,r,a,o){this.node=i,i.piece=this,r=r||this._seriesModel,a=a||this._ecModel;var s=this;dt(s).dataIndex=i.dataIndex;var u=i.getModel(),c=u.getModel("emphasis"),h=i.getLayout(),p=F({},h);p.label=null;var f=i.getVisual("style");f.lineJoin="bevel";var d=i.getVisual("decal");d&&(f.decal=Ps(d,o));var v=xo(u.getModel("itemStyle"),p,!0);F(p,v),M(hn,function(_){var b=s.ensureState(_),C=u.getModel([_,"itemStyle"]);b.style=C.getItemStyle();var x=xo(C,p);x&&(b.shape=x)}),t?(s.setShape(p),s.shape.r=h.r0,le(s,{shape:{r:h.r}},r,i.dataIndex)):(Gt(s,{shape:p},r),vi(s)),s.useStyle(f),this._updateLabel(r);var g=u.getShallow("cursor");g&&s.attr("cursor",g),this._seriesModel=r||this._seriesModel,this._ecModel=a||this._ecModel;var m=c.get("focus");fe(this,"ancestor"===m?i.getAncestorsIndices():"descendant"===m?i.getDescendantIndices():m,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t){var i=this,r=this.node.getModel(),a=r.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,u=(o.startAngle+o.endAngle)/2,c=Math.cos(u),h=Math.sin(u),p=this,f=p.getTextContent(),d=this.node.dataIndex,v=a.get("minAngle")/180*Math.PI,g=a.get("show")&&!(null!=v&&Math.abs(s)<v);function m(y,_){return y.get(_)??a.get(_)}f.ignore=!g,M(Yl,function(y){var _=r.getModel("normal"===y?"label":[y,"label"]),b="normal"===y,C=b?f:f.ensureState(y),x=t.getFormattedLabel(d,y);b&&(x=x||i.node.name),C.style=te(_,{},null,"normal"!==y,!0),x&&(C.style.text=x);var S=_.get("show");null!=S&&!b&&(C.ignore=!S);var z=m(_,"position"),w=b?p:p.states[y],T=w.style.fill;w.textConfig={outsideFill:"inherit"===_.get("color")?T:null,inside:"outside"!==z};var D,I=m(_,"distance")||0,A=m(_,"align"),k=m(_,"rotate"),P=.5*Math.PI,N=1.5*Math.PI,O=Ln("tangential"===k?Math.PI/2-u:u),L=O>P&&!El(O-P)&&O<N;"outside"===z?(D=o.r+I,A=L?"right":"left"):A&&"center"!==A?"left"===A?(D=o.r0+I,A=L?"right":"left"):"right"===A&&(D=o.r-I,A=L?"left":"right"):(D=s===2*Math.PI&&0===o.r0?0:(o.r+o.r0)/2,A="center"),C.style.align=A,C.style.verticalAlign=m(_,"verticalAlign")||"middle",C.x=D*c+o.cx,C.y=D*h+o.cy;var E=0;"radial"===k?E=Ln(-u)+(L?Math.PI:0):"tangential"===k?E=Ln(Math.PI/2-u)+(L?Math.PI:0):Bt(k)&&(E=k*Math.PI/180),C.rotation=Ln(E)}),f.dirtyStyle()},e}(wn);const fA=TK;var k0="sunburstRootToNode",dA="sunburstHighlight",IK=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r,a){var o=this;this.seriesModel=t,this.api=r,this.ecModel=i;var s=t.getData(),u=s.tree.root,c=t.getViewRoot(),h=this.group,p=t.get("renderLabelForZeroData"),f=[];c.eachNode(function(_){f.push(_)}),function v(_,b){function C(S){return S.getId()}function x(S,z){!function g(_,b){if(!p&&_&&!_.getValue()&&(_=null),_!==u&&b!==u)if(b&&b.piece)_?(b.piece.updateData(!1,_,t,i,r),s.setItemGraphicEl(_.dataIndex,b.piece)):function m(_){_&&_.piece&&(h.remove(_.piece),_.piece=null)}(b);else if(_){var C=new fA(_,t,i,r);h.add(C),s.setItemGraphicEl(_.dataIndex,C)}}(null==S?null:_[S],null==z?null:b[z])}0===_.length&&0===b.length||new yr(b,_,C,C).add(x).update(x).remove(yt(x,null)).execute()}(f,this._oldChildren||[]),function y(_,b){b.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,_,t,i,r):(o.virtualPiece=new fA(_,t,i,r),h.add(o.virtualPiece)),b.piece.off("click"),o.virtualPiece.on("click",function(C){o._rootToNode(b.parentNode)})):o.virtualPiece&&(h.remove(o.virtualPiece),o.virtualPiece=null)}(u,c),this._initEvents(),this._oldChildren=f},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(i){var r=!1;t.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===i.target){var s=o.getModel().get("nodeClick");if("rootToNode"===s)t._rootToNode(o);else if("link"===s){var u=o.getModel(),c=u.get("link");c&&Xh(c,u.get("target",!0)||"_blank")}r=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:k0,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,i){var a=i.getData().getItemLayout(0);if(a){var o=t[0]-a.cx,s=t[1]-a.cy,u=Math.sqrt(o*o+s*s);return u<=a.r&&u>=a.r0}},e.type="sunburst",e}(ne);const AK=IK;var kK=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return B(e,n),e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};vA(r);var a=this._levelModels=X(t.levels||[],function(u){return new ee(u,this,i)},this),o=Ay.createTree(r,this,function s(u){u.wrapMethod("getItemModel",function(c,h){var p=o.getNodeByDataIndex(h),f=a[p.depth];return f&&(c.parentModel=f),c})});return o.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=sf(r,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){zM(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(ce);function vA(n){var e=0;M(n.children,function(i){vA(i);var r=i.value;H(r)&&(r=r[0]),e+=r});var t=n.value;H(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=e),t<0&&(t=0),H(n.value)?n.value[0]=t:n.value=t}const PK=kK;var gA=Math.PI/180;function RK(n,e,t){e.eachSeriesByType(n,function(i){var r=i.get("center"),a=i.get("radius");H(a)||(a=[0,a]),H(r)||(r=[r,r]);var o=t.getWidth(),s=t.getHeight(),u=Math.min(o,s),c=q(r[0],o),h=q(r[1],s),p=q(a[0],u/2),f=q(a[1],u/2),d=-i.get("startAngle")*gA,v=i.get("minAngle")*gA,g=i.getData().tree.root,m=i.getViewRoot(),y=m.depth,_=i.get("sort");null!=_&&mA(m,_);var b=0;M(m.children,function(O){!isNaN(O.getValue())&&b++});var C=m.getValue(),x=Math.PI/(C||b)*2,S=m.depth>0,w=(f-p)/(m.height-(S?-1:1)||1),T=i.get("clockwise"),D=i.get("stillShowZeroSum"),I=T?1:-1,A=function(O,L){if(O){var E=L;if(O!==g){var V=O.getValue(),j=0===C&&D?x:V*x;j<v&&(j=v),E=L+I*j;var $=O.depth-y-(S?-1:1),it=p+w*$,ot=p+w*($+1),st=i.getLevelModel(O);if(st){var Tt=st.get("r0",!0),kt=st.get("r",!0),Dt=st.get("radius",!0);null!=Dt&&(Tt=Dt[0],kt=Dt[1]),null!=Tt&&(it=q(Tt,u/2)),null!=kt&&(ot=q(kt,u/2))}O.setLayout({angle:j,startAngle:L,endAngle:E,clockwise:T,cx:c,cy:h,r0:it,r:ot})}if(O.children&&O.children.length){var pt=0;M(O.children,function(Mt){pt+=A(Mt,L+pt)})}return E-L}};if(S){var N=2*Math.PI;g.setLayout({angle:N,startAngle:d,endAngle:d+N,clockwise:T,cx:c,cy:h,r0:p,r:p+w})}A(m,d)})}function mA(n,e){var t=n.children||[];n.children=function NK(n,e){if(at(e)){var t=X(n,function(r,a){var o=r.getValue();return{params:{depth:r.depth,height:r.height,dataIndex:r.dataIndex,getValue:function(){return o}},index:a}});return t.sort(function(r,a){return e(r.params,a.params)}),X(t,function(r){return n[r.index]})}var i="asc"===e;return n.sort(function(r,a){var o=(r.getValue()-a.getValue())*(i?1:-1);return 0===o?(r.dataIndex-a.dataIndex)*(i?-1:1):o})}(t,e),t.length&&M(n.children,function(i){mA(i,e)})}function OK(n){var e={};n.eachSeriesByType("sunburst",function(i){var r=i.getData(),a=r.tree;a.eachNode(function(o){var u=o.getModel().getModel("itemStyle").getItemStyle();u.fill||(u.fill=function t(i,r,a){for(var o=i;o&&o.depth>1;)o=o.parentNode;var s=r.getColorFromPalette(o.name||o.dataIndex+"",e);return i.depth>1&&Q(s)&&(s=Jd(s,(i.depth-1)/(a-1)*.5)),s}(o,i,a.root.height)),F(r.ensureUniqueItemVisual(o.dataIndex,"style"),u)})})}var yA={color:"fill",borderColor:"stroke"},LK={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},zr=Nt(),BK=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,i){return _r(null,this)},e.prototype.getDataParams=function(t,i,r){var a=n.prototype.getDataParams.call(this,t,i);return r&&(a.info=zr(r).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(ce);const VK=BK;function FK(n,e){return e=e||[0,0],X(["x","y"],function(t,i){var r=this.getAxis(t),a=e[i],o=n[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(a-o)-r.dataToCoord(a+o))},this)}function HK(n,e){return e=e||[0,0],X([0,1],function(t){var i=e[t],r=n[t]/2,a=[],o=[];return a[t]=i-r,o[t]=i+r,a[1-t]=o[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(o)[t])},this)}function jK(n,e){var t=this.getAxis(),i=e instanceof Array?e[0]:e,r=(n instanceof Array?n[0]:n)/2;return"category"===t.type?t.getBandWidth():Math.abs(t.dataToCoord(i-r)-t.dataToCoord(i+r))}function WK(n,e){return e=e||[0,0],X(["Radius","Angle"],function(t,i){var a=this["get"+t+"Axis"](),o=e[i],s=n[i]/2,u="category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return"Angle"===t&&(u=u*Math.PI/180),u},this)}function _A(n,e,t,i){return n&&(n.legacy||!1!==n.legacy&&!t&&!i&&"tspan"!==e&&("text"===e||et(n,"text")))}function bA(n,e,t){var r,a,o,i=n;if("text"===e)o=i;else{o={},et(i,"text")&&(o.text=i.text),et(i,"rich")&&(o.rich=i.rich),et(i,"textFill")&&(o.fill=i.textFill),et(i,"textStroke")&&(o.stroke=i.textStroke),et(i,"fontFamily")&&(o.fontFamily=i.fontFamily),et(i,"fontSize")&&(o.fontSize=i.fontSize),et(i,"fontStyle")&&(o.fontStyle=i.fontStyle),et(i,"fontWeight")&&(o.fontWeight=i.fontWeight),a={type:"text",style:o,silent:!0},r={};var s=et(i,"textPosition");t?r.position=s?i.textPosition:"inside":s&&(r.position=i.textPosition),et(i,"textPosition")&&(r.position=i.textPosition),et(i,"textOffset")&&(r.offset=i.textOffset),et(i,"textRotation")&&(r.rotation=i.textRotation),et(i,"textDistance")&&(r.distance=i.textDistance)}return CA(o,n),M(o.rich,function(u){CA(u,u)}),{textConfig:r,textContent:a}}function CA(n,e){e&&(e.font=e.textFont||e.font,et(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),et(e,"textAlign")&&(n.align=e.textAlign),et(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),et(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),et(e,"textWidth")&&(n.width=e.textWidth),et(e,"textHeight")&&(n.height=e.textHeight),et(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),et(e,"textPadding")&&(n.padding=e.textPadding),et(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),et(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),et(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),et(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),et(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),et(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),et(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function SA(n,e,t){var i=n;i.textPosition=i.textPosition||t.position||"inside",null!=t.offset&&(i.textOffset=t.offset),null!=t.rotation&&(i.textRotation=t.rotation),null!=t.distance&&(i.textDistance=t.distance);var r=i.textPosition.indexOf("inside")>=0,a=n.fill||"#000";xA(i,e);var o=null==i.textFill;return r?o&&(i.textFill=t.insideFill||"#fff",!i.textStroke&&t.insideStroke&&(i.textStroke=t.insideStroke),!i.textStroke&&(i.textStroke=a),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(o&&(i.textFill=n.fill||t.outsideFill||"#000"),!i.textStroke&&t.outsideStroke&&(i.textStroke=t.outsideStroke)),i.text=e.text,i.rich=e.rich,M(e.rich,function(s){xA(s,s)}),i}function xA(n,e){e&&(et(e,"fill")&&(n.textFill=e.fill),et(e,"stroke")&&(n.textStroke=e.fill),et(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),et(e,"font")&&(n.font=e.font),et(e,"fontStyle")&&(n.fontStyle=e.fontStyle),et(e,"fontWeight")&&(n.fontWeight=e.fontWeight),et(e,"fontSize")&&(n.fontSize=e.fontSize),et(e,"fontFamily")&&(n.fontFamily=e.fontFamily),et(e,"align")&&(n.textAlign=e.align),et(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),et(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),et(e,"width")&&(n.textWidth=e.width),et(e,"height")&&(n.textHeight=e.height),et(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),et(e,"padding")&&(n.textPadding=e.padding),et(e,"borderColor")&&(n.textBorderColor=e.borderColor),et(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),et(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),et(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),et(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),et(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),et(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),et(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),et(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),et(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),et(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var zA={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},wA=At(zA),bf=(ki(Ei,function(n,e){return n[e]=1,n},{}),Ei.join(", "),["","style","shape","extra"]),$s=Nt();function P0(n,e,t,i,r){var a=n+"Animation",o=us(n,i,r)||{},s=$s(e).userDuring;return o.duration>0&&(o.during=s?J(JK,{el:e,userDuring:s}):null,o.setToFinal=!0,o.scope=n),F(o,t[a]),o}function Cf(n,e,t,i){var r=(i=i||{}).dataIndex,a=i.isInit,o=i.clearStyle,s=t.isAnimationEnabled(),u=$s(n),c=e.style;u.userDuring=e.during;var h={},p={};if(function eQ(n,e,t){for(var i=0;i<wA.length;i++){var r=wA[i],a=zA[r],o=e[r];o&&(t[a[0]]=o[0],t[a[1]]=o[1])}for(i=0;i<Ei.length;i++){var s=Ei[i];null!=e[s]&&(t[s]=e[s])}}(0,e,p),MA("shape",e,p),MA("extra",e,p),!a&&s&&(function tQ(n,e,t){for(var i=e.transition,r=Eo(i)?Ei:Zt(i||[]),a=0;a<r.length;a++){var o=r[a];"style"!==o&&"shape"!==o&&"extra"!==o&&(t[o]=n[o])}}(n,e,h),DA("shape",n,e,h),DA("extra",n,e,h),function nQ(n,e,t,i){if(t){var a,r=n.style;if(r){var o=t.transition,s=e.transition;if(o&&!Eo(o)){var u=Zt(o);!a&&(a=i.style={});for(var c=0;c<u.length;c++)a[h=u[c]]=r[h]}else if(n.getAnimationStyleProps&&(Eo(s)||Eo(o)||zt(s,"style")>=0)){var f=n.getAnimationStyleProps(),d=f?f.style:null;if(d){!a&&(a=i.style={});var v=At(t);for(c=0;c<v.length;c++){var h;d[h=v[c]]&&(a[h]=r[h])}}}}}}(n,e,c,h)),p.style=c,function ZK(n,e,t){var i=e.style;if(!n.isGroup&&i){if(t){n.useStyle({});for(var r=n.animators,a=0;a<r.length;a++){var o=r[a];"style"===o.targetName&&o.changeTarget(n.style)}}n.setStyle(i)}e&&(e.style=null,e&&n.attr(e),e.style=i)}(n,p,o),function KK(n,e){et(e,"silent")&&(n.silent=e.silent),et(e,"ignore")&&(n.ignore=e.ignore),n instanceof Wn&&et(e,"invisible")&&(n.invisible=e.invisible),n instanceof It&&et(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}(n,e),s)if(a){var f={};M(bf,function(v){var g=v?e[v]:e;g&&g.enterFrom&&(v&&(f[v]=f[v]||{}),F(v?f[v]:f,g.enterFrom))});var d=P0("enter",n,e,t,r);d.duration>0&&n.animateFrom(f,d)}else!function qK(n,e,t,i,r){if(r){var a=P0("update",n,e,i,t);a.duration>0&&n.animateFrom(r,a)}}(n,e,r||0,t,h);TA(n,e),c?n.dirty():n.markRedraw()}function TA(n,e){for(var t=$s(n).leaveToProps,i=0;i<bf.length;i++){var r=bf[i],a=r?e[r]:e;a&&a.leaveTo&&(t||(t=$s(n).leaveToProps={}),r&&(t[r]=t[r]||{}),F(r?t[r]:t,a.leaveTo))}}function Sf(n,e,t,i){if(n){var r=n.parent,a=$s(n).leaveToProps;if(a){var o=P0("update",n,e,t,0);o.done=function(){r.remove(n),i&&i()},n.animateTo(a,o)}else r.remove(n),i&&i()}}function Eo(n){return"all"===n}var Qi={},QK={setTransform:function(n,e){return Qi.el[n]=e,this},getTransform:function(n){return Qi.el[n]},setShape:function(n,e){var t=Qi.el;return(t.shape||(t.shape={}))[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=Qi.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=Qi.el,i=t.style;return i&&(i[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=Qi.el.style;if(e)return e[n]},setExtra:function(n,e){return(Qi.el.extra||(Qi.el.extra={}))[n]=e,this},getExtra:function(n){var e=Qi.el.extra;if(e)return e[n]}};function JK(){var n=this,e=n.el;if(e){var t=$s(e).userDuring,i=n.userDuring;if(t!==i)return void(n.el=n.userDuring=null);Qi.el=e,i(QK)}}function DA(n,e,t,i){var r=t[n];if(r){var o,a=e[n];if(a){var s=t.transition,u=r.transition;if(u)if(!o&&(o=i[n]={}),Eo(u))F(o,a);else for(var c=Zt(u),h=0;h<c.length;h++)o[p=c[h]]=f=a[p];else if(Eo(s)||zt(s,n)>=0){!o&&(o=i[n]={});var d=At(a);for(h=0;h<d.length;h++){var p,f;iQ(r[p=d[h]],f=a[p])&&(o[p]=f)}}}}}function MA(n,e,t){var i=e[n];if(i)for(var r=t[n]={},a=At(i),o=0;o<a.length;o++){var s=a[o];r[s]=kl(i[s])}}function iQ(n,e){return Ke(n)?n!==e:null!=n&&isFinite(n)}var IA=Nt(),rQ=["percent","easing","shape","style","extra"];function AA(n){n.stopAnimation("keyframe"),n.attr(IA(n))}function xf(n,e,t){if(t.isAnimationEnabled()&&e){if(H(e))return void M(e,function(s){xf(n,s,t)});var i=e.keyframes,r=e.duration;if(t&&null==r){var a=us("enter",t,0);r=a&&a.duration}if(i&&r){var o=IA(n);M(bf,function(s){var u;s&&!n[s]||(i.sort(function(h,p){return h.percent-p.percent}),M(i,function(h){var p=n.animators,f=s?h[s]:h;if(f){var d=At(f);if(s||(d=Ut(d,function(m){return zt(rQ,m)<0})),d.length){u||((u=n.animate(s,e.loop,!0)).scope="keyframe");for(var v=0;v<p.length;v++)p[v]!==u&&p[v].targetName===u.targetName&&p[v].stopTracks(d);s&&(o[s]=o[s]||{});var g=s?o[s]:o;M(d,function(m){g[m]=((s?n[s]:n)||{})[m]}),u.whenWithKeys(r*h.percent,f,d,h.easing)}}}),u&&u.delay(e.delay||0).duration(r).start(e.easing))})}}}var wr="emphasis",ca="normal",R0="blur",N0="select",ha=[ca,wr,R0,N0],O0={normal:["itemStyle"],emphasis:[wr,"itemStyle"],blur:[R0,"itemStyle"],select:[N0,"itemStyle"]},E0={normal:["label"],emphasis:[wr,"label"],blur:[R0,"label"],select:[N0,"label"]},aQ=["x","y"],oQ="e\0\0",ii={normal:{},emphasis:{},blur:{},select:{}},sQ={cartesian2d:function GK(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:J(FK,n)}}},geo:function XK(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:J(HK,n)}}},single:function YK(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:J(jK,n)}}},polar:function UK(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var a=e.dataToRadius(r[0]),o=t.dataToAngle(r[1]),s=n.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:J(WK,n)}}},calendar:function $K(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}};function L0(n){return n instanceof It}function B0(n){return n instanceof Wn}var uQ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r,a){this._progressiveEls=null;var o=this._data,s=t.getData(),u=this.group,c=PA(t,s,i,r);o||u.removeAll(),s.diff(o).add(function(p){G0(r,null,p,c(p,a),t,u,s)}).remove(function(p){var f=o.getItemGraphicEl(p);f&&Sf(f,zr(f).option,t)}).update(function(p,f){var d=o.getItemGraphicEl(f);G0(r,d,p,c(p,a),t,u,s)}).execute();var h=t.get("clip",!0)?Ru(t.coordinateSystem,!1,t):null;h?u.setClipPath(h):u.removeClipPath(),this._data=s},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,i,r,a,o){var s=i.getData(),u=PA(i,s,r,a),c=this._progressiveEls=[];function h(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var p=t.start;p<t.end;p++){var f=G0(null,null,p,u(p,o),i,this.group,s);f&&(f.traverse(h),c.push(f))}},e.prototype.eachRendered=function(t){Jr(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,i,r,a){var o=i.element;if(null==o||r.name===o)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===o)return!0;return!1},e.type="custom",e}(ne);const cQ=uQ;function V0(n){var t,e=n.type;if("path"===e){var i=n.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,a=LA(i);t=up(a,null,r,i.layout||"center"),zr(t).customPathData=a}else if("image"===e)t=new Ye({}),zr(t).customImagePath=n.style.image;else if("text"===e)t=new Vt({});else if("group"===e)t=new ft;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var o=Qg(e);o||jt(""),t=new o}return zr(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function F0(n,e,t,i,r,a,o){AA(e);var s=r&&r.normal.cfg;s&&e.setTextConfig(s),i&&null==i.transition&&(i.transition=aQ);var u=i&&i.style;if(u){if("text"===e.type){var c=u;et(c,"textFill")&&(c.fill=c.textFill),et(c,"textStroke")&&(c.stroke=c.textStroke)}var h=void 0,p=L0(e)?u.decal:null;n&&p&&(p.dirty=!0,h=Ps(p,n)),u.__decalPattern=h}B0(e)&&u&&(h=u.__decalPattern)&&(u.decal=h),Cf(e,i,a,{dataIndex:t,isInit:o,clearStyle:!0}),xf(e,i.keyframeAnimation,a)}function kA(n,e,t,i,r){var a=e.isGroup?null:e,o=r&&r[n].cfg;if(a){var s=a.ensureState(n);if(!1===i){var u=a.getState(n);u&&(u.style=null)}else s.style=i||null;o&&(s.textConfig=o),Za(a)}}function pQ(n,e,t){var i=t===ca,r=i?e:zf(e,t),a=r?r.z2:null;null!=a&&((i?n:n.ensureState(t)).z2=a||0)}function PA(n,e,t,i){var r=n.get("renderItem"),a=n.coordinateSystem,o={};a&&(o=a.prepareCustoms?a.prepareCustoms(a):sQ[a.type](a));for(var c,h,s=lt({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function C(P,N){return null==N&&(N=c),e.getStore().get(e.getDimensionIndex(P||0),N)},style:function S(P,N){null==N&&(N=c);var O=e.getItemVisual(N,"style"),L=O&&O.fill,E=O&&O.opacity,V=_(N,ca).getItemStyle();null!=L&&(V.fill=L),null!=E&&(V.opacity=E);var j={inheritColor:Q(L)?L:"#000"},$=b(N,ca),it=te($,null,j,!1,!0);it.text=$.getShallow("show")?mt(n.getFormattedLabel(N,ca),Ls(e,N)):null;var ot=Nh($,j,!1);return T(P,V),V=SA(V,it,ot),P&&w(V,P),V.legacy=!0,V},ordinalRawValue:function x(P,N){null==N&&(N=c);var O=e.getDimensionInfo(P=P||0);if(!O){var L=e.getDimensionIndex(P);return L>=0?e.getStore().get(L,N):void 0}var E=e.get(O.name,N),V=O&&O.ordinalMeta;return V?V.categories[E]:E},styleEmphasis:function z(P,N){null==N&&(N=c);var O=_(N,wr).getItemStyle(),L=b(N,wr),E=te(L,null,null,!0,!0);E.text=L.getShallow("show")?Pi(n.getFormattedLabel(N,wr),n.getFormattedLabel(N,ca),Ls(e,N)):null;var V=Nh(L,null,!0);return T(P,O),O=SA(O,E,V),P&&w(O,P),O.legacy=!0,O},visual:function D(P,N){if(null==N&&(N=c),et(yA,P)){var O=e.getItemVisual(N,"style");return O?O[yA[P]]:null}if(et(LK,P))return e.getItemVisual(N,P)},barLayout:function I(P){if("cartesian2d"===a.type)return function R6(n){var e=[],t=n.axis,i="axis0";if("category"===t.type){for(var r=t.getBandWidth(),a=0;a<n.count;a++)e.push(lt({bandWidth:r,axisKey:i,stackId:Wm+a},n));var o=dD(e),s=[];for(a=0;a<n.count;a++){var u=o[i][Wm+a];u.offsetCenter=u.offset+u.width/2,s.push(u)}return s}}(lt({axis:a.getBaseAxis()},P))},currentSeriesIndices:function A(){return t.getCurrentSeriesIndices()},font:function k(P){return lg(P,t)}},o.api||{}),u={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:fQ(n.getData())},p={},f={},d={},v={},g=0;g<ha.length;g++){var m=ha[g];d[m]=n.getModel(O0[m]),v[m]=n.getModel(E0[m])}function y(P){return P===c?h||(h=e.getItemModel(P)):e.getItemModel(P)}function _(P,N){return e.hasItemOption?P===c?p[N]||(p[N]=y(P).getModel(O0[N])):y(P).getModel(O0[N]):d[N]}function b(P,N){return e.hasItemOption?P===c?f[N]||(f[N]=y(P).getModel(E0[N])):y(P).getModel(E0[N]):v[N]}return function(P,N){return c=P,h=null,p={},f={},r&&r(lt({dataIndexInside:P,dataIndex:e.getRawIndex(P),actionType:N?N.type:null},u),s)};function w(P,N){for(var O in N)et(N,O)&&(P[O]=N[O])}function T(P,N){P&&(P.textFill&&(N.textFill=P.textFill),P.textPosition&&(N.textPosition=P.textPosition))}}function fQ(n){var e={};return M(n.dimensions,function(t){var i=n.getDimensionInfo(t);if(!i.isExtraCoord){var r=i.coordDim;(e[r]=e[r]||[])[i.coordDimIndex]=n.getDimensionIndex(t)}}),e}function G0(n,e,t,i,r,a,o){if(i){var s=H0(n,e,t,i,r,a);return s&&o.setItemGraphicEl(t,s),s&&fe(s,i.focus,i.blurScope,i.emphasisDisabled),s}a.remove(e)}function H0(n,e,t,i,r,a){var o=-1,s=e;e&&RA(e,i,r)&&(o=zt(a.childrenRef(),e),e=null);var u=!e,c=e;c?c.clearStates():(c=V0(i),s&&function lQ(n,e){e.copyTransform(n),B0(e)&&B0(n)&&(e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e.invisible=n.invisible,e.ignore=n.ignore,L0(e)&&L0(n)&&e.setShape(n.shape))}(s,c)),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),ii.normal.cfg=ii.normal.conOpt=ii.emphasis.cfg=ii.emphasis.conOpt=ii.blur.cfg=ii.blur.conOpt=ii.select.cfg=ii.select.conOpt=null,ii.isLegacy=!1,function vQ(n,e,t,i,r,a){if(!n.isGroup){NA(t,null,a),NA(t,wr,a);var o=a.normal.conOpt;if(null!=o||null!=a.emphasis.conOpt||null!=a.select.conOpt||null!=a.blur.conOpt){var h=n.getTextContent();if(!1===o)h&&n.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},h?h.clearStates():(h=V0(o),n.setTextContent(h)),F0(null,h,e,o,null,i,r);for(var p=o&&o.style,f=0;f<ha.length;f++){var d=ha[f];if(d!==ca)kA(d,h,0,X0(o,a[d].conOpt,d),null)}p?h.dirty():h.markRedraw()}}}}(c,t,i,r,u,ii),function dQ(n,e,t,i,r){var a=t.clipPath;if(!1===a)n&&n.getClipPath()&&n.removeClipPath();else if(a){var o=n.getClipPath();o&&RA(o,a,i)&&(o=null),o||(o=V0(a),n.setClipPath(o)),F0(null,o,e,a,null,i,r)}}(c,t,i,r,u),F0(n,c,t,i,ii,r,u),et(i,"info")&&(zr(c).info=i.info);for(var h=0;h<ha.length;h++){var p=ha[h];if(p!==ca)kA(p,c,0,X0(i,zf(i,p),p),ii)}return function hQ(n,e,t){if(!n.isGroup){var i=n,a=t.currentZLevel;i.z=t.currentZ,i.zlevel=a;var o=e.z2;null!=o&&(i.z2=o||0);for(var s=0;s<ha.length;s++)pQ(i,e,ha[s])}}(c,i,r),"group"===i.type&&function gQ(n,e,t,i,r){var a=i.children,o=a?a.length:0,s=i.$mergeChildren,u="byName"===s||i.diffChildrenByName,c=!1===s;if(o||u||c){if(u)return void function yQ(n){new yr(n.oldChildren,n.newChildren,OA,OA,n).add(EA).update(EA).remove(_Q).execute()}({api:n,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:r,group:e});c&&e.removeAll();for(var h=0;h<o;h++){var p=a[h],f=e.childAt(h);p?(null==p.ignore&&(p.ignore=!1),H0(n,f,t,p,r,e)):f.ignore=!0}for(var d=e.childCount()-1;d>=h;d--){var v=e.childAt(d);mQ(e,v,r)}}}(n,c,t,i,r),o>=0?a.replaceAt(c,o):a.add(c),c}function RA(n,e,t){var i=zr(n),r=e.type,a=e.shape,o=e.style;return t.isUniversalTransitionEnabled()||null!=r&&r!==i.customGraphicType||"path"===r&&function bQ(n){return n&&(et(n,"pathData")||et(n,"d"))}(a)&&LA(a)!==i.customPathData||"image"===r&&et(o,"image")&&o.image!==i.customImagePath}function NA(n,e,t){var i=e?zf(n,e):n,r=e?X0(n,i,wr):n.style,a=n.type,o=i?i.textConfig:null,s=n.textContent,u=s?e?zf(s,e):s:null;if(r&&(t.isLegacy||_A(r,a,!!o,!!u))){t.isLegacy=!0;var c=bA(r,a,!e);!o&&c.textConfig&&(o=c.textConfig),!u&&c.textContent&&(u=c.textContent)}!e&&u&&!u.type&&(u.type="text");var p=e?t[e]:t.normal;p.cfg=o,p.conOpt=u}function zf(n,e){return e?n?n[e]:null:n}function X0(n,e,t){var i=e&&e.style;return null==i&&t===wr&&n&&(i=n.styleEmphasis),i}function mQ(n,e,t){e&&Sf(e,zr(n).option,t)}function OA(n,e){return(n&&n.name)??oQ+e}function EA(n,e){var t=this.context;H0(t.api,null!=e?t.oldChildren[e]:null,t.dataIndex,null!=n?t.newChildren[n]:null,t.seriesModel,t.group)}function _Q(n){var e=this.context,t=e.oldChildren[n];t&&Sf(t,zr(t).option,e.seriesModel)}function LA(n){return n&&(n.pathData||n.d)}var Lo=Nt(),BA=ht,j0=J,SQ=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,i,r){var a=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,r||this._lastValue!==a||this._lastStatus!==o){this._lastValue=a,this._lastStatus=o;var s=this._group,u=this._handle;if(!o||"hide"===o)return s&&s.hide(),void(u&&u.hide());s&&s.show(),u&&u.show();var c={};this.makeElOption(c,a,e,t,i);var h=c.graphicKey;h!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=h;var p=this._moveAnimation=this.determineAnimation(e,t);if(s){var f=yt(VA,t,p);this.updatePointerEl(s,c,f),this.updateLabelEl(s,c,f,t)}else s=this._group=new ft,this.createPointerEl(s,c,e,t),this.createLabelEl(s,c,e,t),i.getZr().add(s);HA(s,t,!0),this._renderHandle(a)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var i=t.get("animation"),r=e.axis,a="category"===r.type,o=t.get("snap");if(!o&&!a)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(a&&r.getBandWidth()>s)return!0;if(o){var u=py(e).seriesDataCount,c=r.getExtent();return Math.abs(c[0]-c[1])/u>s}return!1}return!0===i},n.prototype.makeElOption=function(e,t,i,r,a){},n.prototype.createPointerEl=function(e,t,i,r){var a=t.pointer;if(a){var o=Lo(e).pointerEl=new Pn[a.type](BA(t.pointer));e.add(o)}},n.prototype.createLabelEl=function(e,t,i,r){if(t.label){var a=Lo(e).labelEl=new Vt(BA(t.label));e.add(a),GA(a,r)}},n.prototype.updatePointerEl=function(e,t,i){var r=Lo(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,i,r){var a=Lo(e).labelEl;a&&(a.setStyle(t.label.style),i(a,{x:t.label.x,y:t.label.y}),GA(a,r))},n.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var s,t=this._axisPointerModel,i=this._api.getZr(),r=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||"hide"===o)return r&&i.remove(r),void(this._handle=null);this._handle||(s=!0,r=this._handle=pu(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){or(c.event)},onmousedown:j0(this._onHandleDragMove,this,0,0),drift:j0(this._onHandleDragMove,this),ondragend:j0(this._onHandleDragEnd,this)}),i.add(r)),HA(r,t,!1),r.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");H(u)||(u=[u,u]),r.scaleX=u[0]/2,r.scaleY=u[1]/2,Ms(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},n.prototype._moveHandleToValue=function(e,t){VA(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Y0(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(Y0(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(Y0(r)),Lo(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),du(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},n}();function VA(n,e,t,i){FA(Lo(t).lastProp,i)||(Lo(t).lastProp=i,e?Gt(t,i,n):(t.stopAnimation(),t.attr(i)))}function FA(n,e){if(ct(n)&&ct(e)){var t=!0;return M(e,function(i,r){t=t&&FA(n[r],i)}),!!t}return n===e}function GA(n,e){n[e.get(["label","show"])?"show":"hide"]()}function Y0(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function HA(n,e,t){var i=e.get("z"),r=e.get("zlevel");n&&n.traverse(function(a){"group"!==a.type&&(null!=i&&(a.z=i),null!=r&&(a.zlevel=r),a.silent=t)})}const W0=SQ;function U0(n){var i,e=n.get("type"),t=n.getModel(e+"Style");return"line"===e?(i=t.getLineStyle()).fill=null:"shadow"===e&&((i=t.getAreaStyle()).stroke=null),i}function XA(n,e,t,i,r){var o=jA(t.get("value"),e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),u=gs(s.get("padding")||0),c=s.getFont(),h=Nl(o,c),p=r.position,f=h.width+u[1]+u[3],d=h.height+u[0]+u[2],v=r.align;"right"===v&&(p[0]-=f),"center"===v&&(p[0]-=f/2);var g=r.verticalAlign;"bottom"===g&&(p[1]-=d),"middle"===g&&(p[1]-=d/2),function xQ(n,e,t,i){var r=i.getWidth(),a=i.getHeight();n[0]=Math.min(n[0]+e,r)-e,n[1]=Math.min(n[1]+t,a)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}(p,f,d,i);var m=s.get("backgroundColor");(!m||"auto"===m)&&(m=e.get(["axisLine","lineStyle","color"])),n.label={x:p[0],y:p[1],style:te(s,{text:o,font:c,fill:s.getTextColor(),padding:u,backgroundColor:m}),z2:10}}function jA(n,e,t,i,r){n=e.scale.parse(n);var a=e.scale.getLabel({value:n},{precision:r.precision}),o=r.formatter;if(o){var s={value:ay(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};M(i,function(u){var c=t.getSeriesByIndex(u.seriesIndex),p=c&&c.getDataParams(u.dataIndexInside);p&&s.seriesData.push(p)}),Q(o)?a=o.replace("{value}",a):at(o)&&(a=o(s))}return a}function $0(n,e,t){var i=[1,0,0,1,0,0];return Da(i,i,t.rotation),Ri(i,i,t.position),_i([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function YA(n,e,t,i,r,a){var o=Cr.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),XA(e,i,r,a,{position:$0(i.axis,n,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function Z0(n,e,t){return{x1:n[t=t||0],y1:n[1-t],x2:e[t],y2:e[1-t]}}function WA(n,e,t){return{x:n[t=t||0],y:n[1-t],width:e[t],height:e[1-t]}}function UA(n,e,t,i,r,a){return{cx:n,cy:e,r0:t,r:i,startAngle:r,endAngle:a,clockwise:!0}}var zQ=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.makeElOption=function(t,i,r,a,o){var s=r.axis,u=s.grid,c=a.get("type"),h=$A(u,s).getOtherAxis(s).getGlobalExtent(),p=s.toGlobalCoord(s.dataToCoord(i,!0));if(c&&"none"!==c){var f=U0(a),d=wQ[c](s,p,h);d.style=f,t.graphicKey=d.type,t.pointer=d}YA(i,t,ly(u.model,r),r,a,o)},e.prototype.getHandleTransform=function(t,i,r){var a=ly(i.axis.grid.model,i,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var o=$0(i.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,a){var o=r.axis,s=o.grid,u=o.getGlobalExtent(!0),c=$A(s,o).getOtherAxis(o).getGlobalExtent(),h="x"===o.dim?0:1,p=[t.x,t.y];p[h]+=i[h],p[h]=Math.min(u[1],p[h]),p[h]=Math.max(u[0],p[h]);var f=(c[1]+c[0])/2,d=[f,f];return d[h]=p[h],{x:p[0],y:p[1],rotation:t.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][h]}},e}(W0);function $A(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var wQ={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:Z0([e,t[0]],[e,t[1]],ZA(n))}},shadow:function(n,e,t){var i=Math.max(1,n.getBandWidth());return{type:"Rect",shape:WA([e-i/2,t[0]],[i,t[1]-t[0]],ZA(n))}}};function ZA(n){return"x"===n.dim?0:1}const TQ=zQ;var DQ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Ft);const MQ=DQ;var Tr=Nt(),IQ=M;function qA(n,e,t){if(!Lt.node){var i=e.getZr();Tr(i).records||(Tr(i).records={}),function AQ(n,e){function t(i,r){n.on(i,function(a){var o=function RQ(n){var e={showTip:[],hideTip:[]},t=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=t,n.dispatchAction(i))};return{dispatchAction:t,pendings:e}}(e);IQ(Tr(n).records,function(s){s&&r(s,a,o.dispatchAction)}),function kQ(n,e){var r,t=n.showTip.length,i=n.hideTip.length;t?r=n.showTip[t-1]:i&&(r=n.hideTip[i-1]),r&&(r.dispatchAction=null,e.dispatchAction(r))}(o.pendings,e)})}Tr(n).initialized||(Tr(n).initialized=!0,t("click",yt(KA,"click")),t("mousemove",yt(KA,"mousemove")),t("globalout",PQ))}(i,e),(Tr(i).records[n]||(Tr(i).records[n]={})).handler=t}}function PQ(n,e,t){n.handler("leave",null,t)}function KA(n,e,t,i){e.handler(n,t,i)}function q0(n,e){if(!Lt.node){var t=e.getZr();(Tr(t).records||{})[n]&&(Tr(t).records[n]=null)}}var NQ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){var a=i.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";qA("axisPointer",r,function(s,u,c){"none"!==o&&("leave"===s||o.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:u&&u.offsetX,y:u&&u.offsetY})})},e.prototype.remove=function(t,i){q0("axisPointer",i)},e.prototype.dispose=function(t,i){q0("axisPointer",i)},e.type="axisPointer",e}(de);const OQ=NQ;function QA(n,e){var r,t=[],i=n.seriesIndex;if(null==i||!(r=e.getSeriesByIndex(i)))return{point:[]};var a=r.getData(),o=La(a,n);if(null==o||o<0||H(o))return{point:[]};var s=a.getItemGraphicEl(o),u=r.coordinateSystem;if(r.getTooltipPosition)t=r.getTooltipPosition(o)||[];else if(u&&u.dataToPoint)if(n.isStacked){var c=u.getBaseAxis(),p=u.getOtherAxis(c).dim,d="x"===p||"radius"===p?1:0,v=a.mapDimension(c.dim),g=[];g[d]=a.get(v,o),g[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=u.dataToPoint(g)||[]}else t=u.dataToPoint(a.getValues(X(u.dimensions,function(y){return a.mapDimension(y)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:s}}var JA=Nt();function EQ(n,e,t){var i=n.currTrigger,r=[n.x,n.y],a=n,o=n.dispatchAction||J(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){wf(r)&&(r=QA({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var u=wf(r),c=a.axesInfo,h=s.axesInfo,p="leave"===i||wf(r),f={},d={},v={list:[],map:{}},g={showPointer:yt(BQ,d),showTooltip:yt(VQ,v)};M(s.coordSysMap,function(y,_){var b=u||y.containPoint(r);M(s.coordSysAxesInfo[_],function(C,x){var S=C.axis,z=function XQ(n,e){for(var t=0;t<(n||[]).length;t++){var i=n[t];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(c,C);if(!p&&b&&(!c||z)){var w=z&&z.value;null==w&&!u&&(w=S.pointToData(r)),null!=w&&tk(C,w,g,!1,f)}})});var m={};return M(h,function(y,_){var b=y.linkGroup;b&&!d[_]&&M(b.axesInfo,function(C,x){var S=d[x];if(C!==y&&S){var z=S.value;b.mapper&&(z=y.axis.scale.parse(b.mapper(z,ek(C),ek(y)))),m[y.key]=z}})}),M(m,function(y,_){tk(h[_],y,g,!0,f)}),function FQ(n,e,t){var i=t.axesInfo=[];M(e,function(r,a){var o=r.axisPointerModel.option,s=n[a];s?(!r.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(o.status="hide"),"show"===o.status&&i.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:o.value})})}(d,h,f),function GQ(n,e,t,i){if(!wf(e)&&n.list.length){var r=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:n.list})}else i({type:"hideTip"})}(v,r,n,o),function HQ(n,e,t){var i=t.getZr(),r="axisPointerLastHighlights",a=JA(i)[r]||{},o=JA(i)[r]={};M(n,function(c,h){var p=c.axisPointerModel.option;"show"===p.status&&c.triggerEmphasis&&M(p.seriesDataIndices,function(f){o[f.seriesIndex+" | "+f.dataIndex]=f})});var s=[],u=[];M(a,function(c,h){!o[h]&&u.push(c)}),M(o,function(c,h){!a[h]&&s.push(c)}),u.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(h,0,t),f}}function tk(n,e,t,i,r){var a=n.axis;if(!a.scale.isBlank()&&a.containData(e)){if(!n.involveSeries)return void t.showPointer(n,e);var o=function LQ(n,e){var t=e.axis,i=t.dim,r=n,a=[],o=Number.MAX_VALUE,s=-1;return M(e.seriesModels,function(u,c){var p,f,h=u.getData().mapDimensionsAll(i);if(u.getAxisTooltipData){var d=u.getAxisTooltipData(h,n,t);f=d.dataIndices,p=d.nestestValue}else{if(!(f=u.getData().indicesOfNearest(h[0],n,"category"===t.type?.5:null)).length)return;p=u.getData().get(h[0],f[0])}if(null!=p&&isFinite(p)){var v=n-p,g=Math.abs(v);g<=o&&((g<o||v>=0&&s<0)&&(o=g,s=v,r=p,a.length=0),M(f,function(m){a.push({seriesIndex:u.seriesIndex,dataIndexInside:m,dataIndex:u.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:r}}(e,n),s=o.payloadBatch,u=o.snapToValue;s[0]&&null==r.seriesIndex&&F(r,s[0]),!i&&n.snap&&a.containData(u)&&null!=u&&(e=u),t.showPointer(n,e,s),t.showTooltip(n,o,u)}}function BQ(n,e,t,i){n[e.key]={value:t,payloadBatch:i}}function VQ(n,e,t,i){var r=t.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var u=e.coordSys.model,c=Gu(u),h=n.map[c];h||(h=n.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function ek(n){var e=n.axis.model,t={},i=t.axisDim=n.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function wf(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function ac(n){To.registerAxisPointerClass("CartesianAxisPointer",TQ),n.registerComponentModel(MQ),n.registerComponentView(OQ),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!H(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=function xY(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function zY(n,e,t){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),a=r.get("link",!0)||[],o=[];M(t.getCoordinateSystems(),function(s){if(s.axisPointerEnabled){var u=Gu(s.model),c=n.coordSysAxesInfo[u]={};n.coordSysMap[u]=s;var p=s.model.getModel("tooltip",i);if(M(s.getAxes(),yt(g,!1,null)),s.getTooltipAxes&&i&&p.get("show")){var f="axis"===p.get("trigger"),d="cross"===p.get(["axisPointer","type"]),v=s.getTooltipAxes(p.get(["axisPointer","axis"]));(f||d)&&M(v.baseAxes,yt(g,!d||"cross",f)),d&&M(v.otherAxes,yt(g,"cross",!1))}}function g(m,y,_){var b=_.model.getModel("axisPointer",r),C=b.get("show");if(C&&("auto"!==C||m||fy(b))){null==y&&(y=b.get("triggerTooltip")),b=m?function wY(n,e,t,i,r,a){var o=e.getModel("axisPointer"),u={};M(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(f){u[f]=ht(o.get(f))}),u.snap="category"!==n.type&&!!a,"cross"===o.get("type")&&(u.type="line");var c=u.label||(u.label={});if(null==c.show&&(c.show=!1),"cross"===r){var h=o.get(["label","show"]);if(c.show=h??!0,!a){var p=u.lineStyle=o.get("crossStyle");p&&lt(c,p.textStyle)}}return n.model.getModel("axisPointer",new ee(u,t,i))}(_,p,r,e,m,y):b;var x=b.get("snap"),S=b.get("triggerEmphasis"),z=Gu(_.model),w=y||x||"category"===_.type,T=n.axesInfo[z]={key:z,axis:_,coordSys:s,axisPointerModel:b,triggerTooltip:y,triggerEmphasis:S,involveSeries:w,snap:x,useHandle:fy(b),seriesModels:[],linkGroup:null};c[z]=T,n.seriesInvolved=n.seriesInvolved||w;var D=function DY(n,e){for(var t=e.model,i=e.dim,r=0;r<n.length;r++){var a=n[r]||{};if(hy(a[i+"AxisId"],t.id)||hy(a[i+"AxisIndex"],t.componentIndex)||hy(a[i+"AxisName"],t.name))return r}}(a,_);if(null!=D){var I=o[D]||(o[D]={axesInfo:{}});I.axesInfo[z]=T,I.mapper=a[D].mapper,T.linkGroup=I}}}})}(t,n,e),t.seriesInvolved&&function TY(n,e){e.eachSeries(function(t){var i=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!i||"none"===r||!1===r||"item"===r||!1===a||!1===t.get(["axisPointer","show"],!0)||M(n.coordSysAxesInfo[Gu(i.model)],function(o){var s=o.axis;i.getAxis(s.dim)===s&&(o.seriesModels.push(t),null==o.seriesDataCount&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}(t,n),t}(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},EQ)}var YQ=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.makeElOption=function(t,i,r,a,o){var s=r.axis;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var u=s.polar,h=u.getOtherAxis(s).getExtent(),p=s.dataToCoord(i),f=a.get("type");if(f&&"none"!==f){var d=U0(a),v=UQ[f](s,u,p,h);v.style=d,t.graphicKey=v.type,t.pointer=v}var m=function WQ(n,e,t,i,r){var a=e.axis,o=a.dataToCoord(n),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var c,h,p,u=i.getRadiusAxis().getExtent();if("radius"===a.dim){var f=[1,0,0,1,0,0];Da(f,f,s),Ri(f,f,[i.cx,i.cy]),c=_i([o,-r],f);var d=e.getModel("axisLabel").get("rotate")||0,v=Cr.innerTextLayout(s,d*Math.PI/180,-1);h=v.textAlign,p=v.textVerticalAlign}else{var g=u[1];c=i.coordToPoint([g+r,o]);var m=i.cx,y=i.cy;h=Math.abs(c[0]-m)/g<.3?"center":c[0]>m?"left":"right",p=Math.abs(c[1]-y)/g<.3?"middle":c[1]>y?"top":"bottom"}return{position:c,align:h,verticalAlign:p}}(i,r,0,u,a.get(["label","margin"]));XA(t,r,a,o,m)},e}(W0),UQ={line:function(n,e,t,i){return"angle"===n.dim?{type:"Line",shape:Z0(e.coordToPoint([i[0],t]),e.coordToPoint([i[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,i){var r=Math.max(1,n.getBandWidth()),a=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:UA(e.cx,e.cy,i[0],i[1],(-t-r/2)*a,(r/2-t)*a)}:{type:"Sector",shape:UA(e.cx,e.cy,t-r/2,t+r/2,0,2*Math.PI)}}};const $Q=YQ;var ZQ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.findAxisModel=function(t){var i;return this.ecModel.eachComponent(t,function(a){a.getCoordSysModel()===this&&(i=a)},this),i},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Ft);const qQ=ZQ;var K0=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",De).models[0]},e.type="polarAxis",e}(Ft);Te(K0,Lu);var KQ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="angleAxis",e}(K0),QQ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="radiusAxis",e}(K0),Q0=function(n){function e(t,i){return n.call(this,"radius",t,i)||this}return B(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},e}(zi);Q0.prototype.dataToRadius=zi.prototype.dataToCoord,Q0.prototype.radiusToData=zi.prototype.coordToData;const JQ=Q0;var tJ=Nt(),J0=function(n){function e(t,i){return n.call(this,"angle",t,i||[0,360])||this}return B(e,n),e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)["radius"===this.dim?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,i=t.getLabelModel(),r=t.scale,a=r.getExtent(),o=r.count();if(a[1]-a[0]<1)return 0;var s=a[0],u=t.dataToCoord(s+1)-t.dataToCoord(s),c=Math.abs(u),h=Nl(null==s?"":s+"",i.getFont(),"center","top"),f=Math.max(h.height,7)/c;isNaN(f)&&(f=1/0);var d=Math.max(0,Math.floor(f)),v=tJ(t.model),g=v.lastAutoInterval,m=v.lastTickCount;return null!=g&&null!=m&&Math.abs(g-d)<=1&&Math.abs(m-o)<=1&&g>d?d=g:(v.lastTickCount=o,v.lastAutoInterval=d),d},e}(zi);J0.prototype.dataToAngle=zi.prototype.dataToCoord,J0.prototype.angleToData=zi.prototype.coordToData;const eJ=J0;var nk=["radius","angle"],nJ=function(){function n(e){this.dimensions=nk,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new JQ,this._angleAxis=new eJ,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){return this["_"+e+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===e&&t.push(i),r.scale.type===e&&t.push(r),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=this.getAngleAxis(),a=r.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);r.inverse?o=s-360:s=o+360;var u=Math.sqrt(t*t+i*i);t/=u,i/=u;for(var c=Math.atan2(-i,t)/Math.PI*180,h=c<o?1:-1;c<o||c>s;)c+=360*h;return[u,c]},n.prototype.coordToPoint=function(e){var t=e[0],i=e[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]},n.prototype.getArea=function(){var e=this.getAngleAxis(),i=this.getRadiusAxis().getExtent().slice();i[0]>i[1]&&i.reverse();var r=e.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-r[0]*a,endAngle:-r[1]*a,clockwise:e.inverse,contain:function(o,s){var u=o-this.cx,c=s-this.cy,h=u*u+c*c-1e-4,p=this.r,f=this.r0;return h<=p*p&&h>=f*f}}},n.prototype.convertToPixel=function(e,t,i){return ik(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return ik(t)===this?this.pointToData(i):null},n}();function ik(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const iJ=nJ;function aJ(n,e){var t=this,i=t.getAngleAxis(),r=t.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(s){if(s.coordinateSystem===t){var u=s.getData();M(Qp(u,"radius"),function(c){r.scale.unionExtentFromData(u,c)}),M(Qp(u,"angle"),function(c){i.scale.unionExtentFromData(u,c)})}}),Fs(i.scale,i.model),Fs(r.scale,r.model),"category"===i.type&&!i.onBand){var a=i.getExtent(),o=360/i.scale.count();i.inverse?a[1]+=o:a[1]-=o,i.setExtent(a[0],a[1])}}function rk(n,e){var t;if(n.type=e.get("type"),n.scale=Kp(e),n.onBand=e.get("boundaryGap")&&"category"===n.type,n.inverse=e.get("inverse"),function oJ(n){return"angleAxis"===n.mainType}(e)){n.inverse=n.inverse!==e.get("clockwise");var i=e.get("startAngle"),r=null!==(t=e.get("endAngle"))&&void 0!==t?t:i+(n.inverse?-360:360);n.setExtent(i,r)}e.axis=n,n.model=e}var sJ={dimensions:nk,create:function(n,e){var t=[];return n.eachComponent("polar",function(i,r){var a=new iJ(r+"");a.update=aJ;var o=a.getRadiusAxis(),s=a.getAngleAxis(),u=i.findAxisModel("radiusAxis"),c=i.findAxisModel("angleAxis");rk(o,u),rk(s,c),function rJ(n,e,t){var i=e.get("center"),r=t.getWidth(),a=t.getHeight();n.cx=q(i[0],r),n.cy=q(i[1],a);var o=n.getRadiusAxis(),s=Math.min(r,a)/2,u=e.get("radius");null==u?u=[0,"100%"]:H(u)||(u=[0,u]);var c=[q(u[0],s),q(u[1],s)];o.inverse?o.setExtent(c[1],c[0]):o.setExtent(c[0],c[1])}(a,i,e),t.push(a),i.coordinateSystem=a,a.model=i}),n.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var r=i.getReferringComponents("polar",De).models[0];i.coordinateSystem=r.coordinateSystem}}),t}};const lJ=sJ;var uJ=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Tf(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var i=n.coordToPoint([e[0],t]),r=n.coordToPoint([e[1],t]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function Df(n){return n.getRadiusAxis().inverse?0:1}function ak(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var cJ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return B(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=t.axis,a=r.polar,o=a.getRadiusAxis().getExtent(),s=r.getTicksCoords(),u=r.getMinorTicksCoords(),c=X(r.getViewLabels(),function(h){h=ht(h);var p=r.scale,f="ordinal"===p.type?p.getRawOrdinalNumber(h.tickValue):h.tickValue;return h.coord=r.dataToCoord(f),h});ak(c),ak(s),M(uJ,function(h){t.get([h,"show"])&&(!r.scale.isBlank()||"axisLine"===h)&&hJ[h](this.group,t,a,s,u,o,c)},this)}},e.type="angleAxis",e}(To),hJ={axisLine:function(n,e,t,i,r,a){var f,o=e.getModel(["axisLine","lineStyle"]),s=t.getAngleAxis(),u=Math.PI/180,c=s.getExtent(),h=Df(t),p=h?0:1,d=360===Math.abs(c[1]-c[0])?"Circle":"Arc";(f=0===a[p]?new Pn[d]({shape:{cx:t.cx,cy:t.cy,r:a[h],startAngle:-c[0]*u,endAngle:-c[1]*u,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):new np({shape:{cx:t.cx,cy:t.cy,r:a[h],r0:a[p]},style:o.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(f)},axisTick:function(n,e,t,i,r,a){var o=e.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),u=a[Df(t)],c=X(i,function(h){return new He({shape:Tf(t,[u,u+s],h.coord)})});n.add(Qn(c,{style:lt(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,i,r,a){if(r.length){for(var o=e.getModel("axisTick"),s=e.getModel("minorTick"),u=(o.get("inside")?-1:1)*s.get("length"),c=a[Df(t)],h=[],p=0;p<r.length;p++)for(var f=0;f<r[p].length;f++)h.push(new He({shape:Tf(t,[c,c+u],r[p][f].coord)}));n.add(Qn(h,{style:lt(s.getModel("lineStyle").getLineStyle(),lt(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,i,r,a,o){var s=e.getCategories(!0),u=e.getModel("axisLabel"),c=u.get("margin"),h=e.get("triggerEvent");M(o,function(p,f){var d=u,v=p.tickValue,g=a[Df(t)],m=t.coordToPoint([g+c,p.coord]),y=t.cx,_=t.cy,b=Math.abs(m[0]-y)/g<.3?"center":m[0]>y?"left":"right",C=Math.abs(m[1]-_)/g<.3?"middle":m[1]>_?"top":"bottom";if(s&&s[v]){var x=s[v];ct(x)&&x.textStyle&&(d=new ee(x.textStyle,u,u.ecModel))}var S=new Vt({silent:Cr.isLabelSilent(e),style:te(d,{x:m[0],y:m[1],fill:d.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:p.formattedLabel,align:b,verticalAlign:C})});if(n.add(S),h){var z=Cr.makeAxisEventDataBase(e);z.targetType="axisLabel",z.value=p.rawLabel,dt(S).eventData=z}},this)},splitLine:function(n,e,t,i,r,a){var s=e.getModel("splitLine").getModel("lineStyle"),u=s.get("color"),c=0;u=u instanceof Array?u:[u];for(var h=[],p=0;p<i.length;p++){var f=c++%u.length;h[f]=h[f]||[],h[f].push(new He({shape:Tf(t,a,i[p].coord)}))}for(p=0;p<h.length;p++)n.add(Qn(h[p],{style:lt({stroke:u[p%u.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,i,r,a){if(r.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),u=[],c=0;c<r.length;c++)for(var h=0;h<r[c].length;h++)u.push(new He({shape:Tf(t,a,r[c][h].coord)}));n.add(Qn(u,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,i,r,a){if(i.length){var s=e.getModel("splitArea").getModel("areaStyle"),u=s.get("color"),c=0;u=u instanceof Array?u:[u];for(var h=[],p=Math.PI/180,f=-i[0].coord*p,d=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),g=e.get("clockwise"),m=1,y=i.length;m<=y;m++){var _=m===y?i[0].coord:i[m].coord,b=c++%u.length;h[b]=h[b]||[],h[b].push(new wn({shape:{cx:t.cx,cy:t.cy,r0:d,r:v,startAngle:f,endAngle:-_*p,clockwise:g},silent:!0})),f=-_*p}for(m=0;m<h.length;m++)n.add(Qn(h[m],{style:lt({fill:u[m%u.length]},s.getAreaStyle()),silent:!0}))}}};const pJ=cJ;var fJ=["axisLine","axisTickLabel","axisName"],dJ=["splitLine","splitArea","minorSplitLine"],vJ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return B(e,n),e.prototype.render=function(t,i){if(this.group.removeAll(),t.get("show")){var r=this._axisGroup,a=this._axisGroup=new ft;this.group.add(a);var o=t.axis,s=o.polar,u=s.getAngleAxis(),c=o.getTicksCoords(),h=o.getMinorTicksCoords(),p=u.getExtent()[0],f=o.getExtent(),d=function mJ(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(s,t,p),v=new Cr(t,d);M(fJ,v.add,v),a.add(v.getGroup()),hu(r,a,t),M(dJ,function(g){t.get([g,"show"])&&!o.scale.isBlank()&&gJ[g](this.group,t,s,p,f,c,h)},this)}},e.type="radiusAxis",e}(To),gJ={splitLine:function(n,e,t,i,r,a){var s=e.getModel("splitLine").getModel("lineStyle"),u=s.get("color"),c=0,h=t.getAngleAxis(),p=Math.PI/180,f=h.getExtent(),d=360===Math.abs(f[1]-f[0])?"Circle":"Arc";u=u instanceof Array?u:[u];for(var v=[],g=0;g<a.length;g++){var m=c++%u.length;v[m]=v[m]||[],v[m].push(new Pn[d]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[g].coord,0),startAngle:-f[0]*p,endAngle:-f[1]*p,clockwise:h.inverse}}))}for(g=0;g<v.length;g++)n.add(Qn(v[g],{style:lt({stroke:u[g%u.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,i,r,a,o){if(o.length){for(var u=e.getModel("minorSplitLine").getModel("lineStyle"),c=[],h=0;h<o.length;h++)for(var p=0;p<o[h].length;p++)c.push(new Qr({shape:{cx:t.cx,cy:t.cy,r:o[h][p].coord}}));n.add(Qn(c,{style:lt({fill:null},u.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,i,r,a){if(a.length){var s=e.getModel("splitArea").getModel("areaStyle"),u=s.get("color"),c=0;u=u instanceof Array?u:[u];for(var h=[],p=a[0].coord,f=1;f<a.length;f++){var d=c++%u.length;h[d]=h[d]||[],h[d].push(new wn({shape:{cx:t.cx,cy:t.cy,r0:p,r:a[f].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),p=a[f].coord}for(f=0;f<h.length;f++)n.add(Qn(h[f],{style:lt({fill:u[f%u.length]},s.getAreaStyle()),silent:!0}))}}};const yJ=vJ;function ok(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function sk(n,e){return e.dim+n.model.componentIndex}const CJ=function _J(n,e,t){var i={},r=function bJ(n){var e={};M(n,function(i,r){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),u=sk(o,s),c=s.getExtent(),h="category"===s.type?s.getBandWidth():Math.abs(c[1]-c[0])/a.count(),p=e[u]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=p.stacks;e[u]=p;var d=ok(i);f[d]||p.autoWidthCount++,f[d]=f[d]||{width:0,maxWidth:0};var v=q(i.get("barWidth"),h),g=q(i.get("barMaxWidth"),h),m=i.get("barGap"),y=i.get("barCategoryGap");v&&!f[d].width&&(v=Math.min(p.remainedWidth,v),f[d].width=v,p.remainedWidth-=v),g&&(f[d].maxWidth=g),null!=m&&(p.gap=m),null!=y&&(p.categoryGap=y)});var t={};return M(e,function(i,r){t[r]={};var a=i.stacks,s=q(i.categoryGap,i.bandWidth),u=q(i.gap,1),c=i.remainedWidth,h=i.autoWidthCount,p=(c-s)/(h+(h-1)*u);p=Math.max(p,0),M(a,function(g,m){var y=g.maxWidth;y&&y<p&&(y=Math.min(y,c),g.width&&(y=Math.min(y,g.width)),c-=y,g.width=y,h--)}),p=(c-s)/(h+(h-1)*u),p=Math.max(p,0);var d,f=0;M(a,function(g,m){g.width||(g.width=p),d=g,f+=g.width*(1+u)}),d&&(f-=d.width*u);var v=-f/2;M(a,function(g,m){t[r][m]=t[r][m]||{offset:v,width:g.width},v+=g.width*(1+u)})}),t}(Ut(e.getSeriesByType(n),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));e.eachSeriesByType(n,function(a){if("polar"===a.coordinateSystem.type){var o=a.getData(),s=a.coordinateSystem,u=s.getBaseAxis(),c=sk(s,u),h=ok(a),p=r[c][h],f=p.offset,d=p.width,v=s.getOtherAxis(u),g=a.coordinateSystem.cx,m=a.coordinateSystem.cy,y=a.get("barMinHeight")||0,_=a.get("barMinAngle")||0;i[h]=i[h]||[];for(var b=o.mapDimension(v.dim),C=o.mapDimension(u.dim),x=na(o,b),S="radius"!==u.dim||!a.get("roundCap",!0),z=v.dataToCoord(0),w=0,T=o.count();w<T;w++){var D=o.get(b,w),I=o.get(C,w),A=D>=0?"p":"n",k=z;x&&(i[h][I]||(i[h][I]={p:z,n:z}),k=i[h][I][A]);var P=void 0,N=void 0,O=void 0,L=void 0;if("radius"===v.dim){var E=v.dataToCoord(D)-z,V=u.dataToCoord(I);Math.abs(E)<y&&(E=(E<0?-1:1)*y),P=k,N=k+E,L=(O=V-f)-d,x&&(i[h][I][A]=N)}else{var j=v.dataToCoord(D,S)-z,$=u.dataToCoord(I);Math.abs(j)<_&&(j=(j<0?-1:1)*_),N=(P=$+f)+d,O=k,L=k+j,x&&(i[h][I][A]=L)}o.setItemLayout(w,{cx:g,cy:m,r0:P,r:N,startAngle:-O*Math.PI/180,endAngle:-L*Math.PI/180,clockwise:O>=L})}}})};var SJ={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},xJ={splitNumber:5},zJ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="polar",e}(de);function t_(n,e){e=e||{};var i=n.axis,r={},a=i.position,o=i.orient,s=n.coordinateSystem.getRect(),u=[s.x,s.x+s.width,s.y,s.y+s.height],c={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};r.position=["vertical"===o?c.vertical[a]:u[0],"horizontal"===o?c.horizontal[a]:u[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[o],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Fe(e.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var f=e.rotate;return null==f&&(f=n.get(["axisLabel","rotate"])),r.labelRotation="top"===a?-f:f,r.z2=1,r}var TJ=["axisLine","axisTickLabel","axisName"],DJ=["splitArea","splitLine"],MJ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return B(e,n),e.prototype.render=function(t,i,r,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new ft;var u=t_(t),c=new Cr(t,u);M(TJ,c.add,c),o.add(this._axisGroup),o.add(c.getGroup()),M(DJ,function(h){t.get([h,"show"])&&IJ[h](this,this.group,this._axisGroup,t)},this),hu(s,this._axisGroup,t),n.prototype.render.call(this,t,i,r,a)},e.prototype.remove=function(){b2(this)},e.type="singleAxis",e}(To),IJ={splitLine:function(n,e,t,i){var r=i.axis;if(!r.scale.isBlank()){var a=i.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var u=o.get("width"),c=i.coordinateSystem.getRect(),h=r.isHorizontal(),p=[],f=0,d=r.getTicksCoords({tickModel:a}),v=[],g=[],m=0;m<d.length;++m){var y=r.toGlobalCoord(d[m].coord);h?(v[0]=y,v[1]=c.y,g[0]=y,g[1]=c.y+c.height):(v[0]=c.x,v[1]=y,g[0]=c.x+c.width,g[1]=y);var _=new He({shape:{x1:v[0],y1:v[1],x2:g[0],y2:g[1]},silent:!0});Ts(_.shape,u);var b=f++%s.length;p[b]=p[b]||[],p[b].push(_)}var C=o.getLineStyle(["color"]);for(m=0;m<p.length;++m)e.add(Qn(p[m],{style:lt({stroke:s[m%s.length]},C),silent:!0}))}},splitArea:function(n,e,t,i){_2(n,t,i,i)}};const AJ=MJ;var lk=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(Ft);Te(lk,Lu.prototype);const e_=lk;var kJ=function(n){function e(t,i,r,a,o){var s=n.call(this,t,i,r)||this;return s.type=a||"value",s.position=o||"bottom",s}return B(e,n),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,i){return this.coordinateSystem.pointToData(t)[0]},e}(zi);const PJ=kJ;var uk=["single"],RJ=function(){function n(e,t,i){this.type="single",this.dimension="single",this.dimensions=uk,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var a=new PJ(this.dimension,Kp(e),[0,0],e.get("type"),e.get("position"));a.onBand="category"===a.type&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},n.prototype.update=function(e,t){e.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();M(r.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(r,a)},this),Fs(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){this._rect=ke({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(r[a],r[1-a]),this._updateAxisTransform(t,i?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),r=i[0]+i[1],a=e.isHorizontal();e.toGlobalCoord=a?function(o){return o+t}:function(o){return r-o+t},e.toLocalCoord=a?function(o){return o-t}:function(o){return r-o+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},n.prototype.dataToPoint=function(e){var t=this.getAxis(),i=this.getRect(),r=[],a="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),r[a]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-a]=0===a?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(e,t,i){return ck(t)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){return ck(t)===this?this.pointToData(i):null},n}();function ck(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const NJ=RJ;var EJ={create:function OJ(n,e){var t=[];return n.eachComponent("singleAxis",function(i,r){var a=new NJ(i,n,e);a.name="single_"+r,a.resize(i,e),i.coordinateSystem=a,t.push(a)}),n.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var r=i.getReferringComponents("singleAxis",De).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),t},dimensions:uk};const LJ=EJ;var hk=["x","y"],BJ=["width","height"],VJ=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.makeElOption=function(t,i,r,a,o){var s=r.axis,u=s.coordinateSystem,c=n_(u,1-Mf(s)),h=u.dataToPoint(i)[0],p=a.get("type");if(p&&"none"!==p){var f=U0(a),d=FJ[p](s,h,c);d.style=f,t.graphicKey=d.type,t.pointer=d}YA(i,t,t_(r),r,a,o)},e.prototype.getHandleTransform=function(t,i,r){var a=t_(i,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var o=$0(i.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,a){var o=r.axis,s=o.coordinateSystem,u=Mf(o),c=n_(s,u),h=[t.x,t.y];h[u]+=i[u],h[u]=Math.min(c[1],h[u]),h[u]=Math.max(c[0],h[u]);var p=n_(s,1-u),f=(p[1]+p[0])/2,d=[f,f];return d[u]=h[u],{x:h[0],y:h[1],rotation:t.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},e}(W0),FJ={line:function(n,e,t){return{type:"Line",subPixelOptimize:!0,shape:Z0([e,t[0]],[e,t[1]],Mf(n))}},shadow:function(n,e,t){var i=n.getBandWidth();return{type:"Rect",shape:WA([e-i/2,t[0]],[i,t[1]-t[0]],Mf(n))}}};function Mf(n){return n.isHorizontal()?0:1}function n_(n,e){var t=n.getRect();return[t[hk[e]],t[hk[e]]+t[BJ[e]]]}const GJ=VJ;var HJ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="single",e}(de),jJ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(t,i,r){var a=ms(t);n.prototype.init.apply(this,arguments),pk(t,a)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),pk(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Ft);function pk(n,e){var i,t=n.cellSize;1===(i=H(t)?t:n.cellSize=[t,t]).length&&(i[1]=i[0]);var r=X([0,1],function(a){return function i5(n,e){return null!=n[to[e][0]]||null!=n[to[e][1]]&&null!=n[to[e][2]]}(e,a)&&(i[a]="auto"),null!=i[a]&&"auto"!==i[a]});Zr(n,e,{type:"box",ignoreSize:r})}const YJ=jJ;var WJ=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){var a=this.group;a.removeAll();var o=t.coordinateSystem,s=o.getRangeInfo(),u=o.getOrient(),c=i.getLocaleModel();this._renderDayRect(t,s,a),this._renderLines(t,s,u,a),this._renderYearText(t,s,u,a),this._renderMonthText(t,c,u,a),this._renderWeekText(t,c,s,u,a)},e.prototype._renderDayRect=function(t,i,r){for(var a=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),u=a.getCellHeight(),c=i.start.time;c<=i.end.time;c=a.getNextNDay(c,1).time){var h=a.dataToRect([c],!1).tl,p=new Ot({shape:{x:h[0],y:h[1],width:s,height:u},cursor:"default",style:o});r.add(p)}},e.prototype._renderLines=function(t,i,r,a){var o=this,s=t.coordinateSystem,u=t.getModel(["splitLine","lineStyle"]).getLineStyle(),c=t.get(["splitLine","show"]),h=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var p=i.start,f=0;p.time<=i.end.time;f++){v(p.formatedDate),0===f&&(p=s.getDateInfo(i.start.y+"-"+i.start.m));var d=p.date;d.setMonth(d.getMonth()+1),p=s.getDateInfo(d)}function v(g){o._firstDayOfMonth.push(s.getDateInfo(g)),o._firstDayPoints.push(s.dataToRect([g],!1).tl);var m=o._getLinePointsOfOneWeek(t,g,r);o._tlpoints.push(m[0]),o._blpoints.push(m[m.length-1]),c&&o._drawSplitline(m,u,a)}v(s.getNextNDay(i.end.time,1).formatedDate),c&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,h,r),u,a),c&&this._drawSplitline(o._getEdgesPoints(o._blpoints,h,r),u,a)},e.prototype._getEdgesPoints=function(t,i,r){var a=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===r?0:1;return a[0][o]=a[0][o]-i/2,a[1][o]=a[1][o]+i/2,a},e.prototype._drawSplitline=function(t,i,r){var a=new Dn({z2:20,shape:{points:t},style:i});r.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,i,r){for(var a=t.coordinateSystem,o=a.getDateInfo(i),s=[],u=0;u<7;u++){var c=a.getNextNDay(o.time,u),h=a.dataToRect([c.time],!1);s[2*c.day]=h.tl,s[2*c.day+1]=h["horizontal"===r?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,i){return Q(t)&&t?function t5(n,e,t){return M(e,function(i,r){n=n.replace("{"+r+"}",t?Cn(i):i)}),n}(t,i):at(t)?t(i):i.nameMap},e.prototype._yearTextPositionControl=function(t,i,r,a,o){var s=i[0],u=i[1],c=["center","bottom"];"bottom"===a?(u+=o,c=["center","top"]):"left"===a?s-=o:"right"===a?(s+=o,c=["center","top"]):u-=o;var h=0;return("left"===a||"right"===a)&&(h=Math.PI/2),{rotation:h,x:s,y:u,style:{align:c[0],verticalAlign:c[1]}}},e.prototype._renderYearText=function(t,i,r,a){var o=t.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),u=o.get("position");u||(u="horizontal"!==r?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(c[0][0]+c[1][0])/2,p=(c[0][1]+c[1][1])/2,f="horizontal"===r?0:1,d={top:[h,c[f][1]],bottom:[h,c[1-f][1]],left:[c[1-f][0],p],right:[c[f][0],p]},v=i.start.y;+i.end.y>+i.start.y&&(v=v+"-"+i.end.y);var g=o.get("formatter"),y=this._formatterLabel(g,{start:i.start.y,end:i.end.y,nameMap:v}),_=new Vt({z2:30,style:te(o,{text:y})});_.attr(this._yearTextPositionControl(_,d[u],r,u,s)),a.add(_)}},e.prototype._monthTextPositionControl=function(t,i,r,a,o){var s="left",u="top",c=t[0],h=t[1];return"horizontal"===r?(h+=o,i&&(s="center"),"start"===a&&(u="bottom")):(c+=o,i&&(u="middle"),"start"===a&&(s="right")),{x:c,y:h,align:s,verticalAlign:u}},e.prototype._renderMonthText=function(t,i,r,a){var o=t.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),u=o.get("margin"),c=o.get("position"),h=o.get("align"),p=[this._tlpoints,this._blpoints];(!s||Q(s))&&(s&&(i=fg(s)||i),s=i.get(["time","monthAbbr"])||[]);var f="start"===c?0:1,d="horizontal"===r?0:1;u="start"===c?-u:u;for(var v="center"===h,g=0;g<p[f].length-1;g++){var m=p[f][g].slice(),y=this._firstDayOfMonth[g];v&&(m[d]=(this._firstDayPoints[g][d]+p[0][g+1][d])/2);var b=o.get("formatter"),C=s[+y.m-1],x={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:C},S=this._formatterLabel(b,x),z=new Vt({z2:30,style:F(te(o,{text:S}),this._monthTextPositionControl(m,v,r,c,u))});a.add(z)}}},e.prototype._weekTextPositionControl=function(t,i,r,a,o){var s="center",u="middle",c=t[0],h=t[1],p="start"===r;return"horizontal"===i?(c=c+a+(p?1:-1)*o[0]/2,s=p?"right":"left"):(h=h+a+(p?1:-1)*o[1]/2,u=p?"bottom":"top"),{x:c,y:h,align:s,verticalAlign:u}},e.prototype._renderWeekText=function(t,i,r,a,o){var s=t.getModel("dayLabel");if(s.get("show")){var u=t.coordinateSystem,c=s.get("position"),h=s.get("nameMap"),p=s.get("margin"),f=u.getFirstDayOfWeek();h&&!Q(h)||(h&&(i=fg(h)||i),h=i.get(["time","dayOfWeekShort"])||X(i.get(["time","dayOfWeekAbbr"]),function(x){return x[0]}));var v=u.getNextNDay(r.end.time,7-r.lweek).time,g=[u.getCellWidth(),u.getCellHeight()];p=q(p,Math.min(g[1],g[0])),"start"===c&&(v=u.getNextNDay(r.start.time,-(7+r.fweek)).time,p=-p);for(var m=0;m<7;m++){var b,y=u.getNextNDay(v,m),_=u.dataToRect([y.time],!1).center;b=Math.abs((m+f)%7);var C=new Vt({z2:30,style:F(te(s,{text:h[b]}),this._weekTextPositionControl(_,a,c,p,g))});o.add(C)}}},e.type="calendar",e}(de);const UJ=WJ;var i_=864e5,$J=function(){function n(e,t,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){var t=(e=Bi(e)).getFullYear(),i=e.getMonth()+1,r=i<10?"0"+i:""+i,a=e.getDate(),o=a<10?"0"+a:""+a,s=e.getDay();return{y:t+"",m:r,d:o,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+r+"-"+o,date:e}},n.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[i,7]:[7,i];M([0,1],function(p){h(a,p)&&(o[r[p]]=a[p]*s[p])});var u={width:t.getWidth(),height:t.getHeight()},c=this._rect=ke(o,u);function h(p,f){return null!=p[f]&&"auto"!==p[f]}M([0,1],function(p){h(a,p)||(a[p]=c[r[p]]/s[p])}),this._sw=a[0],this._sh=a[1]},n.prototype.dataToPoint=function(e,t){H(e)&&(e=e[0]),null==t&&(t=!0);var i=this.getDateInfo(e),r=this._rangeInfo;if(t&&!(i.time>=r.start.time&&i.time<r.end.time+i_))return[NaN,NaN];var o=i.day,s=this._getRangeInfo([r.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},n.prototype.convertToPixel=function(e,t,i){var r=fk(t);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=fk(t);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(H(e)&&1===e.length&&(e=e[0]),H(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),a=r.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);t=[r.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var i,t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];t[0].time>t[1].time&&(i=!0,t.reverse());var r=Math.floor(t[1].time/i_)-Math.floor(t[0].time/i_)+1,a=new Date(t[0].time),o=a.getDate(),s=t[1].date.getDate();a.setDate(o+r-1);var u=a.getDate();if(u!==s)for(var c=a.getTime()-t[1].time>0?1:-1;(u=a.getDate())!==s&&(a.getTime()-t[1].time)*c>0;)r-=c,a.setDate(u-c);var h=Math.floor((r+t[0].day+6)/7),p=i?1-h:h-1;return i&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:r,weeks:h,nthWeek:p,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,i){var r=this._getRangeInfo(i);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var a=7*(e-1)-r.fweek+t,o=new Date(r.start.time);return o.setDate(+r.start.d+a),this.getDateInfo(o)},n.create=function(e,t){var i=[];return e.eachComponent("calendar",function(r){var a=new n(r,e,t);i.push(a),r.coordinateSystem=a}),e.eachSeries(function(r){"calendar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function fk(n){var e=n.calendarModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem:null}const ZJ=$J;function dk(n,e){var t;return M(e,function(i){null!=n[i]&&"auto"!==n[i]&&(t=!0)}),t}var vk=["transition","enterFrom","leaveTo"],JJ=vk.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function If(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),n&&e)for(var i=t?vk:JJ,r=0;r<i.length;r++){var a=i[r];null==n[a]&&null!=e[a]&&(n[a]=e[a])}}var ett=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return B(e,n),e.prototype.mergeOption=function(t,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,i),this.option.elements=r},e.prototype.optionUpdated=function(t,i){var r=this.option,a=(i?r:t).elements,o=r.elements=i?[]:r.elements,s=[];this._flatten(a,s,null);var u=kC(o,s,"normalMerge"),c=this._elOptionsToUpdate=[];M(u,function(h,p){var f=h.newOption;f&&(c.push(f),function KJ(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:t&&(e.parentId=t.parentId)}e.parentOption=null}(h,f),function QJ(n,e,t){var i=F({},t),r=n[e],a=t.$action||"merge";"merge"===a?r?(St(r,i,!0),Zr(r,i,{ignoreSize:!0}),rx(t,r),If(t,r),If(t,r,"shape"),If(t,r,"style"),If(t,r,"extra"),t.clipPath=r.clipPath):n[e]=i:"replace"===a?n[e]=i:"remove"===a&&r&&(n[e]=null)}(o,p,f),function ttt(n,e){if(n&&(n.hv=e.hv=[dk(e,["left","right"]),dk(e,["top","bottom"])],"group"===n.type)){var t=n,i=e;null==t.width&&(t.width=i.width=0),null==t.height&&(t.height=i.height=0)}}(o[p],f))},this),r.elements=Ut(o,function(h){return h&&delete h.$action,null!=h})},e.prototype._flatten=function(t,i,r){M(t,function(a){if(a){r&&(a.parentOption=r),i.push(a);var o=a.children;o&&o.length&&this._flatten(o,i,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(Ft),gk={path:null,compoundPath:null,group:ft,image:Ye,text:Vt},ri=Nt(),ntt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(){this._elMap=nt()},e.prototype.render=function(t,i,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},e.prototype._updateElements=function(t){var i=t.useElOptionsToUpdate();if(i){var r=this._elMap,a=this.group,o=t.get("z"),s=t.get("zlevel");M(i,function(u){var c=Ae(u.id,null),h=null!=c?r.get(c):null,p=Ae(u.parentId,null),f=null!=p?r.get(p):a,d=u.type,v=u.style;"text"===d&&v&&u.hv&&u.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var g=u.textContent,m=u.textConfig;if(v&&_A(v,d,!!m,!!g)){var y=bA(v,d,!0);!m&&y.textConfig&&(m=u.textConfig=y.textConfig),!g&&y.textContent&&(g=y.textContent)}var _=function itt(n){return n=F({},n),M(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(ix),function(e){delete n[e]}),n}(u),b=u.$action||"merge",C="merge"===b,x="replace"===b;if(C){var z=h;(S=!h)?z=mk(c,f,u.type,r):(z&&(ri(z).isNew=!1),AA(z)),z&&(Cf(z,_,t,{isInit:S}),yk(z,u,o,s))}else if(x){Af(h,u,r,t);var w=mk(c,f,u.type,r);w&&(Cf(w,_,t,{isInit:!0}),yk(w,u,o,s))}else"remove"===b&&(TA(h,u),Af(h,u,r,t));var T=r.get(c);if(T&&g)if(C){var D=T.getTextContent();D?D.attr(g):T.setTextContent(new Vt(g))}else x&&T.setTextContent(new Vt(g));if(T){var I=u.clipPath;if(I){var A=I.type,k=void 0,S=!1;if(C){var P=T.getClipPath();k=(S=!P||ri(P).type!==A)?r_(A):P}else x&&(S=!0,k=r_(A));T.setClipPath(k),Cf(k,I,t,{isInit:S}),xf(k,I.keyframeAnimation,t)}var N=ri(T);T.setTextConfig(m),N.option=u,function rtt(n,e,t){var i=dt(n).eventData;!n.silent&&!n.ignore&&!i&&(i=dt(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),i&&(i.info=t.info)}(T,t,u),Ds({el:T,componentModel:t,itemName:T.name,itemTooltipOption:u.tooltip}),xf(T,u.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,i){for(var r=t.option.elements,a=this.group,o=this._elMap,s=i.getWidth(),u=i.getHeight(),c=["x","y"],h=0;h<r.length;h++)if((d=null!=(f=Ae((p=r[h]).id,null))?o.get(f):null)&&d.isGroup){var g=(v=d.parent)===a,m=ri(d),y=ri(v);m.width=q(m.option.width,g?s:y.width)||0,m.height=q(m.option.height,g?u:y.height)||0}for(h=r.length-1;h>=0;h--){var p,f,d;if(d=null!=(f=Ae((p=r[h]).id,null))?o.get(f):null){y=ri(v=d.parent);var v,b={},C=Yh(d,p,v===a?{width:s,height:u}:{width:y.width,height:y.height},null,{hv:p.hv,boundingMode:p.bounding},b);if(!ri(d).isNew&&C){for(var x=p.transition,S={},z=0;z<c.length;z++){var w=c[z],T=b[w];x&&(Eo(x)||zt(x,w)>=0)?S[w]=T:d[w]=T}Gt(d,S,t,0)}else d.attr(b)}}},e.prototype._clear=function(){var t=this,i=this._elMap;i.each(function(r){Af(r,ri(r).option,i,t._lastGraphicModel)}),this._elMap=nt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(de);function r_(n){var t=new(et(gk,n)?gk[n]:Qg(n))({});return ri(t).type=n,t}function mk(n,e,t,i){var r=r_(t);return e.add(r),i.set(n,r),ri(r).id=n,ri(r).isNew=!0,r}function Af(n,e,t,i){n&&n.parent&&("group"===n.type&&n.traverse(function(a){Af(a,e,t,i)}),Sf(n,e,i),t.removeKey(ri(n).id))}function yk(n,e,t,i){n.isGroup||M([["cursor",Wn.prototype.cursor],["zlevel",i||0],["z",t||0],["z2",0]],function(r){var a=r[0];et(e,a)?n[a]=mt(e[a],r[1]):null==n[a]&&(n[a]=r[1])}),M(At(e),function(r){if(0===r.indexOf("on")){var a=e[r];n[r]=at(a)?a:null}}),et(e,"draggable")&&(n.draggable=e.draggable),null!=e.name&&(n.name=e.name),null!=e.id&&(n.id=e.id)}var _k=["x","y","radius","angle","single"],ott=["cartesian2d","polar","singleAxis"];function pa(n){return n+"Axis"}function bk(n){var e=n.ecModel,t={infoList:[],infoMap:nt()};return n.eachTargetAxis(function(i,r){var a=e.getComponent(pa(i),r);if(a){var o=a.getCoordSysModel();if(o){var s=o.uid,u=t.infoMap.get(s);u||(t.infoList.push(u={model:o,axisModels:[]}),t.infoMap.set(s,u)),u.axisModels.push(a)}}}),t}var a_=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),utt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return B(e,n),e.prototype.init=function(t,i,r){var a=Ck(t);this.settledOption=a,this.mergeDefaultAndTheme(t,r),this._doInit(a)},e.prototype.mergeOption=function(t){var i=Ck(t);St(this.option,t,!0),St(this.settledOption,i,!0),this._doInit(i)},e.prototype._doInit=function(t){var i=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;M([["start","startValue"],["end","endValue"]],function(a,o){"value"===this._rangePropMode[o]&&(i[a[0]]=r[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),i=this._targetAxisInfoMap=nt();this._fillSpecifiedTargetAxis(i)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var i=!1;return M(_k,function(r){var a=this.getReferringComponents(pa(r),g3);if(a.specified){i=!0;var o=new a_;M(a.models,function(s){o.add(s.componentIndex)}),t.set(r,o)}},this),i},e.prototype._fillAutoTargetAxisByOrient=function(t,i){var r=this.ecModel,a=!0;if(a){var o="vertical"===i?"y":"x";u(r.findComponents({mainType:o+"Axis"}),o)}function u(c,h){var p=c[0];if(p){var f=new a_;if(f.add(p.componentIndex),t.set(h,f),a=!1,"x"===h||"y"===h){var d=p.getReferringComponents("grid",De).models[0];d&&M(c,function(v){p.componentIndex!==v.componentIndex&&d===v.getReferringComponents("grid",De).models[0]&&f.add(v.componentIndex)})}}}a&&u(r.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===i}}),"single"),a&&M(_k,function(c){if(a){var h=r.findComponents({mainType:pa(c),filter:function(f){return"category"===f.get("type",!0)}});if(h[0]){var p=new a_;p.add(h[0].componentIndex),t.set(c,p),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(i){!t&&(t=i)},this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var i=this._rangePropMode,r=this.get("rangeMode");M([["start","startValue"],["end","endValue"]],function(a,o){var s=null!=t[a[0]],u=null!=t[a[1]];s&&!u?i[o]="percent":!s&&u?i[o]="value":r?i[o]=r[o]:s&&(i[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(i,r){null==t&&(t=this.ecModel.getComponent(pa(i),r))},this),t},e.prototype.eachTargetAxis=function(t,i){this._targetAxisInfoMap.each(function(r,a){M(r.indexList,function(o){t.call(i,a,o)})})},e.prototype.getAxisProxy=function(t,i){var r=this.getAxisModel(t,i);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,i){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[i])return this.ecModel.getComponent(pa(t),i)},e.prototype.setRawRange=function(t){var i=this.option,r=this.settledOption;M([["start","startValue"],["end","endValue"]],function(a){(null!=t[a[0]]||null!=t[a[1]])&&(i[a[0]]=r[a[0]]=t[a[0]],i[a[1]]=r[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var i=this.option;M(["start","startValue","end","endValue"],function(r){i[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,i){if(null!=t||null!=i)return this.getAxisProxy(t,i).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),a=0;a<r.length;a++)for(var o=r[a],s=this._targetAxisInfoMap.get(o),u=0;u<s.indexList.length;u++){var c=this.getAxisProxy(o,s.indexList[u]);if(c.hostedBy(this))return c;i||(i=c)}return i},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Ft);function Ck(n){var e={};return M(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}const oc=utt;var ctt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="dataZoom.select",e}(oc);const htt=ctt;var ptt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r,a){this.dataZoomModel=t,this.ecModel=i,this.api=r},e.type="dataZoom",e}(de);const o_=ptt;var ftt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="dataZoom.select",e}(o_);const dtt=ftt;var Zs=M,Sk=Yn,vtt=function(){function n(e,t,i,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(function stt(n){var e=n.get("coordinateSystem");return zt(ott,e)>=0}(t)){var i=pa(this._dimName),r=t.getReferringComponents(i,De).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return ht(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var c,t=this._dataExtent,r=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],u=[];Zs(["start","end"],function(f,d){var v=e[f],g=e[f+"Value"];"percent"===a[d]?(null==v&&(v=o[d]),g=r.parse(Yt(v,o,t))):(c=!0,v=Yt(g=null==g?t[d]:r.parse(g),t,o)),u[d]=null==g||isNaN(g)?t[d]:g,s[d]=null==v||isNaN(v)?o[d]:v}),Sk(u),Sk(s);var h=this._minMaxSpan;function p(f,d,v,g,m){var y=m?"Span":"ValueSpan";Ro(0,f,v,"all",h["min"+y],h["max"+y]);for(var _=0;_<2;_++)d[_]=Yt(f[_],v,g,!0),m&&(d[_]=r.parse(d[_]))}return c?p(u,s,t,o,!1):p(s,u,o,t,!0),{valueWindow:u,percentWindow:s}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function gtt(n,e,t){var i=[1/0,-1/0];Zs(t,function(o){!function Qj(n,e,t){e&&M(Qp(e,t),function(i){var r=e.getApproximateExtent(i);r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])})}(i,o.getData(),e)});var r=n.getAxisModel(),a=qD(r.axis.scale,r,i).calculate();return[a.min,a.max]}(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),a=e.get("filterMode"),o=this._valueWindow;"none"!==a&&Zs(r,function(u){var c=u.getData(),h=c.mapDimensionsAll(i);if(h.length){if("weakFilter"===a){var p=c.getStore(),f=X(h,function(d){return c.getDimensionIndex(d)},c);c.filterSelf(function(d){for(var v,g,m,y=0;y<h.length;y++){var _=p.get(f[y],d),b=!isNaN(_),C=_<o[0],x=_>o[1];if(b&&!C&&!x)return!0;b&&(m=!0),C&&(v=!0),x&&(g=!0)}return m&&v&&g})}else Zs(h,function(d){if("empty"===a)u.setData(c=c.map(d,function(g){return function s(u){return u>=o[0]&&u<=o[1]}(g)?g:NaN}));else{var v={};v[d]=o,c.selectRange(v)}});Zs(h,function(d){c.setApproximateExtent(o,d)})}})}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;Zs(["min","max"],function(r){var a=t.get(r+"Span"),o=t.get(r+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?a=Yt(i[0]+o,i,[0,100],!0):null!=a&&(o=Yt(a,[0,100],i,!0)-i[0]),e[r+"Span"]=a,e[r+"ValueSpan"]=o},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var r=mC(i,[0,500]);r=Math.min(r,20);var a=e.axis.scale.rawExtentInfo;0!==t[0]&&a.setDeterminedMinMax("min",+i[0].toFixed(r)),100!==t[1]&&a.setDeterminedMinMax("max",+i[1].toFixed(r)),a.freeze()}},n}();const mtt=vtt;var ytt={getTargetSeries:function(n){function e(r){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var u=n.getComponent(pa(o),s);r(o,s,u,a)})})}e(function(r,a,o,s){o.__dzAxisProxy=null});var t=[];e(function(r,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new mtt(r,a,s,n),t.push(o.__dzAxisProxy))});var i=nt();return M(t,function(r){M(r.getTargetSeriesModels(),function(a){i.set(a.uid,a)})}),i},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).reset(t)}),t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var i=t.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),a=i.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:a[0],endValue:a[1]})}})}};const _tt=ytt;var xk=!1;function s_(n){xk||(xk=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,_tt),function btt(n){n.registerAction("dataZoom",function(e,t){M(function ltt(n,e){var a,t=nt(),i=[],r=nt();n.eachComponent({mainType:"dataZoom",query:e},function(h){r.get(h.uid)||s(h)});do{a=!1,n.eachComponent("dataZoom",o)}while(a);function o(h){!r.get(h.uid)&&function u(h){var p=!1;return h.eachTargetAxis(function(f,d){var v=t.get(f);v&&v[d]&&(p=!0)}),p}(h)&&(s(h),a=!0)}function s(h){r.set(h.uid,!0),i.push(h),function c(h){h.eachTargetAxis(function(p,f){(t.get(p)||t.set(p,[]))[f]=!0})}(h)}return i}(t,e),function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Ctt(n){n.registerComponentModel(htt),n.registerComponentView(dtt),s_(n)}var ai=function(){return function n(){}}(),zk={};function qs(n,e){zk[n]=e}function wk(n){return zk[n]}var Stt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;M(this.option.feature,function(i,r){var a=wk(r);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),St(i,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Ft);const xtt=Stt;function Tk(n,e){var t=gs(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),new Ot({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}var wtt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.render=function(t,i,r,a){var o=this.group;if(o.removeAll(),t.get("show")){var s=+t.get("itemSize"),u="vertical"===t.get("orient"),c=t.get("feature")||{},h=this._features||(this._features={}),p=[];M(c,function(v,g){p.push(g)}),new yr(this._featureNames||[],p).add(f).update(f).remove(yt(f,null)).execute(),this._featureNames=p,function ztt(n,e,t){var i=e.getBoxLayoutParams(),r=e.get("padding"),a={width:t.getWidth(),height:t.getHeight()},o=ke(i,a,r);eo(e.get("orient"),n,e.get("itemGap"),o.width,o.height),Yh(n,i,a,r)}(o,t,r),o.add(Tk(o.getBoundingRect(),t)),u||o.eachChild(function(v){var g=v.__title,m=v.ensureState("emphasis"),y=m.textConfig||(m.textConfig={}),_=v.getTextContent(),b=_&&_.ensureState("emphasis");if(b&&!at(b)&&g){var C=b.style||(b.style={}),x=Nl(g,Vt.makeFont(C)),S=v.x+o.x,w=!1;v.y+o.y+s+x.height>r.getHeight()&&(y.position="top",w=!0);var T=w?-5-x.height:s+10;S+x.width/2>r.getWidth()?(y.position=["100%",T],C.align="right"):S-x.width/2<0&&(y.position=[0,T],C.align="left")}})}function f(v,g){var C,m=p[v],y=p[g],_=c[m],b=new ee(_,t,t.ecModel);if(a&&null!=a.newTitle&&a.featureName===m&&(_.title=a.newTitle),m&&!y){if(function Ttt(n){return 0===n.indexOf("my")}(m))C={onclick:b.option.onclick,featureName:m};else{var x=wk(m);if(!x)return;C=new x}h[m]=C}else if(!(C=h[y]))return;C.uid=ps("toolbox-feature"),C.model=b,C.ecModel=i,C.api=r;var S=C instanceof ai;m||!y?!b.get("show")||S&&C.unusable?S&&C.remove&&C.remove(i,r):(function d(v,g,m){var x,S,y=v.getModel("iconStyle"),_=v.getModel(["emphasis","iconStyle"]),b=g instanceof ai&&g.getIcons?g.getIcons():v.get("icon"),C=v.get("title")||{};Q(b)?(x={})[m]=b:x=b,Q(C)?(S={})[m]=C:S=C;var z=v.iconPaths={};M(x,function(w,T){var D=pu(w,{},{x:-s/2,y:-s/2,width:s,height:s});D.setStyle(y.getItemStyle()),D.ensureState("emphasis").style=_.getItemStyle();var A=new Vt({style:{text:S[T],align:_.get("textAlign"),borderRadius:_.get("textBorderRadius"),padding:_.get("textPadding"),fill:null,font:lg({fontStyle:_.get("textFontStyle"),fontFamily:_.get("textFontFamily"),fontSize:_.get("textFontSize"),fontWeight:_.get("textFontWeight")},i)},ignore:!0});D.setTextContent(A),Ds({el:D,componentModel:t,itemName:T,formatterParamsExtra:{title:S[T]}}),D.__title=S[T],D.on("mouseover",function(){var k=_.getItemStyle(),P=u?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";A.setStyle({fill:_.get("textFill")||k.fill||k.stroke||"#000",backgroundColor:_.get("textBackgroundColor")}),D.setTextConfig({position:_.get("textPosition")||P}),A.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==v.get(["iconStatus",T])&&r.leaveEmphasis(this),A.hide()}),("emphasis"===v.get(["iconStatus",T])?dr:vr)(D),o.add(D),D.on("click",J(g.onclick,g,i,r,T)),z[T]=D})}(b,C,m),b.setIconStatus=function(z,w){var T=this.option,D=this.iconPaths;T.iconStatus=T.iconStatus||{},T.iconStatus[z]=w,D[z]&&("emphasis"===w?dr:vr)(D[z])},C instanceof ai&&C.render&&C.render(b,i,r,a)):S&&C.dispose&&C.dispose(i,r)}},e.prototype.updateView=function(t,i,r,a){M(this._features,function(o){o instanceof ai&&o.updateView&&o.updateView(o.model,i,r,a)})},e.prototype.remove=function(t,i){M(this._features,function(r){r instanceof ai&&r.remove&&r.remove(t,i)}),this.group.removeAll()},e.prototype.dispose=function(t,i){M(this._features,function(r){r instanceof ai&&r.dispose&&r.dispose(t,i)})},e.type="toolbox",e}(de);const Dtt=wtt;var Mtt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.onclick=function(t,i){var r=this.model,a=r.get("name")||t.get("title.0.text")||"echarts",o="svg"===i.getZr().painter.getType(),s=o?"svg":r.get("type",!0)||"png",u=i.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),c=Lt.browser;if(at(MouseEvent)&&(c.newEdge||!c.ie&&!c.edge)){var h=document.createElement("a");h.download=a+"."+s,h.target="_blank",h.href=u;var p=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});h.dispatchEvent(p)}else if(window.navigator.msSaveOrOpenBlob||o){var f=u.split(","),d=f[0].indexOf("base64")>-1,v=o?decodeURIComponent(f[1]):f[1];d&&(v=window.atob(v));var g=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var m=v.length,y=new Uint8Array(m);m--;)y[m]=v.charCodeAt(m);var _=new Blob([y]);window.navigator.msSaveOrOpenBlob(_,g)}else{var b=document.createElement("iframe");document.body.appendChild(b);var C=b.contentWindow,x=C.document;x.open("image/svg+xml","replace"),x.write(v),x.close(),C.focus(),x.execCommand("SaveAs",!0,g),document.body.removeChild(b)}}else{var S=r.get("lang"),z='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(S&&S[0]||"")+'" /></body>',w=window.open();w.document.write(z),w.document.title=a}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(ai);const Itt=Mtt;var Dk="__ec_magicType_stack__",Att=[["line","bar"],["stack"]],ktt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.getIcons=function(){var t=this.model,i=t.get("icon"),r={};return M(t.get("type"),function(a){i[a]&&(r[a]=i[a])}),r},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,i,r){var a=this.model,o=a.get(["seriesIndex",r]);if(Mk[r]){var s={series:[]};M(Att,function(p){zt(p,r)>=0&&M(p,function(f){a.setIconStatus(f,"normal")})}),a.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},function(p){var v=Mk[r](p.subType,p.id,p,a);v&&(lt(v,p.option),s.series.push(v));var g=p.coordinateSystem;if(g&&"cartesian2d"===g.type&&("line"===r||"bar"===r)){var m=g.getAxesByScale("ordinal")[0];if(m){var _=m.dim+"Axis",C=p.getReferringComponents(_,De).models[0].componentIndex;s[_]=s[_]||[];for(var x=0;x<=C;x++)s[_][C]=s[_][C]||{};s[_][C].boundaryGap="bar"===r}}});var c,h=r;"stack"===r&&(c=St({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),"emphasis"!==a.get(["iconStatus",r])&&(h="tiled")),i.dispatchAction({type:"changeMagicType",currentType:h,newOption:s,newTitle:c,featureName:"magicType"})}},e}(ai),Mk={line:function(n,e,t,i){if("bar"===n)return St({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,e,t,i){if("line"===n)return St({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,e,t,i){var r=t.get("stack")===Dk;if("line"===n||"bar"===n)return i.setIconStatus("stack",r?"normal":"emphasis"),St({id:e,stack:r?"":Dk},i.get(["option","stack"])||{},!0)}};Ui({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});const Ptt=ktt;var kf=new Array(60).join("-");function Ntt(n){var e=[];return M(n,function(t,i){var r=t.categoryAxis,o=t.valueAxis.dim,s=[" "].concat(X(t.series,function(d){return d.name})),u=[r.model.getCategories()];M(t.series,function(d){var v=d.getRawData();u.push(d.getRawData().mapArray(v.mapDimension(o),function(g){return g}))});for(var c=[s.join("\t")],h=0;h<u[0].length;h++){for(var p=[],f=0;f<u.length;f++)p.push(u[f][h]);c.push(p.join("\t"))}e.push(c.join("\n"))}),e.join("\n\n"+kf+"\n\n")}function Ott(n){return X(n,function(e){var t=e.getRawData(),i=[e.name],r=[];return t.each(t.dimensions,function(){for(var a=arguments.length,s=t.getName(arguments[a-1]),u=0;u<a-1;u++)r[u]=arguments[u];i.push((s?s+"\t":"")+r.join("\t"))}),i.join("\n")}).join("\n\n"+kf+"\n\n")}function Pf(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var l_=new RegExp("[\t]+","g");var Gtt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.onclick=function(t,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),a=this.model;this._dom&&r.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=a.get("lang")||[];s.innerHTML=u[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var c=document.createElement("div"),h=document.createElement("textarea");c.style.cssText="overflow:auto";var p=a.get("optionToContent"),f=a.get("contentToOption"),d=function Ett(n){var e=function Rtt(n){var e={},t=[],i=[];return n.eachRawSeries(function(r){var a=r.coordinateSystem;if(!a||"cartesian2d"!==a.type&&"polar"!==a.type)t.push(r);else{var o=a.getBaseAxis();if("category"===o.type){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(r)}else t.push(r)}}),{seriesGroupByCategoryAxis:e,other:t,meta:i}}(n);return{value:Ut([Ntt(e.seriesGroupByCategoryAxis),Ott(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+kf+"\n\n"),meta:e.meta}}(t);if(at(p)){var v=p(i.getOption());Q(v)?c.innerHTML=v:$o(v)&&c.appendChild(v)}else{h.readOnly=a.get("readOnly");var g=h.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=a.get("textColor"),g.borderColor=a.get("textareaBorderColor"),g.backgroundColor=a.get("textareaColor"),h.value=d.value,c.appendChild(h)}var m=d.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var _="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",b=document.createElement("div"),C=document.createElement("div");_+=";background-color:"+a.get("buttonColor"),_+=";color:"+a.get("buttonTextColor");var x=this;function S(){r.removeChild(o),x._dom=null}Bd(b,"click",S),Bd(C,"click",function(){if(null==f&&null!=p||null!=f&&null==p)S();else{var z;try{z=at(f)?f(c,i.getOption()):function Ftt(n,e){var t=n.split(new RegExp("\n*"+kf+"\n*","g")),i={series:[]};return M(t,function(r,a){if(function Ltt(n){if(n.slice(0,n.indexOf("\n")).indexOf("\t")>=0)return!0}(r)){var o=function Btt(n){for(var e=n.split(/\n+/g),i=[],r=X(Pf(e.shift()).split(l_),function(u){return{name:u,data:[]}}),a=0;a<e.length;a++){var o=Pf(e[a]).split(l_);i.push(o.shift());for(var s=0;s<o.length;s++)r[s]&&(r[s].data[a]=o[s])}return{series:r,categories:i}}(r),s=e[a],u=s.axisDim+"Axis";s&&(i[u]=i[u]||[],i[u][s.axisIndex]={data:o.categories},i.series=i.series.concat(o.series))}else o=function Vtt(n){for(var e=n.split(/\n+/g),t=Pf(e.shift()),i=[],r=0;r<e.length;r++){var a=Pf(e[r]);if(a){var o=a.split(l_),s="",u=void 0,c=!1;isNaN(o[0])?(c=!0,s=o[0],o=o.slice(1),i[r]={name:s,value:[]},u=i[r].value):u=i[r]=[];for(var h=0;h<o.length;h++)u.push(+o[h]);1===u.length&&(c?i[r].value=u[0]:i[r]=u[0])}}return{name:t,data:i}}(r),i.series.push(o)}),i}(h.value,m)}catch(w){throw S(),new Error("Data view format error "+w)}z&&i.dispatchAction({type:"changeDataView",newOption:z}),S()}}),b.innerHTML=u[1],C.innerHTML=u[2],C.style.cssText=b.style.cssText=_,!a.get("readOnly")&&y.appendChild(C),y.appendChild(b),o.appendChild(s),o.appendChild(c),o.appendChild(y),c.style.height=r.clientHeight-80+"px",r.appendChild(o),this._dom=o},e.prototype.remove=function(t,i){this._dom&&i.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(ai);function Htt(n,e){return X(n,function(t,i){var r=e&&e[i];if(ct(r)&&!H(r)){ct(t)&&!H(t)||(t={value:t});var o=null!=r.name&&null==t.name;return t=lt(t,r),o&&delete t.name,t}return t})}Ui({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];M(n.newOption.series,function(i){var r=e.getSeriesByName(i.name)[0];if(r){var a=r.get("data");t.push({name:i.name,data:Htt(i.data,a)})}else t.push(F({type:"scatter"},i))}),e.mergeOption(lt({series:t},n.newOption))});const Xtt=Gtt;var Ik=M,Ak=Nt();function u_(n){var e=Ak(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var $tt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.onclick=function(t,i){(function Wtt(n){Ak(n).snapshots=null})(t),i.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(ai);Ui({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});const Ztt=$tt;var qtt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Ktt=function(){function n(e,t,i){var r=this;this._targetInfoList=[];var a=kk(t,e);M(Qtt,function(o,s){(!i||!i.include||zt(i.include,s)>=0)&&o(a,r._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(i,r,a){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var o=h_[i.brushType](0,a,r);i.__rangeOffset={offset:Ok[i.brushType](o.values,i.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,i){M(e,function(r){var a=this.findTargetInfo(r,t);a&&!0!==a&&M(a.coordSyses,function(o){var s=h_[r.brushType](1,o,r.range,!0);i(r,s.values,o,t)})},this)},n.prototype.setInputRanges=function(e,t){M(e,function(i){var r=this.findTargetInfo(i,t);if(i.range=i.range||[],r&&!0!==r){i.panelId=r.panelId;var a=h_[i.brushType](0,r.coordSys,i.coordRange),o=i.__rangeOffset;i.range=o?Ok[i.brushType](a.values,o.offset,function Jtt(n,e){var t=Lk(n),i=Lk(e),r=[t[0]/i[0],t[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}(a.xyMinMax,o.xyMinMax)):a.values}},this)},n.prototype.makePanelOpts=function(e,t){return X(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:RI(r),isTargetByCursor:OI(r,e,i.coordSysModel),getLinearBrushOtherExtent:NI(r)}})},n.prototype.controlSeries=function(e,t,i){var r=this.findTargetInfo(e,i);return!0===r||r&&zt(r.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,r=kk(t,e),a=0;a<i.length;a++){var o=i[a],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var u=0;u<Pk.length;u++)if(Pk[u](r,o))return o}return!0},n}();function c_(n){return n[0]>n[1]&&n.reverse(),n}function kk(n,e){return Vl(n,e,{includeMainTypes:qtt})}var Qtt={grid:function(n,e){var t=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,a=nt(),o={},s={};!t&&!i&&!r||(M(t,function(u){var c=u.axis.grid.model;a.set(c.id,c),o[c.id]=!0}),M(i,function(u){var c=u.axis.grid.model;a.set(c.id,c),s[c.id]=!0}),M(r,function(u){a.set(u.id,u),o[u.id]=!0,s[u.id]=!0}),a.each(function(u){var h=[];M(u.coordinateSystem.getCartesians(),function(p,f){(zt(t,p.getAxis("x").model)>=0||zt(i,p.getAxis("y").model)>=0)&&h.push(p)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:h[0],coordSyses:h,getPanelRect:Rk.grid,xAxisDeclared:o[u.id],yAxisDeclared:s[u.id]})}))},geo:function(n,e){M(n.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:Rk.geo})})}},Pk=[function(n,e){var t=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],Rk={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(lo(n)),e}},h_={lineX:yt(Nk,0),lineY:yt(Nk,1),rect:function(n,e,t,i){var r=n?e.pointToData([t[0][0],t[1][0]],i):e.dataToPoint([t[0][0],t[1][0]],i),a=n?e.pointToData([t[0][1],t[1][1]],i):e.dataToPoint([t[0][1],t[1][1]],i),o=[c_([r[0],a[0]]),c_([r[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(n,e,t,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:X(t,function(o){var s=n?e.pointToData(o,i):e.dataToPoint(o,i);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s}),xyMinMax:r}}};function Nk(n,e,t,i){var r=t.getAxis(["x","y"][n]),a=c_(X([0,1],function(s){return e?r.coordToData(r.toLocalCoord(i[s]),!0):r.toGlobalCoord(r.dataToCoord(i[s]))})),o=[];return o[n]=a,o[1-n]=[NaN,NaN],{values:a,xyMinMax:o}}var Ok={lineX:yt(Ek,0),lineY:yt(Ek,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return X(n,function(i,r){return[i[0]-t[0]*e[r][0],i[1]-t[1]*e[r][1]]})}};function Ek(n,e,t,i){return[e[0]-i[n]*t[0],e[1]-i[n]*t[1]]}function Lk(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}const p_=Ktt;var f_=M,tet=function h3(n){return IC+n}("toolbox-dataZoom_"),eet=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.render=function(t,i,r,a){this._brushController||(this._brushController=new b0(r.getZr()),this._brushController.on("brush",J(this._onBrush,this)).mount()),function ret(n,e,t,i,r){var a=t._isZoomActive;i&&"takeGlobalCursor"===i.type&&(a="dataZoomSelect"===i.key&&i.dataZoomSelectActive),t._isZoomActive=a,n.setIconStatus("zoom",a?"emphasis":"normal");var s=new p_(d_(n),e,{include:["grid"]}).makePanelOpts(r,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(!(!a||!s.length)&&{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()})}(t,i,this,a,r),function iet(n,e){n.setIconStatus("back",function Utt(n){return u_(n).length}(e)>1?"emphasis":"normal")}(t,i)},e.prototype.onclick=function(t,i,r){net[r].call(this)},e.prototype.remove=function(t,i){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,i){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var i=t.areas;if(t.isEnd&&i.length){var r={},a=this.ecModel;this._brushController.updateCovers([]),new p_(d_(this.model),a,{include:["grid"]}).matchOutputRanges(i,a,function(c,h,p){if("cartesian2d"===p.type){var f=c.brushType;"rect"===f?(s("x",p,h[0]),s("y",p,h[1])):s({lineX:"x",lineY:"y"}[f],p,h)}}),function jtt(n,e){var t=u_(n);Ik(e,function(i,r){for(var a=t.length-1;a>=0&&!t[a][r];a--);if(a<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var u=s.getPercentRange();t[0][r]={dataZoomId:r,start:u[0],end:u[1]}}}}),t.push(e)}(a,r),this._dispatchZoomAction(r)}function s(c,h,p){var f=h.getAxis(c),d=f.model,v=function u(c,h,p){var f;return p.eachComponent({mainType:"dataZoom",subType:"select"},function(d){d.getAxisModel(c,h.componentIndex)&&(f=d)}),f}(c,d,a),g=v.findRepresentativeAxisProxy(d).getMinMaxSpan();(null!=g.minValueSpan||null!=g.maxValueSpan)&&(p=Ro(0,p.slice(),f.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),v&&(r[v.id]={dataZoomId:v.id,startValue:p[0],endValue:p[1]})}},e.prototype._dispatchZoomAction=function(t){var i=[];f_(t,function(r,a){i.push(ht(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(ai),net={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function Ytt(n){var e=u_(n),t=e[e.length-1];e.length>1&&e.pop();var i={};return Ik(t,function(r,a){for(var o=e.length-1;o>=0;o--)if(r=e[o][a]){i[a]=r;break}}),i}(this.ecModel))}};function d_(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}!function u5(n,e){ln(null==xg.get(n)&&e),xg.set(n,e)}("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(e&&null!=e.get(t)){var i=e.getModel(t),r=[],o=Vl(n,d_(i));return f_(o.xAxisModels,function(u){return s(u,"xAxis","xAxisIndex")}),f_(o.yAxisModels,function(u){return s(u,"yAxis","yAxisIndex")}),r}function s(u,c,h){var p=u.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:tet+c+p};f[h]=p,r.push(f)}});const aet=eet;var set=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Ft);const uet=set;function Bk(n){var e=n.get("confine");return null!=e?!!e:"richText"===n.get("renderMode")}function Vk(n){if(Lt.domSupported)for(var e=document.documentElement.style,t=0,i=n.length;t<i;t++)if(n[t]in e)return n[t]}var Fk=Vk(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function Gk(n,e){if(!n)return e;e=tx(e,!0);var t=n.indexOf(e);return(n=-1===t?e:"-"+n.slice(0,t)+"-"+e).toLowerCase()}var pet=Gk(Vk(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),v_=Gk(Fk,"transform"),fet="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Lt.transform3dSupported?"will-change:transform;":"");function Hk(n,e,t){var i=n.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!Lt.transformSupported)return t?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var a=Lt.transform3dSupported,o="translate"+(a?"3d":"")+"("+i+","+r+(a?",0":"")+")";return t?"top:0;left:0;"+v_+":"+o+";":[["top",0],["left",0],[Fk,o]]}function Xk(n,e,t,i,r){var a=e&&e.painter;if(t){var o=a&&a.getViewportRoot();o&&function NF(n,e,t,i,r){Nd(Rd,e,i,r,!0)&&Nd(n,t,Rd[0],Rd[1])}(n,o,t,i,r)}else{n[0]=i,n[1]=r;var s=a&&a.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var _et=function(){function n(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Lt.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),a=t.appendTo,o=a&&(Q(a)?document.querySelector(a):$o(a)?a:at(a)&&a(e.getDom()));Xk(this._styleCoord,r,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(i),this._api=e,this._container=o;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(u){if(u=u||window.event,!s._enterable){var c=r.handler;Hn(r.painter.getViewportRoot(),u,!0),c.dispatch("mousemove",u)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),i=function het(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}(t,"position"),r=t.style;"absolute"!==r.position&&"absolute"!==i&&(r.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,a=this._styleCoord;i.innerHTML?r.cssText=fet+function yet(n,e,t){var i=[],r=n.get("transitionDuration"),a=n.get("backgroundColor"),o=n.get("shadowBlur"),s=n.get("shadowColor"),u=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),h=n.getModel("textStyle"),p=cz(n,"html");return i.push("box-shadow:"+u+"px "+c+"px "+o+"px "+s),e&&r&&i.push(function get(n,e){var t="cubic-bezier(0.23,1,0.32,1)",i=" "+n/2+"s "+t,r="opacity"+i+",visibility"+i;return e||(i=" "+n+"s "+t,r+=Lt.transformSupported?","+v_+i:",left"+i+",top"+i),pet+":"+r}(r,t)),a&&i.push("background-color:"+a),M(["width","color","radius"],function(d){var v="border-"+d,g=tx(v),m=n.get(g);null!=m&&i.push(v+":"+m+("color"===d?"":"px"))}),i.push(function met(n){var e=[],t=n.get("fontSize"),i=n.getTextColor();i&&e.push("color:"+i),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(3*t/2)+"px");var r=n.get("textShadowColor"),a=n.get("textShadowBlur")||0,o=n.get("textShadowOffsetX")||0,s=n.get("textShadowOffsetY")||0;return r&&a&&e.push("text-shadow:"+o+"px "+s+"px "+a+"px "+r),M(["decoration","align"],function(u){var c=n.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}(h)),null!=p&&i.push("padding:"+gs(p).join("px ")+"px"),i.join(";")+";"}(e,!this._firstShow,this._longHide)+Hk(a[0],a[1],!0)+"border-color:"+Ja(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,i,r,a){var o=this.el;if(null!=e){var s="";if(Q(a)&&"item"===i.get("trigger")&&!Bk(i)&&(s=function vet(n,e,t){if(!Q(t)||"inside"===t)return"";var i=n.get("backgroundColor"),r=n.get("borderWidth");e=Ja(e);var c,a=function det(n){return"left"===n?"right":"right"===n?"left":"top"===n?"bottom":"top"}(t),o=Math.max(1.5*Math.round(r),6),s="",u=v_+":";zt(["left","right"],a)>-1?(s+="top:50%",u+="translateY(-50%) rotate("+(c="left"===a?-225:-45)+"deg)"):(s+="left:50%",u+="translateX(-50%) rotate("+(c="top"===a?225:45)+"deg)");var h=c*Math.PI/180,p=o+r,f=p*Math.abs(Math.cos(h))+p*Math.abs(Math.sin(h)),v=e+" solid "+r+"px;";return'<div style="'+["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",(s+=";"+a+":-"+Math.round(100*((f-Math.SQRT2*r)/2+Math.SQRT2*r-(f-p)/2))/100+"px")+";"+u+";","border-bottom:"+v,"border-right:"+v,"background-color:"+i+";"].join("")+'"></div>'}(i,r,a)),Q(e))o.innerHTML=e+s;else if(e){o.innerHTML="",H(e)||(e=[e]);for(var u=0;u<e.length;u++)$o(e[u])&&e[u].parentNode!==o&&o.appendChild(e[u]);if(s&&o.childNodes.length){var c=document.createElement("div");c.innerHTML=s,o.appendChild(c)}}}else o.innerHTML=""},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var i=this._styleCoord;if(Xk(i,this._zr,this._container,e,t),null!=i[0]&&null!=i[1]){var r=this.el.style;M(Hk(i[0],i[1]),function(o){r[o[0]]=o[1]})}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Lt.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(J(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},n}();const bet=_et;var Cet=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Yk(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,i,r,a){var o=this;ct(e)&&jt(""),this.el&&this._zr.remove(this.el);var s=i.getModel("textStyle");this.el=new Vt({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:cz(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),M(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){o.el.style[c]=i.get(c)}),M(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){o.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=jk(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},n.prototype.moveTo=function(e,t){var i=this.el;if(i){var r=this._styleCoord;Yk(r,this._zr,e,t),e=r[0],t=r[1];var a=i.style,o=fa(a.borderWidth||0),s=jk(a);i.x=e+o+s.left,i.y=t+o+s.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(J(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function fa(n){return Math.max(0,n)}function jk(n){var e=fa(n.shadowBlur||0),t=fa(n.shadowOffsetX||0),i=fa(n.shadowOffsetY||0);return{left:fa(e-t),right:fa(e+t),top:fa(e-i),bottom:fa(e+i)}}function Yk(n,e,t,i){n[0]=t,n[1]=i,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const xet=Cet;var zet=new Ot({shape:{x:-1,y:-1,width:2,height:2}}),wet=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(t,i){if(!Lt.node&&i.getDom()){var r=t.getComponent("tooltip"),a=this._renderMode=function y3(n){return"auto"===n?Lt.domSupported?"html":"richText":n||"html"}(r.get("renderMode"));this._tooltipContent="richText"===a?new xet(i):new bet(i,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},e.prototype.render=function(t,i,r){if(!Lt.node&&r.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=r;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?Ms(this,"_updatePosition",50,"fixRate"):du(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var i=this._tooltipModel.get("triggerOn");qA("itemTooltip",this._api,J(function(r,a,o){"none"!==i&&(i.indexOf(r)>=0?this._tryShow(a,o):"leave"===r&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,a=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==a&&"click"!==a){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(t,i,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,r,a){if(a.from!==this.uid&&!Lt.node&&r.getDom()){var o=Wk(a,r);this._ticket="";var s=a.dataByCoordSys,u=function Iet(n,e,t){var i=Iv(n).queryOptionMap,r=i.keys()[0];if(r&&"series"!==r){var u,o=Fl(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(o&&(t.getViewOfComponentModel(o).group.traverse(function(c){var h=dt(c).tooltipConfig;if(h&&h.name===n.name)return u=c,!0}),u))return{componentMainType:r,componentIndex:o.componentIndex,el:u}}}(a,i,r);if(u){var c=u.el.getBoundingRect().clone();c.applyTransform(u.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:u.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&null!=a.x&&null!=a.y){var h=zet;h.x=a.x,h.y=a.y,h.update(),dt(h).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:h},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(t,i,r,a))return;var p=QA(a,i),f=p.point[0],d=p.point[1];null!=f&&null!=d&&this._tryShow({offsetX:f,offsetY:d,target:p.el,position:a.position,positionDefault:"bottom"},o)}else null!=a.x&&null!=a.y&&(r.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:r.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(t,i,r,a){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Wk(a,r))},e.prototype._manuallyAxisShowTip=function(t,i,r,a){var o=a.seriesIndex,s=a.dataIndex,u=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=s&&null!=u){var c=i.getSeriesByIndex(o);if(c&&"axis"===sc([c.getData().getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}},e.prototype._tryShow=function(t,i){var r=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(r){var u,c;if("legend"===dt(r).ssrType)return;this._lastDataByCoordSys=null,uo(r,function(h){return null!=dt(h).dataIndex?(u=h,!0):null!=dt(h).tooltipConfig?(c=h,!0):void 0},!0),u?this._showSeriesItemTooltip(t,u,i):c?this._showComponentItemTooltip(t,c,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var r=t.get("showDelay");i=J(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},e.prototype._showAxisTooltip=function(t,i){var r=this._ecModel,a=this._tooltipModel,o=[i.offsetX,i.offsetY],s=sc([i.tooltipOption],a),u=this._renderMode,c=[],h=Ee("section",{blocks:[],noHeader:!0}),p=[],f=new Gg;M(t,function(_){M(_.dataByAxis,function(b){var C=r.getComponent(b.axisDim+"Axis",b.axisIndex),x=b.value;if(C&&null!=x){var S=jA(x,C.axis,r,b.seriesDataIndices,b.valueLabelOpt),z=Ee("section",{header:S,noHeader:!hi(S),sortBlocks:!0,blocks:[]});h.blocks.push(z),M(b.seriesDataIndices,function(w){var T=r.getSeriesByIndex(w.seriesIndex),D=w.dataIndexInside,I=T.getDataParams(D);if(!(I.dataIndex<0)){I.axisDim=b.axisDim,I.axisIndex=b.axisIndex,I.axisType=b.axisType,I.axisId=b.axisId,I.axisValue=ay(C.axis,{value:x}),I.axisValueLabel=S,I.marker=f.makeTooltipMarker("item",Ja(I.color),u);var A=Xx(T.formatTooltip(D,!0,null)),k=A.frag;if(k){var P=sc([T],a).get("valueFormatter");z.blocks.push(P?F({valueFormatter:P},k):k)}A.text&&p.push(A.text),c.push(I)}})}})}),h.blocks.reverse(),p.reverse();var d=i.position,v=s.get("order"),g=sz(h,f,u,v,r.get("useUTC"),s.get("textStyle"));g&&p.unshift(g);var y=p.join("richText"===u?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(s,d,o[0],o[1],this._tooltipContent,c):this._showTooltipContent(s,y,c,Math.random()+"",o[0],o[1],d,null,f)})},e.prototype._showSeriesItemTooltip=function(t,i,r){var a=this._ecModel,o=dt(i),s=o.seriesIndex,u=a.getSeriesByIndex(s),c=o.dataModel||u,h=o.dataIndex,p=o.dataType,f=c.getData(p),d=this._renderMode,v=t.positionDefault,g=sc([f.getItemModel(h),c,u&&(u.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),m=g.get("trigger");if(null==m||"item"===m){var y=c.getDataParams(h,p),_=new Gg;y.marker=_.makeTooltipMarker("item",Ja(y.color),d);var b=Xx(c.formatTooltip(h,!1,p)),C=g.get("order"),x=g.get("valueFormatter"),S=b.frag,z=S?sz(x?F({valueFormatter:x},S):S,_,d,C,a.get("useUTC"),g.get("textStyle")):b.text,w="item_"+c.name+"_"+h;this._showOrMove(g,function(){this._showTooltipContent(g,z,y,w,t.offsetX,t.offsetY,t.position,t.target,_)}),r({type:"showTip",dataIndexInside:h,dataIndex:f.getRawIndex(h),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,r){var a=dt(i),s=a.tooltipConfig.option||{};Q(s)&&(s={content:s,formatter:s});var c=[s],h=this._ecModel.getComponent(a.componentMainType,a.componentIndex);h&&c.push(h),c.push({formatter:s.content});var p=t.positionDefault,f=sc(c,this._tooltipModel,p?{position:p}:null),d=f.get("content"),v=Math.random()+"",g=new Gg;this._showOrMove(f,function(){var m=ht(f.get("formatterParams")||{});this._showTooltipContent(f,d,m,v,t.offsetX,t.offsetY,t.position,i,g)}),r({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,r,a,o,s,u,c,h){if(this._ticket="",t.get("showContent")&&t.get("show")){var p=this._tooltipContent;p.setEnterable(t.get("enterable"));var f=t.get("formatter");u=u||t.get("position");var d=i,g=this._getNearestPoint([o,s],r,t.get("trigger"),t.get("borderColor")).color;if(f)if(Q(f)){var m=t.ecModel.get("useUTC"),y=H(r)?r[0]:r;d=f,y&&y.axisType&&y.axisType.indexOf("time")>=0&&(d=Bh(y.axisValue,d,m)),d=nx(d,r,!0)}else if(at(f)){var b=J(function(C,x){C===this._ticket&&(p.setContent(x,h,t,g,u),this._updatePosition(t,u,o,s,p,r,c))},this);this._ticket=a,d=f(r,a,b)}else d=f;p.setContent(d,h,t,g,u),p.show(t,g),this._updatePosition(t,u,o,s,p,r,c)}},e.prototype._getNearestPoint=function(t,i,r,a){return"axis"===r||H(i)?{color:a||("html"===this._renderMode?"#fff":"none")}:H(i)?void 0:{color:a||i.color||i.borderColor}},e.prototype._updatePosition=function(t,i,r,a,o,s,u){var c=this._api.getWidth(),h=this._api.getHeight();i=i||t.get("position");var p=o.getSize(),f=t.get("align"),d=t.get("verticalAlign"),v=u&&u.getBoundingRect().clone();if(u&&v.applyTransform(u.transform),at(i)&&(i=i([r,a],s,o.el,v,{viewSize:[c,h],contentSize:p.slice()})),H(i))r=q(i[0],c),a=q(i[1],h);else if(ct(i)){var g=i;g.width=p[0],g.height=p[1];var m=ke(g,{width:c,height:h});r=m.x,a=m.y,f=null,d=null}else if(Q(i)&&u){var y=function Met(n,e,t,i){var r=t[0],a=t[1],o=Math.ceil(Math.SQRT2*i)+8,s=0,u=0,c=e.width,h=e.height;switch(n){case"inside":s=e.x+c/2-r/2,u=e.y+h/2-a/2;break;case"top":s=e.x+c/2-r/2,u=e.y-a-o;break;case"bottom":s=e.x+c/2-r/2,u=e.y+h+o;break;case"left":s=e.x-r-o,u=e.y+h/2-a/2;break;case"right":s=e.x+c+o,u=e.y+h/2-a/2}return[s,u]}(i,v,p,t.get("borderWidth"));r=y[0],a=y[1]}else y=function Tet(n,e,t,i,r,a,o){var s=t.getSize(),u=s[0],c=s[1];return null!=a&&(n+u+a+2>i?n-=u+a:n+=a),null!=o&&(e+c+o>r?e-=c+o:e+=o),[n,e]}(r,a,o,c,h,f?null:20,d?null:20),r=y[0],a=y[1];f&&(r-=Uk(f)?p[0]/2:"right"===f?p[0]:0),d&&(a-=Uk(d)?p[1]/2:"bottom"===d?p[1]:0),Bk(t)&&(y=function Det(n,e,t,i,r){var a=t.getSize(),o=a[0],s=a[1];return n=Math.min(n+o,i)-o,e=Math.min(e+s,r)-s,[n=Math.max(n,0),e=Math.max(e,0)]}(r,a,o,c,h),r=y[0],a=y[1]),o.moveTo(r,a)},e.prototype._updateContentNotChangedOnAxis=function(t,i){var r=this._lastDataByCoordSys,a=this._cbParamsList,o=!!r&&r.length===t.length;return o&&M(r,function(s,u){var c=s.dataByAxis||[],p=(t[u]||{}).dataByAxis||[];(o=o&&c.length===p.length)&&M(c,function(f,d){var v=p[d]||{},g=f.seriesDataIndices||[],m=v.seriesDataIndices||[];(o=o&&f.value===v.value&&f.axisType===v.axisType&&f.axisId===v.axisId&&g.length===m.length)&&M(g,function(y,_){var b=m[_];o=o&&y.seriesIndex===b.seriesIndex&&y.dataIndex===b.dataIndex}),a&&M(f.seriesDataIndices,function(y){var _=y.seriesIndex,b=i[_],C=a[_];b&&C&&C.data!==b.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){Lt.node||!i.getDom()||(du(this,"_updatePosition"),this._tooltipContent.dispose(),q0("itemTooltip",i))},e.type="tooltip",e}(de);function sc(n,e,t){var r,i=e.ecModel;t?(r=new ee(t,i,i),r=new ee(e.option,r,i)):r=e;for(var a=n.length-1;a>=0;a--){var o=n[a];o&&(o instanceof ee&&(o=o.get("tooltip",!0)),Q(o)&&(o={formatter:o}),o&&(r=new ee(o,r,i)))}return r}function Wk(n,e){return n.dispatchAction||J(e.dispatchAction,e)}function Uk(n){return"center"===n||"middle"===n}const Aet=wet;var Pet=["rect","polygon","keep","clear"];function Ret(n,e){var t=Zt(n?n.brush:[]);if(t.length){var i=[];M(t,function(u){var c=u.hasOwnProperty("toolbox")?u.toolbox:[];c instanceof Array&&(i=i.concat(c))});var r=n&&n.toolbox;H(r)&&(r=r[0]),r||(n.toolbox=[r={feature:{}}]);var a=r.feature||(r.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,i),function Net(n){var e={};M(n,function(t){e[t]=1}),n.length=0,M(e,function(t,i){n.push(i)})}(s),e&&!s.length&&s.push.apply(s,Pet)}}var $k=M;function Zk(n){if(n)for(var e in n)if(n.hasOwnProperty(e))return!0}function g_(n,e,t){var i={};return $k(e,function(a){var o=i[a]=function r(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}();$k(n[a],function(s,u){if(Ze.isValidType(u)){var c={type:u,visual:s};t&&t(c,a),o[u]=new Ze(c),"opacity"===u&&((c=ht(c)).type="colorAlpha",o.__hidden.__alphaForOpacity=new Ze(c))}})}),i}function qk(n,e,t){var i;M(t,function(r){e.hasOwnProperty(r)&&Zk(e[r])&&(i=!0)}),i&&M(t,function(r){e.hasOwnProperty(r)&&Zk(e[r])?n[r]=ht(e[r]):delete n[r]})}var Kk={lineX:Qk(0),lineY:Qk(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&Do(t.range,n[0],n[1])},rect:function(n,e,t){var i=t.range;if(!n||i.length<=1)return!1;var r=n.x,a=n.y,o=n.width,s=n.height,u=i[0];return!!(Do(i,r,a)||Do(i,r+o,a)||Do(i,r,a+s)||Do(i,r+o,a+s)||xt.create(n).contain(u[0],u[1])||fu(r,a,r+o,a,i)||fu(r,a,r,a+s,i)||fu(r+o,a,r+o,a+s,i)||fu(r,a+s,r+o,a+s,i))||void 0}}};function Qk(n){var e=["x","y"],t=["width","height"];return{point:function(i,r,a){if(i)return lc(i[n],a.range)},rect:function(i,r,a){if(i){var o=a.range,s=[i[e[n]],i[e[n]]+i[t[n]]];return s[1]<s[0]&&s.reverse(),lc(s[0],o)||lc(s[1],o)||lc(o[0],s)||lc(o[1],s)}}}}function lc(n,e){return e[0]<=n&&n<=e[1]}var Jk=["inBrush","outOfBrush"],m_="__ecBrushSelect",y_="__ecInBrushSelectEvent";function tP(n){n.eachComponent({mainType:"brush"},function(e){(e.brushTargetManager=new p_(e.option,n)).setInputRanges(e.areas,n)})}function Bet(n,e,t){var r,a,i=[];n.eachComponent({mainType:"brush"},function(o){t&&"takeGlobalCursor"===t.type&&o.setBrushOption("brush"===t.key?t.brushOption:{brushType:!1})}),tP(n),n.eachComponent({mainType:"brush"},function(o,s){var u={brushId:o.id,brushIndex:s,brushName:o.name,areas:ht(o.areas),selected:[]};i.push(u);var c=o.option,h=c.brushLink,p=[],f=[],d=[],v=!1;s||(r=c.throttleType,a=c.throttleDelay);var g=X(o.areas,function(x){var S=Het[x.brushType],z=lt({boundingRect:S?S(x):void 0},x);return z.selectors=function Let(n){var e=n.brushType,t={point:function(i){return Kk[e].point(i,t,n)},rect:function(i){return Kk[e].rect(i,t,n)}};return t}(z),z}),m=g_(o.option,Jk,function(x){x.mappingMethod="fixed"});function y(x){return"all"===h||!!p[x]}function _(x){return!!x.length}H(h)&&M(h,function(x){p[x]=1}),n.eachSeries(function(x,S){var z=d[S]=[];"parallel"===x.subType?function b(x,S){var z=x.coordinateSystem;v=v||z.hasAxisBrushed(),y(S)&&z.eachActiveState(x.getData(),function(w,T){"active"===w&&(f[T]=1)})}(x,S):function C(x,S,z){if(x.brushSelector&&!function Get(n,e){var t=n.option.seriesIndex;return null!=t&&"all"!==t&&(H(t)?zt(t,e)<0:e!==t)}(o,S)&&(M(g,function(T){o.brushTargetManager.controlSeries(T,x,n)&&z.push(T),v=v||_(z)}),y(S)&&_(z))){var w=x.getData();w.each(function(T){eP(x,z,w,T)&&(f[T]=1)})}}(x,S,z)}),n.eachSeries(function(x,S){var z={seriesId:x.id,seriesIndex:S,seriesName:x.name,dataIndex:[]};u.selected.push(z);var w=d[S],T=x.getData(),D=y(S)?function(I){return f[I]?(z.dataIndex.push(T.getRawIndex(I)),"inBrush"):"outOfBrush"}:function(I){return eP(x,w,T,I)?(z.dataIndex.push(T.getRawIndex(I)),"inBrush"):"outOfBrush"};(y(S)?v:_(w))&&function Oet(n,e,t,i,r,a){var s,o={};function u(p){return im(t,s,p)}function c(p,f){uw(t,s,p,f)}function h(p,f){var d=t.getRawDataItem(s=null==a?p:f);if(!d||!1!==d.visualMap)for(var v=i.call(r,p),g=e[v],m=o[v],y=0,_=m.length;y<_;y++){var b=m[y];g[b]&&g[b].applyVisual(p,u,c)}}M(n,function(p){var f=Ze.prepareVisualTypes(e[p]);o[p]=f}),null==a?t.each(h):t.each([a],h)}(Jk,m,T,D)})}),function Vet(n,e,t,i,r){if(r){var a=n.getZr();a[y_]||(a[m_]||(a[m_]=Fet),Ms(a,m_,t,e)(n,i))}}(e,r,a,i,t)}function Fet(n,e){if(!n.isDisposed()){var t=n.getZr();t[y_]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[y_]=!1}}function eP(n,e,t,i){for(var r=0,a=e.length;r<a;r++){var o=e[r];if(n.brushSelector(i,t,o.selectors,o))return!0}}var Het={rect:function(n){return nP(n.range)},polygon:function(n){for(var e,t=n.range,i=0,r=t.length;i<r;i++){var a=t[i];a[0]<(e=e||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&nP(e)}};function nP(n){return new xt(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var Xet=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i,(this._brushController=new b0(i.getZr())).on("brush",J(this._onBrush,this)).mount()},e.prototype.render=function(t,i,r,a){this.model=t,this._updateController(t,i,r,a)},e.prototype.updateTransform=function(t,i,r,a){tP(i),this._updateController(t,i,r,a)},e.prototype.updateVisual=function(t,i,r,a){this.updateTransform(t,i,r,a)},e.prototype.updateView=function(t,i,r,a){this._updateController(t,i,r,a)},e.prototype._updateController=function(t,i,r,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:ht(r),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:ht(r),$from:i})},e.type="brush",e}(de);const jet=Xet;var Wet=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return B(e,n),e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&qk(r,t,["inBrush","outOfBrush"]);var a=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=X(t,function(i){return iP(this.option,i)},this))},e.prototype.setBrushOption=function(t){this.brushOption=iP(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Ft);function iP(n,e){return St({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new ee(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}const Uet=Wet;var $et=["rect","polygon","lineX","lineY","keep","clear"],Zet=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return B(e,n),e.prototype.render=function(t,i,r){var a,o,s;i.eachComponent({mainType:"brush"},function(u){a=u.brushType,o=u.brushOption.brushMode||"single",s=s||!!u.areas.length}),this._brushType=a,this._brushMode=o,M(t.get("type",!0),function(u){t.setIconStatus(u,("keep"===u?"multiple"===o:"clear"===u?s:u===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,i,r){this.render(t,i,r)},e.prototype.getIcons=function(){var t=this.model,i=t.get("icon",!0),r={};return M(t.get("type",!0),function(a){i[a]&&(r[a]=i[a])}),r},e.prototype.onclick=function(t,i,r){var a=this._brushType,o=this._brushMode;"clear"===r?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===r?a:a!==r&&r,brushMode:"keep"===r?"multiple"===o?"single":"multiple":o}})},e.getDefaultOption=function(t){return{show:!0,type:$et.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},e}(ai);const qet=Zet;var Qet=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return B(e,n),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Ft),Jet=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.render=function(t,i,r){if(this.group.removeAll(),t.get("show")){var a=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),u=t.get("textAlign"),c=mt(t.get("textBaseline"),t.get("textVerticalAlign")),h=new Vt({style:te(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),p=h.getBoundingRect(),f=t.get("subtext"),d=new Vt({style:te(s,{text:f,fill:s.getTextColor(),y:p.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=t.get("link"),g=t.get("sublink"),m=t.get("triggerEvent",!0);h.silent=!v&&!m,d.silent=!g&&!m,v&&h.on("click",function(){Xh(v,"_"+t.get("target"))}),g&&d.on("click",function(){Xh(g,"_"+t.get("subtarget"))}),dt(h).eventData=dt(d).eventData=m?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(h),f&&a.add(d);var y=a.getBoundingRect(),_=t.getBoxLayoutParams();_.width=y.width,_.height=y.height;var b=ke(_,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));u||("middle"===(u=t.get("left")||t.get("right"))&&(u="center"),"right"===u?b.x+=b.width:"center"===u&&(b.x+=b.width/2)),c||("center"===(c=t.get("top")||t.get("bottom"))&&(c="middle"),"bottom"===c?b.y+=b.height:"middle"===c&&(b.y+=b.height/2),c=c||"top"),a.x=b.x,a.y=b.y,a.markRedraw();var C={align:u,verticalAlign:c};h.setStyle(C),d.setStyle(C),y=a.getBoundingRect();var x=b.margin,S=t.getItemStyle(["color","opacity"]);S.fill=t.get("backgroundColor");var z=new Ot({shape:{x:y.x-x[3],y:y.y-x[0],width:y.width+x[1]+x[3],height:y.height+x[0]+x[2],r:t.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});a.add(z)}},e.type="title",e}(de),ent=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return B(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var o,t=this.option,i=t.data||[],r=t.axisType,a=this._names=[];"category"===r?(o=[],M(i,function(c,h){var f,p=Ae(as(c),"");ct(c)?(f=ht(c)).value=h:f=h,o.push(f),a.push(p)})):o=i,(this._data=new vn([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[r]||"number"}],this)).initData(o,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Ft);const rP=ent;var aP=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="timeline.slider",e.defaultOption=Ur(rP.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(rP);Te(aP,Ng.prototype);const nnt=aP;var int=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="timeline",e}(de);const rnt=int;var ant=function(n){function e(t,i,r,a){var o=n.call(this,t,i,r)||this;return o.type=a||"value",o}return B(e,n),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(zi);const ont=ant;var __=Math.PI,oP=Nt(),snt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(t,i){this.api=i},e.prototype.render=function(t,i,r){if(this.model=t,this.api=r,this.ecModel=i,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,r),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),u=this._axis=this._createAxis(a,t);t.formatTooltip=function(c){return Ee("nameValue",{noName:!0,value:u.scale.getLabel({value:c})})},M(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](a,o,u,t)},this),this._renderAxisLabel(a,s,u,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,i){var s,r=t.get(["label","position"]),a=t.get("orient"),o=function unt(n,e){return ke(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},n.get("padding"))}(t,i),u={horizontal:"center",vertical:(s=null==r||"auto"===r?"horizontal"===a?o.y+o.height/2<i.getHeight()/2?"-":"+":o.x+o.width/2<i.getWidth()/2?"+":"-":Q(r)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][r]:r)>=0||"+"===s?"left":"right"},c={horizontal:s>=0||"+"===s?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:__/2},p="vertical"===a?o.height:o.width,f=t.getModel("controlStyle"),d=f.get("show",!0),v=d?f.get("itemSize"):0,g=d?f.get("itemGap"):0,m=v+g,y=t.get(["label","rotate"])||0;y=y*__/180;var _,b,C,x=f.get("position",!0),S=d&&f.get("showPlayBtn",!0),z=d&&f.get("showPrevBtn",!0),w=d&&f.get("showNextBtn",!0),T=0,D=p;"left"===x||"bottom"===x?(S&&(_=[0,0],T+=m),z&&(b=[T,0],T+=m),w&&(C=[D-v,0],D-=m)):(S&&(_=[D-v,0],D-=m),z&&(b=[0,0],T+=m),w&&(C=[D-v,0],D-=m));var I=[T,D];return t.get("inverse")&&I.reverse(),{viewRect:o,mainLength:p,orient:a,rotation:h[a],labelRotation:y,labelPosOpt:s,labelAlign:t.get(["label","align"])||u[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||c[a],playPosition:_,prevBtnPosition:b,nextBtnPosition:C,axisExtent:I,controlSize:v,controlGap:g}},e.prototype._position=function(t,i){var r=this._mainGroup,a=this._labelGroup,o=t.viewRect;if("vertical"===t.orient){var s=[1,0,0,1,0,0],u=o.x,c=o.y+o.height;Ri(s,s,[-u,-c]),Da(s,s,-__/2),Ri(s,s,[u,c]),(o=o.clone()).applyTransform(s)}var h=_(o),p=_(r.getBoundingRect()),f=_(a.getBoundingRect()),d=[r.x,r.y],v=[a.x,a.y];v[0]=d[0]=h[0][0];var m,g=t.labelPosOpt;function y(C){C.originX=h[0][0]-C.x,C.originY=h[1][0]-C.y}function _(C){return[[C.x,C.x+C.width],[C.y,C.y+C.height]]}function b(C,x,S,z,w){C[z]+=S[z][w]-x[z][w]}null==g||Q(g)?(b(d,p,h,1,m="+"===g?0:1),b(v,f,h,1,1-m)):(b(d,p,h,1,m=g>=0?0:1),v[1]=d[1]+g),r.setPosition(d),a.setPosition(v),r.rotation=a.rotation=t.rotation,y(r),y(a)},e.prototype._createAxis=function(t,i){var r=i.getData(),a=i.get("axisType"),o=function lnt(n,e){if(e=e||n.get("type"))switch(e){case"category":return new iy({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new UD({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new oa}}(i,a);o.getTicks=function(){return r.mapArray(["value"],function(c){return{value:c}})};var s=r.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var u=new ont("value",o,t.axisExtent,a);return u.model=i,u},e.prototype._createGroup=function(t){var i=this[t]=new ft;return this.group.add(i),i},e.prototype._renderAxisLine=function(t,i,r,a){var o=r.getExtent();if(a.get(["lineStyle","show"])){var s=new He({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:F({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(s);var u=this._progressLine=new He({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:lt({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(u)}},e.prototype._renderAxisTick=function(t,i,r,a){var o=this,s=a.getData(),u=r.scale.getTicks();this._tickSymbols=[],M(u,function(c){var h=r.dataToCoord(c.value),p=s.getItemModel(c.value),f=p.getModel("itemStyle"),d=p.getModel(["emphasis","itemStyle"]),v=p.getModel(["progress","itemStyle"]),g={x:h,y:0,onclick:J(o._changeTimeline,o,c.value)},m=sP(p,f,i,g);m.ensureState("emphasis").style=d.getItemStyle(),m.ensureState("progress").style=v.getItemStyle(),qa(m);var y=dt(m);p.get("tooltip")?(y.dataIndex=c.value,y.dataModel=a):y.dataIndex=y.dataModel=null,o._tickSymbols.push(m)})},e.prototype._renderAxisLabel=function(t,i,r,a){var o=this;if(r.getLabelModel().get("show")){var u=a.getData(),c=r.getViewLabels();this._tickLabels=[],M(c,function(h){var p=h.tickValue,f=u.getItemModel(p),d=f.getModel("label"),v=f.getModel(["emphasis","label"]),g=f.getModel(["progress","label"]),m=r.dataToCoord(h.tickValue),y=new Vt({x:m,y:0,rotation:t.labelRotation-t.rotation,onclick:J(o._changeTimeline,o,p),silent:!1,style:te(d,{text:h.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});y.ensureState("emphasis").style=te(v),y.ensureState("progress").style=te(g),i.add(y),qa(y),oP(y).dataIndex=p,o._tickLabels.push(y)})}},e.prototype._renderControl=function(t,i,r,a){var o=t.controlSize,s=t.rotation,u=a.getModel("controlStyle").getItemStyle(),c=a.getModel(["emphasis","controlStyle"]).getItemStyle(),h=a.getPlayState(),p=a.get("inverse",!0);function f(d,v,g,m){if(d){var y=di(mt(a.get(["controlStyle",v+"BtnSize"]),o),o),b=function cnt(n,e,t,i){var r=i.style,a=pu(n.get(["controlStyle",e]),i||{},new xt(t[0],t[1],t[2],t[3]));return r&&a.setStyle(r),a}(a,v+"Icon",[0,-y/2,y,y],{x:d[0],y:d[1],originX:o/2,originY:0,rotation:m?-s:0,rectHover:!0,style:u,onclick:g});b.ensureState("emphasis").style=c,i.add(b),qa(b)}}f(t.nextBtnPosition,"next",J(this._changeTimeline,this,p?"-":"+")),f(t.prevBtnPosition,"prev",J(this._changeTimeline,this,p?"+":"-")),f(t.playPosition,h?"stop":"play",J(this._handlePlayClick,this,!h),!0)},e.prototype._renderCurrentPointer=function(t,i,r,a){var o=a.getData(),s=a.getCurrentIndex(),u=o.getItemModel(s).getModel("checkpointStyle"),c=this;this._currentPointer=sP(u,u,this._mainGroup,{},this._currentPointer,{onCreate:function(p){p.draggable=!0,p.drift=J(c._handlePointerDrag,c),p.ondragend=J(c._handlePointerDragend,c),lP(p,c._progressLine,s,r,a,!0)},onUpdate:function(p){lP(p,c._progressLine,s,r,a)}})},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,i){var r=this._toAxisCoord(t)[0],o=Yn(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=r,s.dirty());var u=this._findNearestTick(r),c=this.model;(i||u!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(u)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=t.model;t._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){return _i(t,this._mainGroup.getLocalTransform(),!0)},e.prototype._findNearestTick=function(t){var a,i=this.model.getData(),r=1/0,o=this._axis;return i.each(["value"],function(s,u){var c=o.dataToCoord(s),h=Math.abs(c-t);h<r&&(r=h,a=u)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var i=this.model.getCurrentIndex();"+"===t?t=i+1:"-"===t&&(t=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",a<t);if(r)for(a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",oP(r[a]).dataIndex<=t)},e.type="timeline.slider",e}(rnt);function sP(n,e,t,i,r,a){var o=e.get("color");r?(r.setColor(o),t.add(r),a&&a.onUpdate(r)):((r=Ie(n.get("symbol"),-1,-1,2,2,o)).setStyle("strokeNoScale",!0),t.add(r),a&&a.onCreate(r));var u=e.getItemStyle(["color"]);r.setStyle(u),i=St({rectHover:!0,z2:100},i,!0);var c=As(n.get("symbolSize"));i.scaleX=c[0]/2,i.scaleY=c[1]/2;var h=co(n.get("symbolOffset"),c);h&&(i.x=(i.x||0)+h[0],i.y=(i.y||0)+h[1]);var p=n.get("symbolRotate");return i.rotation=(p||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function lP(n,e,t,i,r,a){if(!n.dragging){var o=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",t));if(a||!o.get("animation",!0))n.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var u={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:s,y:0},u),e&&e.animateTo({shape:{x2:s}},u)}}}const hnt=snt;function fnt(n){var e=n&&n.timeline;H(e)||(e=e?[e]:[]),M(e,function(t){t&&function dnt(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),uP(n),Bo(n,"controlPosition")){var i=n.controlStyle||(n.controlStyle={});Bo(i,"position")||(i.position=n.controlPosition),"none"===i.position&&!Bo(i,"show")&&(i.show=!1,delete i.position),delete n.controlPosition}M(n.data||[],function(r){ct(r)&&!H(r)&&(!Bo(r,"value")&&Bo(r,"name")&&(r.value=r.name),uP(r))})}(t)})}function uP(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),a={normal:1,emphasis:1};M(i,function(o,s){!a[s]&&!Bo(r,s)&&(r[s]=o)}),t.label&&!Bo(i,"emphasis")&&(i.emphasis=t.label,delete t.label)}function Bo(n,e){return n.hasOwnProperty(e)}function b_(n,e){if(!n)return!1;for(var t=H(n)?n:[n],i=0;i<t.length;i++)if(t[i]&&t[i][e])return!0;return!1}function Rf(n){Ea(n,"label",["show"])}var Nf=Nt(),cP=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return B(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Lt.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,i){this._mergeOption(t,i,!1,!1)},e.prototype._mergeOption=function(t,i,r,a){var o=this.mainType;r||i.eachSeries(function(s){var u=s.get(this.mainType,!0),c=Nf(s)[o];u&&u.data?(c?c._mergeOption(u,i,!0):(a&&Rf(u),M(u.data,function(h){h instanceof Array?(Rf(h[0]),Rf(h[1])):Rf(h)}),F(c=this.createMarkerModelFromSeries(u,this,i),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),c.__hostSeries=s),Nf(s)[o]=c):Nf(s)[o]=null},this)},e.prototype.formatTooltip=function(t,i,r){var a=this.getData(),o=this.getRawValue(t),s=a.getName(t);return Ee("section",{header:this.name,blocks:[Ee("nameValue",{name:s,value:o,noName:!s,noValue:null==o})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,i){return Nf(t)[i]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(Ft);Te(cP,Ng.prototype);const da=cP;var gnt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(da);const mnt=gnt;function C_(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function Of(n,e,t,i,r,a){var o=[],u=na(e,i)?e.getCalculationInfo("stackResultDimension"):i,c=x_(e,u,n),h=e.indicesOfNearest(u,c)[0];o[r]=e.get(t,h),o[a]=e.get(u,h);var p=e.get(i,h),f=Li(e.get(i,h));return(f=Math.min(f,20))>=0&&(o[a]=+o[a].toFixed(f)),[o,p]}var S_={min:yt(Of,"min"),max:yt(Of,"max"),average:yt(Of,"average"),median:yt(Of,"median")};function uc(n,e){if(e){var t=n.getData(),i=n.coordinateSystem,r=i&&i.dimensions;if(!function ynt(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}(e)&&!H(e.coord)&&H(r)){var a=hP(e,t,i,n);if((e=ht(e)).type&&S_[e.type]&&a.baseAxis&&a.valueAxis){var o=zt(r,a.baseAxis.dim),s=zt(r,a.valueAxis.dim),u=S_[e.type](t,a.baseDataDim,a.valueDataDim,o,s);e.coord=u[0],e.value=u[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null!=e.coord&&H(r))for(var c=e.coord,h=0;h<2;h++)S_[c[h]]&&(c[h]=x_(t,t.mapDimension(r[h]),c[h]));else e.coord=[];return e}}function hP(n,e,t,i){var r={};return null!=n.valueIndex||null!=n.valueDim?(r.valueDataDim=null!=n.valueIndex?e.getDimension(n.valueIndex):n.valueDim,r.valueAxis=t.getAxis(function _nt(n,e){var t=n.getData().getDimensionInfo(e);return t&&t.coordDim}(i,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function cc(n,e){return!(n&&n.containData&&e.coord&&!C_(e))||n.containData(e.coord)}function pP(n,e){return n?function(t,i,r,a){return qr(a<2?t.coord&&t.coord[a]:t.value,e[a])}:function(t,i,r,a){return qr(t.value,e[a])}}function x_(n,e,t){if("average"===t){var i=0,r=0;return n.each(e,function(a,o){isNaN(a)||(i+=a,r++)}),i/r}return"median"===t?n.getMedian(e):n.getDataExtent(e)["max"===t?1:0]}var z_=Nt(),Cnt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.init=function(){this.markerGroupMap=nt()},e.prototype.render=function(t,i,r){var a=this,o=this.markerGroupMap;o.each(function(s){z_(s).keep=!1}),i.eachSeries(function(s){var u=da.getMarkerModelFromSeries(s,a.type);u&&a.renderSeries(s,u,i,r)}),o.each(function(s){!z_(s).keep&&a.group.remove(s.group)})},e.prototype.markKeep=function(t){z_(t).keep=!0},e.prototype.toggleBlurSeries=function(t,i){var r=this;M(t,function(a){var o=da.getMarkerModelFromSeries(a,r.type);o&&o.getData().eachItemGraphicEl(function(u){u&&(i?CS(u):tg(u))})})},e.type="marker",e}(de);const w_=Cnt;function fP(n,e,t){var i=e.coordinateSystem;n.each(function(r){var o,a=n.getItemModel(r),s=q(a.get("x"),t.getWidth()),u=q(a.get("y"),t.getHeight());if(isNaN(s)||isNaN(u)){if(e.getMarkerPosition)o=e.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var c=n.get(i.dimensions[0],r),h=n.get(i.dimensions[1],r);o=i.dataToPoint([c,h])}}else o=[s,u];isNaN(s)||(o[0]=s),isNaN(u)||(o[1]=u),n.setItemLayout(r,o)})}var Snt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(a){var o=da.getMarkerModelFromSeries(a,"markPoint");o&&(fP(o.getData(),a,r),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,i,r,a){var o=t.coordinateSystem,s=t.id,u=t.getData(),c=this.markerGroupMap,h=c.get(s)||c.set(s,new Pu),p=function xnt(n,e,t){var i;i=n?X(n&&n.dimensions,function(s){return F(F({},e.getData().getDimensionInfo(e.getData().mapDimension(s))||{}),{name:s,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new vn(i,t),a=X(t.get("data"),yt(uc,e));n&&(a=Ut(a,yt(cc,n)));var o=pP(!!n,i);return r.initData(a,null,o),r}(o,t,i);i.setData(p),fP(i.getData(),t,a),p.each(function(f){var d=p.getItemModel(f),v=d.getShallow("symbol"),g=d.getShallow("symbolSize"),m=d.getShallow("symbolRotate"),y=d.getShallow("symbolOffset"),_=d.getShallow("symbolKeepAspect");if(at(v)||at(g)||at(m)||at(y)){var b=i.getRawValue(f),C=i.getDataParams(f);at(v)&&(v=v(b,C)),at(g)&&(g=g(b,C)),at(m)&&(m=m(b,C)),at(y)&&(y=y(b,C))}var x=d.getModel("itemStyle").getItemStyle(),S=mu(u,"color");x.fill||(x.fill=S),p.setItemVisual(f,{symbol:v,symbolSize:g,symbolRotate:m,symbolOffset:y,symbolKeepAspect:_,style:x})}),h.updateData(p),this.group.add(h.group),p.eachItemGraphicEl(function(f){f.traverse(function(d){dt(d).dataModel=i})}),this.markKeep(h),h.group.silent=i.get("silent")||t.get("silent")},e.type="markPoint",e}(w_);const znt=Snt;var Tnt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(da);const Dnt=Tnt;var Ef=Nt(),Mnt=function(n,e,t,i){var a,r=n.getData();if(H(i))a=i;else{var o=i.type;if("min"===o||"max"===o||"average"===o||"median"===o||null!=i.xAxis||null!=i.yAxis){var s=void 0,u=void 0;if(null!=i.yAxis||null!=i.xAxis)s=e.getAxis(null!=i.yAxis?"y":"x"),u=Fe(i.yAxis,i.xAxis);else{var c=hP(i,r,e,n);s=c.valueAxis,u=x_(r,$T(r,c.valueDataDim),o)}var p="x"===s.dim?0:1,f=1-p,d=ht(i),v={coord:[]};d.type=null,d.coord=[],d.coord[f]=-1/0,v.coord[f]=1/0;var g=t.get("precision");g>=0&&Bt(u)&&(u=+u.toFixed(Math.min(g,20))),d.coord[p]=v.coord[p]=u,a=[d,v,{type:o,valueIndex:i.valueIndex,value:u}]}else a=[]}var m=[uc(n,a[0]),uc(n,a[1]),F({},a[2])];return m[2].type=m[2].type||null,St(m[2],m[0]),St(m[2],m[1]),m};function Lf(n){return!isNaN(n)&&!isFinite(n)}function dP(n,e,t,i){var r=1-n,a=i.dimensions[n];return Lf(e[r])&&Lf(t[r])&&e[n]===t[n]&&i.getAxis(a).containData(e[n])}function Int(n,e){if("cartesian2d"===n.type){var t=e[0].coord,i=e[1].coord;if(t&&i&&(dP(1,t,i,n)||dP(0,t,i,n)))return!0}return cc(n,e[0])&&cc(n,e[1])}function T_(n,e,t,i,r){var s,a=i.coordinateSystem,o=n.getItemModel(e),u=q(o.get("x"),r.getWidth()),c=q(o.get("y"),r.getHeight());if(isNaN(u)||isNaN(c)){if(i.getMarkerPosition)s=i.getMarkerPosition(n.getValues(n.dimensions,e));else{var p=n.get((h=a.dimensions)[0],e),f=n.get(h[1],e);s=a.dataToPoint([p,f])}if(So(a,"cartesian2d")){var h,d=a.getAxis("x"),v=a.getAxis("y");Lf(n.get((h=a.dimensions)[0],e))?s[0]=d.toGlobalCoord(d.getExtent()[t?0:1]):Lf(n.get(h[1],e))&&(s[1]=v.toGlobalCoord(v.getExtent()[t?0:1]))}isNaN(u)||(s[0]=u),isNaN(c)||(s[1]=c)}else s=[u,c];n.setItemLayout(e,s)}var Ant=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(a){var o=da.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),u=Ef(o).from,c=Ef(o).to;u.each(function(h){T_(u,h,!0,a,r),T_(c,h,!1,a,r)}),s.each(function(h){s.setItemLayout(h,[u.getItemLayout(h),c.getItemLayout(h)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,i,r,a){var o=t.coordinateSystem,s=t.id,u=t.getData(),c=this.markerGroupMap,h=c.get(s)||c.set(s,new Jy);this.group.add(h.group);var p=function knt(n,e,t){var i;i=n?X(n&&n.dimensions,function(c){return F(F({},e.getData().getDimensionInfo(e.getData().mapDimension(c))||{}),{name:c,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new vn(i,t),a=new vn(i,t),o=new vn([],t),s=X(t.get("data"),yt(Mnt,e,n,t));n&&(s=Ut(s,yt(Int,n)));var u=pP(!!n,i);return r.initData(X(s,function(c){return c[0]}),null,u),a.initData(X(s,function(c){return c[1]}),null,u),o.initData(X(s,function(c){return c[2]})),o.hasItemOption=!0,{from:r,to:a,line:o}}(o,t,i),f=p.from,d=p.to,v=p.line;Ef(i).from=f,Ef(i).to=d,i.setData(v);var g=i.get("symbol"),m=i.get("symbolSize"),y=i.get("symbolRotate"),_=i.get("symbolOffset");function b(C,x,S){var z=C.getItemModel(x);T_(C,x,S,t,a);var w=z.getModel("itemStyle").getItemStyle();null==w.fill&&(w.fill=mu(u,"color")),C.setItemVisual(x,{symbolKeepAspect:z.get("symbolKeepAspect"),symbolOffset:mt(z.get("symbolOffset",!0),_[S?0:1]),symbolRotate:mt(z.get("symbolRotate",!0),y[S?0:1]),symbolSize:mt(z.get("symbolSize"),m[S?0:1]),symbol:mt(z.get("symbol",!0),g[S?0:1]),style:w})}H(g)||(g=[g,g]),H(m)||(m=[m,m]),H(y)||(y=[y,y]),H(_)||(_=[_,_]),p.from.each(function(C){b(f,C,!0),b(d,C,!1)}),v.each(function(C){var x=v.getItemModel(C).getModel("lineStyle").getLineStyle();v.setItemLayout(C,[f.getItemLayout(C),d.getItemLayout(C)]),null==x.stroke&&(x.stroke=f.getItemVisual(C,"style").fill),v.setItemVisual(C,{fromSymbolKeepAspect:f.getItemVisual(C,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(C,"symbolOffset"),fromSymbolRotate:f.getItemVisual(C,"symbolRotate"),fromSymbolSize:f.getItemVisual(C,"symbolSize"),fromSymbol:f.getItemVisual(C,"symbol"),toSymbolKeepAspect:d.getItemVisual(C,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(C,"symbolOffset"),toSymbolRotate:d.getItemVisual(C,"symbolRotate"),toSymbolSize:d.getItemVisual(C,"symbolSize"),toSymbol:d.getItemVisual(C,"symbol"),style:x})}),h.updateData(v),p.line.eachItemGraphicEl(function(C){dt(C).dataModel=i,C.traverse(function(x){dt(x).dataModel=i})}),this.markKeep(h),h.group.silent=i.get("silent")||t.get("silent")},e.type="markLine",e}(w_);const Pnt=Ant;var Nnt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(da);const Ont=Nnt;var Bf=Nt(),Ent=function(n,e,t,i){var r=i[0],a=i[1];if(r&&a){var o=uc(n,r),s=uc(n,a),u=o.coord,c=s.coord;u[0]=Fe(u[0],-1/0),u[1]=Fe(u[1],-1/0),c[0]=Fe(c[0],1/0),c[1]=Fe(c[1],1/0);var h=zd([{},o,s]);return h.coord=[o.coord,s.coord],h.x0=o.x,h.y0=o.y,h.x1=s.x,h.y1=s.y,h}};function Vf(n){return!isNaN(n)&&!isFinite(n)}function vP(n,e,t,i){var r=1-n;return Vf(e[r])&&Vf(t[r])}function Lnt(n,e){var t=e.coord[0],i=e.coord[1],r={coord:t,x:e.x0,y:e.y0},a={coord:i,x:e.x1,y:e.y1};return So(n,"cartesian2d")?!(!t||!i||!vP(1,t,i)&&!vP(0,t,i))||function bnt(n,e,t){return!(n&&n.containZone&&e.coord&&t.coord&&!C_(e)&&!C_(t))||n.containZone(e.coord,t.coord)}(n,r,a):cc(n,r)||cc(n,a)}function gP(n,e,t,i,r){var s,a=i.coordinateSystem,o=n.getItemModel(e),u=q(o.get(t[0]),r.getWidth()),c=q(o.get(t[1]),r.getHeight());if(isNaN(u)||isNaN(c)){if(i.getMarkerPosition){var h=n.getValues(["x0","y0"],e),p=n.getValues(["x1","y1"],e),f=a.clampData(h),d=a.clampData(p),v=[];v[0]="x0"===t[0]?f[0]>d[0]?p[0]:h[0]:f[0]>d[0]?h[0]:p[0],v[1]="y0"===t[1]?f[1]>d[1]?p[1]:h[1]:f[1]>d[1]?h[1]:p[1],s=i.getMarkerPosition(v,t,!0)}else{var y=[g=n.get(t[0],e),m=n.get(t[1],e)];a.clampData&&a.clampData(y,y),s=a.dataToPoint(y,!0)}if(So(a,"cartesian2d")){var _=a.getAxis("x"),b=a.getAxis("y"),g=n.get(t[0],e),m=n.get(t[1],e);Vf(g)?s[0]=_.toGlobalCoord(_.getExtent()["x0"===t[0]?0:1]):Vf(m)&&(s[1]=b.toGlobalCoord(b.getExtent()["y0"===t[1]?0:1]))}isNaN(u)||(s[0]=u),isNaN(c)||(s[1]=c)}else s=[u,c];return s}var mP=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Bnt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(a){var o=da.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(u){var c=X(mP,function(p){return gP(s,u,p,a,r)});s.setItemLayout(u,c),s.getItemGraphicEl(u).setShape("points",c)})}},this)},e.prototype.renderSeries=function(t,i,r,a){var o=t.coordinateSystem,s=t.id,u=t.getData(),c=this.markerGroupMap,h=c.get(s)||c.set(s,{group:new ft});this.group.add(h.group),this.markKeep(h);var p=function Vnt(n,e,t){var i,r;if(n){var o=X(n&&n.dimensions,function(c){var h=e.getData();return F(F({},h.getDimensionInfo(h.mapDimension(c))||{}),{name:c,ordinalMeta:null})});r=X(["x0","y0","x1","y1"],function(c,h){return{name:c,type:o[h%2].type}}),i=new vn(r,t)}else i=new vn(r=[{name:"value",type:"float"}],t);var s=X(t.get("data"),yt(Ent,e,n,t));n&&(s=Ut(s,yt(Lnt,n)));var u=n?function(c,h,p,f){return qr(c.coord[Math.floor(f/2)][f%2],r[f])}:function(c,h,p,f){return qr(c.value,r[f])};return i.initData(s,null,u),i.hasItemOption=!0,i}(o,t,i);i.setData(p),p.each(function(f){var d=X(mP,function(w){return gP(p,f,w,t,a)}),v=o.getAxis("x").scale,g=o.getAxis("y").scale,m=v.getExtent(),y=g.getExtent(),_=[v.parse(p.get("x0",f)),v.parse(p.get("x1",f))],b=[g.parse(p.get("y0",f)),g.parse(p.get("y1",f))];Yn(_),Yn(b),p.setItemLayout(f,{points:d,allClipped:!!(m[0]>_[1]||m[1]<_[0]||y[0]>b[1]||y[1]<b[0])});var S=p.getItemModel(f).getModel("itemStyle").getItemStyle(),z=mu(u,"color");S.fill||(S.fill=z,Q(S.fill)&&(S.fill=oh(S.fill,.4))),S.stroke||(S.stroke=z),p.setItemVisual(f,"style",S)}),p.diff(Bf(h).data).add(function(f){var d=p.getItemLayout(f);if(!d.allClipped){var v=new Tn({shape:{points:d.points}});p.setItemGraphicEl(f,v),h.group.add(v)}}).update(function(f,d){var v=Bf(h).data.getItemGraphicEl(d),g=p.getItemLayout(f);g.allClipped?v&&h.group.remove(v):(v?Gt(v,{shape:{points:g.points}},i,f):v=new Tn({shape:{points:g.points}}),p.setItemGraphicEl(f,v),h.group.add(v))}).remove(function(f){var d=Bf(h).data.getItemGraphicEl(f);h.group.remove(d)}).execute(),p.eachItemGraphicEl(function(f,d){var v=p.getItemModel(d),g=p.getItemVisual(d,"style");f.useStyle(p.getItemVisual(d,"style")),Ue(f,Oe(v),{labelFetcher:i,labelDataIndex:d,defaultText:p.getName(d)||"",inheritColor:Q(g.fill)?oh(g.fill,1):"#000"}),We(f,v),fe(f,null,null,v.get(["emphasis","disabled"])),dt(f).dataModel=i}),Bf(h).data=p,h.group.silent=i.get("silent")||t.get("silent")},e.type="markArea",e}(w_);const Fnt=Bnt;var Xnt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return B(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,r=this.ecModel;!0===i&&(i=t.selector=["all","inverse"]),H(i)&&M(i,function(a,o){Q(a)&&(a={type:a}),i[o]=St(a,function(n,e){return"all"===e?{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(r,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var i=!1,r=0;r<t.length;r++){var a=t[r].get("name");if(this.isSelected(a)){this.select(a),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],r=[];t.eachRawSeries(function(u){var h;if(r.push(u.name),u.legendVisualProvider){var f=u.legendVisualProvider.getAllNames();t.isSeriesFiltered(u)||(r=r.concat(f)),f.length?i=i.concat(f):h=!0}else h=!0;h&&Mv(u)&&i.push(u.name)}),this._availableNames=r;var a=this.get("data")||i,o=nt(),s=X(a,function(u){return(Q(u)||Bt(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new ee(u,this,this.ecModel))},this);this._data=Ut(s,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected;"single"===this.get("selectedMode")&&M(this._data,function(o){i[o.get("name")]=!1}),i[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var i=this.option.selected;M(this._data,function(r){i[r.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var i=this.option.selected;M(this._data,function(r){var a=r.get("name",!0);i.hasOwnProperty(a)||(i[a]=!0),i[a]=!i[a]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&zt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Ft);const D_=Xnt;var Qs=yt,M_=M,Ff=ft,jnt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return B(e,n),e.prototype.init=function(){this.group.add(this._contentGroup=new Ff),this.group.add(this._selectorGroup=new Ff),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,r){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||"auto"===o)&&(o="right"===t.get("left")&&"vertical"===s?"right":"left");var u=t.get("selector",!0),c=t.get("selectorPosition",!0);u&&(!c||"auto"===c)&&(c="horizontal"===s?"end":"start"),this.renderInner(o,t,i,r,u,s,c);var h=t.getBoxLayoutParams(),p={width:r.getWidth(),height:r.getHeight()},f=t.get("padding"),d=ke(h,p,f),v=this.layoutInner(t,o,d,a,u,c),g=ke(lt({width:v.width,height:v.height},h),p,f);this.group.x=g.x-v.x,this.group.y=g.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Tk(v,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,r,a,o,s,u){var c=this.getContentGroup(),h=nt(),p=i.get("selectedMode"),f=[];r.eachRawSeries(function(d){!d.get("legendHoverLink")&&f.push(d.id)}),M_(i.getData(),function(d,v){var g=d.get("name");if(!this.newlineDisabled&&(""===g||"\n"===g)){var m=new Ff;return m.newline=!0,void c.add(m)}var y=r.getSeriesByName(g)[0];if(!h.get(g))if(y){var _=y.getData(),b=_.getVisual("legendLineStyle")||{},C=_.getVisual("legendIcon"),x=_.getVisual("style"),S=this._createItem(y,g,v,d,i,t,b,x,C,p,a);S.on("click",Qs(yP,g,null,a,f)).on("mouseover",Qs(I_,y.name,null,a,f)).on("mouseout",Qs(A_,y.name,null,a,f)),r.ssr&&S.eachChild(function(z){var w=dt(z);w.seriesIndex=y.seriesIndex,w.dataIndex=v,w.ssrType="legend"}),h.set(g,!0)}else r.eachRawSeries(function(z){if(!h.get(g)&&z.legendVisualProvider){var w=z.legendVisualProvider;if(!w.containName(g))return;var T=w.indexOfName(g),D=w.getItemVisual(T,"style"),I=w.getItemVisual(T,"legendIcon"),A=Sn(D.fill);A&&0===A[3]&&(A[3]=.2,D=F(F({},D),{fill:Oi(A,"rgba")}));var k=this._createItem(z,g,v,d,i,t,{},D,I,p,a);k.on("click",Qs(yP,null,g,a,f)).on("mouseover",Qs(I_,null,g,a,f)).on("mouseout",Qs(A_,null,g,a,f)),r.ssr&&k.eachChild(function(P){var N=dt(P);N.seriesIndex=z.seriesIndex,N.dataIndex=v,N.ssrType="legend"}),h.set(g,!0)}},this)},this),o&&this._createSelector(o,i,a,s,u)},e.prototype._createSelector=function(t,i,r,a,o){var s=this.getSelectorGroup();M_(t,function(c){var h=c.type,p=new Vt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===h?"legendAllSelect":"legendInverseSelect"})}});s.add(p),Ue(p,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:c.title}),qa(p)})},e.prototype._createItem=function(t,i,r,a,o,s,u,c,h,p,f){var d=t.visualDrawType,v=o.get("itemWidth"),g=o.get("itemHeight"),m=o.isSelected(i),y=a.get("symbolRotate"),_=a.get("symbolKeepAspect"),b=a.get("icon"),C=function Ynt(n,e,t,i,r,a,o){function s(m,y){"auto"===m.lineWidth&&(m.lineWidth=y.lineWidth>0?2:0),M_(m,function(_,b){"inherit"===m[b]&&(m[b]=y[b])})}var u=e.getModel("itemStyle"),c=u.getItemStyle(),h=0===n.lastIndexOf("empty",0)?"fill":"stroke",p=u.getShallow("decal");c.decal=p&&"inherit"!==p?Ps(p,o):i.decal,"inherit"===c.fill&&(c.fill=i[r]),"inherit"===c.stroke&&(c.stroke=i[h]),"inherit"===c.opacity&&(c.opacity=("fill"===r?i:t).opacity),s(c,i);var f=e.getModel("lineStyle"),d=f.getLineStyle();if(s(d,t),"auto"===c.fill&&(c.fill=i.fill),"auto"===c.stroke&&(c.stroke=i.fill),"auto"===d.stroke&&(d.stroke=i.fill),!a){var v=e.get("inactiveBorderWidth");c.lineWidth="auto"===v?i.lineWidth>0&&c[h]?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),d.stroke=f.get("inactiveColor"),d.lineWidth=f.get("inactiveWidth")}return{itemStyle:c,lineStyle:d}}(h=b||h||"roundRect",a,u,c,d,m,f),x=new Ff,S=a.getModel("textStyle");if(!at(t.getLegendIcon)||b&&"inherit"!==b){var z="inherit"===b&&t.getData().getVisual("symbol")?"inherit"===y?t.getData().getVisual("symbolRotate"):y:0;x.add(function Wnt(n){var e=n.icon||"roundRect",t=Ie(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:v,itemHeight:g,icon:h,iconRotate:z,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:_}))}else x.add(t.getLegendIcon({itemWidth:v,itemHeight:g,icon:h,iconRotate:y,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:_}));var w="left"===s?v+5:-5,T=s,D=o.get("formatter"),I=i;Q(D)&&D?I=D.replace("{name}",i??""):at(D)&&(I=D(i));var A=m?S.getTextColor():a.get("inactiveColor");x.add(new Vt({style:te(S,{text:I,x:w,y:g/2,fill:A,align:T,verticalAlign:"middle"},{inheritColor:A})}));var k=new Ot({shape:x.getBoundingRect(),style:{fill:"transparent"}}),P=a.getModel("tooltip");return P.get("show")&&Ds({el:k,componentModel:o,itemName:i,itemTooltipOption:P.option}),x.add(k),x.eachChild(function(N){N.silent=!0}),k.silent=!p,this.getContentGroup().add(x),qa(x),x.__legendDataIndex=r,x},e.prototype.layoutInner=function(t,i,r,a,o,s){var u=this.getContentGroup(),c=this.getSelectorGroup();eo(t.get("orient"),u,t.get("itemGap"),r.width,r.height);var h=u.getBoundingRect(),p=[-h.x,-h.y];if(c.markRedraw(),u.markRedraw(),o){eo("horizontal",c,t.get("selectorItemGap",!0));var f=c.getBoundingRect(),d=[-f.x,-f.y],v=t.get("selectorButtonGap",!0),g=t.getOrient().index,m=0===g?"width":"height",y=0===g?"height":"width",_=0===g?"y":"x";"end"===s?d[g]+=h[m]+v:p[g]+=f[m]+v,d[1-g]+=h[y]/2-f[y]/2,c.x=d[0],c.y=d[1],u.x=p[0],u.y=p[1];var b={x:0,y:0};return b[m]=h[m]+v+f[m],b[y]=Math.max(h[y],f[y]),b[_]=Math.min(0,f[_]+d[1-g]),b}return u.x=p[0],u.y=p[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(de);function yP(n,e,t,i){A_(n,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:n??e}),I_(n,e,t,i)}function _P(n){for(var t,e=n.getZr().storage.getDisplayList(),i=0,r=e.length;i<r&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function I_(n,e,t,i){_P(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:i})}function A_(n,e,t,i){_P(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:i})}const bP=jnt;function Unt(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function hc(n,e,t){var a,i={},r="toggleSelected"===n;return t.eachComponent("legend",function(o){r&&null!=a?o[a?"select":"unSelect"](e.name):"allSelect"===n||"inverseSelect"===n?o[n]():(o[n](e.name),a=o.isSelected(e.name)),M(o.getData(),function(u){var c=u.get("name");if("\n"!==c&&""!==c){var h=o.isSelected(c);i[c]=i.hasOwnProperty(c)?i[c]&&h:h}})}),"allSelect"===n||"inverseSelect"===n?{selected:i}:{name:e.name,selected:i}}function CP(n){n.registerComponentModel(D_),n.registerComponentView(bP),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,Unt),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function $nt(n){n.registerAction("legendToggleSelect","legendselectchanged",yt(hc,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",yt(hc,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",yt(hc,"inverseSelect")),n.registerAction("legendSelect","legendselected",yt(hc,"select")),n.registerAction("legendUnSelect","legendunselected",yt(hc,"unSelect"))}(n)}var Znt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,r){var a=ms(t);n.prototype.init.call(this,t,i,r),SP(this,t,a)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),SP(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Ur(D_.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(D_);function SP(n,e,t){var r=[1,1];r[n.getOrient().index]=0,Zr(e,t,{type:"box",ignoreSize:!!r})}const qnt=Znt;var xP=ft,k_=["width","height"],P_=["x","y"],Knt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return B(e,n),e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new xP),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new xP)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,r,a,o,s,u){var c=this;n.prototype.renderInner.call(this,t,i,r,a,o,s,u);var h=this._controllerGroup,p=i.get("pageIconSize",!0),f=H(p)?p:[p,p];v("pagePrev",0);var d=i.getModel("pageTextStyle");function v(g,m){var y=g+"DataIndex",_=pu(i.get("pageIcons",!0)[i.getOrient().name][m],{onclick:J(c._pageGo,c,y,i,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});_.name=g,h.add(_)}h.add(new Vt({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1)},e.prototype.layoutInner=function(t,i,r,a,o,s){var u=this.getSelectorGroup(),c=t.getOrient().index,h=k_[c],p=P_[c],f=k_[1-c],d=P_[1-c];o&&eo("horizontal",u,t.get("selectorItemGap",!0));var v=t.get("selectorButtonGap",!0),g=u.getBoundingRect(),m=[-g.x,-g.y],y=ht(r);o&&(y[h]=r[h]-g[h]-v);var _=this._layoutContentAndController(t,a,y,c,h,f,d,p);if(o){if("end"===s)m[c]+=_[h]+v;else{var b=g[h]+v;m[c]-=b,_[p]-=b}_[h]+=g[h]+v,m[1-c]+=_[d]+_[f]/2-g[f]/2,_[f]=Math.max(_[f],g[f]),_[d]=Math.min(_[d],g[d]+m[1-c]),u.x=m[0],u.y=m[1],u.markRedraw()}return _},e.prototype._layoutContentAndController=function(t,i,r,a,o,s,u,c){var h=this.getContentGroup(),p=this._containerGroup,f=this._controllerGroup;eo(t.get("orient"),h,t.get("itemGap"),a?r.width:null,a?null:r.height),eo("horizontal",f,t.get("pageButtonItemGap",!0));var d=h.getBoundingRect(),v=f.getBoundingRect(),g=this._showController=d[o]>r[o],m=[-d.x,-d.y];i||(m[a]=h[c]);var y=[0,0],_=[-v.x,-v.y],b=mt(t.get("pageButtonGap",!0),t.get("itemGap",!0));g&&("end"===t.get("pageButtonPosition",!0)?_[a]+=r[o]-v[o]:y[a]+=v[o]+b),_[1-a]+=d[s]/2-v[s]/2,h.setPosition(m),p.setPosition(y),f.setPosition(_);var x={x:0,y:0};if(x[o]=g?r[o]:d[o],x[s]=Math.max(d[s],v[s]),x[u]=Math.min(0,v[u]+_[1-a]),p.__rectSize=r[o],g){var S={x:0,y:0};S[o]=Math.max(r[o]-v[o]-b,0),S[s]=x[s],p.setClipPath(new Ot({shape:S})),p.__rectSize=S[o]}else f.eachChild(function(w){w.attr({invisible:!0,silent:!0})});var z=this._getPageInfo(t);return null!=z.pageIndex&&Gt(h,{x:z.contentPosition[0],y:z.contentPosition[1]},g?t:null),this._updatePageInfoView(t,z),x},e.prototype._pageGo=function(t,i,r){var a=this._getPageInfo(i)[t];null!=a&&r.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var r=this._controllerGroup;M(["pagePrev","pageNext"],function(h){var f=null!=i[h+"DataIndex"],d=r.childOfName(h);d&&(d.setStyle("fill",t.get(f?"pageIconColor":"pageIconInactiveColor",!0)),d.cursor=f?"pointer":"default")});var a=r.childOfName("pageText"),o=t.get("pageFormatter"),s=i.pageIndex,u=null!=s?s+1:0,c=i.pageCount;a&&o&&a.setStyle("text",Q(o)?o.replace("{current}",null==u?"":u+"").replace("{total}",null==c?"":c+""):o({current:u,total:c}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),r=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=k_[o],u=P_[o],c=this._findTargetItemIndex(i),h=r.children(),p=h[c],f=h.length,d=f?1:0,v={contentPosition:[r.x,r.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!p)return v;var g=C(p);v.contentPosition[o]=-g.s;for(var m=c+1,y=g,_=g,b=null;m<=f;++m)(!(b=C(h[m]))&&_.e>y.s+a||b&&!x(b,y.s))&&(y=_.i>y.i?_:b)&&(null==v.pageNextDataIndex&&(v.pageNextDataIndex=y.i),++v.pageCount),_=b;for(m=c-1,y=g,_=g,b=null;m>=-1;--m)(!(b=C(h[m]))||!x(_,b.s))&&y.i<_.i&&(_=y,null==v.pagePrevDataIndex&&(v.pagePrevDataIndex=y.i),++v.pageCount,++v.pageIndex),y=b;return v;function C(S){if(S){var z=S.getBoundingRect(),w=z[u]+S[u];return{s:w,e:w+z[s],i:S.__legendDataIndex}}}function x(S,z){return S.e>=z&&S.s<=z+a}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(o,s){var u=o.__legendDataIndex;null==a&&null!=u&&(a=s),u===t&&(i=s)}),i??a):0;var i,a},e.type="legend.scroll",e}(bP);const Qnt=Knt;function tit(n){wt(CP),n.registerComponentModel(qnt),n.registerComponentView(Qnt),function Jnt(n){n.registerAction("legendScroll","legendscroll",function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(r){r.setScrollDataIndex(i)})})}(n)}var nit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="dataZoom.inside",e.defaultOption=Ur(oc.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(oc);const iit=nit;var R_=Nt();function zP(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function sit(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function lit(n,e,t,i){return n.coordinateSystem.containPoint([t,i])}var hit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return B(e,n),e.prototype.render=function(t,i,r){n.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),function rit(n,e,t){R_(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(e.uid);r&&(r.getRange=t)})}(r,t,{pan:J(N_.pan,this),zoom:J(N_.zoom,this),scrollMove:J(N_.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){(function ait(n,e){for(var t=R_(n).coordSysRecordMap,i=t.keys(),r=0;r<i.length;r++){var o=t.get(i[r]),s=o.dataZoomInfoMap;if(s){var u=e.uid;s.get(u)&&(s.removeKey(u),s.keys().length||zP(t,o))}}})(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(o_),N_={zoom:function(n,e,t,i){var r=this.range,a=r.slice(),o=n.axisModels[0];if(o){var s=O_[e](null,[i.originX,i.originY],o,t,n),u=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/i.scale,0);a[0]=(a[0]-u)*c+u,a[1]=(a[1]-u)*c+u;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ro(0,a,[0,100],0,h.minSpan,h.maxSpan),this.range=a,r[0]!==a[0]||r[1]!==a[1])return a}},pan:wP(function(n,e,t,i,r,a){var o=O_[i]([a.oldX,a.oldY],[a.newX,a.newY],e,r,t);return o.signal*(n[1]-n[0])*o.pixel/o.pixelLength}),scrollMove:wP(function(n,e,t,i,r,a){return O_[i]([0,0],[a.scrollDelta,a.scrollDelta],e,r,t).signal*(n[1]-n[0])*a.scrollDelta})};function wP(n){return function(e,t,i,r){var a=this.range,o=a.slice(),s=e.axisModels[0];if(s&&(Ro(n(o,s,e,t,i,r),o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1]))return o}}var O_={grid:function(n,e,t,i,r){var a=t.axis,o={},s=r.model.coordinateSystem.getRect();return n=n||[0,0],"x"===a.dim?(o.pixel=e[0]-n[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-n[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(n,e,t,i,r){var a=t.axis,o={},s=r.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],e=s.pointToCoord(e),"radiusAxis"===t.mainType?(o.pixel=e[0]-n[0],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?1:-1):(o.pixel=e[1]-n[1],o.pixelLength=c[1]-c[0],o.pixelStart=c[0],o.signal=a.inverse?-1:1),o},singleAxis:function(n,e,t,i,r){var a=t.axis,o=r.model.coordinateSystem.getRect(),s={};return n=n||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-n[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};const pit=hit;function TP(n){s_(n),n.registerComponentModel(iit),n.registerComponentView(pit),function cit(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var i=R_(t),r=i.coordSysRecordMap||(i.coordSysRecordMap=nt());r.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){M(bk(a).infoList,function(s){var u=s.model.uid,c=r.get(u)||r.set(u,function oit(n,e){var t={model:e,containsPoint:yt(lit,e),dispatchAction:yt(sit,n),dataZoomInfoMap:null,controller:null},i=t.controller=new Xu(n.getZr());return M(["pan","zoom","scrollMove"],function(r){i.on(r,function(a){var o=[];t.dataZoomInfoMap.each(function(s){if(a.isAvailableBehavior(s.model.option)){var u=(s.getRange||{})[r],c=u&&u(s.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!s.model.get("disabled",!0)&&c&&o.push({dataZoomId:s.model.id,start:c[0],end:c[1]})}}),o.length&&t.dispatchAction(o)})}),t}(t,s.model));(c.dataZoomInfoMap||(c.dataZoomInfoMap=nt())).set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),r.each(function(a){var s,o=a.controller,u=a.dataZoomInfoMap;if(u){var c=u.keys()[0];null!=c&&(s=u.get(c))}if(s){var h=function uit(n){var e,t="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return n.each(function(a){var o=a.model,s=!o.get("disabled",!0)&&(!o.get("zoomLock",!0)||"move");i[t+s]>i[t+e]&&(e=s),r=r&&o.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(u);o.enable(h.controlType,h.opt),o.setPointerChecker(a.containsPoint),Ms(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")}else zP(r,a)})})}(n)}var fit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Ur(oc.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(oc);const dit=fit;var pc=Ot,fc="horizontal",MP="vertical",yit=["line","bar","candlestick","scatter"],_it={easing:"cubicOut",duration:100,delay:0},bit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return B(e,n),e.prototype.init=function(t,i){this.api=i,this._onBrush=J(this._onBrush,this),this._onBrushEnd=J(this._onBrushEnd,this)},e.prototype.render=function(t,i,r,a){if(n.prototype.render.apply(this,arguments),Ms(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show"))return t.noTarget()?(this._clear(),void this.group.removeAll()):((!a||"dataZoom"!==a.type||a.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){du(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new ft;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,a=t.get("brushSelect")?7:0,o=this._findCoordRect(),s={width:i.getWidth(),height:i.getHeight()},u=this._orient===fc?{right:s.width-o.x-o.width,top:s.height-30-7-a,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},c=ms(t.option);M(["right","top","width","height"],function(p){"ph"===c[p]&&(c[p]=u[p])});var h=ke(c,s);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===MP&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,i=this._location,r=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r!==fc||o?r===fc&&o?{scaleY:u?1:-1,scaleX:-1}:r!==MP||o?{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?1:-1,scaleX:1});var c=t.getBoundingRect([s]);t.x=i.x-c.x,t.y=i.y-c.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,a=t.get("brushSelect");r.add(new pc({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new pc({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:J(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var i=this._size,r=this._shadowSize||[],a=t.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),u=s&&o.getDimensionInfo(s)?a.getShadowDim():t.otherDim;if(null!=u){var c=this._shadowPolygonPts,h=this._shadowPolylinePts;if(o!==this._shadowData||u!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var p=o.getDataExtent(u),f=.3*(p[1]-p[0]);p=[p[0]-f,p[1]+f];var C,d=[0,i[1]],g=[[i[0],0],[0,0]],m=[],y=i[0]/(o.count()-1),_=0,b=Math.round(o.count()/i[0]);o.each([u],function(T,D){if(b>0&&D%b)_+=y;else{var I=null==T||isNaN(T)||""===T,A=I?0:Yt(T,p,d,!0);I&&!C&&D?(g.push([g[g.length-1][0],0]),m.push([m[m.length-1][0],0])):!I&&C&&(g.push([_,0]),m.push([_,0])),g.push([_,A]),m.push([_,A]),_+=y,C=I}}),c=this._shadowPolygonPts=g,h=this._shadowPolylinePts=m}this._shadowData=o,this._shadowDim=u,this._shadowSize=[i[0],i[1]];for(var D,I,A,k,x=this.dataZoomModel,z=0;z<3;z++){var w=(D=void 0,I=void 0,void 0,void 0,D=x.getModel(1===z?"selectedDataBackground":"dataBackground"),I=new ft,A=new Tn({shape:{points:c},segmentIgnoreThreshold:1,style:D.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),k=new Dn({shape:{points:h},segmentIgnoreThreshold:1,style:D.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),I.add(A),I.add(k),I);this._displayables.sliderGroup.add(w),this._displayables.dataShadowSegs.push(w)}}}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(!1!==i){var r,a=this.ecModel;return t.eachTargetAxis(function(o,s){M(t.getAxisProxy(o,s).getTargetSeriesModels(),function(c){if(!(r||!0!==i&&zt(yit,c.get("type"))<0)){var f,h=a.getComponent(pa(o),s).axis,p=function Cit(n){return{x:"y",y:"x",radius:"angle",angle:"radius"}[n]}(o),d=c.coordinateSystem;null!=p&&d.getOtherAxis&&(f=d.getOtherAxis(h).inverse),p=c.getData().mapDimension(p),r={thisAxis:h,series:c,thisDim:o,otherDim:p,otherAxisInverse:f}}},this)},this),r}},e.prototype._renderHandle=function(){var t=this.group,i=this._displayables,r=i.handles=[null,null],a=i.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,u=this.dataZoomModel,c=this.api,h=u.get("borderRadius")||0,p=u.get("brushSelect"),f=i.filler=new pc({silent:p,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});o.add(f),o.add(new pc({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),M([0,1],function(b){var C=u.get("handleIcon");!gp[C]&&C.indexOf("path://")<0&&C.indexOf("image://")<0&&(C="path://"+C);var x=Ie(C,-1,0,2,2,null,!0);x.attr({cursor:IP(this._orient),draggable:!0,drift:J(this._onDragMove,this,b),ondragend:J(this._onDragEnd,this),onmouseover:J(this._showDataInfo,this,!0),onmouseout:J(this._showDataInfo,this,!1),z2:5});var S=x.getBoundingRect(),z=u.get("handleSize");this._handleHeight=q(z,this._size[1]),this._handleWidth=S.width/S.height*this._handleHeight,x.setStyle(u.getModel("handleStyle").getItemStyle()),x.style.strokeNoScale=!0,x.rectHover=!0,x.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),qa(x);var w=u.get("handleColor");null!=w&&(x.style.fill=w),o.add(r[b]=x);var T=u.getModel("textStyle");t.add(a[b]=new Vt({silent:!0,invisible:!0,style:te(T,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:T.getTextColor(),font:T.getFont()}),z2:10}))},this);var d=f;if(p){var v=q(u.get("moveHandleSize"),s[1]),g=i.moveHandle=new Ot({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:v}}),m=.8*v,y=i.moveHandleIcon=Ie(u.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);y.silent=!0,y.y=s[1]+v/2-.5,g.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var _=Math.min(s[1]/2,Math.max(v,10));(d=i.moveZone=new Ot({invisible:!0,shape:{y:s[1]-_,height:v+_}})).on("mouseover",function(){c.enterEmphasis(g)}).on("mouseout",function(){c.leaveEmphasis(g)}),o.add(g),o.add(y),o.add(d)}d.attr({draggable:!0,cursor:IP(this._orient),drift:J(this._onDragMove,this,"all"),ondragstart:J(this._showDataInfo,this,!0),ondragend:J(this._onDragEnd,this),onmouseover:J(this._showDataInfo,this,!0),onmouseout:J(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[Yt(t[0],[0,100],i,!0),Yt(t[1],[0,100],i,!0)]},e.prototype._updateInterval=function(t,i){var r=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];Ro(i,a,o,r.get("zoomLock")?"all":t,null!=s.minSpan?Yt(s.minSpan,u,o,!0):null,null!=s.maxSpan?Yt(s.maxSpan,u,o,!0):null);var c=this._range,h=this._range=Yn([Yt(a[0],o,u,!0),Yt(a[1],o,u,!0)]);return!c||c[0]!==h[0]||c[1]!==h[1]},e.prototype._updateView=function(t){var i=this._displayables,r=this._handleEnds,a=Yn(r.slice()),o=this._size;M([0,1],function(d){var g=this._handleHeight;i.handles[d].attr({scaleX:g/2,scaleY:g/2,x:r[d]+(d?-1:1),y:o[1]/2-g/2})},this),i.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};i.moveHandle&&(i.moveHandle.setShape(s),i.moveZone.setShape(s),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",s.x+s.width/2));for(var u=i.dataShadowSegs,c=[0,a[0],a[1],o[0]],h=0;h<u.length;h++){var p=u[h],f=p.getClipPath();f||(f=new Ot,p.setClipPath(f)),f.setShape({x:c[h],y:0,width:c[h+1]-c[h],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,r=this._displayables,a=r.handleLabels,o=this._orient,s=["",""];if(i.get("showDetail")){var u=i.findRepresentativeAxisProxy();if(u){var c=u.getAxisModel().axis,h=this._range,p=t?u.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:u.getDataValueWindow();s=[this._formatLabel(p[0],c),this._formatLabel(p[1],c)]}}var f=Yn(this._handleEnds.slice());function d(v){var g=lo(r.handles[v].parent,this.group),m=hp(0===v?"right":"left",g),y=this._handleWidth/2+5,_=_i([f[v]+(0===v?-y:y),this._size[1]/2],g);a[v].setStyle({x:_[0],y:_[1],verticalAlign:o===fc?"middle":m,align:o===fc?m:"center",text:s[v]})}d.call(this,0),d.call(this,1)},e.prototype._formatLabel=function(t,i){var r=this.dataZoomModel,a=r.get("labelFormatter"),o=r.get("labelPrecision");(null==o||"auto"===o)&&(o=i.getPixelPrecision());var s=null==t||isNaN(t)?"":"category"===i.type||"time"===i.type?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return at(a)?a(t,s):Q(a)?a.replace("{value}",s):s},e.prototype._showDataInfo=function(t){var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!(t=this._dragging||t)),r[1].attr("invisible",!t),i.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},e.prototype._onDragMove=function(t,i,r,a){this._dragging=!0,or(a.event);var s=_i([i,r],this._displayables.sliderGroup.getLocalTransform(),!0),u=this._updateInterval(t,s[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),u&&c&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var a=this._handleEnds,s=this._updateInterval("all",r[0]-(a[0]+a[1])/2);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){this._brushStart=new _t(t.offsetX,t.offsetY),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var r=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=Yn([Yt(r.x,o,s,!0),Yt(r.x+r.width,o,s,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(or(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,i){var r=this._displayables,o=r.brushRect;o||(o=r.brushRect=new pc({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,u=this._displayables.sliderGroup,c=u.transformCoordToLocal(t,i),h=u.transformCoordToLocal(s.x,s.y),p=this._size;c[0]=Math.max(Math.min(p[0],c[0]),0),o.setShape({x:h[0],y:0,width:c[0]-h[0],height:p[1]})},e.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?_it:null,start:i[0],end:i[1]})},e.prototype._findCoordRect=function(){var t,i=bk(this.dataZoomModel).infoList;if(!t&&i.length){var r=i[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var a=this.api.getWidth(),o=this.api.getHeight();t={x:.2*a,y:.2*o,width:.6*a,height:.6*o}}return t},e.type="dataZoom.slider",e}(o_);function IP(n){return"vertical"===n?"ns-resize":"ew-resize"}const Sit=bit;function AP(n){n.registerComponentModel(dit),n.registerComponentView(Sit),s_(n)}var zit={get:function(n,e,t){var i=ht((wit[n]||{})[e]);return t&&H(i)?i[i.length-1]:i}},wit={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const kP=zit;var PP=Ze.mapVisual,Tit=Ze.eachVisual,Dit=H,RP=M,Mit=Yn,Iit=Yt,Ait=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return B(e,n),e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.optionUpdated=function(t,i){!i&&qk(this.option,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var i=this.stateList;t=J(t,this),this.controllerVisuals=g_(this.option.controller,i,t),this.targetVisuals=g_(this.option.target,i,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,i=[];return null==t||"all"===t?this.ecModel.eachSeries(function(r,a){i.push(a)}):i=Zt(t),i},e.prototype.eachTargetSeries=function(t,i){M(this.getTargetSeriesIndices(),function(r){var a=this.ecModel.getSeriesByIndex(r);a&&t.call(i,a)},this)},e.prototype.isTargetSeries=function(t){var i=!1;return this.eachTargetSeries(function(r){r===t&&(i=!0)}),i},e.prototype.formatValueText=function(t,i,r){var c,a=this.option,o=a.precision,s=this.dataBound,u=a.formatter;r=r||["<",">"],H(t)&&(t=t.slice(),c=!0);var h=i?t:c?[p(t[0]),p(t[1])]:p(t);return Q(u)?u.replace("{value}",c?h[0]:h).replace("{value2}",c?h[1]:h):at(u)?c?u(t[0],t[1]):u(t):c?t[0]===s[0]?r[0]+" "+h[1]:t[1]===s[1]?r[1]+" "+h[0]:h[0]+" - "+h[1]:h;function p(f){return f===s[0]?"min":f===s[1]?"max":(+f).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,i=Mit([t.min,t.max]);this._dataExtent=i},e.prototype.getDataDimensionIndex=function(t){var i=this.option.dimension;if(null!=i)return t.getDimensionIndex(i);for(var r=t.dimensions,a=r.length-1;a>=0;a--){var s=t.getDimensionInfo(r[a]);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},a=i.target||(i.target={}),o=i.controller||(i.controller={});St(a,r),St(o,r);var s=this.isCategory();function u(p){Dit(i.color)&&!p.inRange&&(p.inRange={color:i.color.slice().reverse()}),p.inRange=p.inRange||{color:t.get("gradientColor")}}u.call(this,a),u.call(this,o),function c(p,f,d){var v=p[f],g=p[d];v&&!g&&(g=p[d]={},RP(v,function(m,y){if(Ze.isValidType(y)){var _=kP.get(y,"inactive",s);null!=_&&(g[y]=_,"color"===y&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}.call(this,a,"inRange","outOfRange"),function h(p){var f=(p.inRange||{}).symbol||(p.outOfRange||{}).symbol,d=(p.inRange||{}).symbolSize||(p.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),m=this.getItemSymbol()||"roundRect";RP(this.stateList,function(y){var _=this.itemSize,b=p[y];b||(b=p[y]={color:s?v:[v]}),null==b.symbol&&(b.symbol=f&&ht(f)||(s?m:[m])),null==b.symbolSize&&(b.symbolSize=d&&ht(d)||(s?_[0]:[_[0],_[0]])),b.symbol=PP(b.symbol,function(S){return"none"===S?m:S});var C=b.symbolSize;if(null!=C){var x=-1/0;Tit(C,function(S){S>x&&(x=S)}),b.symbolSize=PP(C,function(S){return Iit(S,[0,x],[0,_[0]],!0)})}},this)}.call(this,o)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Ft);const Gf=Ait;var NP=[20,140],kit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=NP[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=NP[1])},e.prototype._resetRange=function(){var t=this.getExtent(),i=this.option.range;!i||i.auto?(t.auto=1,this.option.range=t):H(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],t[0]),i[1]=Math.min(i[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),M(this.stateList,function(t){var i=this.option.controller[t].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),i=Yn((this.get("range")||[]).slice());return i[0]>t[1]&&(i[0]=t[1]),i[1]>t[1]&&(i[1]=t[1]),i[0]<t[0]&&(i[0]=t[0]),i[1]<t[0]&&(i[1]=t[0]),i},e.prototype.getValueState=function(t){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=t)&&(i[1]>=r[1]||t<=i[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[];return this.eachTargetSeries(function(r){var a=[],o=r.getData();o.each(this.getDataDimensionIndex(o),function(s,u){t[0]<=s&&s<=t[1]&&a.push(u)},this),i.push({seriesId:r.id,dataIndex:a})},this),i},e.prototype.getVisualMeta=function(t){var i=OP(0,0,this.getExtent()),r=OP(0,0,this.option.range.slice()),a=[];function o(d,v){a.push({value:d,color:t(d,v)})}for(var s=0,u=0,c=r.length,h=i.length;u<h&&(!r.length||i[u]<=r[0]);u++)i[u]<r[s]&&o(i[u],"outOfRange");for(var p=1;s<c;s++,p=0)p&&a.length&&o(r[s],"outOfRange"),o(r[s],"inRange");for(p=1;u<h;u++)(!r.length||r[r.length-1]<i[u])&&(p&&(a.length&&o(a[a.length-1].value,"outOfRange"),p=0),o(i[u],"outOfRange"));var f=a.length;return{stops:a,outerColors:[f?a[0].color:"transparent",f?a[f-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Ur(Gf.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(Gf);function OP(n,e,t){if(t[0]===t[1])return t.slice();for(var r=(t[1]-t[0])/200,a=t[0],o=[],s=0;s<=200&&a<t[1];s++)o.push(a),a+=r;return o.push(t[1]),o}const Pit=kit;var Rit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return B(e,n),e.prototype.init=function(t,i){this.ecModel=t,this.api=i},e.prototype.render=function(t,i,r,a){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,i,r,a):this.group.removeAll()},e.prototype.renderBackground=function(t){var i=this.visualMapModel,r=gs(i.get("padding")||0),a=t.getBoundingRect();t.add(new Ot({z2:-1,silent:!0,shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[3]+r[1],height:a.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,i,r){var a=(r=r||{}).forceState,o=this.visualMapModel,s={};if("color"===i){var u=o.get("contentColor");s.color=u}function c(d){return s[d]}function h(d,v){s[d]=v}var p=o.controllerVisuals[a||o.getValueState(t)];return M(Ze.prepareVisualTypes(p),function(d){var v=p[d];r.convertOpacityToAlpha&&"opacity"===d&&(d="colorAlpha",v=p.__alphaForOpacity),Ze.dependsOn(d,i)&&v&&v.applyVisual(t,c,h)}),s[i]},e.prototype.positionGroup=function(t){var r=this.api;Yh(t,this.visualMapModel.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},e.prototype.doRender=function(t,i,r,a){},e.type="visualMap",e}(de);const EP=Rit;var LP=[["left","right","width"],["top","bottom","height"]];function BP(n,e,t){var i=n.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var a={width:e.getWidth(),height:e.getHeight()},o="horizontal"===i.orient?1:0,s=LP[o],u=[0,null,10],c={},h=0;h<3;h++)c[LP[1-o][h]]=u[h],c[s[h]]=2===h?t[0]:i[s[h]];var p=[["x","width",3],["y","height",0]][o],f=ke(c,a,i.padding);return s[(f.margin[p[2]]||0)+f[p[0]]+.5*f[p[1]]<.5*a[p[1]]?0:1]}function Hf(n,e){return M(n||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var Ji=Yt,Nit=M,VP=Math.min,L_=Math.max,Lit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return B(e,n),e.prototype.init=function(t,i){n.prototype.init.call(this,t,i),this._hoverLinkFromSeriesMouseOver=J(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=J(this._hideIndicator,this)},e.prototype.doRender=function(t,i,r,a){(!a||"selectDataRange"!==a.type||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,i=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(i);var r=t.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},e.prototype._renderEndsText=function(t,i,r){if(i){var a=i[1-r];a=null!=a?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),u=o.itemSize,c=this._shapes.mainGroup,h=this._applyTransform([u[0]/2,0===r?-s:u[1]+s],c),p=this._applyTransform(0===r?"bottom":"top",c),f=this._orient;this.group.add(new Vt({style:te(this.visualMapModel.textStyleModel,{x:h[0],y:h[1],verticalAlign:"horizontal"===f?"middle":p,align:"horizontal"===f?p:"center",text:a})}))}},e.prototype._renderBar=function(t){var i=this.visualMapModel,r=this._shapes,a=i.itemSize,o=this._orient,s=this._useHandle,u=BP(i,this.api,a),c=r.mainGroup=this._createBarGroup(u),h=new ft;c.add(h),h.add(r.outOfRange=FP()),h.add(r.inRange=FP(null,s?HP(this._orient):null,J(this._dragHandle,this,"all",!1),J(this._dragHandle,this,"all",!0))),h.setClipPath(new Ot({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var p=i.textStyleModel.getTextRect("\u56fd"),f=L_(p.width,p.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,c,0,a,f,o),this._createHandle(i,c,1,a,f,o)),this._createIndicator(i,c,a,f,o),t.add(c)},e.prototype._createHandle=function(t,i,r,a,o,s){var u=J(this._dragHandle,this,r,!1),c=J(this._dragHandle,this,r,!0),h=di(t.get("handleSize"),a[0]),p=Ie(t.get("handleIcon"),-h/2,-h/2,h,h,null,!0),f=HP(this._orient);p.attr({cursor:f,draggable:!0,drift:u,ondragend:c,onmousemove:function(y){or(y.event)}}),p.x=a[0]/2,p.useStyle(t.getModel("handleStyle").getItemStyle()),p.setStyle({strokeNoScale:!0,strokeFirst:!0}),p.style.lineWidth*=2,p.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Ka(p,!0),i.add(p);var v=new Vt({cursor:f,draggable:!0,drift:u,onmousemove:function(y){or(y.event)},ondragend:c,style:te(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var g=[h,0],m=this._shapes;m.handleThumbs[r]=p,m.handleLabelPoints[r]=g,m.handleLabels[r]=v},e.prototype._createIndicator=function(t,i,r,a,o){var s=di(t.get("indicatorSize"),r[0]),u=Ie(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);u.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var c=t.getModel("indicatorStyle").getItemStyle();if(u instanceof Ye){var h=u.style;u.useStyle(F({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},c))}else u.useStyle(c);i.add(u);var f=new Vt({silent:!0,invisible:!0,style:te(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(f);var d=[("horizontal"===o?a/2:6)+r[0]/2,0],v=this._shapes;v.indicator=u,v.indicatorLabel=f,v.indicatorLabelPoint=d,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,i,r,a){if(this._useHandle){if(this._dragging=!i,!i){var o=this._applyTransform([r,a],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():GP(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,i=this._dataInterval=t.getSelected(),r=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[Ji(i[0],r,a,!0),Ji(i[1],r,a,!0)]},e.prototype._updateInterval=function(t,i){var r=this.visualMapModel,a=this._handleEnds,o=[0,r.itemSize[1]];Ro(i=i||0,a,o,t,0);var s=r.getExtent();this._dataInterval=[Ji(a[0],o,s,!0),Ji(a[1],o,s,!0)]},e.prototype._updateView=function(t){var i=this.visualMapModel,r=i.getExtent(),a=this._shapes,o=[0,i.itemSize[1]],s=t?o:this._handleEnds,u=this._createBarVisual(this._dataInterval,r,s,"inRange"),c=this._createBarVisual(r,r,o,"outOfRange");a.inRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),a.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(s,u)},e.prototype._createBarVisual=function(t,i,r,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),u=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],c=this._createBarPoints(r,u);return{barColor:new cu(0,0,0,1,s),barPoints:c,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,i){var a=[],o=(t[1]-t[0])/100;a.push({color:this.getControllerVisual(t[0],"color",i),offset:0});for(var s=1;s<100;s++){var u=t[0]+o*s;if(u>t[1])break;a.push({color:this.getControllerVisual(u,"color",i),offset:s/100})}return a.push({color:this.getControllerVisual(t[1],"color",i),offset:1}),a},e.prototype._createBarPoints=function(t,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-i[1],t[1]]]},e.prototype._createBarGroup=function(t){var i=this._orient,r=this.visualMapModel.get("inverse");return new ft("horizontal"!==i||r?"horizontal"===i&&r?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==i||r?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,i){if(this._useHandle){var r=this._shapes,a=this.visualMapModel,o=r.handleThumbs,s=r.handleLabels,u=a.itemSize,c=a.getExtent();Nit([0,1],function(h){var p=o[h];p.setStyle("fill",i.handlesColor[h]),p.y=t[h];var f=Ji(t[h],[0,u[1]],c,!0),d=this.getControllerVisual(f,"symbolSize");p.scaleX=p.scaleY=d/u[0],p.x=u[0]-d/2;var v=_i(r.handleLabelPoints[h],lo(p,this.group));s[h].setStyle({x:v[0],y:v[1],text:a.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",r.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,i,r,a){var o=this.visualMapModel,s=o.getExtent(),u=o.itemSize,c=[0,u[1]],h=this._shapes,p=h.indicator;if(p){p.attr("invisible",!1);var d=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),v=this.getControllerVisual(t,"symbolSize"),g=Ji(t,s,c,!0),m=u[0]-v/2,y={x:p.x,y:p.y};p.y=g,p.x=m;var _=_i(h.indicatorLabelPoint,lo(p,this.group)),b=h.indicatorLabel;b.attr("invisible",!1);var C=this._applyTransform("left",h.mainGroup),S="horizontal"===this._orient;b.setStyle({text:(r||"")+o.formatValueText(i),verticalAlign:S?C:"middle",align:S?"center":C});var z={x:m,y:g,style:{fill:d}},w={style:{x:_[0],y:_[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var T={duration:100,easing:"cubicInOut",additive:!0};p.x=y.x,p.y=y.y,p.animateTo(z,T),b.animateTo(w,T)}else p.attr(z),b.attr(w);this._firstShowIndicator=!1;var D=this._shapes.handleLabels;if(D)for(var I=0;I<D.length;I++)this.api.enterBlur(D[I])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(i){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,a=t._applyTransform([i.offsetX,i.offsetY],t._shapes.mainGroup,!0,!0);a[1]=VP(L_(0,a[1]),r[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,i){var r=this.visualMapModel;if(r.option.hoverLink){var o=[0,r.itemSize[1]],s=r.getExtent();t=VP(L_(o[0],t),o[1]);var u=function Bit(n,e,t){var i=6,r=n.get("hoverLinkDataSize");return r&&(i=Ji(r,e,t,!0)/2),i}(r,s,o),c=[t-u,t+u],h=Ji(t,o,s,!0),p=[Ji(c[0],o,s,!0),Ji(c[1],o,s,!0)];c[0]<o[0]&&(p[0]=-1/0),c[1]>o[1]&&(p[1]=1/0),i&&(p[0]===-1/0?this._showIndicator(h,p[1],"< ",u):p[1]===1/0?this._showIndicator(h,p[0],"> ",u):this._showIndicator(h,h,"\u2248 ",u));var f=this._hoverLinkDataIndices,d=[];(i||GP(r))&&(d=this._hoverLinkDataIndices=r.findTargetDataIndices(p));var v=function d3(n,e){var t={},i={};return r(n||[],t),r(e||[],i,t),[a(t),a(i)];function r(o,s,u){for(var c=0,h=o.length;c<h;c++){var p=Ae(o[c].seriesId,null);if(null==p)return;for(var f=Zt(o[c].dataIndex),d=u&&u[p],v=0,g=f.length;v<g;v++){var m=f[v];d&&d[m]?d[m]=null:(s[p]||(s[p]={}))[m]=1}}}function a(o,s){var u=[];for(var c in o)if(o.hasOwnProperty(c)&&null!=o[c])if(s)u.push(+c);else{var h=a(o[c],!0);h.length&&u.push({seriesId:c,dataIndex:h})}return u}}(f,d);this._dispatchHighDown("downplay",Hf(v[0],r)),this._dispatchHighDown("highlight",Hf(v[1],r))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var i;if(uo(t.target,function(u){var c=dt(u);if(null!=c.dataIndex)return i=c,!0},!0),i){var r=this.ecModel.getSeriesByIndex(i.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(r)){var o=r.getData(i.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),i.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this.api.leaveBlur(i[r])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Hf(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,i,r,a){var o=lo(i,a?null:this.group);return H(t)?_i(t,o,r):hp(t,o,r)},e.prototype._dispatchHighDown=function(t,i){i&&i.length&&this.api.dispatchAction({type:t,batch:i})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(EP);function FP(n,e,t,i){return new Tn({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(r){or(r.event)},ondragend:i})}function GP(n){return!!(n.get("hoverLinkOnHandle")??n.get("realtime"))}function HP(n){return"vertical"===n?"ns-resize":"ew-resize"}const Vit=Lit;var Fit={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Git=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},Hit=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(i){var r=n.pipelineContext;!i.isTargetSeries(n)||r&&r.large||t.push(function Eet(n,e,t,i){var r={};return M(n,function(a){var o=Ze.prepareVisualTypes(e[a]);r[a]=o}),{progress:function(o,s){var u;function c(x){return im(s,p,x)}function h(x,S){uw(s,p,x,S)}null!=i&&(u=s.getDimensionIndex(i));for(var p,f=s.getStore();null!=(p=o.next());){var d=s.getRawDataItem(p);if(!d||!1!==d.visualMap)for(var v=null!=i?f.get(u,p):p,g=t(v),m=e[g],y=r[g],_=0,b=y.length;_<b;_++){var C=y[_];m[C]&&m[C].applyVisual(v,c,h)}}}}}(i.stateList,i.targetVisuals,J(i.getValueState,i),i.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),i=[];e.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var a=r.getVisualMeta(J(Xit,null,n,r))||{stops:[],outerColors:[]},o=r.getDataDimensionIndex(t);o>=0&&(a.dimension=o,i.push(a))}}),n.getData().setVisual("visualMeta",i)}}];function Xit(n,e,t,i){for(var r=e.targetVisuals[i],a=Ze.prepareVisualTypes(r),o={color:mu(n.getData(),"color")},s=0,u=a.length;s<u;s++){var c=a[s],h=r["opacity"===c?"__alphaForOpacity":c];h&&h.applyVisual(t,p,f)}return o.color;function p(d){return o[d]}function f(d,v){o[d]=v}}var XP=M;function jit(n){var e=n&&n.visualMap;H(e)||(e=e?[e]:[]),XP(e,function(t){if(t){Js(t,"splitList")&&!Js(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var i=t.pieces;i&&H(i)&&XP(i,function(r){ct(r)&&(Js(r,"start")&&!Js(r,"min")&&(r.min=r.start),Js(r,"end")&&!Js(r,"max")&&(r.max=r.end))})}})}function Js(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var jP=!1;function YP(n){jP||(jP=!0,n.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}),n.registerAction(Fit,Git),M(Hit,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(jit))}function WP(n){n.registerComponentModel(Pit),n.registerComponentView(Vit),YP(n)}var Yit=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return B(e,n),e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],Wit[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var a=this.option.categories;this.resetVisual(function(o,s){"categories"===r?(o.mappingMethod="category",o.categories=ht(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=X(this._pieceList,function(u){return u=ht(u),"inRange"!==s&&(u.visual=null),u}))})},e.prototype.completeVisualOption=function(){var t=this.option,i={},r=Ze.listVisualTypes(),a=this.isCategory();function o(s,u,c){return s&&s[u]&&s[u].hasOwnProperty(c)}M(t.pieces,function(s){M(r,function(u){s.hasOwnProperty(u)&&(i[u]=1)})}),M(i,function(s,u){var c=!1;M(this.stateList,function(h){c=c||o(t,h,u)||o(t.target,h,u)},this),!c&&M(this.stateList,function(h){(t[h]||(t[h]={}))[u]=kP.get(u,"inRange"===h?"active":"inactive",a)})},this),n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,i){var r=this.option,a=this._pieceList,o=(i?r:t).selected||{};if(r.selected=o,M(a,function(u,c){var h=this.getSelectedMapKey(u);o.hasOwnProperty(h)||(o[h]=!0)},this),"single"===r.selectedMode){var s=!1;M(a,function(u,c){var h=this.getSelectedMapKey(u);o[h]&&(s?o[h]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=ht(t)},e.prototype.getValueState=function(t){var i=Ze.findPieceIndex(t,this._pieceList);return null!=i&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[],r=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(u,c){Ze.findPieceIndex(u,r)===t&&o.push(c)},this),i.push({seriesId:a.id,dataIndex:o})},this),i},e.prototype.getRepresentValue=function(t){var i;if(this.isCategory())i=t.value;else if(null!=t.value)i=t.value;else{var r=t.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var i=[],r=["",""],a=this,s=this._pieceList.slice();if(s.length){var u=s[0].interval[0];u!==-1/0&&s.unshift({interval:[-1/0,u]}),(u=s[s.length-1].interval[1])!==1/0&&s.push({interval:[u,1/0]})}else s.push({interval:[-1/0,1/0]});var c=-1/0;return M(s,function(h){var p=h.interval;p&&(p[0]>c&&o([c,p[0]],"outOfRange"),o(p.slice()),c=p[1])},this),{stops:i,outerColors:r}}function o(h,p){var f=a.getRepresentValue({interval:h});p||(p=a.getValueState(f));var d=t(f,p);h[0]===-1/0?r[0]=d:h[1]===1/0?r[1]=d:i.push({value:h[0],color:d},{value:h[1],color:d})}},e.type="visualMap.piecewise",e.defaultOption=Ur(Gf.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(Gf),Wit={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var a=(i[1]-i[0])/r;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var o=0,s=i[0];o<r;s+=a,o++)n.push({interval:[s,o===r-1?i[1]:s+a],close:[1,1]});e.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),SC(n),M(n,function(c,h){c.index=h,c.text=this.formatValueText(c.interval)},this)},categories:function(n){var e=this.option;M(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),UP(e,n)},pieces:function(n){var e=this.option;M(e.pieces,function(t,i){ct(t)||(t={value:t});var r={text:"",index:i};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var a=r.value=t.value;r.interval=[a,a],r.close=[1,1]}else{for(var o=r.interval=[],s=r.close=[0,0],u=[1,0,1],c=[-1/0,1/0],h=[],p=0;p<2;p++){for(var f=[["gte","gt","min"],["lte","lt","max"]][p],d=0;d<3&&null==o[p];d++)o[p]=t[f[d]],s[p]=u[d],h[p]=2===d;null==o[p]&&(o[p]=c[p])}h[0]&&o[1]===1/0&&(s[0]=0),h[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(r.value=o[0])}r.visual=Ze.retrieveVisuals(t),n.push(r)},this),UP(e,n),SC(n),M(n,function(t){var i=t.close;t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function UP(n,e){var t=n.inverse;("vertical"===n.orient?!t:t)&&e.reverse()}const Uit=Yit;var $it=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type=e.type,t}return B(e,n),e.prototype.doRender=function(){var t=this.group;t.removeAll();var i=this.visualMapModel,r=i.get("textGap"),a=i.textStyleModel,o=a.getFont(),s=a.getTextColor(),u=this._getItemAlign(),c=i.itemSize,h=this._getViewData(),p=h.endsText,f=Fe(i.get("showLabel",!0),!p);p&&this._renderEndsText(t,p[0],c,f,u),M(h.viewPieceList,function(d){var v=d.piece,g=new ft;g.onclick=J(this._onItemClick,this,v),this._enableHoverLink(g,d.indexInModelPieceList);var m=i.getRepresentValue(v);if(this._createItemSymbol(g,m,[0,0,c[0],c[1]]),f){var y=this.visualMapModel.getValueState(m);g.add(new Vt({style:{x:"right"===u?-r:c[0]+r,y:c[1]/2,text:v.text,verticalAlign:"middle",align:u,font:o,fill:s,opacity:"outOfRange"===y?.5:1}}))}t.add(g)},this),p&&this._renderEndsText(t,p[1],c,f,u),eo(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,i){var r=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:o,batch:Hf(s.findTargetDataIndices(i),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,i=t.option;if("vertical"===i.orient)return BP(t,this.api,t.itemSize);var r=i.align;return(!r||"auto"===r)&&(r="left"),r},e.prototype._renderEndsText=function(t,i,r,a,o){if(i){var s=new ft;s.add(new Vt({style:te(this.visualMapModel.textStyleModel,{x:a?"right"===o?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:a?o:"center",text:i})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,i=X(t.getPieceList(),function(s,u){return{piece:s,indexInModelPieceList:u}}),r=t.get("text"),a=t.get("orient"),o=t.get("inverse");return("horizontal"===a?o:!o)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},e.prototype._createItemSymbol=function(t,i,r){t.add(Ie(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},e.prototype._onItemClick=function(t){var i=this.visualMapModel,r=i.option,a=r.selectedMode;if(a){var o=ht(r.selected),s=i.getSelectedMapKey(t);"single"===a||!0===a?(o[s]=!0,M(o,function(u,c){o[c]=c===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e}(EP);const Zit=$it;function $P(n){n.registerComponentModel(Uit),n.registerComponentView(Zit),YP(n)}var Kit={label:{enabled:!0},decal:{show:!1}},ZP=Nt(),Qit={};function Jit(n,e){var t=n.getModel("aria");if(t.get("enabled")){var i=ht(Kit);St(i.label,n.getLocaleModel().get("aria"),!1),St(t.option,i,!1),function r(){if(t.getModel("decal").get("show")){var p=nt();n.eachSeries(function(f){if(!f.isColorBySeries()){var d=p.get(f.type);d||p.set(f.type,d={}),ZP(f).scope=d}}),n.eachRawSeries(function(f){if(!n.isSeriesFiltered(f))if(at(f.enableAriaDecal))f.enableAriaDecal();else{var d=f.getData();if(f.isColorBySeries()){var _=wg(f.ecModel,f.name,Qit,n.getSeriesCount()),b=d.getVisual("decal");d.setVisual("decal",C(b,_))}else{var v=f.getRawData(),g={},m=ZP(f).scope;d.each(function(x){var S=d.getRawIndex(x);g[S]=x});var y=v.count();v.each(function(x){var S=g[x],z=v.getName(x)||x+"",w=wg(f.ecModel,z,m,y),T=d.getItemVisual(S,"decal");d.setItemVisual(S,"decal",C(T,w))})}}function C(x,S){var z=x?F(F({},S),x):S;return z.dirty=!0,z}})}}(),function a(){var c=n.getLocaleModel().get("aria"),h=t.getModel("label");if(h.option=lt(h.option,c),h.get("enabled")){var p=e.getZr().dom;if(h.get("description"))return void p.setAttribute("aria-label",h.get("description"));var m,f=n.getSeriesCount(),d=h.get(["data","maxCount"])||10,v=h.get(["series","maxCount"])||10,g=Math.min(f,v);if(!(f<1)){var y=function s(){var c=n.get("title");return c&&c.length&&(c=c[0]),c&&c.text}();m=y?o(h.get(["general","withTitle"]),{title:y}):h.get(["general","withoutTitle"]);var b=[];m+=o(h.get(f>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:f}),n.eachSeries(function(w,T){if(T<g){var D=void 0,A=w.get("name")?"withName":"withoutName";D=o(D=h.get(f>1?["series","multiple",A]:["series","single",A]),{seriesId:w.seriesIndex,seriesName:w.get("name"),seriesType:u(w.subType)});var k=w.getData();k.count()>d?D+=o(h.get(["data","partialData"]),{displayCnt:d}):D+=h.get(["data","allData"]);for(var N=h.get(["data","separator","middle"]),O=h.get(["data","separator","end"]),L=[],E=0;E<k.count();E++)if(E<d){var V=k.getName(E),j=k.getValues(E),$=h.get(["data",V?"withName":"withoutName"]);L.push(o($,{name:V,value:j.join(N)}))}D+=L.join(N)+O,b.push(D)}});var x=h.getModel(["series","multiple","separator"]),S=x.get("middle"),z=x.get("end");m+=b.join(S)+z,p.setAttribute("aria-label",m)}}}()}function o(c,h){if(!Q(c))return c;var p=c;return M(h,function(f,d){p=p.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),f)}),p}function u(c){var h=n.getLocaleModel().get(["series","typeNames"]);return h[c]||h.chart}}function trt(n){if(n&&n.aria){var e=n.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},M(["description","general","series","data"],function(t){null!=e[t]&&(e.label[t]=e[t])})}}var qP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},nrt=function(){function n(e){var t=this._condVal=Q(e)?new RegExp(e):function CF(n){return"[object RegExp]"===Uo.call(n)}(e)?e:null;null==t&&jt("")}return n.prototype.evaluate=function(e){var t=typeof e;return Q(t)?this._condVal.test(e):!!Bt(t)&&this._condVal.test(e+"")},n}(),irt=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),rrt=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n}(),art=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n}(),ort=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),srt=function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,i=(0,this.getValue)(this.valueGetterParam),r=e?this.valueParser(i):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?r:i))return!1;return!0},n}();function B_(n,e){if(!0===n||!1===n){var t=new irt;return t.value=n,t}return QP(n)||jt(""),n.and?KP("and",n,e):n.or?KP("or",n,e):n.not?function lrt(n,e){var t=n.not;QP(t)||jt("");var r=new ort;return r.child=B_(t,e),r.child||jt(""),r}(n,e):function urt(n,e){for(var i=e.prepareGetValue(n),r=[],a=At(n),o=n.parser,s=o?Wx(o):null,u=0;u<a.length;u++){var c=a[u];if("parser"!==c&&!e.valueGetterAttrMap.get(c)){var h=et(qP,c)?qP[c]:c,p=n[c],f=s?s(p):p,d=K5(h,f)||"reg"===h&&new nrt(f);d||jt(""),r.push(d)}}r.length||jt("");var v=new srt;return v.valueGetterParam=i,v.valueParser=s,v.getValue=e.getValue,v.subCondList=r,v}(n,e)}function KP(n,e,t){var i=e[n];H(i)||jt(""),i.length||jt("");var a="and"===n?new rrt:new art;return a.children=X(i,function(o){return B_(o,t)}),a.children.length||jt(""),a}function QP(n){return ct(n)&&!Ke(n)}var crt=function(){function n(e,t){this._cond=B_(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),prt={type:"echarts:filter",transform:function(n){for(var t,e=n.upstream,i=function hrt(n,e){return new crt(n,e)}(n.config,{valueGetterAttrMap:nt({dimension:!0}),prepareGetValue:function(s){var c=s.dimension;et(s,"dimension")||jt("");var h=e.getDimensionInfo(c);return h||jt(""),{dimIdx:h.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),r=[],a=0,o=e.count();a<o;a++)t=e.getRawDataItem(a),i.evaluate()&&r.push(t);return{data:r}}},frt={type:"echarts:sort",transform:function(n){var e=n.upstream,i="",r=Zt(n.config);r.length||jt(i);var a=[];M(r,function(h){var p=h.dimension,f=h.order,d=h.parser,v=h.incomparable;null==p&&jt(i),"asc"!==f&&"desc"!==f&&jt(i),v&&"min"!==v&&"max"!==v&&jt(""),"asc"!==f&&"desc"!==f&&jt("");var y=e.getDimensionInfo(p);y||jt(i);var _=d?Wx(d):null;d&&!_&&jt(i),a.push({dimIdx:y.index,parser:_,comparator:new $x(f,v)})});var o=e.sourceFormat;o!==Qe&&o!==qn&&jt(i);for(var s=[],u=0,c=e.count();u<c;u++)s.push(e.getRawDataItem(u));return s.sort(function(h,p){for(var f=0;f<a.length;f++){var d=a[f],v=e.retrieveValueFromItem(h,d.dimIdx),g=e.retrieveValueFromItem(p,d.dimIdx);d.parser&&(v=d.parser(v),g=d.parser(g));var m=d.comparator.evaluate(v,g);if(0!==m)return m}return 0}),{data:s}}},vrt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataset",t}return B(e,n),e.prototype.init=function(t,i,r){n.prototype.init.call(this,t,i,r),this._sourceManager=new tz(this),ez(this)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),ez(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Yi},e}(Ft),grt=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dataset",t}return B(e,n),e.type="dataset",e}(de),tr=Xi.CMD;function tl(n,e){return Math.abs(n-e)<1e-5}function V_(n){var r,k,P,N,O,L,E,V,j,$,it,ot,st,Tt,pt,Mt,bt,rt,e=n.data,t=n.len(),i=[],a=0,o=0,s=0,u=0;function c(k,P){r&&r.length>2&&i.push(r),r=[k,P]}function h(k,P,N,O){tl(k,N)&&tl(P,O)||r.push(k,P,N,O,N,O)}for(var f,d,v,g,m=0;m<t;){var y=e[m++],_=1===m;switch(_&&(s=a=e[m],u=o=e[m+1],(y===tr.L||y===tr.C||y===tr.Q)&&(r=[s,u])),y){case tr.M:a=s=e[m++],o=u=e[m++],c(s,u);break;case tr.L:h(a,o,f=e[m++],d=e[m++]),a=f,o=d;break;case tr.C:r.push(e[m++],e[m++],e[m++],e[m++],a=e[m++],o=e[m++]);break;case tr.Q:f=e[m++],d=e[m++],v=e[m++],g=e[m++],r.push(a+2/3*(f-a),o+2/3*(d-o),v+2/3*(f-v),g+2/3*(d-g),v,g),a=v,o=g;break;case tr.A:var b=e[m++],C=e[m++],x=e[m++],S=e[m++],z=e[m++],w=e[m++]+z;m+=1;var T=!e[m++];f=Math.cos(z)*x+b,d=Math.sin(z)*S+C,_?c(s=f,u=d):h(a,o,f,d),a=Math.cos(w)*x+b,o=Math.sin(w)*S+C;for(var D=(T?-1:1)*Math.PI/2,I=z;T?I>w:I<w;I+=D){k=I,P=T?Math.max(I+D,w):Math.min(I+D,w),N=b,O=C,L=x,E=S,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,V=Math.abs(P-k),j=4*Math.tan(V/4)/3,$=P<k?-1:1,it=Math.cos(k),ot=Math.sin(k),st=Math.cos(P),Tt=Math.sin(P),r.push(it*L+N-(bt=L*j*$)*ot,ot*E+O+(rt=E*j*$)*it,(pt=st*L+N)+bt*Tt,(Mt=Tt*E+O)-rt*st,pt,Mt)}break;case tr.R:s=a=e[m++],u=o=e[m++],f=s+e[m++],d=u+e[m++],c(f,u),h(f,u,f,d),h(f,d,s,d),h(s,d,s,u),h(s,u,f,u);break;case tr.Z:r&&h(a,o,s,u),a=s,o=u}}return r&&r.length>2&&i.push(r),i}function F_(n,e,t,i,r,a,o,s,u,c){if(tl(n,t)&&tl(e,i)&&tl(r,o)&&tl(a,s))u.push(o,s);else{var h=2/c,p=h*h,f=o-n,d=s-e,v=Math.sqrt(f*f+d*d);f/=v,d/=v;var g=t-n,m=i-e,y=r-o,_=a-s,b=g*g+m*m,C=y*y+_*_;if(b<p&&C<p)u.push(o,s);else{var x=f*g+d*m,S=-f*y-d*_;if(b-x*x<p&&x>=0&&C-S*S<p&&S>=0)u.push(o,s);else{var T=[],D=[];Vr(n,t,r,o,.5,T),Vr(e,i,a,s,.5,D),F_(T[0],D[0],T[1],D[1],T[2],D[2],T[3],D[3],u,c),F_(T[4],D[4],T[5],D[5],T[6],D[6],T[7],D[7],u,c)}}}}function JP(n,e,t){var a=Math.abs(n[e]/n[1-e]),o=Math.ceil(Math.sqrt(a*t)),s=Math.floor(t/o);0===s&&(s=1,o=t);for(var u=[],c=0;c<o;c++)u.push(s);var p=t-o*s;if(p>0)for(c=0;c<p;c++)u[c%o]+=1;return u}function tR(n,e,t){for(var i=n.r0,r=n.r,a=n.startAngle,s=Math.abs(n.endAngle-a),u=s*r,c=r-i,h=u>Math.abs(c),p=JP([u,c],h?0:1,e),f=(h?s:c)/p.length,d=0;d<p.length;d++)for(var v=(h?c:s)/p[d],g=0;g<p[d];g++){var m={};h?(m.startAngle=a+f*d,m.endAngle=a+f*(d+1),m.r0=i+v*g,m.r=i+v*(g+1)):(m.startAngle=a+v*g,m.endAngle=a+v*(g+1),m.r0=i+f*d,m.r=i+f*(d+1)),m.clockwise=n.clockwise,m.cx=n.cx,m.cy=n.cy,t.push(m)}}function eR(n,e,t,i){return n*i-t*e}function brt(n,e,t,i,r,a,o,s){var u=t-n,c=i-e,h=o-r,p=s-a,f=eR(h,p,u,c);if(Math.abs(f)<1e-6)return null;var g=eR(n-r,e-a,h,p)/f;return g<0||g>1?null:new _t(g*u+n,g*c+e)}function Crt(n,e,t){var i=new _t;_t.sub(i,t,e),i.normalize();var r=new _t;return _t.sub(r,n,e),r.dot(i)}function el(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function nR(n){var e=n.points,t=[],i=[];Th(e,t,i);var r=new xt(t[0],t[1],i[0]-t[0],i[1]-t[1]),a=r.width,o=r.height,s=r.x,u=r.y,c=new _t,h=new _t;return a>o?(c.x=h.x=s+a/2,c.y=u,h.y=u+o):(c.y=h.y=u+o/2,c.x=s,h.x=s+a),function Srt(n,e,t){for(var i=n.length,r=[],a=0;a<i;a++){var o=n[a],s=n[(a+1)%i],u=brt(o[0],o[1],s[0],s[1],e.x,e.y,t.x,t.y);u&&r.push({projPt:Crt(u,e,t),pt:u,idx:a})}if(r.length<2)return[{points:n},{points:n}];r.sort(function(m,y){return m.projPt-y.projPt});var c=r[0],h=r[r.length-1];if(h.idx<c.idx){var p=c;c=h,h=p}var f=[c.pt.x,c.pt.y],d=[h.pt.x,h.pt.y],v=[f],g=[d];for(a=c.idx+1;a<=h.idx;a++)el(v,n[a].slice());for(el(v,d),el(v,f),a=h.idx+1;a<=c.idx+i;a++)el(g,n[a%i].slice());return el(g,f),el(g,d),[{points:v},{points:g}]}(e,c,h)}function Xf(n,e,t,i){if(1===t)i.push(e);else{var r=Math.floor(t/2),a=n(e);Xf(n,a[0],r,i),Xf(n,a[1],t-r,i)}return i}function zrt(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function Drt(n,e){var t=n.length,i=e.length;if(t===i)return[n,e];for(var r=[],a=[],o=t<i?n:e,s=Math.min(t,i),u=Math.abs(i-t)/6,h=Math.ceil(u/((s-2)/6))+1,p=[o[0],o[1]],f=u,d=2;d<s;){var v=o[d-2],g=o[d-1],m=o[d++],y=o[d++],_=o[d++],b=o[d++],C=o[d++],x=o[d++];if(f<=0)p.push(m,y,_,b,C,x);else{for(var S=Math.min(f,h-1)+1,z=1;z<=S;z++){var w=z/S;Vr(v,m,_,C,w,r),Vr(g,y,b,x,w,a),p.push(r[1],a[1],r[2],a[2],v=r[3],g=a[3]),m=r[5],y=a[5],_=r[6],b=a[6]}f-=S-1}}return o===n?[p,e]:[n,p]}function iR(n,e){for(var t=n.length,i=n[t-2],r=n[t-1],a=[],o=0;o<e.length;)a[o++]=i,a[o++]=r;return a}function rR(n){for(var e=0,t=0,i=0,r=n.length,a=0,o=r-2;a<r;o=a,a+=2){var s=n[o],u=n[o+1],c=n[a],h=n[a+1],p=s*h-c*u;e+=p,t+=(s+c)*p,i+=(u+h)*p}return 0===e?[n[0]||0,n[1]||0]:[t/e/3,i/e/3,e]}function Irt(n,e,t,i){for(var r=(n.length-2)/6,a=1/0,o=0,s=n.length,u=s-2,c=0;c<r;c++){for(var h=6*c,p=0,f=0;f<s;f+=2){var d=0===f?h:(h+f-2)%u+2,_=e[f]-i[0]-(n[d]-t[0]),b=e[f+1]-i[1]-(n[d+1]-t[1]);p+=_*_+b*b}p<a&&(a=p,o=c)}return o}function Art(n){for(var e=[],t=n.length,i=0;i<t;i+=2)e[i]=n[t-i-2],e[i+1]=n[t-i-1];return e}function jf(n){return n.__isCombineMorphing}var aR="__mOriginal_";function Yf(n,e,t){var i=aR+e,r=n[i]||n[e];n[i]||(n[i]=n[e]);var a=t.replace,o=t.after,s=t.before;n[e]=function(){var c,u=arguments;return s&&s.apply(this,u),c=a?a.apply(this,u):r.apply(this,u),o&&o.apply(this,u),c}}function dc(n,e){var t=aR+e;n[t]&&(n[e]=n[t],n[t]=null)}function oR(n,e){for(var t=0;t<n.length;t++)for(var i=n[t],r=0;r<i.length;){var a=i[r],o=i[r+1];i[r++]=e[0]*a+e[2]*o+e[4],i[r++]=e[1]*a+e[3]*o+e[5]}}function sR(n,e){var t=n.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=function Mrt(n,e){for(var t,i,r,a=[],o=[],s=0;s<Math.max(n.length,e.length);s++){var u=n[s],c=e[s],h=void 0,p=void 0;u?c?(i=h=(t=Drt(u,c))[0],r=p=t[1]):(p=iR(r||u,u),h=u):(h=iR(i||c,c),p=c),a.push(h),o.push(p)}return[a,o]}(V_(t),V_(i)),a=r[0],o=r[1],s=n.getComputedTransform(),u=e.getComputedTransform();s&&oR(a,s),u&&oR(o,u),Yf(e,"updateTransform",{replace:function c(){this.transform=null}}),e.transform=null;var h=function krt(n,e,t,i){for(var a,r=[],o=0;o<n.length;o++){var s=n[o],u=e[o],c=rR(s),h=rR(u);null==a&&(a=c[2]<0!=h[2]<0);var p=[],f=[],d=0,v=1/0,g=[],m=s.length;a&&(s=Art(s));for(var y=6*Irt(s,u,c,h),_=m-2,b=0;b<_;b+=2){var C=(y+b)%_+2;p[b+2]=s[C]-c[0],p[b+3]=s[C+1]-c[1]}if(p[0]=s[y]-c[0],p[1]=s[y+1]-c[1],t>0)for(var x=i/t,S=-i/2;S<=i/2;S+=x){var z=Math.sin(S),w=Math.cos(S),T=0;for(b=0;b<s.length;b+=2){var D=p[b],I=p[b+1],A=u[b]-h[0],k=u[b+1]-h[1],P=A*w-k*z,N=A*z+k*w;g[b]=P,g[b+1]=N;var O=P-D,L=N-I;T+=O*O+L*L}if(T<v){v=T,d=S;for(var E=0;E<g.length;E++)f[E]=g[E]}}else for(var V=0;V<m;V+=2)f[V]=u[V]-h[0],f[V+1]=u[V+1]-h[1];r.push({from:p,to:f,fromCp:c,toCp:h,rotation:-d})}return r}(a,o,10,Math.PI),p=[];Yf(e,"buildPath",{replace:function(f){for(var d=e.__morphT,v=1-d,g=[],m=0;m<h.length;m++){var y=h[m],_=y.from,b=y.to,C=y.rotation*d,x=y.fromCp,S=y.toCp,z=Math.sin(C),w=Math.cos(C);Zc(g,x,S,d);for(var T=0;T<_.length;T+=2){var P=_[T]*v+(A=b[T])*d,N=_[T+1]*v+(k=b[T+1])*d;p[T]=P*w-N*z+g[0],p[T+1]=P*z+N*w+g[1]}var O=p[0],L=p[1];for(f.moveTo(O,L),T=2;T<_.length;){var A=p[T++],k=p[T++],E=p[T++],V=p[T++],j=p[T++],$=p[T++];O===A&&L===k&&E===j&&V===$?f.lineTo(j,$):f.bezierCurveTo(A,k,E,V,j,$),O=j,L=$}}}})}function G_(n,e,t){if(!n||!e)return e;var i=t.done,r=t.during;return sR(n,e),e.__morphT=0,e.animateTo({__morphT:1},lt({during:function(o){e.dirtyShape(),r&&r(o)},done:function(){(function a(){dc(e,"buildPath"),dc(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()})(),i&&i()}},t)),e}function Prt(n,e,t,i,r,a){n=r===t?0:Math.round(32767*(n-t)/(r-t)),e=a===i?0:Math.round(32767*(e-i)/(a-i));for(var u,s=0,c=32768;c>0;c/=2){var h=0,p=0;(n&c)>0&&(h=1),(e&c)>0&&(p=1),s+=c*c*(3*h^p),0===p&&(1===h&&(n=c-1-n,e=c-1-e),u=n,n=e,e=u)}return s}function Wf(n){var e=1/0,t=1/0,i=-1/0,r=-1/0,a=X(n,function(s){var u=s.getBoundingRect(),c=s.getComputedTransform(),h=u.x+u.width/2+(c?c[4]:0),p=u.y+u.height/2+(c?c[5]:0);return e=Math.min(h,e),t=Math.min(p,t),i=Math.max(h,i),r=Math.max(p,r),[h,p]});return X(a,function(s,u){return{cp:s,z:Prt(s[0],s[1],e,t,i,r),path:n[u]}}).sort(function(s,u){return s.z-u.z}).map(function(s){return s.path})}function lR(n){return function Trt(n,e){var r,t=[],i=n.shape;switch(n.type){case"rect":(function _rt(n,e,t){for(var i=n.width,r=n.height,a=i>r,o=JP([i,r],a?0:1,e),s=a?"width":"height",u=a?"height":"width",c=a?"x":"y",h=a?"y":"x",p=n[s]/o.length,f=0;f<o.length;f++)for(var d=n[u]/o[f],v=0;v<o[f];v++){var g={};g[c]=f*p,g[h]=v*d,g[s]=p,g[u]=d,g.x+=n.x,g.y+=n.y,t.push(g)}})(i,e,t),r=Ot;break;case"sector":tR(i,e,t),r=wn;break;case"circle":tR({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},e,t),r=wn;break;default:var a=n.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=X(function yrt(n,e){var t=V_(n),i=[];e=e||1;for(var r=0;r<t.length;r++){var a=t[r],o=[],s=a[0],u=a[1];o.push(s,u);for(var c=2;c<a.length;){var h=a[c++],p=a[c++],f=a[c++],d=a[c++],v=a[c++],g=a[c++];F_(s,u,h,p,f,d,v,g,o,e),s=v,u=g}i.push(o)}return i}(n.getUpdatedPathProxy(),o),function(y){return function wrt(n){for(var e=[],t=0;t<n.length;)e.push([n[t++],n[t++]]);return e}(y)}),u=s.length;if(0===u)Xf(nR,{points:s[0]},e,t);else if(u===e)for(var c=0;c<u;c++)t.push({points:s[c]});else{var h=0,p=X(s,function(y){var _=[],b=[];Th(y,_,b);var C=(b[1]-_[1])*(b[0]-_[0]);return h+=C,{poly:y,area:C}});p.sort(function(y,_){return _.area-y.area});var f=e;for(c=0;c<u;c++){var d=p[c];if(f<=0)break;var v=c===u-1?f:Math.ceil(d.area/h*e);v<0||(Xf(nR,{points:d.poly},v,t),f-=v)}}r=Tn}if(!r)return function xrt(n,e){for(var t=[],i=0;i<e;i++)t.push(Wg(n));return t}(n,e);var g=[];for(c=0;c<t.length;c++){var m=new r;m.setShape(t[c]),zrt(n,m),g.push(m)}return g}(n.path,n.count)}function uR(n){return H(n[0])}function cR(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push({one:n[r],many:[]});for(r=0;r<e.length;r++){var a=e[r].length,o=void 0;for(o=0;o<a;o++)t[o%i].many.push(e[r][o])}var s=0;for(r=i-1;r>=0;r--)if(!t[r].many.length){var u=t[s].many;if(u.length<=1){if(!s)return t;s=0}a=u.length;var c=Math.ceil(a/2);t[r].many=u.slice(c,a),t[s].many=u.slice(0,c),s++}return t}var Ort={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=Wg(n.path);r.setStyle("opacity",t),e.push(r)}return e},split:null};function X_(n,e,t,i,r,a){if(n.length&&e.length){var o=us("update",i,r);if(o&&o.duration>0){var c,h,s=i.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o);uR(n)&&(c=n,h=e),uR(e)&&(c=e,h=n);for(var f=c?c===n:n.length>e.length,d=c?cR(h,c):cR(f?e:n,[f?n:e]),v=0,g=0;g<d.length;g++)v+=d[g].many.length;var m=0;for(g=0;g<d.length;g++)p(d[g],f,m,v),m+=d[g].many.length}}function p(y,_,b,C,x){var S=y.many,z=y.one;if(1!==S.length||x)for(var I=lt({dividePath:Ort[t],individualDelay:s&&function(L,E,V,j){return s(L+b,C)}},u),A=_?function Rrt(n,e,t){var i=[];!function r(x){for(var S=0;S<x.length;S++){var z=x[S];jf(z)?r(z.childrenRef()):z instanceof It&&i.push(z)}}(n);var a=i.length;if(!a)return{fromIndividuals:[],toIndividuals:[],count:0};var s=(t.dividePath||lR)({path:e,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};i=Wf(i),s=Wf(s);for(var u=t.done,c=t.during,h=t.individualDelay,p=new ur,f=0;f<a;f++){var d=i[f],v=s[f];v.parent=e,v.copyTransform(p),h||sR(d,v)}function g(x){for(var S=0;S<s.length;S++)s[S].addSelfToZr(x)}function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,dc(e,"addSelfToZr"),dc(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return s},Yf(e,"addSelfToZr",{after:function(x){g(x)}}),Yf(e,"removeSelfFromZr",{after:function(x){for(var S=0;S<s.length;S++)s[S].removeSelfFromZr(x)}});var y=s.length;if(h){var _=y,b=function(){0==--_&&(m(),u&&u())};for(f=0;f<y;f++){var C=h?lt({delay:(t.delay||0)+h(f,y,i[f],s[f]),done:b},t):t;G_(i[f],s[f],C)}}else e.__morphT=0,e.animateTo({__morphT:1},lt({during:function(x){for(var S=0;S<y;S++){var z=s[S];z.__morphT=e.__morphT,z.dirtyShape()}c&&c(x)},done:function(){m();for(var x=0;x<n.length;x++)dc(n[x],"updateTransform");u&&u()}},t));return e.__zr&&g(e.__zr),{fromIndividuals:i,toIndividuals:s,count:y}}(S,z,I):function Nrt(n,e,t){var i=e.length,r=[],a=t.dividePath||lR;if(jf(n)){!function o(d){for(var v=0;v<d.length;v++){var g=d[v];jf(g)?o(g.childrenRef()):g instanceof It&&r.push(g)}}(n.childrenRef());var s=r.length;if(s<i)for(var u=0,c=s;c<i;c++)r.push(Wg(r[u++%s]));r.length=i}else{r=a({path:n,count:i});var h=n.getComputedTransform();for(c=0;c<r.length;c++)r[c].setLocalTransform(h);if(r.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}r=Wf(r),e=Wf(e);var p=t.individualDelay;for(c=0;c<i;c++){var f=p?lt({delay:(t.delay||0)+p(c,i,r[c],e[c])},t):t;G_(r[c],e[c],f)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}(z,S,I),k=A.fromIndividuals,P=A.toIndividuals,N=k.length,O=0;O<N;O++)D=s?lt({delay:s(O,N)},u):u,a(k[O],P[O],_?S[O]:y.one,_?y.one:S[O],D);else{var D,w=_?S[0]:z,T=_?z:S[0];jf(w)?p({many:[w],one:T},!0,b,C,!0):(G_(w,T,D=s?lt({delay:s(b,C)},u):u),a(w,T,w,T,D))}}}function Vo(n){if(!n)return[];if(H(n)){for(var e=[],t=0;t<n.length;t++)e.push(Vo(n[t]));return e}var i=[];return n.traverse(function(r){r instanceof It&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var hR=1e4,Lrt=Nt();function dR(n,e,t,i){var a=function Brt(n,e){for(var t=n.dimensions,i=0;i<t.length;i++){var r=n.getDimensionInfo(t[i]);if(r&&0===r.otherDims[e])return t[i]}}(n,i?"itemChildGroupId":"itemGroupId");if(a){var o=function Vrt(n,e,t){var i=n.getDimensionInfo(t),r=i&&i.ordinalMeta;if(i){var a=n.get(i.name,e);return r&&r.categories[a]||a+""}}(n,e,a);return o}var s=n.getRawDataItem(e),u=i?"childGroupId":"groupId";return s&&s[u]?s[u]+"":i?void 0:t||n.getId(e)}function vR(n){var e=[];return M(n,function(t){var i=t.data,r=t.dataGroupId;if(!(i.count()>hR))for(var a=i.getIndices(),o=0;o<a.length;o++)e.push({data:i,groupId:dR(i,o,r,!1),childGroupId:dR(i,o,r,!0),divide:t.divide,dataIndex:o})}),e}function j_(n,e,t){n.traverse(function(i){i instanceof It&&le(i,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function Y_(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function nl(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function gR(n,e,t){var i=vR(n),r=vR(e);function a(b,C,x,S,z){(x||b)&&C.animateFrom({style:x&&x!==b?F(F({},x.style),b.style):b.style},z)}var o=!1,s=0,u=nt(),c=nt();i.forEach(function(b){b.groupId&&u.set(b.groupId,!0),b.childGroupId&&c.set(b.childGroupId,!0)});for(var h=0;h<r.length;h++){if(c.get(r[h].groupId)){s=1;break}var f=r[h].childGroupId;if(f&&u.get(f)){s=2;break}}function d(b,C){return function(x){return C?x.data.getId(x.dataIndex):b?1===s?x.childGroupId:x.groupId:2===s?x.childGroupId:x.groupId}}var v=function Grt(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++){var r=n[i],a=e[i];if(r.data.getId(r.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}(i,r),g={};if(!v)for(h=0;h<r.length;h++){var m=r[h],y=m.data.getItemGraphicEl(m.dataIndex);y&&(g[y.id]=!0)}function _(b,C){var x=i[C],S=r[b],z=S.data.hostModel,w=x.data.getItemGraphicEl(x.dataIndex),T=S.data.getItemGraphicEl(S.dataIndex);w!==T?w&&g[w.id]||T&&(nl(T),w?(nl(w),Y_(w),o=!0,X_(Vo(w),Vo(T),S.divide,z,b,a)):j_(T,z,b)):T&&function Frt(n,e,t){var i=us("update",t,e);i&&n.traverse(function(r){if(r instanceof Wn){var a=function R4(n){return IS(n).oldStyle}(r);a&&r.animateFrom({style:a},i)}})}(T,S.dataIndex,z)}new yr(i,r,d(!0,v),d(!1,v),null,"multiple").update(_).updateManyToOne(function(b,C){var x=r[b],S=x.data,z=S.hostModel,w=S.getItemGraphicEl(x.dataIndex),T=Ut(X(C,function(D){return i[D].data.getItemGraphicEl(i[D].dataIndex)}),function(D){return D&&D!==w&&!g[D.id]});w&&(nl(w),T.length?(M(T,function(D){nl(D),Y_(D)}),o=!0,X_(Vo(T),Vo(w),x.divide,z,b,a)):j_(w,z,x.dataIndex))}).updateOneToMany(function(b,C){var x=i[C],S=x.data.getItemGraphicEl(x.dataIndex);if(!S||!g[S.id]){var z=Ut(X(b,function(T){return r[T].data.getItemGraphicEl(r[T].dataIndex)}),function(T){return T&&T!==S}),w=r[b[0]].data.hostModel;z.length&&(M(z,function(T){return nl(T)}),S?(nl(S),Y_(S),o=!0,X_(Vo(S),Vo(z),x.divide,w,b[0],a)):M(z,function(T){return j_(T,w,b[0])}))}}).updateManyToMany(function(b,C){new yr(C,b,function(x){return i[x].data.getId(i[x].dataIndex)},function(x){return r[x].data.getId(r[x].dataIndex)}).update(function(x,S){_(b[x],C[S])}).execute()}).execute(),o&&M(e,function(b){var x=b.data.hostModel,S=x&&t.getViewOfSeriesModel(x),z=us("update",x,0);S&&x.isAnimationEnabled()&&z&&z.duration>0&&S.group.traverse(function(w){w instanceof It&&!w.animators.length&&w.animateFrom({style:{opacity:0}},z)})})}function mR(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function yR(n){return H(n)?n.sort().join(","):n}function va(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function _R(n,e){for(var t=0;t<n.length;t++)if(null!=e.seriesIndex&&e.seriesIndex===n[t].seriesIndex||null!=e.seriesId&&e.seriesId===n[t].id)return t}wt([function tX(n){n.registerPainter("canvas",JH)}]),wt([function EX(n){n.registerPainter("svg",OX)}]),wt([function P6(n){n.registerChartView(I6),n.registerSeriesModel(u6),n.registerLayout(Nu("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,hD("line"))},function tj(n){n.registerChartView(J6),n.registerSeriesModel(B6),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,yt(vD,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,gD("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,hD("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){t.eachComponent({mainType:e.componentType||"series",query:e},function(r){e.sortInfo&&r.axis.setCategorySortInfo(e.sortInfo)})})},function fj(n){n.registerChartView(sj),n.registerSeriesModel(hj),cw("pie",n.registerAction),n.registerLayout(yt(ej,"pie")),n.registerProcessor(Ou("pie")),n.registerProcessor(function pj(n){return{seriesType:n,reset:function(e,t){var i=e.getData();i.filterSelf(function(r){var a=i.mapDimension("value"),o=i.get(a,r);return!(Bt(o)&&!isNaN(o)&&o<0)})}}}("pie"))},function EY(n){wt(z2),n.registerSeriesModel(vj),n.registerChartView(Cj),n.registerLayout(Nu("scatter"))},function JY(n){wt(QY),n.registerChartView(FY),n.registerSeriesModel(HY),n.registerLayout(LY),n.registerProcessor(Ou("radar")),n.registerPreprocessor(BY)},function JW(n){wt(fM),n.registerChartView(LW),n.registerSeriesModel(VW),n.registerLayout(HW),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,GW),cw("map",n.registerAction)},function kU(n){n.registerChartView(fU),n.registerSeriesModel(wU),n.registerLayout(DU),n.registerVisual(IU),function AU(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var r=e.dataIndex,o=i.getData().tree.getNodeByDataIndex(r);o.isExpand=!o.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,i){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=wy(r.coordinateSystem,e,void 0,i);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})}(n)},function m$(n){n.registerSeriesModel(OU),n.registerChartView(ZU),n.registerVisual(e$),n.registerLayout(u$),function PU(n){for(var e=0;e<xM.length;e++)n.registerAction({type:xM[e],update:"updateView"},xe);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,i){i.eachComponent({mainType:"series",subType:"treemap",query:t},function r(a,o){var u=Uu(t,["treemapZoomToNode","treemapRootToNode"],a);if(u){var c=a.getViewRoot();c&&(t.direction=ky(c,u.node)?"rollUp":"drillDown"),a.resetViewRoot(u.node)}})})}(n)},function Y$(n){n.registerChartView(V$),n.registerSeriesModel(X$),n.registerProcessor(y$),n.registerVisual(_$),n.registerVisual(b$),n.registerLayout(w$),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,D$),n.registerLayout(I$),n.registerCoordinateSystem("graphView",{dimensions:Yu.dimensions,create:k$}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},xe),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},xe),n.registerAction(j$,function(e,t,i){t.eachComponent({mainType:"series",query:e},function(r){var o=wy(r.coordinateSystem,e,void 0,i);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})},function t9(n){n.registerChartView(K$),n.registerSeriesModel(J$)},function h9(n){n.registerChartView(r9),n.registerSeriesModel(o9),n.registerLayout(c9),n.registerProcessor(Ou("funnel"))},function vZ(n){wt(EI),n.registerChartView(g9),n.registerSeriesModel(b9),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,x9)},function HZ(n){n.registerChartView(bZ),n.registerSeriesModel(SZ),n.registerLayout(xZ),n.registerVisual(GZ),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){i.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},function eq(n){n.registerSeriesModel(XZ),n.registerChartView($Z),n.registerLayout(ZZ),n.registerTransform(tq)},function Cq(n){n.registerChartView(lq),n.registerSeriesModel(uq),n.registerPreprocessor(cq),n.registerVisual(mq),n.registerLayout(bq)},function Mq(n){n.registerChartView(wq),n.registerSeriesModel(Dq),n.registerLayout(Nu("effectScatter"))},function Wq(n){n.registerChartView(Vq),n.registerSeriesModel(Xq),n.registerLayout(qI),n.registerVisual(Yq)},function nK(n){n.registerChartView(Jq),n.registerSeriesModel(eK)},function vK(n){n.registerChartView(pK),n.registerSeriesModel(dK),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,yt(vD,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,gD("pictorialBar"))},function xK(n){n.registerChartView(yK),n.registerSeriesModel(bK),n.registerLayout(CK),n.registerProcessor(Ou("themeRiver"))},function EK(n){n.registerChartView(AK),n.registerSeriesModel(PK),n.registerLayout(yt(RK,"sunburst")),n.registerProcessor(yt(Ou,"sunburst")),n.registerVisual(OK),function MK(n){n.registerAction({type:k0,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function i(r,a){var o=Uu(e,[k0],r);if(o){var s=r.getViewRoot();s&&(e.direction=ky(s,o.node)?"rollUp":"drillDown"),r.resetViewRoot(o.node)}})}),n.registerAction({type:dA,update:"none"},function(e,t,i){e=F({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},function r(a){var o=Uu(e,[dA],a);o&&(e.dataIndex=o.node.dataIndex)}),i.dispatchAction(F(e,{type:"highlight"}))}),n.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,t,i){e=F({},e),i.dispatchAction(F(e,{type:"downplay"}))})}(n)},function CQ(n){n.registerChartView(cQ),n.registerSeriesModel(VK)}]),wt(function jQ(n){wt(z2),wt(ac)}),wt(function wJ(n){wt(ac),To.registerAxisPointerClass("PolarAxisPointer",$Q),n.registerCoordinateSystem("polar",lJ),n.registerComponentModel(qQ),n.registerComponentView(zJ),Vs(n,"angle",KQ,SJ),Vs(n,"radius",QQ,xJ),n.registerComponentView(pJ),n.registerComponentView(yJ),n.registerLayout(yt(CJ,"bar"))}),wt(fM),wt(function XJ(n){wt(ac),To.registerAxisPointerClass("SingleAxisPointer",GJ),n.registerComponentView(HJ),n.registerComponentView(AJ),n.registerComponentModel(e_),Vs(n,"single",e_,e_.defaultOption),n.registerCoordinateSystem("single",LJ)}),wt(EI),wt(function qJ(n){n.registerComponentModel(YJ),n.registerComponentView(UJ),n.registerCoordinateSystem("calendar",ZJ)}),wt(function att(n){n.registerComponentModel(ett),n.registerComponentView(ntt),n.registerPreprocessor(function(e){var t=e.graphic;H(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}),wt(function oet(n){n.registerComponentModel(xtt),n.registerComponentView(Dtt),qs("saveAsImage",Itt),qs("magicType",Ptt),qs("dataView",Xtt),qs("dataZoom",aet),qs("restore",Ztt),wt(Ctt)}),wt(function ket(n){wt(ac),n.registerComponentModel(uet),n.registerComponentView(Aet),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},xe),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},xe)}),wt(ac),wt(function Ket(n){n.registerComponentView(jet),n.registerComponentModel(Uet),n.registerPreprocessor(Ret),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,Bet),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},xe),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},xe),qs("brush",qet)}),wt(function tnt(n){n.registerComponentModel(Qet),n.registerComponentView(Jet)}),wt(function vnt(n){n.registerComponentModel(nnt),n.registerComponentView(hnt),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function pnt(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,i){var r=t.getComponent("timeline");return r&&null!=e.currentIndex&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),lt({currentIndex:r.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var i=t.getComponent("timeline");i&&null!=e.playState&&i.setPlayState(e.playState)})}(n),n.registerPreprocessor(fnt)}),wt(function wnt(n){n.registerComponentModel(mnt),n.registerComponentView(znt),n.registerPreprocessor(function(e){b_(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}),wt(function Rnt(n){n.registerComponentModel(Dnt),n.registerComponentView(Pnt),n.registerPreprocessor(function(e){b_(e.series,"markLine")&&(e.markLine=e.markLine||{})})}),wt(function Gnt(n){n.registerComponentModel(Ont),n.registerComponentView(Fnt),n.registerPreprocessor(function(e){b_(e.series,"markArea")&&(e.markArea=e.markArea||{})})}),wt(function eit(n){wt(CP),wt(tit)}),wt(function xit(n){wt(TP),wt(AP)}),wt(TP),wt(AP),wt(function qit(n){wt(WP),wt($P)}),wt(WP),wt($P),wt(function ert(n){n.registerPreprocessor(trt),n.registerVisual(n.PRIORITY.VISUAL.ARIA,Jit)}),wt(function drt(n){n.registerTransform(prt),n.registerTransform(frt)}),wt(function mrt(n){n.registerComponentModel(vrt),n.registerComponentView(grt)}),wt(function jrt(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){M(Zt(i.seriesTransition),function(r){M(Zt(r.to),function(a){for(var o=i.updatedSeries,s=0;s<o.length;s++)(null!=a.seriesIndex&&a.seriesIndex===o[s].seriesIndex||null!=a.seriesId&&a.seriesId===o[s].id)&&(o[s][Kh]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,i){var r=Lrt(t);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var a=i.seriesTransition;if(a)M(Zt(a),function(d){!function Xrt(n,e,t,i){var r=[],a=[];M(Zt(n.from),function(o){var s=_R(e.oldSeries,o);s>=0&&r.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:va(e.oldData[s]),groupIdDim:o.dimension})}),M(Zt(n.to),function(o){var s=_R(t.updatedSeries,o);if(s>=0){var u=t.updatedSeries[s].getData();a.push({dataGroupId:e.oldDataGroupIds[s],data:u,divide:va(u),groupIdDim:o.dimension})}}),r.length>0&&a.length>0&&gR(r,a,i)}(d,r,i,t)});else{var o=function Hrt(n,e){var t=nt(),i=nt(),r=nt();return M(n.oldSeries,function(o,s){var u=n.oldDataGroupIds[s],c=n.oldData[s],h=mR(o),p=yR(h);i.set(p,{dataGroupId:u,data:c}),H(h)&&M(h,function(f){r.set(f,{key:p,dataGroupId:u,data:c})})}),M(e.updatedSeries,function(o){if(o.isUniversalTransitionEnabled()&&o.isAnimationEnabled()){var s=o.get("dataGroupId"),u=o.getData(),c=mR(o),h=yR(c),p=i.get(h);if(p)t.set(h,{oldSeries:[{dataGroupId:p.dataGroupId,divide:va(p.data),data:p.data}],newSeries:[{dataGroupId:s,divide:va(u),data:u}]});else if(H(c)){var f=[];M(c,function(g){var m=i.get(g);m.data&&f.push({dataGroupId:m.dataGroupId,divide:va(m.data),data:m.data})}),f.length&&t.set(h,{oldSeries:f,newSeries:[{dataGroupId:s,data:u,divide:va(u)}]})}else{var d=r.get(c);if(d){var v=t.get(d.key);v||(v={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:va(d.data)}],newSeries:[]},t.set(d.key,v)),v.newSeries.push({dataGroupId:s,data:u,divide:va(u)})}}}}),t}(r,i);M(o.keys(),function(d){var v=o.get(d);gR(v.oldSeries,v.newSeries,t)})}M(i.updatedSeries,function(d){d[Kh]&&(d[Kh]=!1)})}for(var s=e.getSeries(),u=r.oldSeries=[],c=r.oldDataGroupIds=[],h=r.oldData=[],p=0;p<s.length;p++){var f=s[p].getData();f.count()<hR&&(u.push(s[p]),c.push(s[p].get("dataGroupId")),h.push(f))}})}),wt(lT);let Yrt=(()=>{class n{constructor(){this.isSpinning=!0;const t=setInterval(()=>{const i=document.getElementById("main");if(i){clearInterval(t);const r=function DH(n,e,t){var i=!(t&&t.ssr);if(i){var r=function Uw(n){return fo[function m3(n,e){return n.getAttribute?n.getAttribute(e):n[e]}(n,bm)]}(n);if(r)return r}var a=new xp(n,e,t);return a.id="ec_"+wH++,fo[a.id]=a,i&&RC(n,bm,a.id),jw(a),bi.trigger("afterinit",a),a}(i);this.myChart=r,this.setOptions()}},1e3)}setOptions(){const t=this.echartData;console.log(this.echartType);const i=[],r=[];switch(this.echartType){case"bar":case"line":const a={};for(let s=0;s<t.length;s++){const u=t[s];for(const c in u)"x"===c?i.push(u.x):a[c]?a[c].push(u[c]):a[c]=[u[c]]}for(const s in a)r.push({type:this.echartType,data:a[s]});this.option={xAxis:{data:i},yAxis:{},series:r};break;case"pie":const o=[];for(let s=0;s<t.length;s++){const u=t[s];o.push({name:u.x,value:u.y1})}this.option={legend:{orient:"vertical",left:"left"},series:[{type:"pie",radius:"50%",data:o}]}}this.isSpinning=!1,this.myChart.setOption(this.option)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-second-step"]],inputs:{echartType:"echartType",echartData:"echartData"},decls:2,vars:1,consts:[["nzTip","\u56fe\u8868\u52a0\u8f7d\u4e2d...",3,"nzSpinning"],["id","main",2,"width","500px","height","400px"]],template:function(i,r){1&i&&(l.j41(0,"nz-spin",0),l.nrm(1,"div",1),l.k0s()),2&i&&l.Y8G("nzSpinning",r.isSpinning)},dependencies:[Vb]})}return n})();const Wrt=["firstStep"],Urt=["secondStep"];function $rt(n,e){if(1&n&&l.nrm(0,"app-second-step",10,1),2&n){const t=l.XpG();l.Y8G("echartType",t.echartType)("echartData",t.echartData)}}function Zrt(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",11),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.next())}),l.j41(1,"span"),l.EFF(2,"\u4e0b\u4e00\u6b65"),l.k0s()()}}function qrt(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",12),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.pre())}),l.j41(1,"span"),l.EFF(2,"\u4e0a\u4e00\u6b65"),l.k0s()()}}function Krt(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",11),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.handleCreateGraph())}),l.j41(1,"span"),l.EFF(2,"\u751f\u6210\u56fe\u8868"),l.k0s()()}}let Qrt=(()=>{class n{#t;constructor(t){this.viewContainerRef=t,this.current=0,this.echartData=[],this.echartType="",this.#t=(0,l.WQX)(ir.J9)}pre(){this.current-=1}next(){this.current+=1,console.log(this.component),this.echartType=this.component.id.split("-")[1],this.echartData=this.firstStep.getData()}handleCreateGraph(){const t=this.secondStep.option,i=this.secondStep.myChart,r=document.getElementsByTagName("app-second-step")[0].getElementsByTagName("canvas")[0],{component:a}=this;R.yp.g3.register({shape:a.id,width:500,height:400,effect:["data"],html:()=>r}),a.registered=!0,this.#t.destroy({echartsOption:t,echartsInstance:i})}static#e=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.c1b))};static#n=this.\u0275cmp=l.VBU({type:n,selectors:[["app-set-chart"]],viewQuery:function(i,r){if(1&i&&(l.GBs(Wrt,5),l.GBs(Urt,5)),2&i){let a;l.mGM(a=l.lsd())&&(r.firstStep=a.first),l.mGM(a=l.lsd())&&(r.secondStep=a.first)}},inputs:{component:"component"},decls:11,vars:8,consts:[["firstStep",""],["secondStep",""],[3,"nzCurrent"],["nzTitle","\u8bbe\u7f6e\u6570\u636e"],["nzTitle","\u9884\u89c8"],[3,"echartType","echartData",4,"ngIf"],[2,"text-align","center","margin-top","20px"],[3,"ngSwitch"],["nz-button","","nzType","primary",3,"click",4,"ngSwitchCase"],["nz-button","","style","margin-right: 10px;",3,"click",4,"ngSwitchCase"],[3,"echartType","echartData"],["nz-button","","nzType","primary",3,"click"],["nz-button","",2,"margin-right","10px",3,"click"]],template:function(i,r){1&i&&(l.j41(0,"nz-steps",2),l.nrm(1,"nz-step",3)(2,"nz-step",4),l.k0s(),l.nrm(3,"app-first-step",null,0),l.DNE(5,$rt,2,2,"app-second-step",5),l.j41(6,"div",6),l.qex(7,7),l.DNE(8,Zrt,3,0,"button",8)(9,qrt,3,0,"button",9)(10,Krt,3,0,"button",8),l.bVm(),l.k0s()),2&i&&(l.Y8G("nzCurrent",r.current),l.R7$(3),l.Aen("display:"+(0==r.current?"block":"none")),l.R7$(2),l.Y8G("ngIf",1==r.current),l.R7$(2),l.Y8G("ngSwitch",r.current),l.R7$(),l.Y8G("ngSwitchCase",0),l.R7$(),l.Y8G("ngSwitchCase",1),l.R7$(),l.Y8G("ngSwitchCase",1))},dependencies:[U.bT,U.ux,U.e1,an.aO,Rn.c,nr.p,UN,od,nF,Yrt]})}return n})(),Jrt=(()=>{class n{constructor(t,i,r,a,o){this.cs=t,this.element=i,this.injector=r,this.viewContainerRef=a,this.modal=o,this.graph=new R.ke({container:i.nativeElement,background:{},grid:{size:10,visible:JSON.parse(localStorage.getItem("show_grid")||"true"),type:"mesh"},connecting:{snap:!1,connector:"normal",createEdge:()=>new R.yp.oH({shape:"line",attrs:{line:{stroke:"#333",strokeWidth:1,targetMarker:null,strokeDasharray:0,style:{animation:"ant-line 30s infinite linear"}}},label:{text:""},router:{name:"normal"}})},highlighting:{magnetAvailable:{name:"stroke",args:{padding:4,attrs:{strokeWidth:2,stroke:"rgba(223,234,255)"}}}}}),this.graph.use(new K_({enabled:!0})),this.graph.use(new oi({resizing:{enabled:!0},rotating:{enabled:!0}})),this.graph.use(new $t({enabled:!0})),this.graph.use(new Jt({enabled:!0})),this.graph.use(new Go({enabled:!0})),this.graph.use(new Ho({enabled:!0,multiple:!0,rubberband:!0,rubberEdge:!0,movable:!0,strict:!0,showNodeSelectionBox:!0})),this.graph.use(new tb),this.dnd=new _a({target:this.graph}),this.graph.bindKey("ctrl+s",s=>{this.graph.exportPNG(),s.preventDefault()}),this.graph.bindKey("ctrl+z",()=>this.graph.undo()),this.graph.bindKey("ctrl+y",()=>this.graph.redo()),this.graph.bindKey("ctrl+x",()=>this.graph.cut(this.graph.getSelectedCells(),{deep:!0})),this.graph.bindKey("ctrl+c",()=>this.graph.copy(this.graph.getSelectedCells(),{deep:!0})),this.graph.bindKey("ctrl+v",()=>this.graph.resetSelection(this.graph.paste())),this.graph.bindKey("backspace",()=>this.graph.getSelectedCells().forEach(s=>s.remove())),this.graph.bindKey("delete",()=>this.graph.getSelectedCells().forEach(s=>s.remove())),this.graph.container.onmousemove=s=>{this.line&&(this.graph.addEdge({shape:this.line.id,source:[s.offsetX,s.offsetY],target:[s.offsetX-120,s.offsetY+80],...this.line.meta}),this.line=void 0)},this.graph.on("edge:selected",R.eY.debounce(({edge:s})=>{s.addTools([{name:"source-arrowhead",args:{attrs:{cursor:"pointer",fill:"#3c9566"}}},{name:"target-arrowhead",args:{attrs:{cursor:"pointer",fill:"#3c9566"}}},{name:"vertices",args:{attrs:{fill:"#3c9566",cursor:"crosshair"},stopPropagation:!1}}])})),this.graph.on("edge:unselected",({cell:s})=>{s.removeTools()}),this.graph.on("node:mouseenter",R.eY.debounce(({})=>{}),500),this.graph.on("node:mouseleave",({})=>{}),this.graph.on("blank:click",()=>{}),this.graph.on("node:click",({})=>{}),this.graph.on("cell:selected",s=>{console.log(111111111,s)}),this.graph.on("cell:click",({cell:s,e:u})=>{this.cs.Get(s.shape)?.listeners?.click?.call(this,s,u)}),this.graph.on("cell:mouseenter",({cell:s,e:u})=>{this.cs.Get(s.shape)?.listeners?.mouseenter?.call(this,s,u)}),this.graph.on("cell:mouseleave",({cell:s,e:u})=>{this.cs.Get(s.shape)?.listeners?.mouseleave?.call(this,s,u)})}Render(t){t.content?.cells?.forEach(i=>{this.cs.Get(i.shape)}),this.graph.drawBackground({color:t.background_color,image:t.background_image}),this.graph.fromJSON(t.content)}Draw(t){let i,{component:r}=t;switch(this.cs.CheckRegister(r),r.type){case"line":return void(this.line=r);case"shape":case"svg":let a={};r.bindings?.forEach(o=>a[o.name]=o.default),i=this.graph.createNode({shape:r.id,...r.meta,data:a});break;case"chart":this.modal.create({nzTitle:"\u914d\u7f6e\u56fe\u8868",nzMaskClosable:!1,nzContent:Qrt,nzData:{component:r},nzFooter:null}).afterClose.subscribe(o=>{r.registered&&this.graph.addNode({shape:r.id,x:60,y:100,data:{...o}})})}console.log(i),i&&t.event&&this.dnd.start(i,t.event)}showPorts(t,i){for(let r=0,a=t.length;r<a;r+=1)t[r].style.visibility=i?"visible":"hidden"}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Fn.b),l.rXU(l.aKT),l.rXU(l.zZn),l.rXU(l.c1b),l.rXU(ir.N_))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-canvas"]],decls:0,vars:0,template:function(i,r){},styles:["[_nghost-%COMP%]{display:block;position:relative;box-shadow:#a8a8a8 2px 2px 10px;background-color:#fff}"]})}return n})(),tat=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-attach-select"]],decls:1,vars:0,consts:[["src",l.wXG`/app/attachment/list`,"frameborder","0"]],template:function(i,r){1&i&&l.nrm(0,"iframe",0)}})}return n})();const eat=["dialogPopup"],nat=["hueSlider"],iat=["alphaSlider"];function rat(n,e){if(1&n&&l.nrm(0,"div"),2&n){const t=l.XpG();l.ZvI("arrow arrow-",t.cpUsePosition,""),l.xc7("left",t.cpArrowPosition)("top",t.arrowTop,"px")}}function aat(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",28),l.bIt("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onColorChange(r))})("dragStart",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.onDragStart("saturation-lightness"))})("dragEnd",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.onDragEnd("saturation-lightness"))}),l.nrm(1,"div",16),l.k0s()}if(2&n){const t=l.XpG();l.xc7("background-color",t.hueSliderColor),l.Y8G("rgX",1)("rgY",1),l.R7$(),l.xc7("top",null==t.slider?null:t.slider.v,"px")("left",null==t.slider?null:t.slider.s,"px")}}function oat(n,e){1&n&&(l.qSk(),l.j41(0,"svg",29),l.nrm(1,"path",30)(2,"path",31),l.k0s())}function sat(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",32),l.bIt("click",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAddPresetColor(r,a.selectedColor))}),l.EFF(1),l.k0s()}if(2&n){const t=l.XpG();l.HbH(t.cpAddColorButtonClass),l.Y8G("disabled",t.cpPresetColors&&t.cpPresetColors.length>=t.cpMaxPresetColorsLength),l.R7$(),l.SpI(" ",t.cpAddColorButtonText," ")}}function lat(n,e){1&n&&l.nrm(0,"div",33)}function uat(n,e){if(1&n){const t=l.RV6();l.j41(0,"input",39),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAlphaInput(r))}),l.k0s()}if(2&n){const t=l.XpG(2);l.Y8G("rg",1)("value",null==t.cmykText?null:t.cmykText.a)}}function cat(n,e){1&n&&(l.j41(0,"div"),l.EFF(1,"A"),l.k0s())}function hat(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",34)(1,"div",35)(2,"input",36),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onCyanInput(r))}),l.k0s(),l.j41(3,"input",36),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onMagentaInput(r))}),l.k0s(),l.j41(4,"input",36),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onYellowInput(r))}),l.k0s(),l.j41(5,"input",36),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onBlackInput(r))}),l.k0s(),l.DNE(6,uat,1,2,"input",37),l.k0s(),l.j41(7,"div",35)(8,"div"),l.EFF(9,"C"),l.k0s(),l.j41(10,"div"),l.EFF(11,"M"),l.k0s(),l.j41(12,"div"),l.EFF(13,"Y"),l.k0s(),l.j41(14,"div"),l.EFF(15,"K"),l.k0s(),l.DNE(16,cat,2,0,"div",38),l.k0s()()}if(2&n){const t=l.XpG();l.xc7("display",3!==t.format?"none":"block"),l.R7$(2),l.Y8G("rg",100)("value",null==t.cmykText?null:t.cmykText.c),l.R7$(),l.Y8G("rg",100)("value",null==t.cmykText?null:t.cmykText.m),l.R7$(),l.Y8G("rg",100)("value",null==t.cmykText?null:t.cmykText.y),l.R7$(),l.Y8G("rg",100)("value",null==t.cmykText?null:t.cmykText.k),l.R7$(),l.Y8G("ngIf","disabled"!==t.cpAlphaChannel),l.R7$(10),l.Y8G("ngIf","disabled"!==t.cpAlphaChannel)}}function pat(n,e){if(1&n){const t=l.RV6();l.j41(0,"input",39),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAlphaInput(r))}),l.k0s()}if(2&n){const t=l.XpG(2);l.Y8G("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function fat(n,e){1&n&&(l.j41(0,"div"),l.EFF(1,"A"),l.k0s())}function dat(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",40)(1,"div",35)(2,"input",41),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onHueInput(r))}),l.k0s(),l.j41(3,"input",36),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onSaturationInput(r))}),l.k0s(),l.j41(4,"input",36),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onLightnessInput(r))}),l.k0s(),l.DNE(5,pat,1,2,"input",37),l.k0s(),l.j41(6,"div",35)(7,"div"),l.EFF(8,"H"),l.k0s(),l.j41(9,"div"),l.EFF(10,"S"),l.k0s(),l.j41(11,"div"),l.EFF(12,"L"),l.k0s(),l.DNE(13,fat,2,0,"div",38),l.k0s()()}if(2&n){const t=l.XpG();l.xc7("display",2!==t.format?"none":"block"),l.R7$(2),l.Y8G("rg",360)("value",null==t.hslaText?null:t.hslaText.h),l.R7$(),l.Y8G("rg",100)("value",null==t.hslaText?null:t.hslaText.s),l.R7$(),l.Y8G("rg",100)("value",null==t.hslaText?null:t.hslaText.l),l.R7$(),l.Y8G("ngIf","disabled"!==t.cpAlphaChannel),l.R7$(8),l.Y8G("ngIf","disabled"!==t.cpAlphaChannel)}}function vat(n,e){if(1&n){const t=l.RV6();l.j41(0,"input",39),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAlphaInput(r))}),l.k0s()}if(2&n){const t=l.XpG(2);l.Y8G("rg",1)("value",null==t.rgbaText?null:t.rgbaText.a)}}function gat(n,e){1&n&&(l.j41(0,"div"),l.EFF(1,"A"),l.k0s())}function mat(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",42)(1,"div",35)(2,"input",43),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onRedInput(r))}),l.k0s(),l.j41(3,"input",43),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onGreenInput(r))}),l.k0s(),l.j41(4,"input",43),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onBlueInput(r))}),l.k0s(),l.DNE(5,vat,1,2,"input",37),l.k0s(),l.j41(6,"div",35)(7,"div"),l.EFF(8,"R"),l.k0s(),l.j41(9,"div"),l.EFF(10,"G"),l.k0s(),l.j41(11,"div"),l.EFF(12,"B"),l.k0s(),l.DNE(13,gat,2,0,"div",38),l.k0s()()}if(2&n){const t=l.XpG();l.xc7("display",1!==t.format?"none":"block"),l.R7$(2),l.Y8G("rg",255)("value",null==t.rgbaText?null:t.rgbaText.r),l.R7$(),l.Y8G("rg",255)("value",null==t.rgbaText?null:t.rgbaText.g),l.R7$(),l.Y8G("rg",255)("value",null==t.rgbaText?null:t.rgbaText.b),l.R7$(),l.Y8G("ngIf","disabled"!==t.cpAlphaChannel),l.R7$(8),l.Y8G("ngIf","disabled"!==t.cpAlphaChannel)}}function yat(n,e){if(1&n){const t=l.RV6();l.j41(0,"input",39),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAlphaInput(r))}),l.k0s()}if(2&n){const t=l.XpG(2);l.Y8G("rg",1)("value",t.hexAlpha)}}function _at(n,e){1&n&&(l.j41(0,"div"),l.EFF(1,"A"),l.k0s())}function bat(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",44)(1,"div",35)(2,"input",45),l.bIt("blur",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.onHexInput(null))})("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onHexInput(r))}),l.k0s(),l.DNE(3,yat,1,2,"input",37),l.k0s(),l.j41(4,"div",35)(5,"div"),l.EFF(6,"Hex"),l.k0s(),l.DNE(7,_at,2,0,"div",38),l.k0s()()}if(2&n){const t=l.XpG();l.xc7("display",0!==t.format?"none":"block"),l.AVh("hex-alpha","forced"===t.cpAlphaChannel),l.R7$(2),l.Y8G("value",t.hexText),l.R7$(),l.Y8G("ngIf","forced"===t.cpAlphaChannel),l.R7$(4),l.Y8G("ngIf","forced"===t.cpAlphaChannel)}}function Cat(n,e){if(1&n){const t=l.RV6();l.j41(0,"input",39),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAlphaInput(r))}),l.k0s()}if(2&n){const t=l.XpG(2);l.Y8G("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function Sat(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",46)(1,"div",35)(2,"input",36),l.bIt("keyup.enter",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onAcceptColor(r))})("newValue",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.onValueInput(r))}),l.k0s(),l.DNE(3,Cat,1,2,"input",37),l.k0s(),l.j41(4,"div",35)(5,"div"),l.EFF(6,"V"),l.k0s(),l.j41(7,"div"),l.EFF(8,"A"),l.k0s()()()}if(2&n){const t=l.XpG();l.R7$(2),l.Y8G("rg",100)("value",null==t.hslaText?null:t.hslaText.l),l.R7$(),l.Y8G("ngIf","disabled"!==t.cpAlphaChannel)}}function xat(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",47)(1,"span",48),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.onFormatToggle(-1))}),l.k0s(),l.j41(2,"span",48),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.onFormatToggle(1))}),l.k0s()()}}function zat(n,e){if(1&n){const t=l.RV6();l.j41(0,"span",55),l.bIt("click",function(r){l.eBV(t);const a=l.XpG().$implicit,o=l.XpG(3);return l.Njj(o.onRemovePresetColor(r,a))}),l.k0s()}if(2&n){const t=l.XpG(4);l.HbH(t.cpRemoveColorButtonClass)}}function wat(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",53),l.bIt("click",function(){const r=l.eBV(t).$implicit,a=l.XpG(3);return l.Njj(a.setColorFromString(r))}),l.DNE(1,zat,1,3,"span",54),l.k0s()}if(2&n){const t=e.$implicit,i=l.XpG(3);l.xc7("background-color",t),l.R7$(),l.Y8G("ngIf",i.cpAddColorButton)}}function Tat(n,e){if(1&n&&(l.j41(0,"div"),l.DNE(1,wat,2,3,"div",52),l.k0s()),2&n){const t=l.XpG(2);l.HbH(t.cpPresetColorsClass),l.R7$(),l.Y8G("ngForOf",t.cpPresetColors)}}function Dat(n,e){if(1&n&&(l.j41(0,"div"),l.EFF(1),l.k0s()),2&n){const t=l.XpG(2);l.HbH(t.cpPresetEmptyMessageClass),l.R7$(),l.JRh(t.cpPresetEmptyMessage)}}function Mat(n,e){if(1&n&&(l.j41(0,"div",49),l.nrm(1,"hr"),l.j41(2,"div",50),l.EFF(3),l.k0s(),l.DNE(4,Tat,2,4,"div",51)(5,Dat,2,4,"div",51),l.k0s()),2&n){const t=l.XpG();l.R7$(3),l.JRh(t.cpPresetLabel),l.R7$(),l.Y8G("ngIf",null==t.cpPresetColors?null:t.cpPresetColors.length),l.R7$(),l.Y8G("ngIf",!(null!=t.cpPresetColors&&t.cpPresetColors.length)&&t.cpAddColorButton)}}function Iat(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",58),l.bIt("click",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onCancelColor(r))}),l.EFF(1),l.k0s()}if(2&n){const t=l.XpG(2);l.HbH(t.cpCancelButtonClass),l.R7$(),l.JRh(t.cpCancelButtonText)}}function Aat(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",58),l.bIt("click",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onAcceptColor(r))}),l.EFF(1),l.k0s()}if(2&n){const t=l.XpG(2);l.HbH(t.cpOKButtonClass),l.R7$(),l.JRh(t.cpOKButtonText)}}function kat(n,e){if(1&n&&(l.j41(0,"div",56),l.DNE(1,Iat,2,4,"button",57)(2,Aat,2,4,"button",57),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("ngIf",t.cpCancelButton),l.R7$(),l.Y8G("ngIf",t.cpOKButton)}}function Pat(n,e){1&n&&l.eu8(0)}function Rat(n,e){if(1&n&&(l.j41(0,"div",59),l.DNE(1,Pat,1,0,"ng-container",60),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("ngTemplateOutlet",t.cpExtraTemplate)}}var gn=function(n){return n[n.HEX=0]="HEX",n[n.RGBA=1]="RGBA",n[n.HSLA=2]="HSLA",n[n.CMYK=3]="CMYK",n}(gn||{});class Dr{r;g;b;a;constructor(e,t,i,r){this.r=e,this.g=t,this.b=i,this.a=r}}class Uf{h;s;v;a;constructor(e,t,i,r){this.h=e,this.s=t,this.v=i,this.a=r}}class Fo{h;s;l;a;constructor(e,t,i,r){this.h=e,this.s=t,this.l=i,this.a=r}}class vc{c;m;y;k;a;constructor(e,t,i,r,a=1){this.c=e,this.m=t,this.y=i,this.k=r,this.a=a}}let Eat=(()=>{class n{rg;text;newValue=new l.bkB;inputChange(t){const i=t.target.value;if(void 0===this.rg)this.newValue.emit(i);else{const r=parseFloat(i);this.newValue.emit({v:r,rg:this.rg})}}static \u0275fac=function(i){return new(i||n)};static \u0275dir=l.FsC({type:n,selectors:[["","text",""]],hostBindings:function(i,r){1&i&&l.bIt("input",function(o){return r.inputChange(o)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}})}return n})(),Lat=(()=>{class n{elRef;listenerMove;listenerStop;rgX;rgY;slider;dragEnd=new l.bkB;dragStart=new l.bkB;newValue=new l.bkB;mouseDown(t){this.start(t)}touchStart(t){this.start(t)}constructor(t){this.elRef=t,this.listenerMove=i=>this.move(i),this.listenerStop=()=>this.stop()}move(t){t.preventDefault(),this.setCursor(t)}start(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(t){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-i.left-window.pageXOffset}getY(t){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-i.top-window.pageYOffset}setCursor(t){const i=this.elRef.nativeElement.offsetWidth,r=this.elRef.nativeElement.offsetHeight,a=Math.max(0,Math.min(this.getX(t),i)),o=Math.max(0,Math.min(this.getY(t),r));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:a/i,v:1-o/r,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:o/r,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:a/i,rgX:this.rgX})}static \u0275fac=function(i){return new(i||n)(l.rXU(l.aKT))};static \u0275dir=l.FsC({type:n,selectors:[["","slider",""]],hostBindings:function(i,r){1&i&&l.bIt("mousedown",function(o){return r.mouseDown(o)})("touchstart",function(o){return r.touchStart(o)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}})}return n})();class bR{h;s;v;a;constructor(e,t,i,r){this.h=e,this.s=t,this.v=i,this.a=r}}class CR{h;s;v;a;constructor(e,t,i,r){this.h=e,this.s=t,this.v=i,this.a=r}}let W_=(()=>{class n{active=null;setActive(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t}hsva2hsla(t){const i=t.h,r=t.s,a=t.v,o=t.a;if(0===a)return new Fo(i,0,0,o);if(0===r&&1===a)return new Fo(i,1,1,o);{const s=a*(2-r)/2;return new Fo(i,a*r/(1-Math.abs(2*s-1)),s,o)}}hsla2hsva(t){const i=Math.min(t.h,1),r=Math.min(t.s,1),a=Math.min(t.l,1),o=Math.min(t.a,1);if(0===a)return new Uf(i,0,0,o);{const s=a+r*(1-Math.abs(2*a-1))/2;return new Uf(i,2*(s-a)/s,s,o)}}hsvaToRgba(t){let i,r,a;const o=t.h,s=t.s,u=t.v,c=t.a,h=Math.floor(6*o),p=6*o-h,f=u*(1-s),d=u*(1-p*s),v=u*(1-(1-p)*s);switch(h%6){case 0:i=u,r=v,a=f;break;case 1:i=d,r=u,a=f;break;case 2:i=f,r=u,a=v;break;case 3:i=f,r=d,a=u;break;case 4:i=v,r=f,a=u;break;case 5:i=u,r=f,a=d;break;default:i=0,r=0,a=0}return new Dr(i,r,a,c)}cmykToRgb(t){return new Dr((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)}rgbaToCmyk(t){const i=1-Math.max(t.r,t.g,t.b);return 1===i?new vc(0,0,0,1,t.a):new vc((1-t.r-i)/(1-i),(1-t.g-i)/(1-i),(1-t.b-i)/(1-i),i,t.a)}rgbaToHsva(t){let i,r;const a=Math.min(t.r,1),o=Math.min(t.g,1),s=Math.min(t.b,1),u=Math.min(t.a,1),c=Math.max(a,o,s),h=Math.min(a,o,s),p=c,f=c-h;if(r=0===c?0:f/c,c===h)i=0;else{switch(c){case a:i=(o-s)/f+(o<s?6:0);break;case o:i=(s-a)/f+2;break;case s:i=(a-o)/f+4;break;default:i=0}i/=6}return new Uf(i,r,p,u)}rgbaToHex(t,i){let r="#"+(16777216|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return i&&(r+=(256|Math.round(255*t.a)).toString(16).substr(1)),r}normalizeCMYK(t){return new vc(t.c/100,t.m/100,t.y/100,t.k/100,t.a)}denormalizeCMYK(t){return new vc(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)}denormalizeRGBA(t){return new Dr(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)}stringToHsva(t="",i=!1){let r=null;t=(t||"").toLowerCase();const a=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(o){return new Dr(parseInt(o[2],10)/255,parseInt(o[3],10)/255,parseInt(o[4],10)/255,isNaN(parseFloat(o[5]))?1:parseFloat(o[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(o){return new Fo(parseInt(o[2],10)/360,parseInt(o[3],10)/100,parseInt(o[4],10)/100,isNaN(parseFloat(o[5]))?1:parseFloat(o[5]))}}];a.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(o){return new Dr(parseInt(o[1],16)/255,parseInt(o[2],16)/255,parseInt(o[3],16)/255,parseInt(o[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(o){return new Dr(parseInt(o[1],16)/255,parseInt(o[2],16)/255,parseInt(o[3],16)/255,1)}}),a.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(o){return new Dr(parseInt(o[1]+o[1],16)/255,parseInt(o[2]+o[2],16)/255,parseInt(o[3]+o[3],16)/255,1)}});for(const o in a)if(a.hasOwnProperty(o)){const s=a[o],u=s.re.exec(t),c=u&&s.parse(u);if(c)return c instanceof Dr?r=this.rgbaToHsva(c):c instanceof Fo&&(r=this.hsla2hsva(c)),r}return r}outputFormat(t,i,r){switch("auto"===i&&(i=t.a<1?"rgba":"hex"),i){case"hsla":const a=this.hsva2hsla(t),o=new Fo(Math.round(360*a.h),Math.round(100*a.s),Math.round(100*a.l),Math.round(100*a.a)/100);return t.a<1||"always"===r?"hsla("+o.h+","+o.s+"%,"+o.l+"%,"+o.a+")":"hsl("+o.h+","+o.s+"%,"+o.l+"%)";case"rgba":const s=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===r?"rgba("+s.r+","+s.g+","+s.b+","+Math.round(100*s.a)/100+")":"rgb("+s.r+","+s.g+","+s.b+")";default:const u="always"===r||"forced"===r;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),u)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const SR=typeof window<"u"&&"ontouchstart"in window;let Bat=(()=>{class n{ngZone;elRef;cdRef;document;platformId;service;isIE10=!1;cmyk;hsva;width;height;cmykColor;outputColor;initialColor;fallbackColor;listenerResize;listenerMouseDown;directiveInstance;sliderH;sliderDimMax;directiveElementRef;dialogArrowSize=10;dialogArrowOffset=15;dialogInputFields=[gn.HEX,gn.RGBA,gn.HSLA,gn.CMYK];useRootViewContainer=!1;show;hidden;top;left;position;format;slider;hexText;hexAlpha;cmykText;hslaText;rgbaText;arrowTop;selectedColor;hueSliderColor;alphaSliderColor;cpWidth;cpHeight;cpColorMode;cpCmykEnabled;cpAlphaChannel;cpOutputFormat;cpDisableInput;cpDialogDisplay;cpIgnoredElements;cpSaveClickOutside;cpCloseClickOutside;cpPosition;cpUsePosition;cpPositionOffset;cpOKButton;cpOKButtonText;cpOKButtonClass;cpCancelButton;cpCancelButtonText;cpCancelButtonClass;cpEyeDropper;eyeDropperSupported;cpPresetLabel;cpPresetColors;cpPresetColorsClass;cpMaxPresetColorsLength;cpPresetEmptyMessage;cpPresetEmptyMessageClass;cpAddColorButton;cpAddColorButtonText;cpAddColorButtonClass;cpRemoveColorButtonClass;cpArrowPosition;cpTriggerElement;cpExtraTemplate;dialogElement;hueSlider;alphaSlider;handleEsc(t){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(t)}handleEnter(t){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(t)}constructor(t,i,r,a,o,s){this.ngZone=t,this.elRef=i,this.cdRef=r,this.document=a,this.platformId=o,this.service=s,this.eyeDropperSupported=(0,U.UE)(this.platformId)&&"EyeDropper"in this.document.defaultView}ngOnInit(){this.slider=new bR(0,0,0,0),this.sliderDimMax=new CR(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?gn.CMYK:"rgba"===this.cpOutputFormat?gn.RGBA:"hsla"===this.cpOutputFormat?gn.HSLA:gn.HEX,this.listenerMouseDown=r=>{this.onMouseDown(r)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new CR(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(t,i=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,i),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(t,i,r,a,o,s,u,c,h,p,f,d,v,g,m,y,_,b,C,x,S,z,w,T,D,I,A,k,P,N,O,L,E,V,j,$,it,ot){this.setInitialColor(r),this.setColorMode(c),this.isIE10=10===function Oat(){let n="";typeof navigator<"u"&&(n=navigator.userAgent.toLowerCase());const e=n.indexOf("msie ");return e>0&&parseInt(n.substring(e+5,n.indexOf(".",e)),10)}(),this.directiveInstance=t,this.directiveElementRef=i,this.cpDisableInput=d,this.cpCmykEnabled=h,this.cpAlphaChannel=p,this.cpOutputFormat=f,this.cpDialogDisplay=s,this.cpIgnoredElements=v,this.cpSaveClickOutside=g,this.cpCloseClickOutside=m,this.useRootViewContainer=y,this.width=this.cpWidth=parseInt(a,10),this.height=this.cpHeight=parseInt(o,10),this.cpPosition=_,this.cpPositionOffset=parseInt(b,10),this.cpOKButton=I,this.cpOKButtonText=k,this.cpOKButtonClass=A,this.cpCancelButton=P,this.cpCancelButtonText=O,this.cpCancelButtonClass=N,this.cpEyeDropper=$,this.fallbackColor=u||"#fff",this.setPresetConfig(x,S),this.cpPresetColorsClass=z,this.cpMaxPresetColorsLength=w,this.cpPresetEmptyMessage=T,this.cpPresetEmptyMessageClass=D,this.cpAddColorButton=L,this.cpAddColorButtonText=V,this.cpAddColorButtonClass=E,this.cpRemoveColorButtonClass=j,this.cpTriggerElement=it,this.cpExtraTemplate=ot,C||(this.dialogArrowOffset=0),"inline"===s&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===f&&"always"!==p&&"forced"!==p&&(this.cpAlphaChannel="disabled")}setColorMode(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(t){this.initialColor=t}setPresetConfig(t,i){this.cpPresetLabel=t,this.cpPresetColors=i}setColorFromString(t,i=!0,r=!0){let a;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(a=this.service.stringToHsva(t,!0),!a&&!this.hsva&&(a=this.service.stringToHsva(t,!1))):a=this.service.stringToHsva(t,!1),!a&&!this.hsva&&(a=this.service.stringToHsva(this.fallbackColor,!1)),a&&(this.hsva=a,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(i,r))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})}onDragStart(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})}onMouseDown(t){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&t.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,t.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,t.target)&&0===this.cpIgnoredElements.filter(i=>i===t.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(t){t.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(t){this.hsva=null,t.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(i=>{this.setColorFromString(i.sRGBHex,!0)})}onFormatToggle(t){const i=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),r=((this.dialogInputFields.indexOf(this.format)+t)%i+i)%i;this.format=this.dialogInputFields[r]}onColorChange(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(t){if(null===t)this.updateColorPicker();else{t&&"#"!==t[0]&&(t="#"+t);let i=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(i=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const r=i.test(t);r&&(t.length<5&&(t="#"+t.substring(1).split("").map(a=>a+a).join("")),"forced"===this.cpAlphaChannel&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:r,value:t,color:this.outputColor})}}onRedInput(t){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(i.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:r,value:i.r,color:this.outputColor})}onBlueInput(t){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(i.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:r,value:i.b,color:this.outputColor})}onGreenInput(t){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(i.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:r,value:i.g,color:this.outputColor})}onHueInput(t){const i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:i,value:this.hsva.h,color:this.outputColor})}onValueInput(t){const i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(this.hsva.v=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:i,value:this.hsva.v,color:this.outputColor})}onAlphaInput(t){const i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(this.hsva.a=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:i,value:this.hsva.a,color:this.outputColor})}onLightnessInput(t){const i=this.service.hsva2hsla(this.hsva),r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(i.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:r,value:i.l,color:this.outputColor})}onSaturationInput(t){const i=this.service.hsva2hsla(this.hsva),r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(i.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:r,value:i.s,color:this.outputColor})}onCyanInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.c=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.m=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.y=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.k=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(t,i){t.stopPropagation(),this.cpPresetColors.filter(r=>r===i).length||(this.cpPresetColors=this.cpPresetColors.concat(i),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(t,i){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(r=>r!==i),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{SR?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(SR?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(t=!0,i=!0,r=!1){if(this.sliderDimMax){let a,o,s;2===this.cpColorMode&&(this.hsva.s=0);const u=this.outputColor;if(o=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(r?(s=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(s)):(s=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(s))),s=this.service.denormalizeRGBA(s),this.sliderH=this.hsva.h):s=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),a=this.service.denormalizeRGBA(this.service.hsvaToRgba(new Uf(this.sliderH||this.hsva.h,1,1,1))),i&&(this.hslaText=new Fo(Math.round(360*o.h),Math.round(100*o.s),Math.round(100*o.l),Math.round(100*o.a)/100),this.rgbaText=new Dr(s.r,s.g,s.b,Math.round(100*s.a)/100),this.cpCmykEnabled&&(this.cmykText=new vc(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(s,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==gn.RGBA&&this.format!==gn.CMYK&&this.format!==gn.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?gn.RGBA:gn.HEX),this.hueSliderColor="rgb("+a.r+","+a.g+","+a.b+")",this.alphaSliderColor="rgb("+s.r+","+s.g+","+s.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==gn.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const c=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${c})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new bR((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&u!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let r,t="static",i="",a=null,o=null,s=this.directiveElementRef.nativeElement.parentNode;const u=this.dialogElement.nativeElement.offsetHeight;for(;null!==s&&"HTML"!==s.tagName;){if(r=window.getComputedStyle(s),t=r.getPropertyValue("position"),i=r.getPropertyValue("transform"),"static"!==t&&null===a&&(a=s),i&&"none"!==i&&null===o&&(o=s),"fixed"===t){a=o;break}s=s.parentNode}const c=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==t);if(this.useRootViewContainer||"fixed"===t&&(!a||a instanceof HTMLUnknownElement))this.top=c.top,this.left=c.left;else{null===a&&(a=s);const y=this.createDialogBox(a,"fixed"!==t);this.top=c.top-y.top,this.left=c.left-y.left}"fixed"===t&&(this.position="fixed");let h=this.cpPosition;const p=this.dialogElement.nativeElement.getBoundingClientRect();switch("auto"===this.cpPosition&&(h=function Nat(n,e){let t="right",i="bottom";const{height:r,width:a}=n,{top:o,left:s}=e,u=o+e.height,c=s+e.width,h=o-r<0,p=u+r>(window.innerHeight||document.documentElement.clientHeight),f=s-a<0,d=c+a>(window.innerWidth||document.documentElement.clientWidth);return p&&(i="top"),h&&(i="bottom"),f&&(t="right"),d&&(t="left"),h&&p&&f&&d?["left","right","top","bottom"].reduce((m,y)=>n[m]>n[y]?m:y):f&&d?h?"bottom":p||o>u?"top":"bottom":h&&p?f?"right":d||s>c?"left":"right":`${i}-${t}`}(p,this.cpTriggerElement.nativeElement.getBoundingClientRect())),this.arrowTop="top"===h?u-1:void 0,this.cpArrowPosition=void 0,h){case"top":this.top-=u+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*c.width-this.dialogArrowOffset;break;case"bottom":this.top+=c.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*c.width-this.dialogArrowOffset;break;case"top-left":case"left-top":this.top-=u-c.height+c.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"top-right":case"right-top":this.top-=u-c.height+c.height*this.cpPositionOffset/100,this.left+=c.width+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"left":case"bottom-left":case"left-bottom":this.top+=c.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2;break;default:this.top+=c.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=c.width+this.dialogArrowSize-2}const f=window.innerHeight,d=window.innerWidth,v=this.elRef.nativeElement.getBoundingClientRect();this.top+p.height>f&&(this.top=f-p.height,this.cpArrowPosition=v.x/2-20),this.left+p.width>d&&(this.left=d-p.width,this.cpArrowPosition=v.x/2-20),this.cpUsePosition=h}}isDescendant(t,i){let r=i.parentNode;for(;null!==r;){if(r===t)return!0;r=r.parentNode}return!1}createDialogBox(t,i){const{top:r,left:a}=t.getBoundingClientRect();return{top:r+(i?window.pageYOffset:0),left:a+(i?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}}static \u0275fac=function(i){return new(i||n)(l.rXU(l.SKi),l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(U.qQ),l.rXU(l.Agw),l.rXU(W_))};static \u0275cmp=l.VBU({type:n,selectors:[["color-picker"]],viewQuery:function(i,r){if(1&i&&(l.GBs(eat,7),l.GBs(nat,7),l.GBs(iat,7)),2&i){let a;l.mGM(a=l.lsd())&&(r.dialogElement=a.first),l.mGM(a=l.lsd())&&(r.hueSlider=a.first),l.mGM(a=l.lsd())&&(r.alphaSlider=a.first)}},hostBindings:function(i,r){1&i&&l.bIt("keyup.esc",function(o){return r.handleEsc(o)},!1,l.EBC)("keyup.enter",function(o){return r.handleEnter(o)},!1,l.EBC)},decls:30,vars:51,consts:[["dialogPopup",""],["hueSlider",""],["valueSlider",""],["alphaSlider",""],[1,"color-picker",3,"click"],[3,"left","class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"cursor"],[1,"value",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"alpha",3,"newValue","dragStart","dragEnd","slider","rgX"],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"newValue","dragStart","dragEnd","slider","rgX","rgY"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"click","disabled"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"keyup.enter","newValue","text","rg","value"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"keyup.enter","newValue","text","rg","value"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"keyup.enter","newValue","text","rg","value"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"keyup.enter","newValue","text","rg","value"],[1,"hex-text"],[3,"blur","keyup.enter","newValue","text","value"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(i,r){if(1&i){const a=l.RV6();l.j41(0,"div",4,0),l.bIt("click",function(s){return l.eBV(a),l.Njj(s.stopPropagation())}),l.DNE(2,rat,1,7,"div",5)(3,aat,2,8,"div",6),l.j41(4,"div",7)(5,"div",8),l.nrm(6,"div",9),l.j41(7,"div",10),l.bIt("click",function(){return l.eBV(a),l.Njj(r.eyeDropperSupported&&r.cpEyeDropper&&r.onEyeDropper())}),l.DNE(8,oat,3,0,"svg",11),l.k0s(),l.DNE(9,sat,2,5,"button",12),l.k0s(),l.j41(10,"div",13),l.DNE(11,lat,1,0,"div",14),l.j41(12,"div",15,1),l.bIt("newValue",function(s){return l.eBV(a),l.Njj(r.onHueChange(s))})("dragStart",function(){return l.eBV(a),l.Njj(r.onDragStart("hue"))})("dragEnd",function(){return l.eBV(a),l.Njj(r.onDragEnd("hue"))}),l.nrm(14,"div",16),l.k0s(),l.j41(15,"div",17,2),l.bIt("newValue",function(s){return l.eBV(a),l.Njj(r.onValueChange(s))})("dragStart",function(){return l.eBV(a),l.Njj(r.onDragStart("value"))})("dragEnd",function(){return l.eBV(a),l.Njj(r.onDragEnd("value"))}),l.nrm(17,"div",16),l.k0s(),l.j41(18,"div",18,3),l.bIt("newValue",function(s){return l.eBV(a),l.Njj(r.onAlphaChange(s))})("dragStart",function(){return l.eBV(a),l.Njj(r.onDragStart("alpha"))})("dragEnd",function(){return l.eBV(a),l.Njj(r.onDragEnd("alpha"))}),l.nrm(20,"div",16),l.k0s()()(),l.DNE(21,hat,17,12,"div",19)(22,dat,14,10,"div",20)(23,mat,14,10,"div",21)(24,bat,8,7,"div",22)(25,Sat,9,3,"div",23)(26,xat,3,0,"div",24)(27,Mat,6,3,"div",25)(28,kat,3,2,"div",26)(29,Rat,2,1,"div",27),l.k0s()}2&i&&(l.xc7("display",r.show?"block":"none")("visibility",r.hidden?"hidden":"visible")("top",r.top,"px")("left",r.left,"px")("position",r.position)("height",r.cpHeight,"px")("width",r.cpWidth,"px"),l.AVh("open",r.show),l.R7$(2),l.Y8G("ngIf","popup"===r.cpDialogDisplay),l.R7$(),l.Y8G("ngIf",1===(r.cpColorMode||1)),l.R7$(4),l.xc7("background-color",r.selectedColor)("cursor",r.eyeDropperSupported&&r.cpEyeDropper?"pointer":null),l.R7$(),l.Y8G("ngIf",r.eyeDropperSupported&&r.cpEyeDropper),l.R7$(),l.Y8G("ngIf",r.cpAddColorButton),l.R7$(2),l.Y8G("ngIf","disabled"===r.cpAlphaChannel),l.R7$(),l.xc7("display",1===(r.cpColorMode||1)?"block":"none"),l.Y8G("rgX",1),l.R7$(2),l.xc7("left",null==r.slider?null:r.slider.h,"px"),l.R7$(),l.xc7("display",2===(r.cpColorMode||1)?"block":"none"),l.Y8G("rgX",1),l.R7$(2),l.xc7("right",null==r.slider?null:r.slider.v,"px"),l.R7$(),l.xc7("display","disabled"===r.cpAlphaChannel?"none":"block")("background-color",r.alphaSliderColor),l.Y8G("rgX",1),l.R7$(2),l.xc7("left",null==r.slider?null:r.slider.a,"px"),l.R7$(),l.Y8G("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),l.R7$(),l.Y8G("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),l.R7$(),l.Y8G("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),l.R7$(),l.Y8G("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),l.R7$(),l.Y8G("ngIf",!r.cpDisableInput&&2===(r.cpColorMode||1)),l.R7$(),l.Y8G("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),l.R7$(),l.Y8G("ngIf",(null==r.cpPresetColors?null:r.cpPresetColors.length)||r.cpAddColorButton),l.R7$(),l.Y8G("ngIf",r.cpOKButton||r.cpCancelButton),l.R7$(),l.Y8G("ngIf",r.cpExtraTemplate))},dependencies:[U.Sq,U.bT,U.T3,Eat,Lat],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2})}return n})(),xR=(()=>{class n{injector;cfr;appRef;vcRef;elRef;_service;dialog;dialogCreated=!1;ignoreChanges=!1;cmpRef;viewAttachedToAppRef=!1;colorPicker;cpWidth="230px";cpHeight="auto";cpToggle=!1;cpDisabled=!1;cpIgnoredElements=[];cpFallbackColor="";cpColorMode="color";cpCmykEnabled=!1;cpOutputFormat="auto";cpAlphaChannel="enabled";cpDisableInput=!1;cpDialogDisplay="popup";cpSaveClickOutside=!0;cpCloseClickOutside=!0;cpUseRootViewContainer=!1;cpPosition="auto";cpPositionOffset="0%";cpPositionRelativeToArrow=!1;cpOKButton=!1;cpOKButtonText="OK";cpOKButtonClass="cp-ok-button-class";cpCancelButton=!1;cpCancelButtonText="Cancel";cpCancelButtonClass="cp-cancel-button-class";cpEyeDropper=!1;cpPresetLabel="Preset colors";cpPresetColors;cpPresetColorsClass="cp-preset-colors-class";cpMaxPresetColorsLength=6;cpPresetEmptyMessage="No colors added";cpPresetEmptyMessageClass="preset-empty-message";cpAddColorButton=!1;cpAddColorButtonText="Add color";cpAddColorButtonClass="cp-add-color-button-class";cpRemoveColorButtonClass="cp-remove-color-button-class";cpArrowPosition=0;cpExtraTemplate;cpInputChange=new l.bkB(!0);cpToggleChange=new l.bkB(!0);cpSliderChange=new l.bkB(!0);cpSliderDragEnd=new l.bkB(!0);cpSliderDragStart=new l.bkB(!0);colorPickerOpen=new l.bkB(!0);colorPickerClose=new l.bkB(!0);colorPickerCancel=new l.bkB(!0);colorPickerSelect=new l.bkB(!0);colorPickerChange=new l.bkB(!1);cpCmykColorChange=new l.bkB(!0);cpPresetColorsChange=new l.bkB(!0);handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(t){this.inputChange(t)}constructor(t,i,r,a,o,s){this.injector=t,this.cfr=i,this.appRef=r,this.vcRef=a,this.elRef=o,this._service=s}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let t=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const a=this.injector.get(this.appRef.componentTypes[0],l.zZn.NULL);a!==l.zZn.NULL?t=a.vcRef||a.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const i=this.cfr.resolveComponentFactory(Bat);if(this.viewAttachedToAppRef)this.cmpRef=i.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const r=l.zZn.create({providers:[],parent:t.injector});this.cmpRef=t.createComponent(i,0,r,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(t){this.cpCmykColorChange.emit(t)}stateChanged(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(t,i=!0){this.ignoreChanges=i,this.colorPickerChange.emit(t)}colorSelected(t){this.colorPickerSelect.emit(t)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const t=this.elRef.nativeElement,i=this.cpIgnoredElements.filter(r=>r===t);!this.cpDisabled&&!i.length&&(typeof document<"u"&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(t){this.cpInputChange.emit(t)}sliderChanged(t){this.cpSliderChange.emit(t)}sliderDragEnd(t){this.cpSliderDragEnd.emit(t)}sliderDragStart(t){this.cpSliderDragStart.emit(t)}presetColorsChanged(t){this.cpPresetColorsChange.emit(t)}static \u0275fac=function(i){return new(i||n)(l.rXU(l.zZn),l.rXU(l.OM3),l.rXU(l.o8S),l.rXU(l.c1b),l.rXU(l.aKT),l.rXU(W_))};static \u0275dir=l.FsC({type:n,selectors:[["","colorPicker",""]],hostBindings:function(i,r){1&i&&l.bIt("click",function(){return r.handleClick()})("focus",function(){return r.handleFocus()})("input",function(o){return r.handleInput(o)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpArrowPosition:"cpArrowPosition",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[l.OA$]})}return n})(),zR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=l.$C({type:n});static \u0275inj=l.G2t({providers:[W_],imports:[U.MD]})}return n})();const Fat=["switchElement"];function Gat(n,e){1&n&&l.nrm(0,"span",8)}function Hat(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.JRh(t.nzCheckedChildren)}}function Xat(n,e){if(1&n&&(l.qex(0),l.DNE(1,Hat,2,1,"ng-container",9),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.Y8G("nzStringTemplateOutlet",t.nzCheckedChildren)}}function jat(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.JRh(t.nzUnCheckedChildren)}}function Yat(n,e){if(1&n&&l.DNE(0,jat,2,1,"ng-container",9),2&n){const t=l.XpG();l.Y8G("nzStringTemplateOutlet",t.nzUnCheckedChildren)}}let wR=(()=>{class n{updateValue(t){this.isChecked!==t&&(this.isChecked=t,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(t,i,r,a,o,s){this.nzConfigService=t,this.host=i,this.ngZone=r,this.cdr=a,this.focusMonitor=o,this.directionality=s,this._nzModuleName="switch",this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.nzId=null,this.dir="ltr",this.destroy$=new gt.B,this.isNzDisableFirstChange=!0}ngOnInit(){this.directionality.change.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,qt.R)(this.host.nativeElement,"click").pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,qt.R)(this.switchElement.nativeElement,"keydown").pipe((0,G.Q)(this.destroy$)).subscribe(t=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:i}=t;i!==Kt.UQ&&i!==Kt.LE&&i!==Kt.t6&&i!==Kt.Fm||(t.preventDefault(),this.ngZone.run(()=>{i===Kt.UQ?this.updateValue(!1):i===Kt.LE?this.updateValue(!0):(i===Kt.t6||i===Kt.Fm)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(t){this.isChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||t,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Pt.yx),l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(l.gRc),l.rXU(li.FN),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-switch"]],viewQuery:function(i,r){if(1&i&&l.GBs(Fat,7),2&i){let a;l.mGM(a=l.lsd())&&(r.switchElement=a.first)}},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],standalone:!0,features:[l.Jv_([{provide:Z.kq,useExisting:(0,l.Rfq)(()=>n),multi:!0}]),l.aNF],decls:9,vars:16,consts:[["switchElement",""],["uncheckTemplate",""],["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(i,r){if(1&i&&(l.j41(0,"button",2,0)(2,"span",3),l.DNE(3,Gat,1,0,"span",4),l.k0s(),l.j41(4,"span",5),l.DNE(5,Xat,2,1,"ng-container",6)(6,Yat,1,1,"ng-template",null,1,l.C5r),l.k0s(),l.nrm(8,"div",7),l.k0s()),2&i){const a=l.sdS(7);l.AVh("ant-switch-checked",r.isChecked)("ant-switch-loading",r.nzLoading)("ant-switch-disabled",r.nzDisabled)("ant-switch-small","small"===r.nzSize)("ant-switch-rtl","rtl"===r.dir),l.Y8G("disabled",r.nzDisabled)("nzWaveExtraNode",!0),l.BMQ("id",r.nzId),l.R7$(3),l.Y8G("ngIf",r.nzLoading),l.R7$(2),l.Y8G("ngIf",r.isChecked)("ngIfElse",a)}},dependencies:[nr.o7,nr.p,vt.Y3,vt.Dn,U.bT,Xt.C,Xt.m],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzLoading",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzControl",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzSize",void 0),n})(),Uat=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[wR]})}return n})();function $at(n,e){if(1&n){const t=l.RV6();l.j41(0,"input",8),l.bIt("change",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.inputChange(r))}),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("value",t.cell.getPropByPath(t.property.path)||"")}}function Zat(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-input-number",9),l.bIt("ngModelChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.change(r))}),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("ngModel",t.cell.getPropByPath(t.property.path))}}function qat(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-input-number",9),l.bIt("ngModelChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.change(r))}),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("ngModel",t.cell.getPropByPath(t.property.path))}}function Kat(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-switch",9),l.bIt("ngModelChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.change(r))}),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("ngModel",t.cell.getPropByPath(t.property.path))}}function Qat(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-input-group",10)(1,"input",11),l.bIt("change",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.inputChange(r))}),l.k0s()()}if(2&n){const t=l.XpG(),i=l.sdS(7);l.Y8G("nzSuffix",i),l.R7$(),l.Y8G("value",t.cell.getPropByPath(t.property.path)||"")}}function Jat(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",12)(1,"span",13),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.handleSelectImage())}),l.k0s()()}}function tot(n,e){if(1&n){const t=l.RV6();l.j41(0,"input",14),l.bIt("colorPickerChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.change(r))})("cpPresetColorsChange",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.setPresentColors(r))}),l.k0s()}if(2&n){const t=l.XpG(),i=l.sdS(10);l.xc7("color",t.cell.getPropByPath(t.property.path)),l.Y8G("value",t.cell.getPropByPath(t.property.path)||"none")("colorPicker",t.cell.getPropByPath(t.property.path))("cpEyeDropper",!0)("cpUseRootViewContainer",!0)("cpPresetColors",t.getPresentColors())("cpExtraTemplate",i)}}function eot(n,e){if(1&n){const t=l.RV6();l.j41(0,"a",15),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.clearColor())}),l.EFF(1,"\u6e05\u7a7a\u8f93\u5165\u6846"),l.k0s()}}function not(n,e){if(1&n&&(l.j41(0,"option",18),l.EFF(1),l.k0s()),2&n){const t=e.$implicit;l.Y8G("value",t.value),l.R7$(),l.JRh(t.name)}}function iot(n,e){if(1&n){const t=l.RV6();l.j41(0,"select",16),l.bIt("change",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.inputChange(r))}),l.DNE(1,not,2,2,"option",17),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("value",t.cell.getPropByPath(t.property.path)),l.R7$(),l.Y8G("ngForOf",t.property.options)}}let rot=(()=>{class n{constructor(t,i){this.ms=t,this.msg=i;const r=this;window.onload=()=>{window.top.onmessage=function({data:a}){r.msg.success("\u9009\u62e9\u6210\u529f!"),r.cell.setPropByPath("attrs/image/xlink:href",a)}}}inputChange(t){this.cell.setPropByPath(this.property.path,t.target.value)}change(t){this.cell.setPropByPath(this.property.path,t);let i=this.getPresentColors(),r=i.indexOf(t);r>-1&&i.splice(r,1),i.unshift(t),i.length>12&&(i.length=12),this.setPresentColors(i)}getPresentColors(){let t=localStorage.getItem("present-colors");if(t)try{return JSON.parse(t)}catch{}return[]}setPresentColors(t){localStorage.setItem("present-colors",JSON.stringify(t))}clearColor(){this.cell.setPropByPath(this.property.path,"none")}handleSelectImage(){this.ms.create({nzTitle:"\u9009\u62e9\u56fe\u7247",nzContent:tat,nzData:{},nzFooter:null})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(ir.N_),l.rXU(er.xh))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-property-input"]],inputs:{property:"property",cell:"cell"},decls:12,vars:8,consts:[["suffixIconSearch",""],["suffixIconClear",""],[3,"ngSwitch"],["nz-input","","nzSize","small","placeholder","\u7a7a",3,"value","change",4,"ngSwitchCase"],["nzSize","small",3,"ngModel","ngModelChange",4,"ngSwitchCase"],["nzSize","small","style","padding-right: 0;",3,"nzSuffix",4,"ngSwitchCase"],["nz-input","","nzSize","small","cpPresetLabel","\u5386\u53f2\u8bb0\u5f55",3,"value","color","colorPicker","cpEyeDropper","cpUseRootViewContainer","cpPresetColors","cpExtraTemplate","colorPickerChange","cpPresetColorsChange",4,"ngSwitchCase"],[3,"value","change",4,"ngSwitchCase"],["nz-input","","nzSize","small","placeholder","\u7a7a",3,"change","value"],["nzSize","small",3,"ngModelChange","ngModel"],["nzSize","small",2,"padding-right","0",3,"nzSuffix"],["type","text","nz-input","","placeholder","\u7a7a",3,"change","value"],["nz-button","","nzSize","small","nzType","primary","nzSearch",""],["nz-icon","","nzType","search",3,"click"],["nz-input","","nzSize","small","cpPresetLabel","\u5386\u53f2\u8bb0\u5f55",3,"colorPickerChange","cpPresetColorsChange","value","colorPicker","cpEyeDropper","cpUseRootViewContainer","cpPresetColors","cpExtraTemplate"],[3,"click"],[3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){1&i&&(l.qex(0,2),l.DNE(1,$at,1,1,"input",3)(2,Zat,1,1,"nz-input-number",4)(3,qat,1,1,"nz-input-number",4)(4,Kat,1,1,"nz-switch",4)(5,Qat,2,2,"nz-input-group",5)(6,Jat,2,0,"ng-template",null,0,l.C5r)(8,tot,1,8,"input",6)(9,eot,2,0,"ng-template",null,1,l.C5r)(11,iot,2,2,"select",7),l.bVm()),2&i&&(l.Y8G("ngSwitch",r.property.type),l.R7$(),l.Y8G("ngSwitchCase","text"),l.R7$(),l.Y8G("ngSwitchCase","number"),l.R7$(),l.Y8G("ngSwitchCase","stroke"),l.R7$(),l.Y8G("ngSwitchCase","boolean"),l.R7$(),l.Y8G("ngSwitchCase","image"),l.R7$(3),l.Y8G("ngSwitchCase","color"),l.R7$(3),l.Y8G("ngSwitchCase","select"))},dependencies:[U.Sq,U.ux,U.e1,Z.xH,Z.y7,Z.BC,Z.vS,vt.Dn,an.aO,Rn.c,nr.p,xR,qe.Sy,qe.tg,qe.vN,pl,wR]})}return n})();var il=tt(7529),Vn=tt(8927);function aot(n,e){if(1&n){const t=l.RV6();l.j41(0,"a",2),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.clearColor())}),l.EFF(1,"\u6e05\u7a7a\u8f93\u5165\u6846"),l.k0s()}}let TR=(()=>{class n{constructor(){this.onChanged=()=>{},this.onTouched=()=>{},this.colorChange=new l.bkB}ngOnInit(){}writeValue(t){this.color=t||""}registerOnChange(t){this.onChanged=t}registerOnTouched(t){this.onTouched=t}colorPickerChange(t){console.log("property change",t),this.color=t,this.onChanged(t);let i=this.getPresentColors(),r=i.indexOf(t);r>-1&&i.splice(r,1),i.unshift(t),i.length>12&&(i.length=12),this.setPresentColors(i)}getPresentColors(){let t=localStorage.getItem("bgc-colors");if(t)try{return JSON.parse(t)}catch{}return[]}setPresentColors(t){localStorage.setItem("bgc-colors",JSON.stringify(t))}clearColor(){this.color="",this.onChanged(this.color)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-color-input"]],outputs:{colorChange:"colorChange"},features:[l.Jv_([{provide:Z.kq,useExisting:(0,l.Rfq)(()=>n),multi:!0}])],decls:3,vars:7,consts:[["suffixIconClear",""],["cpPresetLabel","\u5386\u53f2\u8bb0\u5f55",3,"valueChange","colorPickerChange","cpPresetColorsChange","value","colorPicker","cpEyeDropper","cpPresetColors","cpExtraTemplate"],[3,"click"]],template:function(i,r){if(1&i){const a=l.RV6();l.j41(0,"input",1),l.mxI("valueChange",function(s){return l.eBV(a),l.DH7(r.color,s)||(r.color=s),l.Njj(s)}),l.bIt("colorPickerChange",function(s){return l.eBV(a),l.Njj(r.colorPickerChange(s))})("cpPresetColorsChange",function(s){return l.eBV(a),l.Njj(r.setPresentColors(s))}),l.k0s(),l.DNE(1,aot,2,0,"ng-template",null,0,l.C5r)}if(2&i){const a=l.sdS(2);l.xc7("color",r.color),l.R50("value",r.color),l.Y8G("colorPicker",r.color)("cpEyeDropper",!0)("cpPresetColors",r.getPresentColors())("cpExtraTemplate",a)}},dependencies:[xR]})}return n})(),oot=(()=>{class n{set row(t){t&&this.group.patchValue(t)}constructor(t){this.fb=t,this.build()}build(t){this.group=this.fb.group({name:[(t=t||{}).name||"",[Z.k0.required]],background_color:[t.background_color],background_image:[t.background_image]})}submit(){return new Promise((t,i)=>{this.group.valid?t(this.group.value):Object.values(this.group.controls).forEach(r=>{r.invalid&&(r.markAsDirty(),r.updateValueAndValidity({onlySelf:!0}),i())})})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Z.ok))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-page-setting"]],inputs:{row:"row"},decls:16,vars:13,consts:[["nz-form","",3,"formGroup"],["nzRequired","","nzFor","name",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u540d\u79f0!",3,"nzSm","nzXs"],["nz-input","","formControlName","name"],["nzFor","background_color",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],["formControlName","background_color"],["nzFor","background_image",3,"nzSm","nzXs"],["nz-input","","formControlName","background_image","placeholder","\u8f93\u5165\u56fe\u7247\u5730\u5740"]],template:function(i,r){1&i&&(l.j41(0,"form",0)(1,"nz-form-item")(2,"nz-form-label",1),l.EFF(3,"\u540d\u79f0"),l.k0s(),l.j41(4,"nz-form-control",2),l.nrm(5,"input",3),l.k0s()(),l.j41(6,"nz-form-item")(7,"nz-form-label",4),l.EFF(8,"\u80cc\u666f\u989c\u8272"),l.k0s(),l.j41(9,"nz-form-control",5),l.nrm(10,"app-color-input",6),l.k0s()(),l.j41(11,"nz-form-item")(12,"nz-form-label",7),l.EFF(13,"\u80cc\u666f\u56fe\u7247"),l.k0s(),l.j41(14,"nz-form-control",5),l.nrm(15,"input",8),l.k0s()()()),2&i&&(l.Y8G("formGroup",r.group),l.R7$(2),l.Y8G("nzSm",6)("nzXs",24),l.R7$(2),l.Y8G("nzSm",14)("nzXs",24),l.R7$(3),l.Y8G("nzSm",6)("nzXs",24),l.R7$(2),l.Y8G("nzSm",14)("nzXs",24),l.R7$(3),l.Y8G("nzSm",6)("nzXs",24),l.R7$(2),l.Y8G("nzSm",14)("nzXs",24))},dependencies:[Z.qT,Z.me,Z.BC,Z.cb,Z.j4,Z.JD,il.Uq,il.e,Vn.CA,Vn.Ls,Vn.Mo,Vn.zS,qe.Sy,TR]})}return n})();const sot=n=>({selected:n});function lot(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",1),l.bIt("click",function(){const r=l.eBV(t).index,a=l.XpG();return l.Njj(a.open(r))}),l.EFF(1),l.j41(2,"div",2),l.bIt("click",function(r){return l.eBV(t),l.Njj(r.stopPropagation())}),l.j41(3,"span",3),l.bIt("click",function(){const r=l.eBV(t).index,a=l.XpG();return l.Njj(a.handleCopy(r))}),l.k0s(),l.j41(4,"span",4),l.bIt("click",function(){const r=l.eBV(t).index,a=l.XpG();return l.Njj(a.handleEdit(r))}),l.k0s(),l.j41(5,"span",5),l.bIt("click",function(){const r=l.eBV(t).index,a=l.XpG();return l.Njj(a.handleDel(r))}),l.k0s()()()}if(2&n){const t=e.$implicit,i=e.index,r=l.XpG();l.Y8G("ngClass",l.eq3(2,sot,i==r.index)),l.R7$(),l.SpI(" ",t.name," ")}}let uot=(()=>{class n{constructor(t,i,r){this.modal=t,this.ms=i,this.viewContainerRef=r,this.onPageChange=new l.bkB,this.index=0}handleEdit(t){const i=void 0===t,r=this.modal.create({nzTitle:i?"\u65b0\u589e\u9875\u9762":"\u7f16\u8f91\u9875\u9762",nzContent:oot,nzData:{row:i?{name:"",content:{}}:this.project.pages[t]},nzViewContainerRef:this.viewContainerRef,nzFooter:[{label:"\u53d6\u6d88",onClick:()=>r.destroy()},{label:"\u4fdd\u5b58",type:"primary",onClick:a=>a?.submit().then(o=>{i?this.project.pages.push(o):this.project.pages[t]=o,this.onPageChange.emit(0),r.destroy()}).catch(o=>!1)}]})}handleDel(t){1!=this.project.pages.length?(this.project.pages.splice(t,1),this.index==t&&(t>=this.project.pages.length&&(this.index=t-1),this.onPageChange.emit(this.index))):this.ms.error("\u518d\u5220\u5c31\u6ca1\u6709\u4e86")}open(t){this.index=t,this.onPageChange.emit(t)}handleCopy(t){}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(ir.N_),l.rXU(er.xh),l.rXU(l.c1b))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-pages"]],inputs:{project:"project",graph:"graph"},outputs:{onPageChange:"onPageChange"},decls:1,vars:1,consts:[["class","page",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"page",3,"click","ngClass"],[1,"tools",3,"click"],["nz-icon","","nzType","copy","title","\u590d\u5236",3,"click"],["nz-icon","","nzType","edit","title","\u7f16\u8f91",3,"click"],["nz-icon","","nzType","delete","title","\u5220\u9664",3,"click"]],template:function(i,r){1&i&&l.DNE(0,lot,6,4,"div",0),2&i&&l.Y8G("ngForOf",r.project.pages)},dependencies:[U.YU,U.Sq,vt.Dn,Rn.c],styles:[".page[_ngcontent-%COMP%]{position:relative;padding:3px 5px}.page[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{position:absolute;right:5px;top:3px;display:none}.page.selected[_ngcontent-%COMP%]{background-color:#e1e1e1}.page[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.page[_ngcontent-%COMP%]:hover > .tools[_ngcontent-%COMP%]{display:block}"]})}return n})();function cot(n,e){if(1&n&&l.nrm(0,"nz-option",12),2&n){const t=l.XpG().$implicit;l.Y8G("nzValue",t.id)("nzLabel",t.name+"-"+t.id)}}function hot(n,e){if(1&n&&(l.qex(0),l.DNE(1,cot,1,2,"nz-option",11),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.Y8G("ngIf",!t.isLoading)}}function pot(n,e){1&n&&(l.j41(0,"nz-option",13),l.nrm(1,"span",14),l.EFF(2," Loading Data... "),l.k0s())}function fot(n,e){if(1&n&&l.nrm(0,"nz-option",15),2&n){const t=e.$implicit;l.Y8G("nzLabel",t.name)("nzValue",t.name)}}let dot=(()=>{class n{set content(t){const{product:i,device:r}=t;r?(this.onSearch(r),this.getVariableList(i)):this.onSearch(""),this.group.patchValue(t)}constructor(t,i){this.fb=t,this.rs=i,this.isLoading=!1,this.optionList=[],this.variableList=[],this.build()}build(t){this.group=this.fb.group({product:[(t=t||{}).product||"",[Z.k0.required]],device:[t.device||"",[Z.k0.required]],variable:[t.variable||"",[Z.k0.required]]})}onSearch(t){this.isLoading=!0,this.rs.post("/api/device/search",{keyword:{name:t,id:t},limit:20,skip:0}).subscribe(i=>{this.optionList=i.data||[]}).add(()=>{this.isLoading=!1})}handleChange(t){this.variableList=[];const i=this.optionList.find(r=>r.id===t)||{product_id:""};this.group.patchValue({product:i.product_id,variable:""}),this.getVariableList(i.product_id)}getVariableList(t){t&&this.rs.get(`/api/product/${t}`).subscribe(i=>{this.variableList=i&&i.data&&i.data.properties||[]})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Z.ok),l.rXU(sl.By))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-binding-setting"]],inputs:{content:"content"},decls:19,vars:16,consts:[["nz-form","",3,"formGroup"],["nzRequired","","nzFor","device",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],["nzAllowClear","","nzShowSearch","","nzServerSearch","","formControlName","device","nzPlaceHolder","\u8f93\u5165\u8bbe\u5907\u540d\u79f0/id\u53ef\u641c\u7d22",3,"nzOnSearch","ngModelChange"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nzRequired","","nzFor","product",3,"nzSm","nzXs"],["nz-input","","formControlName","product","readonly",""],["nzRequired","","nzFor","variable",3,"nzSm","nzXs"],["nzShowSearch","","nzAllowClear","","formControlName","variable"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel",4,"ngIf"],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],[3,"nzLabel","nzValue"]],template:function(i,r){1&i&&(l.j41(0,"form",0)(1,"nz-form-item")(2,"nz-form-label",1),l.EFF(3,"\u8bbe\u5907ID"),l.k0s(),l.j41(4,"nz-form-control",2)(5,"nz-select",3),l.bIt("nzOnSearch",function(o){return r.onSearch(o)})("ngModelChange",function(o){return r.handleChange(o)}),l.DNE(6,hot,2,1,"ng-container",4)(7,pot,3,0,"nz-option",5),l.k0s()()(),l.j41(8,"nz-form-item")(9,"nz-form-label",6),l.EFF(10,"\u4ea7\u54c1ID"),l.k0s(),l.j41(11,"nz-form-control",2),l.nrm(12,"input",7),l.k0s()(),l.j41(13,"nz-form-item")(14,"nz-form-label",8),l.EFF(15,"\u53d8\u91cf"),l.k0s(),l.j41(16,"nz-form-control",2)(17,"nz-select",9),l.DNE(18,fot,1,2,"nz-option",10),l.k0s()()()()),2&i&&(l.Y8G("formGroup",r.group),l.R7$(2),l.Y8G("nzSm",6)("nzXs",24),l.R7$(2),l.Y8G("nzSm",14)("nzXs",24),l.R7$(2),l.Y8G("ngForOf",r.optionList),l.R7$(),l.Y8G("ngIf",r.isLoading),l.R7$(2),l.Y8G("nzSm",6)("nzXs",24),l.R7$(2),l.Y8G("nzSm",14)("nzXs",24),l.R7$(3),l.Y8G("nzSm",6)("nzXs",24),l.R7$(2),l.Y8G("nzSm",14)("nzXs",24),l.R7$(2),l.Y8G("ngForOf",r.variableList))},dependencies:[U.Sq,U.bT,Z.qT,Z.me,Z.BC,Z.cb,Z.j4,Z.JD,vt.Dn,Rn.c,il.Uq,il.e,Vn.CA,Vn.Ls,Vn.Mo,Vn.zS,qe.Sy,Oc,Lc]})}return n})();function vot(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",1),l.bIt("click",function(){const r=l.eBV(t).$implicit,a=l.XpG();return l.Njj(a.edit(r))}),l.EFF(1),l.nI1(2,"json"),l.k0s()}if(2&n){const t=e.$implicit,i=l.XpG();l.R7$(),l.Lme(" ",t.label," : ",l.bMT(2,2,null==i.cell.data||null==i.cell.data.bindings?null:i.cell.data.bindings[t.name]),"\n")}}let got=(()=>{class n{constructor(t){this.ms=t}edit(t){this.cell.data.bindings||={},this.ms.create({nzTitle:`\u7f16\u8f91 ${t.label} \u6570\u636e\u7ed1\u5b9a`,nzContent:dot,nzData:{content:this.cell.data.bindings[t.name]||{}},nzOnOk:({group:i})=>{this.cell.data.bindings[t.name]=i.value}})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(ir.N_))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-binding"]],inputs:{cell:"cell",component:"component"},decls:1,vars:1,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,r){1&i&&l.DNE(0,vot,3,4,"div",0),2&i&&l.Y8G("ngForOf",null==r.component?null:r.component.bindings)},dependencies:[U.Sq,U.TG]})}return n})();var mot=tt(467);const yot=["ref"];function DR(n){return n&&n.replace(/\r\n|\r/g,"\n")}let _ot=(()=>{class n{constructor(t,i){this._differs=t,this._ngZone=i,this.className="",this.name="codemirror",this.autoFocus=!1,this.preserveScrollPosition=!1,this.cursorActivity=new l.bkB,this.focusChange=new l.bkB,this.scroll=new l.bkB,this.drop=new l.bkB,this.codeMirrorLoaded=new l.bkB,this.value="",this.disabled=!1,this.isFocused=!1,this.onChange=r=>{},this.onTouched=()=>{}}set options(t){this._options=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}get codeMirrorGlobal(){return this._codeMirror||(this._codeMirror=typeof CodeMirror<"u"?CodeMirror:Promise.resolve().then(tt.t.bind(tt,1382,19))),this._codeMirror}ngAfterViewInit(){var t=this;this._ngZone.runOutsideAngular((0,mot.A)(function*(){const i=yield t.codeMirrorGlobal;t.codeMirror=(i?.default?i.default:i).fromTextArea(t.ref.nativeElement,t._options),t.codeMirror.on("cursorActivity",a=>t._ngZone.run(()=>t.cursorActive(a))),t.codeMirror.on("scroll",t.scrollChanged.bind(t)),t.codeMirror.on("blur",()=>t._ngZone.run(()=>t.focusChanged(!1))),t.codeMirror.on("focus",()=>t._ngZone.run(()=>t.focusChanged(!0))),t.codeMirror.on("change",(a,o)=>t._ngZone.run(()=>t.codemirrorValueChanged(a,o))),t.codeMirror.on("drop",(a,o)=>{t._ngZone.run(()=>t.dropFiles(a,o))}),t.codeMirror.setValue(t.value),t.codeMirrorLoaded.emit(t)}))}ngDoCheck(){if(!this._differ)return;const t=this._differ.diff(this._options);t&&(t.forEachChangedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)),t.forEachAddedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)),t.forEachRemovedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(t,i){const r=t.getValue();this.value!==r&&(this.value=r,this.onChange(this.value))}setOptionIfChanged(t,i){this.codeMirror&&this.codeMirror.setOption(t,i)}focusChanged(t){this.onTouched(),this.isFocused=t,this.focusChange.emit(t)}scrollChanged(t){this.scroll.emit(t.getScrollInfo())}cursorActive(t){this.cursorActivity.emit(t)}dropFiles(t,i){this.drop.emit([t,i])}writeValue(t){if(null==t)return;if(!this.codeMirror)return void(this.value=t);const i=this.codeMirror.getValue();if(t!==i&&DR(i)!==DR(t))if(this.value=t,this.preserveScrollPosition){const r=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(r.left,r.top)}else this.codeMirror.setValue(this.value)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this.setOptionIfChanged("readOnly",this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.rXU(l.MKu),l.rXU(l.SKi))},n.\u0275cmp=l.VBU({type:n,selectors:[["ngx-codemirror"]],viewQuery:function(t,i){if(1&t&&l.GBs(yot,5),2&t){let r;l.mGM(r=l.lsd())&&(i.ref=r.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus",options:"options",preserveScrollPosition:"preserveScrollPosition"},outputs:{cursorActivity:"cursorActivity",focusChange:"focusChange",scroll:"scroll",drop:"drop",codeMirrorLoaded:"codeMirrorLoaded"},features:[l.Jv_([{provide:Z.kq,useExisting:(0,l.Rfq)(()=>n),multi:!0}])],decls:3,vars:7,consts:[["ref",""],["autocomplete","off",3,"name","autofocus"]],template:function(t,i){1&t&&(l.j41(0,"textarea",1,0),l.EFF(2,"    "),l.k0s()),2&t&&(l.ZvI("ngx-codemirror ",i.className,""),l.AVh("ngx-codemirror--focused",i.isFocused),l.Y8G("name",i.name)("autofocus",i.autoFocus))},encapsulation:2,changeDetection:0}),n})(),bot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.$C({type:n}),n.\u0275inj=l.G2t({}),n})(),Cot=(()=>{class n{constructor(){this.content="",this.codeMirrorOptions={theme:"material",mode:"javascript",lineWrapping:!0,foldGutter:!0,autoCloseBrackets:!0,autoFocus:!0,matchBrackets:!0,lint:!0}}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-listener-setting"]],inputs:{content:"content"},decls:1,vars:2,consts:[[3,"ngModelChange","ngModel","options"]],template:function(i,r){1&i&&(l.j41(0,"ngx-codemirror",0),l.mxI("ngModelChange",function(o){return l.DH7(r.content,o)||(r.content=o),o}),l.k0s()),2&i&&(l.R50("ngModel",r.content),l.Y8G("options",r.codeMirrorOptions))},dependencies:[Z.BC,Z.vS,_ot],styles:[".CodeMirror-sizer{margin-left:0}  .CodeMirror-sizer .CodeMirror-gutters{visibility:hidden}"]})}return n})();function Sot(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",0),l.bIt("click",function(){const r=l.eBV(t).$implicit,a=l.XpG();return l.Njj(a.edit(r))}),l.EFF(1),l.k0s()}if(2&n){const t=e.$implicit,i=l.XpG();l.R7$(),l.Lme(" ",t.label," : ",null==i.cell.data||null==i.cell.data.listeners?null:i.cell.data.listeners[t.name],"\n")}}let xot=(()=>{class n{constructor(t){this.ms=t,this.click={label:"\u70b9\u51fb",name:"click"}}edit(t){this.cell.data.listeners||={},this.ms.create({nzTitle:`\u7f16\u8f91${t.label}\u4e8b\u4ef6\u811a\u672c`,nzContent:Cot,nzData:{content:this.cell.data.listeners[t.name]||""},nzOnOk:({content:i})=>{this.cell.data.listeners=Object.assign(this.cell.data.listeners||{},{[t.name]:i})}})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(ir.N_))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-listener"]],inputs:{cell:"cell",component:"component"},decls:3,vars:2,consts:[[3,"click"],[3,"click",4,"ngFor","ngForOf"]],template:function(i,r){1&i&&(l.j41(0,"div",0),l.bIt("click",function(){return r.edit(r.click)}),l.EFF(1),l.k0s(),l.DNE(2,Sot,2,2,"div",1)),2&i&&(l.R7$(),l.SpI(" \u70b9\u51fb : ",null==r.cell.data||null==r.cell.data.listeners?null:r.cell.data.listeners.click,"\n"),l.R7$(),l.Y8G("ngForOf",null==r.component?null:r.component.events))},dependencies:[U.Sq]})}return n})(),zot=(()=>{class n{constructor(t){this.fb=t,this.echartsInstance=null,console.log(this.echartsInstance);const i=setInterval(()=>{this.echartsInstance&&clearInterval(i)},1e3);this.optionsForm=this.fb.group({title:this.fb.group({show:!0,text:[""],textStyle:this.fb.group({color:["#000"],fontSize:[12]})})})}onSizeChange(t){this.echartsInstance?.setOption(this.optionsForm.value)}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Z.ok))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-chart-form"]],inputs:{echartsInstance:"echartsInstance"},decls:17,vars:1,consts:[[3,"change","formGroup"],["formGroupName","title"],["nz-input","","nzSize","small","formControlName","text"],["formGroupName","textStyle"],["formControlName","color"],["nz-input","","nzSize","small","type","number","formControlName","fontSize"]],template:function(i,r){1&i&&(l.j41(0,"form",0),l.bIt("change",function(o){return r.onSizeChange(o)}),l.j41(1,"table",1)(2,"tr")(3,"td"),l.EFF(4,"\u6807\u9898"),l.k0s(),l.j41(5,"td"),l.nrm(6,"input",2),l.k0s()(),l.j41(7,"tr",3)(8,"td"),l.EFF(9,"\u6807\u9898\u989c\u8272"),l.k0s(),l.j41(10,"td"),l.nrm(11,"app-color-input",4),l.k0s()(),l.j41(12,"tr",3)(13,"td"),l.EFF(14,"\u6807\u9898\u5b57\u53f7"),l.k0s(),l.j41(15,"td"),l.nrm(16,"input",5),l.k0s()()()()),2&i&&l.Y8G("formGroup",r.optionsForm)},dependencies:[Z.qT,Z.me,Z.Q0,Z.BC,Z.cb,Z.j4,Z.JD,Z.$R,qe.Sy,TR,vd,Bc],styles:["[_nghost-%COMP%]{width:100%}"]})}return n})();function wot(n,e){if(1&n){const t=l.RV6();l.j41(0,"form",11),l.bIt("change",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onPositionChange(r))}),l.j41(1,"table")(2,"tr")(3,"td"),l.EFF(4,"X"),l.k0s(),l.j41(5,"td"),l.nrm(6,"input",12),l.k0s()(),l.j41(7,"tr")(8,"td"),l.EFF(9,"Y"),l.k0s(),l.j41(10,"td"),l.nrm(11,"input",13),l.k0s()()()()}if(2&n){const t=l.XpG(2);l.Y8G("formGroup",t.formPosition)}}function Tot(n,e){if(1&n){const t=l.RV6();l.j41(0,"form",11),l.bIt("change",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onSizeChange(r))}),l.j41(1,"table")(2,"tr")(3,"td"),l.EFF(4,"\u5bbd\u5ea6"),l.k0s(),l.j41(5,"td"),l.nrm(6,"input",14),l.k0s()(),l.j41(7,"tr")(8,"td"),l.EFF(9,"\u9ad8\u5ea6"),l.k0s(),l.j41(10,"td"),l.nrm(11,"input",15),l.k0s()()()()}if(2&n){const t=l.XpG(2);l.Y8G("formGroup",t.formSize)}}function Dot(n,e){if(1&n){const t=l.RV6();l.j41(0,"form",11),l.bIt("change",function(r){l.eBV(t);const a=l.XpG(2);return l.Njj(a.onLinePositionChange(r))}),l.j41(1,"table")(2,"tr",16)(3,"td"),l.EFF(4,"\u8d77\u70b9"),l.k0s(),l.j41(5,"td"),l.EFF(6,"X:"),l.nrm(7,"input",17),l.k0s(),l.j41(8,"td"),l.EFF(9,"Y:"),l.nrm(10,"input",18),l.k0s()(),l.j41(11,"tr",19)(12,"td"),l.EFF(13,"\u7ec8\u70b9"),l.k0s(),l.j41(14,"td"),l.EFF(15,"X:"),l.nrm(16,"input",17),l.k0s(),l.j41(17,"td"),l.EFF(18,"Y:"),l.nrm(19,"input",18),l.k0s()()()()}if(2&n){const t=l.XpG(2);l.Y8G("formGroup",t.formLinePosition)}}function Mot(n,e){if(1&n&&l.nrm(0,"app-chart-form",20),2&n){const t=l.XpG(2);l.Y8G("echartsInstance",t.echartsInstance)}}function Iot(n,e){if(1&n&&(l.j41(0,"tr")(1,"td"),l.EFF(2),l.k0s(),l.j41(3,"td"),l.nrm(4,"app-property-input",21),l.k0s()()),2&n){const t=e.$implicit,i=l.XpG(2);l.R7$(2),l.SpI(" ",t.name," "),l.R7$(2),l.Y8G("property",t)("cell",i.cell)}}function Aot(n,e){if(1&n&&(l.j41(0,"app-collapse",7),l.DNE(1,wot,12,1,"form",8)(2,Tot,12,1,"form",8)(3,Dot,20,1,"form",8)(4,Mot,1,1,"app-chart-form",9),l.j41(5,"table"),l.DNE(6,Iot,5,3,"tr",10),l.k0s()()),2&n){const t=l.XpG();l.R7$(),l.Y8G("ngIf",t.cell.isNode()),l.R7$(),l.Y8G("ngIf",t.cell.isNode()),l.R7$(),l.Y8G("ngIf",t.cell.isEdge()),l.R7$(),l.Y8G("ngIf",t.cell.shape.startsWith("chart-")),l.R7$(2),l.Y8G("ngForOf",t.cmp.properties)}}function kot(n,e){if(1&n&&(l.j41(0,"app-collapse",22),l.nrm(1,"app-binding",23),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("cell",t.cell)("component",t.cmp)}}function Pot(n,e){if(1&n&&(l.j41(0,"app-collapse",24),l.nrm(1,"app-listener",23),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("cell",t.cell)("component",t.cmp)}}let Rot=(()=>{class n{get graph(){return this.g}set graph(t){this.g=t,t.on("cell:change:size",i=>{i.cell==this.cell&&(this.formSize.patchValue(i.current),this.isChart(this.cell.shape)&&this.resizeChart(this.cell))}),t.on("cell:change:position",i=>{i.cell==this.cell&&this.formPosition.patchValue(i.current)}),t.on("cell:unselected",({cell:i})=>{i==this.cell&&(this.cmp=void 0,this.echartsInstance=null)}),t.on("selection:changed",({selected:i})=>{if(this.selected=i,1===t.getSelectedCellCount()){if(this.cell=t.getSelectedCells()[0],this.cell.isNode()){const r=this.cell.getPosition();this.formPosition.patchValue(r);const a=this.cell.getSize();this.formSize.patchValue(a)}else if(this.cell.isEdge()){const r=this.cell.getProp("source"),a=this.cell.getProp("target");this.formLinePosition.patchValue({source:r,target:a})}this.isChart(this.cell.shape)&&(this.echartsInstance=this.cell.data.echartsInstance),this.cmp=this.cs.Get(this.cell.shape)}})}constructor(t,i){this.fb=t,this.cs=i,this.onPageChange=new l.bkB,this.selected=[],this.echartsInstance=null,this.formPosition=t.group({x:[0,[Z.k0.required]],y:[0,[Z.k0.required]]}),this.formSize=t.group({width:[0,[Z.k0.required]],height:[0,[Z.k0.required]]}),this.formLinePosition=t.group({source:t.group({x:[0,[Z.k0.required]],y:[0,[Z.k0.required]]}),target:t.group({x:[0,[Z.k0.required]],y:[0,[Z.k0.required]]})})}onPositionChange(t){this.cell.isNode()&&this.cell.setPosition(this.formPosition.value)}onSizeChange(t){this.cell.isNode()&&this.cell.setSize(this.formSize.value),this.isChart(this.cell.shape)&&this.resizeChart(this.cell)}onLinePositionChange(t){this.cell.setProp(this.formLinePosition.value)}isChart(t){return/^chart-/.test(t)}resizeChart(t){const{echartsInstance:i}=t.data;i.resize(this.formSize.value)}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Z.ok),l.rXU(Fn.b))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-property"]],inputs:{project:"project",graph:"graph"},outputs:{onPageChange:"onPageChange"},decls:7,vars:5,consts:[["pages",""],["title","\u9875\u9762\u7ba1\u7406"],["more","","nz-icon","","nzType","plus","nzTheme","outline","title","\u6dfb\u52a0\u9875\u9762",3,"click"],[3,"onPageChange","graph","project"],["title","\u63a7\u4ef6\u5c5e\u6027",4,"ngIf"],["title","\u6570\u636e\u7ed1\u5b9a",4,"ngIf"],["title","\u4e8b\u4ef6\u54cd\u5e94",4,"ngIf"],["title","\u63a7\u4ef6\u5c5e\u6027"],[3,"formGroup","change",4,"ngIf"],[3,"echartsInstance",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"change","formGroup"],["nz-input","","nzSize","small","type","number","formControlName","x"],["nz-input","","nzSize","small","type","number","formControlName","y"],["nz-input","","nzSize","small","type","number","formControlName","width"],["nz-input","","nzSize","small","type","number","formControlName","height"],["formGroupName","source"],["nz-input","","nzSize","small","type","number","formControlName","x",2,"width","60px"],["nz-input","","nzSize","small","type","number","formControlName","y",2,"width","60px"],["formGroupName","target"],[3,"echartsInstance"],[3,"property","cell"],["title","\u6570\u636e\u7ed1\u5b9a"],[3,"cell","component"],["title","\u4e8b\u4ef6\u54cd\u5e94"]],template:function(i,r){if(1&i){const a=l.RV6();l.j41(0,"app-collapse",1)(1,"span",2),l.bIt("click",function(s){return l.eBV(a),l.sdS(3).handleEdit(),l.Njj(s.stopPropagation())}),l.k0s(),l.j41(2,"app-pages",3,0),l.bIt("onPageChange",function(s){return l.eBV(a),l.Njj(r.onPageChange.emit(s))}),l.k0s()(),l.DNE(4,Aot,7,5,"app-collapse",4)(5,kot,2,2,"app-collapse",5)(6,Pot,2,2,"app-collapse",6)}2&i&&(l.R7$(2),l.Y8G("graph",r.graph)("project",r.project),l.R7$(2),l.Y8G("ngIf",r.selected.length&&r.cmp),l.R7$(),l.Y8G("ngIf",1==r.selected.length&&(null==r.cmp||null==r.cmp.bindings?null:r.cmp.bindings.length)),l.R7$(),l.Y8G("ngIf",1==r.selected.length&&r.cmp))},dependencies:[U.Sq,U.bT,Z.qT,Z.me,Z.Q0,Z.BC,Z.cb,Z.j4,Z.JD,Z.$R,vt.Dn,Rn.c,qe.Sy,vd,Bc,rot,bc,uot,got,xot,zot],styles:["[_nghost-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden;border-left:1px solid #a8a8a8;-webkit-user-select:none;user-select:none}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{min-width:80px}"]})}return n})(),Not=(()=>{class n{set project(t){t&&this.group.patchValue(t)}constructor(t){this.fb=t,this.build()}build(t){this.group=this.fb.group({id:[(t=t||{}).id||"",[Z.k0.required]],name:[t.name||"",[Z.k0.required]],desc:[t.desc||"",[]],width:[t.width||400,[Z.k0.required]],height:[t.height||400,[Z.k0.required]]})}setData(t){const i=this.group.value;for(const r in i)i[r]=t[r];this.group.setValue(i)}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Z.ok))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-project-setting"]],inputs:{project:"project"},decls:26,vars:11,consts:[["nz-form","",3,"formGroup"],["nzRequired","","nzFor","id",3,"nzSpan"],["nzErrorTip","ID\u4e0d\u53ef\u4e3a\u7a7a!",3,"nzSpan"],["nz-input","","name","id","formControlName","id"],["nzRequired","","nzFor","name",3,"nzSpan"],["nzErrorTip","\u540d\u79f0\u4e0d\u53ef\u4e3a\u7a7a!",3,"nzSpan"],["nz-input","","name","name","formControlName","name"],["nzFor","width",3,"nzSpan"],[3,"nzSpan"],["formControlName","width"],["nzFor","height",3,"nzSpan"],["formControlName","height"],["nzFor","desc",3,"nzSpan"],["nz-input","","name","desc","formControlName","desc"]],template:function(i,r){1&i&&(l.j41(0,"form",0)(1,"nz-form-item")(2,"nz-form-label",1),l.EFF(3,"ID"),l.k0s(),l.j41(4,"nz-form-control",2),l.nrm(5,"input",3),l.k0s()(),l.j41(6,"nz-form-item")(7,"nz-form-label",4),l.EFF(8,"\u540d\u79f0"),l.k0s(),l.j41(9,"nz-form-control",5),l.nrm(10,"input",6),l.k0s()(),l.j41(11,"nz-form-item")(12,"nz-form-label",7),l.EFF(13,"\u5bbd\u5ea6"),l.k0s(),l.j41(14,"nz-form-control",8),l.nrm(15,"nz-input-number",9),l.k0s()(),l.j41(16,"nz-form-item")(17,"nz-form-label",10),l.EFF(18,"\u9ad8\u5ea6"),l.k0s(),l.j41(19,"nz-form-control",8),l.nrm(20,"nz-input-number",11),l.k0s()(),l.j41(21,"nz-form-item")(22,"nz-form-label",12),l.EFF(23,"\u8bf4\u660e"),l.k0s(),l.j41(24,"nz-form-control",8),l.nrm(25,"input",13),l.k0s()()()),2&i&&(l.Y8G("formGroup",r.group),l.R7$(2),l.Y8G("nzSpan",5),l.R7$(2),l.Y8G("nzSpan",16),l.R7$(3),l.Y8G("nzSpan",5),l.R7$(2),l.Y8G("nzSpan",16),l.R7$(3),l.Y8G("nzSpan",5),l.R7$(2),l.Y8G("nzSpan",16),l.R7$(3),l.Y8G("nzSpan",5),l.R7$(2),l.Y8G("nzSpan",16),l.R7$(3),l.Y8G("nzSpan",5),l.R7$(2),l.Y8G("nzSpan",16))},dependencies:[Z.qT,Z.me,Z.BC,Z.cb,Z.j4,Z.JD,il.Uq,il.e,Vn.CA,Vn.Ls,Vn.Mo,Vn.zS,qe.Sy,pl]})}return n})();function Oot(n,e){if(1&n&&(l.j41(0,"p")(1,"a",1),l.EFF(2),l.k0s(),l.EFF(3),l.k0s()),2&n){const t=e.$implicit;l.R7$(),l.Y8G("href",t.url,l.B4B),l.R7$(),l.JRh(t.name),l.R7$(),l.SpI(" ",t.email,"\n")}}let Eot=(()=>{class n{constructor(){this.contributors=[{name:"\u6770\u795e",url:"https://github.com/zgwit",email:"jason@zgwit.com"},{name:"EnTrouble",url:"https://github.com/EnTrouble",email:"hutianqi@zgwit.cn"}]}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-about"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],["target","_blank",3,"href"]],template:function(i,r){1&i&&(l.j41(0,"p"),l.EFF(1,"\u7269\u8054\u5927\u5e08 Web SCADA \u63d2\u4ef6\uff0c\u8d21\u732e\u8005\uff1a"),l.k0s(),l.DNE(2,Oot,4,3,"p",0)),2&i&&(l.R7$(2),l.Y8G("ngForOf",r.contributors))},dependencies:[U.Sq]})}return n})();function Lot(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.JRh(t.nzText)}}function Bot(n,e){if(1&n&&(l.j41(0,"span",0),l.DNE(1,Lot,2,1,"ng-container",1),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("nzStringTemplateOutlet",t.nzText)}}let MR=(()=>{class n{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(i,r){2&i&&l.AVh("ant-divider-horizontal","horizontal"===r.nzType)("ant-divider-vertical","vertical"===r.nzType)("ant-divider-with-text",r.nzText)("ant-divider-plain",r.nzPlain)("ant-divider-with-text-left",r.nzText&&"left"===r.nzOrientation)("ant-divider-with-text-right",r.nzText&&"right"===r.nzOrientation)("ant-divider-with-text-center",r.nzText&&"center"===r.nzOrientation)("ant-divider-dashed",r.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain"},exportAs:["nzDivider"],standalone:!0,features:[l.aNF],decls:1,vars:1,consts:[[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(i,r){1&i&&l.DNE(0,Bot,2,1,"span",0),2&i&&l.vxM(0,r.nzText?0:-1)},dependencies:[Xt.C,Xt.m],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDashed",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzPlain",void 0),n})(),Vot=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[MR]})}return n})();const Fot=()=>({standalone:!0});let Got=(()=>{class n{constructor(t,i,r,a){this.cs=t,this.modal=i,this.msg=r,this.viewContainerRef=a,this.onSave=new l.bkB,this.scale=1,this.scaleChange=new l.bkB,this.showGrid=JSON.parse(localStorage.getItem("show_grid")||"true")}handleSave(){this.onSave.emit()}handleExport(t){switch(console.log(this.graph),t){case"SVG":this.graph.exportSVG();break;case"PNG":this.graph.exportPNG();break;case"JPEG":this.graph.exportJPEG();break;case"file":this.savefiles(this.graph.toJSON(),Date.now()+"")}}handleUndo(){this.graph.undo()}handleRedo(){this.graph.redo()}handleCut(){this.graph.getSelectedCells().forEach(t=>t.removeTools()),this.graph.cut(this.graph.getSelectedCells(),{deep:!0})}handleCopy(){this.graph.getSelectedCells().forEach(t=>t.removeTools()),this.graph.copy(this.graph.getSelectedCells(),{deep:!0})}handlePaste(){this.graph.paste()}handleDelete(){this.graph.getSelectedCells().forEach(t=>t.remove())}handleAlignLeft(){let t;this.graph.getSelectedCells().forEach(i=>{if(!i.isNode())return;let r=i,a=r.position();void 0===t?t=a.x:(a.x=t,r.setPosition(a))})}handleAlignCenter(){let t;this.graph.getSelectedCells().forEach(i=>{if(!i.isNode())return;let r=i,a=r.position(),o=r.size();void 0===t?t=a.x+.5*o.width:(a.x=t-.5*o.width,r.setPosition(a))})}handleAlignRight(){let t;this.graph.getSelectedCells().forEach(i=>{if(!i.isNode())return;let r=i,a=r.position(),o=r.size();void 0===t?t=a.x+o.width:(a.x=t-o.width,r.setPosition(a))})}handleValignTop(){let t;this.graph.getSelectedCells().forEach(i=>{if(!i.isNode())return;let r=i,a=r.position();void 0===t?t=a.y:(a.y=t,r.setPosition(a))})}handleValignMiddle(){let t;this.graph.getSelectedCells().forEach(i=>{if(!i.isNode())return;let r=i,a=r.position(),o=r.size();void 0===t?t=a.y+.5*o.height:(a.y=t-.5*o.height,r.setPosition(a))})}handleValignBottom(){let t;this.graph.getSelectedCells().forEach(i=>{if(!i.isNode())return;let r=i,a=r.position(),o=r.size();void 0===t?t=a.y+o.height:(a.y=t-o.height,r.setPosition(a))})}handleMoveTop(){this.graph.getSelectedCells().forEach(t=>{t.toFront()})}handleMoveUp(){const t=this.graph.getSelectedCells()[0];t.setZIndex(Number(t.getZIndex()||0)+1)}handleMoveDown(){const t=this.graph.getSelectedCells()[0];t.setZIndex(Number(t.getZIndex()||0)-1)}handleMoveBottom(){this.graph.getSelectedCells().forEach(t=>{t.toBack()})}handleGroup(){let t=this.graph.getSelectedCells().map(a=>a.getBBox()),i={x:t.reduce((a,o)=>a.x<o.x?a:o).x-10,y:t.reduce((a,o)=>a.y<o.y?a:o).y-10,right:t.reduce((a,o)=>a.right>o.right?a:o).right+10,bottom:t.reduce((a,o)=>a.bottom>o.bottom?a:o).bottom+10};console.log("group",i),this.cs.Get("group");let r=this.graph.addNode({shape:"group",x:i.x,y:i.y,width:i.right-i.x,height:i.bottom-i.y});this.graph.getSelectedCells().forEach(a=>{a.setZIndex(r.zIndex+a.zIndex),r.addChild(a)})}handleUngroup(){this.graph.getSelectedCells().forEach(t=>{"group"==t.shape&&(t.getChildren()?.forEach(i=>{i.setParent(null)}),t.setChildren(null),t.remove())})}isGroup(){return 1===this.graph.getSelectedCellCount()&&this.graph.getSelectedCells()[0].getChildCount()>0}handleGrid(){this.showGrid?this.graph.hideGrid():this.graph.showGrid(),this.showGrid=!this.showGrid,localStorage.setItem("show_grid",JSON.stringify(this.showGrid))}settingProject(){const t=this.modal.create({nzTitle:"\u7f16\u8f91\u5de5\u7a0b\u4fe1\u606f",nzContent:Not,nzData:{project:this.project},nzViewContainerRef:this.viewContainerRef,nzFooter:[{label:"\u53d6\u6d88",onClick:()=>t.destroy()},{label:"\u4fdd\u5b58",type:"primary",onClick:i=>{const r=i.group.value;Object.assign(this.project,r),console.log("project setting",r),t.destroy()}}]})}savefiles(t,i){const r=window.URL||window.webkitURL||window,a=new Blob([JSON.stringify(t)]),o=document.createElement("a");o.href=r.createObjectURL(a),o.download=i,o.click()}handleScale(t){this.scaleChange.emit(t),this.graph.zoomTo(t)}about(){this.modal.create({nzTitle:"\u5173\u4e8e",nzContent:Eot,nzFooter:null})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Fn.b),l.rXU(ir.N_),l.rXU(er.xh),l.rXU(l.c1b))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-toolbar"]],inputs:{project:"project",graph:"graph",scale:"scale"},outputs:{onSave:"onSave",scaleChange:"scaleChange"},features:[l.Jv_([er.xh,ir.N_])],decls:74,vars:30,consts:[["exportDropDownMenu","nzDropdownMenu"],["nz-button","",3,"click"],["nz-icon","","nzType","save","title","\u4fdd\u5b58"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu",""],["nz-menu-item","",3,"click"],["nzType","vertical"],["nz-button","","title","\u64a4\u9500(ctrl+z)",3,"click","disabled"],["nz-icon","","nzType","undo"],["nz-button","","title","\u91cd\u505a(ctrl+y)",3,"click","disabled"],["nz-icon","","nzType","redo"],["nz-button","","title","\u526a\u5207(ctrl+x)",3,"click","disabled"],["nz-icon","","nzType","scissor"],["nz-button","","title","\u590d\u5236(ctrl+c)",3,"click","disabled"],["nz-icon","","nzType","copy"],["nz-button","","title","\u7c98\u8d34(ctrl+v)",3,"click","disabled"],["nz-icon","","nzType","snippets"],["nz-button","","title","\u5220\u9664",3,"click","disabled"],["nz-icon","","nzType","delete"],["nz-button","",3,"click","disabled"],["nz-icon","","nzType","align-left","title","\u5de6\u5bf9\u9f50"],["nz-icon","","nzType","align-center","title","\u5c45\u4e2d\u5bf9\u9f50"],["nz-icon","","nzType","align-right","title","\u53f3\u5bf9\u9f50"],["nz-icon","","nzType","vertical-align-top","title","\u4e0a\u5bf9\u9f50"],["nz-icon","","nzType","vertical-align-middle","title","\u5c45\u4e2d\u5bf9\u9f50"],["nz-icon","","nzType","vertical-align-bottom","title","\u4e0b\u5bf9\u9f50"],["nz-icon","","nzType","vertical-right","title","\u7f6e\u9876",3,"nzRotate"],["nz-icon","","nzType","up","title","\u4e0a\u79fb\u4e00\u5c42"],["nz-icon","","nzType","down","title","\u4e0b\u79fb\u4e00\u5c42"],["nz-icon","","nzType","vertical-left","title","\u7f6e\u5e95",3,"nzRotate"],["nz-icon","","nzType","group","title","\u7ec4\u5408"],["nz-icon","","nzType","ungroup","title","\u89e3\u9664\u7ec4\u5408"],["nz-icon","","nzType","table","title","\u663e\u793a\u7f51\u683c"],["nz-icon","","nzType","setting","title","\u5de5\u7a0b\u8bbe\u7f6e"],[3,"ngModelChange","ngModel","ngModelOptions"],["nzLabel","25%",3,"nzValue"],["nzLabel","50%",3,"nzValue"],["nzLabel","75%",3,"nzValue"],["nzLabel","100%",3,"nzValue"],["nzLabel","200%",3,"nzValue"],["nzLabel","500%",3,"nzValue"],["nz-icon","","nzType","question-circle","title","\u5173\u4e8e"]],template:function(i,r){if(1&i){const a=l.RV6();l.j41(0,"a",1),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleSave())}),l.nrm(1,"i",2),l.EFF(2," \u4fdd\u5b58\n"),l.k0s(),l.j41(3,"button",3),l.nrm(4,"i",4),l.EFF(5,"\u4e0b\u8f7d"),l.k0s(),l.j41(6,"nz-dropdown-menu",null,0)(8,"ul",5)(9,"li",6),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleExport("SVG"))}),l.EFF(10,"\u5bfc\u51faSVG"),l.k0s(),l.j41(11,"li",6),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleExport("PNG"))}),l.EFF(12,"\u5bfc\u51faPNG"),l.k0s(),l.j41(13,"li",6),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleExport("JPEG"))}),l.EFF(14,"\u5bfc\u51faJPEG"),l.k0s(),l.j41(15,"li",6),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleExport("file"))}),l.EFF(16,"\u5bfc\u51fa\u6587\u4ef6"),l.k0s()()(),l.nrm(17,"nz-divider",7),l.j41(18,"a",8),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleUndo())}),l.nrm(19,"i",9),l.k0s(),l.j41(20,"a",10),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleRedo())}),l.nrm(21,"i",11),l.k0s(),l.nrm(22,"nz-divider",7),l.j41(23,"a",12),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleCut())}),l.nrm(24,"i",13),l.k0s(),l.j41(25,"a",14),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleCopy())}),l.nrm(26,"i",15),l.k0s(),l.j41(27,"a",16),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handlePaste())}),l.nrm(28,"i",17),l.k0s(),l.j41(29,"a",18),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleDelete())}),l.nrm(30,"i",19),l.k0s(),l.nrm(31,"nz-divider",7),l.j41(32,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleAlignLeft())}),l.nrm(33,"i",21),l.k0s(),l.j41(34,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleAlignCenter())}),l.nrm(35,"i",22),l.k0s(),l.j41(36,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleAlignRight())}),l.nrm(37,"i",23),l.k0s(),l.nrm(38,"nz-divider",7),l.j41(39,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleValignTop())}),l.nrm(40,"i",24),l.k0s(),l.j41(41,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleValignMiddle())}),l.nrm(42,"i",25),l.k0s(),l.j41(43,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleValignBottom())}),l.nrm(44,"i",26),l.k0s(),l.nrm(45,"nz-divider",7),l.j41(46,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleMoveTop())}),l.nrm(47,"i",27),l.k0s(),l.j41(48,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleMoveUp())}),l.nrm(49,"i",28),l.k0s(),l.j41(50,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleMoveDown())}),l.nrm(51,"i",29),l.k0s(),l.j41(52,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleMoveBottom())}),l.nrm(53,"i",30),l.k0s(),l.nrm(54,"nz-divider",7),l.j41(55,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleGroup())}),l.nrm(56,"i",31),l.k0s(),l.j41(57,"a",20),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleUngroup())}),l.nrm(58,"i",32),l.k0s(),l.nrm(59,"nz-divider",7),l.j41(60,"a",1),l.bIt("click",function(){return l.eBV(a),l.Njj(r.handleGrid())}),l.nrm(61,"i",33),l.k0s(),l.j41(62,"a",1),l.bIt("click",function(){return l.eBV(a),l.Njj(r.settingProject())}),l.nrm(63,"i",34),l.k0s(),l.j41(64,"nz-select",35),l.bIt("ngModelChange",function(s){return l.eBV(a),l.Njj(r.handleScale(s))}),l.nrm(65,"nz-option",36)(66,"nz-option",37)(67,"nz-option",38)(68,"nz-option",39)(69,"nz-option",40)(70,"nz-option",41),l.k0s(),l.nrm(71,"nz-divider",7),l.j41(72,"a",1),l.bIt("click",function(){return l.eBV(a),l.Njj(r.about())}),l.nrm(73,"i",42),l.k0s()}if(2&i){const a=l.sdS(7);l.R7$(3),l.Y8G("nzDropdownMenu",a),l.R7$(15),l.Y8G("disabled",!r.graph.canUndo()),l.R7$(2),l.Y8G("disabled",!r.graph.canRedo()),l.R7$(3),l.Y8G("disabled",!r.graph.getSelectedCellCount()),l.R7$(2),l.Y8G("disabled",!r.graph.getSelectedCellCount()),l.R7$(2),l.Y8G("disabled",!r.graph.getCellsInClipboard().length),l.R7$(2),l.Y8G("disabled",!r.graph.getSelectedCellCount()),l.R7$(3),l.Y8G("disabled",r.graph.getSelectedCellCount()<2),l.R7$(2),l.Y8G("disabled",r.graph.getSelectedCellCount()<2),l.R7$(2),l.Y8G("disabled",r.graph.getSelectedCellCount()<2),l.R7$(3),l.Y8G("disabled",r.graph.getSelectedCellCount()<2),l.R7$(2),l.Y8G("disabled",r.graph.getSelectedCellCount()<2),l.R7$(2),l.Y8G("disabled",r.graph.getSelectedCellCount()<2),l.R7$(3),l.Y8G("disabled",!r.graph.getSelectedCellCount()),l.R7$(),l.Y8G("nzRotate",90),l.R7$(),l.Y8G("disabled",1!=r.graph.getSelectedCellCount()),l.R7$(2),l.Y8G("disabled",1!=r.graph.getSelectedCellCount()),l.R7$(2),l.Y8G("disabled",!r.graph.getSelectedCellCount()),l.R7$(),l.Y8G("nzRotate",90),l.R7$(2),l.Y8G("disabled",r.graph.getSelectedCellCount()<2),l.R7$(2),l.Y8G("disabled",!r.isGroup()),l.R7$(7),l.Y8G("ngModel",r.scale)("ngModelOptions",l.lJ4(29,Fot)),l.R7$(),l.Y8G("nzValue",.25),l.R7$(),l.Y8G("nzValue",.5),l.R7$(),l.Y8G("nzValue",.75),l.R7$(),l.Y8G("nzValue",1),l.R7$(),l.Y8G("nzValue",2),l.R7$(),l.Y8G("nzValue",5)}},dependencies:[Z.BC,Z.vS,vt.Dn,MR,an.aO,Rn.c,nr.p,Oc,Lc,dl,Yo,vl,Ac,cE],styles:["[_nghost-%COMP%]{height:50px;display:flex;align-items:center;vertical-align:middle;padding:0 20px;font-size:20px;font-weight:700;overflow:hidden;border-bottom:1px solid #a8a8a8;background-color:#f0f0f0}a[_ngcontent-%COMP%]{padding:5px;margin:1px;cursor:pointer;text-decoration:none}a.disabled[_ngcontent-%COMP%]{color:gray;cursor:default}"]})}return n})();const Hot=["canvas"];let IR=(()=>{class n{constructor(t,i,r,a,o,s){this.title=t,this.rs=i,this.msg=r,this.router=a,this.route=o,this.cs=s,this.id="",this.project=function Jf(){return{id:"",name:"\u7ec4\u6001\u5de5\u7a0b",desc:"",width:window.screen.width,height:window.screen.height,pages:[{name:"\u9996\u9875",content:{}}]}}(),this.index=0,this.scale=1,this.leftWidth=200,this.leftWidthMin=200,this.rightWidth=250,this.rightWidthMin=250,this.leftOn=!1,this.rightOn=!1,this.lastX=0,t.setTitle(this.project.name)}ngOnInit(){this.route.snapshot.paramMap.has("id")&&(this.id=this.route.snapshot.paramMap.get("id"),this.rs.get(`api/project/${this.id}`).subscribe(t=>{this.project=t.data,this.title.setTitle(this.project.name),this.canvas.Render(this.project.pages[0])}))}onDrag(t){this.canvas.Draw(t)}handleSave(){this.project.pages[this.index].content=this.canvas.graph.toJSON(),this.rs.post(this.id?`api/project/${this.id}`:"api/project/create",this.project).subscribe(i=>{this.router.navigateByUrl("/admin/project")})}handlePageChange(t){this.project.pages[this.index].content=this.canvas.graph.toJSON(),this.index=t,this.canvas.Render(this.project.pages[this.index])}onLeftDown(t){this.leftOn=!0,this.lastX=t.screenX}onRightDown(t){this.rightOn=!0,this.lastX=t.screenX}onMoseMove(t){let i=t.screenX-this.lastX;if(this.leftOn){if(i<0&&this.leftWidth<=this.leftWidthMin)return;this.leftWidth+=t.screenX-this.lastX}if(this.rightOn){if(i>0&&this.rightWidth<=this.rightWidthMin)return;this.rightWidth-=t.screenX-this.lastX}this.lastX=t.screenX}onMouseUp(t){this.leftOn=!1,this.rightOn=!1}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(ol.hE),l.rXU(sl.By),l.rXU(er.xh),l.rXU(rn.Ix),l.rXU(rn.nX),l.rXU(Fn.b))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["app-editor"]],viewQuery:function(i,r){if(1&i&&l.GBs(Hot,5),2&i){let a;l.mGM(a=l.lsd())&&(r.canvas=a.first)}},decls:9,vars:13,consts:[["canvas",""],[3,"onSave","scaleChange","graph","project","scale"],[1,"body",3,"mousemove","mouseup"],[3,"onDrag"],[1,"splitter",3,"mousedown"],[1,"content"],[3,"onPageChange","graph","project"]],template:function(i,r){if(1&i){const a=l.RV6();l.j41(0,"app-toolbar",1),l.bIt("onSave",function(){return l.eBV(a),l.Njj(r.handleSave())}),l.mxI("scaleChange",function(s){return l.eBV(a),l.DH7(r.scale,s)||(r.scale=s),l.Njj(s)}),l.k0s(),l.j41(1,"div",2),l.bIt("mousemove",function(s){return l.eBV(a),l.Njj(r.onMoseMove(s))})("mouseup",function(s){return l.eBV(a),l.Njj(r.onMouseUp(s))}),l.j41(2,"app-library",3),l.bIt("onDrag",function(s){return l.eBV(a),l.Njj(r.onDrag(s))}),l.k0s(),l.j41(3,"div",4),l.bIt("mousedown",function(s){return l.eBV(a),l.Njj(r.onLeftDown(s))}),l.k0s(),l.j41(4,"div",5),l.nrm(5,"app-canvas",null,0),l.k0s(),l.j41(7,"div",4),l.bIt("mousedown",function(s){return l.eBV(a),l.Njj(r.onRightDown(s))}),l.k0s(),l.j41(8,"app-property",6),l.bIt("onPageChange",function(s){return l.eBV(a),l.Njj(r.handlePageChange(s))}),l.k0s()()}if(2&i){const a=l.sdS(6);l.Y8G("graph",a.graph)("project",r.project),l.R50("scale",r.scale),l.R7$(2),l.xc7("width",r.leftWidth+"px"),l.R7$(3),l.xc7("width",r.project.width*r.scale+"px")("height",r.project.height*r.scale+"px"),l.R7$(3),l.xc7("width",r.rightWidth+"px"),l.Y8G("graph",a.graph)("project",r.project)}},dependencies:[Wt,Jrt,Rot,Got],styles:["[_nghost-%COMP%]{height:100%;min-width:600px;overflow:hidden;display:flex;flex-direction:column;letter-spacing:.1em;font-size:12px}.body[_ngcontent-%COMP%]{flex:1;display:flex;overflow:hidden}.body[_ngcontent-%COMP%]   .splitter[_ngcontent-%COMP%]{width:8px;background-color:#c9c9c9;cursor:col-resize}.body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;height:100%;position:relative;padding:10px;background-color:#f0f0f0;overflow:auto}"]})}return n})();const Xot=[{path:"",component:IR},{path:":id",component:IR}];let jot=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[rn.iI.forChild(Xot),rn.iI]})}return n})();var Pe=tt(8167);const Yot=["*"],Wot=["nz-sider-trigger",""];function Uot(n,e){}function $ot(n,e){if(1&n&&l.DNE(0,Uot,0,0,"ng-template",2),2&n){const t=l.XpG(),i=l.sdS(5);l.Y8G("ngTemplateOutlet",t.nzZeroTrigger||i)}}function Zot(n,e){}function qot(n,e){if(1&n&&l.DNE(0,Zot,0,0,"ng-template",2),2&n){const t=l.XpG(),i=l.sdS(3);l.Y8G("ngTemplateOutlet",t.nzTrigger||i)}}function Kot(n,e){if(1&n&&l.nrm(0,"span",3),2&n){const t=l.XpG(2);l.Y8G("nzType",t.nzCollapsed?"left":"right")}}function Qot(n,e){if(1&n&&l.nrm(0,"span",3),2&n){const t=l.XpG(2);l.Y8G("nzType",t.nzCollapsed?"right":"left")}}function Jot(n,e){if(1&n&&l.DNE(0,Kot,1,1,"span",3)(1,Qot,1,1),2&n){const t=l.XpG();l.vxM(0,t.nzReverseArrow?0:1)}}function tst(n,e){1&n&&l.nrm(0,"span",4)}function est(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",2),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.setCollapsed(!r.nzCollapsed))}),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("matchBreakPoint",t.matchBreakPoint)("nzCollapsedWidth",t.nzCollapsedWidth)("nzCollapsed",t.nzCollapsed)("nzBreakpoint",t.nzBreakpoint)("nzReverseArrow",t.nzReverseArrow)("nzTrigger",t.nzTrigger)("nzZeroTrigger",t.nzZeroTrigger)("siderWidth",t.widthSetting)}}let AR=(()=>{class n{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=0===this.nzCollapsedWidth&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=0!==this.nzCollapsedWidth}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(i,r){2&i&&(l.xc7("width",r.isNormalTrigger?r.siderWidth:null),l.AVh("ant-layout-sider-trigger",r.isNormalTrigger)("ant-layout-sider-zero-width-trigger",r.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",r.isZeroTrigger&&r.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",r.isZeroTrigger&&!r.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],standalone:!0,features:[l.OA$,l.aNF],attrs:Wot,decls:6,vars:2,consts:[["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(i,r){1&i&&l.DNE(0,$ot,1,1,null,2)(1,qot,1,1,null,2)(2,Jot,2,1,"ng-template",null,0,l.C5r)(4,tst,1,0,"ng-template",null,1,l.C5r),2&i&&(l.vxM(0,r.isZeroTrigger?0:-1),l.R7$(),l.vxM(1,r.isNormalTrigger?1:-1))},dependencies:[U.T3,vt.Y3,vt.Dn],encapsulation:2,changeDetection:0})}return n})(),nst=(()=>{class n{updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:(0,Y.j3)(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&"inline"===this.nzMenuDirective.nzMode&&0!==this.nzCollapsedWidth&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(t){t!==this.nzCollapsed&&(this.nzCollapsed=t,this.nzCollapsedChange.emit(t),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}constructor(t,i,r){this.platform=t,this.cdr=i,this.breakpointService=r,this.destroy$=new gt.B,this.nzMenuDirective=null,this.nzCollapsedChange=new l.bkB,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(Ce.yY,!0).pipe((0,G.Q)(this.destroy$)).subscribe(t=>{const i=this.nzBreakpoint;i&&(0,Y.ij)().subscribe(()=>{this.matchBreakPoint=!t[i],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(t){const{nzCollapsed:i,nzCollapsedWidth:r,nzWidth:a}=t;(i||r||a)&&this.updateStyleMap(),i&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Xo.OD),l.rXU(l.gRc),l.rXU(Ce.jp))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-sider"]],contentQueries:function(i,r,a){if(1&i&&l.wni(a,dl,5),2&i){let o;l.mGM(o=l.lsd())&&(r.nzMenuDirective=o.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(i,r){2&i&&(l.xc7("flex",r.flexSetting)("max-width",r.widthSetting)("min-width",r.widthSetting)("width",r.widthSetting),l.AVh("ant-layout-sider-zero-width",r.nzCollapsed&&0===r.nzCollapsedWidth)("ant-layout-sider-light","light"===r.nzTheme)("ant-layout-sider-dark","dark"===r.nzTheme)("ant-layout-sider-collapsed",r.nzCollapsed)("ant-layout-sider-has-trigger",r.nzCollapsible&&null!==r.nzTrigger))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:"nzReverseArrow",nzCollapsible:"nzCollapsible",nzCollapsed:"nzCollapsed"},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],standalone:!0,features:[l.OA$,l.aNF],ngContentSelectors:Yot,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"],["nz-sider-trigger","",3,"click","matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"]],template:function(i,r){1&i&&(l.NAR(),l.j41(0,"div",0),l.SdG(1),l.k0s(),l.DNE(2,est,1,8,"div",1)),2&i&&(l.R7$(2),l.vxM(2,r.nzCollapsible&&null!==r.nzTrigger?2:-1))},dependencies:[AR],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzReverseArrow",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzCollapsible",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzCollapsed",void 0),n})(),kR=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[nst,AR]})}return n})(),PR=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();var ost=tt(536),sst=tt(5007),lst=tt(1594),gc=tt(1265);function ust(n,e){if(1&n&&(l.qex(0),l.nrm(1,"span",1),l.bVm()),2&n){const t=e.$implicit;l.R7$(),l.Y8G("nzType",t)}}const cst=()=>({minWidth:"46px"}),hst=()=>({visible:!1});function pst(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG().$implicit;l.R7$(),l.SpI(" ",t.tab.label," ")}}function fst(n,e){if(1&n){const t=l.RV6();l.j41(0,"li",8),l.bIt("click",function(){const r=l.eBV(t).$implicit,a=l.XpG(2);return l.Njj(a.onSelect(r))})("contextmenu",function(r){const a=l.eBV(t).$implicit,o=l.XpG(2);return l.Njj(o.onContextmenu(a,r))}),l.DNE(1,pst,2,1,"ng-container",9),l.k0s()}if(2&n){const t=e.$implicit;l.AVh("ant-tabs-dropdown-menu-item-disabled",t.disabled),l.Y8G("nzSelected",t.active)("nzDisabled",t.disabled),l.R7$(),l.Y8G("nzStringTemplateOutlet",t.tab.label)("nzStringTemplateOutletContext",l.lJ4(6,hst))}}function dst(n,e){if(1&n&&(l.j41(0,"ul",6),l.DNE(1,fst,2,7,"li",7),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("ngForOf",t.items)}}function vst(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",10),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.addClicked.emit())}),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("addIcon",t.addIcon)}}const gst=["navWarp"],mst=["navList"],yst=["*"];function _st(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",8),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.addClicked.emit())}),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("addIcon",t.addIcon),l.BMQ("tabindex",-1)}}function bst(n,e){}function Cst(n,e){if(1&n&&(l.j41(0,"div",9),l.DNE(1,bst,0,0,"ng-template",10),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("ngTemplateOutlet",t.extraTemplate)}}const Sst=["nz-tab-body",""];function xst(n,e){}function zst(n,e){if(1&n&&(l.qex(0),l.DNE(1,xst,0,0,"ng-template",1),l.bVm()),2&n){const t=l.XpG();l.R7$(),l.Y8G("ngTemplateOutlet",t.content)}}function wst(n,e){if(1&n&&(l.qex(0),l.nrm(1,"span",1),l.bVm()),2&n){const t=e.$implicit;l.R7$(),l.Y8G("nzType",t)}}const Tst=["contentTemplate"],Dst=[[["","nz-tab-link",""]],"*"],Mst=["[nz-tab-link]","*"];function Ist(n,e){1&n&&l.SdG(0)}function Ast(n,e){1&n&&l.SdG(0,1)}const kst=()=>({visible:!0});function Pst(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG().$implicit;l.R7$(),l.JRh(t.label)}}function Rst(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",10),l.bIt("click",function(r){l.eBV(t);const a=l.XpG().index,o=l.XpG(2);return l.Njj(o.onClose(a,r))}),l.k0s()}if(2&n){const t=l.XpG().$implicit;l.Y8G("closeIcon",t.nzCloseIcon)}}function Nst(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",6),l.bIt("click",function(r){const a=l.eBV(t),o=a.$implicit,s=a.index,u=l.XpG(2);return l.Njj(u.clickNavItem(o,s,r))})("contextmenu",function(r){const a=l.eBV(t).$implicit,o=l.XpG(2);return l.Njj(o.contextmenuNavItem(a,r))}),l.j41(1,"button",7),l.DNE(2,Pst,2,1,"ng-container",8)(3,Rst,1,1,"button",9),l.k0s()()}if(2&n){const t=e.$implicit,i=e.index,r=l.XpG(2);l.xc7("margin-right","horizontal"===r.position?r.nzTabBarGutter:null,"px")("margin-bottom","vertical"===r.position?r.nzTabBarGutter:null,"px"),l.AVh("ant-tabs-tab-active",r.nzSelectedIndex===i)("ant-tabs-tab-disabled",t.nzDisabled),l.R7$(),l.Y8G("id",r.getTabContentId(i))("disabled",t.nzDisabled)("tab",t)("active",r.nzSelectedIndex===i),l.BMQ("tabIndex",r.getTabIndex(t,i))("aria-disabled",t.nzDisabled)("aria-selected",r.nzSelectedIndex===i&&!r.nzHideAll)("aria-controls",r.getTabContentId(i)),l.R7$(),l.Y8G("nzStringTemplateOutlet",t.label)("nzStringTemplateOutletContext",l.lJ4(19,kst)),l.R7$(),l.Y8G("ngIf",t.nzClosable&&r.closable&&!t.nzDisabled)}}function Ost(n,e){if(1&n){const t=l.RV6();l.j41(0,"nz-tabs-nav",4),l.bIt("tabScroll",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.nzTabListScroll.emit(r))})("selectFocusedIndex",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.setSelectedIndex(r))})("addClicked",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.onAdd())}),l.DNE(1,Nst,4,20,"div",5),l.k0s()}if(2&n){const t=l.XpG();l.Y8G("ngStyle",t.nzTabBarStyle)("selectedIndex",t.nzSelectedIndex||0)("inkBarAnimated",t.inkBarAnimated)("addable",t.addable)("addIcon",t.nzAddIcon)("hideBar",t.nzHideAll)("position",t.position)("extraTemplate",t.nzTabBarExtraContent),l.R7$(),l.Y8G("ngForOf",t.tabs)}}function Est(n,e){if(1&n&&l.nrm(0,"div",11),2&n){const t=e.$implicit,i=e.index,r=l.XpG();l.Y8G("id",r.getTabContentId(i))("active",r.nzSelectedIndex===i&&!r.nzHideAll)("content",t.content)("forceRender",t.nzForceRender)("animated",r.tabPaneAnimated),l.BMQ("aria-labelledby",r.getTabContentId(i))}}let mc=(()=>{class n{constructor(t){this.elementRef=t,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},standalone:!0,features:[l.aNF],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(i,r){1&i&&l.DNE(0,ust,2,1,"ng-container",0),2&i&&l.Y8G("nzStringTemplateOutlet",r.addIcon)},dependencies:[Xt.C,Xt.m,vt.Y3,vt.Dn],encapsulation:2})}return n})(),U_=(()=>{class n{get _animated(){return"NoopAnimations"!==this.animationMode&&this.animated}constructor(t,i,r){this.elementRef=t,this.ngZone=i,this.animationMode=r,this.position="horizontal",this.animated=!0}alignToElement(t){this.ngZone.runOutsideAngular(()=>{(0,Wo.j)(()=>this.setStyles(t))})}setStyles(t){const i=this.elementRef.nativeElement;"horizontal"===this.position?(i.style.top="",i.style.height="",i.style.left=this.getLeftPosition(t),i.style.width=this.getElementWidth(t)):(i.style.left="",i.style.width="",i.style.top=this.getTopPosition(t),i.style.height=this.getElementHeight(t))}getLeftPosition(t){return t?`${t.offsetLeft||0}px`:"0"}getElementWidth(t){return t?`${t.offsetWidth||0}px`:"0"}getTopPosition(t){return t?`${t.offsetTop||0}px`:"0"}getElementHeight(t){return t?`${t.offsetHeight||0}px`:"0"}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(i,r){2&i&&l.AVh("ant-tabs-ink-bar-animated",r._animated)},inputs:{position:"position",animated:"animated"},standalone:!0})}return n})(),$_=(()=>{class n{constructor(t){this.elementRef=t,this.disabled=!1,this.active=!1,this.el=t.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["","nzTabNavItem",""]],inputs:{disabled:"disabled",tab:"tab",active:"active"},standalone:!0})}return n})(),$f=(()=>{class n{constructor(t,i){this.cdr=t,this.elementRef=i,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new l.bkB,this.selected=new l.bkB,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(t){t.disabled||(t.tab.nzClick.emit(),this.selected.emit(t))}onContextmenu(t,i){t.disabled||t.tab.nzContextmenu.emit(i)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(t){t||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(l.aKT))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(i,r){2&i&&l.AVh("ant-tabs-nav-operations-hidden",0===r.items.length)},inputs:{items:"items",addable:"addable",addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],standalone:!0,features:[l.aNF],decls:7,vars:6,consts:[["dropdownTrigger","nzDropdown"],["menu","nzDropdownMenu"],["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzVisibleChange","mouseenter","nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement"],["nz-icon","","nzType","ellipsis"],["nz-menu","",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-menu",""],["nz-menu-item","","class","ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled","click","contextmenu",4,"ngFor","ngForOf"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"click","contextmenu","nzSelected","nzDisabled"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"click","addIcon"]],template:function(i,r){if(1&i){const a=l.RV6();l.j41(0,"button",2,0),l.bIt("nzVisibleChange",function(s){return l.eBV(a),l.Njj(r.menuVisChange(s))})("mouseenter",function(){return l.eBV(a),l.Njj(r.showItems())}),l.nrm(2,"span",3),l.k0s(),l.j41(3,"nz-dropdown-menu",null,1),l.DNE(5,dst,2,1,"ul",4),l.k0s(),l.DNE(6,vst,1,1,"button",5)}if(2&i){const a=l.sdS(4);l.Y8G("nzDropdownMenu",a)("nzOverlayStyle",l.lJ4(5,cst))("nzMatchWidthElement",null),l.R7$(5),l.Y8G("ngIf",r.menuOpened),l.R7$(),l.Y8G("ngIf",r.addable)}},dependencies:[vt.Y3,vt.Dn,U.bT,U.Sq,Xt.C,Xt.m,mc,Ac,mb,dl,Yo,vl],encapsulation:2,changeDetection:0})}return n})();const NR=.995**20;let OR=(()=>{class n{constructor(t,i){this.ngZone=t,this.elementRef=i,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new l.bkB,this.tabScroll=new l.bkB,this.onTouchEnd=r=>{if(!this.touchPosition)return;const a=this.lastOffset,o=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,a){const s=a.x/o,u=a.y/o,c=Math.abs(s),h=Math.abs(u);if(Math.max(c,h)<.1)return;let p=s,f=u;this.motion=window.setInterval(()=>{Math.abs(p)<.01&&Math.abs(f)<.01?window.clearInterval(this.motion):(p*=NR,f*=NR,this.onOffset(20*p,20*f,r))},20)}},this.onTouchMove=r=>{if(!this.touchPosition)return;r.preventDefault();const{screenX:a,screenY:o}=r.touches[0],s=a-this.touchPosition.x,u=o-this.touchPosition.y;this.onOffset(s,u,r);const c=Date.now();this.lastTimeDiff=c-this.lastTimestamp,this.lastTimestamp=c,this.lastOffset={x:s,y:u},this.touchPosition={x:a,y:o}},this.onTouchStart=r=>{const{screenX:a,screenY:o}=r.touches[0];this.touchPosition={x:a,y:o},window.clearInterval(this.motion)},this.onWheel=r=>{const{deltaX:a,deltaY:o}=r;let s;const u=Math.abs(a),c=Math.abs(o);u===c?s="x"===this.lastWheelDirection?a:o:u>c?(s=a,this.lastWheelDirection="x"):(s=o,this.lastWheelDirection="y");const h=Date.now(),p=Math.abs(s);(h-this.lastWheelTimestamp>100||p-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-s,-s,r),(r.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=h,this.lastMixedWheel=p}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{const t=this.elementRef.nativeElement,i=(0,qt.R)(t,"wheel"),r=(0,qt.R)(t,"touchstart"),a=(0,qt.R)(t,"touchmove"),o=(0,qt.R)(t,"touchend"),s=new ba.yU;return s.add(this.subscribeWrap("wheel",i,this.onWheel)),s.add(this.subscribeWrap("touchstart",r,this.onTouchStart)),s.add(this.subscribeWrap("touchmove",a,this.onTouchMove)),s.add(this.subscribeWrap("touchend",o,this.onTouchEnd)),()=>{s.unsubscribe()}})}subscribeWrap(t,i,r){return i.subscribe(a=>{this.tabScroll.emit({type:t,event:a}),a.defaultPrevented||r(a)})}onOffset(t,i,r){this.ngZone.run(()=>{this.offsetChange.emit({x:t,y:i,event:r})})}ngOnDestroy(){this.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.SKi),l.rXU(l.aKT))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"},standalone:!0})}return n})();const Bst=typeof requestAnimationFrame<"u"?ost.X:sst.$;let qf=(()=>{class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const i=(0,hd.OE)(t);this._selectedIndex!==i&&(this._selectedIndex=t,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(t))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(t){!this.isValidIndex(t)||this.focusIndex===t||!this.keyManager||this.keyManager.setActiveItem(t)}get showAddButton(){return 0===this.hiddenItems.length&&this.addable}constructor(t,i,r,a,o){this.cdr=t,this.ngZone=i,this.viewportRuler=r,this.nzResizeObserver=a,this.dir=o,this.indexFocused=new l.bkB,this.selectFocusedIndex=new l.bkB,this.addClicked=new l.bkB,this.tabScroll=new l.bkB,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new gt.B,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1}ngAfterViewInit(){const t=this.dir?this.dir.change.asObservable():(0,Ii.of)(null),i=this.viewportRuler.change(150),r=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new li.Bu(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),(0,Wo.j)(r),(0,we.h)(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe((0,G.Q)(this.destroy$),(0,ld.Z)(16,Bst)).subscribe(()=>{r()}),(0,we.h)(t,i,this.items.changes).pipe((0,G.Q)(this.destroy$)).subscribe(()=>{Promise.resolve().then(r),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe((0,G.Q)(this.destroy$)).subscribe(a=>{this.indexFocused.emit(a),this.setTabFocus(a),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(t){const i=this.items.toArray().findIndex(r=>r===t);-1!==i&&(this.keyManager.updateActiveItem(i),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(t)))}onOffsetChange(t){if("horizontal"===this.position){if(!this.lockAnimationTimeoutId&&(this.transformX>=0&&t.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&t.x<0))return;t.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+t.x),this.setTransform(this.transformX,0)}else{if(!this.lockAnimationTimeoutId&&(this.transformY>=0&&t.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&t.y<0))return;t.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+t.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(t){const i=this.navWarpRef.nativeElement.contains(t.target);if(!(0,Kt.rp)(t)&&i)switch(t.keyCode){case Kt.UQ:case Kt.i7:case Kt.LE:case Kt.n6:this.lockAnimation(),this.keyManager.onKeydown(t);break;case Kt.Fm:case Kt.t6:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(t)}}isValidIndex(t){if(!this.items)return!0;const i=this.items?this.items.toArray()[t]:null;return!!i&&!i.disabled}scrollToTab(t){if(!this.items.find(r=>r===t))return;const i=this.items.toArray();if("horizontal"===this.position){let r=this.transformX;if("rtl"===this.getLayoutDirection()){const a=i[0].left+i[0].width-t.left-t.width;a<this.transformX?r=a:a+t.width>this.transformX+this.wrapperWidth&&(r=a+t.width-this.wrapperWidth)}else t.left<-this.transformX?r=-t.left:t.left+t.width>-this.transformX+this.wrapperWidth&&(r=-(t.left+t.width-this.wrapperWidth));this.transformX=r,this.transformY=0,this.setTransform(r,0)}else{let r=this.transformY;t.top<-this.transformY?r=-t.top:t.top+t.height>-this.transformY+this.wrapperHeight&&(r=-(t.top+t.height-this.wrapperHeight)),this.transformY=r,this.transformX=0,this.setTransform(0,r)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},150)}lockAnimation(){this.lockAnimationTimeoutId||this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=void 0},150)})}setTransform(t,i){this.navListRef.nativeElement.style.transform=`translate(${t}px, ${i}px)`}clampTransformX(t){const i=this.wrapperWidth-this.scrollListWidth;return"rtl"===this.getLayoutDirection()?Math.max(Math.min(i,t),0):Math.min(Math.max(i,t),0)}clampTransformY(t){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,t),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){const t=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i&&this.inkBar.alignToElement(i.parentElement)}setPingStatus(){const t={top:!1,right:!1,bottom:!1,left:!1},i=this.navWarpRef.nativeElement;"horizontal"===this.position?"rtl"===this.getLayoutDirection()?(t.right=this.transformX>0,t.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(t.left=this.transformX<0,t.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(t.top=this.transformY<0,t.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(t).forEach(r=>{const a=`ant-tabs-nav-wrap-ping-${r}`;t[r]?i.classList.add(a):i.classList.remove(a)})}setVisibleRange(){let t,i,r,a,o,s;const u=this.items.toArray(),c={width:0,height:0,left:0,top:0,right:0},h=y=>{let _;return _="right"===i?u[0].left+u[0].width-u[y].left-u[y].width:(u[y]||c)[i],_};"horizontal"===this.position?(t="width",a=this.wrapperWidth,o=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),s=this.addButtonWidth,r=Math.abs(this.transformX),"rtl"===this.getLayoutDirection()?(i="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,i="left")):(t="height",a=this.wrapperHeight,o=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),s=this.addButtonHeight,i="top",r=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let p=a;if(o+s>a&&(p=a-s),!u.length)return this.hiddenItems=[],void this.cdr.markForCheck();const f=u.length;let d=f;for(let y=0;y<f;y+=1)if(h(y)+(u[y]||c)[t]>r+p){d=y-1;break}let v=0;for(let y=f-1;y>=0;y-=1)if(h(y)<r){v=y+1;break}const g=u.slice(0,v),m=u.slice(d+1);this.hiddenItems=[...g,...m],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&"rtl"===this.dir.value?"rtl":"ltr"}setTabFocus(t){}ngOnChanges(t){const{position:i}=t;i&&!i.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(ui.Xj),l.rXU(Rc),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-tabs-nav"]],contentQueries:function(i,r,a){if(1&i&&l.wni(a,$_,5),2&i){let o;l.mGM(o=l.lsd())&&(r.items=o)}},viewQuery:function(i,r){if(1&i&&(l.GBs(gst,7),l.GBs(mst,7),l.GBs($f,7),l.GBs(mc,5),l.GBs(U_,7)),2&i){let a;l.mGM(a=l.lsd())&&(r.navWarpRef=a.first),l.mGM(a=l.lsd())&&(r.navListRef=a.first),l.mGM(a=l.lsd())&&(r.operationRef=a.first),l.mGM(a=l.lsd())&&(r.addBtnRef=a.first),l.mGM(a=l.lsd())&&(r.inkBar=a.first)}},hostAttrs:[1,"ant-tabs-nav"],hostBindings:function(i,r){1&i&&l.bIt("keydown",function(o){return r.handleKeydown(o)})},inputs:{position:"position",addable:"addable",hideBar:"hideBar",addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],standalone:!0,features:[l.OA$,l.aNF],ngContentSelectors:yst,decls:9,vars:16,consts:[["navWarp",""],["navList",""],[1,"ant-tabs-nav-wrap"],["nzTabScrollList","","role","tablist",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["role","tab","nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addClicked","selected","addIcon","addable","items"],["class","ant-tabs-extra-content",4,"ngIf"],["role","tab","nz-tab-add-button","",3,"click","addIcon"],[1,"ant-tabs-extra-content"],[3,"ngTemplateOutlet"]],template:function(i,r){if(1&i){const a=l.RV6();l.NAR(),l.j41(0,"div",2,0)(2,"div",3,1),l.bIt("offsetChange",function(s){return l.eBV(a),l.Njj(r.onOffsetChange(s))})("tabScroll",function(s){return l.eBV(a),l.Njj(r.tabScroll.emit(s))}),l.SdG(4),l.DNE(5,_st,1,2,"button",4),l.nrm(6,"div",5),l.k0s()(),l.j41(7,"nz-tab-nav-operation",6),l.bIt("addClicked",function(){return l.eBV(a),l.Njj(r.addClicked.emit())})("selected",function(s){return l.eBV(a),l.Njj(r.onSelectedFromMenu(s))}),l.k0s(),l.DNE(8,Cst,2,1,"div",7)}2&i&&(l.AVh("ant-tabs-nav-wrap-ping-left",r.pingLeft)("ant-tabs-nav-wrap-ping-right",r.pingRight)("ant-tabs-nav-wrap-ping-top",r.pingTop)("ant-tabs-nav-wrap-ping-bottom",r.pingBottom),l.R7$(5),l.Y8G("ngIf",r.showAddButton),l.R7$(),l.Y8G("hidden",r.hideBar)("position",r.position)("animated",r.inkBarAnimated),l.R7$(),l.Y8G("addIcon",r.addIcon)("addable",r.addable)("items",r.hiddenItems),l.R7$(),l.Y8G("ngIf",r.extraTemplate))},dependencies:[OR,U.bT,mc,U_,$f,U.T3],encapsulation:2,changeDetection:0})}return n})(),LR=(()=>{class n{constructor(){this.content=null,this.active=!1,this.animated=!0,this.forceRender=!1,this.hasBeenActive=!1}ngOnChanges(t){const{active:i}=t;i?.currentValue&&(this.hasBeenActive=!0)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:10,hostBindings:function(i,r){2&i&&(l.zvX("@tabSwitchMotion",r.active?"enter":"leave")("@.disabled",!r.animated),l.BMQ("tabindex",r.active?0:-1)("aria-hidden",!r.active),l.xc7("overflow-y",r.animated?r.active?null:"none":null),l.AVh("ant-tabs-tabpane-active",r.active)("ant-tabs-tabpane-hidden",r.animated?null:!r.active))},inputs:{content:"content",active:"active",animated:"animated",forceRender:"forceRender"},exportAs:["nzTabBody"],standalone:!0,features:[l.OA$,l.aNF],attrs:Sst,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(i,r){1&i&&l.DNE(0,zst,2,1,"ng-container",0),2&i&&l.Y8G("ngIf",r.hasBeenActive||r.forceRender)},dependencies:[U.bT,U.T3],encapsulation:2,data:{animation:[jo.eF]},changeDetection:0})}return n})(),Z_=(()=>{class n{constructor(){this.closeIcon="close"}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},standalone:!0,features:[l.aNF],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(i,r){1&i&&l.DNE(0,wst,2,1,"ng-container",0),2&i&&l.Y8G("nzStringTemplateOutlet",r.closeIcon)},dependencies:[Xt.C,Xt.m,vt.Y3,vt.Dn],encapsulation:2})}return n})(),BR=(()=>{class n{constructor(t){this.templateRef=t}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.C4Q,1))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"],standalone:!0})}return n})(),VR=(()=>{class n{constructor(t,i){this.elementRef=t,this.routerLink=i}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.aKT),l.rXU(rn.Wk,10))};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"],standalone:!0})}return n})(),FR=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["","nz-tab",""]],exportAs:["nzTab"],standalone:!0})}return n})();const GR=new l.nKC("NZ_TAB_SET");let HR=(()=>{class n{get content(){return this.template||this.contentTemplate}get label(){return this.nzTitle||this.nzTabLinkTemplateDirective?.templateRef}constructor(t){this.closestTabSet=t,this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new l.bkB,this.nzDeselect=new l.bkB,this.nzClick=new l.bkB,this.nzContextmenu=new l.bkB,this.template=null,this.isActive=!1,this.position=null,this.origin=null,this.stateChanges=new gt.B}ngOnChanges(t){const{nzTitle:i,nzDisabled:r,nzForceRender:a}=t;(i||r||a)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(GR))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-tab"]],contentQueries:function(i,r,a){if(1&i&&(l.wni(a,BR,5),l.wni(a,FR,5,l.C4Q),l.wni(a,VR,5)),2&i){let o;l.mGM(o=l.lsd())&&(r.nzTabLinkTemplateDirective=o.first),l.mGM(o=l.lsd())&&(r.template=o.first),l.mGM(o=l.lsd())&&(r.linkDirective=o.first)}},viewQuery:function(i,r){if(1&i&&l.GBs(Tst,7),2&i){let a;l.mGM(a=l.lsd())&&(r.contentTemplate=a.first)}},inputs:{nzTitle:"nzTitle",nzClosable:"nzClosable",nzCloseIcon:"nzCloseIcon",nzDisabled:"nzDisabled",nzForceRender:"nzForceRender"},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],standalone:!0,features:[l.OA$,l.aNF],ngContentSelectors:Mst,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(i,r){1&i&&(l.NAR(Dst),l.DNE(0,Ist,1,0,"ng-template",null,0,l.C5r)(2,Ast,1,0,"ng-template",null,1,l.C5r))},encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzClosable",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzForceRender",void 0),n})();class Vst{}let Gst=0,XR=(()=>{class n{get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(t){this.indexToSelect=(0,hd.OE)(t,null)}get position(){return-1===["top","bottom"].indexOf(this.nzTabPosition)?"vertical":"horizontal"}get addable(){return"editable-card"===this.nzType&&!this.nzHideAdd}get closable(){return"editable-card"===this.nzType}get line(){return"line"===this.nzType}get inkBarAnimated(){return this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return"boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.tabPane}constructor(t,i,r,a,o){this.nzConfigService=t,this.ngZone=i,this.cdr=r,this.directionality=a,this.router=o,this._nzModuleName="tabs",this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzSelectChange=new l.bkB(!0),this.nzSelectedIndexChange=new l.bkB,this.nzTabListScroll=new l.bkB,this.nzClose=new l.bkB,this.nzAdd=new l.bkB,this.allTabs=new l.rOR,this.tabs=new l.rOR,this.dir="ltr",this.destroy$=new gt.B,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=ba.yU.EMPTY,this.tabsSubscription=ba.yU.EMPTY,this.canDeactivateSubscription=ba.yU.EMPTY,this.tabSetId=Gst++}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.setUpRouter())}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){const i=this.tabs.toArray();for(let r=0;r<i.length;r++)if(i[r].isActive){this.indexToSelect=this.selectedIndex=r;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){const t=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==t){const i=null==this.selectedIndex;i||this.nzSelectChange.emit(this.createChangeEvent(t)),Promise.resolve().then(()=>{this.tabs.forEach((r,a)=>r.isActive=a===t),i||this.nzSelectedIndexChange.emit(t)})}this.tabs.forEach((i,r)=>{i.position=r-t,null!=this.selectedIndex&&0===i.position&&!i.origin&&(i.origin=t-this.selectedIndex)}),this.selectedIndex!==t&&(this.selectedIndex=t,this.cdr.markForCheck())}onClose(t,i){i.preventDefault(),i.stopPropagation(),this.nzClose.emit({index:t})}onAdd(){this.nzAdd.emit()}clampTabIndex(t){return Math.min(this.tabs.length-1,Math.max(t||0,0))}createChangeEvent(t){const i=new Vst;return i.index=t,this.tabs&&this.tabs.length&&(i.tab=this.tabs.toArray()[t],this.tabs.forEach((r,a)=>{a!==t&&r.nzDeselect.emit()}),i.tab.nzSelect.emit()),i}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=(0,we.h)(...this.tabs.map(t=>t.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe((0,Re.Z)(this.allTabs)).subscribe(t=>{this.tabs.reset(t.filter(i=>i.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(t,i){return"function"==typeof this.nzCanDeactivate?(0,Y.cG)(this.nzCanDeactivate(t,i)).pipe((0,lst.$)(),(0,G.Q)(this.destroy$)):(0,Ii.of)(!0)}clickNavItem(t,i,r){t.nzDisabled||(t.nzClick.emit(),this.isRouterLinkClickEvent(i,r)||this.setSelectedIndex(i))}isRouterLinkClickEvent(t,i){const r=i.target;return!!this.nzLinkRouter&&!!this.tabs.toArray()[t]?.linkDirective?.elementRef.nativeElement.contains(r)}contextmenuNavItem(t,i){t.nzDisabled||t.nzContextmenu.emit(i)}setSelectedIndex(t){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,t).subscribe(i=>{i&&(this.nzSelectedIndex=t,this.tabNavBarRef.focusIndex=t,this.cdr.markForCheck())})}getTabIndex(t,i){return t.nzDisabled?null:this.selectedIndex===i?0:-1}getTabContentId(t){return`nz-tabs-${this.tabSetId}-tab-${t}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${gc.H3} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe((0,G.Q)(this.destroy$),(0,yn.p)(t=>t instanceof rn.wF),(0,Re.Z)(!0),(0,Mc.c)(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router.navigated){const t=this.findShouldActiveTabIndex();t!==this.selectedIndex&&this.setSelectedIndex(t),this.nzHideAll=-1===t}}findShouldActiveTabIndex(){const t=this.tabs.toArray(),i=this.isLinkActive(this.router);return t.findIndex(r=>{const a=r.linkDirective;return!!a&&i(a.routerLink)})}isLinkActive(t){return i=>!!i&&t.isActive(i.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(Pt.yx),l.rXU(l.SKi),l.rXU(l.gRc),l.rXU(se.dS,8),l.rXU(rn.Ix,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-tabset"]],contentQueries:function(i,r,a){if(1&i&&l.wni(a,HR,5),2&i){let o;l.mGM(o=l.lsd())&&(r.allTabs=o)}},viewQuery:function(i,r){if(1&i&&l.GBs(qf,5),2&i){let a;l.mGM(a=l.lsd())&&(r.tabNavBarRef=a.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(i,r){2&i&&l.AVh("ant-tabs-card","card"===r.nzType||"editable-card"===r.nzType)("ant-tabs-editable","editable-card"===r.nzType)("ant-tabs-editable-card","editable-card"===r.nzType)("ant-tabs-centered",r.nzCentered)("ant-tabs-rtl","rtl"===r.dir)("ant-tabs-top","top"===r.nzTabPosition)("ant-tabs-bottom","bottom"===r.nzTabPosition)("ant-tabs-left","left"===r.nzTabPosition)("ant-tabs-right","right"===r.nzTabPosition)("ant-tabs-default","default"===r.nzSize)("ant-tabs-small","small"===r.nzSize)("ant-tabs-large","large"===r.nzSize)},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:"nzHideAdd",nzCentered:"nzCentered",nzHideAll:"nzHideAll",nzLinkRouter:"nzLinkRouter",nzLinkExact:"nzLinkExact"},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],standalone:!0,features:[l.Jv_([{provide:GR,useExisting:n}]),l.aNF],decls:4,vars:12,consts:[[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked",4,"ngIf"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],["role","tabpanel","nz-tab-body","",3,"id","active","content","forceRender","animated",4,"ngFor","ngForOf"],[3,"tabScroll","selectFocusedIndex","addClicked","ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate"],["class","ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled","click","contextmenu",4,"ngFor","ngForOf"],[1,"ant-tabs-tab",3,"click","contextmenu"],["type","button","role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"id","disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["type","button","nz-tab-close-button","",3,"closeIcon","click",4,"ngIf"],["type","button","nz-tab-close-button","",3,"click","closeIcon"],["role","tabpanel","nz-tab-body","",3,"id","active","content","forceRender","animated"]],template:function(i,r){1&i&&(l.DNE(0,Ost,2,9,"nz-tabs-nav",0),l.j41(1,"div",1)(2,"div",2),l.DNE(3,Est,1,6,"div",3),l.k0s()()),2&i&&(l.Y8G("ngIf",r.tabs.length||r.addable),l.R7$(2),l.AVh("ant-tabs-content-top","top"===r.nzTabPosition)("ant-tabs-content-bottom","bottom"===r.nzTabPosition)("ant-tabs-content-left","left"===r.nzTabPosition)("ant-tabs-content-right","right"===r.nzTabPosition)("ant-tabs-content-animated",r.tabPaneAnimated),l.R7$(),l.Y8G("ngForOf",r.tabs))},dependencies:[qf,U.bT,U.B3,U.Sq,$_,li.Pd,li.vR,Xt.C,Xt.m,Z_,LR],encapsulation:2})}return(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzType",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzSize",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzAnimated",void 0),(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzTabBarGutter",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzHideAdd",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzCentered",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzHideAll",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzLinkRouter",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzLinkExact",void 0),n})(),Hst=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[XR,qf,$f,mc,Z_]})}return n})();const Xst=[[["nz-breadcrumb","nz-page-header-breadcrumb",""]],[["nz-avatar","nz-page-header-avatar",""]],[["nz-page-header-tags"],["","nz-page-header-tags",""]],[["nz-page-header-extra"],["","nz-page-header-extra",""]],[["nz-page-header-content"],["","nz-page-header-content",""]],[["nz-page-header-footer"],["","nz-page-header-footer",""]],[["nz-page-header-title"],["","nz-page-header-title",""]],[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]]],jst=["nz-breadcrumb[nz-page-header-breadcrumb]","nz-avatar[nz-page-header-avatar]","nz-page-header-tags, [nz-page-header-tags]","nz-page-header-extra, [nz-page-header-extra]","nz-page-header-content, [nz-page-header-content]","nz-page-header-footer, [nz-page-header-footer]","nz-page-header-title, [nz-page-header-title]","nz-page-header-subtitle, [nz-page-header-subtitle]"];function Yst(n,e){if(1&n&&(l.qex(0),l.nrm(1,"span",8),l.bVm()),2&n){const t=e.$implicit,i=l.XpG(2);l.R7$(),l.Y8G("nzType",t||i.getBackIcon())}}function Wst(n,e){if(1&n){const t=l.RV6();l.j41(0,"div",5),l.bIt("click",function(){l.eBV(t);const r=l.XpG();return l.Njj(r.onBack())}),l.j41(1,"div",6),l.DNE(2,Yst,2,1,"ng-container",7),l.k0s()()}if(2&n){const t=l.XpG();l.R7$(2),l.Y8G("nzStringTemplateOutlet",t.nzBackIcon)}}function Ust(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.JRh(t.nzTitle)}}function $st(n,e){if(1&n&&(l.j41(0,"span",3),l.DNE(1,Ust,2,1,"ng-container",7),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("nzStringTemplateOutlet",t.nzTitle)}}function Zst(n,e){1&n&&l.SdG(0,6)}function qst(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.JRh(t.nzSubtitle)}}function Kst(n,e){if(1&n&&(l.j41(0,"span",4),l.DNE(1,qst,2,1,"ng-container",7),l.k0s()),2&n){const t=l.XpG();l.R7$(),l.Y8G("nzStringTemplateOutlet",t.nzSubtitle)}}function Qst(n,e){1&n&&l.SdG(0,7)}let jR=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["nz-page-header-footer"],["","nz-page-header-footer",""]],hostAttrs:[1,"ant-page-header-footer"],exportAs:["nzPageHeaderFooter"],standalone:!0})}return n})(),YR=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=l.FsC({type:n,selectors:[["nz-breadcrumb","nz-page-header-breadcrumb",""]],exportAs:["nzPageHeaderBreadcrumb"],standalone:!0})}return n})(),olt=(()=>{class n{constructor(t,i,r,a,o,s){this.location=t,this.nzConfigService=i,this.elementRef=r,this.nzResizeObserver=a,this.cdr=o,this.directionality=s,this._nzModuleName="pageHeader",this.nzBackIcon=null,this.nzGhost=!0,this.nzBack=new l.bkB,this.compact=!1,this.destroy$=new gt.B,this.dir="ltr"}ngOnInit(){this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe((0,ue.T)(([t])=>t.contentRect.width),(0,G.Q)(this.destroy$)).subscribe(t=>{this.compact=t<768,this.cdr.markForCheck()})}onBack(){if(this.nzBack.observers.length)this.nzBack.emit();else{if(!this.location)throw new Error(`${gc.H3} you should import 'RouterModule' or register 'Location' if you want to use 'nzBack' default event!`);this.location.back()}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getBackIcon(){return"rtl"===this.dir?"arrow-right":"arrow-left"}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(U.aZ,8),l.rXU(Pt.yx),l.rXU(l.aKT),l.rXU(Rc),l.rXU(l.gRc),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-page-header"]],contentQueries:function(i,r,a){if(1&i&&(l.wni(a,jR,5),l.wni(a,YR,5)),2&i){let o;l.mGM(o=l.lsd())&&(r.nzPageHeaderFooter=o.first),l.mGM(o=l.lsd())&&(r.nzPageHeaderBreadcrumb=o.first)}},hostAttrs:[1,"ant-page-header"],hostVars:10,hostBindings:function(i,r){2&i&&l.AVh("has-footer",r.nzPageHeaderFooter)("ant-page-header-ghost",r.nzGhost)("has-breadcrumb",r.nzPageHeaderBreadcrumb)("ant-page-header-compact",r.compact)("ant-page-header-rtl","rtl"===r.dir)},inputs:{nzBackIcon:"nzBackIcon",nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzGhost:"nzGhost"},outputs:{nzBack:"nzBack"},exportAs:["nzPageHeader"],standalone:!0,features:[l.aNF],ngContentSelectors:jst,decls:13,vars:3,consts:[[1,"ant-page-header-heading"],[1,"ant-page-header-heading-left"],[1,"ant-page-header-back"],[1,"ant-page-header-heading-title"],[1,"ant-page-header-heading-sub-title"],[1,"ant-page-header-back",3,"click"],["role","button","tabindex","0",1,"ant-page-header-back-button"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(i,r){1&i&&(l.NAR(Xst),l.SdG(0),l.j41(1,"div",0)(2,"div",1),l.DNE(3,Wst,3,1,"div",2),l.SdG(4,1),l.DNE(5,$st,2,1,"span",3)(6,Zst,1,0)(7,Kst,2,1,"span",4)(8,Qst,1,0),l.SdG(9,2),l.k0s(),l.SdG(10,3),l.k0s(),l.SdG(11,4),l.SdG(12,5)),2&i&&(l.R7$(3),l.vxM(3,null!==r.nzBackIcon?3:-1),l.R7$(2),l.vxM(5,r.nzTitle?5:6),l.R7$(2),l.vxM(7,r.nzSubtitle?7:8))},dependencies:[Xt.C,Xt.m,vt.Y3,vt.Dn],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Pt.H4)()],n.prototype,"nzGhost",void 0),n})(),slt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[olt]})}return n})();var yc=tt(1626),llt=tt(8141),ga=tt(9969),WR=tt(5154);const ult=["file"],clt=["nz-upload-btn",""],UR=["*"],_c=n=>({$implicit:n}),hlt=()=>({opacity:.5,"pointer-events":"none"});function plt(n,e){}function flt(n,e){if(1&n&&(l.j41(0,"div",20),l.DNE(1,plt,0,0,"ng-template",21),l.k0s()),2&n){const t=l.XpG(2).$implicit,i=l.sdS(5);l.AVh("ant-upload-list-item-file",!t.isUploading),l.R7$(),l.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",l.eq3(4,_c,t))}}function dlt(n,e){if(1&n&&l.nrm(0,"img",24),2&n){const t=l.XpG(3).$implicit;l.Y8G("src",t.thumbUrl||t.url,l.B4B),l.BMQ("alt",t.name)}}function vlt(n,e){if(1&n){const t=l.RV6();l.j41(0,"a",22),l.bIt("click",function(r){l.eBV(t);const a=l.XpG(2).$implicit,o=l.XpG();return l.Njj(o.handlePreview(a,r))}),l.DNE(1,dlt,1,2,"img",23),l.k0s()}if(2&n){l.XpG();const t=l.sdS(5),i=l.XpG().$implicit;l.AVh("ant-upload-list-item-file",!i.isImageUrl),l.Y8G("href",i.url||i.thumbUrl,l.B4B),l.R7$(),l.Y8G("ngIf",i.isImageUrl)("ngIfElse",t)}}function glt(n,e){}function mlt(n,e){if(1&n&&(l.j41(0,"div",25),l.DNE(1,glt,0,0,"ng-template",21),l.k0s()),2&n){const t=l.XpG(2).$implicit,i=l.sdS(5);l.R7$(),l.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",l.eq3(2,_c,t))}}function ylt(n,e){}function _lt(n,e){if(1&n&&l.DNE(0,ylt,0,0,"ng-template",21),2&n){const t=l.XpG(2).$implicit,i=l.sdS(5);l.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",l.eq3(2,_c,t))}}function blt(n,e){if(1&n&&(l.qex(0,16),l.DNE(1,flt,2,6,"div",17)(2,vlt,2,5,"a",18)(3,mlt,2,4,"div",19),l.bVm(),l.DNE(4,_lt,1,4,"ng-template",null,6,l.C5r)),2&n){const t=l.XpG().$implicit;l.Y8G("ngSwitch",t.iconType),l.R7$(),l.Y8G("ngSwitchCase","uploading"),l.R7$(),l.Y8G("ngSwitchCase","thumbnail")}}function Clt(n,e){1&n&&(l.qex(0),l.nrm(1,"span",29),l.bVm())}function Slt(n,e){if(1&n&&(l.qex(0),l.DNE(1,Clt,2,0,"ng-container",26),l.bVm()),2&n){const t=l.XpG(2).$implicit,i=l.sdS(4);l.R7$(),l.Y8G("ngIf",t.isUploading)("ngIfElse",i)}}function xlt(n,e){if(1&n&&(l.qex(0),l.EFF(1),l.bVm()),2&n){const t=l.XpG(5);l.R7$(),l.SpI(" ",t.locale.uploading," ")}}function zlt(n,e){if(1&n&&(l.qex(0),l.DNE(1,xlt,2,1,"ng-container",26),l.bVm()),2&n){const t=l.XpG(2).$implicit,i=l.sdS(4);l.R7$(),l.Y8G("ngIf",t.isUploading)("ngIfElse",i)}}function wlt(n,e){if(1&n&&l.nrm(0,"span",30),2&n){const t=l.XpG(2).$implicit;l.Y8G("nzType",t.isUploading?"loading":"paper-clip")}}function Tlt(n,e){if(1&n&&(l.qex(0)(1,16),l.DNE(2,Slt,2,2,"ng-container",27)(3,zlt,2,2,"ng-container",27)(4,wlt,1,1,"span",28),l.bVm()()),2&n){const t=l.XpG(3);l.R7$(),l.Y8G("ngSwitch",t.listType),l.R7$(),l.Y8G("ngSwitchCase","picture"),l.R7$(),l.Y8G("ngSwitchCase","picture-card")}}function Dlt(n,e){}function Mlt(n,e){if(1&n&&l.nrm(0,"span",31),2&n){const t=l.XpG().$implicit;l.Y8G("nzType",t.isImageUrl?"picture":"file")}}function Ilt(n,e){if(1&n&&l.DNE(0,Tlt,5,3,"ng-container",26)(1,Dlt,0,0,"ng-template",21,7,l.C5r)(3,Mlt,1,1,"ng-template",null,8,l.C5r),2&n){const t=e.$implicit,i=l.sdS(2),r=l.XpG(2);l.Y8G("ngIf",!r.iconRender)("ngIfElse",i),l.R7$(),l.Y8G("ngTemplateOutlet",r.iconRender)("ngTemplateOutletContext",l.eq3(4,_c,t))}}function Alt(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",33),l.bIt("click",function(r){l.eBV(t);const a=l.XpG(2).$implicit,o=l.XpG();return l.Njj(o.handleRemove(a,r))}),l.nrm(1,"span",34),l.k0s()}if(2&n){const t=l.XpG(3);l.BMQ("title",t.locale.removeFile)}}function klt(n,e){if(1&n&&l.DNE(0,Alt,2,1,"button",32),2&n){const t=l.XpG(2);l.Y8G("ngIf",t.icons.showRemoveIcon)}}function Plt(n,e){if(1&n){const t=l.RV6();l.j41(0,"button",33),l.bIt("click",function(){l.eBV(t);const r=l.XpG(2).$implicit,a=l.XpG();return l.Njj(a.handleDownload(r))}),l.nrm(1,"span",35),l.k0s()}if(2&n){const t=l.XpG(3);l.BMQ("title",t.locale.downloadFile)}}function Rlt(n,e){if(1&n&&l.DNE(0,Plt,2,1,"button",32),2&n){const t=l.XpG().$implicit;l.Y8G("ngIf",t.showDownload)}}function Nlt(n,e){}function Olt(n,e){}function Elt(n,e){if(1&n&&(l.j41(0,"span"),l.DNE(1,Nlt,0,0,"ng-template",13)(2,Olt,0,0,"ng-template",13),l.k0s()),2&n){l.XpG(2);const t=l.sdS(7),i=l.sdS(9),r=l.XpG();l.ZvI("ant-upload-list-item-card-actions ","picture"===r.listType?"picture":"",""),l.R7$(),l.Y8G("ngTemplateOutlet",i),l.R7$(),l.Y8G("ngTemplateOutlet",t)}}function Llt(n,e){if(1&n&&l.DNE(0,Elt,3,5,"span",36),2&n){const t=l.XpG(2);l.Y8G("ngIf","picture-card"!==t.listType)}}function Blt(n,e){if(1&n){const t=l.RV6();l.j41(0,"a",39),l.bIt("click",function(r){l.eBV(t);const a=l.XpG(2).$implicit,o=l.XpG();return l.Njj(o.handlePreview(a,r))}),l.EFF(1),l.k0s()}if(2&n){const t=l.XpG(2).$implicit;l.Y8G("href",t.url,l.B4B),l.BMQ("title",t.name)("download",t.linkProps&&t.linkProps.download),l.R7$(),l.SpI(" ",t.name," ")}}function Vlt(n,e){if(1&n){const t=l.RV6();l.j41(0,"span",40),l.bIt("click",function(r){l.eBV(t);const a=l.XpG(2).$implicit,o=l.XpG();return l.Njj(o.handlePreview(a,r))}),l.EFF(1),l.k0s()}if(2&n){const t=l.XpG(2).$implicit;l.BMQ("title",t.name),l.R7$(),l.SpI(" ",t.name," ")}}function Flt(n,e){}function Glt(n,e){if(1&n&&l.DNE(0,Blt,2,4,"a",37)(1,Vlt,2,2,"span",38)(2,Flt,0,0,"ng-template",13),2&n){const t=l.XpG().$implicit,i=l.sdS(11);l.Y8G("ngIf",t.url),l.R7$(),l.Y8G("ngIf",!t.url),l.R7$(),l.Y8G("ngTemplateOutlet",i)}}function Hlt(n,e){}function Xlt(n,e){}function jlt(n,e){if(1&n){const t=l.RV6();l.j41(0,"a",44),l.bIt("click",function(r){l.eBV(t);const a=l.XpG(2).$implicit,o=l.XpG();return l.Njj(o.handlePreview(a,r))}),l.nrm(1,"span",45),l.k0s()}if(2&n){const t=l.XpG(2).$implicit,i=l.XpG();l.Y8G("href",t.url||t.thumbUrl,l.B4B)("ngStyle",t.url||t.thumbUrl?null:l.lJ4(3,hlt)),l.BMQ("title",i.locale.previewFile)}}function Ylt(n,e){}function Wlt(n,e){if(1&n&&(l.qex(0),l.DNE(1,Ylt,0,0,"ng-template",13),l.bVm()),2&n){l.XpG(2);const t=l.sdS(9);l.R7$(),l.Y8G("ngTemplateOutlet",t)}}function Ult(n,e){}function $lt(n,e){if(1&n&&(l.j41(0,"span",41),l.DNE(1,jlt,2,4,"a",42)(2,Wlt,2,1,"ng-container",43)(3,Ult,0,0,"ng-template",13),l.k0s()),2&n){const t=l.XpG().$implicit,i=l.sdS(7),r=l.XpG();l.R7$(),l.Y8G("ngIf",r.icons.showPreviewIcon),l.R7$(),l.Y8G("ngIf","done"===t.status),l.R7$(),l.Y8G("ngTemplateOutlet",i)}}function Zlt(n,e){if(1&n&&(l.j41(0,"div",46),l.nrm(1,"nz-progress",47),l.k0s()),2&n){const t=l.XpG().$implicit;l.R7$(),l.Y8G("nzPercent",t.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function qlt(n,e){if(1&n&&(l.j41(0,"div")(1,"div",10),l.DNE(2,blt,6,3,"ng-template",null,0,l.C5r)(4,Ilt,5,6,"ng-template",null,1,l.C5r)(6,klt,1,1,"ng-template",null,2,l.C5r)(8,Rlt,1,1,"ng-template",null,3,l.C5r)(10,Llt,1,1,"ng-template",null,4,l.C5r)(12,Glt,3,3,"ng-template",null,5,l.C5r),l.j41(14,"div",11)(15,"span",12),l.DNE(16,Hlt,0,0,"ng-template",13)(17,Xlt,0,0,"ng-template",13),l.k0s()(),l.DNE(18,$lt,4,3,"span",14)(19,Zlt,2,3,"div",15),l.k0s()()),2&n){const t=e.$implicit,i=l.sdS(3),r=l.sdS(13),a=l.XpG();l.ZvI("ant-upload-list-",a.listType,"-container"),l.R7$(),l.STu("ant-upload-list-item ant-upload-list-item-",t.status," ant-upload-list-item-list-type-",a.listType,""),l.Y8G("@itemState",void 0)("nzTooltipTitle","error"===t.status?t.message:null),l.BMQ("data-key",t.key),l.R7$(15),l.Y8G("ngTemplateOutlet",i),l.R7$(),l.Y8G("ngTemplateOutlet",r),l.R7$(),l.Y8G("ngIf","picture-card"===a.listType&&!t.isUploading),l.R7$(),l.Y8G("ngIf",t.isUploading)}}const Klt=["uploadComp"],Qlt=["listComp"],Jlt=()=>[];function tut(n,e){if(1&n&&l.nrm(0,"nz-upload-list",10,5),2&n){const t=l.XpG(2);l.xc7("display",t.nzShowUploadList?"":"none"),l.Y8G("locale",t.locale)("listType",t.nzListType)("items",t.nzFileList||l.lJ4(13,Jlt))("icons",t.nzShowUploadList)("iconRender",t.nzIconRender)("previewFile",t.nzPreviewFile)("previewIsImage",t.nzPreviewIsImage)("onPreview",t.nzPreview)("onRemove",t.onRemove)("onDownload",t.nzDownload)("dir",t.dir)}}function eut(n,e){1&n&&l.eu8(0)}function nut(n,e){if(1&n&&(l.qex(0),l.DNE(1,eut,1,0,"ng-container",11),l.bVm()),2&n){const t=l.XpG(2);l.R7$(),l.Y8G("ngTemplateOutlet",t.nzFileListRender)("ngTemplateOutletContext",l.eq3(2,_c,t.nzFileList))}}function iut(n,e){if(1&n&&l.DNE(0,tut,2,14,"nz-upload-list",8)(1,nut,2,4,"ng-container",9),2&n){const t=l.XpG();l.Y8G("ngIf",t.locale&&!t.nzFileListRender),l.R7$(),l.Y8G("ngIf",t.nzFileListRender)}}function rut(n,e){1&n&&l.SdG(0)}function aut(n,e){}function out(n,e){if(1&n&&(l.j41(0,"div",12)(1,"div",13,6),l.DNE(3,aut,0,0,"ng-template",14),l.k0s()()),2&n){const t=l.XpG(),i=l.sdS(3);l.xc7("display",t.nzShowButton?"":"none"),l.Y8G("ngClass",t.classList),l.R7$(),l.Y8G("options",t._btnOptions),l.R7$(2),l.Y8G("ngTemplateOutlet",i)}}function sut(n,e){}function lut(n,e){}function uut(n,e){if(1&n){const t=l.RV6();l.qex(0),l.j41(1,"div",15),l.bIt("drop",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.fileDrop(r))})("dragover",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.fileDrop(r))})("dragleave",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.fileDrop(r))}),l.j41(2,"div",16,6)(4,"div",17),l.DNE(5,sut,0,0,"ng-template",14),l.k0s()()(),l.DNE(6,lut,0,0,"ng-template",14),l.bVm()}if(2&n){const t=l.XpG(),i=l.sdS(1),r=l.sdS(3);l.R7$(),l.Y8G("ngClass",t.classList),l.R7$(),l.Y8G("options",t._btnOptions),l.R7$(3),l.Y8G("ngTemplateOutlet",r),l.R7$(),l.Y8G("ngTemplateOutlet",i)}}function cut(n,e){}function hut(n,e){}function put(n,e){if(1&n&&(l.qex(0),l.DNE(1,cut,0,0,"ng-template",14)(2,hut,0,0,"ng-template",14),l.bVm()),2&n){l.XpG(2);const t=l.sdS(1),i=l.sdS(5);l.R7$(),l.Y8G("ngTemplateOutlet",t),l.R7$(),l.Y8G("ngTemplateOutlet",i)}}function fut(n,e){if(1&n&&l.DNE(0,put,3,2,"ng-container",7),2&n){const t=l.XpG(),i=l.sdS(10);l.Y8G("ngIf","picture-card"===t.nzListType)("ngIfElse",i)}}function dut(n,e){}function vut(n,e){}function gut(n,e){if(1&n&&l.DNE(0,dut,0,0,"ng-template",14)(1,vut,0,0,"ng-template",14),2&n){l.XpG();const t=l.sdS(1),i=l.sdS(5);l.Y8G("ngTemplateOutlet",i),l.R7$(),l.Y8G("ngTemplateOutlet",t)}}let mut=(()=>{class n{onClick(){this.options.disabled||!this.options.openFileDialogOnClick||this.file.nativeElement.click()}onFileDrop(t){if(this.options.disabled||"dragover"===t.type)t.preventDefault();else{if(this.options.directory)this.traverseFileTree(t.dataTransfer.items);else{const i=Array.prototype.slice.call(t.dataTransfer.files).filter(r=>this.attrAccept(r,this.options.accept));i.length&&this.uploadFiles(i)}t.preventDefault()}}onChange(t){if(this.options.disabled)return;const i=t.target;this.uploadFiles(i.files),i.value=""}traverseFileTree(t){const i=(r,a)=>{r.isFile?r.file(o=>{this.attrAccept(o,this.options.accept)&&this.uploadFiles([o])}):r.isDirectory&&r.createReader().readEntries(s=>{for(const u of s)i(u,`${a}${r.name}/`)})};for(const r of t)i(r.webkitGetAsEntry(),"")}attrAccept(t,i){if(t&&i){const r=Array.isArray(i)?i:i.split(","),a=`${t.name}`,o=`${t.type}`,s=o.replace(/\/.*$/,"");return r.some(u=>{const c=u.trim();return"."===c.charAt(0)?-1!==a.toLowerCase().indexOf(c.toLowerCase(),a.toLowerCase().length-c.toLowerCase().length):/\/\*$/.test(c)?s===c.replace(/\/.*$/,""):o===c})}return!0}attachUid(t){return t.uid||(t.uid=Math.random().toString(36).substring(2)),t}uploadFiles(t){let i=(0,Ii.of)(Array.prototype.slice.call(t));this.options.filters&&this.options.filters.forEach(r=>{i=i.pipe((0,Se.n)(a=>{const o=r.fn(a);return o instanceof kr.c?o:(0,Ii.of)(o)}))}),i.subscribe(r=>{r.forEach(a=>{this.attachUid(a),this.upload(a,r)})},r=>{(0,gc.R8)("Unhandled upload filter error",r)})}upload(t,i){if(!this.options.beforeUpload)return this.post(t);const r=this.options.beforeUpload(t,i);if(r instanceof kr.c)r.subscribe(a=>{const o=Object.prototype.toString.call(a);"[object File]"===o||"[object Blob]"===o?(this.attachUid(a),this.post(a)):"boolean"==typeof a&&!1!==a&&this.post(t)},a=>{(0,gc.R8)("Unhandled upload beforeUpload error",a)});else if(!1!==r)return this.post(t)}post(t){if(this.destroy)return;let r,i=(0,Ii.of)(t);const a=this.options,{uid:o}=t,{action:s,data:u,headers:c,transformFile:h}=a,p={action:"string"==typeof s?s:"",name:a.name,headers:c,file:t,postFile:t,data:u,withCredentials:a.withCredentials,onProgress:a.onProgress?f=>{a.onProgress(f,t)}:void 0,onSuccess:(f,d)=>{this.clean(o),a.onSuccess(f,t,d)},onError:f=>{this.clean(o),a.onError(f,t)}};if("function"==typeof s){const f=s(t);f instanceof kr.c?i=i.pipe((0,Se.n)(()=>f),(0,ue.T)(d=>(p.action=d,t))):p.action=f}if("function"==typeof h){const f=h(t);i=i.pipe((0,Se.n)(()=>f instanceof kr.c?f:(0,Ii.of)(f)),(0,llt.M)(d=>r=d))}if("function"==typeof u){const f=u(t);f instanceof kr.c?i=i.pipe((0,Se.n)(()=>f),(0,ue.T)(d=>(p.data=d,r??t))):p.data=f}if("function"==typeof c){const f=c(t);f instanceof kr.c?i=i.pipe((0,Se.n)(()=>f),(0,ue.T)(d=>(p.headers=d,r??t))):p.headers=f}i.subscribe(f=>{p.postFile=f;const d=(a.customRequest||this.xhr).call(this,p);d instanceof ba.yU||(0,gc.R8)("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[o]=d,a.onStart(t)})}xhr(t){const i=new FormData;t.data&&Object.keys(t.data).map(a=>{i.append(a,t.data[a])}),i.append(t.name,t.postFile),t.headers||(t.headers={}),null!==t.headers["X-Requested-With"]?t.headers["X-Requested-With"]="XMLHttpRequest":delete t.headers["X-Requested-With"];const r=new yc.Kd("POST",t.action,i,{reportProgress:!0,withCredentials:t.withCredentials,headers:new yc.Lr(t.headers)});return this.http.request(r).subscribe(a=>{a.type===yc.hv.UploadProgress?(a.total>0&&(a.percent=a.loaded/a.total*100),t.onProgress(a,t.file)):a instanceof yc.cS&&t.onSuccess(a.body,t.file,a)},a=>{this.abort(t.file),t.onError(a,t.file)})}clean(t){const i=this.reqs[t];i instanceof ba.yU&&i.unsubscribe(),delete this.reqs[t]}abort(t){t?this.clean(t&&t.uid):Object.keys(this.reqs).forEach(i=>this.clean(i))}constructor(t,i,r){if(this.ngZone=t,this.http=i,this.elementRef=r,this.reqs={},this.destroy=!1,this.destroy$=new gt.B,!i)throw new Error("Not found 'HttpClient', You can import 'HttpClientModule' in your root module.")}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,qt.R)(this.elementRef.nativeElement,"click").pipe((0,G.Q)(this.destroy$)).subscribe(()=>this.onClick()),(0,qt.R)(this.elementRef.nativeElement,"keydown").pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.options.disabled||("Enter"===t.key||t.keyCode===Kt.Fm)&&this.onClick()})})}ngOnDestroy(){this.destroy=!0,this.destroy$.next(),this.abort()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.SKi),l.rXU(yc.Qq,8),l.rXU(l.aKT))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["","nz-upload-btn",""]],viewQuery:function(i,r){if(1&i&&l.GBs(ult,7),2&i){let a;l.mGM(a=l.lsd())&&(r.file=a.first)}},hostAttrs:[1,"ant-upload"],hostVars:4,hostBindings:function(i,r){1&i&&l.bIt("drop",function(o){return r.onFileDrop(o)})("dragover",function(o){return r.onFileDrop(o)}),2&i&&(l.BMQ("tabindex","0")("role","button"),l.AVh("ant-upload-disabled",r.options.disabled))},inputs:{options:"options"},exportAs:["nzUploadBtn"],standalone:!0,features:[l.aNF],attrs:clt,ngContentSelectors:UR,decls:3,vars:6,consts:[["file",""],["type","file",3,"change","multiple"]],template:function(i,r){if(1&i){const a=l.RV6();l.NAR(),l.j41(0,"input",1,0),l.bIt("change",function(s){return l.eBV(a),l.Njj(r.onChange(s))}),l.k0s(),l.SdG(2)}2&i&&(l.xc7("display","none"),l.Y8G("multiple",r.options.multiple),l.BMQ("accept",r.options.accept)("directory",r.options.directory?"directory":null)("webkitdirectory",r.options.directory?"webkitdirectory":null))},encapsulation:2})}return n})();const $R=n=>!!n&&0===n.indexOf("image/");let ZR=(()=>{class n{get showPic(){return"picture"===this.listType||"picture-card"===this.listType}set items(t){this.list=t}genErr(t){return t.response&&"string"==typeof t.response?t.response:t.error&&t.error.statusText||this.locale.uploadError}extname(t){const i=t.split("/"),a=i[i.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(a)||[""])[0]}isImageUrl(t){if($R(t.type))return!0;const i=t.thumbUrl||t.url||"";if(!i)return!1;const r=this.extname(i);return!(!/^data:image\//.test(i)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(r))||!/^data:/.test(i)&&!r}getIconType(t){return this.showPic?t.isUploading||!t.thumbUrl&&!t.url?"uploading":"thumbnail":""}previewImage(t){if(!$R(t.type)||!this.platform.isBrowser)return(0,Ii.of)("");const i=this.doc.createElement("canvas");i.width=200,i.height=200,i.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;",this.doc.body.appendChild(i);const r=i.getContext("2d"),a=new Image,o=URL.createObjectURL(t);return a.src=o,(0,qt.R)(a,"load").pipe((0,ue.T)(()=>{const{width:s,height:u}=a;let c=200,h=200,p=0,f=0;s<u?(h=u*(200/s),f=-(h-c)/2):(c=s*(200/u),p=-(c-h)/2);try{r.drawImage(a,p,f,c,h)}catch{}const d=i.toDataURL();return this.doc.body.removeChild(i),URL.revokeObjectURL(o),d}))}genThumb(){if(!this.platform.isBrowser)return;const t=window;!this.showPic||typeof document>"u"||typeof t>"u"||!t.FileReader||!t.File||this.list.filter(i=>i.originFileObj instanceof File&&void 0===i.thumbUrl).forEach(i=>{i.thumbUrl="";const r=(this.previewFile?this.previewFile(i):this.previewImage(i.originFileObj)).pipe((0,G.Q)(this.destroy$));this.ngZone.runOutsideAngular(()=>{r.subscribe(a=>{this.ngZone.run(()=>{i.thumbUrl=a,this.detectChanges()})})})})}showDownload(t){return!(!this.icons.showDownloadIcon||"done"!==t.status)}fixData(){this.list.forEach(t=>{t.isUploading="uploading"===t.status,t.message=this.genErr(t),t.linkProps="string"==typeof t.linkProps?JSON.parse(t.linkProps):t.linkProps,t.isImageUrl=this.previewIsImage?this.previewIsImage(t):this.isImageUrl(t),t.iconType=this.getIconType(t),t.showDownload=this.showDownload(t)})}handlePreview(t,i){if(this.onPreview)return i.preventDefault(),this.onPreview(t)}handleRemove(t,i){i.preventDefault(),this.onRemove&&this.onRemove(t)}handleDownload(t){"function"==typeof this.onDownload?this.onDownload(t):t.url&&window.open(t.url)}constructor(t,i,r,a){this.cdr=t,this.doc=i,this.ngZone=r,this.platform=a,this.list=[],this.locale={},this.iconRender=null,this.dir="ltr",this.destroy$=new gt.B}detectChanges(){this.fixData(),this.cdr.detectChanges()}ngOnChanges(){this.fixData(),this.genThumb()}ngOnDestroy(){this.destroy$.next()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(U.qQ),l.rXU(l.SKi),l.rXU(Xo.OD))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-upload-list"]],hostAttrs:[1,"ant-upload-list"],hostVars:8,hostBindings:function(i,r){2&i&&l.AVh("ant-upload-list-rtl","rtl"===r.dir)("ant-upload-list-text","text"===r.listType)("ant-upload-list-picture","picture"===r.listType)("ant-upload-list-picture-card","picture-card"===r.listType)},inputs:{locale:"locale",listType:"listType",items:"items",icons:"icons",onPreview:"onPreview",onRemove:"onRemove",onDownload:"onDownload",previewFile:"previewFile",previewIsImage:"previewIsImage",iconRender:"iconRender",dir:"dir"},exportAs:["nzUploadList"],standalone:!0,features:[l.OA$,l.aNF],decls:1,vars:1,consts:[["icon",""],["iconNode",""],["removeIcon",""],["downloadIcon",""],["downloadOrDelete",""],["preview",""],["noImageThumbTpl",""],["customIconRender",""],["iconNodeFileIcon",""],[3,"class",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],[1,"ant-upload-list-item-info"],[1,"ant-upload-span"],[3,"ngTemplateOutlet"],["class","ant-upload-list-item-actions",4,"ngIf"],["class","ant-upload-list-item-progress",4,"ngIf"],[3,"ngSwitch"],["class","ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file",4,"ngSwitchCase"],["class","ant-upload-list-item-thumbnail","target","_blank","rel","noopener noreferrer",3,"ant-upload-list-item-file","href","click",4,"ngSwitchCase"],["class","ant-upload-text-icon",4,"ngSwitchDefault"],[1,"ant-upload-list-item-thumbnail"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"click","href"],["class","ant-upload-list-item-image",3,"src",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-image",3,"src"],[1,"ant-upload-text-icon"],[4,"ngIf","ngIfElse"],[4,"ngSwitchCase"],["nz-icon","",3,"nzType",4,"ngSwitchDefault"],["nz-icon","","nzType","loading"],["nz-icon","",3,"nzType"],["nz-icon","","nzTheme","twotone",3,"nzType"],["type","button","nz-button","","nzType","text","nzSize","small","class","ant-upload-list-item-card-actions-btn",3,"click",4,"ngIf"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn",3,"click"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","download"],[3,"class",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","ant-upload-list-item-name",3,"href","click",4,"ngIf"],["class","ant-upload-list-item-name",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"click","href"],[1,"ant-upload-list-item-name",3,"click"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click",4,"ngIf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"click","href","ngStyle"],["nz-icon","","nzType","eye"],[1,"ant-upload-list-item-progress"],["nzType","line",3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(i,r){1&i&&l.DNE(0,qlt,20,14,"div",9),2&i&&l.Y8G("ngForOf",r.list)},dependencies:[U.Sq,WR.Qt,WR.LH,U.ux,U.T3,U.bT,U.fG,U.e1,vt.Y3,vt.Dn,an.Zw,an.aO,Rn.c,U.B3,ib,ad],encapsulation:2,data:{animation:[(0,ga.hZ)("itemState",[(0,ga.kY)(":enter",[(0,ga.iF)({height:"0",width:"0",opacity:0}),(0,ga.i0)(150,(0,ga.iF)({height:"*",width:"*",opacity:1}))]),(0,ga.kY)(":leave",[(0,ga.i0)(150,(0,ga.iF)({height:"0",width:"0",opacity:0}))])])]},changeDetection:0})}return n})(),yut=(()=>{class n{set nzShowUploadList(t){this._showUploadList="boolean"==typeof t?(0,Y.G4)(t):t}get nzShowUploadList(){return this._showUploadList}zipOptions(){"boolean"==typeof this.nzShowUploadList&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!0});const t=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&-1===t.findIndex(i=>"limit"===i.name)&&t.push({name:"limit",fn:i=>i.slice(-this.nzLimit)}),this.nzSize>0&&-1===t.findIndex(i=>"size"===i.name)&&t.push({name:"size",fn:i=>i.filter(r=>r.size/1024<=this.nzSize)}),this.nzFileType&&this.nzFileType.length>0&&-1===t.findIndex(i=>"type"===i.name)){const i=this.nzFileType.split(",");t.push({name:"type",fn:r=>r.filter(a=>~i.indexOf(a.type))})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:t,transformFile:this.nzTransformFile,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}constructor(t,i,r,a,o){this.ngZone=t,this.document=i,this.cdr=r,this.i18n=a,this.directionality=o,this.destroy$=new gt.B,this.dir="ltr",this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzIconRender=null,this.nzFileListRender=null,this.nzChange=new l.bkB,this.nzFileListChange=new l.bkB,this.onStart=s=>{this.nzFileList||(this.nzFileList=[]);const u=this.fileToObject(s);u.status="uploading",this.nzFileList=this.nzFileList.concat(u),this.nzFileListChange.emit(this.nzFileList),this.nzChange.emit({file:u,fileList:this.nzFileList,type:"start"}),this.detectChangesList()},this.onProgress=(s,u)=>{const h=this.getFileItem(u,this.nzFileList);h.percent=s.percent,this.nzChange.emit({event:s,file:{...h},fileList:this.nzFileList,type:"progress"}),this.detectChangesList()},this.onSuccess=(s,u)=>{const c=this.nzFileList,h=this.getFileItem(u,c);h.status="done",h.response=s,this.nzChange.emit({file:{...h},fileList:c,type:"success"}),this.detectChangesList()},this.onError=(s,u)=>{const c=this.nzFileList,h=this.getFileItem(u,c);h.error=s,h.status="error",this.nzChange.emit({file:{...h},fileList:c,type:"error"}),this.detectChangesList()},this.onRemove=s=>{this.uploadComp.abort(s),s.status="removed";const u="function"==typeof this.nzRemove?this.nzRemove(s):null==this.nzRemove||this.nzRemove;(u instanceof kr.c?u:(0,Ii.of)(u)).pipe((0,yn.p)(c=>c)).subscribe(()=>{this.nzFileList=this.removeFileItem(s,this.nzFileList),this.nzChange.emit({file:s,fileList:this.nzFileList,type:"removed"}),this.nzFileListChange.emit(this.nzFileList),this.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}fileToObject(t){return{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.filename||t.name,size:t.size,type:t.type,uid:t.uid,response:t.response,error:t.error,percent:0,originFileObj:t}}getFileItem(t,i){return i.filter(r=>r.uid===t.uid)[0]}removeFileItem(t,i){return i.filter(r=>r.uid!==t.uid)}fileDrop(t){t.type!==this.dragState&&(this.dragState=t.type,this.setClassMap())}detectChangesList(){this.cdr.detectChanges(),this.listComp?.detectChanges()}setClassMap(){let t=[];"drag"===this.nzType?(this.nzFileList.some(i=>"uploading"===i.status)&&t.push(`${this.prefixCls}-drag-uploading`),"dragover"===this.dragState&&t.push(`${this.prefixCls}-drag-hover`)):t=[`${this.prefixCls}-select-${this.nzListType}`],this.classList=[this.prefixCls,`${this.prefixCls}-${this.nzType}`,...t,this.nzDisabled&&`${this.prefixCls}-disabled`||"","rtl"===this.dir&&`${this.prefixCls}-rtl`||""].filter(i=>!!i),this.cdr.detectChanges()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.setClassMap(),this.cdr.detectChanges()}),this.i18n.localeChange.pipe((0,G.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Upload"),this.detectChangesList()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>(0,qt.R)(this.document.body,"drop").pipe((0,G.Q)(this.destroy$)).subscribe(t=>{t.preventDefault(),t.stopPropagation()}))}ngOnChanges(){this.zipOptions().setClassMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.SKi),l.rXU(U.qQ),l.rXU(l.gRc),l.rXU(Pc.Og),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-upload"]],viewQuery:function(i,r){if(1&i&&(l.GBs(Klt,5),l.GBs(Qlt,5)),2&i){let a;l.mGM(a=l.lsd())&&(r.uploadComp=a.first),l.mGM(a=l.lsd())&&(r.listComp=a.first)}},hostVars:2,hostBindings:function(i,r){2&i&&l.AVh("ant-upload-picture-card-wrapper","picture-card"===r.nzListType)},inputs:{nzType:"nzType",nzLimit:"nzLimit",nzSize:"nzSize",nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzDirectory:"nzDirectory",nzOpenFileDialogOnClick:"nzOpenFileDialogOnClick",nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:"nzDisabled",nzHeaders:"nzHeaders",nzListType:"nzListType",nzMultiple:"nzMultiple",nzName:"nzName",nzShowUploadList:"nzShowUploadList",nzShowButton:"nzShowButton",nzWithCredentials:"nzWithCredentials",nzRemove:"nzRemove",nzPreview:"nzPreview",nzPreviewFile:"nzPreviewFile",nzPreviewIsImage:"nzPreviewIsImage",nzTransformFile:"nzTransformFile",nzDownload:"nzDownload",nzIconRender:"nzIconRender",nzFileListRender:"nzFileListRender"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],standalone:!0,features:[l.OA$,l.aNF],ngContentSelectors:UR,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],["select",""],["pic",""],["listComp",""],["uploadComp",""],[4,"ngIf","ngIfElse"],[3,"display","locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir",4,"ngIf"],[4,"ngIf"],[3,"locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["nz-upload-btn","",3,"options"],[3,"ngTemplateOutlet"],[3,"drop","dragover","dragleave","ngClass"],["nz-upload-btn","",1,"ant-upload-btn",3,"options"],[1,"ant-upload-drag-container"]],template:function(i,r){if(1&i&&(l.NAR(),l.DNE(0,iut,2,2,"ng-template",null,0,l.C5r)(2,rut,1,0,"ng-template",null,1,l.C5r)(4,out,4,5,"ng-template",null,2,l.C5r)(6,uut,7,4,"ng-container",7)(7,fut,1,2,"ng-template",null,3,l.C5r)(9,gut,2,2,"ng-template",null,4,l.C5r)),2&i){const a=l.sdS(8);l.R7$(6),l.Y8G("ngIf","drag"===r.nzType)("ngIfElse",a)}},dependencies:[ZR,U.bT,U.T3,U.YU,mut],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.YI)()],n.prototype,"nzLimit",void 0),(0,W.Cg)([(0,Y.YI)()],n.prototype,"nzSize",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDirectory",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzOpenFileDialogOnClick",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzDisabled",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzMultiple",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzShowButton",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzWithCredentials",void 0),n})(),_ut=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[yut,ZR]})}return n})(),but=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[Cc],imports:[U.MD,Z.YN,Z.X1,zR,ml,vt.Y3,qe.j,an.Zw,kR,slt,PR,_ut,cb,rb,Kb,sb,Fb]})}return n})();var Kf=tt(6006);const Cut=["*"];function Sut(n,e){if(1&n){const t=l.RV6();l.j41(0,"span",1),l.bIt("click",function(r){l.eBV(t);const a=l.XpG();return l.Njj(a.closeTag(r))}),l.k0s()}}let xut=(()=>{class n{constructor(t,i,r,a){this.cdr=t,this.renderer=i,this.elementRef=r,this.directionality=a,this.isPresetColor=!1,this.nzMode="default",this.nzChecked=!1,this.nzBordered=!0,this.nzOnClose=new l.bkB,this.nzCheckedChange=new l.bkB,this.dir="ltr",this.destroy$=new gt.B}updateCheckedStatus(){"checkable"===this.nzMode&&(this.nzChecked=!this.nzChecked,this.nzCheckedChange.emit(this.nzChecked))}closeTag(t){this.nzOnClose.emit(t),t.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}clearPresetColor(){const t=this.elementRef.nativeElement,i=new RegExp(`(ant-tag-(?:${[...Kf.un,...Kf.PA].join("|")}))`,"g"),r=t.classList.toString(),a=[];let o=i.exec(r);for(;null!==o;)a.push(o[1]),o=i.exec(r);t.classList.remove(...a)}setPresetColor(){const t=this.elementRef.nativeElement;this.clearPresetColor(),this.isPresetColor=!!this.nzColor&&((0,Kf.nP)(this.nzColor)||(0,Kf.uP)(this.nzColor)),this.isPresetColor&&t.classList.add(`ant-tag-${this.nzColor}`)}ngOnInit(){this.directionality.change?.pipe((0,G.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzColor:i}=t;i&&this.setPresetColor()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(l.rXU(l.gRc),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(se.dS,8))};static#e=this.\u0275cmp=l.VBU({type:n,selectors:[["nz-tag"]],hostAttrs:[1,"ant-tag"],hostVars:12,hostBindings:function(i,r){1&i&&l.bIt("click",function(){return r.updateCheckedStatus()}),2&i&&(l.xc7("background-color",r.isPresetColor?"":r.nzColor),l.AVh("ant-tag-has-color",r.nzColor&&!r.isPresetColor)("ant-tag-checkable","checkable"===r.nzMode)("ant-tag-checkable-checked",r.nzChecked)("ant-tag-rtl","rtl"===r.dir)("ant-tag-borderless",!r.nzBordered))},inputs:{nzMode:"nzMode",nzColor:"nzColor",nzChecked:"nzChecked",nzBordered:"nzBordered"},outputs:{nzOnClose:"nzOnClose",nzCheckedChange:"nzCheckedChange"},exportAs:["nzTag"],standalone:!0,features:[l.OA$,l.aNF],ngContentSelectors:Cut,decls:2,vars:1,consts:[["nz-icon","","nzType","close","class","ant-tag-close-icon","tabindex","-1",3,"click",4,"ngIf"],["nz-icon","","nzType","close","tabindex","-1",1,"ant-tag-close-icon",3,"click"]],template:function(i,r){1&i&&(l.NAR(),l.SdG(0),l.DNE(1,Sut,1,0,"span",0)),2&i&&(l.R7$(),l.Y8G("ngIf","closeable"===r.nzMode))},dependencies:[vt.Y3,vt.Dn,U.bT],encapsulation:2,changeDetection:0})}return(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzChecked",void 0),(0,W.Cg)([(0,Y.H3)()],n.prototype,"nzBordered",void 0),n})(),zut=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[xut]})}return n})(),wut=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[{provide:er.xh},Fn.b],imports:[U.MD,Z.YN,Z.X1,jot,vt.Y3.forChild([Pe.Cnd,Pe.XMK,Pe.VJ5,Pe.vjn,Pe.bRU,Pe.O9N,Pe.nIb,Pe.OgO,Pe.xrU,Pe.BNP,Pe.MO3,Pe.RR4,Pe.rj,Pe.dJK,Pe.q_y,Pe.ptz,Pe.qZ3,Pe.rXM,Pe.EOi,Pe.loe]),Vot,an.Zw,zR,Vn.PQ,qe.j,ir.U6,kR,PR,Hst,ml,but,Pb,sb,bot,zut,Uat,kc,cb,rb,Kb,Fb]})}return n})()},7184:(rl,al,tt)=>{var Pn;!function(U,rn,Jf){if(U){for(var Fn,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},ol={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},sl={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},er={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},vt=1;vt<20;++vt)l[111+vt]="f"+vt;for(vt=0;vt<=9;++vt)l[vt+96]=vt.toString();Be.prototype.bind=function(K,ut,Wt){var R=this;return R._bindMultiple.call(R,K=K instanceof Array?K:[K],ut,Wt),R},Be.prototype.unbind=function(K,ut){return this.bind.call(this,K,function(){},ut)},Be.prototype.trigger=function(K,ut){return this._directMap[K+":"+ut]&&this._directMap[K+":"+ut]({},K),this},Be.prototype.reset=function(){var K=this;return K._callbacks={},K._directMap={},K},Be.prototype.stopCallback=function(K,ut){if((" "+ut.className+" ").indexOf(" mousetrap ")>-1||xc(ut,this.target))return!1;if("composedPath"in K&&"function"==typeof K.composedPath){var R=K.composedPath()[0];R!==K.target&&(ut=R)}return"INPUT"==ut.tagName||"SELECT"==ut.tagName||"TEXTAREA"==ut.tagName||ut.isContentEditable},Be.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},Be.addKeycodes=function(K){for(var ut in K)K.hasOwnProperty(ut)&&(l[ut]=K[ut]);Fn=null},Be.init=function(){var K=Be(rn);for(var ut in K)"_"!==ut.charAt(0)&&(Be[ut]=function(Wt){return function(){return K[Wt].apply(K,arguments)}}(ut))},Be.init(),U.Mousetrap=Be,rl.exports&&(rl.exports=Be),void 0!==(Pn=function(){return Be}.call(al,tt,al,rl))&&(rl.exports=Pn)}function an(K,ut,Wt){K.addEventListener?K.addEventListener(ut,Wt,!1):K.attachEvent("on"+ut,Wt)}function Rn(K){if("keypress"==K.type){var ut=String.fromCharCode(K.which);return K.shiftKey||(ut=ut.toLowerCase()),ut}return l[K.which]?l[K.which]:ol[K.which]?ol[K.which]:String.fromCharCode(K.which).toLowerCase()}function nr(K,ut){return K.sort().join(",")===ut.sort().join(",")}function ll(K){return"shift"==K||"ctrl"==K||"alt"==K||"meta"==K}function Cc(K,ut,Wt){return Wt||(Wt=function bc(){if(!Fn)for(var K in Fn={},l)K>95&&K<112||l.hasOwnProperty(K)&&(Fn[l[K]]=K);return Fn}()[K]?"keydown":"keypress"),"keypress"==Wt&&ut.length&&(Wt="keydown"),Wt}function Sc(K,ut){var Wt,R,wi,Ti=[];for(Wt=function nd(K){return"+"===K?["+"]:(K=K.replace(/\+{2}/g,"+plus")).split("+")}(K),wi=0;wi<Wt.length;++wi)er[R=Wt[wi]]&&(R=er[R]),ut&&"keypress"!=ut&&sl[R]&&(R=sl[R],Ti.push("shift")),ll(R)&&Ti.push(R);return{key:R,modifiers:Ti,action:ut=Cc(R,Ti,ut)}}function xc(K,ut){return null!==K&&K!==rn&&(K===ut||xc(K.parentNode,ut))}function Be(K){var ut=this;if(K=K||rn,!(ut instanceof Be))return new Be(K);ut.target=K,ut._callbacks={},ut._directMap={};var R,Wt={},wi=!1,Ti=!1,ge=!1;function ul(Rt){Rt=Rt||{};var oe,$t=!1;for(oe in Wt)Rt[oe]?$t=!0:Wt[oe]=0;$t||(ge=!1)}function zc(Rt,$t,oe,Ht,pe,si){var Jt,Ve,Ir=[],Di=oe.type;if(!ut._callbacks[Rt])return[];for("keyup"==Di&&ll(Rt)&&($t=[Rt]),Jt=0;Jt<ut._callbacks[Rt].length;++Jt)Ve=ut._callbacks[Rt][Jt],!Ht&&Ve.seq&&Wt[Ve.seq]!=Ve.level||Di!=Ve.action||("keypress"!=Di||oe.metaKey||oe.ctrlKey)&&!nr($t,Ve.modifiers)||((!Ht&&Ve.combo==pe||Ht&&Ve.seq==Ht&&Ve.level==si)&&ut._callbacks[Rt].splice(Jt,1),Ir.push(Ve));return Ir}function oi(Rt,$t,oe,Ht){ut.stopCallback($t,$t.target||$t.srcElement,oe,Ht)||!1===Rt($t,oe)&&(function td(K){K.preventDefault?K.preventDefault():K.returnValue=!1}($t),function ed(K){K.stopPropagation?K.stopPropagation():K.cancelBubble=!0}($t))}function cl(Rt){"number"!=typeof Rt.which&&(Rt.which=Rt.keyCode);var $t=Rn(Rt);if($t){if("keyup"==Rt.type&&wi===$t)return void(wi=!1);ut.handleKey($t,function qe(K){var ut=[];return K.shiftKey&&ut.push("shift"),K.altKey&&ut.push("alt"),K.ctrlKey&&ut.push("ctrl"),K.metaKey&&ut.push("meta"),ut}(Rt),Rt)}}function Tc(Rt,$t,oe,Ht,pe){ut._directMap[Rt+":"+oe]=$t;var Jt,si=(Rt=Rt.replace(/\s+/g," ")).split(" ");si.length>1?function wc(Rt,$t,oe,Ht){function pe(Di){return function(){ge=Di,++Wt[Rt],function id(){clearTimeout(R),R=setTimeout(ul,1e3)}()}}function si(Di){oi(oe,Di,Rt),"keyup"!==Ht&&(wi=Rn(Di)),setTimeout(ul,10)}Wt[Rt]=0;for(var Jt=0;Jt<$t.length;++Jt){var Ir=Jt+1===$t.length?si:pe(Ht||Sc($t[Jt+1]).action);Tc($t[Jt],Ir,Ht,Rt,Jt)}}(Rt,si,$t,oe):(Jt=Sc(Rt,oe),ut._callbacks[Jt.key]=ut._callbacks[Jt.key]||[],zc(Jt.key,Jt.modifiers,{type:Jt.action},Ht,Rt,pe),ut._callbacks[Jt.key][Ht?"unshift":"push"]({callback:$t,modifiers:Jt.modifiers,action:Jt.action,seq:Ht,level:pe,combo:Rt}))}ut._handleKey=function(Rt,$t,oe){var pe,Ht=zc(Rt,$t,oe),si={},Jt=0,Ve=!1;for(pe=0;pe<Ht.length;++pe)Ht[pe].seq&&(Jt=Math.max(Jt,Ht[pe].level));for(pe=0;pe<Ht.length;++pe)if(Ht[pe].seq){if(Ht[pe].level!=Jt)continue;Ve=!0,si[Ht[pe].seq]=1,oi(Ht[pe].callback,oe,Ht[pe].combo,Ht[pe].seq)}else Ve||oi(Ht[pe].callback,oe,Ht[pe].combo);var Ir="keypress"==oe.type&&Ti;oe.type==ge&&!ll(Rt)&&!Ir&&ul(si),Ti=Ve&&"keydown"==oe.type},ut._bindMultiple=function(Rt,$t,oe){for(var Ht=0;Ht<Rt.length;++Ht)Tc(Rt[Ht],$t,oe)},an(K,"keypress",cl),an(K,"keydown",cl),an(K,"keyup",cl)}}(typeof window<"u"?window:null,typeof window<"u"?document:null)}}]);