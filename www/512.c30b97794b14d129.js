(self.webpackChunkiot_master_nuwa=self.webpackChunkiot_master_nuwa||[]).push([[512],{3179:(Lt,ct,v)=>{"use strict";v.d(ct,{kz:()=>Ue});var t=v(1325);class f extends t.bP{}!function(ze){function fe(F){const ie=[],he=t.VK.getForeignObjectMarkup();return F?ie.push({tagName:F,selector:"body"},he):ie.push(he),ie}ze.config({view:"angular-shape-view",markup:fe(),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}},propHooks(F){if(null==F.markup){const ie=F.primer;if(ie){F.markup=fe(ie);let he={};switch(ie){case"circle":he={refCx:"50%",refCy:"50%",refR:"50%"};break;case"ellipse":he={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}F.attrs=t.D5.merge({},{body:Object.assign({refWidth:null,refHeight:null},he)},F.attrs||{})}}return F}}),t.bP.registry.register("angular-shape",ze,!0)}(f||(f={}));var m=v(4438),C=function(ze,fe){var F={};for(var ie in ze)Object.prototype.hasOwnProperty.call(ze,ie)&&fe.indexOf(ie)<0&&(F[ie]=ze[ie]);if(null!=ze&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(ie=Object.getOwnPropertySymbols(ze);he<ie.length;he++)fe.indexOf(ie[he])<0&&Object.prototype.propertyIsEnumerable.call(ze,ie[he])&&(F[ie[he]]=ze[ie[he]])}return F};const Ee=new Map;function Ue(ze){const{shape:fe,injector:F,content:ie}=ze,he=C(ze,["shape","injector","content"]);Ee.set(fe,{injector:F,content:ie}),t.ke.registerNode(fe,Object.assign({inherit:"angular-shape"},he),!0)}class Se extends t.Yv{getNodeContainer(){return this.selectors&&this.selectors.foContent}confirmUpdate(fe){const F=super.confirmUpdate(fe);return this.handleAction(F,Se.action,()=>this.renderAngularContent())}getNgArguments(){var fe;return(null===(fe=this.cell.data)||void 0===fe?void 0:fe.ngArguments)||{}}setInstanceInput(fe,F){const ie=this.getNgArguments();if(fe instanceof m.C4Q)F.context={ngArguments:ie};else{const he=F;Object.keys(ie).forEach(me=>he.setInput(me,ie[me])),he.changeDetectorRef.detectChanges()}}renderAngularContent(){this.unmountAngularContent();const fe=this.getNodeContainer();if(fe){const F=this.cell,{injector:ie,content:he}=Ee.get(F.shape),me=ie.get(m.c1b);if(he instanceof m.C4Q){const J=this.getNgArguments(),G=me.createEmbeddedView(he,{ngArguments:J});G.rootNodes.forEach(ge=>fe.appendChild(ge)),G.detectChanges(),F.on("change:data",()=>this.setInstanceInput(he,G))}else{const J=me.createComponent(he);fe.appendChild(J.hostView.rootNodes[0]),this.setInstanceInput(he,J),F.on("change:data",()=>this.setInstanceInput(he,J)),F.on("removed",()=>J.destroy())}}}unmountAngularContent(){const fe=this.getNodeContainer();return fe.innerHTML="",fe}onMouseDown(fe,F,ie){const he=fe.target;if("input"===he.tagName.toLowerCase()){const J=he.getAttribute("type");if(null==J||["text","password","number","email","search","tel","url"].includes(J))return}super.onMouseDown(fe,F,ie)}unmount(){return this.unmountAngularContent(),super.unmount(),this}}var ze;(ze=Se||(Se={})).action="angular",ze.config({bootstrap:[ze.action],actions:{component:ze.action}}),t.Yv.registry.register("angular-shape-view",ze,!0)},8303:()=>{"object"==typeof window&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window<"u"&&[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(ct=>{Object.prototype.hasOwnProperty.call(ct,"append")||Object.defineProperty(ct,"append",{configurable:!0,enumerable:!0,writable:!0,value(...v){const t=document.createDocumentFragment();v.forEach(f=>{const m=f instanceof Node;t.appendChild(m?f:document.createTextNode(String(f)))}),this.appendChild(t)}})})},1325:(Lt,ct,v)=>{"use strict";v.d(ct,{uM:()=>_n,Rw:()=>f,Nb:()=>ii,fh:()=>an,pM:()=>Mc,TS:()=>Xn,H:()=>Ue,B6:()=>Cp,jG:()=>Y,Jf:()=>Ee,eY:()=>C,fZ:()=>vn,ke:()=>ti,VK:()=>Sn,Kx:()=>mi,xH:()=>qs,bP:()=>$n,Yv:()=>_i,Dc:()=>m,D5:()=>t,bR:()=>ve,M_:()=>St,yp:()=>ae,Mi:()=>Qt,Ss:()=>bn});var t={};v.r(t),v.d(t,{applyMixins:()=>Of,clone:()=>Xl,cloneDeep:()=>En,createClass:()=>Wl,defaults:()=>Tf,defaultsDeep:()=>Wu,ensure:()=>wf,flatten:()=>Mf,getBoolean:()=>Bv,getByPath:()=>Yl,getNumber:()=>Fv,getValue:()=>Rv,has:()=>Is,inherit:()=>Df,isEmpty:()=>pa,isEqual:()=>di,isMaliciousProp:()=>Yu,isObject:()=>ke,isPlainObject:()=>ni,merge:()=>Mn,pick:()=>vh,setByPath:()=>Hs,unsetByPath:()=>Ku});var f={};v.r(f),v.d(f,{difference:()=>Vf,groupBy:()=>qu,max:()=>$f,sortBy:()=>Lf,sortedIndex:()=>If,sortedIndexBy:()=>Ff,union:()=>Zu,uniq:()=>Qu});var m={};v.r(m),v.d(m,{clamp:()=>ri,isNumber:()=>op,isPercentage:()=>Pi,mod:()=>pz,normalizePercentage:()=>ui,normalizeSides:()=>ps,parseCssNumeric:()=>gz,random:()=>fz});var C={};v.r(C),v.d(C,{apply:()=>It,call:()=>Ot,debounce:()=>we,isAsync:()=>en,isAsyncLike:()=>At,throttle:()=>kt,toAsyncBoolean:()=>wn,toDeferredBoolean:()=>kn});var Ee={};v.r(Ee),v.d(Ee,{CASE_SENSITIVE_ATTR:()=>gp,Event:()=>Hn,EventHook:()=>li,EventObject:()=>zi,KAPPA:()=>rc,MouseWheelHandle:()=>Ep,addClass:()=>dn,after:()=>mz,append:()=>Bo,appendTo:()=>Fg,attr:()=>mn,before:()=>ec,breakText:()=>xp,children:()=>_z,circleToPathData:()=>Jg,clearSelection:()=>Oz,computeStyle:()=>va,computeStyleInt:()=>Ca,contains:()=>pp,createElement:()=>dp,createElementNS:()=>Jl,createSVGMatrix:()=>Vn,createSVGPoint:()=>im,createSVGTransform:()=>jo,createSlicePathData:()=>Nz,createSvgDocument:()=>ma,createSvgElement:()=>pi,css:()=>Vo,data:()=>gs,decomposeMatrix:()=>sm,ellipseToPathData:()=>qg,empty:()=>Fo,ensureId:()=>Zl,find:()=>Ig,findOne:()=>Ag,findParentByClass:()=>up,getAttribute:()=>Lg,getClass:()=>Xs,getComputedStyle:()=>ic,getData:()=>bp,getPointsFromSvgElement:()=>ya,getTransformToElement:()=>Ho,getTransformToParentElement:()=>lm,getVendorPrefixedName:()=>zp,hasClass:()=>Ws,hasScrollbars:()=>xz,height:()=>Bz,index:()=>ql,isCSSVariable:()=>Gg,isElement:()=>Bg,isHTMLElement:()=>fp,isSVGGraphicsElement:()=>ji,kebablizeAttrs:()=>Lo,lineToPathData:()=>Yg,matrixToRotation:()=>rm,matrixToScale:()=>om,matrixToTransformString:()=>Qs,matrixToTranslation:()=>am,measureText:()=>$o,mergeAttrs:()=>nc,ns:()=>Ln,offset:()=>Pp,parseTransformString:()=>za,parseXML:()=>kg,polygonToPathData:()=>Kg,polylineToPathData:()=>Qg,position:()=>Lz,prepend:()=>Rg,prop:()=>Ug,qualifyAttr:()=>vp,rectToPathData:()=>Op,rectangleToPathData:()=>em,remove:()=>Ys,removeAttribute:()=>mp,removeClass:()=>ai,rotate:()=>ac,sample:()=>Wg,scale:()=>lc,setAttribute:()=>tc,setAttributes:()=>_p,setData:()=>Hg,setPrefixedStyle:()=>Tz,splitTextByLength:()=>Tp,styleToObject:()=>_a,svgVersion:()=>hp,tagName:()=>Ng,text:()=>Sp,toLocalPoint:()=>cm,toPath:()=>tm,toPathData:()=>Dp,toggleClass:()=>cp,transform:()=>Zs,transformStringToMatrix:()=>Go,translate:()=>Mp,uniqueId:()=>Pg,width:()=>Fz});var Ue={};v.r(Ue),v.d(Ue,{clean:()=>um,ensure:()=>dm});var Se={};v.r(Se),v.d(Se,{dot:()=>Zz,doubleMesh:()=>eb,fixedDot:()=>Jz,mesh:()=>qz});var ze={};v.r(ze),v.d(ze,{flipX:()=>mm,flipXY:()=>vm,flipY:()=>_m,watermark:()=>tb});var fe={};v.r(fe),v.d(fe,{blur:()=>sb,brightness:()=>db,contrast:()=>ub,dropShadow:()=>ob,grayScale:()=>rb,highlight:()=>ib,hueRotate:()=>cb,invert:()=>hb,outline:()=>nb,saturate:()=>lb,sepia:()=>ab});var F={};v.r(F),v.d(F,{async:()=>s1,block:()=>Yb,circle:()=>Im,circlePlus:()=>o1,classic:()=>Kb,cross:()=>t1,diamond:()=>Zb,ellipse:()=>a1,path:()=>qb});var ie={};v.r(ie),v.d(ie,{annotations:()=>Fb,atConnectionLength:()=>m1,atConnectionLengthIgnoreGradient:()=>f1,atConnectionLengthKeepGradient:()=>Am,atConnectionRatio:()=>_1,atConnectionRatioIgnoreGradient:()=>g1,atConnectionRatioKeepGradient:()=>Rm,connection:()=>p1,displayEmpty:()=>Lb,eol:()=>Bb,fill:()=>Pb,filter:()=>Xb,html:()=>Ub,lineHeight:()=>Ib,port:()=>Wb,ref:()=>fb,refCx:()=>yb,refCy:()=>zb,refD:()=>xb,refDKeepOffset:()=>bb,refDResetOffset:()=>Tm,refDx:()=>gb,refDy:()=>mb,refHeight:()=>bm,refHeight2:()=>Eb,refPoints:()=>Ob,refPointsKeepOffset:()=>Sb,refPointsResetOffset:()=>xm,refR:()=>Tb,refRCircumscribed:()=>Cb,refRInscribed:()=>Sm,refRx:()=>_b,refRy:()=>vb,refWidth:()=>zm,refWidth2:()=>Mb,refX:()=>Cm,refX2:()=>Db,refY:()=>ym,refY2:()=>wb,resetOffset:()=>Gb,sourceMarker:()=>c1,stroke:()=>kb,style:()=>Hb,targetMarker:()=>h1,text:()=>Mm,textPath:()=>Rb,textVerticalAnchor:()=>Ab,textWrap:()=>Nb,title:()=>Vb,vertexMarker:()=>d1,xAlign:()=>$b,yAlign:()=>jb});var he={};v.r(he),v.d(he,{className:()=>v1,opacity:()=>C1,stroke:()=>z1});var me={};v.r(me),v.d(me,{absolute:()=>b1,bottom:()=>E1,ellipse:()=>S1,ellipseSpread:()=>T1,left:()=>D1,line:()=>O1,right:()=>w1,top:()=>M1});var J={};v.r(J),v.d(J,{bottom:()=>R1,inside:()=>L1,insideOriented:()=>V1,left:()=>N1,manual:()=>k1,outside:()=>F1,outsideOriented:()=>B1,radial:()=>$1,radialOriented:()=>j1,right:()=>I1,top:()=>A1});var G={};v.r(G),v.d(G,{noop:()=>W1,pinAbsolute:()=>Z1,pinRelative:()=>Q1});var ge={};v.r(ge),v.d(ge,{bottom:()=>rS,bottomLeft:()=>dS,bottomRight:()=>uS,center:()=>sS,left:()=>aS,midSide:()=>gS,nodeCenter:()=>fS,orth:()=>pS,right:()=>lS,top:()=>oS,topLeft:()=>cS,topRight:()=>hS});var Ce={};v.r(Ce),v.d(Ce,{closest:()=>vS,length:()=>_S,orth:()=>CS,ratio:()=>mS});var De={};v.r(De),v.d(De,{anchor:()=>TS,bbox:()=>qm,boundary:()=>bS,rect:()=>zS});var Pe={};v.r(Pe),v.d(Pe,{er:()=>HS,loop:()=>US,manhattan:()=>u_,metro:()=>GS,normal:()=>xS,oneSide:()=>OS,orth:()=>n_});var He={};v.r(He),v.d(He,{jumpover:()=>eT,loop:()=>WS,normal:()=>XS,rounded:()=>YS,smooth:()=>KS});var o,ae={};v.r(ae),v.d(ae,{oH:()=>v_,g3:()=>no}),v(8303);class Y{get disposed(){return!0===this._disposed}dispose(){this._disposed=!0}}(Y||(Y={})).dispose=function e(){return(n,i,s)=>{const a=s.value,l=n.__proto__;s.value=function(...c){this.disposed||(a.call(this,...c),l.dispose.call(this))}}};class oe{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(e=>{e.dispose()}),this.items.clear())}contains(e){return this.items.has(e)}add(e){this.items.add(e)}remove(e){this.items.delete(e)}clear(){this.items.clear()}}(o=oe||(oe={})).from=function e(n){const i=new o;return n.forEach(s=>{i.add(s)}),i};const ke=function nt(o){var e=typeof o;return null!=o&&("object"==e||"function"==e)},et="object"==typeof global&&global&&global.Object===Object&&global;var Le="object"==typeof self&&self&&self.Object===Object&&self;const We=et||Le||Function("return this")(),tt=function(){return We.Date.now()};var $e=/\s/;var xt=/^\s+/;const Me=function jt(o){return o&&o.slice(0,function mt(o){for(var e=o.length;e--&&$e.test(o.charAt(e)););return e}(o)+1).replace(xt,"")},q=We.Symbol;var B=Object.prototype,se=B.hasOwnProperty,re=B.toString,Be=q?q.toStringTag:void 0;var Xt=Object.prototype.toString;var _e=q?q.toStringTag:void 0;const Z=function Ne(o){return null==o?void 0===o?"[object Undefined]":"[object Null]":_e&&_e in Object(o)?function Ke(o){var e=se.call(o,Be),n=o[Be];try{o[Be]=void 0;var i=!0}catch{}var s=re.call(o);return i&&(e?o[Be]=n:delete o[Be]),s}(o):function Zt(o){return Xt.call(o)}(o)},ee=function ye(o){return null!=o&&"object"==typeof o},M=function b(o){return"symbol"==typeof o||ee(o)&&"[object Symbol]"==Z(o)};var ue=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,ot=/^0o[0-7]+$/i,ht=parseInt;const Et=function bt(o){if("number"==typeof o)return o;if(M(o))return NaN;if(ke(o)){var e="function"==typeof o.valueOf?o.valueOf():o;o=ke(e)?e+"":e}if("string"!=typeof o)return 0===o?o:+o;o=Me(o);var n=Ve.test(o);return n||ot.test(o)?ht(o.slice(2),n?2:8):ue.test(o)?NaN:+o};var Yt=Math.max,rt=Math.min;const we=function Gt(o,e,n){var i,s,a,l,c,u,g=0,_=!1,z=!1,y=!0;if("function"!=typeof o)throw new TypeError("Expected a function");function x(Qe){var gt=i,yt=s;return i=s=void 0,g=Qe,l=o.apply(yt,gt)}function U(Qe){var gt=Qe-u;return void 0===u||gt>=e||gt<0||z&&Qe-g>=a}function Q(){var Qe=tt();if(U(Qe))return le(Qe);c=setTimeout(Q,function $(Qe){var zt=e-(Qe-u);return z?rt(zt,a-(Qe-g)):zt}(Qe))}function le(Qe){return c=void 0,y&&i?x(Qe):(i=s=void 0,l)}function Ie(){var Qe=tt(),gt=U(Qe);if(i=arguments,s=this,u=Qe,gt){if(void 0===c)return function N(Qe){return g=Qe,c=setTimeout(Q,e),_?x(Qe):l}(u);if(z)return clearTimeout(c),c=setTimeout(Q,e),x(u)}return void 0===c&&(c=setTimeout(Q,e)),l}return e=Et(e)||0,ke(n)&&(_=!!n.leading,a=(z="maxWait"in n)?Yt(Et(n.maxWait)||0,e):a,y="trailing"in n?!!n.trailing:y),Ie.cancel=function K(){void 0!==c&&clearTimeout(c),g=0,i=u=s=c=void 0},Ie.flush=function Oe(){return void 0===c?l:le(tt())},Ie},kt=function Ae(o,e,n){var i=!0,s=!0;if("function"!=typeof o)throw new TypeError("Expected a function");return ke(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),we(o,e,{leading:i,maxWait:e,trailing:s})};function It(o,e,n){if(n)switch(n.length){case 0:return o.call(e);case 1:return o.call(e,n[0]);case 2:return o.call(e,n[0],n[1]);case 3:return o.call(e,n[0],n[1],n[2]);case 4:return o.call(e,n[0],n[1],n[2],n[3]);case 5:return o.call(e,n[0],n[1],n[2],n[3],n[4]);case 6:return o.call(e,n[0],n[1],n[2],n[3],n[4],n[5]);default:return o.apply(e,n)}return o.call(e)}function Ot(o,e,...n){return It(o,e,n)}function At(o){return"object"==typeof o&&o.then&&"function"==typeof o.then}function en(o){return null!=o&&(o instanceof Promise||At(o))}function wn(...o){const e=[];if(o.forEach(i=>{Array.isArray(i)?e.push(...i):e.push(i)}),e.some(i=>en(i))){const i=e.map(s=>en(s)?s:Promise.resolve(!1!==s));return Promise.all(i).then(s=>s.reduce((a,l)=>!1!==l&&a,!0))}return e.every(i=>!1!==i)}function kn(...o){const e=wn(o);return"boolean"==typeof e?Promise.resolve(e):e}function Ge(o,e){const n=[];for(let i=0;i<o.length;i+=2){const c=It(o[i],o[i+1],Array.isArray(e)?e:[e]);n.push(c)}return wn(n)}class Fe{constructor(){this.listeners={}}on(e,n,i){return null==n||(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n,i)),this}once(e,n,i){const s=(...a)=>(this.off(e,s),Ge([n,i],a));return this.on(e,s,this)}off(e,n,i){if(!(e||n||i))return this.listeners={},this;const s=this.listeners;return(e?[e]:Object.keys(s)).forEach(l=>{const c=s[l];if(c){if(!n&&!i)return void delete s[l];for(let u=c.length-2;u>=0;u-=2)n&&c[u]!==n||i&&c[u+1]!==i||c.splice(u,2)}}),this}trigger(e,...n){let i=!0;if("*"!==e){const a=this.listeners[e];null!=a&&(i=Ge([...a],n))}const s=this.listeners["*"];return null!=s?wn([i,Ge([...s],[e,...n])]):i}emit(e,...n){return this.trigger(e,...n)}}var xe=Object.prototype.hasOwnProperty;const de=function st(o,e){return null!=o&&xe.call(o,e)},R=Array.isArray;var k=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/;const T=function D(o,e){if(R(o))return!1;var n=typeof o;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=o&&!M(o))||P.test(o)||!k.test(o)||null!=e&&o in Object(e)},Ze=function pe(o){if(!ke(o))return!1;var e=Z(o);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Ct=We["__core-js_shared__"];var Ht=function(){var o=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();var yn=Function.prototype.toString;const pn=function sn(o){if(null!=o){try{return yn.call(o)}catch{}try{return o+""}catch{}}return""};var Qi=/^\[object .+?Constructor\]$/,ts=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ii=function ns(o){return!(!ke(o)||function Kt(o){return!!Ht&&Ht in o}(o))&&(Ze(o)?ts:Qi).test(pn(o))},ei=function Ti(o,e){var n=function Si(o,e){return o?.[e]}(o,e);return Ii(n)?n:void 0},oi=ei(Object,"create");var fr=Object.prototype.hasOwnProperty;var vr=Object.prototype.hasOwnProperty;function xi(o){var e=-1,n=null==o?0:o.length;for(this.clear();++e<n;){var i=o[e];this.set(i[0],i[1])}}xi.prototype.clear=function Ms(){this.__data__=oi?oi(null):{},this.size=0},xi.prototype.delete=function hr(o){var e=this.has(o)&&delete this.__data__[o];return this.size-=e?1:0,e},xi.prototype.get=function gr(o){var e=this.__data__;if(oi){var n=e[o];return"__lodash_hash_undefined__"===n?void 0:n}return fr.call(e,o)?e[o]:void 0},xi.prototype.has=function Cr(o){var e=this.__data__;return oi?void 0!==e[o]:vr.call(e,o)},xi.prototype.set=function ci(o,e){var n=this.__data__;return this.size+=this.has(o)?0:1,n[o]=oi&&void 0===e?"__lodash_hash_undefined__":e,this};const so=xi,Oi=function Tr(o,e){return o===e||o!=o&&e!=e},is=function xr(o,e){for(var n=o.length;n--;)if(Oi(o[n][0],e))return n;return-1};var Dr=Array.prototype.splice;function Di(o){var e=-1,n=null==o?0:o.length;for(this.clear();++e<n;){var i=o[e];this.set(i[0],i[1])}}Di.prototype.clear=function br(){this.__data__=[],this.size=0},Di.prototype.delete=function wr(o){var e=this.__data__,n=is(e,o);return!(n<0||(n==e.length-1?e.pop():Dr.call(e,n,1),--this.size,0))},Di.prototype.get=function Er(o){var e=this.__data__,n=is(e,o);return n<0?void 0:e[n][1]},Di.prototype.has=function kr(o){return is(this.__data__,o)>-1},Di.prototype.set=function ro(o,e){var n=this.__data__,i=is(n,o);return i<0?(++this.size,n.push([o,e])):n[i][1]=e,this};const Ri=Di,Fi=ei(We,"Map"),Bi=function Ar(o,e){var n=o.__data__;return function Es(o){var e=typeof o;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==o:null===o}(e)?n["string"==typeof e?"string":"hash"]:n.map};function wi(o){var e=-1,n=null==o?0:o.length;for(this.clear();++e<n;){var i=o[e];this.set(i[0],i[1])}}wi.prototype.clear=function vi(){this.size=0,this.__data__={hash:new so,map:new(Fi||Ri),string:new so}},wi.prototype.delete=function lo(o){var e=Bi(this,o).delete(o);return this.size-=e?1:0,e},wi.prototype.get=function Ba(o){return Bi(this,o).get(o)},wi.prototype.has=function Va(o){return Bi(this,o).has(o)},wi.prototype.set=function Fr(o,e){var n=Bi(this,o),i=n.size;return n.set(o,e),this.size+=n.size==i?0:1,this};const Mi=wi;function ks(o,e){if("function"!=typeof o||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,s=e?e.apply(this,i):i[0],a=n.cache;if(a.has(s))return a.get(s);var l=o.apply(this,i);return n.cache=a.set(s,l)||a,l};return n.cache=new(ks.Cache||Mi),n}ks.Cache=Mi;const ho=ks;var Lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$a=/\\(\\)?/g,Vr=function po(o){var e=ho(o,function(i){return 500===n.size&&n.clear(),i}),n=e.cache;return e}(function(o){var e=[];return 46===o.charCodeAt(0)&&e.push(""),o.replace(Lr,function(n,i,s,a){e.push(s?a.replace($a,"$1"):i||n)}),e});const V=Vr,O=function ut(o,e){for(var n=-1,i=null==o?0:o.length,s=Array(i);++n<i;)s[n]=e(o[n],n,o);return s};var H=q?q.prototype:void 0,Re=H?H.toString:void 0;const Bt=function ft(o){if("string"==typeof o)return o;if(R(o))return O(o,ft)+"";if(M(o))return Re?Re.call(o):"";var e=o+"";return"0"==e&&1/o==-1/0?"-0":e},tn=function Ut(o){return null==o?"":Bt(o)},Vt=function fn(o,e){return R(o)?o:T(o,e)?[o]:V(tn(o))},Ci=function hi(o){return ee(o)&&"[object Arguments]"==Z(o)};var ja=Object.prototype,Nc=ja.hasOwnProperty,Ic=ja.propertyIsEnumerable,Ac=Ci(function(){return arguments}())?Ci:function(o){return ee(o)&&Nc.call(o,"callee")&&!Ic.call(o,"callee")};const ss=Ac;var Fc=/^(?:0|[1-9]\d*)$/;const go=function Bc(o,e){var n=typeof o;return!!(e=e??9007199254740991)&&("number"==n||"symbol"!=n&&Fc.test(o))&&o>-1&&o%1==0&&o<e},mo=function Vc(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=9007199254740991},Ns=function $c(o){if("string"==typeof o||M(o))return o;var e=o+"";return"0"==e&&1/o==-1/0?"-0":e},Ha=function jc(o,e,n){for(var i=-1,s=(e=Vt(e,o)).length,a=!1;++i<s;){var l=Ns(e[i]);if(!(a=null!=o&&n(o,l)))break;o=o[l]}return a||++i!=s?a:!!(s=null==o?0:o.length)&&mo(s)&&go(l,s)&&(R(o)||ss(o))},Is=function Gc(o,e){return null!=o&&Ha(o,e,de)},_o=function Hc(o,e){for(var n=0,i=(e=Vt(e,o)).length;null!=o&&n<i;)o=o[Ns(e[n++])];return n&&n==i?o:void 0};var Uc=function(){try{var o=ei(Object,"defineProperty");return o({},"",{}),o}catch{}}();const vo=Uc,Co=function Xc(o,e,n){"__proto__"==e&&vo?vo(o,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):o[e]=n};var Yc=Object.prototype.hasOwnProperty;const $r=function Kc(o,e,n){var i=o[e];(!Yc.call(o,e)||!Oi(i,n)||void 0===n&&!(e in o))&&Co(o,e,n)},Zc=function Qc(o,e,n,i){if(!ke(o))return o;for(var s=-1,a=(e=Vt(e,o)).length,l=a-1,c=o;null!=c&&++s<a;){var u=Ns(e[s]),g=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return o;if(s!=l){var _=c[u];void 0===(g=i?i(_,u,c):void 0)&&(g=ke(_)?_:go(e[s+1])?[]:{})}$r(c,u,g),c=c[u]}return o},th=function eh(o,e){return null!=o&&e in Object(o)},Ua=function nh(o,e){return null!=o&&Ha(o,e,th)},sh=function ih(o,e){return function Jc(o,e,n){for(var i=-1,s=e.length,a={};++i<s;){var l=e[i],c=_o(o,l);n(c,l)&&Zc(a,Vt(l,o),c)}return a}(o,e,function(n,i){return Ua(o,i)})},jr=function oh(o,e){for(var n=-1,i=e.length,s=o.length;++n<i;)o[s+n]=e[n];return o};var Xa=q?q.isConcatSpreadable:void 0;const ah=function rh(o){return R(o)||ss(o)||!!(Xa&&o&&o[Xa])},yo=function Wa(o,e,n,i,s){var a=-1,l=o.length;for(n||(n=ah),s||(s=[]);++a<l;){var c=o[a];e>0&&n(c)?e>1?Wa(c,e-1,n,i,s):jr(s,c):i||(s[s.length]=c)}return s},ch=function lh(o){return null!=o&&o.length?yo(o,1):[]},Ya=function hh(o,e,n){switch(n.length){case 0:return o.call(e);case 1:return o.call(e,n[0]);case 2:return o.call(e,n[0],n[1]);case 3:return o.call(e,n[0],n[1],n[2])}return o.apply(e,n)};var Ka=Math.max;const Qa=function zo(o,e,n){return e=Ka(void 0===e?o.length-1:e,0),function(){for(var i=arguments,s=-1,a=Ka(i.length-e,0),l=Array(a);++s<a;)l[s]=i[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=i[s];return c[e]=n(l),Ya(o,this,c)}},dh=function Za(o){return function(){return o}},yi=function uh(o){return o};var bo=vo?function(o,e){return vo(o,"toString",{configurable:!0,enumerable:!1,value:dh(e),writable:!0})}:yi,fh=Date.now,gh=function To(o){var e=0,n=0;return function(){var i=fh(),s=16-(i-n);if(n=i,s>0){if(++e>=800)return arguments[0]}else e=0;return o.apply(void 0,arguments)}}(bo);const Ja=gh;var _h=function mh(o){return Ja(Qa(o,void 0,ch),o+"")}(function(o,e){return null==o?{}:sh(o,e)});const vh=_h;function As(o){var e=this.__data__=new Ri(o);this.size=e.size}As.prototype.clear=function Ch(){this.__data__=new Ri,this.size=0},As.prototype.delete=function zh(o){var e=this.__data__,n=e.delete(o);return this.size=e.size,n},As.prototype.get=function qa(o){return this.__data__.get(o)},As.prototype.has=function Sh(o){return this.__data__.has(o)},As.prototype.set=function ef(o,e){var n=this.__data__;if(n instanceof Ri){var i=n.__data__;if(!Fi||i.length<199)return i.push([o,e]),this.size=++n.size,this;n=this.__data__=new Mi(i)}return n.set(o,e),this.size=n.size,this};const Rs=As,Ur=function xh(o,e,n){(void 0!==n&&!Oi(o[e],n)||void 0===n&&!(e in o))&&Co(o,e,n)};var el=function Oh(o){return function(e,n,i){for(var s=-1,a=Object(e),l=i(e),c=l.length;c--;){var u=l[o?c:++s];if(!1===n(a[u],u,a))break}return e}}();const tl=el;var Ei="object"==typeof exports&&exports&&!exports.nodeType&&exports,xo=Ei&&"object"==typeof module&&module&&!module.nodeType&&module,il=xo&&xo.exports===Ei?We.Buffer:void 0,sl=il?il.allocUnsafe:void 0;const os=function ol(o,e){if(e)return o.slice();var n=o.length,i=sl?sl(n):new o.constructor(n);return o.copy(i),i},Fs=We.Uint8Array,Xr=function al(o){var e=new o.constructor(o.byteLength);return new Fs(e).set(new Fs(o)),e},ll=function Dh(o,e){var n=e?Xr(o.buffer):o.buffer;return new o.constructor(n,o.byteOffset,o.length)},cl=function wh(o,e){var n=-1,i=o.length;for(e||(e=Array(i));++n<i;)e[n]=o[n];return e};var rs=Object.create,Mh=function(){function o(){}return function(e){if(!ke(e))return{};if(rs)return rs(e);o.prototype=e;var n=new o;return o.prototype=void 0,n}}();const hl=Mh,dl=function Wr(o,e){return function(n){return o(e(n))}},Yr=dl(Object.getPrototypeOf,Object);var Ph=Object.prototype;const Oo=function kh(o){var e=o&&o.constructor;return o===("function"==typeof e&&e.prototype||Ph)},ul=function Nh(o){return"function"!=typeof o.constructor||Oo(o)?{}:hl(Yr(o))},Li=function Ih(o){return null!=o&&mo(o.length)&&!Ze(o)},Do=function Ah(o){return ee(o)&&Li(o)};var pl="object"==typeof exports&&exports&&!exports.nodeType&&exports,fl=pl&&"object"==typeof module&&module&&!module.nodeType&&module,Kr=fl&&fl.exports===pl?We.Buffer:void 0;const as=(Kr?Kr.isBuffer:void 0)||function Rh(){return!1};var gl=Function.prototype.toString,Hh=Object.prototype.hasOwnProperty,Uh=gl.call(Object);const ni=function Xh(o){if(!ee(o)||"[object Object]"!=Z(o))return!1;var e=Yr(o);if(null===e)return!0;var n=Hh.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&gl.call(n)==Uh};var Cn={};Cn["[object Float32Array]"]=Cn["[object Float64Array]"]=Cn["[object Int8Array]"]=Cn["[object Int16Array]"]=Cn["[object Int32Array]"]=Cn["[object Uint8Array]"]=Cn["[object Uint8ClampedArray]"]=Cn["[object Uint16Array]"]=Cn["[object Uint32Array]"]=!0,Cn["[object Arguments]"]=Cn["[object Array]"]=Cn["[object ArrayBuffer]"]=Cn["[object Boolean]"]=Cn["[object DataView]"]=Cn["[object Date]"]=Cn["[object Error]"]=Cn["[object Function]"]=Cn["[object Map]"]=Cn["[object Number]"]=Cn["[object Object]"]=Cn["[object RegExp]"]=Cn["[object Set]"]=Cn["[object String]"]=Cn["[object WeakMap]"]=!1;const wo=function ud(o){return function(e){return o(e)}};var Mo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vi=Mo&&"object"==typeof module&&module&&!module.nodeType&&module,qr=Vi&&Vi.exports===Mo&&et.process;const ls=function(){try{return Vi&&Vi.require&&Vi.require("util").types||qr&&qr.binding&&qr.binding("util")}catch{}}();var bl=ls&&ls.isTypedArray;const Eo=bl?wo(bl):function Jr(o){return ee(o)&&mo(o.length)&&!!Cn[Z(o)]},ea=function fd(o,e){if(("constructor"!==e||"function"!=typeof o[e])&&"__proto__"!=e)return o[e]},Bs=function Sl(o,e,n,i){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var c=e[a],u=i?i(n[c],o[c],c,n,o):void 0;void 0===u&&(u=o[c]),s?Co(n,c,u):$r(n,c,u)}return n};var vd=Object.prototype.hasOwnProperty;const Tl=function Cd(o,e){var n=R(o),i=!n&&ss(o),s=!n&&!i&&as(o),a=!n&&!i&&!s&&Eo(o),l=n||i||s||a,c=l?function gd(o,e){for(var n=-1,i=Array(o);++n<o;)i[n]=e(n);return i}(o.length,String):[],u=c.length;for(var g in o)(e||vd.call(o,g))&&(!l||!("length"==g||s&&("offset"==g||"parent"==g)||a&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||go(g,u)))&&c.push(g);return c};var ta=Object.prototype.hasOwnProperty;const Sd=function bd(o){if(!ke(o))return function yd(o){var e=[];if(null!=o)for(var n in Object(o))e.push(n);return e}(o);var e=Oo(o),n=[];for(var i in o)"constructor"==i&&(e||!ta.call(o,i))||n.push(i);return n},cs=function Ol(o){return Li(o)?Tl(o,!0):Sd(o)},na=function Od(o,e,n,i,s,a,l){var c=ea(o,n),u=ea(e,n),g=l.get(u);if(g)Ur(o,n,g);else{var _=a?a(c,u,n+"",o,e,l):void 0,z=void 0===_;if(z){var y=R(u),x=!y&&as(u),N=!y&&!x&&Eo(u);_=u,y||x||N?R(c)?_=c:Do(c)?_=cl(c):x?(z=!1,_=os(u,!0)):N?(z=!1,_=ll(u,!0)):_=[]:ni(u)||ss(u)?(_=c,ss(c)?_=function Td(o){return Bs(o,cs(o))}(c):(!ke(c)||Ze(c))&&(_=ul(u))):z=!1}z&&(l.set(u,_),s(_,u,i,a,l),l.delete(u)),Ur(o,n,_)}},Po=function Dl(o,e,n,i,s){o!==e&&tl(e,function(a,l){if(s||(s=new Rs),ke(a))na(o,e,l,n,Dl,i,s);else{var c=i?i(ea(o,l),a,l+"",o,e,s):void 0;void 0===c&&(c=a),Ur(o,l,c)}},cs)},hs=function Dd(o,e){return Ja(Qa(o,e,yi),o+"")},ko=function wd(o,e,n){if(!ke(n))return!1;var i=typeof e;return!!("number"==i?Li(n)&&go(e,n.length):"string"==i&&e in n)&&Oi(n[e],o)},wl=function Md(o){return hs(function(e,n){var i=-1,s=n.length,a=s>1?n[s-1]:void 0,l=s>2?n[2]:void 0;for(a=o.length>3&&"function"==typeof a?(s--,a):void 0,l&&ko(n[0],n[1],l)&&(a=s<3?void 0:a,s=1),e=Object(e);++i<s;){var c=n[i];c&&o(e,c,i,a)}return e})};var Ml=wl(function(o,e,n){Po(o,e,n)});const Mn=Ml;function No(o){var e=-1,n=null==o?0:o.length;for(this.__data__=new Mi;++e<n;)this.add(o[e])}No.prototype.add=No.prototype.push=function El(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this},No.prototype.has=function Pd(o){return this.__data__.has(o)};const Ls=No,ia=function Pl(o,e){for(var n=-1,i=null==o?0:o.length;++n<i;)if(e(o[n],n,o))return!0;return!1},sa=function Nd(o,e){return o.has(e)},kl=function Rd(o,e,n,i,s,a){var l=1&n,c=o.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var g=a.get(o),_=a.get(e);if(g&&_)return g==e&&_==o;var z=-1,y=!0,x=2&n?new Ls:void 0;for(a.set(o,e),a.set(e,o);++z<c;){var N=o[z],$=e[z];if(i)var U=l?i($,N,z,e,o,a):i(N,$,z,o,e,a);if(void 0!==U){if(U)continue;y=!1;break}if(x){if(!ia(e,function(Q,le){if(!sa(x,le)&&(N===Q||s(N,Q,n,i,a)))return x.push(le)})){y=!1;break}}else if(N!==$&&!s(N,$,n,i,a)){y=!1;break}}return a.delete(o),a.delete(e),y},Bd=function Fd(o){var e=-1,n=Array(o.size);return o.forEach(function(i,s){n[++e]=[s,i]}),n},oa=function Ld(o){var e=-1,n=Array(o.size);return o.forEach(function(i){n[++e]=i}),n};var Nl=q?q.prototype:void 0,ra=Nl?Nl.valueOf:void 0;const Il=function tu(o,e,n){var i=e(o);return R(o)?i:jr(i,n(o))},Al=function su(){return[]};var ru=Object.prototype.propertyIsEnumerable,Rl=Object.getOwnPropertySymbols,au=Rl?function(o){return null==o?[]:(o=Object(o),function nu(o,e){for(var n=-1,i=null==o?0:o.length,s=0,a=[];++n<i;){var l=o[n];e(l,n,o)&&(a[s++]=l)}return a}(Rl(o),function(e){return ru.call(o,e)}))}:Al;const aa=au,cu=dl(Object.keys,Object);var du=Object.prototype.hasOwnProperty;const Fl=function uu(o){if(!Oo(o))return cu(o);var e=[];for(var n in Object(o))du.call(o,n)&&"constructor"!=n&&e.push(n);return e},Vs=function pu(o){return Li(o)?Tl(o):Fl(o)},la=function fu(o){return Il(o,Vs,aa)};var _u=Object.prototype.hasOwnProperty;const ca=ei(We,"DataView"),ha=ei(We,"Promise"),ds=ei(We,"Set"),da=ei(We,"WeakMap");var Bl="[object Map]",Su="[object Promise]",Ll="[object Set]",Vl="[object WeakMap]",Tu="[object DataView]",xu=pn(ca),Ou=pn(Fi),af=pn(ha),Du=pn(ds),wu=pn(da),$i=Z;(ca&&$i(new ca(new ArrayBuffer(1)))!=Tu||Fi&&$i(new Fi)!=Bl||ha&&$i(ha.resolve())!=Su||ds&&$i(new ds)!=Ll||da&&$i(new da)!=Vl)&&($i=function(o){var e=Z(o),n="[object Object]"==e?o.constructor:void 0,i=n?pn(n):"";if(i)switch(i){case xu:return Tu;case Ou:return Bl;case af:return Su;case Du:return Ll;case wu:return Vl}return e});const us=$i;var $l="[object Arguments]",jl="[object Array]",Io="[object Object]",Pu=Object.prototype.hasOwnProperty;const cf=function lf(o,e,n,i,s,a){var l=R(o),c=R(e),u=l?jl:us(o),g=c?jl:us(e),_=(u=u==$l?Io:u)==Io,z=(g=g==$l?Io:g)==Io,y=u==g;if(y&&as(o)){if(!as(e))return!1;l=!0,_=!1}if(y&&!_)return a||(a=new Rs),l||Eo(o)?kl(o,e,n,i,s,a):function qd(o,e,n,i,s,a,l){switch(n){case"[object DataView]":if(o.byteLength!=e.byteLength||o.byteOffset!=e.byteOffset)return!1;o=o.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(o.byteLength!=e.byteLength||!a(new Fs(o),new Fs(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Oi(+o,+e);case"[object Error]":return o.name==e.name&&o.message==e.message;case"[object RegExp]":case"[object String]":return o==e+"";case"[object Map]":var c=Bd;case"[object Set]":if(c||(c=oa),o.size!=e.size&&!(1&i))return!1;var g=l.get(o);if(g)return g==e;i|=2,l.set(o,e);var _=kl(c(o),c(e),i,s,a,l);return l.delete(o),_;case"[object Symbol]":if(ra)return ra.call(o)==ra.call(e)}return!1}(o,e,u,n,i,s,a);if(!(1&n)){var x=_&&Pu.call(o,"__wrapped__"),N=z&&Pu.call(e,"__wrapped__");if(x||N){var $=x?o.value():o,U=N?e.value():e;return a||(a=new Rs),s($,U,n,i,a)}}return!!y&&(a||(a=new Rs),function vu(o,e,n,i,s,a){var l=1&n,c=la(o),u=c.length;if(u!=la(e).length&&!l)return!1;for(var z=u;z--;){var y=c[z];if(!(l?y in e:_u.call(e,y)))return!1}var x=a.get(o),N=a.get(e);if(x&&N)return x==e&&N==o;var $=!0;a.set(o,e),a.set(e,o);for(var U=l;++z<u;){var Q=o[y=c[z]],le=e[y];if(i)var K=l?i(le,Q,y,e,o,a):i(Q,le,y,o,e,a);if(!(void 0===K?Q===le||s(Q,le,n,i,a):K)){$=!1;break}U||(U="constructor"==y)}if($&&!U){var Oe=o.constructor,Ie=e.constructor;Oe!=Ie&&"constructor"in o&&"constructor"in e&&!("function"==typeof Oe&&Oe instanceof Oe&&"function"==typeof Ie&&Ie instanceof Ie)&&($=!1)}return a.delete(o),a.delete(e),$}(o,e,n,i,s,a))},ua=function Gl(o,e,n,i,s){return o===e||(null==o||null==e||!ee(o)&&!ee(e)?o!=o&&e!=e:cf(o,e,n,i,Gl,s))},di=function ku(o,e){return ua(o,e)};var Ru=Object.prototype.hasOwnProperty;const pa=function Fu(o){if(null==o)return!0;if(Li(o)&&(R(o)||"string"==typeof o||"function"==typeof o.splice||as(o)||Eo(o)||ss(o)))return!o.length;var e=us(o);if("[object Map]"==e||"[object Set]"==e)return!o.size;if(Oo(o))return!Fl(o).length;for(var n in o)if(Ru.call(o,n))return!1;return!0};var Hu=Object.getOwnPropertySymbols?function(o){for(var e=[];o;)jr(e,aa(o)),o=Yr(o);return e}:Al;const Hl=Hu,mf=function gf(o){return Il(o,cs,Hl)};var Xu=Object.prototype.hasOwnProperty;var p=/\w*$/;var Xe=q?q.prototype:void 0,Dt=Xe?Xe.valueOf:void 0;const L_=function B_(o,e,n){var i=o.constructor;switch(e){case"[object ArrayBuffer]":return Xr(o);case"[object Boolean]":case"[object Date]":return new i(+o);case"[object DataView]":return function r(o,e){var n=e?Xr(o.buffer):o.buffer;return new o.constructor(n,o.byteOffset,o.byteLength)}(o,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ll(o,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(o);case"[object RegExp]":return function S(o){var e=new o.constructor(o.source,p.exec(o));return e.lastIndex=o.lastIndex,e}(o);case"[object Symbol]":return function on(o){return Dt?Object(Dt.call(o)):{}}(o)}};var _f=ls&&ls.isMap;const H_=_f?wo(_f):function $_(o){return ee(o)&&"[object Map]"==us(o)};var vf=ls&&ls.isSet;const K_=vf?wo(vf):function X_(o){return ee(o)&&"[object Set]"==us(o)};var Cf="[object Arguments]",yf="[object Function]",zf="[object Object]",zn={};zn[Cf]=zn["[object Array]"]=zn["[object ArrayBuffer]"]=zn["[object DataView]"]=zn["[object Boolean]"]=zn["[object Date]"]=zn["[object Float32Array]"]=zn["[object Float64Array]"]=zn["[object Int8Array]"]=zn["[object Int16Array]"]=zn["[object Int32Array]"]=zn["[object Map]"]=zn["[object Number]"]=zn[zf]=zn["[object RegExp]"]=zn["[object Set]"]=zn["[object String]"]=zn["[object Symbol]"]=zn["[object Uint8Array]"]=zn["[object Uint8ClampedArray]"]=zn["[object Uint16Array]"]=zn["[object Uint32Array]"]=!0,zn["[object Error]"]=zn[yf]=zn["[object WeakMap]"]=!1;const bf=function Ul(o,e,n,i,s,a){var l,c=1&e,u=2&e,g=4&e;if(n&&(l=s?n(o,i,s,a):n(o)),void 0!==l)return l;if(!ke(o))return o;var _=R(o);if(_){if(l=function h(o){var e=o.length,n=new o.constructor(e);return e&&"string"==typeof o[0]&&Xu.call(o,"index")&&(n.index=o.index,n.input=o.input),n}(o),!c)return cl(o,l)}else{var z=us(o),y=z==yf||"[object GeneratorFunction]"==z;if(as(o))return os(o,c);if(z==zf||z==Cf||y&&!s){if(l=u||y?{}:ul(o),!c)return u?function pf(o,e){return Bs(o,Hl(o),e)}(o,function ju(o,e){return o&&Bs(e,cs(e),o)}(l,o)):function hf(o,e){return Bs(o,aa(o),e)}(o,function Vu(o,e){return o&&Bs(e,Vs(e),o)}(l,o))}else{if(!zn[z])return s?o:{};l=L_(o,z,c)}}a||(a=new Rs);var x=a.get(o);if(x)return x;a.set(o,l),K_(o)?o.forEach(function(U){l.add(Ul(U,e,n,U,o,a))}):H_(o)&&o.forEach(function(U,Q){l.set(Q,Ul(U,e,n,Q,o,a))});var $=_?void 0:(g?u?mf:la:u?cs:Vs)(o);return function Bu(o,e){for(var n=-1,i=null==o?0:o.length;++n<i&&!1!==e(o[n],n,o););}($||o,function(U,Q){$&&(U=o[Q=U]),$r(l,Q,Ul(U,e,n,Q,o,a))}),l},Xl=function Sv(o){return bf(o,4)},En=function Ov(o){return bf(o,5)};var Sf=Object.prototype,Dv=Sf.hasOwnProperty,wv=hs(function(o,e){o=Object(o);var n=-1,i=e.length,s=i>2?e[2]:void 0;for(s&&ko(e[0],e[1],s)&&(i=1);++n<i;)for(var a=e[n],l=cs(a),c=-1,u=l.length;++c<u;){var g=l[c],_=o[g];(void 0===_||Oi(_,Sf[g])&&!Dv.call(o,g))&&(o[g]=a[g])}return o});const Tf=wv,Mv=function xf(o,e,n,i,s,a){return ke(o)&&ke(e)&&(a.set(e,o),Po(o,e,void 0,xf,a),a.delete(e)),o};var Ev=wl(function(o,e,n,i){Po(o,e,n,i)});const Pv=Ev;var kv=hs(function(o){return o.push(void 0,Mv),Ya(Pv,void 0,o)});const Wu=kv;function Of(o,...e){e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(i=>{"constructor"!==i&&Object.defineProperty(o.prototype,i,Object.getOwnPropertyDescriptor(n.prototype,i))})})}const Nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])};function Df(o,e){function n(){this.constructor=o}Nv(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}const Av=/^\s*class\s+/.test(`${class Iv{}}`)||/^\s*class\s*\{/.test(`${class{}}`);function Wl(o,e){let n;return Av?n=class extends e{}:(n=function(){return e.apply(this,arguments)},Df(n,e)),Object.defineProperty(n,"name",{value:o}),n}function wf(o,e){return o??e}function Rv(o,e,n){const i=null!=o?o[e]:null;return void 0!==n?wf(i,n):i}function Fv(o,e,n){let i=null!=o?o[e]:null;return null==i||(i=+i,Number.isNaN(i)||!Number.isFinite(i))?n:i}function Bv(o,e,n){const i=null!=o?o[e]:null;return null==i?n:!!i}function Yu(o){return"__proto__"===o}function Yl(o,e,n="/"){let i;const s=Array.isArray(e)?e:e.split(n);if(s.length)for(i=o;s.length;){const a=s.shift();if(Object(i)!==i||!a||!(a in i))return;i=i[a]}return i}function Hs(o,e,n,i="/"){const s=Array.isArray(e)?e:e.split(i),a=s.pop();if(a&&!Yu(a)){let l=o;s.forEach(c=>{Yu(c)||(null==l[c]&&(l[c]={}),l=l[c])}),l[a]=n}return o}function Ku(o,e,n="/"){const i=Array.isArray(e)?e.slice():e.split(n),s=i.pop();if(s)if(i.length>0){const a=Yl(o,i);a&&delete a[s]}else delete o[s];return o}function Mf(o,e="/",n){const i={};Object.keys(o).forEach(s=>{const a=o[s];let l="object"==typeof a||Array.isArray(a);if(l&&n&&n(a)&&(l=!1),l){const c=Mf(a,e,n);Object.keys(c).forEach(u=>{i[s+e+u]=c[u]})}else i[s]=a});for(const s in o)Object.prototype.hasOwnProperty.call(o,s);return i}class ii extends Fe{dispose(){this.off()}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([Y.dispose()],ii.prototype,"dispose",null),function(o){o.dispose=Y.dispose}(ii||(ii={})),Of(ii,Y);const Gv=function jv(o){return o!=o},Ef=function Yv(o,e){return!(null==o||!o.length)&&function Xv(o,e,n){return e==e?function Hv(o,e,n){for(var i=n-1,s=o.length;++i<s;)if(o[i]===e)return i;return-1}(o,e,n):function Vv(o,e,n,i){for(var s=o.length,a=n+(i?1:-1);i?a--:++a<s;)if(e(o[a],a,o))return a;return-1}(o,Gv,n)}(o,e,0)>-1},Pf=function Kv(o,e,n){for(var i=-1,s=null==o?0:o.length;++i<s;)if(n(e,o[i]))return!0;return!1};var qv=ds&&1/oa(new ds([,-0]))[1]==1/0?function(o){return new ds(o)}:function Qv(){};const eC=qv,kf=function nC(o,e,n){var i=-1,s=Ef,a=o.length,l=!0,c=[],u=c;if(n)l=!1,s=Pf;else if(a>=200){var g=e?null:eC(o);if(g)return oa(g);l=!1,s=sa,u=new Ls}else u=e?[]:c;e:for(;++i<a;){var _=o[i],z=e?e(_):_;if(_=n||0!==_?_:0,l&&z==z){for(var y=u.length;y--;)if(u[y]===z)continue e;e&&u.push(z),c.push(_)}else s(u,z,n)||(u!==c&&u.push(z),c.push(_))}return c},Qu=function iC(o){return o&&o.length?kf(o):[]};var sC=hs(function(o){return kf(yo(o,1,Do,!0))});const Zu=sC;var aC=Math.floor,lC=Math.min;const Nf=function cC(o,e,n,i){var s=0,a=null==o?0:o.length;if(0===a)return 0;for(var l=(e=n(e))!=e,c=null===e,u=M(e),g=void 0===e;s<a;){var _=aC((s+a)/2),z=n(o[_]),y=void 0!==z,x=null===z,N=z==z,$=M(z);if(l)var U=i||N;else U=g?N&&(i||y):c?N&&y&&(i||!x):u?N&&y&&!x&&(i||!$):!x&&!$&&(i?z<=e:z<e);U?s=_+1:a=_}return lC(a,4294967294)},If=function fC(o,e){return function uC(o,e,n){var i=0,s=null==o?i:o.length;if("number"==typeof e&&e==e&&s<=2147483647){for(;i<s;){var a=i+s>>>1,l=o[a];null!==l&&!M(l)&&(n?l<=e:l<e)?i=a+1:s=a}return s}return Nf(o,e,yi,n)}(o,e)},Af=function CC(o){return o==o&&!ke(o)},Rf=function bC(o,e){return function(n){return null!=n&&n[o]===e&&(void 0!==e||o in Object(n))}},TC=function SC(o){var e=function yC(o){for(var e=Vs(o),n=e.length;n--;){var i=e[n],s=o[i];e[n]=[i,s,Af(s)]}return e}(o);return 1==e.length&&e[0][2]?Rf(e[0][0],e[0][1]):function(n){return n===o||function _C(o,e,n,i){var s=n.length,a=s,l=!i;if(null==o)return!a;for(o=Object(o);s--;){var c=n[s];if(l&&c[2]?c[1]!==o[c[0]]:!(c[0]in o))return!1}for(;++s<a;){var u=(c=n[s])[0],g=o[u],_=c[1];if(l&&c[2]){if(void 0===g&&!(u in o))return!1}else{var z=new Rs;if(i)var y=i(g,_,u,o,e,z);if(!(void 0===y?ua(_,g,3,i,z):y))return!1}}return!0}(n,o,e)}},EC=function MC(o,e){return T(o)&&Af(e)?Rf(Ns(o),e):function(n){var i=function xC(o,e,n){var i=null==o?void 0:_o(o,e);return void 0===i?n:i}(n,o);return void 0===i&&i===e?Ua(n,o):ua(e,i,3)}},RC=function AC(o){return T(o)?function PC(o){return function(e){return e?.[o]}}(Ns(o)):function NC(o){return function(e){return _o(e,o)}}(o)},Ju=function FC(o){return"function"==typeof o?o:null==o?yi:"object"==typeof o?R(o)?EC(o[0],o[1]):TC(o):RC(o)},Ff=function BC(o,e,n){return Nf(o,e,Ju(n))};var jC=function $C(o,e){return function(n,i){if(null==n)return n;if(!Li(n))return o(n,i);for(var s=n.length,a=e?s:-1,l=Object(n);(e?a--:++a<s)&&!1!==i(l[a],a,l););return n}}(function LC(o,e){return o&&tl(o,e,Vs)});const Bf=jC,YC=function WC(o,e){if(o!==e){var n=void 0!==o,i=null===o,s=o==o,a=M(o),l=void 0!==e,c=null===e,u=e==e,g=M(e);if(!c&&!g&&!a&&o>e||a&&l&&u&&!c&&!g||i&&l&&u||!n&&u||!s)return 1;if(!i&&!a&&!g&&o<e||g&&n&&s&&!i&&!a||c&&n&&s||!l&&s||!u)return-1}return 0},JC=function ZC(o,e,n){e=e.length?O(e,function(a){return R(a)?function(l){return _o(l,1===a.length?a[0]:a)}:a}):[yi];var i=-1;e=O(e,wo(Ju));var s=function GC(o,e){var n=-1,i=Li(o)?Array(o.length):[];return Bf(o,function(s,a,l){i[++n]=e(s,a,l)}),i}(o,function(a,l,c){return{criteria:O(e,function(g){return g(a)}),index:++i,value:a}});return function UC(o,e){var n=o.length;for(o.sort(e);n--;)o[n]=o[n].value;return o}(s,function(a,l){return function KC(o,e,n){for(var i=-1,s=o.criteria,a=e.criteria,l=s.length,c=n.length;++i<l;){var u=YC(s[i],a[i]);if(u)return i>=c?u:u*("desc"==n[i]?-1:1)}return o.index-e.index}(a,l,n)})};var qC=hs(function(o,e){if(null==o)return[];var n=e.length;return n>1&&ko(o,e[0],e[1])?e=[]:n>2&&ko(e[0],e[1],e[2])&&(e=[e[0]]),JC(o,yo(e,1),[])});const Lf=qC,t0=function e0(o,e,n,i){for(var s=-1,a=null==o?0:o.length;++s<a;){var l=o[s];e(i,l,n(l),o)}return i},s0=function n0(o,e,n,i){return Bf(o,function(s,a,l){e(i,s,n(s),l)}),i};var l0=Object.prototype.hasOwnProperty,c0=function o0(o,e){return function(n,i){var s=R(n)?t0:s0,a=e?e():{};return s(n,o,Ju(i),a)}}(function(o,e,n){l0.call(o,n)?o[n].push(e):Co(o,n,[e])});const qu=c0;var p0=hs(function(o,e){return Do(o)?function d0(o,e,n,i){var s=-1,a=Ef,l=!0,c=o.length,u=[],g=e.length;if(!c)return u;n&&(e=O(e,wo(n))),i?(a=Pf,l=!1):e.length>=200&&(a=sa,l=!1,e=new Ls(e));e:for(;++s<c;){var _=o[s],z=null==n?_:n(_);if(_=i||0!==_?_:0,l&&z==z){for(var y=g;y--;)if(e[y]===z)continue e;u.push(_)}else a(e,z,i)||u.push(_)}return u}(o,yo(e,1,Do,!0)):[]});const Vf=p0,_0=function m0(o,e){return o>e},$f=function v0(o){return o&&o.length?function f0(o,e,n){for(var i=-1,s=o.length;++i<s;){var a=o[i],l=e(a);if(null!=l&&(void 0===c?l==l&&!M(l):n(l,c)))var c=l,u=a}return u}(o,yi,_0):void 0},D0=function S0(o){return function(e){return o?.[e]}}({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"});var w0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,I0=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var F0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var V0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var jf="\\ud800-\\udfff",Gf="\\u2700-\\u27bf",Hf="a-z\\xdf-\\xf6\\xf8-\\xff",Uf="A-Z\\xc0-\\xd6\\xd8-\\xde",Xf="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Yf="["+Xf+"]",Kf="\\d+",q0="["+Gf+"]",Qf="["+Hf+"]",Zf="[^"+jf+Xf+Kf+Gf+Hf+Uf+"]",Jf="(?:\\ud83c[\\udde6-\\uddff]){2}",qf="[\\ud800-\\udbff][\\udc00-\\udfff]",Ao="["+Uf+"]",eg="(?:"+Qf+"|"+Zf+")",sy="(?:"+Ao+"|"+Zf+")",tg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ng="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ig="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",sg="[\\ufe0e\\ufe0f]?",ly=sg+ig+"(?:\\u200d(?:"+["[^"+jf+"]",Jf,qf].join("|")+")"+sg+ig+")*",cy="(?:"+[q0,Jf,qf].join("|")+")"+ly,hy=RegExp([Ao+"?"+Qf+"+"+tg+"(?="+[Yf,Ao,"$"].join("|")+")",sy+"+"+ng+"(?="+[Yf,Ao+eg,"$"].join("|")+")",Ao+"?"+eg+"+"+tg,Ao+"+"+ng,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kf,cy].join("|"),"g");const fy=function py(o,e,n){return o=tn(o),void 0===(e=n?void 0:e)?function $0(o){return V0.test(o)}(o)?function dy(o){return o.match(hy)||[]}(o):function B0(o){return o.match(F0)||[]}(o):o.match(e)||[]};var my=RegExp("['\u2019]","g");const Kl=function _y(o){return function(e){return function z0(o,e,n,i){var s=-1,a=null==o?0:o.length;for(i&&a&&(n=o[++s]);++s<a;)n=e(n,o[s],s,o);return n}(fy(function A0(o){return(o=tn(o))&&o.replace(w0,D0).replace(I0,"")}(e).replace(my,"")),o,"")}},zy=function yy(o,e,n){var i=o.length;return n=void 0===n?i:n,!e&&n>=i?o:function vy(o,e,n){var i=-1,s=o.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(s);++i<s;)a[i]=o[i+e];return a}(o,e,n)};var My=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const og=function Ey(o){return My.test(o)};var rg="\\ud800-\\udfff",By="["+rg+"]",ep="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tp="\\ud83c[\\udffb-\\udfff]",ag="[^"+rg+"]",lg="(?:\\ud83c[\\udde6-\\uddff]){2}",cg="[\\ud800-\\udbff][\\udc00-\\udfff]",hg="(?:"+ep+"|"+tp+")?",dg="[\\ufe0e\\ufe0f]?",jy=dg+hg+"(?:\\u200d(?:"+[ag,lg,cg].join("|")+")"+dg+hg+")*",Gy="(?:"+[ag+ep+"?",ep,lg,cg,By].join("|")+")",Hy=RegExp(tp+"(?="+tp+")|"+Gy+jy,"g");const Yy=function Wy(o){return og(o)?function Uy(o){return o.match(Hy)||[]}(o):function Py(o){return o.split("")}(o)},ug=function Ky(o){return function(e){e=tn(e);var n=og(e)?Yy(e):void 0,i=n?n[0]:e.charAt(0),s=n?zy(n,1).join(""):e.slice(1);return i[o]()+s}},fa=ug("toUpperCase");var Zy=Kl(function(o,e,n){return o+(n?" ":"")+fa(e)});const pg=Zy;var ez=Kl(function(o,e,n){return e=e.toLowerCase(),o+(n?function Jy(o){return fa(tn(o).toLowerCase())}(e):e)});const ga=ez;var tz=Kl(function(o,e,n){return o+(n?" ":"")+e.toUpperCase()});const nz=tz;var iz=Kl(function(o,e,n){return o+(n?" ":"")+e.toLowerCase()});const np=iz,oz=ug("toLowerCase"),Us=o=>{const e=Object.create(null);return n=>e[n]||(e[n]=o(n))},fg=Us(o=>o.replace(/\B([A-Z])/g,"-$1").toLowerCase()),ip=Us(o=>pg(ga(o)).replace(/ /g,""));function sp(o){let e=2166136261,n=!1,i=o;for(let s=0,a=i.length;s<a;s+=1){let l=i.charCodeAt(s);l>127&&!n&&(i=unescape(encodeURIComponent(i)),l=i.charCodeAt(s),n=!0),e^=l,e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}return e>>>0}function Ql(){let o="";for(let n=0,i=36;n<i;n+=1){const s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[n],a=16*Math.random()|0;o+=("x"===s?a:"y"===s?3&a|8:s).toString(16)}return o}function az(o,e,n){let i=new Array(e.length+1),s=new Array(e.length+1);const a=n+1;for(let c=0;c<=e.length;c+=1)i[c]=c;for(let c=1;c<=o.length;c+=1){const u=o.charCodeAt(c-1),g=c>n?c-n:1,_=e.length>n+c?n+c:e.length;s[0]=c;let z=c;for(let x=1;x<g;x+=1)s[x]=a;for(let x=g;x<=_;x+=1){const N=u===e.charCodeAt(x-1)?i[x-1]:Math.min(i[x]+1,s[x-1]+1,i[x-1]+2);s[x]=N,z=Math.min(z,N)}for(let x=_+1;x<=e.length;x+=1)s[x]=a;if(z>n)return;const y=i;i=s,s=y}const l=i[e.length];return l>n?void 0:l}Us(o=>nz(o).replace(/ /g,"_")),Us(o=>np(o).replace(/ /g,".")),Us(o=>np(o).replace(/ /g,"/")),Us(o=>fa(np(o))),Us(o=>pg(ga(o)));const op=function cz(o){return"number"==typeof o||ee(o)&&"[object Number]"==Z(o)},ri=function uz(o,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=Et(n))==n?n:0),void 0!==e&&(e=(e=Et(e))==e?e:0),function hz(o,e,n){return o==o&&(void 0!==n&&(o=o<=n?o:n),void 0!==e&&(o=o>=e?o:e)),o}(Et(o),e,n)};function pz(o,e){return(o%e+e)%e}function fz(o,e){if(null==e)e=o??1,o=0;else if(e<o){const n=o;o=e,e=n}return Math.floor(Math.random()*(e-o+1)+o)}function Pi(o){return"string"==typeof o&&"%"===o.slice(-1)}function ui(o,e){if(null==o)return 0;let n;if("string"==typeof o){if(n=parseFloat(o),Pi(o)&&(n/=100,Number.isFinite(n)))return n*e}else n=o;return Number.isFinite(n)?n>0&&n<1?n*e:n:0}function gz(o,e){const i=parseFloat(o);if(Number.isNaN(i))return null;let s;if(null==e)s="[A-Za-z]*";else if(Array.isArray(e)){if(0===e.length)return null;s=e.join("|")}else"string"==typeof e&&(s=e);const a=function n(l){const c=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${l})$`).exec(o);return c?c[1]:null}(s);return null===a?null:{unit:a,value:i}}function ps(o){if("object"==typeof o){let n=0,i=0,s=0,a=0;return null!=o.vertical&&Number.isFinite(o.vertical)&&(i=a=o.vertical),null!=o.horizontal&&Number.isFinite(o.horizontal)&&(s=n=o.horizontal),null!=o.left&&Number.isFinite(o.left)&&(n=o.left),null!=o.top&&Number.isFinite(o.top)&&(i=o.top),null!=o.right&&Number.isFinite(o.right)&&(s=o.right),null!=o.bottom&&Number.isFinite(o.bottom)&&(a=o.bottom),{top:i,right:s,bottom:a,left:n}}let e=0;return null!=o&&Number.isFinite(o)&&(e=o),{top:e,right:e,bottom:e,left:e}}let rp=!1,gg=!1,mg=!1,_g=!1,vg=!1,Cg=!1,yg=!1,zg=!1,bg=!1,Sg=!1,Tg=!1,xg=!1,Og=!1,Dg=!1,wg=!1,Mg=!1;if("object"==typeof navigator){const o=navigator.userAgent;rp=o.indexOf("Macintosh")>=0,gg=!!o.match(/(iPad|iPhone|iPod)/g),mg=o.indexOf("Windows")>=0,_g=o.indexOf("MSIE")>=0,vg=!!o.match(/Trident\/7\./),Cg=!!o.match(/Edge\//),yg=o.indexOf("Mozilla/")>=0&&o.indexOf("MSIE")<0&&o.indexOf("Edge/")<0,bg=o.indexOf("Chrome/")>=0&&o.indexOf("Edge/")<0,Sg=o.indexOf("Opera/")>=0||o.indexOf("OPR/")>=0,Tg=o.indexOf("Firefox/")>=0,xg=o.indexOf("AppleWebKit/")>=0&&o.indexOf("Chrome/")<0&&o.indexOf("Edge/")<0,"object"==typeof document&&(Mg=!document.createElementNS||"[object SVGForeignObjectElement]"!=`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`||o.indexOf("Opera/")>=0)}if("object"==typeof window&&(zg=null!=window.chrome&&null!=window.chrome.app&&null!=window.chrome.app.runtime,Dg=null!=window.PointerEvent&&!rp),"object"==typeof document){Og="ontouchstart"in document.documentElement;try{const o=Object.defineProperty({},"passive",{get(){wg=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},o)}catch{}}var fs;(function(o){o.IS_MAC=rp,o.IS_IOS=gg,o.IS_WINDOWS=mg,o.IS_IE=_g,o.IS_IE11=vg,o.IS_EDGE=Cg,o.IS_NETSCAPE=yg,o.IS_CHROME_APP=zg,o.IS_CHROME=bg,o.IS_OPERA=Sg,o.IS_FIREFOX=Tg,o.IS_SAFARI=xg,o.SUPPORT_TOUCH=Og,o.SUPPORT_POINTER=Dg,o.SUPPORT_PASSIVE=wg,o.NO_FOREIGNOBJECT=Mg,o.SUPPORT_FOREIGNOBJECT=!o.NO_FOREIGNOBJECT})(fs||(fs={})),function(o){function e(){const a=window.module;return null!=a&&null!=a.hot&&null!=a.hot.status?a.hot.status():"unkonwn"}o.getHMRStatus=e,o.isApplyingHMR=function n(){return"apply"===e()};const i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};o.isEventSupported=function s(a){const l=document.createElement(i[a]||"div"),c=`on${a}`;let u=c in l;return u||(l.setAttribute(c,"return;"),u="function"==typeof l[c]),u}}(fs||(fs={}));const ap=/[\t\r\n\f]/g,lp=/\S+/g,Ro=o=>` ${o} `;function Xs(o){return o&&o.getAttribute&&o.getAttribute("class")||""}function Ws(o,e){if(null==o||null==e)return!1;const n=Ro(Xs(o)),i=Ro(e);return 1===o.nodeType&&n.replace(ap," ").includes(i)}function dn(o,e){if(null!=o&&null!=e){if("function"==typeof e)return dn(o,e(Xs(o)));if("string"==typeof e&&1===o.nodeType){const n=e.match(lp)||[],i=Ro(Xs(o)).replace(ap," ");let s=n.reduce((a,l)=>a.indexOf(Ro(l))<0?`${a}${l} `:a,i);s=s.trim(),i!==s&&o.setAttribute("class",s)}}}function ai(o,e){if(null!=o){if("function"==typeof e)return ai(o,e(Xs(o)));if((!e||"string"==typeof e)&&1===o.nodeType){const n=(e||"").match(lp)||[],i=Ro(Xs(o)).replace(ap," ");let s=n.reduce((a,l)=>{const c=Ro(l);return a.indexOf(c)>-1?a.replace(c," "):a},i);s=e?s.trim():"",i!==s&&o.setAttribute("class",s)}}}function cp(o,e,n){if(null!=o&&null!=e){if(null!=n&&"string"==typeof e)return void(n?dn(o,e):ai(o,e));if("function"==typeof e)return cp(o,e(Xs(o),n),n);"string"==typeof e&&(e.match(lp)||[]).forEach(s=>{Ws(o,s)?ai(o,s):dn(o,s)})}}let Eg=0;function Pg(){return Eg+=1,`v${Eg}`}function Zl(o){return(null==o.id||""===o.id)&&(o.id=Pg()),o.id}function ji(o){return null!=o&&"function"==typeof o.getScreenCTM&&o instanceof SVGElement}const Ln={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},hp="1.1";function dp(o,e=document){return e.createElement(o)}function Jl(o,e=Ln.xhtml,n=document){return n.createElementNS(e,o)}function pi(o,e=document){return Jl(o,Ln.svg,e)}function ma(o){if(o){const n=`<svg xmlns="${Ln.svg}" xmlns:xlink="${Ln.xlink}" version="${hp}">${o}</svg>`,{documentElement:i}=kg(n,{async:!1});return i}const e=document.createElementNS(Ln.svg,"svg");return e.setAttributeNS(Ln.xmlns,"xmlns:xlink",Ln.xlink),e.setAttribute("version",hp),e}function kg(o,e={}){let n;try{const i=new DOMParser;null!=e.async&&(i.async=e.async),n=i.parseFromString(o,e.mimeType||"text/xml")}catch{n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${o}`);return n}function Ng(o,e=!0){const n=o.nodeName;return e?n.toLowerCase():n.toUpperCase()}function ql(o){let e=0,n=o.previousSibling;for(;n;)1===n.nodeType&&(e+=1),n=n.previousSibling;return e}function Ig(o,e){return o.querySelectorAll(e)}function Ag(o,e){return o.querySelector(e)}function up(o,e,n){const i=o.ownerSVGElement;let s=o.parentNode;for(;s&&s!==n&&s!==i;){if(Ws(s,e))return s;s=s.parentNode}return null}function pp(o,e){const n=e&&e.parentNode;return o===n||!!(n&&1===n.nodeType&&16&o.compareDocumentPosition(n))}function Ys(o){o&&(Array.isArray(o)?o:[o]).forEach(n=>{n.parentNode&&n.parentNode.removeChild(n)})}function Fo(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Bo(o,e){(Array.isArray(e)?e:[e]).forEach(i=>{null!=i&&o.appendChild(i)})}function Rg(o,e){const n=o.firstChild;return n?ec(n,e):Bo(o,e)}function ec(o,e){const n=o.parentNode;n&&(Array.isArray(e)?e:[e]).forEach(s=>{null!=s&&n.insertBefore(s,o)})}function mz(o,e){const n=o.parentNode;n&&(Array.isArray(e)?e:[e]).forEach(s=>{null!=s&&n.insertBefore(s,o.nextSibling)})}function Fg(o,e){e?.appendChild(o)}function Bg(o){return!!o&&1===o.nodeType}function fp(o){try{return o instanceof HTMLElement}catch{return"object"==typeof o&&1===o.nodeType&&"object"==typeof o.style&&"object"==typeof o.ownerDocument}}function _z(o,e){const n=[];let i=o.firstChild;for(;i;i=i.nextSibling)1===i.nodeType&&(!e||Ws(i,e))&&n.push(i);return n}const gp=["viewBox","attributeName","attributeType","repeatCount","textLength","lengthAdjust","gradientUnits"];function Lg(o,e){return o.getAttribute(e)}function mp(o,e){const n=vp(e);n.ns?o.hasAttributeNS(n.ns,n.local)&&o.removeAttributeNS(n.ns,n.local):o.hasAttribute(e)&&o.removeAttribute(e)}function tc(o,e,n){if(null==n)return mp(o,e);const i=vp(e);i.ns&&"string"==typeof n?o.setAttributeNS(i.ns,e,n):"id"===e?o.id=`${n}`:o.setAttribute(e,`${n}`)}function _p(o,e){Object.keys(e).forEach(n=>{tc(o,n,e[n])})}function mn(o,e,n){if(null==e){const i=o.attributes,s={};for(let a=0;a<i.length;a+=1)s[i[a].name]=i[a].value;return s}if("string"==typeof e&&void 0===n)return o.getAttribute(e);"object"==typeof e?_p(o,e):tc(o,e,n)}function vp(o){if(-1!==o.indexOf(":")){const e=o.split(":");return{ns:Ln[e[0]],local:e[1]}}return{ns:null,local:o}}function Lo(o){const e={};return Object.keys(o).forEach(n=>{const i=gp.includes(n)?n:fg(n);e[i]=o[n]}),e}function _a(o){const e={};return o.split(";").forEach(i=>{const s=i.trim();if(s){const a=s.split("=");a.length&&(e[a[0].trim()]=a[1]?a[1].trim():"")}}),e}function nc(o,e){return Object.keys(e).forEach(n=>{if("class"===n)o[n]=o[n]?`${o[n]} ${e[n]}`:e[n];else if("style"===n){const i="object"==typeof o[n],s="object"==typeof e[n];let a,l;i&&s?(a=o[n],l=e[n]):i?(a=o[n],l=_a(e[n])):s?(a=_a(o[n]),l=e[n]):(a=_a(o[n]),l=_a(e[n])),o[n]=nc(a,l)}else o[n]=e[n]}),o}function vz(o,e,n={}){const i=n.offset||0,s=[],a=[];let l,c,u=null;for(let g=0;g<o.length;g+=1){l=a[g]=o[g];for(let _=0,z=e.length;_<z;_+=1){const y=e[_];g>=y.start+i&&g<y.end+i&&("string"==typeof l?l=a[g]={t:o[g],attrs:y.attrs}:l.attrs=nc(nc({},l.attrs),y.attrs),n.includeAnnotationIndices&&(null==l.annotations&&(l.annotations=[]),l.annotations.push(_)))}c=a[g-1],c?ke(l)&&ke(c)?JSON.stringify(l.attrs)===JSON.stringify(c.attrs)?u.t+=l.t:(s.push(u),u=l):ke(l)||ke(c)?(s.push(u),u=l):u=(u||"")+l:u=l}return null!=u&&s.push(u),s}var Cp;let Ks;!function(o){function e(g){return"data:"===g.substr(0,5)}function i(g){let _=g.replace(/\s/g,"");_=decodeURIComponent(_);const z=_.indexOf(","),y=_.slice(0,z),x=y.split(":")[1].split(";")[0],N=_.slice(z+1);let $;$=y.indexOf("base64")>=0?atob(N):unescape(encodeURIComponent(N));const U=new Uint8Array($.length);for(let Q=0;Q<$.length;Q+=1)U[Q]=$.charCodeAt(Q);return new Blob([U],{type:x})}function s(g,_){const z=window.navigator.msSaveBlob;if(z)z(g,_);else{const y=window.URL.createObjectURL(g),x=document.createElement("a");x.href=y,x.download=_,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(y)}}function c(g){const _=parseFloat(g);return Number.isNaN(_)?null:_}o.isDataUrl=e,o.imageToDataUri=function n(g,_){if(!g||e(g))return void setTimeout(()=>_(null,g));const z=()=>{_(new Error(`Failed to load image: ${g}`))},y=window.FileReader?N=>{if(200===N.status){const $=new FileReader;$.onload=U=>{_(null,U.target.result)},$.onerror=z,$.readAsDataURL(N.response)}else z()}:N=>{if(200===N.status){let U=g.split(".").pop()||"png";"svg"===U&&(U="svg+xml");const Q=`data:image/${U};base64,`,le=new Uint8Array(N.response),K=Q+btoa((U=>{const le=[];for(let K=0;K<U.length;K+=32768)le.push(String.fromCharCode.apply(null,U.subarray(K,K+32768)));return le.join("")})(le));_(null,K)}else z()},x=new XMLHttpRequest;x.responseType=window.FileReader?"blob":"arraybuffer",x.open("GET",g,!0),x.addEventListener("error",z),x.addEventListener("load",()=>y(x)),x.send()},o.dataUriToBlob=i,o.downloadBlob=s,o.downloadDataUri=function a(g,_){s(i(g),_)},o.svgToDataUrl=function u(g,_={}){let z=null;const y=K=>(null==z&&(z=function l(g){const _=g.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return _&&_[2]?_[2].replace(/\s+/," ").split(" "):null}(g)),null!=z?c(z[K]):null),x=K=>{const Oe=g.match(K);return Oe&&Oe[2]?c(Oe[2]):null};let N=_.width;if(null==N&&(N=x(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==N&&(N=y(2)),null==N)throw new Error("Can not parse width from svg string");let $=_.height;if(null==$&&($=x(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==$&&($=y(3)),null==$)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(g).replace(/'/g,"%27").replace(/"/g,"%22")}`}}(Cp||(Cp={}));const yz={px:o=>o,mm:o=>Ks*o,cm:o=>Ks*o*10,in:o=>Ks*o*25.4,pt:o=>Ks*(25.4*o/72),pc:o=>Ks*(25.4*o/6)};var Vg;!function(o){function e(i,s,a){const l=document.createElement("div"),c=l.style;c.display="inline-block",c.position="absolute",c.left="-15000px",c.top="-15000px",c.width=i+(a||"px"),c.height=s+(a||"px"),document.body.appendChild(l);const u=l.getBoundingClientRect(),g={width:u.width||0,height:u.height||0};return document.body.removeChild(l),g}o.measure=e,o.toPx=function n(i,s){null==Ks&&(Ks=e("1","1","mm").width);const a=s?yz[s]:null;return a?a(i):i}}(Vg||(Vg={}));const zz=/-(.)/g,yp={},$g=["webkit","ms","moz","o"],jg=typeof document<"u"?document.createElement("div").style:{};function zp(o){const e=function bz(o){return o.replace(zz,(e,n)=>n.toUpperCase())}(o);if(null==yp[e]){const n=e.charAt(0).toUpperCase()+e.slice(1);yp[e]=e in jg?e:function Sz(o){for(let e=0;e<$g.length;e+=1){const n=$g[e]+o;if(n in jg)return n}return null}(n)}return yp[e]}function Tz(o,e,n){const i=zp(e);null!=i&&(o[i]=n),o[e]=n}function ic(o,e){const n=o.ownerDocument&&o.ownerDocument.defaultView&&o.ownerDocument.defaultView.opener?o.ownerDocument.defaultView.getComputedStyle(o,null):window.getComputedStyle(o,null);return n&&e?n.getPropertyValue(e)||n[e]:n}function xz(o){const e=ic(o);return null!=e&&("scroll"===e.overflow||"auto"===e.overflow)}const Oz=function(){if(typeof document>"u")return function(){};const o=document;return o.selection?function(){o.selection.empty()}:window.getSelection?function(){const e=window.getSelection();e&&(e.empty?e.empty():e.removeAllRanges&&e.removeAllRanges())}:function(){}}(),Dz={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Gg(o){return/^--/.test(o)}function va(o,e,n){const i=window.getComputedStyle(o,null);return n?i.getPropertyValue(e)||void 0:i[e]||o.style[e]}function Ca(o,e){return parseInt(va(o,e),10)||0}function Vo(o,e,n){if("string"!=typeof e)for(const i in e)Vo(o,i,e[i]);else{const i=Gg(e);if(i||(e=zp(e)),void 0===n)return va(o,e,i);i||(n=function wz(o,e){return Dz[o]||"number"!=typeof e?e:`${e}px`}(e,n));const s=o.style;i?s.setProperty(e,n):s[e]=n}}const sc=new WeakMap;function bp(o,e){const n=ga(e),i=sc.get(o);if(i)return i[n]}function Hg(o,e,n){const i=ga(e),s=sc.get(o);s?s[i]=n:sc.set(o,{[i]:n})}function gs(o,e,n){if(!e){const i={};return Object.keys(sc).forEach(s=>{i[s]=bp(o,s)}),i}if("string"==typeof e)return void 0===n?bp(o,e):void Hg(o,e,n);for(const i in e)gs(o,i,e[i])}const Mz={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};function Ug(o,e,n){if(e){if("string"==typeof e)return e=Mz[e]||e,arguments.length<3?o[e]:void(o[e]=n);for(const i in e)Ug(o,i,e[i])}}class Qt{get[Symbol.toStringTag](){return Qt.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(e){this.node.id=e}constructor(e,n,i){if(!e)throw new TypeError("Invalid element to create vector");let s;if(Qt.isVector(e))s=e.node;else if("string"==typeof e)if("svg"===e.toLowerCase())s=ma();else if("<"===e[0]){const a=ma(e);s=document.importNode(a.firstChild,!0)}else s=document.createElementNS(Ln.svg,e);else s=e;this.node=s,n&&this.setAttributes(n),i&&this.append(i)}transform(e,n){return null==e?Zs(this.node):(Zs(this.node,e,n),this)}translate(e,n=0,i={}){return null==e?Mp(this.node):(Mp(this.node,e,n,i),this)}rotate(e,n,i,s={}){return null==e?ac(this.node):(ac(this.node,e,n,i,s),this)}scale(e,n){return null==e?lc(this.node):(lc(this.node,e,n),this)}getTransformToElement(e){const n=Qt.toNode(e);return Ho(this.node,n)}removeAttribute(e){return mp(this.node,e),this}getAttribute(e){return Lg(this.node,e)}setAttribute(e,n){return tc(this.node,e,n),this}setAttributes(e){return _p(this.node,e),this}attr(e,n){return null==e?mn(this.node):"string"==typeof e&&void 0===n?mn(this.node,e):("object"==typeof e?mn(this.node,e):mn(this.node,e,n),this)}svg(){return this.node instanceof SVGSVGElement?this:Qt.create(this.node.ownerSVGElement)}defs(){const e=this.svg()||this,n=e.node.getElementsByTagName("defs")[0];return n?Qt.create(n):Qt.create("defs").appendTo(e)}text(e,n={}){return Sp(this.node,e,n),this}tagName(){return Ng(this.node)}clone(){return Qt.create(this.node.cloneNode(!0))}remove(){return Ys(this.node),this}empty(){return Fo(this.node),this}append(e){return Bo(this.node,Qt.toNodes(e)),this}appendTo(e){return Fg(this.node,Qt.isVector(e)?e.node:e),this}prepend(e){return Rg(this.node,Qt.toNodes(e)),this}before(e){return ec(this.node,Qt.toNodes(e)),this}replace(e){return this.node.parentNode&&this.node.parentNode.replaceChild(Qt.toNode(e),this.node),Qt.create(e)}first(){return this.node.firstChild?Qt.create(this.node.firstChild):null}last(){return this.node.lastChild?Qt.create(this.node.lastChild):null}get(e){const n=this.node.childNodes[e];return n?Qt.create(n):null}indexOf(e){return Array.prototype.slice.call(this.node.childNodes).indexOf(Qt.toNode(e))}find(e){const n=[],i=Ig(this.node,e);if(i)for(let s=0,a=i.length;s<a;s+=1)n.push(Qt.create(i[s]));return n}findOne(e){const n=Ag(this.node,e);return n?Qt.create(n):null}findParentByClass(e,n){const i=up(this.node,e,n);return i?Qt.create(i):null}matches(e){const n=this.node,s=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return s&&s.call(n,e)}contains(e){return pp(this.node,Qt.isVector(e)?e.node:e)}wrap(e){const n=Qt.create(e),i=this.node.parentNode;return i?.insertBefore(n.node,this.node),n.append(this)}parent(e){let n=this;if(null==n.node.parentNode)return null;if(n=Qt.create(n.node.parentNode),null==e)return n;do{if("string"==typeof e?n.matches(e):n instanceof e)return n}while(n=Qt.create(n.node.parentNode));return n}children(){const e=this.node.childNodes,n=[];for(let i=0;i<e.length;i+=1)1===e[i].nodeType&&n.push(Qt.create(e[i]));return n}eachChild(e,n){const i=this.children();for(let s=0,a=i.length;s<a;s+=1)e.call(i[s],i[s],s,i),n&&i[s].eachChild(e,n);return this}index(){return ql(this.node)}hasClass(e){return Ws(this.node,e)}addClass(e){return dn(this.node,e),this}removeClass(e){return ai(this.node,e),this}toggleClass(e,n){return cp(this.node,e,n),this}toLocalPoint(e,n){return cm(this.node,e,n)}sample(e=1){return this.node instanceof SVGPathElement?Wg(this.node,e):[]}toPath(){return Qt.create(tm(this.node))}toPathData(){return Dp(this.node)}}function Pz(o,e,n){const i=n.eol,s=n.baseSize,a=n.lineHeight;let c,l=0;const u={},g=e.length-1;for(let _=0;_<=g;_+=1){let z=e[_],y=null;if("object"==typeof z){const x=z.attrs,N=Qt.create("tspan",x);c=N.node;let $=z.t;i&&_===g&&($+=i),c.textContent=$;const U=x.class;U&&N.addClass(U),n.includeAnnotationIndices&&N.attr("annotations",z.annotations.join(",")),y=parseFloat(x["font-size"]),void 0===y&&(y=s),y&&y>l&&(l=y)}else i&&_===g&&(z+=i),c=document.createTextNode(z||" "),s&&s>l&&(l=s);o.appendChild(c)}return l&&(u.maxFontSize=l),a?u.lineHeight=a:l&&(u.lineHeight=1.2*l),u}!function(o){function e(l){if(null==l)return!1;if(l instanceof o)return!0;const c=l[Symbol.toStringTag];return(null==c||c===o.toStringTag)&&l.node instanceof SVGElement&&"function"==typeof l.sample&&"function"==typeof l.toPath}function n(l,c,u){return new o(l,c,u)}function s(l){return e(l)?l.node:l}o.toStringTag=`X6.${o.name}`,o.isVector=e,o.create=n,o.createVectors=function i(l){if("<"===l[0]){const c=ma(l),u=[];for(let g=0,_=c.childNodes.length;g<_;g+=1)u.push(n(document.importNode(c.childNodes[g],!0)));return u}return[n(l)]},o.toNode=s,o.toNodes=function a(l){return Array.isArray(l)?l.map(c=>s(c)):[s(l)]}}(Qt||(Qt={}));const Xg=/em$/;function oc(o,e){const n=parseFloat(o);return Xg.test(o)?n*e:n}function Sp(o,e,n={}){e=function Cz(o){return o.replace(/ /g,"\xa0")}(e);const i=n.eol;let s=n.textPath;const a=n.textVerticalAnchor,l="middle"===a||"bottom"===a||"top"===a;let c=n.x;void 0===c&&(c=o.getAttribute("x")||0);const u=n.includeAnnotationIndices;let g=n.annotations;g&&!Array.isArray(g)&&(g=[g]);const _=n.lineHeight,z="auto"===_,y=z?"1.5em":_||"1em";let x=!0;const N=o.childNodes;if(1===N.length){const zt=N[0];zt&&"TITLE"===zt.tagName.toUpperCase()&&(x=!1)}x&&Fo(o),mn(o,{"xml:space":"preserve",display:e||n.displayEmpty?null:"none"});const $=mn(o,"font-size");let Q,U=parseFloat($);U||(U=16,(l||g)&&!$&&mn(o,"font-size",`${U}`)),s?("string"==typeof s&&(s={d:s}),Q=function Ez(o,e){const n=Qt.create(e),i=Qt.create("textPath"),s=o.d;if(s&&void 0===o["xlink:href"]){const a=Qt.create("path").attr("d",s).appendTo(n.defs());i.attr("xlink:href",`#${a.id}`)}return"object"==typeof o&&i.attr(o),i.node}(s,o)):Q=document.createDocumentFragment();let le,Oe,K=0;const Ie=e.split("\n"),Qe=[],gt=Ie.length-1;for(let zt=0;zt<=gt;zt+=1){le=y;let Pt="v-line";const Tt=pi("tspan");let Rt,Tn=Ie[zt];if(Tn)if(g){Rt=Pz(Tt,vz(Tn,g,{offset:-K,includeAnnotationIndices:u}),{eol:zt!==gt&&i,baseSize:U,lineHeight:z?null:y,includeAnnotationIndices:u});const it=Rt.lineHeight;it&&z&&0!==zt&&(le=it),0===zt&&(Oe=.8*Rt.maxFontSize)}else i&&zt!==gt&&(Tn+=i),Tt.textContent=Tn;else{Tt.textContent="-",Pt+=" v-empty-line";const cn=Tt.style;cn.fillOpacity=0,cn.strokeOpacity=0,g&&(Rt={})}Rt&&Qe.push(Rt),zt>0&&Tt.setAttribute("dy",le),(zt>0||s)&&Tt.setAttribute("x",c),Tt.className.baseVal=Pt,Q.appendChild(Tt),K+=Tn.length+1}if(l)if(g)le=function kz(o,e,n,i){if(!Array.isArray(e))return 0;const s=e.length;if(!s)return 0;let a=e[0];const l=oc(a.maxFontSize,n)||n;let c=0;const u=oc(i,n);for(let z=1;z<s;z+=1)a=e[z],c+=oc(a.lineHeight,n)||u;const g=oc(a.maxFontSize,n)||n;let _;switch(o){case"middle":_=l/2-.15*g-c/2;break;case"bottom":_=-.25*g-c;break;default:_=.8*l}return _}(a,Qe,U,y);else if("top"===a)le="0.8em";else{let zt;switch(gt>0?(zt=parseFloat(y)||1,zt*=gt,Xg.test(y)||(zt/=U)):zt=0,a){case"middle":le=.3-zt/2+"em";break;case"bottom":le=-zt-.3+"em"}}else 0===a?le="0em":a?le=a:(le=0,null==o.getAttribute("y")&&o.setAttribute("y",`${Oe||"0.8em"}`));Q.firstChild.setAttribute("dy",le),o.appendChild(Q)}function $o(o,e={}){const n=document.createElement("canvas").getContext("2d");if(!o)return{width:0};const i=[],s=e["font-size"]?`${parseFloat(e["font-size"])}px`:"14px";return i.push(e["font-style"]||"normal"),i.push(e["font-variant"]||"normal"),i.push(e["font-weight"]||400),i.push(s),i.push(e["font-family"]||"sans-serif"),n.font=i.join(" "),n.measureText(o)}function Tp(o,e,n,i={}){if(e>=n)return[o,""];const s=o.length,a={};let l=Math.round(e/n*s-1);for(l<0&&(l=0);l>=0&&l<s;){const c=o.slice(0,l),u=a[c]||$o(c,i).width,g=o.slice(0,l+1),_=a[g]||$o(g,i).width;if(a[c]=u,a[g]=_,u>e)l-=1;else{if(!(_<=e))break;l+=1}}return[o.slice(0,l),o.slice(l)]}function xp(o,e,n={},i={}){const s=e.width,a=e.height,l=i.eol||"\n",c=n.fontSize||14,u=n.lineHeight?parseFloat(n.lineHeight):Math.ceil(1.4*c),g=Math.floor(a/u);if(o.indexOf(l)>-1){const U=Ql(),Q=[];return o.split(l).map(le=>{const K=xp(le,Object.assign(Object.assign({},e),{height:Number.MAX_SAFE_INTEGER}),n,Object.assign(Object.assign({},i),{eol:U}));K&&Q.push(...K.split(U))}),Q.slice(0,g).join(l)}const{width:_}=$o(o,n);if(_<s)return o;const z=[];let y=o,x=_,N=i.ellipsis,$=0;N&&("string"!=typeof N&&(N="\u2026"),$=$o(N,n).width);for(let U=0;U<g;U+=1){if(!(x>s)){z.push(y);break}if(U===g-1){const[le]=Tp(y,s-$,x,n);z.push(N?`${le}${N}`:le)}else{const[le,K]=Tp(y,s,x,n);z.push(le),y=K,x=$o(y,n).width}}return z.join(l)}const rc=.551784;function Kn(o,e,n=NaN){const i=o.getAttribute(e);if(null==i)return n;const s=parseFloat(i);return Number.isNaN(s)?n:s}function Wg(o,e=1){const n=o.getTotalLength(),i=[];let a,s=0;for(;s<n;)a=o.getPointAtLength(s),i.push({distance:s,x:a.x,y:a.y}),s+=e;return i}function Yg(o){return["M",Kn(o,"x1"),Kn(o,"y1"),"L",Kn(o,"x2"),Kn(o,"y2")].join(" ")}function Kg(o){const e=ya(o);return 0===e.length?null:`${Zg(e)} Z`}function Qg(o){const e=ya(o);return 0===e.length?null:Zg(e)}function Zg(o){return`M ${o.map(n=>`${n.x} ${n.y}`).join(" L")}`}function ya(o){const e=[],n=o.points;if(n)for(let i=0,s=n.numberOfItems;i<s;i+=1)e.push(n.getItem(i));return e}function Jg(o){const e=Kn(o,"cx",0),n=Kn(o,"cy",0),i=Kn(o,"r"),s=i*rc;return["M",e,n-i,"C",e+s,n-i,e+i,n-s,e+i,n,"C",e+i,n+s,e+s,n+i,e,n+i,"C",e-s,n+i,e-i,n+s,e-i,n,"C",e-i,n-s,e-s,n-i,e,n-i,"Z"].join(" ")}function qg(o){const e=Kn(o,"cx",0),n=Kn(o,"cy",0),i=Kn(o,"rx"),s=Kn(o,"ry")||i,a=i*rc,l=s*rc;return["M",e,n-s,"C",e+a,n-s,e+i,n-l,e+i,n,"C",e+i,n+l,e+a,n+s,e,n+s,"C",e-a,n+s,e-i,n+l,e-i,n,"C",e-i,n-l,e-a,n-s,e,n-s,"Z"].join(" ")}function em(o){return Op({x:Kn(o,"x",0),y:Kn(o,"y",0),width:Kn(o,"width",0),height:Kn(o,"height",0),rx:Kn(o,"rx",0),ry:Kn(o,"ry",0)})}function Op(o){let e;const n=o.x,i=o.y,s=o.width,a=o.height,l=Math.min(o.rx||o["top-rx"]||0,s/2),c=Math.min(o.rx||o["bottom-rx"]||0,s/2),u=Math.min(o.ry||o["top-ry"]||0,a/2),g=Math.min(o.ry||o["bottom-ry"]||0,a/2);return e=l||c||u||g?["M",n,i+u,"v",a-u-g,"a",c,g,0,0,0,c,g,"h",s-2*c,"a",c,g,0,0,0,c,-g,"v",-(a-g-u),"a",l,u,0,0,0,-l,-u,"h",-(s-2*l),"a",l,u,0,0,0,-l,u,"Z"]:["M",n,i,"H",n+s,"V",i+a,"H",n,"V",i,"Z"],e.join(" ")}function tm(o){const e=pi("path");mn(e,mn(o));const n=Dp(o);return n&&e.setAttribute("d",n),e}function Dp(o){const e=o.tagName.toLowerCase();switch(e){case"path":return o.getAttribute("d");case"line":return Yg(o);case"polygon":return Kg(o);case"polyline":return Qg(o);case"ellipse":return qg(o);case"circle":return Jg(o);case"rect":return em(o)}throw new Error(`"${e}" cannot be converted to svg path element.`)}function Nz(o,e,n,i){const s=2*Math.PI-1e-6,a=o,l=e;let c=n,u=i;if(u<c){const $=c;c=u,u=$}const g=u-c,_=g<Math.PI?"0":"1",z=Math.cos(c),y=Math.sin(c),x=Math.cos(u),N=Math.sin(u);return g>=s?a?`M0,${l}A${l},${l} 0 1,1 0,${-l}A${l},${l} 0 1,1 0,${l}M0,${a}A${a},${a} 0 1,0 0,${-a}A${a},${a} 0 1,0 0,${a}Z`:`M0,${l}A${l},${l} 0 1,1 0,${-l}A${l},${l} 0 1,1 0,${l}Z`:a?`M${l*z},${l*y}A${l},${l} 0 ${_},1 ${l*x},${l*N}L${a*x},${a*N}A${a},${a} 0 ${_},0 ${a*z},${a*y}Z`:`M${l*z},${l*y}A${l},${l} 0 ${_},1 ${l*x},${l*N}L0,0Z`}const Iz=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,nm=/[ ,]+/,Az=/^(\w+)\((.*)\)/;function im(o,e){const i=pi("svg").createSVGPoint();return i.x=o,i.y=e,i}function Vn(o){const n=pi("svg").createSVGMatrix();if(null!=o){const i=o,s=n;for(const a in i)s[a]=i[a]}return n}function jo(o){const e=pi("svg");return null!=o?(o instanceof DOMMatrix||(o=Vn(o)),e.createSVGTransformFromMatrix(o)):e.createSVGTransform()}function Go(o){let e=Vn();const n=null!=o&&o.match(Iz);if(!n)return e;for(let i=0,s=n.length;i<s;i+=1){const l=n[i].match(Az);if(l){let c,u,g,_,z,y=Vn();const x=l[2].split(nm);switch(l[1].toLowerCase()){case"scale":c=parseFloat(x[0]),u=void 0===x[1]?c:parseFloat(x[1]),y=y.scaleNonUniform(c,u);break;case"translate":g=parseFloat(x[0]),_=parseFloat(x[1]),y=y.translate(g,_);break;case"rotate":z=parseFloat(x[0]),g=parseFloat(x[1])||0,_=parseFloat(x[2])||0,y=0!==g||0!==_?y.translate(g,_).rotate(z).translate(-g,-_):y.rotate(z);break;case"skewx":z=parseFloat(x[0]),y=y.skewX(z);break;case"skewy":z=parseFloat(x[0]),y=y.skewY(z);break;case"matrix":y.a=parseFloat(x[0]),y.b=parseFloat(x[1]),y.c=parseFloat(x[2]),y.d=parseFloat(x[3]),y.e=parseFloat(x[4]),y.f=parseFloat(x[5]);break;default:continue}e=e.multiply(y)}}return e}function Qs(o){const e=o||{};return`matrix(${null!=e.a?e.a:1},${null!=e.b?e.b:0},${null!=e.c?e.c:0},${null!=e.d?e.d:1},${null!=e.e?e.e:0},${null!=e.f?e.f:0})`}function za(o){let e,n,i;if(o){const a=nm;if(o.trim().indexOf("matrix")>=0){const c=sm(Go(o));e=[c.translateX,c.translateY],n=[c.rotation],i=[c.scaleX,c.scaleY];const u=[];(0!==e[0]||0!==e[1])&&u.push(`translate(${e.join(",")})`),(1!==i[0]||1!==i[1])&&u.push(`scale(${i.join(",")})`),0!==n[0]&&u.push(`rotate(${n[0]})`),o=u.join(" ")}else{const l=o.match(/translate\((.*?)\)/);l&&(e=l[1].split(a));const c=o.match(/rotate\((.*?)\)/);c&&(n=c[1].split(a));const u=o.match(/scale\((.*?)\)/);u&&(i=u[1].split(a))}}const s=i&&i[0]?parseFloat(i[0]):1;return{raw:o||"",translation:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotation:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:s,sy:i&&i[1]?parseFloat(i[1]):s}}}function wp(o,e){return{x:e.x*o.a+e.y*o.c+0,y:e.x*o.b+e.y*o.d+0}}function sm(o){const e=wp(o,{x:0,y:1}),n=wp(o,{x:1,y:0}),i=180/Math.PI*Math.atan2(e.y,e.x)-90;return{skewX:i,skewY:180/Math.PI*Math.atan2(n.y,n.x),translateX:o.e,translateY:o.f,scaleX:Math.sqrt(o.a*o.a+o.b*o.b),scaleY:Math.sqrt(o.c*o.c+o.d*o.d),rotation:i}}function om(o){let e,n,i,s;return o?(e=null==o.a?1:o.a,s=null==o.d?1:o.d,n=o.b,i=o.c):e=s=1,{sx:n?Math.sqrt(e*e+n*n):e,sy:i?Math.sqrt(i*i+s*s):s}}function rm(o){let e={x:0,y:1};o&&(e=wp(o,e));const n=180*Math.atan2(e.y,e.x)/Math.PI%360-90;return{angle:n%360+(n<0?360:0)}}function am(o){return{tx:o&&o.e||0,ty:o&&o.f||0}}function Zs(o,e,n={}){if(null==e)return Go(mn(o,"transform"));if(n.absolute)return void o.setAttribute("transform",Qs(e));const i=o.transform,s=jo(e);i.baseVal.appendItem(s)}function Mp(o,e,n=0,i={}){let s=mn(o,"transform");const a=za(s);if(null==e)return a.translation;s=a.raw,s=s.replace(/translate\([^)]*\)/g,"").trim(),o.setAttribute("transform",`translate(${i.absolute?e:a.translation.tx+e},${i.absolute?n:a.translation.ty+n}) ${s}`.trim())}function ac(o,e,n,i,s={}){let a=mn(o,"transform");const l=za(a);if(null==e)return l.rotation;a=l.raw,a=a.replace(/rotate\([^)]*\)/g,"").trim(),e%=360,o.setAttribute("transform",`${a} rotate(${s.absolute?e:l.rotation.angle+e}${null!=n&&null!=i?`,${n},${i}`:""})`.trim())}function lc(o,e,n){let i=mn(o,"transform");const s=za(i);if(null==e)return s.scale;n=n??e,i=s.raw,i=i.replace(/scale\([^)]*\)/g,"").trim(),o.setAttribute("transform",`${i} scale(${e},${n})`.trim())}function Ho(o,e){if(ji(e)&&ji(o)){const n=e.getScreenCTM(),i=o.getScreenCTM();if(n&&i)return n.inverse().multiply(i)}return Vn()}function lm(o,e){let n=Vn();if(ji(e)&&ji(o)){let i=o;const s=[];for(;i&&i!==e;){const l=Go(i.getAttribute("transform")||null);s.push(l),i=i.parentNode}s.reverse().forEach(a=>{n=n.multiply(a)})}return n}function cm(o,e,n){const i=o instanceof SVGSVGElement?o:o.ownerSVGElement,s=i.createSVGPoint();s.x=e,s.y=n;try{const a=i.getScreenCTM(),l=s.matrixTransform(a.inverse()),c=Ho(o,i).inverse();return l.matrixTransform(c)}catch{return s}}var li,Js,qt,Uo,ba,Hn,Sa;!function(o){const e={};o.get=function n(a){return e[a]||{}},o.register=function i(a,l){e[a]=l},o.unregister=function s(a){delete e[a]}}(li||(li={})),function(o){const e=new WeakMap;o.ensure=function n(a){return e.has(a)||e.set(a,{events:Object.create(null)}),e.get(a)},o.get=function i(a){return e.get(a)},o.remove=function s(a){return e.delete(a)}}(Js||(Js={})),function(o){o.returnTrue=()=>!0,o.returnFalse=()=>!1,o.stopPropagationCallback=function e(s){s.stopPropagation()},o.addEventListener=function n(s,a,l){null!=s.addEventListener&&s.addEventListener(a,l)},o.removeEventListener=function i(s,a,l){null!=s.removeEventListener&&s.removeEventListener(a,l)}}(qt||(qt={})),function(o){const e=/[^\x20\t\r\n\f]+/g,n=/^([^.]*)(?:\.(.+)|)/;o.splitType=function i(c){return(c||"").match(e)||[""]},o.normalizeType=function s(c){const u=n.exec(c)||[];return{originType:u[1]?u[1].trim():u[1],namespaces:u[2]?u[2].split(".").map(g=>g.trim()).sort():[]}},o.isValidTarget=function a(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType},o.isValidSelector=function l(c,u){return!u||null!=c.querySelector&&null!=c.querySelector(u)}}(qt||(qt={})),function(o){let e=0;const n=new WeakMap;o.ensureHandlerId=function i(c){return n.has(c)||(n.set(c,e),e+=1),n.get(c)},o.getHandlerId=function s(c){return n.get(c)},o.removeHandlerId=function a(c){return n.delete(c)},o.setHandlerId=function l(c,u){return n.set(c,u)}}(qt||(qt={})),function(o){o.getHandlerQueue=function e(n,i){const s=[],a=Js.get(n),l=a&&a.events&&a.events[i.type],c=l&&l.handlers||[],u=l?l.delegateCount:0;if(u>0&&!("click"===i.type&&"number"==typeof i.button&&i.button>=1))for(let g=i.target;g!==n;g=g.parentNode||n)if(1===g.nodeType&&("click"!==i.type||!0!==g.disabled)){const _=[],z={};for(let y=0;y<u;y+=1){const x=c[y],N=x.selector;if(null!=N&&null==z[N]){const U=[];n.querySelectorAll(N).forEach(Q=>{U.push(Q)}),z[N]=U.includes(g)}z[N]&&_.push(x)}_.length&&s.push({elem:g,handlers:_})}return u<c.length&&s.push({elem:n,handlers:c.slice(u)}),s}}(qt||(qt={})),function(o){o.isWindow=function e(n){return null!=n&&n===n.window}}(qt||(qt={})),function(o){o.contains=function e(n,i){const s=9===n.nodeType?n.documentElement:n,a=i&&i.parentNode;return n===a||!(!a||1!==a.nodeType||!(s.contains?s.contains(a):n.compareDocumentPosition&&16&n.compareDocumentPosition(a)))}}(qt||(qt={}));class zi{constructor(e,n){this.isDefaultPrevented=qt.returnFalse,this.isPropagationStopped=qt.returnFalse,this.isImmediatePropagationStopped=qt.returnFalse,this.isSimulated=!1,this.preventDefault=()=>{const i=this.originalEvent;this.isDefaultPrevented=qt.returnTrue,i&&!this.isSimulated&&i.preventDefault()},this.stopPropagation=()=>{const i=this.originalEvent;this.isPropagationStopped=qt.returnTrue,i&&!this.isSimulated&&i.stopPropagation()},this.stopImmediatePropagation=()=>{const i=this.originalEvent;this.isImmediatePropagationStopped=qt.returnTrue,i&&!this.isSimulated&&i.stopImmediatePropagation(),this.stopPropagation()},"string"==typeof e?this.type=e:e.type&&(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?qt.returnTrue:qt.returnFalse,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.timeStamp=e.timeStamp),n&&Object.assign(this,n),this.timeStamp||(this.timeStamp=Date.now())}}(function(o){o.create=function e(n){return n instanceof o?n:new o(n)}})(zi||(zi={})),function(o){o.addProperty=function e(n,i){Object.defineProperty(o.prototype,n,{enumerable:!0,configurable:!0,get:"function"==typeof i?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set(s){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:s})}})}}(zi||(zi={})),function(o){const e={bubbles:!0,cancelable:!0,eventPhase:!0,detail:!0,view:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,pointerId:!0,pointerType:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,touches:!0,changedTouches:!0,targetTouches:!0,which:!0,altKey:!0,ctrlKey:!0,metaKey:!0,shiftKey:!0};Object.keys(e).forEach(n=>o.addProperty(n,e[n]))}(zi||(zi={})),Uo||(Uo={}),li.register("load",{noBubble:!0}),Uo||(Uo={}),li.register("beforeunload",{postDispatch(e,n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}),Uo||(Uo={}),li.register("mouseenter",{delegateType:"mouseover",bindType:"mouseover",handle(e,n){let i;const s=n.relatedTarget,a=n.handleObj;return(!s||s!==e&&!qt.contains(e,s))&&(n.type=a.originType,i=a.handler.call(e,n),n.type="mouseover"),i}}),li.register("mouseleave",{delegateType:"mouseout",bindType:"mouseout",handle(e,n){let i;const s=n.relatedTarget,a=n.handleObj;return(!s||s!==e&&!qt.contains(e,s))&&(n.type=a.originType,i=a.handler.call(e,n),n.type="mouseout"),i}}),function(o){let e;function s(l,c,...u){const g=zi.create(c);g.delegateTarget=l;const _=li.get(g.type);if(_.preDispatch&&!1===_.preDispatch(l,g))return;const z=qt.getHandlerQueue(l,g);for(let y=0,x=z.length;y<x&&!g.isPropagationStopped();y+=1){const N=z[y];g.currentTarget=N.elem;for(let $=0,U=N.handlers.length;$<U&&!g.isImmediatePropagationStopped();$+=1){const Q=N.handlers[$];if(null==g.rnamespace||Q.namespace&&g.rnamespace.test(Q.namespace)){g.handleObj=Q,g.data=Q.data;const le=li.get(Q.originType).handle,K=le?le(N.elem,g,...u):Q.handler.call(N.elem,g,...u);void 0!==K&&(g.result=K,!1===K&&(g.preventDefault(),g.stopPropagation()))}}}return _.postDispatch&&_.postDispatch(l,g),g.result}o.on=function n(l,c,u,g,_){if(!qt.isValidTarget(l))return;let z;if("function"!=typeof u){const{handler:$,selector:U}=u,Q=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(u,["handler","selector"]);u=$,_=U,z=Q}const y=Js.ensure(l);let x=y.handler;null==x&&(x=y.handler=function($,...U){return e!==$.type?s(l,$,...U):void 0});const N=qt.ensureHandlerId(u);qt.splitType(c).forEach($=>{const{originType:U,namespaces:Q}=qt.normalizeType($);if(!U)return;let le=U,K=li.get(le);le=(_?K.delegateType:K.bindType)||le,K=li.get(le);const Oe=Object.assign({type:le,originType:U,data:g,selector:_,guid:N,handler:u,namespace:Q.join(".")},z),Ie=y.events;let Qe=Ie[le];Qe||(Qe=Ie[le]={handlers:[],delegateCount:0},(!K.setup||!1===K.setup(l,g,Q,x))&&qt.addEventListener(l,le,x)),K.add&&(qt.removeHandlerId(Oe.handler),K.add(l,Oe),qt.setHandlerId(Oe.handler,N)),_?(Qe.handlers.splice(Qe.delegateCount,0,Oe),Qe.delegateCount+=1):Qe.handlers.push(Oe)})},o.off=function i(l,c,u,g,_){const z=Js.get(l);if(!z)return;const y=z.events;y&&(qt.splitType(c).forEach(x=>{const{originType:N,namespaces:$}=qt.normalizeType(x);if(!N)return void Object.keys(y).forEach(Ie=>{i(l,Ie+x,u,g,!0)});let U=N;const Q=li.get(U);U=(g?Q.delegateType:Q.bindType)||U;const le=y[U];if(!le)return;const K=$.length>0?new RegExp(`(^|\\.)${$.join("\\.(?:.*\\.|)")}(\\.|$)`):null,Oe=le.handlers.length;for(let Ie=le.handlers.length-1;Ie>=0;Ie-=1){const Qe=le.handlers[Ie];(_||N===Qe.originType)&&(!u||qt.getHandlerId(u)===Qe.guid)&&(null==K||Qe.namespace&&K.test(Qe.namespace))&&(null==g||g===Qe.selector||"**"===g&&Qe.selector)&&(le.handlers.splice(Ie,1),Qe.selector&&(le.delegateCount-=1),Q.remove&&Q.remove(l,Qe))}Oe&&0===le.handlers.length&&((!Q.teardown||!1===Q.teardown(l,$,z.handler))&&qt.removeEventListener(l,U,z.handler),delete y[U])}),0===Object.keys(y).length&&Js.remove(l))},o.dispatch=s,o.trigger=function a(l,c,u,g){let _=l,z="string"==typeof l?l:l.type,y="string"==typeof l||null==_.namespace?[]:_.namespace.split(".");const x=u;if(3===x.nodeType||8===x.nodeType)return;z.indexOf(".")>-1&&(y=z.split("."),z=y.shift(),y.sort());const N=z.indexOf(":")<0&&`on${z}`;_=l instanceof zi?l:new zi(z,"object"==typeof l?l:null),_.namespace=y.join("."),_.rnamespace=_.namespace?new RegExp(`(^|\\.)${y.join("\\.(?:.*\\.|)")}(\\.|$)`):null,_.result=void 0,_.target||(_.target=x);const $=[_];Array.isArray(c)?$.push(...c):$.push(c);const U=li.get(z);if(!g&&U.trigger&&!1===U.trigger(x,_,c))return;let Q;const le=[x];if(!g&&!U.noBubble&&!qt.isWindow(x)){Q=U.delegateType||z;let Oe=x,Ie=x.parentNode;for(;null!=Ie;)le.push(Ie),Oe=Ie,Ie=Ie.parentNode;if(Oe===(x.ownerDocument||document)){const gt=Oe.defaultView||Oe.parentWindow||window;le.push(gt)}}let K=x;for(let Oe=0,Ie=le.length;Oe<Ie&&!_.isPropagationStopped();Oe+=1){const Qe=le[Oe];K=Qe,_.type=Oe>1?Q:U.bindType||z;const gt=Js.get(Qe);gt&&gt.events[_.type]&&gt.handler&&gt.handler.call(Qe,...$);const yt=N&&Qe[N]||null;yt&&qt.isValidTarget(Qe)&&(_.result=yt.call(Qe,...$),!1===_.result&&_.preventDefault())}if(_.type=z,!g&&!_.isDefaultPrevented()){const Oe=U.preventDefault;if((null==Oe||!1===Oe(le.pop(),_,c))&&qt.isValidTarget(x)&&N&&"function"==typeof x[z]&&!qt.isWindow(x)){const Ie=x[N];Ie&&(x[N]=null),e=z,_.isPropagationStopped()&&K.addEventListener(z,qt.stopPropagationCallback),x[z](),_.isPropagationStopped()&&K.removeEventListener(z,qt.stopPropagationCallback),e=void 0,Ie&&(x[N]=Ie)}}return _.result}}(ba||(ba={})),function(o){o.on=function e(a,l,c,u,g){return Sa.on(a,l,c,u,g),a},o.once=function n(a,l,c,u,g){return Sa.on(a,l,c,u,g,!0),a},o.off=function i(a,l,c,u){return Sa.off(a,l,c,u),a},o.trigger=function s(a,l,c,u){return ba.trigger(l,c,a,u),a}}(Hn||(Hn={})),function(o){o.on=function e(i,s,a,l,c,u){if("object"==typeof s)return"string"!=typeof a&&(l=l||a,a=void 0),void Object.keys(s).forEach(g=>e(i,g,a,l,s[g],u));if(null==l&&null==c?(c=a,l=a=void 0):null==c&&("string"==typeof a?(c=l,l=void 0):(c=l,l=a,a=void 0)),!1===c)c=qt.returnFalse;else if(!c)return;if(u){const g=c;qt.setHandlerId(c=function(_,...z){return o.off(i,_),g.call(this,_,...z)},qt.ensureHandlerId(g))}ba.on(i,s,c,l,a)},o.off=function n(i,s,a,l){if(s&&null!=s.preventDefault&&null!=s.handleObj){const u=s.handleObj;n(s.delegateTarget,u.namespace?`${u.originType}.${u.namespace}`:u.originType,u.selector,u.handler)}else if("object"!=typeof s)(!1===a||"function"==typeof a)&&(l=a,a=void 0),!1===l&&(l=qt.returnFalse),ba.off(i,s,l,a);else{const u=s;Object.keys(u).forEach(g=>n(i,g,a,u[g]))}}}(Sa||(Sa={}));class Ep{constructor(e,n,i){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=fs.isEventSupported("wheel")?"wheel":"mousewheel",this.target=e,this.onWheelCallback=n,this.onWheelGuard=i,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){this.target.addEventListener(this.eventName,this.onWheel,{passive:!1})}disable(){this.target.removeEventListener(this.eventName,this.onWheel)}onWheel(e){if(null!=this.onWheelGuard&&!this.onWheelGuard(e))return;let n;this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault(),(0!==this.deltaX||0!==this.deltaY)&&(e.stopPropagation(),n=!0),!0===n&&0===this.animationFrameId&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(e)}))}didWheel(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}function Pp(o){const e=o.getBoundingClientRect(),n=o.ownerDocument.defaultView;return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}function Fz(o){return o.getBoundingClientRect().width}function Bz(o){return o.getBoundingClientRect().height}function Lz(o){const e="fixed"===va(o,"position");let n;if(e){const i=o.getBoundingClientRect();n={left:i.left,top:i.top}}else n=Pp(o);if(!e){const i=o.ownerDocument;let s=o.offsetParent||i.documentElement;for(;(s===i.body||s===i.documentElement)&&"static"===va(s,"position");)s=s.parentNode;if(s!==o&&Bg(s)){const a=Pp(s);n.top-=a.top+Ca(s,"borderTopWidth"),n.left-=a.left+Ca(s,"borderLeftWidth")}}return{top:n.top-Ca(o,"marginTop"),left:n.left-Ca(o,"marginLeft")}}function hm(o,e=60){let n=null;return(...i)=>{n&&clearTimeout(n),n=window.setTimeout(()=>{o.apply(this,i)},e)}}const jz=typeof ResizeObserver<"u"?function $z(o){let e=null,n=[];const i=hm(()=>{n.forEach(u=>{u(o)})}),l=()=>{e&&(e.disconnect(),n=[],e=null)};return{element:o,bind:u=>{e||(e=(()=>{const u=new ResizeObserver(i);return u.observe(o),i(),u})()),-1===n.indexOf(u)&&n.push(u)},destroy:l,unbind:u=>{const g=n.indexOf(u);-1!==g&&n.splice(g,1),0===n.length&&e&&l()}}}:function Vz(o){let e=null,n=[];const s=hm(()=>{n.forEach(u=>u(o))}),l=()=>{e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",s),e.parentNode.removeChild(e),e=null,n=[])};return{element:o,bind:u=>{e||(e=(()=>{"static"===getComputedStyle(o).position&&(o.style.position="relative");const u=document.createElement("object");return u.onload=()=>{u.contentDocument.defaultView.addEventListener("resize",s),s()},u.style.display="block",u.style.position="absolute",u.style.top="0",u.style.left="0",u.style.height="100%",u.style.width="100%",u.style.overflow="hidden",u.style.pointerEvents="none",u.style.zIndex="-1",u.style.opacity="0",u.setAttribute("tabindex","-1"),u.type="text/html",o.appendChild(u),u.data="about:blank",u})()),-1===n.indexOf(u)&&n.push(u)},destroy:l,unbind:u=>{const g=n.indexOf(u);-1!==g&&n.splice(g,1),0===n.length&&e&&l()}}};var cc,kp,qs;!function(o){const e=new WeakMap;function n(s){let a=e.get(s);return a||(a=jz(s),e.set(s,a),a)}o.bind=(s,a)=>{const l=n(s);return l.bind(a),()=>l.unbind(a)},o.clear=s=>{!function i(s){s.destroy(),e.delete(s.element)}(n(s))}}(cc||(cc={}));class Ta{constructor(e={}){this.comparator=e.comparator||Ta.defaultComparator,this.index={},this.data=e.data||[],this.heapify()}isEmpty(){return 0===this.data.length}insert(e,n,i){const s={priority:e,value:n},a=this.data.length;return i&&(s.id=i,this.index[i]=a),this.data.push(s),this.bubbleUp(a),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(e,n){const i=this.index[e];if(typeof i>"u")throw new Error(`Node with id '${e}' was not found in the heap.`);const s=this.data,l=this.comparator(n,s[i].priority);l<0?(s[i].priority=n,this.bubbleUp(i)):l>0&&(s[i].priority=n,this.bubbleDown(i))}remove(){const e=this.data,n=e[0],i=e.pop();return n.id&&delete this.index[n.id],e.length>0&&(e[0]=i,i.id&&(this.index[i.id]=0),this.bubbleDown(0)),n?n.value:null}heapify(){for(let e=0;e<this.data.length;e+=1)this.bubbleUp(e)}bubbleUp(e){const n=this.data;let i,s,a=e;for(;a>0&&(s=a-1>>>1,this.comparator(n[a].priority,n[s].priority)<0);){i=n[s],n[s]=n[a];let l=n[a].id;null!=l&&(this.index[l]=s),n[a]=i,l=n[a].id,null!=l&&(this.index[l]=a),a=s}}bubbleDown(e){const n=this.data,i=n.length-1;let s=e;for(;;){const a=1+(s<<1),l=a+1;let c=s;if(a<=i&&this.comparator(n[a].priority,n[c].priority)<0&&(c=a),l<=i&&this.comparator(n[l].priority,n[c].priority)<0&&(c=l),c===s)break;{const u=n[c];n[c]=n[s];let g=n[s].id;null!=g&&(this.index[g]=c),n[s]=u,g=n[s].id,null!=g&&(this.index[g]=s),s=c}}}}!function(o){o.defaultComparator=(e,n)=>e-n}(Ta||(Ta={})),function(o){o.run=function e(n,i,s=((a,l)=>1)){const a={},l={},c={},u=new Ta;for(a[i]=0,Object.keys(n).forEach(g=>{g!==i&&(a[g]=1/0),u.insert(a[g],g,g)});!u.isEmpty();){const g=u.remove();c[g]=!0;const _=n[g]||[];for(let z=0;z<_.length;z+=1){const y=_[z];if(!c[y]){const x=a[g]+s(g,y);x<a[y]&&(a[y]=x,l[y]=g,u.updatePriority(y,x))}}}return l}}(kp||(kp={}));class Gi{constructor(e,n,i,s){return null==e?this.set(255,255,255,1):"number"==typeof e?this.set(e,n,i,s):"string"==typeof e?Gi.fromString(e)||this:Array.isArray(e)?this.set(e):void this.set(e.r,e.g,e.b,null==e.a?1:e.a)}blend(e,n,i){this.set(e.r+(n.r-e.r)*i,e.g+(n.g-e.g)*i,e.b+(n.b-e.b)*i,e.a+(n.a-e.a)*i)}lighten(e){const n=Gi.lighten(this.toArray(),e);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}darken(e){this.lighten(-e)}set(e,n,i,s){const a=Array.isArray(e)?e[0]:e,l=Array.isArray(e)?e[1]:n,c=Array.isArray(e)?e[2]:i,u=Array.isArray(e)?e[3]:s;return this.r=Math.round(ri(a,0,255)),this.g=Math.round(ri(l,0,255)),this.b=Math.round(ri(c,0,255)),this.a=null==u?1:ri(u,0,1),this}toHex(){return`#${["r","g","b"].map(n=>{const i=this[n].toString(16);return i.length<2?`0${i}`:i}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return Gi.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(e){const n=`${this.r},${this.g},${this.b},`;return e?`rgb(${n})`:`rgba(${n},${this.a})`}toGrey(){return Gi.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(o){function n(K){return new o([...N(K),1])}function i(K){const Oe=K.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(Oe){const Ie=Oe[1].split(/\s*,\s*/).map(Qe=>parseInt(Qe,10));return new o(Ie)}return null}function s(K,Oe,Ie){Ie<0&&++Ie,Ie>1&&--Ie;const Qe=6*Ie;return Qe<1?K+(Oe-K)*Qe:2*Ie<1?Oe:3*Ie<2?K+(Oe-K)*(2/3-Ie)*6:K}function a(K){const Oe=K.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(Oe){const Ie=Oe[2].split(/\s*,\s*/),Qe=(parseFloat(Ie[0])%360+360)%360/360,gt=parseFloat(Ie[1])/100,yt=parseFloat(Ie[2])/100,zt=null==Ie[3]?1:parseInt(Ie[3],10);return new o(g(Qe,gt,yt,zt))}return null}function g(K,Oe,Ie,Qe){const gt=Array.isArray(K)?K[0]:K,yt=Array.isArray(K)?K[1]:Oe,zt=Array.isArray(K)?K[2]:Ie,Pt=Array.isArray(K)?K[3]:Qe,Tt=zt<=.5?zt*(yt+1):zt+yt-zt*yt,Rt=2*zt-Tt;return[256*s(Rt,Tt,gt+1/3),256*s(Rt,Tt,gt),256*s(Rt,Tt,gt-1/3),Pt??1]}function _(K){return new o(Math.round(256*Math.random()),Math.round(256*Math.random()),Math.round(256*Math.random()),K?void 0:parseFloat(Math.random().toFixed(2)))}function N(K){const Oe=0===K.indexOf("#")?K:`#${K}`;let Ie=+`0x${Oe.substr(1)}`;if(4!==Oe.length&&7!==Oe.length||Number.isNaN(Ie))throw new Error("Invalid hex color.");const Qe=4===Oe.length?4:8,gt=(1<<Qe)-1,yt=["b","g","r"].map(()=>{const zt=Ie&gt;return Ie>>=Qe,4===Qe?17*zt:zt});return[yt[2],yt[1],yt[0]]}function $(K,Oe,Ie){const Qe=gt=>gt.length<2?`0${gt}`:gt;return`${Qe(K.toString(16))}${Qe(Oe.toString(16))}${Qe(Ie.toString(16))}`}function le(K,Oe){if("string"==typeof K){const gt="#"===K[0],yt=parseInt(gt?K.substr(1):K,16),zt=ri((yt>>16)+Oe,0,255),Pt=ri((yt>>8&255)+Oe,0,255);return`${gt?"#":""}${(ri((255&yt)+Oe,0,255)|Pt<<8|zt<<16).toString(16)}`}const Qe=N(le($(K[0],K[1],K[2]),Oe));return[Qe[0],Qe[1],Qe[2],K[3]]}o.fromArray=function e(K){return new o(K)},o.fromHex=n,o.fromRGBA=i,o.fromHSLA=a,o.fromString=function l(K){if(K.startsWith("#"))return n(K);if(K.startsWith("rgb"))return i(K);const Oe=o.named[K];return Oe?n(Oe):a(K)},o.makeGrey=function c(K,Oe){return o.fromArray([K,K,K,Oe])},o.rgba2hsla=function u(K,Oe,Ie,Qe){const gt=Array.isArray(K)?K[0]:K,yt=Array.isArray(K)?K[1]:Oe,zt=Array.isArray(K)?K[2]:Ie,Pt=Array.isArray(K)?K[3]:Qe,Tt=Math.max(gt,yt,zt),Rt=Math.min(gt,yt,zt),Tn=(Tt+Rt)/2;let cn=0,it=0;if(Rt!==Tt){const _t=Tt-Rt;switch(it=Tn>.5?_t/(2-Tt-Rt):_t/(Tt+Rt),Tt){case gt:cn=(yt-zt)/_t+(yt<zt?6:0);break;case yt:cn=(zt-gt)/_t+2;break;case zt:cn=(gt-yt)/_t+4}cn/=6}return[cn,it,Tn,Pt??1]},o.hsla2rgba=g,o.random=_,o.randomHex=function z(){let Oe="#";for(let Ie=0;Ie<6;Ie+=1)Oe+="0123456789ABCDEF"[Math.floor(16*Math.random())];return Oe},o.randomRGBA=function y(K){return _(K).toString()},o.invert=function x(K,Oe){if("string"==typeof K){const zt="#"===K[0],[Pt,Tt,Rt]=N(K);return Oe?.299*Pt+.587*Tt+.114*Rt>186?"#000000":"#ffffff":`${zt?"#":""}${$(255-Pt,255-Tt,255-Rt)}`}const Ie=K[0],Qe=K[1],gt=K[2],yt=K[3];return Oe?.299*Ie+.587*Qe+.114*gt>186?[0,0,0,yt]:[255,255,255,yt]:[255-Ie,255-Qe,255-gt,yt]},o.lighten=function U(K,Oe){return le(K,Oe)},o.darken=function Q(K,Oe){return le(K,-Oe)}})(Gi||(Gi={})),function(o){o.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(Gi||(Gi={}));class Np{constructor(){this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(e){return this.map.has(e)}get(e){return this.map.get(e)}set(e,n){this.map.set(e,n),this.arr.push(e)}delete(e){const n=this.arr.indexOf(e);n>=0&&this.arr.splice(n,1);const i=this.map.get(e);return this.map.delete(e),i}each(e){this.arr.forEach(n=>{const i=this.map.get(n);e(i,n)})}dispose(){this.clear()}}!function(o){function e(s){const a=[],l=[];return Array.isArray(s)?a.push(...s):s.split("|").forEach(c=>{-1===c.indexOf("&")?a.push(c):l.push(...c.split("&"))}),{or:a,and:l}}o.parse=e,o.equals=function n(s,a){if(null!=s&&null!=a){const l=e(s),c=e(a),u=l.or.sort(),g=c.or.sort(),_=l.and.sort(),z=c.and.sort(),y=(x,N)=>x.length===N.length&&(0===x.length||x.every(($,U)=>$===N[U]));return y(u,g)&&y(_,z)}return null==s&&null==a},o.isMatch=function i(s,a,l){if(null==a||Array.isArray(a)&&0===a.length)return!l||!0!==s.altKey&&!0!==s.ctrlKey&&!0!==s.metaKey&&!0!==s.shiftKey;const{or:c,and:u}=e(a),g=_=>{const z=`${_.toLowerCase()}Key`;return!0===s[z]};return c.some(_=>g(_))&&u.every(_=>g(_))}}(qs||(qs={}));var Xo=function(o){return o.linear=e=>e,o.quad=e=>e*e,o.cubic=e=>e*e*e,o.inout=e=>{if(e<=0)return 0;if(e>=1)return 1;const n=e*e,i=n*e;return 4*(e<.5?i:3*(e-n)+i-.75)},o.exponential=e=>Math.pow(2,10*(e-1)),o.bounce=e=>{for(let n=0,i=1;;n+=i,i/=2)if(e>=(7-4*n)/11){const s=(11-6*n-11*e)/4;return-s*s+i*i}},o}(Xo||{});(function(o){o.decorators={reverse:e=>n=>1-e(1-n),reflect:e=>n=>.5*(n<.5?e(2*n):2-e(2-2*n)),clamp:(e,n=0,i=1)=>s=>{const a=e(s);return a<n?n:a>i?i:a},back:(e=1.70158)=>n=>n*n*((e+1)*n-e),elastic:(e=1.5)=>n=>Math.pow(2,10*(n-1))*Math.cos(20*Math.PI*e/3*n)}})(Xo||(Xo={})),function(o){function Rt(it){const _t=it/1;if(_t<1/2.75)return 7.5625*_t*_t;if(_t<2/2.75){const Jt=_t-.5454545454545454;return 7.5625*Jt*Jt+.75}if(_t<2.5/2.75){const Jt=_t-.8181818181818182;return 7.5625*Jt*Jt+.9375}{const Jt=_t-.9545454545454546;return 7.5625*Jt*Jt+.984375}}function Tn(it){return 1-Rt(1-it)}o.easeInSine=function e(it){return-1*Math.cos(it*(Math.PI/2))+1},o.easeOutSine=function n(it){return Math.sin(it*(Math.PI/2))},o.easeInOutSine=function i(it){return-.5*(Math.cos(Math.PI*it)-1)},o.easeInQuad=function s(it){return it*it},o.easeOutQuad=function a(it){return it*(2-it)},o.easeInOutQuad=function l(it){return it<.5?2*it*it:(4-2*it)*it-1},o.easeInCubic=function c(it){return it*it*it},o.easeOutCubic=function u(it){const _t=it-1;return _t*_t*_t+1},o.easeInOutCubic=function g(it){return it<.5?4*it*it*it:(it-1)*(2*it-2)*(2*it-2)+1},o.easeInQuart=function _(it){return it*it*it*it},o.easeOutQuart=function z(it){const _t=it-1;return 1-_t*_t*_t*_t},o.easeInOutQuart=function y(it){const _t=it-1;return it<.5?8*it*it*it*it:1-8*_t*_t*_t*_t},o.easeInQuint=function x(it){return it*it*it*it*it},o.easeOutQuint=function N(it){const _t=it-1;return 1+_t*_t*_t*_t*_t},o.easeInOutQuint=function $(it){const _t=it-1;return it<.5?16*it*it*it*it*it:1+16*_t*_t*_t*_t*_t},o.easeInExpo=function U(it){return 0===it?0:Math.pow(2,10*(it-1))},o.easeOutExpo=function Q(it){return 1===it?1:1-Math.pow(2,-10*it)},o.easeInOutExpo=function le(it){if(0===it||1===it)return it;const _t=2*it,Jt=_t-1;return _t<1?.5*Math.pow(2,10*Jt):.5*(2-Math.pow(2,-10*Jt))},o.easeInCirc=function K(it){return-1*(Math.sqrt(1-it/1*it)-1)},o.easeOutCirc=function Oe(it){const _t=it-1;return Math.sqrt(1-_t*_t)},o.easeInOutCirc=function Ie(it){const _t=2*it,Jt=_t-2;return _t<1?-.5*(Math.sqrt(1-_t*_t)-1):.5*(Math.sqrt(1-Jt*Jt)+1)},o.easeInBack=function Qe(it,_t=1.70158){return it*it*((_t+1)*it-_t)},o.easeOutBack=function gt(it,_t=1.70158){const Jt=it/1-1;return Jt*Jt*((_t+1)*Jt+_t)+1},o.easeInOutBack=function yt(it,_t=1.70158){const Jt=2*it,On=Jt-2,Dn=1.525*_t;return Jt<1?.5*Jt*Jt*((Dn+1)*Jt-Dn):.5*(On*On*((Dn+1)*On+Dn)+2)},o.easeInElastic=function zt(it,_t=.7){if(0===it||1===it)return it;const On=it/1-1,Dn=1-_t,Gn=Dn/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*On)*Math.sin((On-Gn)*(2*Math.PI)/Dn)},o.easeOutElastic=function Pt(it,_t=.7){const Jt=1-_t,On=2*it;if(0===it||1===it)return it;const Dn=Jt/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*On)*Math.sin((On-Dn)*(2*Math.PI)/Jt)+1},o.easeInOutElastic=function Tt(it,_t=.65){const Jt=1-_t;if(0===it||1===it)return it;const On=2*it,Dn=On-1,Gn=Jt/(2*Math.PI)*Math.asin(1);return On<1?Math.pow(2,10*Dn)*Math.sin((Dn-Gn)*(2*Math.PI)/Jt)*-.5:Math.pow(2,-10*Dn)*Math.sin((Dn-Gn)*(2*Math.PI)/Jt)*.5+1},o.easeOutBounce=Rt,o.easeInBounce=Tn,o.easeInOutBounce=function cn(it){return it<.5?.5*Tn(2*it):.5*Rt(2*it-1)+.5}}(Xo||(Xo={}));var Wo=function(o){return o.number=(e,n)=>{const i=n-e;return s=>e+i*s},o.object=(e,n)=>{const i=Object.keys(e);return s=>{const a={};for(let l=i.length-1;-1!==l;l-=1){const c=i[l];a[c]=e[c]+(n[c]-e[c])*s}return a}},o.unit=(e,n)=>{const i=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,s=i.exec(e),a=i.exec(n),l=a?a[1]:"",c=s?+s[1]:0,u=a?+a[1]:0,g=l.indexOf("."),_=g>0?l[1].length-g-1:0,z=u-c,y=s?s[2]:"";return x=>(c+z*x).toFixed(_)+y},o.color=(e,n)=>{const i=parseInt(e.slice(1),16),s=parseInt(n.slice(1),16),a=255&i,l=(255&s)-a,c=65280&i,u=(65280&s)-c,g=16711680&i,_=(16711680&s)-g;return z=>`#${(1<<24|a+l*z&255|c+u*z&65280|g+_*z&16711680).toString(16).slice(1)}`},o}(Wo||{});const xa=[];function dm(o,e){const n=xa.find(i=>i.name===o);if(!(n&&(n.loadTimes+=1,n.loadTimes>1)||fs.isApplyingHMR())){const i=document.createElement("style");i.setAttribute("type","text/css"),i.textContent=e;const s=document.querySelector("head");s&&s.insertBefore(i,s.firstChild),xa.push({name:o,loadTimes:1,styleElement:i})}}function um(o){const e=xa.findIndex(n=>n.name===o);if(e>-1){const n=xa[e];if(n.loadTimes-=1,n.loadTimes>0)return;let i=n.styleElement;i&&i.parentNode&&i.parentNode.removeChild(i),i=null,xa.splice(e,1)}}var _n,vn;!function(o){o.toDeg=function e(i){return 180*i/Math.PI%360},o.toRad=function(i,s=!1){return(s?i:i%360)*Math.PI/180},o.normalize=function n(i){return i%360+(i<0?360:0)}}(_n||(_n={})),function(o){o.round=function e(c,u=0){return Number.isInteger(c)?c:+c.toFixed(u)},o.random=function n(c,u){let g,_;if(null==u?(_=c??1,g=0):(_=u,g=c??0),_<g){const z=g;g=_,_=z}return Math.floor(Math.random()*(_-g+1)+g)},o.clamp=function i(c,u,g){return Number.isNaN(c)?NaN:Number.isNaN(u)||Number.isNaN(g)?0:u<g?c<u?u:c>g?g:c:c<g?g:c>u?u:c},o.snapToGrid=function s(c,u){return u*Math.round(c/u)},o.containsPoint=function a(c,u){return null!=u&&null!=c&&u.x>=c.x&&u.x<=c.x+c.width&&u.y>=c.y&&u.y<=c.y+c.height},o.squaredLength=function l(c,u){const g=c.x-u.x,_=c.y-u.y;return g*g+_*_}}(vn||(vn={}));class ms{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class ve extends ms{constructor(e,n){super(),this.x=e??0,this.y=n??0}round(e=0){return this.x=vn.round(this.x,e),this.y=vn.round(this.y,e),this}add(e,n){const i=ve.create(e,n);return this.x+=i.x,this.y+=i.y,this}update(e,n){const i=ve.create(e,n);return this.x=i.x,this.y=i.y,this}translate(e,n){const i=ve.create(e,n);return this.x+=i.x,this.y+=i.y,this}rotate(e,n){const i=ve.rotate(this,e,n);return this.x=i.x,this.y=i.y,this}scale(e,n,i=new ve){const s=ve.create(i);return this.x=s.x+e*(this.x-s.x),this.y=s.y+n*(this.y-s.y),this}closest(e){if(1===e.length)return ve.create(e[0]);let n=null,i=1/0;return e.forEach(s=>{const a=this.squaredDistance(s);a<i&&(n=s,i=a)}),n?ve.create(n):null}distance(e){return Math.sqrt(this.squaredDistance(e))}squaredDistance(e){const n=ve.create(e),i=this.x-n.x,s=this.y-n.y;return i*i+s*s}manhattanDistance(e){const n=ve.create(e);return Math.abs(n.x-this.x)+Math.abs(n.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(e=new ve){const n=ve.create(e);let a=Math.atan2(-(n.y-this.y),n.x-this.x);return a<0&&(a=2*Math.PI+a),180*a/Math.PI}angleBetween(e,n){if(this.equals(e)||this.equals(n))return NaN;let i=this.theta(n)-this.theta(e);return i<0&&(i+=360),i}vectorAngle(e){return new ve(0,0).angleBetween(this,e)}toPolar(e){return this.update(ve.toPolar(this,e)),this}changeInAngle(e,n,i=new ve){return this.clone().translate(-e,-n).theta(i)-this.theta(i)}adhereToRect(e){return vn.containsPoint(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}bearing(e){const n=ve.create(e),i=_n.toRad(this.y),s=_n.toRad(n.y),c=_n.toRad(n.x-this.x),u=Math.sin(c)*Math.cos(s),g=Math.cos(i)*Math.sin(s)-Math.sin(i)*Math.cos(s)*Math.cos(c);let y=_n.toDeg(Math.atan2(u,g))-22.5;return y<0&&(y+=360),y=parseInt(y/45,10),["NE","E","SE","S","SW","W","NW","N"][y]}cross(e,n){if(null!=e&&null!=n){const i=ve.create(e),s=ve.create(n);return(s.x-this.x)*(i.y-this.y)-(s.y-this.y)*(i.x-this.x)}return NaN}dot(e){const n=ve.create(e);return this.x*n.x+this.y*n.y}diff(e,n){if("number"==typeof e)return new ve(this.x-e,this.y-n);const i=ve.create(e);return new ve(this.x-i.x,this.y-i.y)}lerp(e,n){const i=ve.create(e);return new ve((1-n)*this.x+n*i.x,(1-n)*this.y+n*i.y)}normalize(e=1){const n=e/this.magnitude();return this.scale(n,n)}move(e,n){const i=ve.create(e),s=_n.toRad(i.theta(this));return this.translate(Math.cos(s)*n,-Math.sin(s)*n)}reflection(e){return ve.create(e).move(this,this.distance(e))}snapToGrid(e,n){return this.x=vn.snapToGrid(this.x,e),this.y=vn.snapToGrid(this.y,n??e),this}equals(e){const n=ve.create(e);return null!=n&&n.x===this.x&&n.y===this.y}clone(){return ve.clone(this)}toJSON(){return ve.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(o){o.isPoint=function e(n){return null!=n&&n instanceof o}})(ve||(ve={})),function(o){o.isPointLike=function e(i){return null!=i&&"object"==typeof i&&"number"==typeof i.x&&"number"==typeof i.y},o.isPointData=function n(i){return null!=i&&Array.isArray(i)&&2===i.length&&"number"==typeof i[0]&&"number"==typeof i[1]}}(ve||(ve={})),function(o){function n(z){return o.isPoint(z)?new o(z.x,z.y):Array.isArray(z)?new o(z[0],z[1]):new o(z.x,z.y)}function l(z,y){return z===y||null!=z&&null!=y&&z.x===y.x&&z.y===y.y}function _(z,y,x,N=new o){const $=n(z),U=n(N),Q=$.x-U.x,le=$.y-U.y;return new o(Q*y-le*x+U.x,le*y+Q*x+U.y)}o.create=function e(z,y){return null==z||"number"==typeof z?new o(z,y):n(z)},o.clone=n,o.toJSON=function i(z){return o.isPoint(z)?{x:z.x,y:z.y}:Array.isArray(z)?{x:z[0],y:z[1]}:{x:z.x,y:z.y}},o.fromPolar=function s(z,y,x=new o){let N=Math.abs(z*Math.cos(y)),$=Math.abs(z*Math.sin(y));const U=n(x),Q=_n.normalize(_n.toDeg(y));return Q<90?$=-$:Q<180?(N=-N,$=-$):Q<270&&(N=-N),new o(U.x+N,U.y+$)},o.toPolar=function a(z,y=new o){const x=n(z),N=n(y),$=x.x-N.x,U=x.y-N.y;return new o(Math.sqrt($*$+U*U),_n.toRad(N.theta(x)))},o.equals=l,o.equalPoints=function c(z,y){if(null==z&&null!=y||null!=z&&null==y||null!=z&&null!=y&&z.length!==y.length)return!1;if(null!=z&&null!=y)for(let x=0,N=z.length;x<N;x+=1)if(!l(z[x],y[x]))return!1;return!0},o.random=function u(z,y,x,N){return new o(vn.random(z,y),vn.random(x,N))},o.rotate=function g(z,y,x){const N=_n.toRad(_n.normalize(-y)),$=Math.sin(N);return _(z,Math.cos(N),$,x)},o.rotateEx=_}(ve||(ve={}));class St extends ms{get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new ve(this.x,this.y)}get topLeft(){return new ve(this.x,this.y)}get topCenter(){return new ve(this.x+this.width/2,this.y)}get topRight(){return new ve(this.x+this.width,this.y)}get center(){return new ve(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new ve(this.x,this.y+this.height)}get bottomCenter(){return new ve(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new ve(this.x+this.width,this.y+this.height)}get corner(){return new ve(this.x+this.width,this.y+this.height)}get rightMiddle(){return new ve(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new ve(this.x,this.y+this.height/2)}get topLine(){return new Mt(this.topLeft,this.topRight)}get rightLine(){return new Mt(this.topRight,this.bottomRight)}get bottomLine(){return new Mt(this.bottomLeft,this.bottomRight)}get leftLine(){return new Mt(this.topLeft,this.bottomLeft)}constructor(e,n,i,s){super(),this.x=e??0,this.y=n??0,this.width=i??0,this.height=s??0}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(e){if(!e)return this.clone();const n=_n.toRad(e),i=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n)),a=this.width*s+this.height*i,l=this.width*i+this.height*s;return new St(this.x+(this.width-a)/2,this.y+(this.height-l)/2,a,l)}round(e=0){return this.x=vn.round(this.x,e),this.y=vn.round(this.y,e),this.width=vn.round(this.width,e),this.height=vn.round(this.height,e),this}add(e,n,i,s){const a=St.create(e,n,i,s),l=Math.min(this.x,a.x),c=Math.min(this.y,a.y),u=Math.max(this.x+this.width,a.x+a.width),g=Math.max(this.y+this.height,a.y+a.height);return this.x=l,this.y=c,this.width=u-l,this.height=g-c,this}update(e,n,i,s){const a=St.create(e,n,i,s);return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this}inflate(e,n){const i=e,s=n??e;return this.x-=i,this.y-=s,this.width+=2*i,this.height+=2*s,this}snapToGrid(e,n){const i=this.origin.snapToGrid(e,n),s=this.corner.snapToGrid(e,n);return this.x=i.x,this.y=i.y,this.width=s.x-i.x,this.height=s.y-i.y,this}translate(e,n){const i=ve.create(e,n);return this.x+=i.x,this.y+=i.y,this}scale(e,n,i=new ve){const s=this.origin.scale(e,n,i);return this.x=s.x,this.y=s.y,this.width*=e,this.height*=n,this}rotate(e,n=this.getCenter()){if(0!==e){const i=_n.toRad(e),s=Math.cos(i),a=Math.sin(i);let l=this.getOrigin(),c=this.getTopRight(),u=this.getBottomRight(),g=this.getBottomLeft();l=ve.rotateEx(l,s,a,n),c=ve.rotateEx(c,s,a,n),u=ve.rotateEx(u,s,a,n),g=ve.rotateEx(g,s,a,n);const _=new St(l.x,l.y,0,0);_.add(c.x,c.y,0,0),_.add(u.x,u.y,0,0),_.add(g.x,g.y,0,0),this.update(_)}return this}rotate90(){const e=(this.width-this.height)/2;this.x+=e,this.y-=e;const n=this.width;return this.width=this.height,this.height=n,this}moveAndExpand(e){const n=St.clone(e);return this.x+=n.x||0,this.y+=n.y||0,this.width+=n.width||0,this.height+=n.height||0,this}getMaxScaleToFit(e,n=this.center){const i=St.clone(e),s=n.x,a=n.y;let l=1/0,c=1/0,u=1/0,g=1/0,_=1/0,z=1/0,y=1/0,x=1/0;const N=i.topLeft;N.x<s&&(l=(this.x-s)/(N.x-s)),N.y<a&&(_=(this.y-a)/(N.y-a));const $=i.bottomRight;$.x>s&&(c=(this.x+this.width-s)/($.x-s)),$.y>a&&(z=(this.y+this.height-a)/($.y-a));const U=i.topRight;U.x>s&&(u=(this.x+this.width-s)/(U.x-s)),U.y<a&&(y=(this.y-a)/(U.y-a));const Q=i.bottomLeft;return Q.x<s&&(g=(this.x-s)/(Q.x-s)),Q.y>a&&(x=(this.y+this.height-a)/(Q.y-a)),{sx:Math.min(l,c,u,g),sy:Math.min(_,z,y,x)}}getMaxUniformScaleToFit(e,n=this.center){const i=this.getMaxScaleToFit(e,n);return Math.min(i.sx,i.sy)}containsPoint(e,n){return vn.containsPoint(this,ve.create(e,n))}containsRect(e,n,i,s){const a=St.create(e,n,i,s),l=this.x,c=this.y,u=this.width,g=this.height,_=a.x,z=a.y,y=a.width,x=a.height;return 0!==u&&0!==g&&0!==y&&0!==x&&_>=l&&z>=c&&_+y<=l+u&&z+x<=c+g}intersectsWithLine(e){const i=[],s=[];return[this.topLine,this.rightLine,this.bottomLine,this.leftLine].forEach(a=>{const l=e.intersectsWithLine(a);null!==l&&s.indexOf(l.toString())<0&&(i.push(l),s.push(l.toString()))}),i.length>0?i:null}intersectsWithLineFromCenterToPoint(e,n){const i=ve.clone(e),s=this.center;let a=null;null!=n&&0!==n&&i.rotate(n,s);const l=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],c=new Mt(s,i);for(let u=l.length-1;u>=0;u-=1){const g=l[u].intersectsWithLine(c);if(null!==g){a=g;break}}return a&&null!=n&&0!==n&&a.rotate(-n,s),a}intersectsWithRect(e,n,i,s){const a=St.create(e,n,i,s);if(!this.isIntersectWithRect(a))return null;const l=this.origin,c=this.corner,u=a.origin,g=a.corner,_=Math.max(l.x,u.x),z=Math.max(l.y,u.y);return new St(_,z,Math.min(c.x,g.x)-_,Math.min(c.y,g.y)-z)}isIntersectWithRect(e,n,i,s){const a=St.create(e,n,i,s),l=this.origin,c=this.corner,u=a.origin,g=a.corner;return!(g.x<=l.x||g.y<=l.y||u.x>=c.x||u.y>=c.y)}normalize(){let e=this.x,n=this.y,i=this.width,s=this.height;return this.width<0&&(e=this.x+this.width,i=-this.width),this.height<0&&(n=this.y+this.height,s=-this.height),this.x=e,this.y=n,this.width=i,this.height=s,this}union(e){const n=St.clone(e),i=this.origin,s=this.corner,a=n.origin,l=n.corner,c=Math.min(i.x,a.x),u=Math.min(i.y,a.y),g=Math.max(s.x,l.x),_=Math.max(s.y,l.y);return new St(c,u,g-c,_-u)}getNearestSideToPoint(e){const n=ve.clone(e),s=this.x+this.width-n.x,a=n.y-this.y;let c=n.x-this.x,u="left";return s<c&&(c=s,u="right"),a<c&&(c=a,u="top"),this.y+this.height-n.y<c&&(u="bottom"),u}getNearestPointToPoint(e){const n=ve.clone(e);if(this.containsPoint(n)){const i=this.getNearestSideToPoint(n);if("left"===i)return new ve(this.x,n.y);if("top"===i)return new ve(n.x,this.y);if("right"===i)return new ve(this.x+this.width,n.y);if("bottom"===i)return new ve(n.x,this.y+this.height)}return n.adhereToRect(this)}equals(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}clone(){return new St(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(o){o.isRectangle=function e(n){return null!=n&&n instanceof o}})(St||(St={})),function(o){o.isRectangleLike=function e(n){return null!=n&&"object"==typeof n&&"number"==typeof n.x&&"number"==typeof n.y&&"number"==typeof n.width&&"number"==typeof n.height}}(St||(St={})),function(o){function n(l){return o.isRectangle(l)?l.clone():Array.isArray(l)?new o(l[0],l[1],l[2],l[3]):new o(l.x,l.y,l.width,l.height)}o.create=function e(l,c,u,g){return null==l||"number"==typeof l?new o(l,c,u,g):n(l)},o.clone=n,o.fromEllipse=function i(l){return new o(l.x-l.a,l.y-l.b,2*l.a,2*l.b)},o.fromSize=function s(l){return new o(0,0,l.width,l.height)},o.fromPositionAndSize=function a(l,c){return new o(l.x,l.y,c.width,c.height)}}(St||(St={}));class Mt extends ms{get center(){return new ve((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}constructor(e,n,i,s){super(),"number"==typeof e&&"number"==typeof n?(this.start=new ve(e,n),this.end=new ve(i,s)):(this.start=ve.create(e),this.end=ve.create(n))}getCenter(){return this.center}round(e=0){return this.start.round(e),this.end.round(e),this}translate(e,n){return"number"==typeof e?(this.start.translate(e,n),this.end.translate(e,n)):(this.start.translate(e),this.end.translate(e)),this}rotate(e,n){return this.start.rotate(e,n),this.end.rotate(e,n),this}scale(e,n,i){return this.start.scale(e,n,i),this.end.scale(e,n,i),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const e=this.start.x-this.end.x,n=this.start.y-this.end.y;return e*e+n*n}setLength(e){const n=this.length();if(!n)return this;const i=e/n;return this.scale(i,i,this.start)}parallel(e){const n=this.clone();if(!n.isDifferentiable())return n;const{start:i,end:s}=n,a=i.clone().rotate(270,s),l=s.clone().rotate(90,i);return i.move(l,e),s.move(a,e),n}vector(){return new ve(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const e=new ve(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}bbox(){const e=Math.min(this.start.x,this.end.x),n=Math.min(this.start.y,this.end.y),i=Math.max(this.start.x,this.end.x),s=Math.max(this.start.y,this.end.y);return new St(e,n,i-e,s-n)}bearing(){return this.start.bearing(this.end)}closestPoint(e){return this.pointAt(this.closestPointNormalizedLength(e))}closestPointLength(e){return this.closestPointNormalizedLength(e)*this.length()}closestPointTangent(e){return this.tangentAt(this.closestPointNormalizedLength(e))}closestPointNormalizedLength(e){const n=this.vector().dot(new Mt(this.start,e).vector()),i=Math.min(1,Math.max(0,n/this.squaredLength()));return Number.isNaN(i)?0:i}pointAt(e){const n=this.start,i=this.end;return e<=0?n.clone():e>=1?i.clone():n.lerp(i,e)}pointAtLength(e){const n=this.start,i=this.end;let s=!0;e<0&&(s=!1,e=-e);const a=this.length();return e>=a?s?i.clone():n.clone():this.pointAt((s?e:a-e)/a)}divideAt(e){const n=this.pointAt(e);return[new Mt(this.start,n),new Mt(n,this.end)]}divideAtLength(e){const n=this.pointAtLength(e);return[new Mt(this.start,n),new Mt(n,this.end)]}containsPoint(e){const n=this.start,i=this.end;if(0!==n.cross(e,i))return!1;const s=this.length();return!(new Mt(n,e).length()>s||new Mt(e,i).length()>s)}intersect(e,n){const i=e.intersectsWithLine(this,n);return i?Array.isArray(i)?i:[i]:null}intersectsWithLine(e){const n=new ve(this.end.x-this.start.x,this.end.y-this.start.y),i=new ve(e.end.x-e.start.x,e.end.y-e.start.y),s=n.x*i.y-n.y*i.x,a=new ve(e.start.x-this.start.x,e.start.y-this.start.y),l=a.x*i.y-a.y*i.x,c=a.x*n.y-a.y*n.x;if(0===s||l*s<0||c*s<0)return null;if(s>0){if(l>s||c>s)return null}else if(l<s||c<s)return null;return new ve(this.start.x+l*n.x/s,this.start.y+l*n.y/s)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(e){const n=ve.clone(e),i=this.start,s=this.end;return((s.x-i.x)*(n.y-i.y)-(s.y-i.y)*(n.x-i.x))/this.length()}pointSquaredDistance(e,n){const i=ve.create(e,n);return this.closestPoint(i).squaredDistance(i)}pointDistance(e,n){const i=ve.create(e,n);return this.closestPoint(i).distance(i)}tangentAt(e){if(!this.isDifferentiable())return null;const n=this.start,i=this.end,s=this.pointAt(e),a=new Mt(n,i);return a.translate(s.x-n.x,s.y-n.y),a}tangentAtLength(e){if(!this.isDifferentiable())return null;const n=this.start,i=this.end,s=this.pointAtLength(e),a=new Mt(n,i);return a.translate(s.x-n.x,s.y-n.y),a}relativeCcw(e,n){const i=ve.create(e,n);let s=i.x-this.start.x,a=i.y-this.start.y;const l=this.end.x-this.start.x,c=this.end.y-this.start.y;let u=s*c-a*l;return 0===u&&(u=s*l+a*c,u>0&&(s-=l,a-=c,u=s*l+a*c,u<0&&(u=0))),u<0?-1:u>0?1:0}equals(e){return null!=e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}clone(){return new Mt(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}!function(o){o.isLine=function e(n){return null!=n&&n instanceof o}}(Mt||(Mt={}));class bi extends ms{get center(){return new ve(this.x,this.y)}constructor(e,n,i,s){super(),this.x=e??0,this.y=n??0,this.a=i??0,this.b=s??0}bbox(){return St.fromEllipse(this)}getCenter(){return this.center}inflate(e,n){const s=n??e;return this.a+=2*e,this.b+=2*s,this}normalizedDistance(e,n){const i=ve.create(e,n),s=i.x-this.x,a=i.y-this.y,l=this.a,c=this.b;return s*s/(l*l)+a*a/(c*c)}containsPoint(e,n){return this.normalizedDistance(e,n)<=1}intersectsWithLine(e){const n=[],i=this.a,s=this.b,a=e.start,l=e.end,c=e.vector(),u=a.diff(new ve(this.x,this.y)),g=new ve(c.x/(i*i),c.y/(s*s)),_=new ve(u.x/(i*i),u.y/(s*s)),z=c.dot(g),y=c.dot(_),N=y*y-z*(u.dot(_)-1);if(N<0)return null;if(N>0){const $=Math.sqrt(N),U=(-y-$)/z,Q=(-y+$)/z;if((U<0||U>1)&&(Q<0||Q>1))return null;U>=0&&U<=1&&n.push(a.lerp(l,U)),Q>=0&&Q<=1&&n.push(a.lerp(l,Q))}else{const $=-y/z;if(!($>=0&&$<=1))return null;n.push(a.lerp(l,$))}return n}intersectsWithLineFromCenterToPoint(e,n=0){const i=ve.clone(e);n&&i.rotate(n,this.getCenter());const s=i.x-this.x,a=i.y-this.y;let l;if(0===s)return l=this.bbox().getNearestPointToPoint(i),n?l.rotate(-n,this.getCenter()):l;const c=a/s;let z=Math.sqrt(1/(1/(this.a*this.a)+c*c/(this.b*this.b)));return z=s<0?-z:z,l=new ve(this.x+z,this.y+c*z),n?l.rotate(-n,this.getCenter()):l}tangentTheta(e){const n=ve.clone(e),i=n.x,s=n.y,a=this.a,l=this.b,c=this.bbox().center,u=c.x,g=c.y;let x,N;return i>c.x+a/2||i<c.x-a/2?(N=i>c.x?s-30:s+30,x=a*a/(i-u)-a*a*(s-g)*(N-g)/(l*l*(i-u))+u):(x=s>c.y?i+30:i-30,N=l*l/(s-g)-l*l*(i-u)*(x-u)/(a*a*(s-g))+g),new ve(x,N).theta(n)}scale(e,n){return this.a*=e,this.b*=n,this}rotate(e,n){const i=St.fromEllipse(this);i.rotate(e,n);const s=bi.fromRect(i);return this.a=s.a,this.b=s.b,this.x=s.x,this.y=s.y,this}translate(e,n){const i=ve.create(e,n);return this.x+=i.x,this.y+=i.y,this}equals(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}clone(){return new bi(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(o){o.isEllipse=function e(n){return null!=n&&n instanceof o}})(bi||(bi={})),function(o){function n(s){return o.isEllipse(s)?s.clone():Array.isArray(s)?new o(s[0],s[1],s[2],s[3]):new o(s.x,s.y,s.a,s.b)}o.create=function e(s,a,l,c){return null==s||"number"==typeof s?new o(s,a,l,c):n(s)},o.parse=n,o.fromRect=function i(s){const a=s.center;return new o(a.x,a.y,s.width/2,s.height/2)}}(bi||(bi={}));const Gz=new RegExp("^[\\s\\dLMCZz,.]*$");function Hz(o){return"string"==typeof o&&Gz.test(o)}function Ip(o,e){return(o%e+e)%e}function pm(o,e={}){const n=[];return o&&o.length&&o.forEach(i=>{Array.isArray(i)?n.push({x:i[0],y:i[1]}):n.push({x:i.x,y:i.y})}),function Uz(o,e,n,i,s){const a=[],l=o[o.length-1],c=null!=e&&e>0,u=e||0;if(i&&c){const z=(o=o.slice())[0],y=new ve(l.x+(z.x-l.x)/2,l.y+(z.y-l.y)/2);o.splice(0,0,y)}let g=o[0],_=1;for(a.push(n?"M":"L",g.x,g.y);_<(i?o.length:o.length-1);){let z=o[Ip(_,o.length)],y=g.x-z.x,x=g.y-z.y;if(c&&(0!==y||0!==x)&&(null==s||s.indexOf(_-1)<0)){let N=Math.sqrt(y*y+x*x);const $=y*Math.min(u,N/2)/N,U=x*Math.min(u,N/2)/N;a.push("L",z.x+$,z.y+U);let K=o[Ip(_+1,o.length)];for(;_<o.length-2&&0===Math.round(K.x-z.x)&&0===Math.round(K.y-z.y);)K=o[Ip(_+2,o.length)],_+=1;y=K.x-z.x,x=K.y-z.y,N=Math.max(1,Math.sqrt(y*y+x*x));const Oe=y*Math.min(u,N/2)/N,Ie=x*Math.min(u,N/2)/N,Qe=z.x+Oe,gt=z.y+Ie;a.push("Q",z.x,z.y,Qe,gt),z=new ve(Qe,gt)}else a.push("L",z.x,z.y);g=z,_+=1}return i?a.push("Z"):a.push("L",l.x,l.y),a.map(z=>"string"==typeof z?z:+z.toFixed(3)).join(" ")}(n,e.round,null==e.initialMove||e.initialMove,e.close,e.exclude)}function hc(o,e,n,i,s=0,a=0,l=0,c,u){if(0===n||0===i)return[];c-=o,u-=e,n=Math.abs(n),i=Math.abs(i);const g=-c/2,_=-u/2,z=Math.cos(s*Math.PI/180),y=Math.sin(s*Math.PI/180),x=z*g+y*_,N=-1*y*g+z*_,$=x*x,U=N*N,Q=n*n,le=i*i,K=$/Q+U/le;let Oe;if(K>1)n=Math.sqrt(K)*n,i=Math.sqrt(K)*i,Oe=0;else{let Yi=1;a===l&&(Yi=-1),Oe=Yi*Math.sqrt((Q*le-Q*U-le*$)/(Q*U+le*$))}const Ie=Oe*n*N/i,Qe=-1*Oe*i*x/n,gt=z*Ie-y*Qe+c/2,yt=y*Ie+z*Qe+u/2;let zt=Math.atan2((N-Qe)/i,(x-Ie)/n)-Math.atan2(0,1),Pt=zt>=0?zt:2*Math.PI+zt;zt=Math.atan2((-N-Qe)/i,(-x-Ie)/n)-Math.atan2((N-Qe)/i,(x-Ie)/n);let Tt=zt>=0?zt:2*Math.PI+zt;0===l&&Tt>0?Tt-=2*Math.PI:0!==l&&Tt<0&&(Tt+=2*Math.PI);const Rt=2*Tt/Math.PI,Tn=Math.ceil(Rt<0?-1*Rt:Rt),cn=Tt/Tn,it=8/3*Math.sin(cn/4)*Math.sin(cn/4)/Math.sin(cn/2),_t=z*n,Jt=z*i,On=y*n,Dn=y*i;let Gn=Math.cos(Pt),qn=Math.sin(Pt),Pc=-it*(_t*qn+Dn*Gn),kc=-it*(On*qn-Jt*Gn),ws=0,Ra=0;const Wi=[];for(let Yi=0;Yi<Tn;Yi+=1){Pt+=cn,Gn=Math.cos(Pt),qn=Math.sin(Pt),ws=_t*Gn-Dn*qn+gt,Ra=On*Gn+Jt*qn+yt;const x_=-it*(_t*qn+Dn*Gn),O_=-it*(On*qn-Jt*Gn),cr=6*Yi;Wi[cr]=Number(Pc+o),Wi[cr+1]=Number(kc+e),Wi[cr+2]=Number(ws-x_+o),Wi[cr+3]=Number(Ra-O_+e),Wi[cr+4]=Number(ws+o),Wi[cr+5]=Number(Ra+e),Pc=ws+x_,kc=Ra+O_}return Wi.map(Yi=>+Yi.toFixed(2))}function Xz(o,e,n,i,s=0,a=0,l=0,c,u){const g=[],_=hc(o,e,n,i,s,a,l,c,u);if(null!=_)for(let z=0,y=_.length;z<y;z+=6)g.push("C",_[z],_[z+1],_[z+2],_[z+3],_[z+4],_[z+5]);return g.join(" ")}class Nn extends ms{get start(){return this.points[0]||null}get end(){return this.points[this.points.length-1]||null}constructor(e){if(super(),null!=e){if("string"==typeof e)return Nn.parse(e);this.points=e.map(n=>ve.create(n))}else this.points=[]}scale(e,n,i=new ve){return this.points.forEach(s=>s.scale(e,n,i)),this}rotate(e,n){return this.points.forEach(i=>i.rotate(e,n)),this}translate(e,n){const i=ve.create(e,n);return this.points.forEach(s=>s.translate(i.x,i.y)),this}round(e=0){return this.points.forEach(n=>n.round(e)),this}bbox(){if(0===this.points.length)return new St;let e=1/0,n=-1/0,i=1/0,s=-1/0;const a=this.points;for(let l=0,c=a.length;l<c;l+=1){const u=a[l],g=u.x,_=u.y;g<e&&(e=g),g>n&&(n=g),_<i&&(i=_),_>s&&(s=_)}return new St(e,i,n-e,s-i)}closestPoint(e){const n=this.closestPointLength(e);return this.pointAtLength(n)}closestPointLength(e){const n=this.points,i=n.length;if(0===i||1===i)return 0;let s=0,a=0,l=1/0;for(let c=0,u=i-1;c<u;c+=1){const g=new Mt(n[c],n[c+1]),_=g.length(),z=g.closestPointNormalizedLength(e),x=g.pointAt(z).squaredDistance(e);x<l&&(l=x,a=s+z*_),s+=_}return a}closestPointNormalizedLength(e){const n=this.length();return 0===n?0:this.closestPointLength(e)/n}closestPointTangent(e){const n=this.closestPointLength(e);return this.tangentAtLength(n)}containsPoint(e){if(0===this.points.length)return!1;const n=ve.clone(e),i=n.x,s=n.y,a=this.points,l=a.length;let c=l-1,u=0;for(let g=0;g<l;g+=1){const _=a[c],z=a[g];if(n.equals(_))return!0;const y=new Mt(_,z);if(y.containsPoint(e))return!0;if(s<=_.y&&s>z.y||s>_.y&&s<=z.y){const x=_.x-i>z.x-i?_.x-i:z.x-i;if(x>=0){const N=new ve(i+x,s),$=new Mt(e,N);y.intersectsWithLine($)&&(u+=1)}}c=g}return u%2==1}intersectsWithLine(e){const n=[];for(let i=0,s=this.points.length-1;i<s;i+=1){const c=e.intersectsWithLine(new Mt(this.points[i],this.points[i+1]));c&&n.push(c)}return n.length>0?n:null}isDifferentiable(){for(let e=0,n=this.points.length-1;e<n;e+=1)if(new Mt(this.points[e],this.points[e+1]).isDifferentiable())return!0;return!1}length(){let e=0;for(let n=0,i=this.points.length-1;n<i;n+=1)e+=this.points[n].distance(this.points[n+1]);return e}pointAt(e){const n=this.points,i=n.length;if(0===i)return null;if(1===i||e<=0)return n[0].clone();if(e>=1)return n[i-1].clone();const a=this.length()*e;return this.pointAtLength(a)}pointAtLength(e){const n=this.points,i=n.length;if(0===i)return null;if(1===i)return n[0].clone();let s=!0;e<0&&(s=!1,e=-e);let a=0;for(let c=0,u=i-1;c<u;c+=1){const g=s?c:u-1-c,_=n[g],z=n[g+1],y=new Mt(_,z),x=_.distance(z);if(e<=a+x)return y.pointAtLength((s?1:-1)*(e-a));a+=x}return(s?n[i-1]:n[0]).clone()}tangentAt(e){const i=this.points.length;if(0===i||1===i)return null;e<0&&(e=0),e>1&&(e=1);const a=this.length()*e;return this.tangentAtLength(a)}tangentAtLength(e){const n=this.points,i=n.length;if(0===i||1===i)return null;let s=!0;e<0&&(s=!1,e=-e);let a,l=0;for(let c=0,u=i-1;c<u;c+=1){const g=s?c:u-1-c,_=n[g],z=n[g+1],y=new Mt(_,z),x=_.distance(z);if(y.isDifferentiable()){if(e<=l+x)return y.tangentAtLength((s?1:-1)*(e-l));a=y}l+=x}return a?a.tangentAt(s?1:0):null}simplify(e={}){const n=this.points;if(n.length<3)return this;const i=e.threshold||0;let s=0;for(;n[s+2];){const l=s+1,g=n[l];new Mt(n[s],n[s+2]).closestPoint(g).distance(g)<=i?n.splice(l,1):s+=1}return this}toHull(){const e=this.points,n=e.length;if(0===n)return new Nn;let i=e[0];for(let y=1;y<n;y+=1)(e[y].y<i.y||e[y].y===i.y&&e[y].x>i.x)&&(i=e[y]);const s=[];for(let y=0;y<n;y+=1){let x=i.theta(e[y]);0===x&&(x=360),s.push([e[y],y,x])}s.sort((y,x)=>{let N=y[2]-x[2];return 0===N&&(N=x[1]-y[1]),N}),s.length>2&&s.unshift(s[s.length-1]);const a={},l=[],c=y=>`${y[0].toString()}@${y[1]}`;for(;0!==s.length;){const y=s.pop(),x=y[0];if(a[c(y)])continue;let N=!1;for(;!N;)if(l.length<2)l.push(y),N=!0;else{const $=l.pop(),U=$[0],Q=l.pop(),le=Q[0],K=le.cross(U,x);if(K<0)l.push(Q),l.push($),l.push(y),N=!0;else if(0===K){const Ie=U.angleBetween(le,x);Math.abs(Ie-180)<1e-10||U.equals(x)||le.equals(U)?(a[c($)]=U,l.push(Q)):Math.abs((Ie+1)%360-1)<1e-10&&(l.push(Q),s.push($))}else a[c($)]=U,l.push(Q)}}l.length>2&&l.pop();let u,g=-1;for(let y=0,x=l.length;y<x;y+=1){const N=l[y][1];(void 0===u||N<u)&&(u=N,g=y)}let _=[];if(g>0){const y=l.slice(g),x=l.slice(0,g);_=y.concat(x)}else _=l;const z=[];for(let y=0,x=_.length;y<x;y+=1)z.push(_[y][0]);return new Nn(z)}equals(e){return null!=e&&e.points.length===this.points.length&&e.points.every((n,i)=>n.equals(this.points[i]))}clone(){return new Nn(this.points.map(e=>e.clone()))}toJSON(){return this.points.map(e=>e.toJSON())}serialize(){return this.points.map(e=>`${e.serialize()}`).join(" ")}}(function(o){o.isPolyline=function e(n){return null!=n&&n instanceof o}})(Nn||(Nn={})),function(o){o.parse=function e(n){const i=n.trim();if(""===i)return new o;const s=[],a=i.split(/\s*,\s*|\s+/);for(let l=0,c=a.length;l<c;l+=2)s.push({x:+a[l],y:+a[l+1]});return new o(s)}}(Nn||(Nn={}));class Pn extends ms{constructor(e,n,i,s){super(),this.PRECISION=3,this.start=ve.create(e),this.controlPoint1=ve.create(n),this.controlPoint2=ve.create(i),this.end=ve.create(s)}bbox(){const e=this.start,n=this.controlPoint1,i=this.controlPoint2,s=this.end,a=e.x,l=e.y,c=n.x,u=n.y,g=i.x,_=i.y,z=s.x,y=s.y,x=[],N=[],$=[[],[]];let U,Q,le,K,Oe,Ie,Qe,gt;for(let Jt=0;Jt<2;Jt+=1)if(0===Jt?(Q=6*a-12*c+6*g,U=-3*a+9*c-9*g+3*z,le=3*c-3*a):(Q=6*l-12*u+6*_,U=-3*l+9*u-9*_+3*y,le=3*u-3*l),Math.abs(U)<1e-12){if(Math.abs(Q)<1e-12)continue;K=-le/Q,K>0&&K<1&&N.push(K)}else Qe=Q*Q-4*le*U,gt=Math.sqrt(Qe),!(Qe<0)&&(Oe=(-Q+gt)/(2*U),Oe>0&&Oe<1&&N.push(Oe),Ie=(-Q-gt)/(2*U),Ie>0&&Ie<1&&N.push(Ie));let yt,zt,Pt,Tt=N.length;const Rt=Tt;for(;Tt;)Tt-=1,K=N[Tt],Pt=1-K,yt=Pt*Pt*Pt*a+3*Pt*Pt*K*c+3*Pt*K*K*g+K*K*K*z,$[0][Tt]=yt,zt=Pt*Pt*Pt*l+3*Pt*Pt*K*u+3*Pt*K*K*_+K*K*K*y,$[1][Tt]=zt,x[Tt]={X:yt,Y:zt};N[Rt]=0,N[Rt+1]=1,x[Rt]={X:a,Y:l},x[Rt+1]={X:z,Y:y},$[0][Rt]=a,$[1][Rt]=l,$[0][Rt+1]=z,$[1][Rt+1]=y,N.length=Rt+2,$[0].length=Rt+2,$[1].length=Rt+2,x.length=Rt+2;const Tn=Math.min.apply(null,$[0]),cn=Math.min.apply(null,$[1]),it=Math.max.apply(null,$[0]),_t=Math.max.apply(null,$[1]);return new St(Tn,cn,it-Tn,_t-cn)}closestPoint(e,n={}){return this.pointAtT(this.closestPointT(e,n))}closestPointLength(e,n={}){const i=this.getOptions(n);return this.lengthAtT(this.closestPointT(e,i),i)}closestPointNormalizedLength(e,n={}){const i=this.getOptions(n),s=this.closestPointLength(e,i);if(!s)return 0;const a=this.length(i);return 0===a?0:s/a}closestPointT(e,n={}){const i=this.getPrecision(n),s=this.getDivisions(n),a=Math.pow(10,-i);let l=null,c=0,u=0,g=0,_=0,z=0,y=null;const x=s.length;let N=x>0?1/x:0;for(s.forEach(($,U)=>{const Q=$.start.distance(e),le=$.end.distance(e),K=Q+le;(null==y||K<y)&&(l=$,c=U*N,u=(U+1)*N,g=Q,_=le,y=K,z=$.endpointDistance())});;){const $=g?Math.abs(g-_)/g:0,U=null!=_?Math.abs(g-_)/_:0;if($<a||U<a||!g||g<z*a||!_||_<z*a)return g<=_?c:u;const Ie=l.divide(.5);N/=2;const Qe=Ie[0].start.distance(e),gt=Ie[0].end.distance(e),yt=Qe+gt,zt=Ie[1].start.distance(e),Pt=Ie[1].end.distance(e);yt<=zt+Pt?(l=Ie[0],u-=N,g=Qe,_=gt):(l=Ie[1],c+=N,g=zt,_=Pt)}}closestPointTangent(e,n={}){return this.tangentAtT(this.closestPointT(e,n))}containsPoint(e,n={}){return this.toPolyline(n).containsPoint(e)}divideAt(e,n={}){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);const i=this.tAt(e,n);return this.divideAtT(i)}divideAtLength(e,n={}){const i=this.tAtLength(e,n);return this.divideAtT(i)}divide(e){return this.divideAtT(e)}divideAtT(e){const n=this.start,i=this.controlPoint1,s=this.controlPoint2,a=this.end;if(e<=0)return[new Pn(n,n,n,n),new Pn(n,i,s,a)];if(e>=1)return[new Pn(n,i,s,a),new Pn(a,a,a,a)];const l=this.getSkeletonPoints(e),g=l.divider,_=l.dividerControlPoint1,z=l.dividerControlPoint2;return[new Pn(n,l.startControlPoint1,l.startControlPoint2,g),new Pn(g,_,z,a)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(e){const n=this.start,i=this.controlPoint1,s=this.controlPoint2,a=this.end;if(e<=0)return{startControlPoint1:n.clone(),startControlPoint2:n.clone(),divider:n.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:s.clone()};if(e>=1)return{startControlPoint1:i.clone(),startControlPoint2:s.clone(),divider:a.clone(),dividerControlPoint1:a.clone(),dividerControlPoint2:a.clone()};const l=new Mt(n,i).pointAt(e),c=new Mt(i,s).pointAt(e),u=new Mt(s,a).pointAt(e),g=new Mt(l,c).pointAt(e),_=new Mt(c,u).pointAt(e);return{startControlPoint1:l,startControlPoint2:g,divider:new Mt(g,_).pointAt(e),dividerControlPoint1:_,dividerControlPoint2:u}}getSubdivisions(e={}){const n=this.getPrecision(e);let i=[new Pn(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===n)return i;let s=this.endpointDistance();const a=Math.pow(10,-n);let l=0;for(;;){l+=1;const c=[];i.forEach(_=>{const z=_.divide(.5);c.push(z[0],z[1])});const u=c.reduce((_,z)=>_+z.endpointDistance(),0);if(l>1&&(0!==u?(u-s)/u:0)<a)return c;i=c,s=u}}length(e={}){return this.getDivisions(e).reduce((i,s)=>i+s.endpointDistance(),0)}lengthAtT(e,n={}){if(e<=0)return 0;const i=void 0===n.precision?this.PRECISION:n.precision;return this.divide(e)[0].length({precision:i})}pointAt(e,n={}){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const i=this.tAt(e,n);return this.pointAtT(i)}pointAtLength(e,n={}){const i=this.tAtLength(e,n);return this.pointAtT(i)}pointAtT(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}isDifferentiable(){const n=this.controlPoint1,i=this.controlPoint2,s=this.end;return!(this.start.equals(n)&&n.equals(i)&&i.equals(s))}tangentAt(e,n={}){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);const i=this.tAt(e,n);return this.tangentAtT(i)}tangentAtLength(e,n={}){if(!this.isDifferentiable())return null;const i=this.tAtLength(e,n);return this.tangentAtT(i)}tangentAtT(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);const n=this.getSkeletonPoints(e),i=n.startControlPoint2,a=n.divider,l=new Mt(i,n.dividerControlPoint1);return l.translate(a.x-i.x,a.y-i.y),l}getPrecision(e={}){return null==e.precision?this.PRECISION:e.precision}getDivisions(e={}){if(null!=e.subdivisions)return e.subdivisions;const n=this.getPrecision(e);return this.getSubdivisions({precision:n})}getOptions(e={}){return{precision:this.getPrecision(e),subdivisions:this.getDivisions(e)}}tAt(e,n={}){if(e<=0)return 0;if(e>=1)return 1;const i=this.getOptions(n),a=this.length(i)*e;return this.tAtLength(a,i)}tAtLength(e,n={}){let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(n),a=this.getDivisions(n),l={precision:s,subdivisions:a};let u,g,c=null,_=0,z=0,y=0;const x=a.length;let N=x>0?1/x:0;for(let Q=0;Q<x;Q+=1){const le=i?Q:x-1-Q,K=a[Q],Oe=K.endpointDistance();if(e<=y+Oe){c=K,u=le*N,g=(le+1)*N,_=i?e-y:Oe+y-e,z=i?Oe+y-e:e-y;break}y+=Oe}if(null==c)return i?1:0;const $=this.length(l),U=Math.pow(10,-s);for(;;){let Q,le,K;if(Q=0!==$?_/$:0,Q<U)return u;if(Q=0!==$?z/$:0,Q<U)return g;const Oe=c.divide(.5);N/=2;const Ie=Oe[0].endpointDistance(),Qe=Oe[1].endpointDistance();_<=Ie?(c=Oe[0],g-=N,le=_,K=Ie-le):(c=Oe[1],u+=N,le=_-Ie,K=Qe-le),_=le,z=K}}toPoints(e={}){const n=this.getDivisions(e),i=[n[0].start.clone()];return n.forEach(s=>i.push(s.end.clone())),i}toPolyline(e={}){return new Nn(this.toPoints(e))}scale(e,n,i){return this.start.scale(e,n,i),this.controlPoint1.scale(e,n,i),this.controlPoint2.scale(e,n,i),this.end.scale(e,n,i),this}rotate(e,n){return this.start.rotate(e,n),this.controlPoint1.rotate(e,n),this.controlPoint2.rotate(e,n),this.end.rotate(e,n),this}translate(e,n){return"number"==typeof e?(this.start.translate(e,n),this.controlPoint1.translate(e,n),this.controlPoint2.translate(e,n),this.end.translate(e,n)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return null!=e&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}clone(){return new Pn(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(o){o.isCurve=function e(n){return null!=n&&n instanceof o}})(Pn||(Pn={})),function(o){function e(s){const a=s.length,l=[],c=[];let u=2;l[0]=s[0]/u;for(let g=1;g<a;g+=1)c[g]=1/u,u=(g<a-1?4:3.5)-c[g],l[g]=(s[g]-l[g-1])/u;for(let g=1;g<a;g+=1)l[a-g-1]-=c[a-g]*l[a-g];return l}o.throughPoints=function i(s){if(null==s||Array.isArray(s)&&s.length<2)throw new Error("At least 2 points are required");const a=function n(s){const a=s.map(y=>ve.clone(y)),l=[],c=[],u=a.length-1;if(1===u)return l[0]=new ve((2*a[0].x+a[1].x)/3,(2*a[0].y+a[1].y)/3),c[0]=new ve(2*l[0].x-a[0].x,2*l[0].y-a[0].y),[l,c];const g=[];for(let y=1;y<u-1;y+=1)g[y]=4*a[y].x+2*a[y+1].x;g[0]=a[0].x+2*a[1].x,g[u-1]=(8*a[u-1].x+a[u].x)/2;const _=e(g);for(let y=1;y<u-1;y+=1)g[y]=4*a[y].y+2*a[y+1].y;g[0]=a[0].y+2*a[1].y,g[u-1]=(8*a[u-1].y+a[u].y)/2;const z=e(g);for(let y=0;y<u;y+=1)l.push(new ve(_[y],z[y])),c.push(y<u-1?new ve(2*a[y+1].x-_[y+1],2*a[y+1].y-z[y+1]):new ve((a[u].x+_[u-1])/2,(a[u].y+z[u-1])/2));return[l,c]}(s),l=[];for(let c=0,u=a[0].length;c<u;c+=1){const g=new ve(a[0][c].x,a[0][c].y),_=new ve(a[1][c].x,a[1][c].y);l.push(new o(s[c],g,_,s[c+1]))}return l}}(Pn||(Pn={}));class dc extends ms{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(null==this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(e,n){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(e,n){if(e<=0)return 0;const i=this.length();return e>=1?i:i*e}divideAtT(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class Jn extends dc{constructor(e,n){super(),this.endPoint=Mt.isLine(e)?e.end.clone().round(2):ve.create(e,n).round(2)}get type(){return"L"}get line(){return new Mt(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const n=this.line.divideAt(e);return[new Jn(n[0]),new Jn(n[1])]}divideAtLength(e){const n=this.line.divideAtLength(e);return[new Jn(n[0]),new Jn(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return null!=this.previousSegment&&!this.start.equals(this.end)}clone(){return new Jn(this.end)}scale(e,n,i){return this.end.scale(e,n,i),this}rotate(e,n){return this.end.rotate(e,n),this}translate(e,n){return"number"==typeof e?this.end.translate(e,n):this.end.translate(e),this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}!function(o){o.create=function e(...n){const i=n.length,s=n[0];if(Mt.isLine(s))return new o(s);if(ve.isPointLike(s))return 1===i?new o(s):n.map(l=>new o(l));if(2===i)return new o(+n[0],+n[1]);const a=[];for(let l=0;l<i;l+=2)a.push(new o(+n[l],+n[l+1]));return a}}(Jn||(Jn={}));class Yo extends dc{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new Mt(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const n=this.line.divideAt(e);return[n[1].isDifferentiable()?new Jn(n[0]):this.clone(),new Jn(n[1])]}divideAtLength(e){const n=this.line.divideAtLength(e);return[n[1].isDifferentiable()?new Jn(n[0]):this.clone(),new Jn(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))}scale(){return this}rotate(){return this}translate(){return this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}clone(){return new Yo}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}!function(o){o.create=function e(){return new o}}(Yo||(Yo={}));class Ko extends dc{constructor(e,n){super(),this.isVisible=!1,this.isSubpathStart=!0,this.endPoint=Mt.isLine(e)||Pn.isCurve(e)?e.end.clone().round(2):ve.create(e,n).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(e,n,i){return this.end.scale(e,n,i),this}rotate(e,n){return this.end.rotate(e,n),this}translate(e,n){return"number"==typeof e?this.end.translate(e,n):this.end.translate(e),this}clone(){return new Ko(this.end)}equals(e){return this.type===e.type&&this.end.equals(e.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}!function(o){o.create=function e(...n){const i=n.length,s=n[0];if(Mt.isLine(s))return new o(s);if(Pn.isCurve(s))return new o(s);if(ve.isPointLike(s)){if(1===i)return new o(s);const l=[];for(let c=0;c<i;c+=1)l.push(0===c?new o(n[c]):new Jn(n[c]));return l}if(2===i)return new o(+n[0],+n[1]);const a=[];for(let l=0;l<i;l+=2){const c=+n[l],u=+n[l+1];a.push(0===l?new o(c,u):new Jn(c,u))}return a}}(Ko||(Ko={}));class fi extends dc{constructor(e,n,i,s,a,l){super(),Pn.isCurve(e)?(this.controlPoint1=e.controlPoint1.clone().round(2),this.controlPoint2=e.controlPoint2.clone().round(2),this.endPoint=e.end.clone().round(2)):"number"==typeof e?(this.controlPoint1=new ve(e,n).round(2),this.controlPoint2=new ve(i,s).round(2),this.endPoint=new ve(a,l).round(2)):(this.controlPoint1=ve.create(e).round(2),this.controlPoint2=ve.create(n).round(2),this.endPoint=ve.create(i).round(2))}get type(){return"C"}get curve(){return new Pn(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(e){return this.curve.closestPoint(e)}closestPointLength(e){return this.curve.closestPointLength(e)}closestPointNormalizedLength(e){return this.curve.closestPointNormalizedLength(e)}closestPointTangent(e){return this.curve.closestPointTangent(e)}length(){return this.curve.length()}divideAt(e,n={}){const i=this.curve.divideAt(e,n);return[new fi(i[0]),new fi(i[1])]}divideAtLength(e,n={}){const i=this.curve.divideAtLength(e,n);return[new fi(i[0]),new fi(i[1])]}divideAtT(e){const n=this.curve.divideAtT(e);return[new fi(n[0]),new fi(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.curve.pointAt(e)}pointAtLength(e){return this.curve.pointAtLength(e)}tangentAt(e){return this.curve.tangentAt(e)}tangentAtLength(e){return this.curve.tangentAtLength(e)}isDifferentiable(){if(!this.previousSegment)return!1;const n=this.controlPoint1,i=this.controlPoint2,s=this.end;return!(this.start.equals(n)&&n.equals(i)&&i.equals(s))}scale(e,n,i){return this.controlPoint1.scale(e,n,i),this.controlPoint2.scale(e,n,i),this.end.scale(e,n,i),this}rotate(e,n){return this.controlPoint1.rotate(e,n),this.controlPoint2.rotate(e,n),this.end.rotate(e,n),this}translate(e,n){return"number"==typeof e?(this.controlPoint1.translate(e,n),this.controlPoint2.translate(e,n),this.end.translate(e,n)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}clone(){return new fi(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.controlPoint1,n=this.controlPoint2,i=this.end;return[this.type,e.x,e.y,n.x,n.y,i.x,i.y].join(" ")}}function uc(o,e,n){return{x:o*Math.cos(n)-e*Math.sin(n),y:o*Math.sin(n)+e*Math.cos(n)}}function fm(o,e,n,i,s,a){const l=.3333333333333333,c=2/3;return[l*o+c*n,l*e+c*i,l*s+c*n,l*a+c*i,s,a]}function gm(o,e,n,i,s,a,l,c,u,g){const _=120*Math.PI/180,z=Math.PI/180*(+s||0);let x,N,$,U,Q,y=[];if(g)N=g[0],$=g[1],U=g[2],Q=g[3];else{x=uc(o,e,-z),o=x.x,e=x.y,x=uc(c,u,-z);const cn=(o-(c=x.x))/2,it=(e-(u=x.y))/2;let _t=cn*cn/(n*n)+it*it/(i*i);_t>1&&(_t=Math.sqrt(_t),n*=_t,i*=_t);const Jt=n*n,On=i*i,Dn=(a===l?-1:1)*Math.sqrt(Math.abs((Jt*On-Jt*it*it-On*cn*cn)/(Jt*it*it+On*cn*cn)));U=Dn*n*it/i+(o+c)/2,Q=Dn*-i*cn/n+(e+u)/2,N=Math.asin((e-Q)/i),$=Math.asin((u-Q)/i),N=o<U?Math.PI-N:N,$=c<U?Math.PI-$:$,N<0&&(N=2*Math.PI+N),$<0&&($=2*Math.PI+$),l&&N>$&&(N-=2*Math.PI),!l&&$>N&&($-=2*Math.PI)}let le=$-N;if(Math.abs(le)>_){const cn=$,it=c,_t=u;$=N+_*(l&&$>N?1:-1),y=gm(c=U+n*Math.cos($),u=Q+i*Math.sin($),n,i,s,0,l,it,_t,[$,cn,U,Q])}le=$-N;const K=Math.cos(N),Oe=Math.sin(N),Ie=Math.cos($),Qe=Math.sin($),gt=Math.tan(le/4),yt=4/3*(n*gt),zt=4/3*(i*gt),Pt=[o,e],Tt=[o+yt*Oe,e-zt*K],Rt=[c+yt*Qe,u-zt*Ie],Tn=[c,u];if(Tt[0]=2*Pt[0]-Tt[0],Tt[1]=2*Pt[1]-Tt[1],g)return[Tt,Rt,Tn].concat(y);{y=[Tt,Rt,Tn].concat(y).join().split(",");const cn=[],it=y.length;for(let _t=0;_t<it;_t+=1)cn[_t]=_t%2?uc(+y[_t-1],+y[_t],z).y:uc(+y[_t],+y[_t+1],z).x;return cn}}function Kz(o){const e=function Yz(o){const e=function Wz(o){if(!o)return null;const e="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",n=new RegExp(`([a-z])[${e},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${e}]*,?[${e}]*)+)`,"ig"),i=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${e}]*,?[${e}]*`,"ig"),s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=[];return o.replace(n,(l,c,u)=>{const g=[];let _=c.toLowerCase();u.replace(i,(y,x)=>(x&&g.push(+x),y)),"m"===_&&g.length>2&&(a.push([c,...g.splice(0,2)]),_="l",c="m"===c?"l":"L");const z=s[_];for(;g.length>=z&&(a.push([c,...g.splice(0,z)]),z););return l}),a}(o);if(!e||!e.length)return[["M",0,0]];let n=0,i=0,s=0,a=0;const l=[];for(let c=0,u=e.length;c<u;c+=1){const g=[];l.push(g);const _=e[c],z=_[0];if(z!==z.toUpperCase())switch(g[0]=z.toUpperCase(),g[0]){case"A":g[1]=_[1],g[2]=_[2],g[3]=_[3],g[4]=_[4],g[5]=_[5],g[6]=+_[6]+n,g[7]=+_[7]+i;break;case"V":g[1]=+_[1]+i;break;case"H":g[1]=+_[1]+n;break;case"M":s=+_[1]+n,a=+_[2]+i;for(let y=1,x=_.length;y<x;y+=1)g[y]=+_[y]+(y%2?n:i);break;default:for(let y=1,x=_.length;y<x;y+=1)g[y]=+_[y]+(y%2?n:i)}else for(let y=0,x=_.length;y<x;y+=1)g[y]=_[y];switch(g[0]){case"Z":n=+s,i=+a;break;case"H":n=g[1];break;case"V":i=g[1];break;case"M":s=g[g.length-2],a=g[g.length-1],n=g[g.length-2],i=g[g.length-1];break;default:n=g[g.length-2],i=g[g.length-1]}}return l}(o),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function i(u,g,_){let z,y;if(!u)return["C",g.x,g.y,g.x,g.y,g.x,g.y];switch(u[0]in{T:1,Q:1}||(g.qx=null,g.qy=null),u[0]){case"M":g.X=u[1],g.Y=u[2];break;case"A":return 0===parseFloat(u[1])||0===parseFloat(u[2])?["L",u[6],u[7]]:["C"].concat(gm.apply(0,[g.x,g.y].concat(u.slice(1))));case"S":return"C"===_||"S"===_?(z=2*g.x-g.bx,y=2*g.y-g.by):(z=g.x,y=g.y),["C",z,y].concat(u.slice(1));case"T":return"Q"===_||"T"===_?(g.qx=2*g.x-g.qx,g.qy=2*g.y-g.qy):(g.qx=g.x,g.qy=g.y),["C"].concat(fm(g.x,g.y,g.qx,g.qy,u[1],u[2]));case"Q":return g.qx=u[1],g.qy=u[2],["C"].concat(fm(g.x,g.y,u[1],u[2],u[3],u[4]));case"H":return["L"].concat(u[1],g.y);case"V":return["L"].concat(g.x,u[1])}return u}function s(u,g){if(u[g].length>7){u[g].shift();const _=u[g];for(;_.length;)a[g]="A",u.splice(g+=1,0,["C"].concat(_.splice(0,6)));u.splice(g,1),c=e.length}}const a=[];let l="",c=e.length;for(let u=0;u<c;u+=1){let g="";e[u]&&(g=e[u][0]),"C"!==g&&(a[u]=g,u>0&&(l=a[u-1])),e[u]=i(e[u],n,l),"A"!==a[u]&&"C"===g&&(a[u]="C"),s(e,u);const _=e[u],z=_.length;n.x=_[z-2],n.y=_[z-1],n.bx=parseFloat(_[z-4])||n.x,n.by=parseFloat(_[z-3])||n.y}return(!e[0][0]||"M"!==e[0][0])&&e.unshift(["M",0,0]),e}function Qz(o){return Kz(o).map(e=>e.map(n=>"string"==typeof n?n:vn.round(n,2))).join(",").split(",").join(" ")}!function(o){o.create=function e(...n){const i=n.length,s=n[0];if(Pn.isCurve(s))return new o(s);if(ve.isPointLike(s)){if(3===i)return new o(n[0],n[1],n[2]);const l=[];for(let c=0;c<i;c+=3)l.push(new o(n[c],n[c+1],n[c+2]));return l}if(6===i)return new o(n[0],n[1],n[2],n[3],n[4],n[5]);const a=[];for(let l=0;l<i;l+=6)a.push(new o(n[l],n[l+1],n[l+2],n[l+3],n[l+4],n[l+5]));return a}}(fi||(fi={}));class $t extends ms{constructor(e){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(e))if(Mt.isLine(e[0])||Pn.isCurve(e[0])){let n=null;e.forEach((s,a)=>{0===a&&this.appendSegment($t.createSegment("M",s.start)),null!=n&&!n.end.equals(s.start)&&this.appendSegment($t.createSegment("M",s.start)),Mt.isLine(s)?this.appendSegment($t.createSegment("L",s.end)):Pn.isCurve(s)&&this.appendSegment($t.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),n=s})}else e.forEach(i=>{i.isSegment&&this.appendSegment(i)});else null!=e&&(Mt.isLine(e)?(this.appendSegment($t.createSegment("M",e.start)),this.appendSegment($t.createSegment("L",e.end))):Pn.isCurve(e)?(this.appendSegment($t.createSegment("M",e.start)),this.appendSegment($t.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):Nn.isPolyline(e)?e.points&&e.points.length&&e.points.forEach((n,i)=>{const s=$t.createSegment(0===i?"M":"L",n);this.appendSegment(s)}):e.isSegment&&this.appendSegment(e))}get start(){const e=this.segments,n=e.length;if(0===n)return null;for(let i=0;i<n;i+=1){const s=e[i];if(s.isVisible)return s.start}return e[n-1].end}get end(){const e=this.segments,n=e.length;if(0===n)return null;for(let i=n-1;i>=0;i-=1){const s=e[i];if(s.isVisible)return s.end}return e[n-1].end}moveTo(...e){return this.appendSegment(Ko.create.call(null,...e))}lineTo(...e){return this.appendSegment(Jn.create.call(null,...e))}curveTo(...e){return this.appendSegment(fi.create.call(null,...e))}arcTo(e,n,i,s,a,l,c){const u=this.end||new ve,g="number"==typeof l?hc(u.x,u.y,e,n,i,s,a,l,c):hc(u.x,u.y,e,n,i,s,a,l.x,l.y);if(null!=g)for(let _=0,z=g.length;_<z;_+=6)this.curveTo(g[_],g[_+1],g[_+2],g[_+3],g[_+4],g[_+5]);return this}quadTo(e,n,i,s){const a=this.end||new ve,l=["M",a.x,a.y];"number"==typeof e?l.push("Q",e,n,i,s):l.push("Q",e.x,e.y,n.x,n.y);const c=$t.parse(l.join(" "));return this.appendSegment(c.segments.slice(1)),this}close(){return this.appendSegment(Yo.create())}drawPoints(e,n={}){const i=pm(e,n),s=$t.parse(i);s&&s.segments&&this.appendSegment(s.segments)}bbox(){const e=this.segments,n=e.length;if(0===n)return null;let i;for(let a=0;a<n;a+=1){const l=e[a];if(l.isVisible){const c=l.bbox();null!=c&&(i=i?i.union(c):c)}}if(null!=i)return i;const s=e[n-1];return new St(s.end.x,s.end.y,0,0)}appendSegment(e){const n=this.segments.length;let s,i=0!==n?this.segments[n-1]:null;if(Array.isArray(e))for(let l=0,c=e.length;l<c;l+=1)s=this.prepareSegment(e[l],i,null),this.segments.push(s),i=s;else null!=e&&e.isSegment&&(s=this.prepareSegment(e,i,null),this.segments.push(s));return this}insertSegment(e,n){const i=this.segments.length;if(e<0&&(e=i+e+1),e>i||e<0)throw new Error("Index out of range.");let s,a=null,l=null;if(0!==i&&(e>=1?(a=this.segments[e-1],l=a.nextSegment):(a=null,l=this.segments[0])),Array.isArray(n))for(let c=0,u=n.length;c<u;c+=1)s=this.prepareSegment(n[c],a,l),this.segments.splice(e+c,0,s),a=s;else s=this.prepareSegment(n,a,l),this.segments.splice(e,0,s);return this}removeSegment(e){const n=this.fixIndex(e),i=this.segments.splice(n,1)[0],s=i.previousSegment,a=i.nextSegment;return s&&(s.nextSegment=a),a&&(a.previousSegment=s),i.isSubpathStart&&a&&this.updateSubpathStartSegment(a),i}replaceSegment(e,n){const i=this.fixIndex(e);let s;const a=this.segments[i];let l=a.previousSegment;const c=a.nextSegment;let u=a.isSubpathStart;if(Array.isArray(n)){this.segments.splice(e,1);for(let g=0,_=n.length;g<_;g+=1)s=this.prepareSegment(n[g],l,c),this.segments.splice(e+g,0,s),l=s,u&&s.isSubpathStart&&(u=!1)}else s=this.prepareSegment(n,l,c),this.segments.splice(i,1,s),u&&s.isSubpathStart&&(u=!1);u&&c&&this.updateSubpathStartSegment(c)}getSegment(e){const n=this.fixIndex(e);return this.segments[n]}fixIndex(e){const n=this.segments.length;if(0===n)throw new Error("Path has no segments.");let i=e;for(;i<0;)i=n+i;if(i>=n||i<0)throw new Error("Index out of range.");return i}segmentAt(e,n={}){const i=this.segmentIndexAt(e,n);return i?this.getSegment(i):null}segmentAtLength(e,n={}){const i=this.segmentIndexAtLength(e,n);return i?this.getSegment(i):null}segmentIndexAt(e,n={}){if(0===this.segments.length)return null;const i=vn.clamp(e,0,1),s=this.getOptions(n),l=this.length(s)*i;return this.segmentIndexAtLength(l,s)}segmentIndexAtLength(e,n={}){const i=this.segments.length;if(0===i)return null;let s=!0;e<0&&(s=!1,e=-e);const a=this.getPrecision(n),l=this.getSubdivisions(n);let c=0,u=null;for(let g=0;g<i;g+=1){const _=s?g:i-1-g,z=this.segments[_],x=z.length({precision:a,subdivisions:l[_]});if(z.isVisible){if(e<=c+x)return _;u=_}c+=x}return u}getSegmentSubdivisions(e={}){const n=this.getPrecision(e),i=[];for(let s=0,a=this.segments.length;s<a;s+=1){const c=this.segments[s].getSubdivisions({precision:n});i.push(c)}return i}updateSubpathStartSegment(e){let n=e.previousSegment,i=e;for(;i&&!i.isSubpathStart;)i.subpathStartSegment=null!=n?n.subpathStartSegment:null,n=i,i=i.nextSegment}prepareSegment(e,n,i){e.previousSegment=n,e.nextSegment=i,null!=n&&(n.nextSegment=e),null!=i&&(i.previousSegment=e);let s=e;return e.isSubpathStart&&(e.subpathStartSegment=e,s=i),null!=s&&this.updateSubpathStartSegment(s),e}closestPoint(e,n={}){const i=this.closestPointT(e,n);return i?this.pointAtT(i):null}closestPointLength(e,n={}){const i=this.getOptions(n),s=this.closestPointT(e,i);return s?this.lengthAtT(s,i):0}closestPointNormalizedLength(e,n={}){const i=this.getOptions(n),s=this.closestPointLength(e,i);if(0===s)return 0;const a=this.length(i);return 0===a?0:s/a}closestPointT(e,n={}){if(0===this.segments.length)return null;const i=this.getPrecision(n),s=this.getSubdivisions(n);let a,l=1/0;for(let c=0,u=this.segments.length;c<u;c+=1){const g=this.segments[c];if(g.isVisible){const z=g.closestPointT(e,{precision:i,subdivisions:s[c]}),y=g.pointAtT(z),x=vn.squaredLength(y,e);x<l&&(a={segmentIndex:c,value:z},l=x)}}return a||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(e,n={}){if(0===this.segments.length)return null;const i=this.getPrecision(n),s=this.getSubdivisions(n);let a,l=1/0;for(let c=0,u=this.segments.length;c<u;c+=1){const g=this.segments[c],_=s[c];if(g.isDifferentiable()){const z=g.closestPointT(e,{precision:i,subdivisions:_}),y=g.pointAtT(z),x=vn.squaredLength(y,e);x<l&&(a=g.tangentAtT(z),l=x)}}return a||null}containsPoint(e,n={}){const i=this.toPolylines(n);if(!i)return!1;let s=0;for(let a=0,l=i.length;a<l;a+=1)i[a].containsPoint(e)&&(s+=1);return s%2==1}pointAt(e,n={}){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const i=this.getOptions(n),a=this.length(i)*e;return this.pointAtLength(a,i)}pointAtLength(e,n={}){if(0===this.segments.length)return null;if(0===e)return this.start.clone();let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(n),a=this.getSubdivisions(n);let l,c=0;for(let g=0,_=this.segments.length;g<_;g+=1){const z=i?g:_-1-g,y=this.segments[z],x=a[z],N=y.length({precision:s,subdivisions:x});if(y.isVisible){if(e<=c+N)return y.pointAtLength((i?1:-1)*(e-c),{precision:s,subdivisions:x});l=y}c+=N}return l?i?l.end:l.start:this.segments[this.segments.length-1].end.clone()}pointAtT(e){const n=this.segments,i=n.length;if(0===i)return null;const s=e.segmentIndex;if(s<0)return n[0].pointAtT(0);if(s>=i)return n[i-1].pointAtT(1);const a=vn.clamp(e.value,0,1);return n[s].pointAtT(a)}divideAt(e,n={}){if(0===this.segments.length)return null;const i=vn.clamp(e,0,1),s=this.getOptions(n),l=this.length(s)*i;return this.divideAtLength(l,s)}divideAtLength(e,n={}){if(0===this.segments.length)return null;let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(n),a=this.getSubdivisions(n);let c,u,g,_,z,l=0;for(let Ie=0,Qe=this.segments.length;Ie<Qe;Ie+=1){const gt=i?Ie:Qe-1-Ie,yt=this.getSegment(gt),Pt={precision:s,subdivisions:a[gt]},Tt=yt.length(Pt);if(yt.isDifferentiable()&&(g=yt,_=gt,e<=l+Tt)){u=gt,c=yt.divideAtLength((i?1:-1)*(e-l),Pt);break}l+=Tt}if(!g)return null;c||(u=_,z=i?1:0,c=g.divideAtT(z));const y=this.clone(),x=u;y.replaceSegment(x,c);const N=x;let $=x+1,U=x+2;c[0].isDifferentiable()||(y.removeSegment(N),$-=1,U-=1);const Q=y.getSegment($).start;y.insertSegment($,$t.createSegment("M",Q)),U+=1,c[1].isDifferentiable()||(y.removeSegment(U-1),U-=1);const le=U-N-1;for(let Ie=U,Qe=y.segments.length;Ie<Qe;Ie+=1){const gt=this.getSegment(Ie-le),yt=y.getSegment(Ie);if("Z"===yt.type&&!gt.subpathStartSegment.end.equals(yt.subpathStartSegment.end)){const zt=$t.createSegment("L",gt.end);y.replaceSegment(Ie,zt)}}return[new $t(y.segments.slice(0,$)),new $t(y.segments.slice($))]}intersectsWithLine(e,n={}){const i=this.toPolylines(n);if(null==i)return null;let s=null;for(let a=0,l=i.length;a<l;a+=1){const u=e.intersect(i[a]);u&&(null==s&&(s=[]),Array.isArray(u)?s.push(...u):s.push(u))}return s}isDifferentiable(){for(let e=0,n=this.segments.length;e<n;e+=1)if(this.segments[e].isDifferentiable())return!0;return!1}isValid(){const e=this.segments;return 0===e.length||"M"===e[0].type}length(e={}){if(0===this.segments.length)return 0;const n=this.getSubdivisions(e);let i=0;for(let s=0,a=this.segments.length;s<a;s+=1)i+=this.segments[s].length({subdivisions:n[s]});return i}lengthAtT(e,n={}){const i=this.segments.length;if(0===i)return 0;let s=e.segmentIndex;if(s<0)return 0;let a=vn.clamp(e.value,0,1);s>=i&&(s=i-1,a=1);const l=this.getPrecision(n),c=this.getSubdivisions(n);let u=0;for(let z=0;z<s;z+=1)u+=this.segments[z].length({precision:l,subdivisions:c[z]});return u+=this.segments[s].lengthAtT(a,{precision:l,subdivisions:c[s]}),u}tangentAt(e,n={}){if(0===this.segments.length)return null;const i=vn.clamp(e,0,1),s=this.getOptions(n),l=this.length(s)*i;return this.tangentAtLength(l,s)}tangentAtLength(e,n={}){if(0===this.segments.length)return null;let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(n),a=this.getSubdivisions(n);let l,c=0;for(let u=0,g=this.segments.length;u<g;u+=1){const _=i?u:g-1-u,z=this.segments[_],y=a[_],x=z.length({precision:s,subdivisions:y});if(z.isDifferentiable()){if(e<=c+x)return z.tangentAtLength((i?1:-1)*(e-c),{precision:s,subdivisions:y});l=z}c+=x}return l?l.tangentAtT(i?1:0):null}tangentAtT(e){const n=this.segments.length;if(0===n)return null;const i=e.segmentIndex;if(i<0)return this.segments[0].tangentAtT(0);if(i>=n)return this.segments[n-1].tangentAtT(1);const s=vn.clamp(e.value,0,1);return this.segments[i].tangentAtT(s)}getPrecision(e={}){return null==e.precision?this.PRECISION:e.precision}getSubdivisions(e={}){if(null==e.segmentSubdivisions){const n=this.getPrecision(e);return this.getSegmentSubdivisions({precision:n})}return e.segmentSubdivisions}getOptions(e={}){return{precision:this.getPrecision(e),segmentSubdivisions:this.getSubdivisions(e)}}toPoints(e={}){const n=this.segments,i=n.length;if(0===i)return null;const s=this.getSubdivisions(e),a=[];let l=[];for(let c=0;c<i;c+=1){const u=n[c];if(u.isVisible){const g=s[c];g.length>0?g.forEach(_=>l.push(_.start)):l.push(u.start)}else l.length>0&&(l.push(n[c-1].end),a.push(l),l=[])}return l.length>0&&(l.push(this.end),a.push(l)),a}toPolylines(e={}){const n=this.toPoints(e);return n?n.map(i=>new Nn(i)):null}scale(e,n,i){return this.segments.forEach(s=>s.scale(e,n,i)),this}rotate(e,n){return this.segments.forEach(i=>i.rotate(e,n)),this}translate(e,n){return this.segments.forEach("number"==typeof e?i=>i.translate(e,n):i=>i.translate(e)),this}clone(){const e=new $t;return this.segments.forEach(n=>e.appendSegment(n.clone())),e}equals(e){if(null==e)return!1;const n=this.segments,i=e.segments,s=n.length;if(i.length!==s)return!1;for(let a=0;a<s;a+=1){const l=n[a],c=i[a];if(l.type!==c.type||!l.equals(c))return!1}return!0}toJSON(){return this.segments.map(e=>e.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(e=>e.serialize()).join(" ")}toString(){return this.serialize()}}(function(o){o.isPath=function e(n){return null!=n&&n instanceof o}})($t||($t={})),function(o){function n(i,...s){if("M"===i)return Ko.create.call(null,...s);if("L"===i)return Jn.create.call(null,...s);if("C"===i)return fi.create.call(null,...s);if("z"===i||"Z"===i)return Yo.create();throw new Error(`Invalid path segment type "${i}"`)}o.parse=function e(i){if(!i)return new o;const s=new o,l=o.normalize(i).match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g);if(null!=l)for(let c=0,u=l.length;c<u;c+=1){const z=l[c].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g);if(null!=z){const y=z[0],x=z.slice(1).map($=>+$),N=n.call(null,y,...x);s.appendSegment(N)}}return s},o.createSegment=n}($t||($t={})),function(o){o.normalize=Qz,o.isValid=Hz,o.drawArc=Xz,o.drawPoints=pm,o.arcToCurves=hc}($t||($t={}));class In{constructor(e){this.options=Object.assign({},e),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(e,n,i=!1){if("object"==typeof e)return void Object.entries(e).forEach(([l,c])=>{this.register(l,c,n)});this.exist(e)&&!i&&!fs.isApplyingHMR()&&this.onDuplicated(e);const s=this.options.process,a=s?Ot(s,this,e,n):n;return this.data[e]=a,a}unregister(e){const n=e?this.data[e]:null;return delete this.data[e],n}get(e){return e?this.data[e]:null}exist(e){return!!e&&null!=this.data[e]}onDuplicated(e){try{throw this.options.onConflict&&Ot(this.options.onConflict,this,e),new Error(`${fa(this.options.type)} with name '${e}' already registered.`)}catch(n){throw n}}onNotFound(e,n){throw new Error(this.getSpellingSuggestion(e,n))}getSpellingSuggestion(e,n){const i=this.getSpellingSuggestionForName(e),s=n?`${n} ${oz(this.options.type)}`:this.options.type;return`${fa(s)} with name '${e}' does not exist.${i?` Did you mean '${i}'?`:""}`}getSpellingSuggestionForName(e){return function rz(o,e,n){const i=Math.min(2,Math.floor(.34*o.length));let a,s=Math.floor(.4*o.length)+1,l=!1;const c=o.toLowerCase();for(const u of e){const g=n(u);if(void 0!==g&&Math.abs(g.length-c.length)<=i){const _=g.toLowerCase();if(_===c){if(g===o)continue;return u}if(l||g.length<3)continue;const z=az(c,_,s-1);if(void 0===z)continue;z<3?(l=!0,a=u):(s=z,a=u)}}return a}(e,Object.keys(this.data),n=>n)}}!function(o){o.create=function e(n){return new o(n)}}(In||(In={}));const Zz={color:"#aaaaaa",thickness:1,markup:"rect",update(o,e){const n=e.thickness*e.sx,i=e.thickness*e.sy;mn(o,{width:n,height:i,rx:n,ry:i,fill:e.color})}},Jz={color:"#aaaaaa",thickness:1,markup:"rect",update(o,e){const n=e.sx<=1?e.thickness*e.sx:e.thickness;mn(o,{width:n,height:n,rx:n,ry:n,fill:e.color})}},qz={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(o,e){let n;const i=e.width,s=e.height,a=e.thickness;n=i-a>=0&&s-a>=0?["M",i,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",mn(o,{d:n,stroke:e.color,"stroke-width":e.thickness})}},eb=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(o,e){let n;const i=e.width,s=e.height,a=e.thickness;n=i-a>=0&&s-a>=0?["M",i,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",mn(o,{d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(o,e){let n;const i=e.factor||1,s=e.width*i,a=e.height*i,l=e.thickness;n=s-l>=0&&a-l>=0?["M",s,0,"H0 M0 0 V0",a].join(" "):"M 0 0 0 0",e.width=s,e.height=a,mn(o,{d:n,stroke:e.color,"stroke-width":e.thickness})}}];class _s{constructor(){this.patterns={},this.root=Qt.create(ma(),{width:"100%",height:"100%"},[pi("defs")]).node}add(e,n){const i=this.root.childNodes[0];i&&i.appendChild(n),this.patterns[e]=n,Qt.create("rect",{width:"100%",height:"100%",fill:`url(#${e})`}).appendTo(this.root)}get(e){return this.patterns[e]}has(e){return null!=this.patterns[e]}}!function(o){o.presets=Se,o.registry=In.create({type:"grid"}),o.registry.register(o.presets,!0)}(_s||(_s={}));const mm=function(o){const e=document.createElement("canvas"),n=o.width,i=o.height;e.width=2*n,e.height=i;const s=e.getContext("2d");return s.drawImage(o,0,0,n,i),s.translate(2*n,0),s.scale(-1,1),s.drawImage(o,0,0,n,i),e},_m=function(o){const e=document.createElement("canvas"),n=o.width,i=o.height;e.width=n,e.height=2*i;const s=e.getContext("2d");return s.drawImage(o,0,0,n,i),s.translate(0,2*i),s.scale(1,-1),s.drawImage(o,0,0,n,i),e},vm=function(o){const e=document.createElement("canvas"),n=o.width,i=o.height;e.width=2*n,e.height=2*i;const s=e.getContext("2d");return s.drawImage(o,0,0,n,i),s.setTransform(-1,0,0,-1,e.width,e.height),s.drawImage(o,0,0,n,i),s.setTransform(-1,0,0,1,e.width,0),s.drawImage(o,0,0,n,i),s.setTransform(1,0,0,-1,0,e.height),s.drawImage(o,0,0,n,i),e},tb=function(o,e){const n=o.width,i=o.height,s=document.createElement("canvas");s.width=3*n,s.height=3*i;const a=s.getContext("2d"),c=_n.toRad(null!=e.angle?-e.angle:-20),u=s.width/4,g=s.height/4;for(let _=0;_<4;_+=1)for(let z=0;z<4;z+=1)(_+z)%2>0&&(a.setTransform(1,0,0,1,(2*_-1)*u,(2*z-1)*g),a.rotate(c),a.drawImage(o,-n/2,-i/2,n,i));return s};var Oa,Qo;function Ap(o,e){return o??e}function Un(o,e){return null!=o&&Number.isFinite(o)?o:e}function nb(o={}){const e=Ap(o.color,"blue"),n=Un(o.width,1),i=Un(o.margin,2);return`\n    <filter>\n      <feFlood flood-color="${e}" flood-opacity="${Un(o.opacity,1)}" result="colored"/>\n      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${i+n}" />\n      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${i}" />\n      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>\n      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>\n      <feMerge>\n        <feMergeNode in="outline"/>\n        <feMergeNode in="SourceGraphic"/>\n      </feMerge>\n    </filter>\n  `.trim()}function ib(o={}){const e=Ap(o.color,"red"),n=Un(o.blur,0),i=Un(o.width,1);return`\n      <filter>\n        <feFlood flood-color="${e}" flood-opacity="${Un(o.opacity,1)}" result="colored"/>\n        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${i}"/>\n        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>\n        <feGaussianBlur result="blured" in="composed" stdDeviation="${n}"/>\n        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>\n      </filter>\n    `.trim()}function sb(o={}){const e=Un(o.x,2);return`\n    <filter>\n      <feGaussianBlur stdDeviation="${null!=o.y&&Number.isFinite(o.y)?[e,o.y]:e}"/>\n    </filter>\n  `.trim()}function ob(o={}){const e=Un(o.dx,0),n=Un(o.dy,0),i=Ap(o.color,"black"),s=Un(o.blur,4),a=Un(o.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>\n         <feDropShadow stdDeviation="${s}" dx="${e}" dy="${n}" flood-color="${i}" flood-opacity="${a}" />\n       </filter>`.trim():`<filter>\n         <feGaussianBlur in="SourceAlpha" stdDeviation="${s}" />\n         <feOffset dx="${e}" dy="${n}" result="offsetblur" />\n         <feFlood flood-color="${i}" />\n         <feComposite in2="offsetblur" operator="in" />\n         <feComponentTransfer>\n           <feFuncA type="linear" slope="${a}" />\n         </feComponentTransfer>\n         <feMerge>\n           <feMergeNode/>\n           <feMergeNode in="SourceGraphic"/>\n         </feMerge>\n       </filter>`.trim()}function rb(o={}){const e=Un(o.amount,1),i=.7152-.7152*(1-e);return`\n    <filter>\n      <feColorMatrix type="matrix" values="${.2126+.7874*(1-e)} ${i} ${.0722-.0722*(1-e)} 0 0 ${.2126-.2126*(1-e)} ${.7152+.2848*(1-e)} ${.0722-.0722*(1-e)} 0 0 ${.2126-.2126*(1-e)} ${i} ${.0722+.9278*(1-e)} 0 0 0 0 0 1 0"/>\n    </filter>\n  `.trim()}function ab(o={}){const e=Un(o.amount,1);return`\n      <filter>\n        <feColorMatrix type="matrix" values="${.393+.607*(1-e)} ${.769-.769*(1-e)} ${.189-.189*(1-e)} 0 0 ${.349-.349*(1-e)} ${.686+.314*(1-e)} ${.168-.168*(1-e)} 0 0 ${.272-.272*(1-e)} ${.534-.534*(1-e)} ${.131+.869*(1-e)} 0 0 0 0 0 1 0"/>\n      </filter>\n    `.trim()}function lb(o={}){return`\n      <filter>\n        <feColorMatrix type="saturate" values="${1-Un(o.amount,1)}"/>\n      </filter>\n    `.trim()}function cb(o={}){return`\n      <filter>\n        <feColorMatrix type="hueRotate" values="${Un(o.angle,0)}"/>\n      </filter>\n    `.trim()}function hb(o={}){const e=Un(o.amount,1),n=1-e;return`\n      <filter>\n        <feComponentTransfer>\n          <feFuncR type="table" tableValues="${e} ${n}"/>\n          <feFuncG type="table" tableValues="${e} ${n}"/>\n          <feFuncB type="table" tableValues="${e} ${n}"/>\n        </feComponentTransfer>\n      </filter>\n    `.trim()}function db(o={}){const e=Un(o.amount,1);return`\n    <filter>\n      <feComponentTransfer>\n        <feFuncR type="linear" slope="${e}"/>\n        <feFuncG type="linear" slope="${e}"/>\n        <feFuncB type="linear" slope="${e}"/>\n      </feComponentTransfer>\n    </filter>\n  `.trim()}function ub(o={}){const e=Un(o.amount,1),n=.5-e/2;return`\n    <filter>\n     <feComponentTransfer>\n        <feFuncR type="linear" slope="${e}" intercept="${n}"/>\n        <feFuncG type="linear" slope="${e}" intercept="${n}"/>\n        <feFuncB type="linear" slope="${e}" intercept="${n}"/>\n      </feComponentTransfer>\n    </filter>\n  `.trim()}!function(o){o.presets=Object.assign({},ze),o.presets["flip-x"]=mm,o.presets["flip-y"]=_m,o.presets["flip-xy"]=vm,o.registry=In.create({type:"background pattern"}),o.registry.register(o.presets,!0)}(Oa||(Oa={})),function(o){o.presets=fe,o.registry=In.create({type:"filter"}),o.registry.register(o.presets,!0)}(Qo||(Qo={}));const pb={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},fb={},Cm={position:pc("x","width","origin")},ym={position:pc("y","height","origin")},gb={position:pc("x","width","corner")},mb={position:pc("y","height","corner")},zm={set:vs("width","width")},bm={set:vs("height","height")},_b={set:vs("rx","width")},vb={set:vs("ry","height")},Sm={set:(o=>{const e=vs("r","width"),n=vs("r","height");return function(i,s){const a=s.refBBox;return Ot(a.height>a.width?e:n,this,i,s)}})()},Cb={set(o,{refBBox:e}){let n=parseFloat(o);const i=Pi(o);i&&(n/=100);const s=Math.sqrt(e.height*e.height+e.width*e.width);let a;return Number.isFinite(n)&&(a=i||n>=0&&n<=1?n*s:Math.max(n+s,0)),{r:a}}},yb={set:vs("cx","width")},zb={set:vs("cy","height")},Tm={set:Dm({resetOffset:!0})},bb={set:Dm({resetOffset:!1})},xm={set:wm({resetOffset:!0})},Sb={set:wm({resetOffset:!1})},Tb=Sm,xb=Tm,Ob=xm,Db=Cm,wb=ym,Mb=zm,Eb=bm;function pc(o,e,n){return(i,{refBBox:s})=>{if(null==i)return null;let a=parseFloat(i);const l=Pi(i);let c;if(l&&(a/=100),Number.isFinite(a)){const g=s[n];c=l||a>0&&a<1?g[o]+s[e]*a:g[o]+a}const u=new ve;return u[o]=c||0,u}}function vs(o,e){return function(n,{refBBox:i}){let s=parseFloat(n);const a=Pi(n);a&&(s/=100);const l={};if(Number.isFinite(s)){const c=a||s>=0&&s<=1?s*i[e]:Math.max(s+i[e],0);l[o]=c}return l}}function Om(o,e){const n="x6-shape",i=e&&e.resetOffset;return function(s,{elem:a,refBBox:l}){let c=gs(a,n);if(!c||c.value!==s){const $=o(s);c={value:s,shape:$,shapeBBox:$.bbox()},gs(a,n,c)}const u=c.shape.clone(),g=c.shapeBBox.clone(),_=g.getOrigin(),z=l.getOrigin();g.x=z.x,g.y=z.y;const y=l.getMaxScaleToFit(g,z);return u.scale(0===g.width||0===l.width?1:y.sx,0===g.height||0===l.height?1:y.sy,_),i&&u.translate(-_.x,-_.y),u}}function Dm(o){const n=Om(function e(i){return $t.parse(i)},o);return(i,s)=>({d:n(i,s).serialize()})}function wm(o){const e=Om(n=>new Nn(n),o);return(n,i)=>({points:e(n,i).serialize()})}const Pb={qualify:ni,set:(o,{view:e})=>`url(#${e.graph.defineGradient(o)})`},kb={qualify:ni,set(o,{view:e}){const n=e.cell,i=Object.assign({},o);if(n.isEdge()&&"linearGradient"===i.type){const a=e.sourcePoint,l=e.targetPoint;i.id=`gradient-${i.type}-${n.id}`,i.attrs=Object.assign(Object.assign({},i.attrs),{x1:a.x,y1:a.y,x2:l.x,y2:l.y,gradientUnits:"userSpaceOnUse"}),e.graph.defs.remove(i.id)}return`url(#${e.graph.defineGradient(i)})`}},Mm={qualify:(o,{attrs:e})=>null==e.textWrap||!ni(e.textWrap),set(o,{view:e,elem:n,attrs:i}){const s="x6-text",a=gs(n,s),l=_=>{try{return JSON.parse(_)}catch{return _}},c={x:i.x,eol:i.eol,annotations:l(i.annotations),textPath:l(i["text-path"]||i.textPath),textVerticalAnchor:i["text-vertical-anchor"]||i.textVerticalAnchor,displayEmpty:"true"===(i["display-empty"]||i.displayEmpty),lineHeight:i["line-height"]||i.lineHeight},u=i["font-size"]||i.fontSize,g=JSON.stringify([o,c]);if(u&&n.setAttribute("font-size",u),null==a||a!==g){const _=c.textPath;if(null!=_&&"object"==typeof _){const z=_.selector;if("string"==typeof z){const y=e.find(z)[0];y instanceof SVGPathElement&&(Zl(y),c.textPath=Object.assign({"xlink:href":`#${y.id}`},_))}}Sp(n,`${o}`,c),gs(n,s,g)}}},Nb={qualify:ni,set(o,{view:e,elem:n,attrs:i,refBBox:s}){const a=o,l=a.width||0;Pi(l)?s.width*=parseFloat(l)/100:l<=0?s.width+=l:s.width=l;const c=a.height||0;Pi(c)?s.height*=parseFloat(c)/100:c<=0?s.height+=c:s.height=c;let u,g=a.text;null==g&&(g=i.text||n?.textContent),u=null!=g?xp(`${g}`,s,{"font-weight":i["font-weight"]||i.fontWeight,"font-size":i["font-size"]||i.fontSize,"font-family":i["font-family"]||i.fontFamily,lineHeight:i.lineHeight},{ellipsis:a.ellipsis}):"",Ot(Mm.set,this,u,{view:e,elem:n,attrs:i,refBBox:s,cell:e.cell})}},Zo=(o,{attrs:e})=>void 0!==e.text,Ib={qualify:Zo},Ab={qualify:Zo},Rb={qualify:Zo},Fb={qualify:Zo},Bb={qualify:Zo},Lb={qualify:Zo},Vb={qualify:(o,{elem:e})=>e instanceof SVGElement,set(o,{elem:e}){const n="x6-title",i=`${o}`,s=gs(e,n);if(null==s||s!==i){gs(e,n,i);const a=e.firstChild;if(a&&"TITLE"===a.tagName.toUpperCase())a.textContent=i;else{const l=document.createElementNS(e.namespaceURI,"title");l.textContent=i,e.insertBefore(l,a)}}}},$b={offset:Em("x","width","right")},jb={offset:Em("y","height","bottom")},Gb={offset:(o,{refBBox:e})=>o?{x:-e.x,y:-e.y}:{x:0,y:0}};function Em(o,e,n){return(i,{refBBox:s})=>{const a=new ve;let l;return l="middle"===i?s[e]/2:i===n?s[e]:"number"==typeof i&&Number.isFinite(i)?i>-1&&i<1?-s[e]*i:-i:Pi(i)?s[e]*parseFloat(i)/100:0,a[o]=-(s[o]+l),a}}const Hb={qualify:ni,set(o,{elem:e}){Vo(e,o)}},Ub={set(o,{elem:e}){e.innerHTML=`${o}`}},Xb={qualify:ni,set:(o,{view:e})=>`url(#${e.graph.defineFilter(o)})`},Wb={set:o=>null!=o&&"object"==typeof o&&o.id?o.id:o};function Cs(o,e,n){let i,s;"object"==typeof e?(i=e.x,s=e.y):(i=e,s=n);const a=$t.parse(o),l=a.bbox();if(l){let c=-l.height/2-l.y,u=-l.width/2-l.x;"number"==typeof i&&(u-=i),"number"==typeof s&&(c-=s),a.translate(u,c)}return a.serialize()}var Pm=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};const Yb=o=>{var{size:e,width:n,height:i,offset:s,open:a}=o;return km({size:e,width:n,height:i,offset:s},!0===a,!0,void 0,Pm(o,["size","width","height","offset","open"]))},Kb=o=>{var{size:e,width:n,height:i,offset:s,factor:a}=o;return km({size:e,width:n,height:i,offset:s},!1,!1,a,Pm(o,["size","width","height","offset","factor"]))};function km(o,e,n,i=3/4,s={}){const a=o.size||10,l=o.width||a,c=o.height||a,u=new $t,g={};if(e)u.moveTo(l,0).lineTo(0,c/2).lineTo(l,c),g.fill="none";else{if(u.moveTo(0,c/2),u.lineTo(l,0),!n){const _=ri(i,0,1);u.lineTo(l*_,c/2)}u.lineTo(l,c),u.close()}return Object.assign(Object.assign(Object.assign({},g),s),{tagName:"path",d:Cs(u.serialize(),{x:null!=o.offset?o.offset:-l/2})})}const Zb=o=>{var{size:e,width:n,height:i,offset:s}=o,a=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["size","width","height","offset"]);const l=e||10,c=n||l,u=i||l,g=new $t;return g.moveTo(0,u/2).lineTo(c/2,0).lineTo(c,u/2).lineTo(c/2,u).close(),Object.assign(Object.assign({},a),{tagName:"path",d:Cs(g.serialize(),s??-c/2)})},qb=o=>{var{d:e,offsetX:n,offsetY:i}=o,s=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},s),{tagName:"path",d:Cs(e,n,i)})},t1=o=>{var{size:e,width:n,height:i,offset:s}=o,a=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["size","width","height","offset"]);const l=e||10,c=n||l,u=i||l,g=new $t;return g.moveTo(0,0).lineTo(c,u).moveTo(0,u).lineTo(c,0),Object.assign(Object.assign({},a),{tagName:"path",fill:"none",d:Cs(g.serialize(),s||-c/2)})},s1=o=>{var{width:e,height:n,offset:i,open:s,flip:a}=o,l=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["width","height","offset","open","flip"]);let c=n||6;const u=e||10,g=!0===s,_=!0===a,z=Object.assign(Object.assign({},l),{tagName:"path"});_&&(c=-c);const y=new $t;return y.moveTo(0,c).lineTo(u,0),g?z.fill="none":(y.lineTo(u,c),y.close()),z.d=Cs(y.serialize(),{x:i||-u/2,y:c/2}),z};var Nm=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};const Im=o=>{var{r:e}=o,n=Nm(o,["r"]);const i=e||5;return Object.assign(Object.assign({cx:i},n),{tagName:"circle",r:i})},o1=o=>{var{r:e}=o,n=Nm(o,["r"]);const i=e||5,s=new $t;return s.moveTo(i,0).lineTo(i,2*i),s.moveTo(0,i).lineTo(2*i,i),{children:[Object.assign(Object.assign({},Im({r:i})),{fill:"none"}),Object.assign(Object.assign({},n),{tagName:"path",d:Cs(s.serialize(),-i)})]}},a1=o=>{var{rx:e,ry:n}=o,i=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["rx","ry"]);const s=e||5,a=n||5;return Object.assign(Object.assign({cx:s},i),{tagName:"ellipse",rx:s,ry:a})};var ys;function Rp(o){return"string"==typeof o||ni(o)}(function(o){o.presets=F,o.registry=In.create({type:"marker"}),o.registry.register(o.presets,!0)})(ys||(ys={})),function(o){o.normalize=Cs}(ys||(ys={}));const c1={qualify:Rp,set:(o,{view:e,attrs:n})=>Fp("marker-start",o,e,n)},h1={qualify:Rp,set:(o,{view:e,attrs:n})=>Fp("marker-end",o,e,n,{transform:"rotate(180)"})},d1={qualify:Rp,set:(o,{view:e,attrs:n})=>Fp("marker-mid",o,e,n)};function Fp(o,e,n,i,s={}){const a="string"==typeof e?{name:e}:e,{name:l,args:c}=a,u=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(a,["name","args"]);let g=u;if(l&&"string"==typeof l){const z=ys.registry.get(l);if(!z)return ys.registry.onNotFound(l);g=z(Object.assign(Object.assign({},u),c))}const _=Object.assign(Object.assign(Object.assign({},function u1(o,e){const n={},i=o.stroke;"string"==typeof i&&(n.stroke=i,n.fill=i);let s=o.strokeOpacity;if(null==s&&(s=o["stroke-opacity"]),null==s&&(s=o.opacity),null!=s&&(n["stroke-opacity"]=s,n["fill-opacity"]=s),"marker-mid"!==e){const a=parseFloat(o.strokeWidth||o["stroke-width"]);if(Number.isFinite(a)&&a>1){const l=Math.ceil(a/2);n.refX="marker-start"===e?l:-l}}return n}(i,o)),s),g);return{[o]:`url(#${n.graph.defineMarker(_)})`}}const Da=(o,{view:e})=>e.cell.isEdge(),p1={qualify:Da,set(o,e){var n,i,s,a;const l=e.view,c=o.reverse||!1,u=o.stubs||0;let g;if(Number.isFinite(u)&&0!==u)if(c){let _,z;const y=l.getConnectionLength()||0;u<0?(_=(y+u)/2,z=-u):(_=u,z=y-2*u);const x=l.getConnection();g=null===(a=null===(s=null===(i=null===(n=x?.divideAtLength(_))||void 0===n?void 0:n[1])||void 0===i?void 0:i.divideAtLength(z))||void 0===s?void 0:s[0])||void 0===a?void 0:a.serialize()}else{let _;_=u<0?((l.getConnectionLength()||0)+u)/2:u;const z=l.getConnection();if(z){const y=z.divideAtLength(_),x=z.divideAtLength(-_);y&&x&&(g=`${y[0].serialize()} ${x[1].serialize()}`)}}return{d:g||l.getConnectionPathData()}}},Am={qualify:Da,set:fc("getTangentAtLength",{rotate:!0})},f1={qualify:Da,set:fc("getTangentAtLength",{rotate:!1})},Rm={qualify:Da,set:fc("getTangentAtRatio",{rotate:!0})},g1={qualify:Da,set:fc("getTangentAtRatio",{rotate:!1})},m1=Am,_1=Rm;function fc(o,e){const n={x:1,y:0};return(i,s)=>{let a,l;const c=s.view,u=c[o](Number(i));return u?(l=e.rotate?u.vector().vectorAngle(n):0,a=u.start):(a=c.path.start,l=0),0===l?{transform:`translate(${a.x},${a.y}')`}:{transform:`translate(${a.x},${a.y}') rotate(${l})`}}}var ki;(function(o){o.isValidDefinition=function e(n,i,s){return!(null==n||"string"!=typeof n&&"function"==typeof n.qualify&&!Ot(n.qualify,this,i,s))}})(ki||(ki={})),function(o){o.presets=Object.assign(Object.assign({},pb),ie),o.registry=In.create({type:"attribute definition"}),o.registry.register(o.presets,!0)}(ki||(ki={}));const Xn={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,prefix:o=>`${Xn.prefixCls}-${o}`},Fm=Xn.prefix("highlighted"),v1={highlight(o,e,n){dn(e,n&&n.className||Fm)},unhighlight(o,e,n){ai(e,n&&n.className||Fm)}},Bm=Xn.prefix("highlight-opacity"),C1={highlight(o,e){dn(e,Bm)},unhighlight(o,e){ai(e,Bm)}};var gn;!function(o){function e(y,x){const N=im(y.x,y.y).matrixTransform(x);return new ve(N.x,N.y)}function s(y,x){const $=pi("svg").createSVGPoint();$.x=y.x,$.y=y.y;const U=$.matrixTransform(x);$.x=y.x+y.width,$.y=y.y;const Q=$.matrixTransform(x);$.x=y.x+y.width,$.y=y.y+y.height;const le=$.matrixTransform(x);$.x=y.x,$.y=y.y+y.height;const K=$.matrixTransform(x),Oe=Math.min(U.x,Q.x,le.x,K.x),Ie=Math.max(U.x,Q.x,le.x,K.x),Qe=Math.min(U.y,Q.y,le.y,K.y),gt=Math.max(U.y,Q.y,le.y,K.y);return new St(Oe,Qe,Ie-Oe,gt-Qe)}function l(y,x={}){let N;if(!y.ownerSVGElement||!ji(y)){if(fp(y)){const{left:le,top:K,width:Oe,height:Ie}=c(y);return new St(le,K,Oe,Ie)}return new St(0,0,0,0)}let U=x.target;if(!x.recursive){try{N=y.getBBox()}catch{N={x:y.clientLeft,y:y.clientTop,width:y.clientWidth,height:y.clientHeight}}return U?s(N,Ho(y,U)):St.create(N)}{const le=y.childNodes,K=le.length;if(0===K)return l(y,{target:U});U||(U=y);for(let Oe=0;Oe<K;Oe+=1){const Ie=le[Oe];let Qe;Qe=l(Ie,0===Ie.childNodes.length?{target:U}:{target:U,recursive:!0}),N=N?N.union(Qe):Qe}return N}}function c(y){let x=0,N=0,$=0,U=0;if(y){let Q=y;for(;Q;)x+=Q.offsetLeft,N+=Q.offsetTop,Q=Q.offsetParent,Q&&(x+=parseInt(ic(Q,"borderLeft"),10),N+=parseInt(ic(Q,"borderTop"),10));$=y.offsetWidth,U=y.offsetHeight}return{left:x,top:N,width:$,height:U}}function u(y){const x=N=>{const $=y.getAttribute(N),U=$?parseFloat($):0;return Number.isNaN(U)?0:U};switch(y instanceof SVGElement&&y.nodeName.toLowerCase()){case"rect":return new St(x("x"),x("y"),x("width"),x("height"));case"circle":return new bi(x("cx"),x("cy"),x("r"),x("r"));case"ellipse":return new bi(x("cx"),x("cy"),x("rx"),x("ry"));case"polyline":{const N=ya(y);return new Nn(N)}case"polygon":{const N=ya(y);return N.length>1&&N.push(N[0]),new Nn(N)}case"path":{let N=y.getAttribute("d");return $t.isValid(N)||(N=$t.normalize(N)),$t.parse(N)}case"line":return new Mt(x("x1"),x("y1"),x("x2"),x("y2"))}return l(y)}function _(y){if(null==y)return null;let x=y;do{let N=x.tagName;if("string"!=typeof N)return null;if(N=N.toUpperCase(),Ws(x,"x6-port"))x=x.nextElementSibling;else if("G"===N)x=x.firstElementChild;else{if("TITLE"!==N)break;x=x.nextElementSibling}}while(x);return x}o.normalizeMarker=Cs,o.transformPoint=e,o.transformLine=function n(y,x){return new Mt(e(y.start,x),e(y.end,x))},o.transformPolyline=function i(y,x){let N=y instanceof Nn?y.points:y;return Array.isArray(N)||(N=[]),new Nn(N.map($=>e($,x)))},o.transformRectangle=s,o.bbox=function a(y,x,N){let $;const U=y.ownerSVGElement;if(!U)return new St(0,0,0,0);try{$=y.getBBox()}catch{$={x:y.clientLeft,y:y.clientTop,width:y.clientWidth,height:y.clientHeight}}return x?St.create($):s($,Ho(y,N||U))},o.getBBox=l,o.getBoundingOffsetRect=c,o.toGeometryShape=u,o.translateAndAutoOrient=function g(y,x,N,$){const U=ve.create(x),Q=ve.create(N);$||($=y instanceof SVGSVGElement?y:y.ownerSVGElement);const le=lc(y);y.setAttribute("transform","");const K=l(y,{target:$}).scale(le.sx,le.sy),Oe=jo();Oe.setTranslate(-K.x-K.width/2,-K.y-K.height/2);const Ie=jo(),Qe=U.angleBetween(Q,U.clone().translate(1,0));Qe&&Ie.setRotate(Qe,0,0);const gt=jo(),yt=U.clone().move(Q,K.width/2);gt.setTranslate(2*U.x-yt.x,2*U.y-yt.y);const zt=Ho(y,$),Pt=jo();Pt.setMatrix(gt.matrix.multiply(Ie.matrix.multiply(Oe.matrix.multiply(zt.scale(le.sx,le.sy))))),y.setAttribute("transform",Qs(Pt.matrix))},o.findShapeNode=_,o.getBBoxV2=function z(y){const x=_(y);if(!ji(x)){if(fp(y)){const{left:U,top:Q,width:le,height:K}=c(y);return new St(U,Q,le,K)}return new St(0,0,0,0)}return u(x).bbox()||St.create()}}(gn||(gn={}));const y1={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},z1={highlight(o,e,n){const i=zs.getHighlighterId(e,n);if(zs.hasCache(i))return;n=Wu({},n,y1);const s=Qt.create(e);let a,l;try{a=s.toPathData()}catch{l=gn.bbox(s.node,!0),a=Op(Object.assign(Object.assign({},n),l))}const c=pi("path");if(mn(c,Object.assign({d:a,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},n.attrs?Lo(n.attrs):null)),o.isEdgeElement(e))mn(c,"d",o.getConnectionPathData());else{let _=s.getTransformToElement(o.container);const z=n.padding;if(z){null==l&&(l=gn.bbox(s.node,!0));const y=l.x+l.width/2,x=l.y+l.height/2;l=gn.transformRectangle(l,_);const N=Math.max(l.width,1),$=Math.max(l.height,1),U=(N+z)/N,Q=($+z)/$,le=Vn({a:U,b:0,c:0,d:Q,e:y-U*y,f:x-Q*x});_=_.multiply(le)}Zs(c,_)}dn(c,Xn.prefix("highlight-stroke"));const u=o.cell,g=()=>zs.removeHighlighter(i);u.on("removed",g),u.model&&u.model.on("reseted",g),o.container.appendChild(c),zs.setCache(i,c)},unhighlight(o,e,n){zs.removeHighlighter(zs.getHighlighterId(e,n))}};var zs,Hi;function Bp(o,e={}){return new ve(ui(e.x,o.width),ui(e.y,o.height))}function Lp(o,e,n){return Object.assign({angle:e,position:o.toJSON()},n)}!function(o){o.getHighlighterId=function e(l,c){return Zl(l),l.id+JSON.stringify(c)};const n={};o.setCache=function i(l,c){n[l]=c},o.hasCache=function s(l){return null!=n[l]},o.removeHighlighter=function a(l){const c=n[l];c&&(Ys(c),delete n[l])}}(zs||(zs={})),function(o){o.check=function e(n,i){if("function"!=typeof i.highlight)throw new Error(`Highlighter '${n}' is missing required \`highlight()\` method`);if("function"!=typeof i.unhighlight)throw new Error(`Highlighter '${n}' is missing required \`unhighlight()\` method`)}}(Hi||(Hi={})),function(o){o.presets=he,o.registry=In.create({type:"highlighter"}),o.registry.register(o.presets,!0)}(Hi||(Hi={}));const b1=(o,e)=>o.map(({x:n,y:i,angle:s})=>Lp(Bp(e,{x:n,y:i}),s||0)),S1=(o,e,n)=>{const s=n.step||20;return Lm(o,e,n.start||0,(a,l)=>(a+.5-l/2)*s)},T1=(o,e,n)=>{const s=n.step||360/o.length;return Lm(o,e,n.start||0,a=>a*s)};function Lm(o,e,n,i){const s=e.getCenter(),a=e.getTopCenter(),l=e.width/e.height,c=bi.fromRect(e),u=o.length;return o.map((g,_)=>{const z=n+i(_,u),y=a.clone().rotate(-z,s).scale(l,1,s),x=g.compensateRotate?-c.tangentTheta(y):0;return(g.dx||g.dy)&&y.translate(g.dx||0,g.dy||0),g.dr&&y.move(s,g.dr),Lp(y.round(),x,g)})}const O1=(o,e,n)=>wa(o,Bp(e,n.start||e.getOrigin()),Bp(e,n.end||e.getCorner()),n),D1=(o,e,n)=>wa(o,e.getTopLeft(),e.getBottomLeft(),n),w1=(o,e,n)=>wa(o,e.getTopRight(),e.getBottomRight(),n),M1=(o,e,n)=>wa(o,e.getTopLeft(),e.getTopRight(),n),E1=(o,e,n)=>wa(o,e.getBottomLeft(),e.getBottomRight(),n);function wa(o,e,n,i){const s=new Mt(e,n),a=o.length;return o.map((l,c)=>{var{strict:u}=l,g=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(l,["strict"]);const z=s.pointAt(u||i.strict?(c+1)/(a+1):(c+.5)/a);return(g.dx||g.dy)&&z.translate(g.dx||0,g.dy||0),Lp(z.round(),0,g)})}var eo;!function(o){o.presets=me,o.registry=In.create({type:"port layout"}),o.registry.register(o.presets,!0)}(eo||(eo={}));const P1={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function bs(o,e){const{x:n,y:i,angle:s,attrs:a}=e||{};return Wu({},{angle:s,attrs:a,position:{x:n,y:i}},o,P1)}const k1=(o,e,n)=>bs({position:e.getTopLeft()},n),N1=(o,e,n)=>bs({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},n),I1=(o,e,n)=>bs({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},n),A1=(o,e,n)=>bs({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},n),R1=(o,e,n)=>bs({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},n),F1=(o,e,n)=>Vm(o,e,!1,n),B1=(o,e,n)=>Vm(o,e,!0,n),L1=(o,e,n)=>$m(o,e,!1,n),V1=(o,e,n)=>$m(o,e,!0,n);function Vm(o,e,n,i){const s=null!=i.offset?i.offset:15,a=e.getCenter().theta(o),l=jm(e);let c,u,g,_,z=0;return a<l[1]||a>l[2]?(c=".3em",u=s,g=0,_="start"):a<l[0]?(c="0",u=0,g=-s,n?(z=-90,_="start"):_="middle"):a<l[3]?(c=".3em",u=-s,g=0,_="end"):(c=".6em",u=0,g=s,n?(z=90,_="start"):_="middle"),bs({position:{x:Math.round(u),y:Math.round(g)},angle:z,attrs:{".":{y:c,"text-anchor":_}}},i)}function $m(o,e,n,i){const s=null!=i.offset?i.offset:15,a=e.getCenter().theta(o),l=jm(e);let c,u,g,_,z=0;return a<l[1]||a>l[2]?(c=".3em",u=-s,g=0,_="end"):a<l[0]?(c=".6em",u=0,g=s,n?(z=90,_="start"):_="middle"):a<l[3]?(c=".3em",u=s,g=0,_="start"):(c="0em",u=0,g=-s,n?(z=-90,_="start"):_="middle"),bs({position:{x:Math.round(u),y:Math.round(g)},angle:z,attrs:{".":{y:c,"text-anchor":_}}},i)}function jm(o){const e=o.getCenter(),n=e.theta(o.getTopLeft()),i=e.theta(o.getBottomLeft()),s=e.theta(o.getBottomRight());return[n,e.theta(o.getTopRight()),s,i]}const $1=(o,e,n)=>Gm(o.diff(e.getCenter()),!1,n),j1=(o,e,n)=>Gm(o.diff(e.getCenter()),!0,n);function Gm(o,e,n){const i=null!=n.offset?n.offset:20,s=new ve(0,0),a=-o.theta(s);let u,c=".3em",g=a;return(a+90)%180==0?(u=e?"end":"middle",!e&&-270===a&&(c="0em")):a>-270&&a<-90?(u="start",g=a-180):u="end",bs({position:o.clone().move(s,i).diff(o).round().round().toJSON(),angle:e?g:0,attrs:{".":{y:c,"text-anchor":u}}},n)}var Jo,Vp,Sn;!function(o){o.presets=J,o.registry=In.create({type:"port label layout"}),o.registry.register(o.presets,!0)}(Jo||(Jo={}));class bn extends ii{get priority(){return 2}get disposeContainer(){return!0}constructor(){super(),this.cid=Vp.uniqueId(),bn.views[this.cid]=this}confirmUpdate(e,n){return 0}empty(e=this.container){return Fo(e),this}unmount(e=this.container){return Ys(e),this}remove(e=this.container){return e===this.container?(this.removeEventListeners(document),this.onRemove(),delete bn.views[this.cid],this.disposeContainer&&this.unmount(e)):this.unmount(e),this}onRemove(){}setClass(e,n=this.container){n.classList.value=Array.isArray(e)?e.join(" "):e}addClass(e,n=this.container){return dn(n,Array.isArray(e)?e.join(" "):e),this}removeClass(e,n=this.container){return ai(n,Array.isArray(e)?e.join(" "):e),this}setStyle(e,n=this.container){return Vo(n,e),this}setAttrs(e,n=this.container){return null!=e&&null!=n&&mn(n,e),this}findAttr(e,n=this.container){let i=n;for(;i&&1===i.nodeType;){const s=i.getAttribute(e);if(null!=s)return s;if(i===this.container)return null;i=i.parentNode}return null}find(e,n=this.container,i=this.selectors){return bn.find(e,n,i).elems}findOne(e,n=this.container,i=this.selectors){const s=this.find(e,n,i);return s.length>0?s[0]:null}findByAttr(e,n=this.container){let i=n;for(;i&&i.getAttribute;){const s=i.getAttribute(e);if((null!=s||i===this.container)&&"false"!==s)return i;i=i.parentNode}return null}getSelector(e,n){let i;if(e===this.container)return"string"==typeof n&&(i=`> ${n}`),i;if(e){const s=ql(e)+1;i=`${e.tagName.toLowerCase()}:nth-child(${s})`,n&&(i+=` > ${n}`),i=this.getSelector(e.parentNode,i)}return i}prefixClassName(e){return Xn.prefix(e)}delegateEvents(e,n){if(null==e)return this;n||this.undelegateEvents();const i=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach(s=>{const a=s.match(i);if(null==a)return;const l=this.getEventHandler(e[s]);"function"==typeof l&&this.delegateEvent(a[1],a[2],l)}),this}undelegateEvents(){return Hn.off(this.container,this.getEventNamespace()),this}delegateDocumentEvents(e,n){return this.addEventListeners(document,e,n),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(e,n,i){return Hn.on(this.container,e+this.getEventNamespace(),n,i),this}undelegateEvent(e,n,i){const s=e+this.getEventNamespace();return null==n?Hn.off(this.container,s):"string"==typeof n?Hn.off(this.container,s,n,i):Hn.off(this.container,s,n),this}addEventListeners(e,n,i){if(null==n)return this;const s=this.getEventNamespace();return Object.keys(n).forEach(a=>{const l=this.getEventHandler(n[a]);"function"==typeof l&&Hn.on(e,a+s,i,l)}),this}removeEventListeners(e){return null!=e&&Hn.off(e,this.getEventNamespace()),this}getEventNamespace(){return`.${Xn.prefixCls}-event-${this.cid}`}getEventHandler(e){let n;if("string"==typeof e){const i=this[e];"function"==typeof i&&(n=(...s)=>i.call(this,...s))}else n=(...i)=>e.call(this,...i);return n}getEventTarget(e,n={}){const{target:i,type:s,clientX:a=0,clientY:l=0}=e;return n.fromPoint||"touchmove"===s||"touchend"===s?document.elementFromPoint(a,l):i}stopPropagation(e){return this.setEventData(e,{propagationStopped:!0}),this}isPropagationStopped(e){return!0===this.getEventData(e).propagationStopped}getEventData(e){return this.eventData(e)}setEventData(e,n){return this.eventData(e,n)}eventData(e,n){if(null==e)throw new TypeError("Event object required");let i=e.data;const s=`__${this.cid}__`;return null==n?null==i?{}:i[s]||{}:(null==i&&(i=e.data={}),i[s]=Object.assign(null==i[s]?{}:Object.assign({},i[s]),n),i[s])}normalizeEvent(e){return bn.normalizeEvent(e)}dispose(){this.remove()}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([bn.dispose()],bn.prototype,"dispose",null),function(o){o.createElement=function e(s,a){return a?pi(s||"g"):Jl(s||"div")},o.find=function n(s,a,l){if(!s||"."===s)return{elems:[a]};if(l){const c=l[s];if(c)return{elems:Array.isArray(c)?c:[c]}}if(Xn.useCSSSelector){const c=s.includes(">")?`:scope ${s}`:s;return{isCSSSelector:!0,elems:Array.prototype.slice.call(a.querySelectorAll(c))}}return{elems:[]}},o.normalizeEvent=function i(s){let a=s;const l=s.originalEvent,c=l&&l.changedTouches&&l.changedTouches[0];if(c){for(const u in s)void 0===c[u]&&(c[u]=s[u]);a=c}return a}}(bn||(bn={})),function(o){o.views={},o.getView=function e(n){return o.views[n]||null}}(bn||(bn={})),function(o){let e=0;o.uniqueId=function n(){const i=`v${e}`;return e+=1,i}}(Vp||(Vp={}));class H1{constructor(e){this.view=e,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Np,this.pathCache={}}get(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}getData(e){const n=this.get(e);return n.data||(n.data={}),n.data}getMatrix(e){const n=this.get(e);return null==n.matrix&&(n.matrix=lm(e,this.view.container)),Vn(n.matrix)}getShape(e){const n=this.get(e);return null==n.shape&&(n.shape=gn.toGeometryShape(e)),n.shape.clone()}getBoundingRect(e){const n=this.get(e);return null==n.boundingRect&&(n.boundingRect=gn.getBBoxV2(e)),n.boundingRect.clone()}}(function(o){function n(g){return null!=g&&"string"==typeof g}function a(g,_={ns:Ln.svg}){const z=document.createDocumentFragment(),y={},x={},N=[{markup:Array.isArray(g)?g:[g],parent:z,ns:_.ns}];for(;N.length>0;){const $=N.pop();let U=$.ns||Ln.svg;const le=$.parent;$.markup.forEach(K=>{const Oe=K.tagName;if(!Oe)throw new TypeError("Invalid tagName");K.ns&&(U=K.ns);const Ie=U?Jl(Oe,U):dp(Oe),Qe=K.attrs;Qe&&mn(Ie,Lo(Qe));const gt=K.style;gt&&Vo(Ie,gt);const yt=K.className;null!=yt&&Ie.setAttribute("class",Array.isArray(yt)?yt.join(" "):yt),K.textContent&&(Ie.textContent=K.textContent);const zt=K.selector;if(null!=zt){if(x[zt])throw new TypeError("Selector must be unique");x[zt]=Ie}if(K.groupSelector){let Tt=K.groupSelector;Array.isArray(Tt)||(Tt=[Tt]),Tt.forEach(Rt=>{y[Rt]||(y[Rt]=[]),y[Rt].push(Ie)})}le.appendChild(Ie);const Pt=K.children;Array.isArray(Pt)&&N.push({ns:U,markup:Pt,parent:Ie})})}return Object.keys(y).forEach($=>{if(x[$])throw new Error("Ambiguous group selector");x[$]=y[$]}),{fragment:z,selectors:x,groups:y}}function l(g){return g instanceof SVGElement?pi("g"):dp("div")}o.isJSONMarkup=function e(g){return null!=g&&!n(g)},o.isStringMarkup=n,o.clone=function i(g){return null==g||n(g)?g:En(g)},o.sanitize=function s(g){return`${g}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")},o.parseJSONMarkup=a,o.renderMarkup=function c(g){if(n(g)){const x=Qt.createVectors(g),N=x.length;if(1===N)return{elem:x[0].node};if(N>1){const $=l(x[0].node);return x.forEach(U=>{$.appendChild(U.node)}),{elem:$}}return{}}const _=a(g),z=_.fragment;let y=null;return z.childNodes.length>1?(y=l(z.firstChild),y.appendChild(z)):y=z.firstChild,{elem:y,selectors:_.selectors}},o.parseLabelStringMarkup=function u(g){const _=Qt.createVectors(g),z=document.createDocumentFragment();for(let y=0,x=_.length;y<x;y+=1)z.appendChild(_[y].node);return{fragment:z,selectors:{}}}})(Sn||(Sn={})),function(o){o.getSelector=function e(n,i,s){if(null!=n){let a;const l=n.tagName.toLowerCase();if(n===i)return a="string"==typeof s?`> ${l} > ${s}`:`> ${l}`,a;const c=n.parentNode;return a=c&&c.childNodes.length>1?`${l}:nth-child(${ql(n)+1})`:l,s&&(a+=` > ${s}`),e(n.parentNode,i,a)}return s}}(Sn||(Sn={})),function(o){o.getPortContainerMarkup=function e(){return"g"},o.getPortMarkup=function n(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}},o.getPortLabelMarkup=function i(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}}(Sn||(Sn={})),function(o){o.getEdgeMarkup=function e(){return[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}]}}(Sn||(Sn={})),function(o){o.getForeignObjectMarkup=function e(n=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:Ln.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:Ln.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:n?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}}(Sn||(Sn={}));class Hm{constructor(e){this.view=e}get cell(){return this.view.cell}getDefinition(e){return this.cell.getAttrDefinition(e)}processAttrs(e,n){let i,s,a,l;const c=[];return Object.keys(n).forEach(u=>{const g=n[u],_=this.getDefinition(u),z=Ot(ki.isValidDefinition,this.view,_,g,{elem:e,attrs:n,cell:this.cell,view:this.view});if(_&&z)"string"==typeof _?(null==i&&(i={}),i[_]=g):null!==g&&c.push({name:u,definition:_});else{null==i&&(i={});const y=gp.includes(u)?u:fg(u);i[y]=g}}),c.forEach(({name:u,definition:g})=>{const _=n[u];"function"==typeof g.set&&(null==s&&(s={}),s[u]=_),"function"==typeof g.offset&&(null==a&&(a={}),a[u]=_),"function"==typeof g.position&&(null==l&&(l={}),l[u]=_)}),{raw:n,normal:i,set:s,offset:a,position:l}}mergeProcessedAttrs(e,n){e.set=Object.assign(Object.assign({},e.set),n.set),e.position=Object.assign(Object.assign({},e.position),n.position),e.offset=Object.assign(Object.assign({},e.offset),n.offset);const i=e.normal&&e.normal.transform;null!=i&&n.normal&&(n.normal.transform=i),e.normal=n.normal}findAttrs(e,n,i,s){const a=[],l=new Np;return Object.keys(e).forEach(c=>{const u=e[c];if(!ni(u))return;const{isCSSSelector:g,elems:_}=bn.find(c,n,s);i[c]=_;for(let z=0,y=_.length;z<y;z+=1){const x=_[z],N=s&&s[c]===x,$=l.get(x);if($){$.array||(a.push(x),$.array=!0,$.attrs=[$.attrs],$.priority=[$.priority]);const U=$.attrs,Q=$.priority;if(N)U.unshift(u),Q.unshift(-1);else{const le=If(Q,g?-1:y);U.splice(le,0,u),Q.splice(le,0,y)}}else l.set(x,{elem:x,attrs:u,priority:N?-1:y,array:!1})}}),a.forEach(c=>{const u=l.get(c);u.attrs=u.attrs.reduceRight((_,z)=>Mn(_,z),{})}),l}updateRelativeAttrs(e,n,i){const s=n.raw||{};let a=n.normal||{};const l=n.set,c=n.position,u=n.offset,g=()=>({elem:e,cell:this.cell,view:this.view,attrs:s,refBBox:i.clone()});if(null!=l&&Object.keys(l).forEach(U=>{const Q=l[U],le=this.getDefinition(U);if(null!=le){const K=Ot(le.set,this.view,Q,g());"object"==typeof K?a=Object.assign(Object.assign({},a),K):null!=K&&(a[U]=K)}}),e instanceof HTMLElement)return void this.view.setAttrs(a,e);const _=a.transform,y=Go(_?`${_}`:null),x=new ve(y.e,y.f);_&&(delete a.transform,y.e=0,y.f=0);let N=!1;null!=c&&Object.keys(c).forEach(U=>{const Q=c[U],le=this.getDefinition(U);if(null!=le){const K=Ot(le.position,this.view,Q,g());null!=K&&(N=!0,x.translate(ve.create(K)))}}),this.view.setAttrs(a,e);let $=!1;if(null!=u){const U=this.view.getBoundingRectOfElement(e);if(U.width>0&&U.height>0){const Q=gn.transformRectangle(U,y);Object.keys(u).forEach(le=>{const K=u[le],Oe=this.getDefinition(le);if(null!=Oe){const Ie=Ot(Oe.offset,this.view,K,{elem:e,cell:this.cell,view:this.view,attrs:s,refBBox:Q});null!=Ie&&($=!0,x.translate(ve.create(Ie)))}})}}(null!=_||N||$)&&(x.round(1),y.e=x.x,y.f=x.y,e.setAttribute("transform",Qs(y)))}update(e,n,i){const s={},a=this.findAttrs(i.attrs||n,e,s,i.selectors),l=i.attrs?this.findAttrs(n,e,s,i.selectors):a,c=[];a.each(_=>{const z=_.elem,y=_.attrs,x=this.processAttrs(z,y);if(null==x.set&&null==x.position&&null==x.offset)this.view.setAttrs(x.normal,z);else{const N=l.get(z),$=N?N.attrs:null,U=$&&null==y.ref?$.ref:y.ref;let Q;if(U){if(Q=(s[U]||this.view.find(U,e,i.selectors))[0],!Q)throw new Error(`"${U}" reference does not exist.`)}else Q=null;const le={node:z,refNode:Q,attributes:$,processedAttributes:x},K=c.findIndex(Oe=>Oe.refNode===z);K>-1?c.splice(K,0,le):c.push(le)}});const u=new Np;let g;c.forEach(_=>{const z=_.node,y=_.refNode;let x;const N=null!=y&&null!=i.rotatableNode&&pp(i.rotatableNode,y);let $;y&&(x=u.get(y)),x||(x=y?gn.getBBox(y,{target:N?i.rotatableNode:e}):i.rootBBox,y&&u.set(y,x)),i.attrs&&_.attributes?($=this.processAttrs(z,_.attributes),this.mergeProcessedAttrs($,_.processedAttributes)):$=_.processedAttributes;let U=x;N&&null!=i.rotatableNode&&!i.rotatableNode.contains(z)&&(g||(g=Go(mn(i.rotatableNode,"transform"))),U=gn.transformRectangle(x,g)),this.updateRelativeAttrs(z,$,U)})}}class Um{get cell(){return this.view.cell}constructor(e,n,i=[]){this.view=e;const s={},a={};let l=0;Object.keys(n).forEach(u=>{let g=n[u];Array.isArray(g)||(g=[g]),g.forEach(_=>{let z=s[_];z||(l+=1,z=s[_]=1<<l),a[u]|=z})});let c=i;if(Array.isArray(c)||(c=[c]),c.forEach(u=>{s[u]||(l+=1,s[u]=1<<l)}),l>25)throw new Error("Maximum number of flags exceeded.");this.flags=s,this.attrs=a,this.bootstrap=i}getFlag(e){const n=this.flags;return null==n?0:Array.isArray(e)?e.reduce((i,s)=>i|n[s],0):0|n[e]}hasAction(e,n){return e&this.getFlag(n)}removeAction(e,n){return e^e&this.getFlag(n)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let e=0;return this.attrs&&Object.keys(this.attrs).forEach(n=>{this.cell.hasChanged(n)&&(e|=this.attrs[n])}),e}}class An extends bn{static getDefaults(){return this.defaults}static config(e){this.defaults=this.getOptions(e)}static getOptions(e){const n=(g,_)=>null!=_?Qu([...Array.isArray(g)?g:[g],...Array.isArray(_)?_:[_]]):Array.isArray(g)?[...g]:[g],i=En(this.getDefaults()),{bootstrap:s,actions:a,events:l,documentEvents:c}=e,u=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(e,["bootstrap","actions","events","documentEvents"]);return s&&(i.bootstrap=n(i.bootstrap,s)),a&&Object.entries(a).forEach(([g,_])=>{const z=i.actions[g];_&&z?i.actions[g]=n(z,_):_&&(i.actions[g]=n(_))}),l&&(i.events=Object.assign(Object.assign({},i.events),l)),e.documentEvents&&(i.documentEvents=Object.assign(Object.assign({},i.documentEvents),c)),Mn(i,u)}get[Symbol.toStringTag](){return An.toStringTag}constructor(e,n={}){super(),this.cell=e,this.options=this.ensureOptions(n),this.graph=this.options.graph,this.attr=new Hm(this),this.flag=new Um(this,this.options.actions,this.options.bootstrap),this.cache=new H1(this),this.setContainer(this.ensureContainer()),this.setup(),this.init()}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(e){return this.getConstructor().getOptions(e)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return bn.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(e){if(this.container!==e){this.undelegateEvents(),this.container=e,null!=this.options.events&&this.delegateEvents(this.options.events);const n=this.getContainerAttrs();null!=n&&this.setAttrs(n,e);const i=this.getContainerStyle();null!=i&&this.setStyle(i,e);const s=this.getContainerClassName();null!=s&&this.addClass(s,e)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(e,n={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(e){return this.flag.getFlag(e)}hasAction(e,n){return this.flag.hasAction(e,n)}removeAction(e,n){return this.flag.removeAction(e,n)}handleAction(e,n,i,s){if(this.hasAction(e,n)){i();const a=[n];return s&&("string"==typeof s?a.push(s):a.push(...s)),this.removeAction(e,a)}return e}setup(){this.cell.on("changed",this.onCellChanged,this)}onCellChanged({options:e}){this.onAttrsChange(e)}onAttrsChange(e){let n=this.flag.getChangedFlag();e.updated||!n||(e.dirty&&this.hasAction(n,"update")&&(n|=this.getFlag("render")),e.toolId&&(e.async=!1),null!=this.graph&&this.graph.renderer.requestViewUpdate(this,n,e))}parseJSONMarkup(e,n){const i=Sn.parseJSONMarkup(e),s=i.selectors,a=this.rootSelector;if(n&&a){if(s[a])throw new Error("Invalid root selector");s[a]=n}return i}can(e){let n=this.graph.options.interacting;if("function"==typeof n&&(n=Ot(n,this.graph,this)),"object"==typeof n){let i=n[e];return"function"==typeof i&&(i=Ot(i,this.graph,this)),!1!==i}return"boolean"==typeof n&&n}cleanCache(){return this.cache.clean(),this}getCache(e){return this.cache.get(e)}getDataOfElement(e){return this.cache.getData(e)}getMatrixOfElement(e){return this.cache.getMatrix(e)}getShapeOfElement(e){return this.cache.getShape(e)}getBoundingRectOfElement(e){return this.cache.getBoundingRect(e)}getBBoxOfElement(e){const n=this.getBoundingRectOfElement(e),i=this.getMatrixOfElement(e),s=this.getRootRotatedMatrix(),a=this.getRootTranslatedMatrix();return gn.transformRectangle(n,a.multiply(s).multiply(i))}getUnrotatedBBoxOfElement(e){const n=this.getBoundingRectOfElement(e),i=this.getMatrixOfElement(e),s=this.getRootTranslatedMatrix();return gn.transformRectangle(n,s.multiply(i))}getBBox(e={}){let n;if(e.useCellGeometry){const i=this.cell,s=i.isNode()?i.getAngle():0;n=i.getBBox().bbox(s)}else n=this.getBBoxOfElement(this.container);return this.graph.coord.localToGraphRect(n)}getRootTranslatedMatrix(){const e=this.cell,n=e.isNode()?e.getPosition():{x:0,y:0};return Vn().translate(n.x,n.y)}getRootRotatedMatrix(){let e=Vn();const n=this.cell,i=n.isNode()?n.getAngle():0;if(i){const s=n.getBBox(),a=s.width/2,l=s.height/2;e=e.translate(a,l).rotate(i).translate(-a,-l)}return e}findMagnet(e=this.container){return this.findByAttr("magnet",e)}updateAttrs(e,n,i={}){null==i.rootBBox&&(i.rootBBox=new St),null==i.selectors&&(i.selectors=this.selectors),this.attr.update(e,n,i)}isEdgeElement(e){return this.cell.isEdge()&&(null==e||e===this.container)}prepareHighlight(e,n={}){const i=e||this.container;return n.partial=i===this.container,i}highlight(e,n={}){const i=this.prepareHighlight(e,n);return this.notify("cell:highlight",{magnet:i,options:n,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:i,options:n,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:i,options:n,view:this,node:this.cell,cell:this.cell}),this}unhighlight(e,n={}){const i=this.prepareHighlight(e,n);return this.notify("cell:unhighlight",{magnet:i,options:n,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:i,options:n,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:i,options:n,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(e,n){}getEdgeTerminal(e,n,i,s,a){const l=this.cell,c=this.findAttr("port",e),u=e.getAttribute("data-selector"),g={cell:l.id};return null!=u&&(g.magnet=u),null!=c?(g.port=c,l.isNode()&&!l.hasPort(c)&&null==u&&(g.selector=this.getSelector(e))):null==u&&this.container!==e&&(g.selector=this.getSelector(e)),g}getMagnetFromEdgeTerminal(e){const n=this.cell,i=this.container,s=e.port;let l,a=e.magnet;return null!=s&&n.isNode()&&n.hasPort(s)?l=this.findPortElem(s,a)||i:(a||(a=e.selector),!a&&null!=s&&(a=`[port="${s}"]`),l=this.findOne(a,i,this.selectors)),l}hasTools(e){const n=this.tools;return null!=n&&(null==e||n.name===e)}addTools(e){if(this.removeTools(),e){if(!this.can("toolsAddable"))return this;const n=Fn.isToolsView(e)?e:new Fn(e);this.tools=n,n.config({view:this}),n.mount()}return this}updateTools(e={}){return this.tools&&this.tools.update(e),this}removeTools(){return this.tools&&(this.tools.remove(),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}notify(e,n){return this.trigger(e,n),this.graph.trigger(e,n),this}getEventArgs(e,n,i){const s=this,a=s.cell;return null==n||null==i?{e,view:s,cell:a}:{e,x:n,y:i,view:s,cell:a}}onClick(e,n,i){this.notify("cell:click",this.getEventArgs(e,n,i))}onDblClick(e,n,i){this.notify("cell:dblclick",this.getEventArgs(e,n,i))}onContextMenu(e,n,i){this.notify("cell:contextmenu",this.getEventArgs(e,n,i))}onMouseDown(e,n,i){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(e,n,i))}onMouseUp(e,n,i){this.notify("cell:mouseup",this.getEventArgs(e,n,i)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(e,n,i){this.notify("cell:mousemove",this.getEventArgs(e,n,i))}onMouseOver(e){this.notify("cell:mouseover",this.getEventArgs(e))}onMouseOut(e){this.notify("cell:mouseout",this.getEventArgs(e))}onMouseEnter(e){this.notify("cell:mouseenter",this.getEventArgs(e))}onMouseLeave(e){this.notify("cell:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,i,s){this.notify("cell:mousewheel",Object.assign({delta:s},this.getEventArgs(e,n,i)))}onCustomEvent(e,n,i,s){this.notify("cell:customevent",Object.assign({name:n},this.getEventArgs(e,i,s))),this.notify(n,Object.assign({},this.getEventArgs(e,i,s)))}onMagnetMouseDown(e,n,i,s){}onMagnetDblClick(e,n,i,s){}onMagnetContextMenu(e,n,i,s){}onLabelMouseDown(e,n,i){}checkMouseleave(e){const n=this.getEventTarget(e,{fromPoint:!0}),i=this.graph.findViewByElem(n);i!==this&&(this.onMouseLeave(e),i&&i.onMouseEnter(e))}dispose(){this.cell.off("changed",this.onCellChanged,this)}}An.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([An.dispose()],An.prototype,"dispose",null),function(o){o.Flag=Um,o.Attr=Hm}(An||(An={})),function(o){o.toStringTag=`X6.${o.name}`,o.isCellView=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNodeView&&"function"==typeof n.isEdgeView&&"function"==typeof n.confirmUpdate}}(An||(An={})),function(o){o.priority=function e(i){return function(s){s.config({priority:i})}},o.bootstrap=function n(i){return function(s){s.config({bootstrap:i})}}}(An||(An={})),function(o){o.registry=In.create({type:"view"})}(An||(An={}));class Fn extends bn{get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return Fn.toStringTag}constructor(e={}){super(),this.svgContainer=this.createContainer(!0,e),this.htmlContainer=this.createContainer(!1,e),this.config(e)}createContainer(e,n){const i=e?bn.createElement("g",!0):bn.createElement("div",!1);return dn(i,this.prefixClassName("cell-tools")),n.className&&dn(i,n.className),i}config(e){if(this.options=Object.assign(Object.assign({},this.options),e),!An.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(dn(this.svgContainer,this.prefixClassName("edge-tools")),dn(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(dn(this.svgContainer,this.prefixClassName("node-tools")),dn(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const n=this.options.items;if(!Array.isArray(n))return this;this.tools=[];const i=[];n.forEach(s=>{Fn.ToolItem.isToolItem(s)?"vertices"===s.name?i.unshift(s):i.push(s):"vertices"===("object"==typeof s?s.name:s)?i.unshift(s):i.push(s)});for(let s=0;s<i.length;s+=1){const a=i[s];let l;if(Fn.ToolItem.isToolItem(a))l=a;else{const c="object"==typeof a?a.name:a,u="object"==typeof a&&a.args||{};if(c)if(this.cell.isNode()){const g=er.registry.get(c);if(!g)return er.registry.onNotFound(c);l=new g(u)}else if(this.cell.isEdge()){const g=tr.registry.get(c);if(!g)return tr.registry.onNotFound(c);l=new g(u)}}l&&(l.config(this.cellView,this),l.render(),(!1!==l.options.isSVGElement?this.svgContainer:this.htmlContainer).appendChild(l.container),this.tools.push(l))}return this}update(e={}){const n=this.tools;return n&&n.forEach(i=>{e.toolId!==i.cid&&i.isVisible()&&i.update()}),this}focus(e){const n=this.tools;return n&&n.forEach(i=>{e===i?i.show():i.hide()}),this}blur(e){const n=this.tools;return n&&n.forEach(i=>{i!==e&&!i.isVisible()&&(i.show(),i.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const e=this.tools;return e&&(e.forEach(n=>n.remove()),this.tools=null),Ys(this.svgContainer),Ys(this.htmlContainer),super.remove()}mount(){const e=this.tools,n=this.cellView;if(n&&e){const i=e.some(a=>!1!==a.options.isSVGElement),s=e.some(a=>!1===a.options.isSVGElement);i&&(this.options.local?n.container:n.graph.view.decorator).appendChild(this.svgContainer),s&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(o){o.toStringTag=`X6.${o.name}`,o.isToolsView=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&null!=n.graph&&null!=n.cell&&"function"==typeof n.config&&"function"==typeof n.update&&"function"==typeof n.focus&&"function"==typeof n.blur&&"function"==typeof n.show&&"function"==typeof n.hide}})(Fn||(Fn={})),function(o){let e=(()=>{class n extends bn{static getDefaults(){return this.defaults}static config(s){this.defaults=this.getOptions(s)}static getOptions(s){return Mn(En(this.getDefaults()),s)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return n.toStringTag}constructor(s={}){super(),this.visible=!0,this.options=this.getOptions(s),this.container=bn.createElement(this.options.tagName||"g",!1!==this.options.isSVGElement),dn(this.container,this.prefixClassName("cell-tool")),"string"==typeof this.options.className&&dn(this.container,this.options.className),this.init()}init(){}getOptions(s){return this.constructor.getOptions(s)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(s,a){return this.cellView=s,this.parent=a,this.stamp(this.container),this.cell.isEdge()?dn(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&dn(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const s=this.options.markup;if(s){const a=Sn.parseJSONMarkup(s);this.container.appendChild(a.fragment),this.childNodes=a.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(s){s&&s.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const s=this.options.focusOpacity;return null!=s&&Number.isFinite(s)&&(this.container.style.opacity=`${s}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(s){return null==this.graph||null==this.cellView||this.graph.view.guard(s,this.cellView)}}return n.defaults={isSVGElement:!0,tagName:"g"},n})();var n;o.ToolItem=e,function(n){let i=0;n.define=function a(l){const c=Wl(function s(l){return l?ip(l):(i+=1,`CustomTool${i}`)}(l.name),this);return c.config(l),c}}(e=o.ToolItem||(o.ToolItem={})),(n=e=o.ToolItem||(o.ToolItem={})).toStringTag=`X6.${n.name}`,n.isToolItem=function i(s){if(null==s)return!1;if(s instanceof n)return!0;const a=s[Symbol.toStringTag];return(null==a||a===n.toStringTag)&&null!=s.graph&&null!=s.cell&&"function"==typeof s.config&&"function"==typeof s.update&&"function"==typeof s.focus&&"function"==typeof s.blur&&"function"==typeof s.show&&"function"==typeof s.hide&&"function"==typeof s.isVisible}}(Fn||(Fn={}));const W1=o=>o;function Xm(o,e){return 0===e?"0%":`${Math.round(o/e*100)}%`}function Wm(o){return(n,i,s,a)=>i.isEdgeElement(s)?function K1(o,e,n,i,s){const a=n.getConnection();if(!a)return e;const l=a.closestPointLength(s);if(o){const c=a.length();e.anchor={name:"ratio",args:{ratio:l/c}}}else e.anchor={name:"length",args:{length:l}};return e}(o,n,i,0,a):function Y1(o,e,n,i,s){const a=n.cell,l=a.getAngle(),c=n.getUnrotatedBBoxOfElement(i),u=a.getBBox().getCenter(),g=ve.create(s).rotate(l,u);let _=g.x-c.x,z=g.y-c.y;return o&&(_=Xm(_,c.width),z=Xm(z,c.height)),e.anchor={name:"topLeft",args:{dx:_,dy:z,rotate:!0}},e}(o,n,i,s,a)}const Q1=Wm(!0),Z1=Wm(!1);var $p;function Ym(o,e,n,i){return Ot($p.presets.pinRelative,this.graph,{},e,n,o,this.cell,i,{}).anchor}function Km(o,e){return e?o.cell.getBBox():o.cell.isEdge()?o.getConnection().bbox():o.getUnrotatedBBoxOfElement(o.container)}!function(o){o.presets=G,o.registry=In.create({type:"connection strategy"}),o.registry.register(o.presets,!0)}($p||($p={}));class Ss extends Fn.ToolItem{onRender(){dn(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const n=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();Zs(this.container,n,{absolute:!0})}getNodeMatrix(){const e=this.cellView,n=this.options;let{x:i=0,y:s=0}=n;const{offset:a,useCellGeometry:l,rotate:c}=n;let u=Km(e,l);const g=e.cell.getAngle();c||(u=u.bbox(g));let _=0,z=0;"number"==typeof a?(_=a,z=a):"object"==typeof a&&(_=a.x,z=a.y),i=ui(i,u.width),s=ui(s,u.height);let y=Vn().translate(u.x+u.width/2,u.y+u.height/2);return c&&(y=y.rotate(g)),y=y.translate(i+_-u.width/2,s+z-u.height/2),y}getEdgeMatrix(){const e=this.cellView,n=this.options,{offset:i=0,distance:s=0,rotate:a}=n;let l,c,u;const g=ui(s,1);l=g>=0&&g<=1?e.getTangentAtRatio(g):e.getTangentAtLength(g),l?(c=l.start,u=l.vector().vectorAngle(new ve(1,0))||0):(c=e.getConnection().start,u=0);let _=Vn().translate(c.x,c.y).rotate(u);return _="object"==typeof i?_.translate(i.x||0,i.y||0):_.translate(0,i),a||(_=_.rotate(-u)),_}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const n=this.options.onClick;"function"==typeof n&&Ot(n,this.cellView,{e,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(o){o.config({name:"button",useCellGeometry:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Ss||(Ss={})),function(o){o.Remove=o.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,useCellGeometry:!0,onClick({view:e,btn:n}){n.parent.remove(),e.cell.remove({ui:!0,toolId:n.cid})}})}(Ss||(Ss={}));class gc extends Fn.ToolItem{onRender(){if(dn(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const e=this.options.attrs,{class:n}=e,i=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(e,["class"]);mn(this.container,Lo(i)),n&&dn(this.container,n)}this.update()}update(){const e=this.cellView,n=this.options,{useCellGeometry:i,rotate:s}=n,a=ps(n.padding);let l=Km(e,i).moveAndExpand({x:-a.left,y:-a.top,width:a.left+a.right,height:a.top+a.bottom});const c=e.cell;if(c.isNode()){const u=c.getAngle();if(u)if(s){const g=c.getBBox().getCenter();ac(this.container,u,g.x,g.y,{absolute:!0})}else l=l.bbox(u)}return mn(this.container,l.toJSON()),this}}!function(o){o.config({name:"boundary",tagName:"rect",padding:10,useCellGeometry:!0,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})}(gc||(gc={}));class Ma extends Fn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(n=>{this.stopHandleListening(n),n.remove()})}renderHandles(){const e=this.vertices;for(let n=0,i=e.length;n<i;n+=1){const s=e[n],l=this.options.processHandle,c=(0,this.options.createHandle)({index:n,graph:this.graph,guard:u=>this.guard(u),attrs:this.options.attrs||{}});l&&l(c),c.updatePosition(s.x,s.y),this.stamp(c.container),this.container.appendChild(c.container),this.handles.push(c),this.startHandleListening(c)}}updateHandles(){const e=this.vertices;for(let n=0,i=e.length;n<i;n+=1){const s=e[n],a=this.handles[n];a&&a.updatePosition(s.x,s.y)}}updatePath(){const e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(e){const n=this.cellView;n.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),n.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}stopHandleListening(e){const n=this.cellView;n.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),n.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}getNeighborPoints(e){const n=this.cellView,i=this.vertices,a=e<i.length-1?i[e+1]:n.targetAnchor;return{prev:ve.create(e>0?i[e-1]:n.sourceAnchor),next:ve.create(a)}}getMouseEventArgs(e){const n=this.normalizeEvent(e),{x:i,y:s}=this.graph.snapToGrid(n.clientX,n.clientY);return{e:n,x:i,y:s}}onHandleChange({e}){this.focus();const n=this.cellView;if(n.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:i,x:s,y:a}=this.getMouseEventArgs(e);this.eventData(i,{start:{x:s,y:a}}),n.notifyMouseDown(i,s,a)}}onHandleChanging({handle:e,e:n}){const i=this.cellView,s=e.options.index,{e:a,x:l,y:c}=this.getMouseEventArgs(n),u={x:l,y:c};this.snapVertex(u,s),i.cell.setVertexAt(s,u,{ui:!0,toolId:this.cid}),e.updatePosition(u.x,u.y),this.options.stopPropagation||i.notifyMouseMove(a,l,c)}stopBatch(e){this.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),e&&this.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid})}onHandleChanged({e}){const n=this.options,i=this.cellView;if(n.addable&&this.updatePath(),!n.removeRedundancies)return void this.stopBatch(this.eventData(e).vertexAdded);i.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),this.stopBatch(this.eventData(e).vertexAdded);const{e:a,x:l,y:c}=this.getMouseEventArgs(e);if(!this.options.stopPropagation){i.notifyMouseUp(a,l,c);const{start:u}=this.eventData(a);if(u){const{x:g,y:_}=u;g===l&&_===c&&i.onClick(a,l,c)}}i.checkMouseleave(a),n.onChanged&&n.onChanged({edge:i.cell,edgeView:i})}snapVertex(e,n){const i=this.options.snapRadius||0;if(i>0){const s=this.getNeighborPoints(n),a=s.prev,l=s.next;Math.abs(e.x-a.x)<i?e.x=a.x:Math.abs(e.x-l.x)<i&&(e.x=l.x),Math.abs(e.y-a.y)<i?e.y=s.prev.y:Math.abs(e.y-l.y)<i&&(e.y=l.y)}}onHandleRemove({handle:e,e:n}){if(this.options.removable){const s=this.cellView;s.cell.removeVertexAt(e.options.index,{ui:!0}),this.options.addable&&this.updatePath(),s.checkMouseleave(this.normalizeEvent(n))}}allowAddVertex(e){const n=this.guard(e),i=this.options.addable&&this.cellView.can("vertexAddable"),s=!this.options.modifiers||qs.isMatch(e,this.options.modifiers);return!n&&i&&s}onPathMouseDown(e){const n=this.cellView;if(!this.allowAddVertex(e))return;e.stopPropagation(),e.preventDefault();const i=this.normalizeEvent(e),s=this.graph.snapToGrid(i.clientX,i.clientY).toJSON();n.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const a=n.getVertexIndex(s.x,s.y);this.snapVertex(s,a),n.cell.insertVertex(s,a,{ui:!0,toolId:this.cid}),this.render();const l=this.handles[a];this.eventData(i,{vertexAdded:!0}),l.onMouseDown(i)}onRemove(){this.resetHandles()}}(function(o){o.Handle=class e extends bn{get graph(){return this.options.graph}constructor(i){super(),this.options=i,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}render(){this.container=bn.createElement("circle",!0);const i=this.options.attrs;if("function"==typeof i){const s=o.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),i(this)))}else this.setAttrs(i);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(i,s){this.setAttrs({cx:i,cy:s})}onMouseDown(i){this.options.guard(i)||(i.stopPropagation(),i.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.data),this.emit("change",{e:i,handle:this}))}onMouseMove(i){this.emit("changing",{e:i,handle:this})}onMouseUp(i){this.emit("changed",{e:i,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(i){this.emit("remove",{e:i,handle:this})}}})(Ma||(Ma={})),function(o){const e=Xn.prefix("edge-tool-vertex-path");o.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:n=>new o.Handle(n),markup:[{tagName:"path",selector:"connection",className:e,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${e}`]:"onPathMouseDown",[`touchstart .${e}`]:"onPathMouseDown"}})}(Ma||(Ma={}));class Ea extends Fn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){dn(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const e=this.cellView,n=[...this.vertices];n.unshift(e.sourcePoint),n.push(e.targetPoint);for(let i=0,s=n.length;i<s-1;i+=1){const c=this.renderHandle(n[i],n[i+1],i);this.stamp(c.container),this.handles.push(c)}return this}renderHandle(e,n,i){const s=this.options.createHandle({index:i,graph:this.graph,guard:a=>this.guard(a),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(s),this.updateHandle(s,e,n),this.container.appendChild(s.container),this.startHandleListening(s),s}startHandleListening(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}stopHandleListening(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(n=>{this.stopHandleListening(n),n.remove()})}shiftHandleIndexes(e){const n=this.handles;for(let i=0,s=n.length;i<s;i+=1)n[i].options.index+=e}resetAnchor(e,n){const i=this.cellView.cell,s={ui:!0,toolId:this.cid};n?i.prop([e,"anchor"],n,s):i.removeProp([e,"anchor"],s)}snapHandle(e,n,i){const s=e.options.axis,a=e.options.index,u=this.cellView.cell.getVertices(),g=u[a-2]||i.sourceAnchor,_=u[a+1]||i.targetAnchor,z=this.options.snapRadius;return Math.abs(n[s]-g[s])<z?n[s]=g[s]:Math.abs(n[s]-_[s])<z&&(n[s]=_[s]),n}onHandleChanging({handle:e,e:n}){const i=this.graph,s=this.options,a=this.cellView,l=s.anchor,c=e.options.axis,u=e.options.index-1,g=this.getEventData(n),_=this.normalizeEvent(n),z=i.snapToGrid(_.clientX,_.clientY),y=this.snapHandle(e,z.clone(),g),x=En(this.vertices);let N=x[u],$=x[u+1];const U=a.sourceView,Q=a.sourceBBox;let le=!1,K=!1;if(N?0===u?Q.containsPoint(N)?(x.shift(),this.shiftHandleIndexes(-1),le=!0):(N[c]=y[c],K=!0):N[c]=y[c]:(N=a.sourceAnchor.toJSON(),N[c]=y[c],Q.containsPoint(N)?le=!0:(x.unshift(N),this.shiftHandleIndexes(1),K=!0)),"function"==typeof l&&U){if(le){const yt=g.sourceAnchor.clone();yt[c]=y[c];const zt=Ot(l,a,yt,U,a.sourceMagnet||U.container,"source",a,this);this.resetAnchor("source",zt)}K&&this.resetAnchor("source",g.sourceAnchorDef)}const Oe=a.targetView,Ie=a.targetBBox;let Qe=!1,gt=!1;if($?u===x.length-2?Ie.containsPoint($)?(x.pop(),Qe=!0):($[c]=y[c],gt=!0):$[c]=y[c]:($=a.targetAnchor.toJSON(),$[c]=y[c],Ie.containsPoint($)?Qe=!0:(x.push($),gt=!0)),"function"==typeof l&&Oe){if(Qe){const yt=g.targetAnchor.clone();yt[c]=y[c];const zt=Ot(l,a,yt,Oe,a.targetMagnet||Oe.container,"target",a,this);this.resetAnchor("target",zt)}gt&&this.resetAnchor("target",g.targetAnchorDef)}ve.equalPoints(x,this.vertices)||this.cellView.cell.setVertices(x,{ui:!0,toolId:this.cid}),this.updateHandle(e,N,$,0),s.stopPropagation||a.notifyMouseMove(_,z.x,z.y)}onHandleChange({handle:e,e:n}){const i=this.options,s=this.handles,a=this.cellView,l=e.options.index;if(Array.isArray(s)){for(let c=0,u=s.length;c<u;c+=1)c!==l&&s[c].hide();if(this.focus(),this.setEventData(n,{sourceAnchor:a.sourceAnchor.clone(),targetAnchor:a.targetAnchor.clone(),sourceAnchorDef:En(this.cell.prop(["source","anchor"])),targetAnchorDef:En(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!i.stopPropagation){const c=this.normalizeEvent(n),u=this.graph.snapToGrid(c.clientX,c.clientY);a.notifyMouseDown(c,u.x,u.y)}}}onHandleChanged({e}){const n=this.options,i=this.cellView;n.removeRedundancies&&i.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const s=this.normalizeEvent(e),a=this.graph.snapToGrid(s.clientX,s.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),n.stopPropagation||i.notifyMouseUp(s,a.x,a.y),i.checkMouseleave(s),n.onChanged&&n.onChanged({edge:i.cell,edgeView:i})}updateHandle(e,n,i,s=0){const a=this.options.precision||0,l=Math.abs(n.x-i.x)<a,c=Math.abs(n.y-i.y)<a;if(l||c){const u=new Mt(n,i);if(u.length()<this.options.threshold)e.hide();else{const _=u.getCenter(),z=l?"x":"y";_[z]+=s||0;const y=u.vector().vectorAngle(new ve(1,0));e.updatePosition(_.x,_.y,y,this.cellView),e.show(),e.options.axis=z}}else e.hide()}onRemove(){this.resetHandles()}}(function(o){o.Handle=class e extends bn{constructor(i){super(),this.options=i,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=bn.createElement("rect",!0);const i=this.options.attrs;if("function"==typeof i){const s=o.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),i(this)))}else this.setAttrs(i);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(i,s,a,l){const c=l.getClosestPoint(new ve(i,s))||new ve(i,s);let u=Vn().translate(c.x,c.y);if(c.equals({x:i,y:s}))u=u.rotate(a);else{let _=new Mt(i,s,c.x,c.y).vector().vectorAngle(new ve(1,0));0!==_&&(_+=90),u=u.rotate(_)}this.setAttrs({transform:Qs(u),cursor:a%180==0?"row-resize":"col-resize"})}onMouseDown(i){this.options.guard(i)||(this.trigger("change",{e:i,handle:this}),i.stopPropagation(),i.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.data))}onMouseMove(i){this.emit("changing",{e:i,handle:this})}onMouseUp(i){this.emit("changed",{e:i,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}})(Ea||(Ea={})),function(o){o.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:e=>new o.Handle(e),anchor:Ym})}(Ea||(Ea={}));class mc extends Fn.ToolItem{get type(){return this.options.type}onRender(){dn(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){return this.cellView.getTerminalView(this.type)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const e=this.childNodes;if(!e)return;const n=e.anchor;if(!n)return;const i=this.type,s=this.cellView,a=this.options,l=s.getTerminalAnchor(i),c=s.cell.prop([i,"anchor"]);n.setAttribute("transform",`translate(${l.x}, ${l.y})`);const u=c?a.customAnchorAttrs:a.defaultAnchorAttrs;u&&Object.keys(u).forEach(g=>{n.setAttribute(g,u[g])})}updateArea(){const e=this.childNodes;if(!e)return;const n=e.area;if(!n)return;const i=this.type,s=this.cellView,a=s.getTerminalView(i);if(a){const l=a.cell,c=s.getTerminalMagnet(i);let g,_,z,u=this.options.areaPadding||0;Number.isFinite(u)||(u=0),a.isEdgeElement(c)?(g=a.getBBox(),_=0,z=g.getCenter()):(g=a.getUnrotatedBBoxOfElement(c),_=l.getAngle(),z=g.getCenter(),_&&z.rotate(-_,l.getBBox().getCenter())),g.inflate(u),mn(n,{x:-g.width/2,y:-g.height/2,width:g.width,height:g.height,transform:`translate(${z.x}, ${z.y}) rotate(${_})`})}}toggleArea(e){if(this.childNodes){const n=this.childNodes.area;n&&(n.style.display=e?"":"none")}}onMouseDown(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(e){const n=this.type,i=this.cell;e?i.prop([n,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):i.removeProp([n,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(e){const n=this.type,i=this.cellView,s=i.getTerminalView(n);if(null==s)return;const a=this.normalizeEvent(e),l=s.cell,c=i.getTerminalMagnet(n);let u=this.graph.coord.clientToLocalPoint(a.clientX,a.clientY);const g=this.options.snap;if("function"==typeof g){const y=Ot(g,i,u,s,c,n,i,this);u=ve.create(y)}if(this.options.restrictArea)if(s.isEdgeElement(c)){const y=s.getClosestPoint(u);y&&(u=y)}else{const y=s.getUnrotatedBBoxOfElement(c),x=l.getAngle(),N=l.getBBox().getCenter(),$=u.clone().rotate(x,N);y.containsPoint($)||(u=y.getNearestPointToPoint($).rotate(-x,N))}let _;const z=this.options.anchor;"function"==typeof z&&(_=Ot(z,i,u,s,c,n,i,this)),this.resetAnchor(_),this.update()}onMouseUp(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1),this.options.removeRedundancies&&this.cellView.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const e=this.options.resetAnchor;e&&this.resetAnchor(!0===e?void 0:e),this.update()}}!function(o){o.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:Ym,snap(e,n,i,s,a,l){const c=l.options.snapRadius||0,u="source"===s,_=this.cell.getVertexAt(u?0:-1)||this.getTerminalAnchor(u?"target":"source");return _&&(Math.abs(_.x-e.x)<c&&(e.x=_.x),Math.abs(_.y-e.y)<c&&(e.y=_.y)),e}})}(mc||(mc={}));const q1=mc.define({name:"source-anchor",type:"source"}),eS=mc.define({name:"target-anchor",type:"target"});class _c extends Fn.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const e=this.options.attrs,{class:n}=e,i=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(e,["class"]);this.setAttrs(i,this.container),n&&dn(this.container,n)}}onRender(){dn(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const e=this.ratio,n=this.cellView,i=n.getTangentAtRatio(e),s=i?i.start:n.getPointAtRatio(e),a=i&&i.vector().vectorAngle(new ve(1,0))||0;if(!s)return this;const l=Vn().translate(s.x,s.y).rotate(a);return Zs(this.container,l,{absolute:!0}),this}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const n=this.cellView;if(n.can("arrowheadMovable")){n.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const i=this.graph.snapToGrid(e.clientX,e.clientY),s=n.prepareArrowheadDragging(this.type,{x:i.x,y:i.y,options:Object.assign(Object.assign({},this.options),{toolId:this.cid})});this.cellView.setEventData(e,s),this.delegateDocumentEvents(this.options.documentEvents,e.data),n.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(e){const n=this.normalizeEvent(e),i=this.graph.snapToGrid(n.clientX,n.clientY);this.cellView.onMouseMove(n,i.x,i.y),this.update()}onMouseUp(e){this.undelegateDocumentEvents();const n=this.normalizeEvent(e),i=this.cellView,s=this.graph.snapToGrid(n.clientX,n.clientY);i.onMouseUp(n,s.x,s.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",i.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}!function(o){o.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})}(_c||(_c={}));const nS=_c.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),iS=_c.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class qo extends Fn.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5,this.dblClick=this.onCellDblClick.bind(this)}onRender(){const e=this.cellView;e&&e.on("cell:dblclick",this.dblClick)}createElement(){const e=[this.prefixClassName((this.cell.isEdge()?"edge":"node")+"-tool-editor"),this.prefixClassName("cell-tool-editor")];this.editor=Fn.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}removeElement(){this.undelegateDocumentEvents(),this.editor&&(this.container.removeChild(this.editor),this.editor=null)}updateEditor(){const{cell:e,editor:n}=this;if(!n)return;const{style:i}=n;e.isNode()?this.updateNodeEditorTransform():e.isEdge()&&this.updateEdgeEditorTransform();const{attrs:s}=this.options;i.fontSize=`${s.fontSize}px`,i.fontFamily=s.fontFamily,i.color=s.color,i.backgroundColor=s.backgroundColor;const a=this.getCellText()||"";return n.innerText=a,this.setCellText(""),this}updateNodeEditorTransform(){const{graph:e,cell:n,editor:i}=this;if(!i)return;let s=ve.create(),a=20,l="",{x:c,y:u}=this.options;const{width:g,height:_}=this.options;if(typeof c<"u"&&typeof u<"u"){const x=n.getBBox();c=ui(c,x.width),u=ui(u,x.height),s=x.topLeft.translate(c,u),a=x.width-2*c}else{const x=n.getBBox();s=x.center,a=x.width-4,l="translate(-50%, -50%)"}const z=e.scale(),{style:y}=i;s=e.localToGraph(s),y.left=`${s.x}px`,y.top=`${s.y}px`,y.transform=`scale(${z.sx}, ${z.sy}) ${l}`,y.minWidth=`${a}px`,"number"==typeof g&&(y.width=`${g}px`),"number"==typeof _&&(y.height=`${_}px`)}updateEdgeEditorTransform(){if(!this.event)return;const{graph:e,editor:n}=this;if(!n)return;let i=ve.create(),s=20;const{style:a}=n,l=this.event.target,c=l.parentElement;if(c&&Ws(c,this.prefixClassName("edge-label"))){const _=c.getAttribute("data-index")||"0";this.labelIndex=parseInt(_,10);const z=c.getAttribute("transform"),{translation:y}=za(z);i=new ve(y.tx,y.ty),s=gn.getBBox(l).width}else{if(!this.options.labelAddable)return this;i=e.clientToLocal(ve.create(this.event.clientX,this.event.clientY));const z=this.cellView.path.closestPointLength(i);this.distance=z,this.labelIndex=-1}i=e.localToGraph(i);const g=e.scale();a.left=`${i.x}px`,a.top=`${i.y}px`,a.minWidth=`${s}px`,a.transform=`scale(${g.sx}, ${g.sy}) translate(-50%, -50%)`}onDocumentMouseUp(e){if(this.editor&&e.target!==this.editor){const n=this.editor.innerText.replace(/\n$/,"")||"";this.setCellText(""!==n?n:null),this.removeElement()}}onCellDblClick({e}){this.editor||(e.stopPropagation(),this.removeElement(),this.event=e,this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents))}onMouseDown(e){e.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor&&(this.editor.focus(),this.selectText())})}selectText(){if(window.getSelection&&this.editor){const e=document.createRange(),n=window.getSelection();e.selectNodeContents(this.editor),n.removeAllRanges(),n.addRange(e)}}getCellText(){const{getText:e}=this.options;if("function"==typeof e)return Ot(e,this.cellView,{cell:this.cell,index:this.labelIndex});if("string"==typeof e){if(this.cell.isNode())return this.cell.attr(e);if(this.cell.isEdge()&&-1!==this.labelIndex)return this.cell.prop(`labels/${this.labelIndex}/attrs/${e}`)}}setCellText(e){const n=this.options.setText;if("function"!=typeof n){if("string"==typeof n){if(this.cell.isNode())return void(null!==e&&this.cell.attr(n,e));if(this.cell.isEdge()){const i=this.cell;if(-1===this.labelIndex){if(e){const s={position:{distance:this.distance},attrs:{}};Hs(s,`attrs/${n}`,e),i.appendLabel(s)}}else null!==e?i.prop(`labels/${this.labelIndex}/attrs/${n}`,e):"number"==typeof this.labelIndex&&i.removeLabelAt(this.labelIndex)}}}else Ot(n,this.cellView,{cell:this.cell,value:e,index:this.labelIndex,distance:this.distance})}onRemove(){const e=this.cellView;e&&e.off("cell:dblclick",this.dblClick),this.removeElement()}}(function(o){o.config({tagName:"div",isSVGElement:!1,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mouseup:"onDocumentMouseUp",touchend:"onDocumentMouseUp",touchcancel:"onDocumentMouseUp"}})})(qo||(qo={})),function(o){o.NodeEditor=o.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText:"text/text",setText:"text/text"}),o.EdgeEditor=o.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText:"label/text",setText:"label/text"})}(qo||(qo={}));var er,tr,Qm=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};!function(o){o.presets={boundary:gc,button:Ss,"button-remove":Ss.Remove,"node-editor":qo.NodeEditor},o.registry=In.create({type:"node tool",process(e,n){if("function"==typeof n)return n;let i=Fn.ToolItem;const{inherit:s}=n,a=Qm(n,["inherit"]);if(s){const l=this.get(s);null==l?this.onNotFound(s,"inherited"):i=l}return null==a.name&&(a.name=e),i.define.call(i,a)}}),o.registry.register(o.presets,!0)}(er||(er={})),function(o){o.presets={boundary:gc,vertices:Ma,segments:Ea,button:Ss,"button-remove":Ss.Remove,"source-anchor":q1,"target-anchor":eS,"source-arrowhead":nS,"target-arrowhead":iS,"edge-editor":qo.EdgeEditor},o.registry=In.create({type:"edge tool",process(e,n){if("function"==typeof n)return n;let i=Fn.ToolItem;const{inherit:s}=n,a=Qm(n,["inherit"]);if(s){const l=this.get(s);null==l?this.onNotFound(s,"inherited"):i=l}return null==a.name&&(a.name=e),i.define.call(i,a)}}),o.registry.register(o.presets,!0)}(tr||(tr={}));const sS=Ui("center"),oS=Ui("topCenter"),rS=Ui("bottomCenter"),aS=Ui("leftMiddle"),lS=Ui("rightMiddle"),cS=Ui("topLeft"),hS=Ui("topRight"),dS=Ui("bottomLeft"),uS=Ui("bottomRight");function Ui(o){return function(e,n,i,s={}){const a=s.rotate?e.getUnrotatedBBoxOfElement(n):e.getBBoxOfElement(n),l=a[o];l.x+=ui(s.dx,a.width),l.y+=ui(s.dy,a.height);const c=e.cell;return s.rotate?l.rotate(-c.getAngle(),c.getBBox().getCenter()):l}}function vc(o){return function(e,n,i,s){if(i instanceof Element){const a=this.graph.findViewByElem(i);let l;return l=a?a.isEdgeElement(i)?Zm(a,null!=s.fixedAt?s.fixedAt:"50%"):a.getBBoxOfElement(i).getCenter():new ve,o.call(this,e,n,l,s)}return o.apply(this,arguments)}}function Zm(o,e){const n=Pi(e),i="string"==typeof e?parseFloat(e):e;return n?o.getPointAtRatio(i/100):o.getPointAtLength(i)}const pS=vc(function(o,e,n,i){const s=_n.normalize(o.cell.getAngle()),a=o.getBBoxOfElement(e),l=a.getCenter(),c=a.getTopLeft(),u=a.getBottomRight();let g=i.padding;if(Number.isFinite(g)||(g=0),c.y+g<=n.y&&n.y<=u.y-g){const _=n.y-l.y;l.x+=0===s||180===s?0:1*_/Math.tan(_n.toRad(s)),l.y+=_}else if(c.x+g<=n.x&&n.x<=u.x-g){const _=n.x-l.x;l.y+=90===s||270===s?0:_*Math.tan(_n.toRad(s)),l.x+=_}return l}),fS=function(o,e,n,i,s){const a=o.cell.getConnectionPoint(this.cell,s);return(i.dx||i.dy)&&a.translate(i.dx||0,i.dy||0),a},gS=vc(function(o,e,n,i){let s,l,a=0;const c=o.cell;i.rotate?(s=o.getUnrotatedBBoxOfElement(e),l=c.getBBox().getCenter(),a=c.getAngle()):s=o.getBBoxOfElement(e);const u=i.padding;null!=u&&Number.isFinite(u)&&s.inflate(u),i.rotate&&n.rotate(a,l);const g=s.getNearestSideToPoint(n);let _;switch(g){case"left":_=s.getLeftMiddle();break;case"right":_=s.getRightMiddle();break;case"top":_=s.getTopCenter();break;case"bottom":_=s.getBottomCenter()}const z=i.direction;return"H"===z?("top"===g||"bottom"===g)&&(_=n.x<=s.x+s.width?s.getLeftMiddle():s.getRightMiddle()):"V"===z&&(_=n.y<=s.y+s.height?s.getTopCenter():s.getBottomCenter()),i.rotate?_.rotate(-a,l):_});var nr;!function(o){o.presets=ge,o.registry=In.create({type:"node endpoint"}),o.registry.register(o.presets,!0)}(nr||(nr={}));const mS=function(o,e,n,i){let s=null!=i.ratio?i.ratio:.5;return s>1&&(s/=100),o.getPointAtRatio(s)},_S=function(o,e,n,i){return o.getPointAtLength(null!=i.length?i.length:20)},Jm=function(o,e,n,i){return o.getClosestPoint(n)??new ve},vS=vc(Jm),CS=vc(function(o,e,n,i){const a=o.getConnection(),l=o.getConnectionSubdivisions(),c=new Mt(n.clone().translate(0,1e6),n.clone().translate(0,-1e6)),u=new Mt(n.clone().translate(1e6,0),n.clone().translate(-1e6,0)),g=c.intersect(a,{segmentSubdivisions:l}),_=u.intersect(a,{segmentSubdivisions:l}),z=[];return g&&z.push(...g),_&&z.push(..._),z.length>0?n.closest(z):null!=i.fallbackAt?Zm(o,i.fallbackAt):Ot(Jm,this,o,e,n,i)});var ir;function Cc(o,e,n){let i;if("object"==typeof n){if(Number.isFinite(n.y)){const a=new Mt(e,o),{start:l,end:c}=a.parallel(n.y);e=l,o=c}i=n.x}else i=n;if(null==i||!Number.isFinite(i))return o;const s=o.distance(e);return 0===i&&s>0?o:o.move(e,-Math.min(i,s-1))}function yc(o){const e=o.getAttribute("stroke-width");return null===e?0:parseFloat(e)||0}!function(o){o.presets=Ce,o.registry=In.create({type:"edge endpoint"}),o.registry.register(o.presets,!0)}(ir||(ir={}));const qm=function(o,e,n,i){const s=e.getBBoxOfElement(n);i.stroked&&s.inflate(yc(n)/2);const a=o.intersect(s);return Cc(a&&a.length?o.start.closest(a):o.end,o.start,i.offset)},zS=function(o,e,n,i,s){const a=e.cell,l=a.isNode()?a.getAngle():0;if(0===l)return Ot(qm,this,o,e,n,i,s);const c=e.getUnrotatedBBoxOfElement(n);i.stroked&&c.inflate(yc(n)/2);const u=c.getCenter(),g=o.clone().rotate(l,u),_=g.setLength(1e6).intersect(c);return Cc(_&&_.length?g.start.closest(_).rotate(-l,u):o.end,o.start,i.offset)},bS=function(o,e,n,i){let s,a;const l=o.end,c=i.selector;if(s="string"==typeof c?e.findOne(c):Array.isArray(c)?Yl(n,c):function yS(o){if(null==o)return null;let e=o;do{let n=e.tagName;if("string"!=typeof n)return null;if(n=n.toUpperCase(),"G"===n)e=e.firstElementChild;else{if("TITLE"!==n)break;e=e.nextElementSibling}}while(e);return e}(n),!ji(s)){if(s===n||!ji(n))return l;s=n}const u=e.getShapeOfElement(s),g=e.getMatrixOfElement(s),_=e.getRootTranslatedMatrix(),z=e.getRootRotatedMatrix(),y=_.multiply(z).multiply(g),x=y.inverse(),N=gn.transformLine(o,x),$=N.start.clone(),U=e.getDataOfElement(s);if(!1===i.insideout){null==U.shapeBBox&&(U.shapeBBox=u.bbox());const Oe=U.shapeBBox;if(null!=Oe&&Oe.containsPoint($))return l}let Q;if(!0===i.extrapolate&&N.setLength(1e6),$t.isPath(u)){const Oe=i.precision||2;null==U.segmentSubdivisions&&(U.segmentSubdivisions=u.getSegmentSubdivisions({precision:Oe})),Q={precision:Oe,segmentSubdivisions:U.segmentSubdivisions},a=N.intersect(u,Q)}else a=N.intersect(u);a?Array.isArray(a)&&(a=$.closest(a)):!0===i.sticky&&(a=St.isRectangle(u)?u.getNearestPointToPoint($):bi.isEllipse(u)?u.intersectsWithLineFromCenterToPoint($):u.closestPoint($,Q));const le=a?gn.transformPoint(a,y):l;let K=i.offset||0;return!1!==i.stroked&&("object"==typeof K?(K=Object.assign({},K),null==K.x&&(K.x=0),K.x+=yc(s)/2):K+=yc(s)/2),Cc(le,o.start,K)},TS=function(o,e,n,i){const{alignOffset:s,align:a}=i;return a&&function SS(o,e,n=0){const{start:i,end:s}=o;let a,l,c,u;switch(e){case"left":u="x",a=s,l=i,c=-1;break;case"right":u="x",a=i,l=s,c=1;break;case"top":u="y",a=s,l=i,c=-1;break;case"bottom":u="y",a=i,l=s,c=1;break;default:return}i[u]<s[u]?a[u]=l[u]:l[u]=a[u],Number.isFinite(n)&&(a[u]+=c*n,l[u]+=c*n)}(o,a,s),Cc(o.end,o.start,i.offset)};var sr;!function(o){o.presets=De,o.registry=In.create({type:"connection point"}),o.registry.register(o.presets,!0)}(sr||(sr={}));const xS=function(o){return[...o]},OS=function(o,e,n){const i=e.side||"bottom",s=ps(e.padding||40),a=n.sourceBBox,l=n.targetBBox,c=a.getCenter(),u=l.getCenter();let g,_,z;switch(i){case"top":z=-1,g="y",_="height";break;case"left":z=-1,g="x",_="width";break;case"right":z=1,g="x",_="width";break;default:z=1,g="y",_="height"}return c[g]+=z*(a[_]/2+s[i]),u[g]+=z*(l[_]/2+s[i]),z*(c[g]-u[g])>0?u[g]=c[g]:c[g]=u[g],[c.toJSON(),...o,u.toJSON()]};function zc(o){return new St(o.x,o.y,0,0)}function bc(o={}){const e=ps(o.padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function e_(o,e={}){return o.sourceBBox.clone().moveAndExpand(bc(e))}function t_(o,e={}){return o.targetBBox.clone().moveAndExpand(bc(e))}const n_=function(o,e,n){let i=e_(n,e),s=t_(n,e);const a=function DS(o,e={}){return o.sourceAnchor?o.sourceAnchor:e_(o,e).getCenter()}(n,e),l=function wS(o,e={}){return o.targetAnchor?o.targetAnchor:t_(o,e).getCenter()}(n,e);i=i.union(zc(a)),s=s.union(zc(l));const c=o.map(_=>ve.create(_));c.unshift(a),c.push(l);let u=null;const g=[];for(let _=0,z=c.length-1;_<z;_+=1){let y=null;const x=c[_],N=c[_+1],$=null!=gi.getBearing(x,N);if(0===_)_+1===z?i.intersectsWithRect(s.clone().inflate(1))?y=gi.insideNode(x,N,i,s):$||(y=gi.nodeToNode(x,N,i,s)):i.containsPoint(N)?y=gi.insideNode(x,N,i,zc(N).moveAndExpand(bc(e))):$||(y=gi.nodeToVertex(x,N,i));else if(_+1===z){const U=$&&gi.getBearing(N,x)===u;s.containsPoint(x)||U?y=gi.insideNode(x,N,zc(x).moveAndExpand(bc(e)),s,u):$||(y=gi.vertexToNode(x,N,s,u))}else $||(y=gi.vertexToVertex(x,N,u));y?(g.push(...y.points),u=y.direction):u=gi.getBearing(x,N),_+1<z&&g.push(N)}return g};var gi;!function(o){const e={N:"S",S:"N",E:"W",W:"E"},n={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function i(z,y,x){let N=new ve(z.x,y.y);return x.containsPoint(N)&&(N=new ve(y.x,z.y)),N}function s(z,y){return z["W"===y||"E"===y?"width":"height"]}function a(z,y){return z.x===y.x?z.y>y.y?"N":"S":z.y===y.y?z.x>y.x?"W":"E":null}function l(z,y,x){const N=new ve(z.x,y.y),$=new ve(y.x,z.y),U=a(z,N),Q=a(z,$),le=x?e[x]:null,K=U===x||U!==le&&(Q===le||Q!==x)?N:$;return{points:[K],direction:a(K,y)}}function c(z,y,x){const N=i(z,y,x);return{points:[N],direction:a(N,y)}}o.getBBoxSize=s,o.getBearing=a,o.vertexToVertex=l,o.nodeToVertex=c,o.vertexToNode=function u(z,y,x,N){const $=[new ve(z.x,y.y),new ve(y.x,z.y)],U=$.filter(K=>!x.containsPoint(K)),Q=U.filter(K=>a(K,z)!==N);let le;if(Q.length>0)return le=Q.filter(K=>a(z,K)===N).pop(),le=le||Q[0],{points:[le],direction:a(le,y)};{le=Vf($,U)[0];const K=ve.create(y).move(le,-s(x,N)/2);return{points:[i(K,z,x),K],direction:a(K,y)}}},o.nodeToNode=function g(z,y,x,N){let $=c(y,z,N);const U=$.points[0];if(x.containsPoint(U)){$=c(z,y,x);const Q=$.points[0];if(N.containsPoint(Q)){const le=ve.create(z).move(Q,-s(x,a(z,Q))/2),K=ve.create(y).move(U,-s(N,a(y,U))/2),Oe=new Mt(le,K).getCenter(),Ie=c(z,Oe,x),Qe=l(Oe,y,Ie.direction);$.points=[Ie.points[0],Qe.points[0]],$.direction=Qe.direction}}return $},o.insideNode=function _(z,y,x,N,$){const U=x.union(N).inflate(1),Q=U.getCenter(),le=Q.distance(y)>Q.distance(z),K=le?y:z,Oe=le?z:y;let Ie,Qe,gt,yt;return $?(Ie=ve.fromPolar(U.width+U.height,n[$],K),Ie=U.getNearestPointToPoint(Ie).move(Ie,-1)):Ie=U.getNearestPointToPoint(K).move(K,1),Qe=i(Ie,Oe,U),Ie.round().equals(Qe.round())?(Qe=ve.fromPolar(U.width+U.height,_n.toRad(Ie.theta(K))+Math.PI/2,Oe),Qe=U.getNearestPointToPoint(Qe).move(Oe,1).round(),gt=i(Ie,Qe,U),yt=le?[Qe,gt,Ie]:[Ie,gt,Qe]):yt=le?[Qe,Ie]:[Ie,Qe],{points:yt,direction:a(le?Ie:Qe,y)}}}(gi||(gi={}));const MS={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeNodes:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return Ts(this.step,this)},directions(){const o=Ts(this.step,this),e=Ts(this.cost,this);return[{cost:e,offsetX:o,offsetY:0},{cost:e,offsetX:-o,offsetY:0},{cost:e,offsetX:0,offsetY:o},{cost:e,offsetX:0,offsetY:-o}]},penalties(){const o=Ts(this.step,this);return{0:0,45:o/2,90:o/2}},paddingBox(){const o=Ts(this.step,this);return{x:-o,y:-o,width:2*o,height:2*o}},fallbackRouter:n_,draggingRouter:null,snapToGrid:!0};function Ts(o,e){return"function"==typeof o?o.call(e):o}class PS{constructor(){this.items=[],this.hash={},this.values={}}add(e,n){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=1,this.values[e]=n;const i=Ff(this.items,e,s=>this.values[s]);this.items.splice(i,0,e)}pop(){const e=this.items.shift();return e&&(this.hash[e]=2),e}isOpen(e){return 1===this.hash[e]}isClose(e){return 2===this.hash[e]}isEmpty(){return 0===this.items.length}}class kS{constructor(e){this.options=e,this.mapGridSize=100,this.map={}}build(e,n){const i=this.options,s=i.excludeTerminals.reduce((g,_)=>{const z=n[_];if(z){const y=e.getCell(z.cell);y&&g.push(y)}return g},[]);let a=[];const l=e.getCell(n.getSourceCellId());l&&(a=Zu(a,l.getAncestors().map(g=>g.id)));const c=e.getCell(n.getTargetCellId());c&&(a=Zu(a,c.getAncestors().map(g=>g.id)));const u=this.mapGridSize;return e.getNodes().reduce((g,_)=>{const z=s.some(U=>U.id===_.id),y=!!_.shape&&i.excludeShapes.includes(_.shape),x=i.excludeNodes.some(U=>"string"==typeof U?_.id===U:U===_),N=a.includes(_.id),$=y||z||x||N;if(_.isVisible()&&!$){const U=_.getBBox().moveAndExpand(i.paddingBox),Q=U.getOrigin().snapToGrid(u),le=U.getCorner().snapToGrid(u);for(let K=Q.x;K<=le.x;K+=u)for(let Oe=Q.y;Oe<=le.y;Oe+=u){const Ie=new ve(K,Oe).toString();null==g[Ie]&&(g[Ie]=[]),g[Ie].push(U)}}return g},this.map),this}isAccessible(e){const n=e.clone().snapToGrid(this.mapGridSize).toString(),i=this.map[n];return!i||i.every(s=>!s.containsPoint(e))}}function o_(o,e){const n=o.sourceBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function r_(o,e){const n=o.targetBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function a_(o,e){return o.sourceAnchor?o.sourceAnchor:o_(o,e).getCenter()}function jp(o,e,n,i,s){const a=360/n,l=o.theta(function IS(o,e,n,i){const s=i.step;return new ve(o.x+(e.x-o.x)/n.x*s,o.y+(e.y-o.y)/n.y*s)}(o,e,i,s)),c=_n.normalize(l+a/2);return a*Math.floor(c/a)}function l_(o,e){const n=Math.abs(o-e);return n>180?360-n:n}function c_(o,e){if(!o)return e;const n=Math.abs(o),i=Math.round(n/e);return i?e+(n-i*e)/i:n}function Pa(o,e){return o.round(e)}function Sc(o,e,n){return Pa(function FS(o,e){const n=e.source,i=vn.snapToGrid(o.x-n.x,e.x)+n.x,s=vn.snapToGrid(o.y-n.y,e.y)+n.y;return new ve(i,s)}(o.clone(),e),n)}function ka(o){return o.toString()}function Gp(o){return new ve(0===o.x?0:Math.abs(o.x)/o.x,0===o.y?0:Math.abs(o.y)/o.y)}function h_(o,e){let n=1/0;for(let i=0,s=e.length;i<s;i+=1){const a=o.manhattanDistance(e[i]);a<n&&(n=a)}return n}function d_(o,e,n,i,s){const a=s.precision,l=s.directionMap,c=o.diff(e.getCenter()),u=Object.keys(l).reduce((g,_)=>{if(n.includes(_)){const z=l[_],y=new ve(o.x+z.x*(Math.abs(c.x)+e.width),o.y+z.y*(Math.abs(c.y)+e.height)),N=new Mt(o,y).intersect(e)||[];let $,U=null;for(let Q=0;Q<N.length;Q+=1){const le=N[Q],K=o.squaredDistance(le);(null==$||K>$)&&($=K,U=le)}if(U){let Q=Sc(U,i,a);e.containsPoint(Q)&&(Q=Sc(Q.translate(z.x*i.x,z.y*i.y),i,a)),g.push(Q)}}return g},[]);return e.containsPoint(o)||u.push(Sc(o,i,a)),u}function BS(o,e,n,i,s){const a=[];let g,l=Gp(s.diff(n)),c=ka(n),u=o[c];for(;u;){g=e[c];const y=Gp(g.diff(u));y.equals(l)||(a.unshift(g),l=y),c=ka(u),u=o[c]}const _=e[c];return Gp(_.diff(i)).equals(l)||a.unshift(_),a}function LS(o,e,n,i,s){const a=s.precision;let l,c;l=St.isRectangle(e)?Pa(a_(o,s).clone(),a):Pa(e.clone(),a),c=St.isRectangle(n)?Pa(function NS(o,e){return o.targetAnchor?o.targetAnchor:r_(o,e).getCenter()}(o,s).clone(),a):Pa(n.clone(),a);const u=function RS(o,e,n){return{source:e.clone(),x:c_(n.x-e.x,o),y:c_(n.y-e.y,o)}}(s.step,l,c),g=l,_=c;let z,y;if(z=St.isRectangle(e)?d_(g,e,s.startDirections,u,s):[g],y=St.isRectangle(n)?d_(c,n,s.endDirections,u,s):[_],z=z.filter(x=>i.isAccessible(x)),y=y.filter(x=>i.isAccessible(x)),z.length>0&&y.length>0){const x=new PS,N={},$={},U={};for(let Pt=0,Tt=z.length;Pt<Tt;Pt+=1){const Rt=z[Pt],Tn=ka(Rt);x.add(Tn,h_(Rt,y)),N[Tn]=Rt,U[Tn]=0}const Q=s.previousDirectionAngle,le=void 0===Q;let K,Oe;const Ie=function AS(o,e){const n=e.step;return e.directions.forEach(i=>{i.gridOffsetX=i.offsetX/n*o.x,i.gridOffsetY=i.offsetY/n*o.y}),e.directions}(u,s),Qe=Ie.length,gt=y.reduce((Pt,Tt)=>{const Rt=ka(Tt);return Pt.push(Rt),Pt},[]),yt=ve.equalPoints(z,y);let zt=s.maxLoopCount;for(;!x.isEmpty()&&zt>0;){const Pt=x.pop(),Tt=N[Pt],Rt=$[Pt],Tn=U[Pt],cn=Tt.equals(g),it=null==Rt;let _t;if(_t=it?le?cn?null:jp(g,Tt,Qe,u,s):Q:jp(Rt,Tt,Qe,u,s),(!it||!yt)&&gt.indexOf(Pt)>=0)return s.previousDirectionAngle=_t,BS($,N,Tt,g,_);for(let On=0;On<Qe;On+=1){K=Ie[On];const Dn=K.angle;if(Oe=l_(_t,Dn),(!le||!cn)&&Oe>s.maxDirectionChange)continue;const Gn=Sc(Tt.clone().translate(K.gridOffsetX||0,K.gridOffsetY||0),u,a),qn=ka(Gn);if(x.isClose(qn)||!i.isAccessible(Gn))continue;if(gt.indexOf(qn)>=0&&!Gn.equals(_)&&l_(Dn,jp(Gn,_,Qe,u,s))>s.maxDirectionChange)continue;const ws=Tn+K.cost+(cn?0:s.penalties[Oe]);(!x.isOpen(qn)||ws<U[qn])&&(N[qn]=Gn,$[qn]=Tt,U[qn]=ws,x.add(qn,ws+h_(Gn,y)))}zt-=1}}return s.fallbackRoute?Ot(s.fallbackRoute,this,g,_,s):null}const $S=function(o,e,n){const i=function ES(o){const e=Object.keys(o).reduce((n,i)=>(n[i]="fallbackRouter"===i||"draggingRouter"===i||"fallbackRoute"===i?o[i]:Ts(o[i],o),n),{});if(e.padding){const n=ps(e.padding);e.paddingBox={x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom}}return e.directions.forEach(n=>{const i=new ve(0,0),s=new ve(n.offsetX,n.offsetY);n.angle=_n.normalize(i.theta(s))}),e}(e),s=o_(n,i),a=r_(n,i),l=a_(n,i),c=new kS(i).build(n.graph.model,n.cell),u=o.map(x=>ve.create(x)),g=[];let z,y,_=l;for(let x=0,N=u.length;x<=N;x+=1){let $=null;if(z=y||s,y=u[x],null==y){y=a;const Q=n.cell;if((null==Q.getSourceCellId()||null==Q.getTargetCellId())&&"function"==typeof i.draggingRouter){const K=z===s?l:z,Oe=y.getOrigin();$=Ot(i.draggingRouter,n,K,Oe,i)}}if(null==$&&($=LS(n,z,y,c,i)),null===$)return console.warn("Unable to execute manhattan algorithm, use orth instead"),Ot(i.fallbackRouter,this,o,i,n);const U=$[0];U&&U.equals(_)&&$.shift(),_=$[$.length-1]||_,g.push(...$)}return i.snapToGrid?function VS(o,e=10){if(o.length<=1)return o;for(let n=0,i=o.length;n<i-1;n+=1){const s=o[n],a=o[n+1];if(s.x===a.x){const l=e*Math.round(s.x/e);s.x!==l&&(s.x=l,a.x=l)}else if(s.y===a.y){const l=e*Math.round(s.y/e);s.y!==l&&(s.y=l,a.y=l)}}return o}(g,n.graph.grid.getGridSize()):g},u_=function(o,e,n){return Ot($S,this,o,Object.assign(Object.assign({},MS),e),n)},jS={maxDirectionChange:45,directions(){const o=Ts(this.step,this),e=Ts(this.cost,this),n=Math.ceil(Math.sqrt(o*o<<1));return[{cost:e,offsetX:o,offsetY:0},{cost:n,offsetX:o,offsetY:o},{cost:e,offsetX:0,offsetY:o},{cost:n,offsetX:-o,offsetY:o},{cost:e,offsetX:-o,offsetY:0},{cost:n,offsetX:-o,offsetY:-o},{cost:e,offsetX:0,offsetY:-o},{cost:n,offsetX:o,offsetY:-o}]},fallbackRoute(o,e,n){const i=o.theta(e),s=[];let a={x:e.x,y:o.y},l={x:o.x,y:e.y};if(i%180>90){const K=a;a=l,l=K}const c=i%90<45?a:l,u=new Mt(o,c),g=90*Math.ceil(i/90),_=ve.fromPolar(u.squaredLength(),_n.toRad(g+135),c),z=new Mt(e,_),y=u.intersectsWithLine(z),x=y||e,$=360/n.directions.length,U=(y?x:o).theta(e),Q=_n.normalize(U+$/2),le=$*Math.floor(Q/$);return n.previousDirectionAngle=le,x&&s.push(x.round()),s.push(e),s}},GS=function(o,e,n){return Ot(u_,this,o,Object.assign(Object.assign({},jS),e),n)},HS=function(o,e,n){const i=e.offset||32,s=null==e.min?16:e.min;let a=0,l=e.direction;const c=n.sourceBBox,u=n.targetBBox,g=c.getCenter(),_=u.getCenter();if("number"==typeof i&&(a=i),null==l){let Q=u.left-c.right,le=u.top-c.bottom;Q>=0&&le>=0?l=Q>=le?"L":"T":Q<=0&&le>=0?(Q=c.left-u.right,l=Q>=0&&Q>=le?"R":"T"):Q>=0&&le<=0?(le=c.top-u.bottom,l=le>=0?Q>=le?"L":"B":"L"):(Q=c.left-u.right,le=c.top-u.bottom,l=Q>=0&&le>=0?Q>=le?"R":"B":Q<=0&&le>=0?"B":Q>=0&&le<=0||Math.abs(Q)>Math.abs(le)?"R":"B")}let z,y,x;"H"===l?l=_.x-g.x>=0?"L":"R":"V"===l&&(l=_.y-g.y>=0?"T":"B"),"center"===i&&("L"===l?a=(u.left-c.right)/2:"R"===l?a=(c.left-u.right)/2:"T"===l?a=(u.top-c.bottom)/2:"B"===l&&(a=(c.top-u.bottom)/2));const N="L"===l||"R"===l;if(N){if(_.y===g.y)return[...o];x="L"===l?1:-1,z="x",y="width"}else{if(_.x===g.x)return[...o];x="T"===l?1:-1,z="y",y="height"}const $=g.clone(),U=_.clone();if($[z]+=x*(c[y]/2+a),U[z]-=x*(u[y]/2+a),N){const Q=$.x,le=U.x,K=c.width/2+s,Oe=u.width/2+s;_.x>g.x?le<=Q&&($.x=Math.max(le,g.x+K),U.x=Math.min(Q,_.x-Oe)):le>=Q&&($.x=Math.min(le,g.x-K),U.x=Math.max(Q,_.x+Oe))}else{const Q=$.y,le=U.y,K=c.height/2+s,Oe=u.height/2+s;_.y>g.y?le<=Q&&($.y=Math.max(le,g.y+K),U.y=Math.min(Q,_.y-Oe)):le>=Q&&($.y=Math.min(le,g.y-K),U.y=Math.max(Q,_.y+Oe))}return[$.toJSON(),...o,U.toJSON()]};function or(o,e){if(null!=e&&!1!==e){const n="boolean"==typeof e?0:e;if(n>0){const i=ve.create(o[1]).move(o[2],n),s=ve.create(o[1]).move(o[0],n);return[i.toJSON(),...o,s.toJSON()]}{const i=o[1];return[Object.assign({},i),...o,Object.assign({},i)]}}return o}const US=function(o,e,n){const i=e.width||50,a=(e.height||80)/2,l=e.angle||"auto",c=n.sourceAnchor,u=n.targetAnchor,g=n.sourceBBox,_=n.targetBBox;if(c.equals(u)){const z=Q=>{const le=_n.toRad(Q),K=Math.sin(le),Oe=Math.cos(le),Ie=new ve(c.x+Oe*i,c.y+K*i),Qe=new ve(Ie.x-Oe*a,Ie.y-K*a),gt=Qe.clone().rotate(-90,Ie),yt=Qe.clone().rotate(90,Ie);return[gt.toJSON(),Ie.toJSON(),yt.toJSON()]},y=Q=>{const le=c.clone().move(Q,-1),K=new Mt(le,Q);return!g.containsPoint(Q)&&!g.intersectsWithLine(K)},x=[0,90,180,270,45,135,225,315];if("number"==typeof l)return or(z(l),e.merge);const N=g.getCenter();if(N.equals(c))return or(z(0),e.merge);const $=N.angleBetween(c,N.clone().translate(1,0));let U=z($);if(y(U[1]))return or(U,e.merge);for(let Q=1,le=x.length;Q<le;Q+=1)if(U=z($+x[Q]),y(U[1]))return or(U,e.merge);return or(U,e.merge)}{const z=new Mt(c,u);let y=z.parallel(-i),x=y.getCenter(),N=y.start.clone().move(y.end,a),$=y.end.clone().move(y.start,a);const U=z.parallel(-1),Q=new Mt(U.start,x),le=new Mt(U.end,x);if((g.containsPoint(x)||_.containsPoint(x)||g.intersectsWithLine(Q)||g.intersectsWithLine(le)||_.intersectsWithLine(Q)||_.intersectsWithLine(le))&&(y=z.parallel(i),x=y.getCenter(),N=y.start.clone().move(y.end,a),$=y.end.clone().move(y.start,a)),e.merge){const K=new Mt(c,u),Oe=new Mt(x,K.center).setLength(Number.MAX_SAFE_INTEGER),Ie=g.intersectsWithLine(Oe),Qe=_.intersectsWithLine(Oe),gt=Ie?Array.isArray(Ie)?Ie:[Ie]:[];Qe&&(Array.isArray(Qe)?gt.push(...Qe):gt.push(Qe));const yt=K.center.closest(gt);yt?(n.sourceAnchor=yt.clone(),n.targetAnchor=yt.clone()):(n.sourceAnchor=K.center.clone(),n.targetAnchor=K.center.clone())}return or([N.toJSON(),x.toJSON(),$.toJSON()],e.merge)}};var xs;!function(o){o.presets=Pe,o.registry=In.create({type:"router"}),o.registry.register(o.presets,!0)}(xs||(xs={}));const XS=function(o,e,n,i={}){const s=[o,...n,e],a=new Nn(s),l=new $t(a);return i.raw?l:l.serialize()},WS=function(o,e,n,i={}){const s=3===n.length?0:1,a=ve.create(n[0+s]),l=ve.create(n[2+s]),c=ve.create(n[1+s]);if(!ve.equals(o,e)){const g=new ve((o.x+e.x)/2,(o.y+e.y)/2),_=g.angleBetween(ve.create(o).rotate(90,g),c);_>1&&(a.rotate(180-_,g),l.rotate(180-_,g),c.rotate(180-_,g))}const u=`\n     M ${o.x} ${o.y}\n     Q ${a.x} ${a.y} ${c.x} ${c.y}\n     Q ${l.x} ${l.y} ${e.x} ${e.y}\n  `;return i.raw?$t.parse(u):u},YS=function(o,e,n,i={}){const s=new $t;s.appendSegment($t.createSegment("M",o));const a=1/3,l=2/3,c=i.radius||10;let u,g;for(let _=0,z=n.length;_<z;_+=1){const y=ve.create(n[_]),x=n[_-1]||o,N=n[_+1]||e;u=g||y.distance(x)/2,g=y.distance(N)/2;const $=-Math.min(c,u),U=-Math.min(c,g),Q=y.clone().move(x,$).round(),le=y.clone().move(N,U).round(),K=new ve(a*Q.x+l*y.x,l*y.y+a*Q.y),Oe=new ve(a*le.x+l*y.x,l*y.y+a*le.y);s.appendSegment($t.createSegment("L",Q)),s.appendSegment($t.createSegment("C",K,Oe,le))}return s.appendSegment($t.createSegment("L",e)),i.raw?s:s.serialize()},KS=function(o,e,n,i={}){let s,a=i.direction;if(n&&0!==n.length){const l=[o,...n,e],c=Pn.throughPoints(l);s=new $t(c)}else if(s=new $t,s.appendSegment($t.createSegment("M",o)),a||(a=Math.abs(o.x-e.x)>=Math.abs(o.y-e.y)?"H":"V"),"H"===a){const l=(o.x+e.x)/2;s.appendSegment($t.createSegment("C",l,o.y,l,e.y,e.x,e.y))}else{const l=(o.y+e.y)/2;s.appendSegment($t.createSegment("C",o.x,l,e.x,l,e.x,e.y))}return i.raw?s:s.serialize()},Tc=1/3,xc=2/3;function Hp(o,e,n=[]){const i=[o,...n,e],s=[];return i.forEach((a,l)=>{const c=i[l+1];null!=c&&s.push(new Mt(a,c))}),s}function f_(o,e){return new Mt(o,e).squaredLength()}function g_(o,e,n,i){const s=new $t;let a;return a=$t.createSegment("M",o[0].start),s.appendSegment(a),o.forEach((l,c)=>{if(Na.includes(l)){let u,g,_,z;if("arc"===n){u=-90,g=l.start.diff(l.end),(g.x<0||0===g.x&&g.y<0)&&(u+=180);const x=l.getCenter(),N=new Mt(x,l.end).rotate(u,x);let $;$=new Mt(l.start,x),_=$.pointAt(2/3).rotate(u,l.start),z=N.pointAt(1/3).rotate(-u,N.end),a=$t.createSegment("C",_,z,N.end),s.appendSegment(a),$=new Mt(x,l.end),_=N.pointAt(1/3).rotate(u,N.end),z=$.pointAt(1/3).rotate(-u,l.end),a=$t.createSegment("C",_,z,l.end),s.appendSegment(a)}else if("gap"===n)a=$t.createSegment("M",l.end),s.appendSegment(a);else if("cubic"===n){u=l.start.theta(l.end);const y=.6*e;let x=1.35*e;g=l.start.diff(l.end),(g.x<0||0===g.x&&g.y<0)&&(x*=-1),_=new ve(l.start.x+y,l.start.y+x).rotate(u,l.start),z=new ve(l.end.x-y,l.end.y+x).rotate(u,l.end),a=$t.createSegment("C",_,z,l.end),s.appendSegment(a)}}else{const u=o[c+1];0===i||!u||Na.includes(u)?(a=$t.createSegment("L",l.end),s.appendSegment(a)):function qS(o,e,n,i,s){const a=n.distance(i)/2,l=n.distance(s)/2,c=-Math.min(o,a),u=-Math.min(o,l),g=n.clone().move(i,c).round(),_=n.clone().move(s,u).round(),z=new ve(Tc*g.x+xc*n.x,xc*n.y+Tc*g.y),y=new ve(Tc*_.x+xc*n.x,xc*n.y+Tc*_.y);let x;x=$t.createSegment("L",g),e.appendSegment(x),x=$t.createSegment("C",z,y,_),e.appendSegment(x)}(i,s,l.end,l.start,u.end)}}),s}let Na,Oc;const eT=function(o,e,n,i={}){Na=[],Oc=[],function QS(o){let e=o.graph._jumpOverUpdateList;if(null==e&&(e=o.graph._jumpOverUpdateList=[],o.graph.on("cell:mouseup",()=>{const n=o.graph._jumpOverUpdateList;setTimeout(()=>{for(let i=0;i<n.length;i+=1)n[i].update()})}),o.graph.on("model:reseted",()=>{e=o.graph._jumpOverUpdateList=[]})),e.indexOf(o)<0){e.push(o);const n=()=>e.splice(e.indexOf(o),1);o.cell.once("change:connector",n),o.cell.once("removed",n)}}(this);const s=i.size||5,a=i.type||"arc",l=i.radius||0,c=i.ignoreConnectors||["smooth"],u=this.graph,_=u.model.getEdges();if(1===_.length)return g_(Hp(o,e,n),s,a,l);const z=this.cell,y=_.indexOf(z),x=u.options.connecting.connector||{},N=_.filter((Oe,Ie)=>{const Qe=Oe.getConnector()||x;return!(c.includes(Qe.name)||Ie>y&&"jumpover"===Qe.name)}),$=N.map(Oe=>u.findViewByCell(Oe)),U=Hp(o,e,n),Q=$.map(Oe=>null==Oe?[]:Oe===this?U:Hp(Oe.sourcePoint,Oe.targetPoint,Oe.routePoints)),le=[];U.forEach(Oe=>{const Ie=N.reduce((Qe,gt,yt)=>{if(gt!==z){const zt=function ZS(o,e){const n=[];return e.forEach(i=>{const s=o.intersectsWithLine(i);s&&n.push(s)}),n}(Oe,Q[yt]);Qe.push(...zt)}return Qe},[]).sort((Qe,gt)=>f_(Oe.start,Qe)-f_(Oe.start,gt));Ie.length>0?le.push(...function JS(o,e,n){return e.reduce((i,s,a)=>{if(Oc.includes(s))return i;const l=i.pop()||o,c=ve.create(s).move(l.start,-n);let u=ve.create(s).move(l.start,+n);const g=e[a+1];if(null!=g){const y=u.distance(g);y<=n&&(u=g.move(l.start,y),Oc.push(g))}else if(c.distance(l.end)<2*n+1)return i.push(l),i;if(u.distance(l.start)<2*n+1)return i.push(l),i;const z=new Mt(c,u);return Na.push(z),i.push(new Mt(l.start,c),z,new Mt(u,l.end)),i},[])}(Oe,Ie,s)):le.push(Oe)});const K=g_(le,s,a,l);return Na=[],Oc=[],i.raw?K:K.serialize()};var to;!function(o){o.presets=He,o.registry=In.create({type:"connector"}),o.registry.register(o.presets,!0)}(to||(to={}));class m_ extends ii{constructor(e={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(En(e)),this.changed={}}mutate(e,n={}){const i=!0===n.unset,s=!0===n.silent,a=[],l=this.changing;this.changing=!0,l||(this.previous=En(this.data),this.changed={});const c=this.data,u=this.previous,g=this.changed;if(Object.keys(e).forEach(_=>{const z=_,y=e[z];di(c[z],y)||a.push(z),di(u[z],y)?delete g[z]:g[z]=y,i?delete c[z]:c[z]=y}),!s&&a.length>0&&(this.pending=!0,this.pendingOptions=n,a.forEach(_=>{this.emit("change:*",{key:_,options:n,store:this,current:c[_],previous:u[_]})})),l)return this;if(!s)for(;this.pending;)this.pending=!1,this.emit("changed",{current:c,previous:u,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(e,n){return null==e?this.data:this.data[e]??n}getPrevious(e){if(this.previous)return this.previous[e]??void 0}set(e,n,i){return null!=e&&("object"==typeof e?this.mutate(e,n):this.mutate({[e]:n},i)),this}remove(e,n){const s={};let a;if("string"==typeof e)s[e]=void 0,a=n;else if(Array.isArray(e))e.forEach(l=>s[l]=void 0),a=n;else{for(const l in this.data)s[l]=void 0;a=e}return this.mutate(s,Object.assign(Object.assign({},a),{unset:!0})),this}getByPath(e){return Yl(this.data,e,"/")}setByPath(e,n,i={}){const s="/",a=Array.isArray(e)?[...e]:e.split(s),l=Array.isArray(e)?e.join(s):e,c=a[0],u=a.length;if(i.propertyPath=l,i.propertyValue=n,i.propertyPathArray=a,1===u)this.set(c,n,i);else{const g={};let _=g,z=c;for(let N=1;N<u;N+=1){const $=a[N],U=Number.isFinite(Number($));_=_[z]=U?[]:{},z=$}Hs(g,a,n,s);const y=En(this.data);i.rewrite&&Ku(y,e,s);const x=Mn(y,g);this.set(c,x[c],i)}return this}removeByPath(e,n){const i=Array.isArray(e)?e:e.split("/"),s=i[0];if(1===i.length)this.remove(s,n);else{const a=i.slice(1),l=En(this.get(s));l&&Ku(l,a),this.set(s,l,n)}return this}hasChanged(e){return null==e?Object.keys(this.changed).length>0:e in this.changed}getChanges(e){if(null==e)return this.hasChanged()?En(this.changed):null;const n=this.changing?this.previous:this.data,i={};let s;for(const a in e){const l=e[a];di(n[a],l)||(i[a]=l,s=!0)}return s?En(i):null}toJSON(){return En(this.data)}clone(){return new(0,this.constructor)(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([ii.dispose()],m_.prototype,"dispose",null);class Ia{constructor(e){this.cell=e,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(e,n,i={},s="/"){const a=this.cell.getPropByPath(e),l=Tf(i,Ia.defaultOptions),c=this.getTiming(l.timing),u=this.getInterp(l.interp,a,n);let g=0;const _=Array.isArray(e)?e.join(s):e,z=Array.isArray(e)?e:e.split(s),y=()=>{const x=(new Date).getTime();0===g&&(g=x);let $=(x-g)/l.duration;$<1?this.ids[_]=requestAnimationFrame(y):$=1;const U=u(c($));this.cell.setPropByPath(z,U),i.progress&&i.progress(Object.assign({progress:$,currentValue:U},this.getArgs(_))),1===$&&(this.cell.notify("transition:complete",this.getArgs(_)),i.complete&&i.complete(this.getArgs(_)),this.cell.notify("transition:finish",this.getArgs(_)),i.finish&&i.finish(this.getArgs(_)),this.clean(_))};return setTimeout(()=>{this.stop(e,void 0,s),this.cache[_]={startValue:a,targetValue:n,options:l},this.ids[_]=requestAnimationFrame(y),this.cell.notify("transition:start",this.getArgs(_)),i.start&&i.start(this.getArgs(_))},i.delay),this.stop.bind(this,e,s,i)}stop(e,n={},i="/"){const s=Array.isArray(e)?e:e.split(i);return Object.keys(this.ids).filter(a=>di(s,a.split(i).slice(0,s.length))).forEach(a=>{cancelAnimationFrame(this.ids[a]);const l=this.cache[a],c=this.getArgs(a),u=Object.assign(Object.assign({},l.options),n),g=u.jumpedToEnd;g&&null!=l.targetValue&&(this.cell.setPropByPath(a,l.targetValue),this.cell.notify("transition:end",Object.assign({},c)),this.cell.notify("transition:complete",Object.assign({},c)),u.complete&&u.complete(Object.assign({},c)));const _=Object.assign({jumpedToEnd:g},c);this.cell.notify("transition:stop",Object.assign({},_)),u.stop&&u.stop(Object.assign({},_)),this.cell.notify("transition:finish",Object.assign({},c)),u.finish&&u.finish(Object.assign({},c)),this.clean(a)}),this}clean(e){delete this.ids[e],delete this.cache[e]}getTiming(e){return"string"==typeof e?Xo[e]:e}getInterp(e,n,i){return e?e(n,i):"number"==typeof i?Wo.number(n,i):"string"==typeof i?"#"===i[0]?Wo.color(n,i):Wo.unit(n,i):Wo.object(n,i)}getArgs(e){const n=this.cache[e];return{path:e,startValue:n.startValue,targetValue:n.targetValue,cell:this.cell}}}!function(o){o.defaultOptions={delay:10,duration:100,timing:"linear"}}(Ia||(Ia={}));var rr,__=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};class an extends ii{static config(e){const{markup:n,propHooks:i,attrHooks:s}=e,a=__(e,["markup","propHooks","attrHooks"]);null!=n&&(this.markup=n),i&&(this.propHooks=this.propHooks.slice(),Array.isArray(i)?this.propHooks.push(...i):"function"==typeof i?this.propHooks.push(i):Object.values(i).forEach(l=>{"function"==typeof l&&this.propHooks.push(l)})),s&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),s)),this.defaults=Mn({},this.defaults,a)}static getMarkup(){return this.markup}static getDefaults(e){return e?this.defaults:En(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(e,n){return this.propHooks.reduce((i,s)=>s?Ot(s,e,i):i,n)}get[Symbol.toStringTag](){return an.toStringTag}constructor(e={}){super();const i=this.constructor.getDefaults(!0),s=Mn({},this.preprocess(i),this.preprocess(e));this.id=s.id||Ql(),this.store=new m_(s),this.animation=new Ia(this),this.setup(),this.init(),this.postprocess(e)}init(){}get model(){return this._model}set model(e){this._model!==e&&(this._model=e)}preprocess(e,n){const i=e.id,a=this.constructor.applyPropHooks(this,e);return null==i&&!0!==n&&(a.id=Ql()),a}postprocess(e){}setup(){this.store.on("change:*",e=>{const{key:n,current:i,previous:s,options:a}=e;this.notify("change:*",{key:n,options:a,current:i,previous:s,cell:this}),this.notify(`change:${n}`,{options:a,current:i,previous:s,cell:this}),("source"===n||"target"===n)&&this.notify("change:terminal",{type:n,current:i,previous:s,options:a,cell:this})}),this.store.on("changed",({options:e})=>this.notify("changed",{options:e,cell:this}))}notify(e,n){this.trigger(e,n);const i=this.model;return i&&(i.notify(`cell:${e}`,n),this.isNode()?i.notify(`node:${e}`,Object.assign(Object.assign({},n),{node:this})):this.isEdge()&&i.notify(`edge:${e}`,Object.assign(Object.assign({},n),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(e){return this.store===e.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(e,n){return null==e?this.store.get():this.store.get(e,n)}setProp(e,n,i){if("string"==typeof e)this.store.set(e,n,i);else{const s=this.preprocess(e,!0);this.store.set(Mn({},this.getProp(),s),n),this.postprocess(e)}return this}removeProp(e,n){return"string"==typeof e||Array.isArray(e)?this.store.removeByPath(e,n):this.store.remove(n),this}hasChanged(e){return null==e?this.store.hasChanged():this.store.hasChanged(e)}getPropByPath(e){return this.store.getByPath(e)}setPropByPath(e,n,i={}){return this.model&&("children"===e?this._children=n?n.map(s=>this.model.getCell(s)).filter(s=>null!=s):null:"parent"===e&&(this._parent=n?this.model.getCell(n):null)),this.store.setByPath(e,n,i),this}removePropByPath(e,n={}){const i=Array.isArray(e)?e:e.split("/");return"attrs"===i[0]&&(n.dirty=!0),this.store.removeByPath(i,n),this}prop(e,n,i){return null==e?this.getProp():"string"==typeof e||Array.isArray(e)?1===arguments.length?this.getPropByPath(e):null==n?this.removePropByPath(e,i||{}):this.setPropByPath(e,n,i||{}):this.setProp(e,n||{})}previous(e){return this.store.getPrevious(e)}get zIndex(){return this.getZIndex()}set zIndex(e){null==e?this.removeZIndex():this.setZIndex(e)}getZIndex(){return this.store.get("zIndex")}setZIndex(e,n={}){return this.store.set("zIndex",e,n),this}removeZIndex(e={}){return this.store.remove("zIndex",e),this}toFront(e={}){const n=this.model;if(n){let s,i=n.getMaxZIndex();e.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this],i=i-s.length+1;const a=n.total();let l=n.indexOf(this)!==a-s.length;l||(l=s.some((c,u)=>c.getZIndex()!==i+u)),l&&this.batchUpdate("to-front",()=>{i+=s.length,s.forEach((c,u)=>{c.setZIndex(i+u,e)})})}return this}toBack(e={}){const n=this.model;if(n){let s,i=n.getMinZIndex();e.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this];let a=0!==n.indexOf(this);a||(a=s.some((l,c)=>l.getZIndex()!==i+c)),a&&this.batchUpdate("to-back",()=>{i-=s.length,s.forEach((l,c)=>{l.setZIndex(i+c,e)})})}return this}get markup(){return this.getMarkup()}set markup(e){null==e?this.removeMarkup():this.setMarkup(e)}getMarkup(){let e=this.store.get("markup");return null==e&&(e=this.constructor.getMarkup()),e}setMarkup(e,n={}){return this.store.set("markup",e,n),this}removeMarkup(e={}){return this.store.remove("markup",e),this}get attrs(){return this.getAttrs()}set attrs(e){null==e?this.removeAttrs():this.setAttrs(e)}getAttrs(){const e=this.store.get("attrs");return e?Object.assign({},e):{}}setAttrs(e,n={}){if(null==e)this.removeAttrs(n);else{const i=s=>this.store.set("attrs",s,n);if(!0===n.overwrite)i(e);else{const s=this.getAttrs();i(!1===n.deep?Object.assign(Object.assign({},s),e):Mn({},s,e))}}return this}replaceAttrs(e,n={}){return this.setAttrs(e,Object.assign(Object.assign({},n),{overwrite:!0}))}updateAttrs(e,n={}){return this.setAttrs(e,Object.assign(Object.assign({},n),{deep:!1}))}removeAttrs(e={}){return this.store.remove("attrs",e),this}getAttrDefinition(e){if(!e)return null;const i=this.constructor.getAttrHooks()||{};let s=i[e]||ki.registry.get(e);if(!s){const a=ga(e);s=i[a]||ki.registry.get(a)}return s||null}getAttrByPath(e){return null==e||""===e?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}setAttrByPath(e,n,i={}){return this.setPropByPath(this.prefixAttrPath(e),n,i),this}removeAttrByPath(e,n={}){return this.removePropByPath(this.prefixAttrPath(e),n),this}prefixAttrPath(e){return Array.isArray(e)?["attrs"].concat(e):`attrs/${e}`}attr(e,n,i){return null==e?this.getAttrByPath():"string"==typeof e||Array.isArray(e)?1===arguments.length?this.getAttrByPath(e):null==n?this.removeAttrByPath(e,i||{}):this.setAttrByPath(e,n,i||{}):this.setAttrs(e,n||{})}get visible(){return this.isVisible()}set visible(e){this.setVisible(e)}setVisible(e,n={}){return this.store.set("visible",e,n),this}isVisible(){return!1!==this.store.get("visible")}show(e={}){return this.isVisible()||this.setVisible(!0,e),this}hide(e={}){return this.isVisible()&&this.setVisible(!1,e),this}toggleVisible(e,n={}){const s="boolean"==typeof e?n:e;return("boolean"==typeof e?e:!this.isVisible())?this.show(s):this.hide(s),this}get data(){return this.getData()}set data(e){this.setData(e)}getData(){return this.store.get("data")}setData(e,n={}){if(null==e)this.removeData(n);else{const i=s=>this.store.set("data",s,n);if(!0===n.overwrite)i(e);else{const s=this.getData();i(!1===n.deep?"object"==typeof e?Object.assign(Object.assign({},s),e):e:Mn({},s,e))}}return this}replaceData(e,n={}){return this.setData(e,Object.assign(Object.assign({},n),{overwrite:!0}))}updateData(e,n={}){return this.setData(e,Object.assign(Object.assign({},n),{deep:!1}))}removeData(e={}){return this.store.remove("data",e),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const e=this.getParentId();if(e&&this.model){const n=this.model.getCell(e);return this._parent=n,n}return null}getChildren(){const e=this.store.get("children");if(e&&e.length&&this.model){const n=e.map(i=>{var s;return null===(s=this.model)||void 0===s?void 0:s.getCell(i)}).filter(i=>null!=i);return this._children=n,[...n]}return null}hasParent(){return null!=this.parent}isParentOf(e){return null!=e&&e.getParent()===this}isChildOf(e){return null!=e&&this.getParent()===e}eachChild(e,n){return this.children&&this.children.forEach(e,n),this}filterChild(e,n){return this.children?this.children.filter(e,n):[]}getChildCount(){return null==this.children?0:this.children.length}getChildIndex(e){return null==this.children?-1:this.children.indexOf(e)}getChildAt(e){return null!=this.children&&e>=0?this.children[e]:null}getAncestors(e={}){const n=[];let i=this.getParent();for(;i;)n.push(i),i=!1!==e.deep?i.getParent():null;return n}getDescendants(e={}){if(!1!==e.deep){if(e.breadthFirst){const n=[],i=this.getChildren()||[];for(;i.length>0;){const s=i.shift(),a=s.getChildren();n.push(s),a&&i.push(...a)}return n}{const n=this.getChildren()||[];return n.forEach(i=>{n.push(...i.getDescendants(e))}),n}}return this.getChildren()||[]}isDescendantOf(e,n={}){if(null==e)return!1;if(!1!==n.deep){let i=this.getParent();for(;i;){if(i===e)return!0;i=i.getParent()}return!1}return this.isChildOf(e)}isAncestorOf(e,n={}){return null!=e&&e.isDescendantOf(this,n)}contains(e){return this.isAncestorOf(e)}getCommonAncestor(...e){return an.getCommonAncestor(this,...e)}setParent(e,n={}){return this._parent=e,e?this.store.set("parent",e.id,n):this.store.remove("parent",n),this}setChildren(e,n={}){return this._children=e,null!=e?this.store.set("children",e.map(i=>i.id),n):this.store.remove("children",n),this}unembed(e,n={}){const i=this.children;if(null!=i&&null!=e){const s=this.getChildIndex(e);-1!==s&&(i.splice(s,1),e.setParent(null,n),this.setChildren(i,n))}return this}embed(e,n={}){return e.addTo(this,n),this}addTo(e,n={}){return an.isCell(e)?e.addChild(this,n):e.addCell(this,n),this}insertTo(e,n,i={}){return e.insertChild(this,n,i),this}addChild(e,n={}){return this.insertChild(e,void 0,n)}insertChild(e,n,i={}){if(null!=e&&e!==this){const s=e.getParent(),a=this!==s;let l=n;if(null==l&&(l=this.getChildCount(),a||(l-=1)),s){const u=s.getChildren();if(u){const g=u.indexOf(e);g>=0&&(e.setParent(null,i),u.splice(g,1),s.setChildren(u,i))}}let c=this.children;if(null==c?(c=[],c.push(e)):c.splice(l,0,e),e.setParent(this,i),this.setChildren(c,i),a&&this.model){const u=this.model.getIncomingEdges(this),g=this.model.getOutgoingEdges(this);u&&u.forEach(_=>_.updateParent(i)),g&&g.forEach(_=>_.updateParent(i))}this.model&&this.model.addCell(e,i)}return this}removeFromParent(e={}){const n=this.getParent();if(null!=n){const i=n.getChildIndex(this);n.removeChildAt(i,e)}return this}removeChild(e,n={}){const i=this.getChildIndex(e);return this.removeChildAt(i,n)}removeChildAt(e,n={}){const i=this.getChildAt(e);return null!=this.children&&null!=i&&(this.unembed(i,n),i.remove(n)),i}remove(e={}){return this.batchUpdate("remove",()=>{const n=this.getParent();n&&n.removeChild(this,e),!1!==e.deep&&this.eachChild(i=>i.remove(e)),this.model&&this.model.removeCell(this,e)}),this}transition(e,n,i={},s="/"){return this.animation.start(e,n,i,s)}stopTransition(e,n,i="/"){return this.animation.stop(e,n,i),this}getTransitions(){return this.animation.get()}translate(e,n,i){return this}scale(e,n,i,s){return this}addTools(e,n,i){const s=Array.isArray(e)?e:[e],a="string"==typeof n?n:null,l="object"==typeof n?n:"object"==typeof i?i:{};if(l.reset)return this.setTools({name:a,items:s,local:l.local},l);let c=En(this.getTools());return null==c||null==a||c.name===a?(null==c&&(c={}),c.items||(c.items=[]),c.name=a,c.items=[...c.items,...s],this.setTools(Object.assign({},c),l)):void 0}setTools(e,n={}){return null==e?this.removeTools():this.store.set("tools",an.normalizeTools(e),n),this}getTools(){return this.store.get("tools")}removeTools(e={}){return this.store.remove("tools",e),this}hasTools(e){const n=this.getTools();return null!=n&&(null==e||n.name===e)}hasTool(e){const n=this.getTools();return null!=n&&n.items.some(i=>"string"==typeof i?i===e:i.name===e)}removeTool(e,n={}){const i=En(this.getTools());if(i){let s=!1;const a=i.items.slice(),l=c=>{a.splice(c,1),s=!0};if("number"==typeof e)l(e);else for(let c=a.length-1;c>=0;c-=1){const u=a[c];("string"==typeof u?u===e:u.name===e)&&l(c)}s&&(i.items=a,this.setTools(i,n))}return this}getBBox(e){return new St}getConnectionPoint(e,n){return new ve}toJSON(e={}){const n=Object.assign({},this.store.get()),i=Object.prototype.toString,s=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!n.shape){const N=this.constructor;throw new Error(`Unable to serialize ${s} missing "shape" prop, check the ${s} "${N.name||i.call(N)}"`)}const l=!0===e.diff,c=n.attrs||{},u=this.constructor.getDefaults(!0),g=l?this.preprocess(u,!0):u,_=g.attrs||{},z={};Object.entries(n).forEach(([N,$])=>{if(null!=$&&!Array.isArray($)&&"object"==typeof $&&!ni($))throw new Error(`Can only serialize ${s} with plain-object props, but got a "${i.call($)}" type of key "${N}" on ${s} "${this.id}"`);"attrs"!==N&&"shape"!==N&&l&&di($,g[N])&&delete n[N]}),Object.keys(c).forEach(N=>{const $=c[N],U=_[N];Object.keys($).forEach(Q=>{const le=$[Q],K=U?U[Q]:null;null==le||"object"!=typeof le||Array.isArray(le)?(null==U||!di(K,le))&&(null==z[N]&&(z[N]={}),z[N][Q]=le):Object.keys(le).forEach(Oe=>{const Ie=le[Oe];null!=U&&null!=K&&ke(K)&&di(K[Oe],Ie)||(null==z[N]&&(z[N]={}),null==z[N][Q]&&(z[N][Q]={}),z[N][Q][Oe]=Ie)})})});const y=Object.assign(Object.assign({},n),{attrs:pa(z)?void 0:z});null==y.attrs&&delete y.attrs;const x=y;return 0===x.angle&&delete x.angle,En(x)}clone(e={}){if(!e.deep){const i=Object.assign({},this.store.get());return e.keepId||delete i.id,delete i.parent,delete i.children,new(0,this.constructor)(i)}return an.deepClone(this)[this.id]}findView(e){return e.findViewByCell(this)}startBatch(e,n={},i=this.model){return this.notify("batch:start",{name:e,data:n,cell:this}),i&&i.startBatch(e,Object.assign(Object.assign({},n),{cell:this})),this}stopBatch(e,n={},i=this.model){return i&&i.stopBatch(e,Object.assign(Object.assign({},n),{cell:this})),this.notify("batch:stop",{name:e,data:n,cell:this}),this}batchUpdate(e,n,i){const s=this.model;this.startBatch(e,i,s);const a=n();return this.stopBatch(e,i,s),a}dispose(){this.removeFromParent(),this.store.dispose()}}an.defaults={},an.attrHooks={},an.propHooks=[],function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([ii.dispose()],an.prototype,"dispose",null),function(o){o.normalizeTools=function e(n){return"string"==typeof n?{items:[n]}:Array.isArray(n)?{items:n}:n.items?n:{items:[n]}}}(an||(an={})),function(o){o.toStringTag=`X6.${o.name}`,o.isCell=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNode&&"function"==typeof n.isEdge&&"function"==typeof n.prop&&"function"==typeof n.attr}}(an||(an={})),function(o){o.getCommonAncestor=function e(...a){const l=a.filter(u=>null!=u).map(u=>u.getAncestors()).sort((u,g)=>u.length-g.length);return l.shift().find(u=>l.every(g=>g.includes(u)))||null},o.getCellsBBox=function n(a,l={}){let c=null;for(let u=0,g=a.length;u<g;u+=1){const _=a[u];let z=_.getBBox(l);if(z){if(_.isNode()){const y=_.getAngle();null!=y&&0!==y&&(z=z.bbox(y))}c=null==c?z:c.union(z)}}return c},o.deepClone=function i(a){const l=[a,...a.getDescendants({deep:!0})];return o.cloneCells(l)},o.cloneCells=function s(a){const l=Qu(a),c=l.reduce((u,g)=>(u[g.id]=g.clone(),u),{});return l.forEach(u=>{const g=c[u.id];if(g.isEdge()){const y=g.getSourceCellId(),x=g.getTargetCellId();y&&c[y]&&g.setSource(Object.assign(Object.assign({},g.getSource()),{cell:c[y].id})),x&&c[x]&&g.setTarget(Object.assign(Object.assign({},g.getTarget()),{cell:c[x].id}))}const _=u.getParent();_&&c[_.id]&&g.setParent(c[_.id]);const z=u.getChildren();if(z&&z.length){const y=z.reduce((x,N)=>(c[N.id]&&x.push(c[N.id]),x),[]);y.length>0&&g.setChildren(y)}}),c}}(an||(an={})),function(o){o.config({propHooks(e){var{tools:n}=e,i=__(e,["tools"]);return n&&(i.tools=o.normalizeTools(n)),i}})}(an||(an={})),function(o){let e,n;o.exist=function i(l,c){return c?null!=e&&e.exist(l):null!=n&&n.exist(l)},o.setEdgeRegistry=function s(l){e=l},o.setNodeRegistry=function a(l){n=l}}(rr||(rr={}));class iT{constructor(e){this.ports=[],this.groups={},this.init(En(e))}getPorts(){return this.ports}getGroup(e){return null!=e?this.groups[e]:null}getPortsByGroup(e){return this.ports.filter(n=>n.group===e||null==n.group&&null==e)}getPortsLayoutByGroup(e,n){const i=this.getPortsByGroup(e),s=e?this.getGroup(e):null,a=s?s.position:null,l=a?a.name:null;let c;if(null!=l){const z=eo.registry.get(l);if(null==z)return eo.registry.onNotFound(l);c=z}else c=eo.presets.left;return c(i.map(z=>z&&z.position&&z.position.args||{}),n,a&&a.args||{}).map((z,y)=>{const x=i[y];return{portLayout:z,portId:x.id,portSize:x.size,portAttrs:x.attrs,labelSize:x.label.size,labelLayout:this.getPortLabelLayout(x,ve.create(z.position),n)}})}init(e){const{groups:n,items:i}=e;null!=n&&Object.keys(n).forEach(s=>{this.groups[s]=this.parseGroup(n[s])}),Array.isArray(i)&&i.forEach(s=>{this.ports.push(this.parsePort(s))})}parseGroup(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}parsePort(e){const n=Object.assign({},e),i=this.getGroup(e.group)||{};return n.markup=n.markup||i.markup,n.attrs=Mn({},i.attrs,n.attrs),n.position=this.createPosition(i,n),n.label=Mn({},i.label,this.getLabel(n)),n.zIndex=this.getZIndex(i,n),n.size=Object.assign(Object.assign({},i.size),n.size),n}getZIndex(e,n){return"number"==typeof n.zIndex?n.zIndex:"number"==typeof e.zIndex||"auto"===e.zIndex?e.zIndex:"auto"}createPosition(e,n){return Mn({name:"left",args:{}},e.position,{args:n.args})}getPortPosition(e,n=!1){if(null==e){if(n)return{name:"left",args:{}}}else{if("string"==typeof e)return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if("object"==typeof e)return e}return{args:{}}}getPortLabelPosition(e,n=!1){if(null==e){if(n)return{name:"left",args:{}}}else{if("string"==typeof e)return{name:e,args:{}};if("object"==typeof e)return e}return{args:{}}}getLabel(e,n=!1){const i=e.label||{};return i.position=this.getPortLabelPosition(i.position,n),i}getPortLabelLayout(e,n,i){const a=e.label.position.args||{},l=Jo.registry.get(e.label.position.name||"left")||Jo.presets.left;return l?l(n,i,a):null}}var Dc=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};let $n=(()=>{class o extends an{get[Symbol.toStringTag](){return o.toStringTag}constructor(n={}){super(n),this.initPorts()}preprocess(n,i){const{x:s,y:a,width:l,height:c}=n,u=Dc(n,["x","y","width","height"]);if(null!=s||null!=a){const g=u.position;u.position=Object.assign(Object.assign({},g),{x:s??(g?g.x:0),y:a??(g?g.y:0)})}if(null!=l||null!=c){const g=u.size;u.size=Object.assign(Object.assign({},g),{width:l??(g?g.width:0),height:c??(g?g.height:0)})}return super.preprocess(u,i)}isNode(){return!0}size(n,i,s){return void 0===n?this.getSize():"number"==typeof n?this.setSize(n,i,s):this.setSize(n,i)}getSize(){const n=this.store.get("size");return n?Object.assign({},n):{width:1,height:1}}setSize(n,i,s){return"object"==typeof n?this.resize(n.width,n.height,i):this.resize(n,i,s),this}resize(n,i,s={}){this.startBatch("resize",s);const a=s.direction;if(a){const l=this.getSize();switch(a){case"left":case"right":i=l.height;break;case"top":case"bottom":n=l.width}let u={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[a];const g=_n.normalize(this.getAngle()||0);s.absolute&&(u+=Math.floor((g+45)/90),u%=4);const _=this.getBBox();let z;z=0===u?_.getBottomLeft():1===u?_.getCorner():2===u?_.getTopRight():_.getOrigin();const y=z.clone().rotate(-g,_.getCenter()),x=Math.sqrt(n*n+i*i)/2;let N=u*Math.PI/2;N+=Math.atan(u%2==0?i/n:n/i),N-=_n.toRad(g);const U=ve.fromPolar(x,N,y).clone().translate(n/-2,i/-2);this.store.set("size",{width:n,height:i},s),this.setPosition(U.x,U.y,s)}else this.store.set("size",{width:n,height:i},s);return this.stopBatch("resize",s),this}scale(n,i,s,a={}){const l=this.getBBox().scale(n,i,s??void 0);return this.startBatch("scale",a),this.setPosition(l.x,l.y,a),this.resize(l.width,l.height,a),this.stopBatch("scale"),this}position(n,i,s){return"number"==typeof n?this.setPosition(n,i,s):this.getPosition(n)}getPosition(n={}){if(n.relative){const s=this.getParent();if(null!=s&&s.isNode()){const a=this.getPosition(),l=s.getPosition();return{x:a.x-l.x,y:a.y-l.y}}}const i=this.store.get("position");return i?Object.assign({},i):{x:0,y:0}}setPosition(n,i,s={}){let a,l,c;if("object"==typeof n?(a=n.x,l=n.y,c=i||{}):(a=n,l=i,c=s||{}),c.relative){const u=this.getParent();if(null!=u&&u.isNode()){const g=u.getPosition();a+=g.x,l+=g.y}}if(c.deep){const u=this.getPosition();this.translate(a-u.x,l-u.y,c)}else this.store.set("position",{x:a,y:l},c);return this}translate(n=0,i=0,s={}){if(0===n&&0===i)return this;s.translateBy=s.translateBy||this.id;const a=this.getPosition();if(null!=s.restrict&&s.translateBy===this.id){const c=this.getBBox({deep:!0}),u=s.restrict,g=a.x-c.x,_=a.y-c.y,z=Math.max(u.x+g,Math.min(u.x+u.width+g-c.width,a.x+n)),y=Math.max(u.y+_,Math.min(u.y+u.height+_-c.height,a.y+i));n=z-a.x,i=y-a.y}const l={x:a.x+n,y:a.y+i};return s.tx=n,s.ty=i,s.transition?("object"!=typeof s.transition&&(s.transition={}),this.transition("position",l,Object.assign(Object.assign({},s.transition),{interp:Wo.object})),this.eachChild(c=>{var u;(null===(u=s.exclude)||void 0===u?void 0:u.includes(c))||c.translate(n,i,s)})):(this.startBatch("translate",s),this.store.set("position",l,s),this.eachChild(c=>{var u;(null===(u=s.exclude)||void 0===u?void 0:u.includes(c))||c.translate(n,i,s)}),this.stopBatch("translate",s)),this}angle(n,i){return null==n?this.getAngle():this.rotate(n,i)}getAngle(){return this.store.get("angle",0)}rotate(n,i={}){const s=this.getAngle();if(i.center){const a=this.getSize(),l=this.getPosition(),c=this.getBBox().getCenter();c.rotate(s-n,i.center);const u=c.x-a.width/2-l.x,g=c.y-a.height/2-l.y;this.startBatch("rotate",{angle:n,options:i}),this.setPosition(l.x+u,l.y+g,i),this.rotate(n,Object.assign(Object.assign({},i),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",i.absolute?n:(s+n)%360,i);return this}getBBox(n={}){if(n.deep){const i=this.getDescendants({deep:!0,breadthFirst:!0});return i.push(this),an.getCellsBBox(i)}return St.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(n,i){const s=this.getBBox(),a=s.getCenter(),l=n.getTerminal(i);if(null==l)return a;const c=l.port;if(!c||!this.hasPort(c))return a;const u=this.getPort(c);if(!u||!u.group)return a;const _=this.getPortsPosition(u.group)[c].position,z=ve.create(_).translate(s.getOrigin()),y=this.getAngle();return y&&z.rotate(-y,a),z}fit(n={}){const s=(this.getChildren()||[]).filter(_=>_.isNode());if(0===s.length)return this;this.startBatch("fit-embeds",n),n.deep&&s.forEach(_=>_.fit(n));let{x:a,y:l,width:c,height:u}=an.getCellsBBox(s);const g=ps(n.padding);return a-=g.left,l-=g.top,c+=g.left+g.right,u+=g.bottom+g.top,this.store.set({position:{x:a,y:l},size:{width:c,height:u}},n),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(n){this.setPortContainerMarkup(n)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Sn.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(n,i={}){return this.store.set("portContainerMarkup",Sn.clone(n),i),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(n){this.setPortMarkup(n)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Sn.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(n,i={}){return this.store.set("portMarkup",Sn.clone(n),i),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(n){this.setPortLabelMarkup(n)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Sn.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(n,i={}){return this.store.set("portLabelMarkup",Sn.clone(n),i),this}get ports(){const n=this.store.get("ports",{items:[]});return null==n.items&&(n.items=[]),n}getPorts(){return En(this.ports.items)}getPortsByGroup(n){return this.getPorts().filter(i=>i.group===n)}getPort(n){return En(this.ports.items.find(i=>i.id&&i.id===n))}getPortAt(n){return this.ports.items[n]||null}hasPorts(){return this.ports.items.length>0}hasPort(n){return-1!==this.getPortIndex(n)}getPortIndex(n){const i="string"==typeof n?n:n.id;return null!=i?this.ports.items.findIndex(s=>s.id===i):-1}getPortsPosition(n){const i=this.getSize();return this.port.getPortsLayoutByGroup(n,new St(0,0,i.width,i.height)).reduce((a,l)=>{const c=l.portLayout;return a[l.portId]={position:Object.assign({},c.position),angle:c.angle||0},a},{})}getPortProp(n,i){return this.getPropByPath(this.prefixPortPath(n,i))}setPortProp(n,i,s,a){if("string"==typeof i||Array.isArray(i)){const u=this.prefixPortPath(n,i);return this.setPropByPath(u,s,a)}const l=this.prefixPortPath(n);return this.setPropByPath(l,i,s)}removePortProp(n,i,s){return"string"==typeof i||Array.isArray(i)?this.removePropByPath(this.prefixPortPath(n,i),s):this.removePropByPath(this.prefixPortPath(n),i)}portProp(n,i,s,a){return null==i?this.getPortProp(n):"string"==typeof i||Array.isArray(i)?2===arguments.length?this.getPortProp(n,i):null==s?this.removePortProp(n,i,a):this.setPortProp(n,i,s,a):this.setPortProp(n,i,s)}prefixPortPath(n,i){const s=this.getPortIndex(n);if(-1===s)throw new Error(`Unable to find port with id: "${n}"`);return null==i||""===i?["ports","items",`${s}`]:Array.isArray(i)?["ports","items",`${s}`,...i]:`ports/items/${s}/${i}`}addPort(n,i){const s=[...this.ports.items];return s.push(n),this.setPropByPath("ports/items",s,i),this}addPorts(n,i){return this.setPropByPath("ports/items",[...this.ports.items,...n],i),this}insertPort(n,i,s){const a=[...this.ports.items];return a.splice(n,0,i),this.setPropByPath("ports/items",a,s),this}removePort(n,i={}){return this.removePortAt(this.getPortIndex(n),i)}removePortAt(n,i={}){if(n>=0){const s=[...this.ports.items];s.splice(n,1),i.rewrite=!0,this.setPropByPath("ports/items",s,i)}return this}removePorts(n,i){let s;if(Array.isArray(n)){if(s=i||{},n.length){s.rewrite=!0;const l=[...this.ports.items].filter(c=>!n.some(u=>c.id===("string"==typeof u?u:u.id)));this.setPropByPath("ports/items",l,s)}}else s=n||{},s.rewrite=!0,this.setPropByPath("ports/items",[],s);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(n,i){return this.port.getPortsLayoutByGroup(n,i)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const i={};this.ports.items.forEach(c=>{c.id&&(i[c.id]=!0)});const s={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(c=>{c.id&&!i[c.id]&&(s[c.id]=!0)});const l=this.model;l&&!pa(s)&&(l.getConnectedEdges(this,{incoming:!0}).forEach(g=>{const _=g.getTargetPortId();_&&s[_]&&g.remove()}),l.getConnectedEdges(this,{outgoing:!0}).forEach(g=>{const _=g.getSourcePortId();_&&s[_]&&g.remove()}))}validatePorts(){const n={},i=[];return this.ports.items.forEach(s=>{"object"!=typeof s&&i.push(`Invalid port ${s}.`),null==s.id&&(s.id=this.generatePortId()),n[s.id]&&i.push("Duplicitied port id."),n[s.id]=!0}),i}generatePortId(){return Ql()}updatePortData(){const n=this.validatePorts();if(n.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(n.join(" "));const i=this.port?this.port.getPorts():null;this.port=new iT(this.ports);const s=this.port.getPorts(),a=i?s.filter(c=>i.find(u=>u.id===c.id)?null:c):[...s],l=i?i.filter(c=>s.find(u=>u.id===c.id)?null:c):[];a.length>0&&this.notify("ports:added",{added:a,cell:this,node:this}),l.length>0&&this.notify("ports:removed",{removed:l,cell:this,node:this})}}return o.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},o})();(function(o){o.toStringTag=`X6.${o.name}`,o.isNode=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNode&&"function"==typeof n.isEdge&&"function"==typeof n.prop&&"function"==typeof n.attr&&"function"==typeof n.size&&"function"==typeof n.position}})($n||($n={})),function(o){o.config({propHooks(e){var{ports:n}=e,i=Dc(e,["ports"]);return n&&(i.ports=Array.isArray(n)?{items:n}:n),i}})}($n||($n={})),function(o){o.registry=In.create({type:"node",process(e,n){if(rr.exist(e,!0))throw new Error(`Node with name '${e}' was registered by anthor Edge`);if("function"==typeof n)return n.config({shape:e}),n;let i=o;const{inherit:s}=n,a=Dc(n,["inherit"]);if(s)if("string"==typeof s){const c=this.get(s);null==c?this.onNotFound(s,"inherited"):i=c}else i=s;null==a.constructorName&&(a.constructorName=e);const l=i.define.call(i,a);return l.config({shape:e}),l}}),rr.setNodeRegistry(o.registry)}($n||($n={})),function(o){let e=0;o.define=function i(a){const{constructorName:l,overwrite:c}=a,u=Dc(a,["constructorName","overwrite"]),g=Wl(function n(a){return a?ip(a):(e+=1,`CustomNode${e}`)}(l||u.shape),this);return g.config(u),u.shape&&o.registry.register(u.shape,g,c),g},o.create=function s(a){const l=a.shape||"rect",c=o.registry.get(l);return c?new c(a):o.registry.onNotFound(l)}}($n||($n={}));var wc=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};let Rn=(()=>{class o extends an{get[Symbol.toStringTag](){return o.toStringTag}constructor(n={}){super(n)}preprocess(n,i){const{source:s,sourceCell:a,sourcePort:l,sourcePoint:c,target:u,targetCell:g,targetPort:_,targetPoint:z}=n,x=wc(n,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),N=$=>"string"==typeof $||"number"==typeof $;if(null!=s)if(an.isCell(s))x.source={cell:s.id};else if(N(s))x.source={cell:s};else if(ve.isPoint(s))x.source=s.toJSON();else if(Array.isArray(s))x.source={x:s[0],y:s[1]};else{const $=s.cell;x.source=an.isCell($)?Object.assign(Object.assign({},s),{cell:$.id}):s}if(null!=a||null!=l){let $=x.source;if(null!=a){const U=N(a)?a:a.id;$?$.cell=U:$=x.source={cell:U}}null!=l&&$&&($.port=l)}else null!=c&&(x.source=ve.create(c).toJSON());if(null!=u)if(an.isCell(u))x.target={cell:u.id};else if(N(u))x.target={cell:u};else if(ve.isPoint(u))x.target=u.toJSON();else if(Array.isArray(u))x.target={x:u[0],y:u[1]};else{const $=u.cell;x.target=an.isCell($)?Object.assign(Object.assign({},u),{cell:$.id}):u}if(null!=g||null!=_){let $=x.target;if(null!=g){const U=N(g)?g:g.id;$?$.cell=U:$=x.target={cell:U}}null!=_&&$&&($.port=_)}else null!=z&&(x.target=ve.create(z).toJSON());return super.preprocess(x,i)}setup(){super.setup(),this.on("change:labels",n=>this.onLabelsChanged(n)),this.on("change:vertices",n=>this.onVertexsChanged(n))}isEdge(){return!0}disconnect(n={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},n),this}get source(){return this.getSource()}set source(n){this.setSource(n)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(n,i,s={}){return this.setTerminal("source",n,i,s)}get target(){return this.getTarget()}set target(n){this.setTarget(n)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(n,i,s={}){return this.setTerminal("target",n,i,s)}getTerminal(n){return Object.assign({},this.store.get(n))}setTerminal(n,i,s,a={}){if(an.isCell(i))return this.store.set(n,Mn({},s,{cell:i.id}),a),this;const l=i;return ve.isPoint(i)||null!=l.x&&null!=l.y?(this.store.set(n,Mn({},s,{x:l.x,y:l.y}),a),this):(this.store.set(n,En(i),a),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(n){const i=this[n];if(ve.isPointLike(i))return ve.create(i);const s=this.getTerminalCell(n);return s?s.getConnectionPoint(this,n):new ve}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(n){if(this.model){const i="source"===n?this.getSourceCellId():this.getTargetCellId();if(i)return this.model.getCell(i)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(n){let i=this;const s={};for(;i&&i.isEdge();){if(s[i.id])return null;s[i.id]=!0,i=i.getTerminalCell(n)}return i&&i.isNode()?i:null}get router(){return this.getRouter()}set router(n){null==n?this.removeRouter():this.setRouter(n)}getRouter(){return this.store.get("router")}setRouter(n,i,s){return"object"==typeof n?this.store.set("router",n,i):this.store.set("router",{name:n,args:i},s),this}removeRouter(n={}){return this.store.remove("router",n),this}get connector(){return this.getConnector()}set connector(n){null==n?this.removeConnector():this.setConnector(n)}getConnector(){return this.store.get("connector")}setConnector(n,i,s){return"object"==typeof n?this.store.set("connector",n,i):this.store.set("connector",{name:n,args:i},s),this}removeConnector(n={}){return this.store.remove("connector",n)}getDefaultLabel(){const n=this.constructor,i=this.store.get("defaultLabel")||n.defaultLabel||{};return En(i)}get labels(){return this.getLabels()}set labels(n){this.setLabels(n)}getLabels(){return[...this.store.get("labels",[])].map(n=>this.parseLabel(n))}setLabels(n,i={}){return this.store.set("labels",Array.isArray(n)?n:[n],i),this}insertLabel(n,i,s={}){const a=this.getLabels(),l=a.length;let c=null!=i&&Number.isFinite(i)?i:l;return c<0&&(c=l+c+1),a.splice(c,0,this.parseLabel(n)),this.setLabels(a,s)}appendLabel(n,i={}){return this.insertLabel(n,-1,i)}getLabelAt(n){const i=this.getLabels();return null!=n&&Number.isFinite(n)?this.parseLabel(i[n]):null}setLabelAt(n,i,s={}){if(null!=n&&Number.isFinite(n)){const a=this.getLabels();a[n]=this.parseLabel(i),this.setLabels(a,s)}return this}removeLabelAt(n,i={}){const s=this.getLabels(),a=null!=n&&Number.isFinite(n)?n:-1,l=s.splice(a,1);return this.setLabels(s,i),l.length?l[0]:null}parseLabel(n){return"string"==typeof n?this.constructor.parseStringLabel(n):n}onLabelsChanged({previous:n,current:i}){const s=n&&i?i.filter(l=>n.find(c=>l===c||di(l,c))?null:l):i?[...i]:[],a=n&&i?n.filter(l=>i.find(c=>l===c||di(l,c))?null:l):n?[...n]:[];s.length>0&&this.notify("labels:added",{added:s,cell:this,edge:this}),a.length>0&&this.notify("labels:removed",{removed:a,cell:this,edge:this})}get vertices(){return this.getVertices()}set vertices(n){this.setVertices(n)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(n,i={}){const s=Array.isArray(n)?n:[n];return this.store.set("vertices",s.map(a=>ve.toJSON(a)),i),this}insertVertex(n,i,s={}){const a=this.getVertices(),l=a.length;let c=null!=i&&Number.isFinite(i)?i:l;return c<0&&(c=l+c+1),a.splice(c,0,ve.toJSON(n)),this.setVertices(a,s)}appendVertex(n,i={}){return this.insertVertex(n,-1,i)}getVertexAt(n){return null!=n&&Number.isFinite(n)?this.getVertices()[n]:null}setVertexAt(n,i,s={}){if(null!=n&&Number.isFinite(n)){const a=this.getVertices();a[n]=i,this.setVertices(a,s)}return this}removeVertexAt(n,i={}){const s=this.getVertices(),a=null!=n&&Number.isFinite(n)?n:-1;return s.splice(a,1),this.setVertices(s,i)}onVertexsChanged({previous:n,current:i}){const s=n&&i?i.filter(l=>n.find(c=>ve.equals(l,c))?null:l):i?[...i]:[],a=n&&i?n.filter(l=>i.find(c=>ve.equals(l,c))?null:l):n?[...n]:[];s.length>0&&this.notify("vertexs:added",{added:s,cell:this,edge:this}),a.length>0&&this.notify("vertexs:removed",{removed:a,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Sn.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}translate(n,i,s={}){return s.translateBy=s.translateBy||this.id,s.tx=n,s.ty=i,this.applyToPoints(a=>({x:(a.x||0)+n,y:(a.y||0)+i}),s)}scale(n,i,s,a={}){return this.applyToPoints(l=>ve.create(l).scale(n,i,s).toJSON(),a)}applyToPoints(n,i={}){const s={},a=this.getSource(),l=this.getTarget();ve.isPointLike(a)&&(s.source=n(a)),ve.isPointLike(l)&&(s.target=n(l));const c=this.getVertices();return c.length>0&&(s.vertices=c.map(n)),this.store.set(s,i),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const n=[this.getSourcePoint(),...this.getVertices().map(i=>ve.create(i)),this.getTargetPoint()];return new Nn(n)}updateParent(n){let i=null;const s=this.getSourceCell(),a=this.getTargetCell(),l=this.getParent();return s&&a&&(i=s===a||s.isDescendantOf(a)?a:a.isDescendantOf(s)?s:an.getCommonAncestor(s,a)),l&&i&&i.id!==l.id&&l.unembed(this,n),i&&(!l||l.id!==i.id)&&i.embed(this,n),i}hasLoop(n={}){const i=this.getSource(),s=this.getTarget(),a=i.cell,l=s.cell;if(!a||!l)return!1;let c=a===l;if(!c&&n.deep&&this._model){const u=this.getSourceCell(),g=this.getTargetCell();u&&g&&(c=u.isAncestorOf(g,n)||g.isAncestorOf(u,n))}return c}getFragmentAncestor(){const n=[this,this.getSourceNode(),this.getTargetNode()].filter(i=>null!=i);return this.getCommonAncestor(...n)}isFragmentDescendantOf(n){const i=this.getFragmentAncestor();return!!i&&(i.id===n.id||i.isDescendantOf(n))}}return o.defaults={},o})();(function(o){o.equalTerminals=function e(n,i){return n.cell===i.cell&&(n.port===i.port||null==n.port&&null==i.port)}})(Rn||(Rn={})),function(o){o.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}},o.parseStringLabel=function e(n){return{attrs:{label:{text:n}}}}}(Rn||(Rn={})),function(o){o.toStringTag=`X6.${o.name}`,o.isEdge=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNode&&"function"==typeof n.isEdge&&"function"==typeof n.prop&&"function"==typeof n.attr&&"function"==typeof n.disconnect&&"function"==typeof n.getSource&&"function"==typeof n.getTarget}}(Rn||(Rn={})),function(o){o.registry=In.create({type:"edge",process(e,n){if(rr.exist(e,!1))throw new Error(`Edge with name '${e}' was registered by anthor Node`);if("function"==typeof n)return n.config({shape:e}),n;let i=o;const{inherit:s="edge"}=n,a=wc(n,["inherit"]);if("string"==typeof s){const c=this.get(s||"edge");null==c&&s?this.onNotFound(s,"inherited"):i=c}else i=s;null==a.constructorName&&(a.constructorName=e);const l=i.define.call(i,a);return l.config({shape:e}),l}}),rr.setEdgeRegistry(o.registry)}(Rn||(Rn={})),function(o){let e=0;o.define=function i(a){const{constructorName:l,overwrite:c}=a,u=wc(a,["constructorName","overwrite"]),g=Wl(function n(a){return a?ip(a):(e+=1,`CustomEdge${e}`)}(l||u.shape),this);return g.config(u),u.shape&&o.registry.register(u.shape,g,c),g},o.create=function s(a){const l=a.shape||"edge",c=o.registry.get(l);return c?new c(a):o.registry.onNotFound(l)}}(Rn||(Rn={})),function(o){const e="basic.edge";o.config({shape:e,propHooks(n){const{label:i,vertices:s}=n,a=wc(n,["label","vertices"]);if(i){null==a.labels&&(a.labels=[]);const l="string"==typeof i?o.parseStringLabel(i):i;a.labels.push(l)}return s&&Array.isArray(s)&&(a.vertices=s.map(l=>ve.create(l).toJSON())),a}}),o.registry.register(e,o)}(Rn||(Rn={}));class Mc extends ii{constructor(e,n={}){super(),this.length=0,this.comparator=n.comparator||"zIndex",this.clean(),e&&this.reset(e,{silent:!0})}toJSON(){return this.cells.map(e=>e.toJSON())}add(e,n,i){let s,a;"number"==typeof n?(s=n,a=Object.assign({merge:!1},i)):(s=this.length,a=Object.assign({merge:!1},n)),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);const l=Array.isArray(e)?e:[e],c=this.comparator&&"number"!=typeof n&&!1!==a.sort,u=this.comparator||null;let g=!1;const _=[],z=[];return l.forEach(y=>{const x=this.get(y);x?a.merge&&!y.isSameStore(x)&&(x.setProp(y.getProp(),i),z.push(x),c&&!g&&(g=null==u||"function"==typeof u?x.hasChanged():"string"==typeof u?x.hasChanged(u):u.some(N=>x.hasChanged(N)))):(_.push(y),this.reference(y))}),_.length&&(c&&(g=!0),this.cells.splice(s,0,..._),this.length=this.cells.length),g&&this.sort({silent:!0}),a.silent||(_.forEach((y,x)=>{const N={cell:y,index:s+x,options:a};this.trigger("added",N),a.dryrun||y.notify("added",Object.assign({},N))}),g&&this.trigger("sorted"),(_.length||z.length)&&this.trigger("updated",{added:_,merged:z,removed:[],options:a})),this}remove(e,n={}){const i=Array.isArray(e)?e:[e],s=this.removeCells(i,n);return!n.silent&&s.length>0&&this.trigger("updated",{options:n,removed:s,added:[],merged:[]}),Array.isArray(e)?s:s[0]}removeCells(e,n){const i=[];for(let s=0;s<e.length;s+=1){const a=this.get(e[s]);if(null==a)continue;const l=this.cells.indexOf(a);this.cells.splice(l,1),this.length-=1,delete this.map[a.id],i.push(a),this.unreference(a),n.dryrun||a.remove(),n.silent||(this.trigger("removed",{cell:a,index:l,options:n}),n.dryrun||a.notify("removed",{cell:a,index:l,options:n}))}return i}reset(e,n={}){const i=this.cells.slice();if(i.forEach(s=>this.unreference(s)),this.clean(),this.add(e,Object.assign({silent:!0},n)),!n.silent){const s=this.cells.slice();this.trigger("reseted",{options:n,previous:i,current:s});const a=[],l=[];s.forEach(c=>{i.some(g=>g.id===c.id)||a.push(c)}),i.forEach(c=>{s.some(g=>g.id===c.id)||l.push(c)}),this.trigger("updated",{options:n,added:a,removed:l,merged:[]})}return this}push(e,n){return this.add(e,this.length,n)}pop(e){const n=this.at(this.length-1);return this.remove(n,e)}unshift(e,n){return this.add(e,0,n)}shift(e){const n=this.at(0);return this.remove(n,e)}get(e){return null==e?null:this.map["string"==typeof e||"number"==typeof e?e:e.id]||null}has(e){return null!=this.get(e)}at(e){return e<0&&(e+=this.length),this.cells[e]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(e){return this.cells.indexOf(e)}toArray(){return this.cells.slice()}sort(e={}){return null!=this.comparator&&(this.cells=Lf(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}clone(){return new(0,this.constructor)(this.cells.slice(),{comparator:this.comparator})}reference(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}unreference(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}notifyCellEvent(e,n){const i=n.cell;this.trigger(`cell:${e}`,n),i&&(i.isNode()?this.trigger(`node:${e}`,Object.assign(Object.assign({},n),{node:i})):i.isEdge()&&this.trigger(`edge:${e}`,Object.assign(Object.assign({},n),{edge:i})))}clean(){this.length=0,this.cells=[],this.map={}}dispose(){this.reset([])}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Mc.dispose()],Mc.prototype,"dispose",null);class mi extends ii{get[Symbol.toStringTag](){return mi.toStringTag}constructor(e=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new Mc(e),this.setup()}notify(e,n){this.trigger(e,n);const i=this.graph;return i&&i.trigger("sorted"===e||"reseted"===e||"updated"===e?`model:${e}`:e,n),this}setup(){const e=this.collection;e.on("sorted",()=>this.notify("sorted",null)),e.on("updated",n=>this.notify("updated",n)),e.on("cell:change:zIndex",()=>this.sortOnChangeZ()),e.on("added",({cell:n})=>{this.onCellAdded(n)}),e.on("removed",n=>{const i=n.cell;this.onCellRemoved(i,n.options),this.notify("cell:removed",n),i.isNode()?this.notify("node:removed",Object.assign(Object.assign({},n),{node:i})):i.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},n),{edge:i}))}),e.on("reseted",n=>{this.onReset(n.current),this.notify("reseted",n)}),e.on("edge:change:source",({edge:n})=>this.onEdgeTerminalChanged(n,"source")),e.on("edge:change:target",({edge:n})=>{this.onEdgeTerminalChanged(n,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(e){const n=e.id;e.isEdge()?(e.updateParent(),this.edges[n]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[n]=!0}onCellRemoved(e,n){const i=e.id;if(e.isEdge()){delete this.edges[i];const s=e.getSource(),a=e.getTarget();if(s&&s.cell){const l=this.outgoings[s.cell],c=l?l.indexOf(i):-1;c>=0&&(l.splice(c,1),0===l.length&&delete this.outgoings[s.cell])}if(a&&a.cell){const l=this.incomings[a.cell],c=l?l.indexOf(i):-1;c>=0&&(l.splice(c,1),0===l.length&&delete this.incomings[a.cell])}}else delete this.nodes[i];n.clear||(n.disconnectEdges?this.disconnectConnectedEdges(e,n):this.removeConnectedEdges(e,n)),e.model===this&&(e.model=null)}onReset(e){this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach(n=>this.onCellAdded(n))}onEdgeTerminalChanged(e,n){const i="source"===n?this.outgoings:this.incomings,s=e.previous(n);if(s&&s.cell){const l=an.isCell(s.cell)?s.cell.id:s.cell,c=i[l],u=c?c.indexOf(e.id):-1;u>=0&&(c.splice(u,1),0===c.length&&delete i[l])}const a=e.getTerminal(n);if(a&&a.cell){const l=an.isCell(a.cell)?a.cell.id:a.cell,c=i[l]||[];-1===c.indexOf(e.id)&&c.push(e.id),i[l]=c}}prepareCell(e,n){return!e.model&&(!n||!n.dryrun)&&(e.model=this),null==e.zIndex&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}resetCells(e,n={}){return e.map(i=>this.prepareCell(i,Object.assign(Object.assign({},n),{dryrun:!0}))),this.collection.reset(e,n),e.map(i=>this.prepareCell(i,{options:n})),this}clear(e={}){const n=this.getCells();if(0===n.length)return this;const i=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",()=>{const s=n.sort((a,l)=>(a.isEdge()?1:2)-(l.isEdge()?1:2));for(;s.length>0;){const a=s.shift();a&&a.remove(i)}},i),this}addNode(e,n={}){const i=$n.isNode(e)?e:this.createNode(e);return this.addCell(i,n),i}updateNode(e,n={}){const i=this.createNode(e),s=i.getProp();return i.dispose(),this.updateCell(s,n)}createNode(e){return $n.create(e)}addEdge(e,n={}){const i=Rn.isEdge(e)?e:this.createEdge(e);return this.addCell(i,n),i}createEdge(e){return Rn.create(e)}updateEdge(e,n={}){const i=this.createEdge(e),s=i.getProp();return i.dispose(),this.updateCell(s,n)}addCell(e,n={}){return Array.isArray(e)?this.addCells(e,n):(!this.collection.has(e)&&!this.addings.has(e)&&(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,n),n),e.eachChild(i=>this.addCell(i,n)),this.addings.delete(e)),this)}addCells(e,n={}){const i=e.length;if(0===i)return this;const s=Object.assign(Object.assign({},n),{position:i-1,maxPosition:i-1});return this.startBatch("add",Object.assign(Object.assign({},s),{cells:e})),e.forEach(a=>{this.addCell(a,s),s.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},s),{cells:e})),this}updateCell(e,n={}){const i=e.id&&this.getCell(e.id);return!!i&&this.batchUpdate("update",()=>(Object.entries(e).forEach(([s,a])=>i.setProp(s,a,n)),!0),e)}removeCell(e,n={}){const i="string"==typeof e?this.getCell(e):e;return i&&this.has(i)?this.collection.remove(i,n):null}updateCellId(e,n){if(e.id===n)return;this.startBatch("update",{id:n}),e.prop("id",n);const i=e.clone({keepId:!0});return this.addCell(i),this.getConnectedEdges(e).forEach(a=>{const l=a.getSourceCell(),c=a.getTargetCell();l===e&&a.setSource(Object.assign(Object.assign({},a.getSource()),{cell:n})),c===e&&a.setTarget(Object.assign(Object.assign({},a.getTarget()),{cell:n}))}),this.removeCell(e),this.stopBatch("update",{id:n}),i}removeCells(e,n={}){return e.length?this.batchUpdate("remove",()=>e.map(i=>this.removeCell(i,n))):[]}removeConnectedEdges(e,n={}){const i=this.getConnectedEdges(e);return i.forEach(s=>{s.remove(n)}),i}disconnectConnectedEdges(e,n={}){const i="string"==typeof e?e:e.id;this.getConnectedEdges(e).forEach(s=>{const a=s.getSourceCellId(),l=s.getTargetCellId();a===i&&s.setSource({x:0,y:0},n),l===i&&s.setTarget({x:0,y:0},n)})}has(e){return this.collection.has(e)}total(){return this.collection.length}indexOf(e){return this.collection.indexOf(e)}getCell(e){return this.collection.get(e)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const e=this.collection.first();return e&&e.getZIndex()||0}getMaxZIndex(){const e=this.collection.last();return e&&e.getZIndex()||0}getCellsFromCache(e){return e?Object.keys(e).map(n=>this.getCell(n)).filter(n=>null!=n):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(e){const i=this.outgoings["string"==typeof e?e:e.id];return i?i.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getIncomingEdges(e){const i=this.incomings["string"==typeof e?e:e.id];return i?i.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getConnectedEdges(e,n={}){const i=[],s="string"==typeof e?this.getCell(e):e;if(null==s)return i;const a={},l=n.indirect;let c=n.incoming,u=n.outgoing;null==c&&null==u&&(c=u=!0);const g=(_,z)=>{const y=z?this.getOutgoingEdges(_):this.getIncomingEdges(_);if(y?.forEach(x=>{a[x.id]||(i.push(x),a[x.id]=!0,l&&(c&&g(x,!1),u&&g(x,!0)))}),l&&_.isEdge()){const x=z?_.getTargetCell():_.getSourceCell();x&&x.isEdge()&&(a[x.id]||(i.push(x),g(x,z)))}};if(u&&g(s,!0),c&&g(s,!1),n.deep){const _=s.getDescendants({deep:!0}),z={};_.forEach(x=>{x.isNode()&&(z[x.id]=!0)});const y=(x,N)=>{const $=N?this.getOutgoingEdges(x.id):this.getIncomingEdges(x.id);$?.forEach(U=>{if(!a[U.id]){const Q=U.getSourceCell(),le=U.getTargetCell();if(!n.enclosed&&Q&&z[Q.id]&&le&&z[le.id])return;i.push(U),a[U.id]=!0}})};_.forEach(x=>{x.isEdge()||(u&&y(x,!0),c&&y(x,!1))})}return i}isBoundary(e,n){const i="string"==typeof e?this.getCell(e):e,s=n?this.getIncomingEdges(i):this.getOutgoingEdges(i);return null==s||0===s.length}getBoundaryNodes(e){const n=[];return Object.keys(this.nodes).forEach(i=>{if(this.isBoundary(i,e)){const s=this.getCell(i);s&&n.push(s)}}),n}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(e){return this.isBoundary(e,!0)}isLeaf(e){return this.isBoundary(e,!1)}getNeighbors(e,n={}){let i=n.incoming,s=n.outgoing;null==i&&null==s&&(i=s=!0);const l=this.getConnectedEdges(e,n).reduce((c,u)=>{const g=u.hasLoop(n),_=u.getSourceCell(),z=u.getTargetCell();return i&&_&&_.isNode()&&!c[_.id]&&(g||_!==e&&(!n.deep||!_.isDescendantOf(e)))&&(c[_.id]=_),s&&z&&z.isNode()&&!c[z.id]&&(g||z!==e&&(!n.deep||!z.isDescendantOf(e)))&&(c[z.id]=z),c},{});if(e.isEdge()){if(i){const c=e.getSourceCell();c&&c.isNode()&&!l[c.id]&&(l[c.id]=c)}if(s){const c=e.getTargetCell();c&&c.isNode()&&!l[c.id]&&(l[c.id]=c)}}return Object.keys(l).map(c=>l[c])}isNeighbor(e,n,i={}){let s=i.incoming,a=i.outgoing;return null==s&&null==a&&(s=a=!0),this.getConnectedEdges(e,i).some(l=>{const c=l.getSourceCell(),u=l.getTargetCell();return!!(s&&c&&c.id===n.id||a&&u&&u.id===n.id)})}getSuccessors(e,n={}){const i=[];return this.search(e,(s,a)=>{s!==e&&this.matchDistance(a,n.distance)&&i.push(s)},Object.assign(Object.assign({},n),{outgoing:!0})),i}isSuccessor(e,n,i={}){let s=!1;return this.search(e,(a,l)=>{if(a===n&&a!==e&&this.matchDistance(l,i.distance))return s=!0,!1},Object.assign(Object.assign({},i),{outgoing:!0})),s}getPredecessors(e,n={}){const i=[];return this.search(e,(s,a)=>{s!==e&&this.matchDistance(a,n.distance)&&i.push(s)},Object.assign(Object.assign({},n),{incoming:!0})),i}isPredecessor(e,n,i={}){let s=!1;return this.search(e,(a,l)=>{if(a===n&&a!==e&&this.matchDistance(l,i.distance))return s=!0,!1},Object.assign(Object.assign({},i),{incoming:!0})),s}matchDistance(e,n){return null==n||("function"==typeof n?n(e):!(!Array.isArray(n)||!n.includes(e))||e===n)}getCommonAncestor(...e){const n=[];return e.forEach(i=>{i&&(Array.isArray(i)?n.push(...i):n.push(i))}),an.getCommonAncestor(...n)}getSubGraph(e,n={}){const i=[],s={},a=[],l=[],c=u=>{s[u.id]||(i.push(u),s[u.id]=u,u.isEdge()&&l.push(u),u.isNode()&&a.push(u))};return e.forEach(u=>{c(u),n.deep&&u.getDescendants({deep:!0}).forEach(_=>c(_))}),l.forEach(u=>{const g=u.getSourceCell(),_=u.getTargetCell();g&&!s[g.id]&&(i.push(g),s[g.id]=g,g.isNode()&&a.push(g)),_&&!s[_.id]&&(i.push(_),s[_.id]=_,_.isNode()&&a.push(_))}),a.forEach(u=>{this.getConnectedEdges(u,n).forEach(_=>{const z=_.getSourceCell(),y=_.getTargetCell();!s[_.id]&&z&&s[z.id]&&y&&s[y.id]&&(i.push(_),s[_.id]=_)})}),i}cloneSubGraph(e,n={}){const i=this.getSubGraph(e,n);return this.cloneCells(i)}cloneCells(e){return an.cloneCells(e)}getNodesFromPoint(e,n){const i="number"==typeof e?{x:e,y:n||0}:e;return this.getNodes().filter(s=>s.getBBox().containsPoint(i))}getNodesInArea(e,n,i,s,a){const l="number"==typeof e?new St(e,n,i,s):St.create(e),c="number"==typeof e?a:n,u=c&&c.strict;return this.getNodes().filter(g=>{const _=g.getBBox();return u?l.containsRect(_):l.isIntersectWithRect(_)})}getEdgesInArea(e,n,i,s,a){const l="number"==typeof e?new St(e,n,i,s):St.create(e),c="number"==typeof e?a:n,u=c&&c.strict;return this.getEdges().filter(g=>{const _=g.getBBox();return 0===_.width?_.inflate(1,0):0===_.height&&_.inflate(0,1),u?l.containsRect(_):l.isIntersectWithRect(_)})}getNodesUnderNode(e,n={}){const i=e.getBBox();return(null==n.by||"bbox"===n.by?this.getNodesInArea(i):this.getNodesFromPoint(i[n.by])).filter(a=>e.id!==a.id&&!a.isDescendantOf(e))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(e,n={}){return an.getCellsBBox(e,n)}search(e,n,i={}){i.breadthFirst?this.breadthFirstSearch(e,n,i):this.depthFirstSearch(e,n,i)}breadthFirstSearch(e,n,i={}){const s=[],a={},l={};for(s.push(e),l[e.id]=0;s.length>0;){const c=s.shift();null==c||a[c.id]||(a[c.id]=!0,!1===Ot(n,this,c,l[c.id]))||this.getNeighbors(c,i).forEach(g=>{l[g.id]=l[c.id]+1,s.push(g)})}}depthFirstSearch(e,n,i={}){const s=[],a={},l={};for(s.push(e),l[e.id]=0;s.length>0;){const c=s.pop();if(null==c||a[c.id]||(a[c.id]=!0,!1===Ot(n,this,c,l[c.id])))continue;const u=this.getNeighbors(c,i),g=s.length;u.forEach(_=>{l[_.id]=l[c.id]+1,s.splice(g,0,_)})}}getShortestPath(e,n,i={}){const s={};this.getEdges().forEach(g=>{const _=g.getSourceCellId(),z=g.getTargetCellId();_&&z&&(s[_]||(s[_]=[]),s[z]||(s[z]=[]),s[_].push(z),i.directed||s[z].push(_))});const l=kp.run(s,"string"==typeof e?e:e.id,i.weight),c=[];let u="string"==typeof n?n:n.id;for(l[u]&&c.push(u);u=l[u];)c.unshift(u);return c}translate(e,n,i){return this.getCells().filter(s=>!s.hasParent()).forEach(s=>s.translate(e,n,i)),this}resize(e,n,i){return this.resizeCells(e,n,this.getCells(),i)}resizeCells(e,n,i,s={}){const a=this.getCellsBBox(i);if(a){const l=Math.max(e/a.width,0),c=Math.max(n/a.height,0),u=a.getOrigin();i.forEach(g=>g.scale(l,c,u,s))}return this}toJSON(e={}){return mi.toJSON(this.getCells(),e)}parseJSON(e){return mi.fromJSON(e)}fromJSON(e,n={}){const i=this.parseJSON(e);return this.resetCells(i,n),this}startBatch(e,n={}){return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:n}),this}stopBatch(e,n={}){return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:n}),this}batchUpdate(e,n,i={}){this.startBatch(e,i);const s=n();return this.stopBatch(e,i),s}hasActiveBatch(e=Object.keys(this.batches)){return(Array.isArray(e)?e:[e]).some(i=>this.batches[i]>0)}dispose(){this.collection.dispose()}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([mi.dispose()],mi.prototype,"dispose",null),function(o){o.toStringTag=`X6.${o.name}`,o.isModel=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.addNode&&"function"==typeof n.addEdge&&null!=n.collection}}(mi||(mi={})),function(o){o.toJSON=function e(i,s={}){return{cells:i.map(a=>a.toJSON(s))}},o.fromJSON=function n(i){const s=[];return Array.isArray(i)?s.push(...i):(i.cells&&s.push(...i.cells),i.nodes&&i.nodes.forEach(a=>{null==a.shape&&(a.shape="rect"),s.push(a)}),i.edges&&i.edges.forEach(a=>{null==a.shape&&(a.shape="edge"),s.push(a)})),s.map(a=>{const l=a.shape;if(l){if($n.registry.exist(l))return $n.create(a);if(Rn.registry.exist(l))return Rn.create(a)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}}(mi||(mi={}));class Os extends $n{get label(){return this.getLabel()}set label(e){this.setLabel(e)}getLabel(){return this.getAttrByPath("text/text")}setLabel(e,n){return null==e?this.removeLabel():this.setAttrByPath("text/text",e,n),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}function lT(o,e="body"){return[{tagName:o,selector:e},{tagName:"text",selector:"label"}]}function ar(o,e,n={}){const i={constructorName:o,markup:lT(o,n.selector),attrs:{[o]:Object.assign({},Os.bodyAttr)}};return(n.parent||Os).define(Mn(i,e,{shape:o}))}!function(o){o.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},o.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},o.config({attrs:{text:Object.assign({},o.labelAttr)},propHooks(e){const{label:n}=e,i=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(e,["label"]);return n&&Hs(i,"attrs/text/text",n),i},visible:!0})}(Os||(Os={})),ar("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});const v_=Rn.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});ar("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});class lr extends Os{get points(){return this.getPoints()}set points(e){this.setPoints(e)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(e,n){return null==e?this.removePoints():this.setAttrByPath("body/refPoints",lr.pointsToString(e),n),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}!function(o){function e(n){return"string"==typeof n?n:n.map(i=>Array.isArray(i)?i.join(","):ve.isPointLike(i)?`${i.x}, ${i.y}`:"").join(" ")}o.pointsToString=e,o.config({propHooks(n){const{points:i}=n,s=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(n,["points"]);if(i){const a=e(i);a&&Hs(s,"attrs/body/refPoints",a)}return s}})}(lr||(lr={})),ar("polygon",{},{parent:lr}),ar("polyline",{},{parent:lr}),Os.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(o){const{path:e}=o,n=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["path"]);return e&&Hs(n,"attrs/body/refD",e),n}}),Os.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},fs.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:Ln.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},Os.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(o){const{text:e}=o,n=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(o,["text"]);return e&&Hs(n,"attrs/label/text",e),n},attrHooks:{text:{set(o,{cell:e,view:n,refBBox:i,elem:s,attrs:a}){if(!(s instanceof HTMLElement)){const l=a.style||{},c={text:o,width:-5,height:"100%"},u=Object.assign({textVerticalAnchor:"middle"},l);return Ot(ki.presets.textWrap.set,this,c,{cell:e,view:n,elem:s,refBBox:i,attrs:u}),{fill:l.color||null}}s.textContent=o},position(o,{refBBox:e,elem:n}){if(n instanceof SVGElement)return e.getCenter()}}}}),ar("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:function cT(o="xlink:href"){return n=>{const{imageUrl:i,imageWidth:s,imageHeight:a}=n,l=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(n,["imageUrl","imageWidth","imageHeight"]);if(null!=i||null!=s||null!=a){const c=()=>{if(l.attrs){const u=l.attrs.image;null!=i&&(u[o]=i),null!=s&&(u.width=s),null!=a&&(u.height=a),l.attrs.image=u}};l.attrs?(null==l.attrs.image&&(l.attrs.image={}),c()):(l.attrs={image:{}},c())}return l}}()},{selector:"image"}),ar("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});class _i extends An{constructor(){super(...arguments),this.portsCache={}}get[Symbol.toStringTag](){return _i.toStringTag}getContainerClassName(){const e=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}updateClassName(e){const n=e.target;if(n.hasAttribute("magnet")){const i=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?ai(n,i):dn(n,i)}else{const i=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(i):this.addClass(i)}}isNodeView(){return!0}confirmUpdate(e,n={}){let i=e;return this.hasAction(i,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(i,"render")?(this.render(),i=this.removeAction(i,["render","update","resize","translate","rotate","ports","tools"])):(i=this.handleAction(i,"resize",()=>this.resize(),"update"),i=this.handleAction(i,"update",()=>this.update(),Xn.useCSSSelector?"ports":null),i=this.handleAction(i,"translate",()=>this.translate()),i=this.handleAction(i,"rotate",()=>this.rotate()),i=this.handleAction(i,"ports",()=>this.renderPorts()),i=this.handleAction(i,"tools",()=>{this.getFlag("tools")===e?this.renderTools():this.updateTools(n)})),i}update(e){this.cleanCache(),Xn.useCSSSelector&&this.removePorts();const n=this.cell,i=n.getSize(),s=n.getAttrs();this.updateAttrs(this.container,s,{attrs:e===s?null:e,rootBBox:new St(0,0,i.width,i.height),selectors:this.selectors}),Xn.useCSSSelector&&this.renderPorts()}renderMarkup(){const e=this.cell.markup;if(e){if("string"==typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid node markup.")}renderJSONMarkup(e){const n=this.parseJSONMarkup(e,this.container);this.selectors=n.selectors,this.container.appendChild(n.fragment)}render(){return this.empty(),this.renderMarkup(),this.resize(),this.updateTransform(),Xn.useCSSSelector||this.renderPorts(),this.renderTools(),this}resize(){this.cell.getAngle()&&this.rotate(),this.update()}translate(){this.updateTransform()}rotate(){this.updateTransform()}getTranslationString(){const e=this.cell.getPosition();return`translate(${e.x},${e.y})`}getRotationString(){const e=this.cell.getAngle();if(e){const n=this.cell.getSize();return`rotate(${e},${n.width/2},${n.height/2})`}}updateTransform(){let e=this.getTranslationString();const n=this.getRotationString();n&&(e+=` ${n}`),this.container.setAttribute("transform",e)}findPortElem(e,n){const i=e?this.portsCache[e]:null;return i?this.findOne(n,i.portContentElement,i.portContentSelectors||{}):null}cleanPortsCache(){this.portsCache={}}removePorts(){Object.values(this.portsCache).forEach(e=>{Ys(e.portElement)})}renderPorts(){const e=this.container,n=[];e.childNodes.forEach(l=>{n.push(l)});const i=this.cell.getParsedPorts(),s=qu(i,"zIndex"),a="auto";s[a]&&s[a].forEach(l=>{const c=this.getPortElement(l);e.append(c),n.push(c)}),Object.keys(s).forEach(l=>{if(l!==a){const c=parseInt(l,10);this.appendPorts(s[l],c,n)}}),this.updatePorts()}appendPorts(e,n,i){const s=e.map(a=>this.getPortElement(a));i[n]||n<0?ec(i[Math.max(n,0)],s):Bo(this.container,s)}getPortElement(e){const n=this.portsCache[e.id];return n?n.portElement:this.createPortElement(e)}createPortElement(e){let n=Sn.renderMarkup(this.cell.getPortContainerMarkup());const i=n.elem;if(null==i)throw new Error("Invalid port container markup.");n=Sn.renderMarkup(this.getPortMarkup(e));const s=n.elem,a=n.selectors;if(null==s)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},s);let l="x6-port";e.group&&(l+=` x6-port-${e.group}`),dn(i,l),dn(i,"x6-port"),dn(s,"x6-port-body"),i.appendChild(s);let u,g,c=a;if(this.existPortLabel(e)){if(n=Sn.renderMarkup(this.getPortLabelMarkup(e.label)),u=n.elem,g=n.selectors,null==u)throw new Error("Invalid port label markup.");if(a&&g){for(const z in g)if(a[z]&&z!==this.rootSelector)throw new Error("Selectors within port must be unique.");c=Object.assign(Object.assign({},a),g)}dn(u,"x6-port-label"),i.appendChild(u)}return this.portsCache[e.id]={portElement:i,portSelectors:c,portLabelElement:u,portLabelSelectors:g,portContentElement:s,portContentSelectors:a},this.graph.options.onPortRendered&&this.graph.options.onPortRendered({port:e,node:this.cell,container:i,selectors:c,labelContainer:u,labelSelectors:g,contentContainer:s,contentSelectors:a}),i}updatePorts(){const e=this.cell.getParsedGroups(),n=Object.keys(e);0===n.length?this.updatePortGroup():n.forEach(i=>this.updatePortGroup(i))}updatePortGroup(e){const n=St.fromSize(this.cell.getSize()),i=this.cell.getPortsLayoutByGroup(e,n);for(let s=0,a=i.length;s<a;s+=1){const l=i[s],u=this.portsCache[l.portId]||{},g=l.portLayout;if(this.applyPortTransform(u.portElement,g),null!=l.portAttrs){const z={selectors:u.portSelectors||{}};l.portSize&&(z.rootBBox=St.fromSize(l.portSize)),this.updateAttrs(u.portElement,l.portAttrs,z)}const _=l.labelLayout;if(_&&u.portLabelElement&&(this.applyPortTransform(u.portLabelElement,_,-(g.angle||0)),_.attrs)){const z={selectors:u.portLabelSelectors||{}};l.labelSize&&(z.rootBBox=St.fromSize(l.labelSize)),this.updateAttrs(u.portLabelElement,_.attrs,z)}}}applyPortTransform(e,n,i=0){const s=n.angle,a=n.position;Zs(e,Vn().rotate(i).translate(a.x||0,a.y||0).rotate(s||0),{absolute:!0})}getPortMarkup(e){return e.markup||this.cell.portMarkup}getPortLabelMarkup(e){return e.markup||this.cell.portLabelMarkup}existPortLabel(e){return e.attrs&&e.attrs.text}getEventArgs(e,n,i){const s=this,a=s.cell;return null==n||null==i?{e,view:s,node:a,cell:a}:{e,x:n,y:i,view:s,node:a,cell:a}}getPortEventArgs(e,n,i){const s=this,a=s.cell;return i?{e,x:i.x,y:i.y,view:s,node:a,cell:a,port:n}:{e,view:s,node:a,cell:a,port:n}}notifyMouseDown(e,n,i){super.onMouseDown(e,n,i),this.notify("node:mousedown",this.getEventArgs(e,n,i))}notifyMouseMove(e,n,i){super.onMouseMove(e,n,i),this.notify("node:mousemove",this.getEventArgs(e,n,i))}notifyMouseUp(e,n,i){super.onMouseUp(e,n,i),this.notify("node:mouseup",this.getEventArgs(e,n,i))}notifyPortEvent(e,n,i){const s=this.findAttr("port",n.target);if(s){const a=n.type;"node:port:mouseenter"===e?n.type="mouseenter":"node:port:mouseleave"===e&&(n.type="mouseleave"),this.notify(e,this.getPortEventArgs(n,s,i)),n.type=a}}onClick(e,n,i){super.onClick(e,n,i),this.notify("node:click",this.getEventArgs(e,n,i)),this.notifyPortEvent("node:port:click",e,{x:n,y:i})}onDblClick(e,n,i){super.onDblClick(e,n,i),this.notify("node:dblclick",this.getEventArgs(e,n,i)),this.notifyPortEvent("node:port:dblclick",e,{x:n,y:i})}onContextMenu(e,n,i){super.onContextMenu(e,n,i),this.notify("node:contextmenu",this.getEventArgs(e,n,i)),this.notifyPortEvent("node:port:contextmenu",e,{x:n,y:i})}onMouseDown(e,n,i){this.isPropagationStopped(e)||(this.notifyMouseDown(e,n,i),this.notifyPortEvent("node:port:mousedown",e,{x:n,y:i}),this.startNodeDragging(e,n,i))}onMouseMove(e,n,i){const s=this.getEventData(e),a=s.action;if("magnet"===a)this.dragMagnet(e,n,i);else{if("move"===a){const c=s.targetView||this;c.dragNode(e,n,i),c.notify("node:moving",{e,x:n,y:i,view:c,cell:c.cell,node:c.cell})}this.notifyMouseMove(e,n,i),this.notifyPortEvent("node:port:mousemove",e,{x:n,y:i})}this.setEventData(e,s)}onMouseUp(e,n,i){const s=this.getEventData(e),a=s.action;"magnet"===a?this.stopMagnetDragging(e,n,i):(this.notifyMouseUp(e,n,i),this.notifyPortEvent("node:port:mouseup",e,{x:n,y:i}),"move"===a&&(s.targetView||this).stopNodeDragging(e,n,i));const l=s.targetMagnet;l&&this.onMagnetClick(e,l,n,i),this.checkMouseleave(e)}onMouseOver(e){super.onMouseOver(e),this.notify("node:mouseover",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseenter",e),this.notifyPortEvent("node:port:mouseover",e)}onMouseOut(e){super.onMouseOut(e),this.notify("node:mouseout",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseleave",e),this.notifyPortEvent("node:port:mouseout",e)}onMouseEnter(e){this.updateClassName(e),super.onMouseEnter(e),this.notify("node:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("node:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,i,s){super.onMouseWheel(e,n,i,s),this.notify("node:mousewheel",Object.assign({delta:s},this.getEventArgs(e,n,i)))}onMagnetClick(e,n,i,s){const a=this.graph;a.view.getMouseMovedCount(e)>a.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:n},this.getEventArgs(e,i,s)))}onMagnetDblClick(e,n,i,s){this.notify("node:magnet:dblclick",Object.assign({magnet:n},this.getEventArgs(e,i,s)))}onMagnetContextMenu(e,n,i,s){this.notify("node:magnet:contextmenu",Object.assign({magnet:n},this.getEventArgs(e,i,s)))}onMagnetMouseDown(e,n,i,s){this.startMagnetDragging(e,i,s)}onCustomEvent(e,n,i,s){this.notify("node:customevent",Object.assign({name:n},this.getEventArgs(e,i,s))),super.onCustomEvent(e,n,i,s)}prepareEmbedding(e){const n=this.graph,s=this.getEventData(e).cell||this.cell,a=n.findViewByCell(s),l=n.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e,node:s,view:a,cell:s,x:l.x,y:l.y,currentParent:s.getParent()})}processEmbedding(e,n){const i=n.cell||this.cell,s=n.graph||this.graph,a=s.options.embedding,l=a.findParent;let c="function"==typeof l?Ot(l,s,{view:this,node:this.cell}).filter(y=>an.isCell(y)&&this.cell.id!==y.id&&!y.isDescendantOf(this.cell)):s.model.getNodesUnderNode(i,{by:l});if(a.frontOnly&&c.length>0){const y=qu(c,"zIndex"),x=$f(Object.keys(y).map(N=>parseInt(N,10)));x&&(c=y[x])}c=c.filter(y=>y.visible);let u=null;const g=n.candidateEmbedView,_=a.validate;for(let y=c.length-1;y>=0;y-=1){const x=c[y];if(g&&g.cell.id===x.id){u=g;break}{const N=x.findView(s);if(_&&Ot(_,s,{child:this.cell,parent:N.cell,childView:this,parentView:N})){u=N;break}}}this.clearEmbedding(n),u&&u.highlight(null,{type:"embedding"}),n.candidateEmbedView=u;const z=s.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e,cell:i,node:i,view:s.findViewByCell(i),x:z.x,y:z.y,currentParent:i.getParent(),candidateParent:u?u.cell:null})}clearEmbedding(e){const n=e.candidateEmbedView;n&&(n.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}finalizeEmbedding(e,n){this.graph.startBatch("embedding");const i=n.cell||this.cell,s=n.graph||this.graph,a=s.findViewByCell(i),l=i.getParent(),c=n.candidateEmbedView;if(c?(c.unhighlight(null,{type:"embedding"}),n.candidateEmbedView=null,(null==l||l.id!==c.cell.id)&&c.cell.insertChild(i,void 0,{ui:!0})):l&&l.unembed(i,{ui:!0}),s.model.getConnectedEdges(i,{deep:!0}).forEach(u=>{u.updateParent({ui:!0})}),a&&c){const u=s.snapToGrid(e.clientX,e.clientY);a.notify("node:embedded",{e,cell:i,x:u.x,y:u.y,node:i,view:s.findViewByCell(i),previousParent:l,currentParent:i.getParent()})}this.graph.stopBatch("embedding")}getDelegatedView(){let e=this.cell,n=this;for(;n&&!e.isEdge();){if(!e.hasParent()||n.can("stopDelegateOnDragging"))return n;e=e.getParent(),n=this.graph.findViewByCell(e)}return null}validateMagnet(e,n,i){if("passive"!==n.getAttribute("magnet")){const s=this.graph.options.connecting.validateMagnet;return!s||Ot(s,this.graph,{e:i,magnet:n,view:e,cell:e.cell})}return!1}startMagnetDragging(e,n,i){if(!this.can("magnetConnectable"))return;e.stopPropagation();const s=e.currentTarget,a=this.graph;this.setEventData(e,{targetMagnet:s}),this.validateMagnet(this,s,e)?(a.options.magnetThreshold<=0&&this.startConnectting(e,s,n,i),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):this.onMouseDown(e,n,i),a.view.delegateDragEvents(e,this)}startConnectting(e,n,i,s){this.graph.model.startBatch("add-edge");const a=this.createEdgeFromMagnet(n,i,s);a.setEventData(e,a.prepareArrowheadDragging("target",{x:i,y:s,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:a}),a.notifyMouseDown(e,i,s)}getDefaultEdge(e,n){let i;const s=this.graph.options.connecting.createEdge;return s&&(i=Ot(s,this.graph,{sourceMagnet:n,sourceView:e,sourceCell:e.cell})),i}createEdgeFromMagnet(e,n,i){const s=this.graph,a=s.model,l=this.getDefaultEdge(this,e);return l.setSource(Object.assign(Object.assign({},l.getSource()),this.getEdgeTerminal(e,n,i,l,"source"))),l.setTarget(Object.assign(Object.assign({},l.getTarget()),{x:n,y:i})),l.addTo(a,{async:!1,ui:!0}),l.findView(s)}dragMagnet(e,n,i){const s=this.getEventData(e),a=s.edgeView;if(a)a.onMouseMove(e,n,i),this.autoScrollGraph(e.clientX,e.clientY);else{const l=this.graph,c=l.options.magnetThreshold,u=this.getEventTarget(e),g=s.targetMagnet;if("onleave"===c){if(g===u||g.contains(u))return}else if(l.view.getMouseMovedCount(e)<=c)return;this.startConnectting(e,g,n,i)}}stopMagnetDragging(e,n,i){const a=this.eventData(e).edgeView;a&&(a.onMouseUp(e,n,i),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(e,n,i){this.notify("node:unhandled:mousedown",{e,x:n,y:i,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(e,n,i,s,a){let l=[a];const c=this.graph.getPlugin("selection");if(c&&c.isSelectionMovable()){const u=c.getSelectedCells();u.includes(a)&&(l=u.filter(g=>g.isNode()))}l.forEach(u=>{this.notify(e,{e:n,x:i,y:s,cell:u,node:u,view:u.findView(this.graph)})})}getRestrictArea(e){const n=this.graph.options.translating.restrict,i="function"==typeof n?Ot(n,this.graph,e):n;return"number"==typeof i?this.graph.transform.getGraphArea().inflate(i):!0===i?this.graph.transform.getGraphArea():i||null}startNodeDragging(e,n,i){const s=this.getDelegatedView();if(null==s||!s.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,n,i);this.setEventData(e,{targetView:s,action:"move"});const a=ve.create(s.cell.getPosition());s.setEventData(e,{moving:!1,offset:a.diff(n,i),restrict:this.getRestrictArea(s)})}dragNode(e,n,i){const s=this.cell,a=this.graph,l=a.getGridSize(),c=this.getEventData(e),u=c.offset,g=c.restrict;c.moving||(c.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,n,i,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);const _=vn.snapToGrid(n+u.x,l),z=vn.snapToGrid(i+u.y,l);s.setPosition(_,z,{restrict:g,deep:!0,ui:!0}),a.options.embedding.enabled&&(c.embedding||(this.prepareEmbedding(e),c.embedding=!0),this.processEmbedding(e,c))}stopNodeDragging(e,n,i){const s=this.getEventData(e);s.embedding&&this.finalizeEmbedding(e,s),s.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,n,i,this.cell)),s.moving=!1,s.embedding=!1}autoScrollGraph(e,n){const i=this.graph.getPlugin("scroller");i&&i.autoScroll(e,n)}}(function(o){o.toStringTag=`X6.${o.name}`,o.isNodeView=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNodeView&&"function"==typeof n.isEdgeView&&"function"==typeof n.confirmUpdate&&"function"==typeof n.update&&"function"==typeof n.findPortElem&&"function"==typeof n.resize&&"function"==typeof n.rotate&&"function"==typeof n.translate}})(_i||(_i={})),_i.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),_i.registry.register("node",_i,!0);class Xi extends An{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.labelDestroyFn={}}get[Symbol.toStringTag](){return Xi.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const e=this.sourceView;if(!e){const i=this.cell.getSource();return new St(i.x,i.y)}const n=this.sourceMagnet;return e.isEdgeElement(n)?new St(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(n||e.container)}get targetBBox(){const e=this.targetView;if(!e){const i=this.cell.getTarget();return new St(i.x,i.y)}const n=this.targetMagnet;return e.isEdgeElement(n)?new St(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(n||e.container)}isEdgeView(){return!0}confirmUpdate(e,n={}){let i=e;if(this.hasAction(i,"source")){if(!this.updateTerminalProperties("source"))return i;i=this.removeAction(i,"source")}if(this.hasAction(i,"target")){if(!this.updateTerminalProperties("target"))return i;i=this.removeAction(i,"target")}return this.hasAction(i,"render")?(this.render(),i=this.removeAction(i,["render","update","labels","tools"]),i):(i=this.handleAction(i,"update",()=>this.update(n)),i=this.handleAction(i,"labels",()=>this.onLabelsChange(n)),i=this.handleAction(i,"tools",()=>this.renderTools()),i)}render(){return this.empty(),this.renderMarkup(),this.labelContainer=null,this.renderLabels(),this.update(),this.renderTools(),this}renderMarkup(){const e=this.cell.markup;if(e){if("string"==typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid edge markup.")}renderJSONMarkup(e){const n=this.parseJSONMarkup(e,this.container);this.selectors=n.selectors,this.container.append(n.fragment)}customizeLabels(){if(this.labelContainer){const e=this.cell,n=e.labels;for(let i=0,s=n.length;i<s;i+=1){const u=this.graph.options.onEdgeLabelRendered;if(u){const g=u({edge:e,label:n[i],container:this.labelCache[i],selectors:this.labelSelectors[i]});g&&(this.labelDestroyFn[i]=g)}}}}destroyCustomizeLabels(){const e=this.cell.labels;if(this.labelCache&&this.labelSelectors&&this.labelDestroyFn)for(let n=0,i=e.length;n<i;n+=1){const s=this.labelDestroyFn[n],a=this.labelCache[n],l=this.labelSelectors[n];s&&a&&l&&s({edge:this.cell,label:e[n],container:a,selectors:l})}this.labelDestroyFn={}}renderLabels(){const e=this.cell,n=e.getLabels(),i=n.length;let s=this.labelContainer;if(this.labelCache={},this.labelSelectors={},i<=0)return s&&s.parentNode&&s.parentNode.removeChild(s),this;s?this.empty(s):(s=pi("g"),this.addClass(this.prefixClassName("edge-labels"),s),this.labelContainer=s);for(let a=0,l=n.length;a<l;a+=1){const u=this.normalizeLabelMarkup(this.parseLabelMarkup(n[a].markup));let g,_;if(u)g=u.node,_=u.selectors;else{const y=e.getDefaultLabel(),x=this.normalizeLabelMarkup(this.parseLabelMarkup(y.markup));g=x.node,_=x.selectors}g.setAttribute("data-index",`${a}`),s.appendChild(g);const z=this.rootSelector;if(_[z])throw new Error("Ambiguous label root selector.");_[z]=g,this.labelCache[a]=g,this.labelSelectors[a]=_}return null==s.parentNode&&this.container.appendChild(s),this.updateLabels(),this.customizeLabels(),this}onLabelsChange(e={}){this.destroyCustomizeLabels(),this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(e={}){const n=this.cell.previous("labels");if(null==n)return!0;if("propertyPathArray"in e&&"propertyValue"in e){const i=e.propertyPathArray||[],s=i.length;if(s>1&&n[i[1]]){if(2===s)return"object"==typeof e.propertyValue&&Is(e.propertyValue,"markup");if("markup"!==i[2])return!1}}return!0}parseLabelMarkup(e){return e?"string"==typeof e?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}parseLabelStringMarkup(e){const n=Qt.createVectors(e),i=document.createDocumentFragment();for(let s=0,a=n.length;s<a;s+=1)i.appendChild(n[s].node);return{fragment:i,selectors:{}}}normalizeLabelMarkup(e){if(null==e)return;const n=e.fragment;if(!(n instanceof DocumentFragment&&n.hasChildNodes()))throw new Error("Invalid label markup.");let i;const s=n.childNodes;return i=s.length>1||"G"!==s[0].nodeName.toUpperCase()?Qt.create("g").append(n):Qt.create(s[0]),i.addClass(this.prefixClassName("edge-label")),{node:i.node,selectors:e.selectors}}updateLabels(){if(this.labelContainer){const e=this.cell,n=e.labels,i=this.can("edgeLabelMovable"),s=e.getDefaultLabel();for(let a=0,l=n.length;a<l;a+=1){const c=this.labelCache[a],u=this.labelSelectors[a];c.setAttribute("cursor",i?"move":"default");const g=n[a],_=Mn({},s.attrs,g.attrs);this.updateAttrs(c,_,{selectors:u,rootBBox:g.size?St.fromSize(g.size):void 0})}}}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}update(e={}){this.cleanCache(),this.updateConnection(e);const s=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(this.cell.getAttrs(),["text"]);return null!=s&&this.updateAttrs(this.container,s,{selectors:this.selectors}),this.updateLabelPositions(),this.updateTools(e),this}removeRedundantLinearVertices(e={}){const n=this.cell,i=n.getVertices(),s=[this.sourceAnchor,...i,this.targetAnchor],a=s.length,l=new Nn(s);l.simplify({threshold:.01});const c=l.points.map(g=>g.toJSON()),u=c.length;return a===u?0:(n.setVertices(c.slice(1,u-1),e),a-u)}getTerminalView(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalAnchor(e){switch(e){case"source":return ve.create(this.sourceAnchor);case"target":return ve.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalConnectionPoint(e){switch(e){case"source":return ve.create(this.sourcePoint);case"target":return ve.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalMagnet(e,n={}){switch(e){case"source":{if(n.raw)return this.sourceMagnet;const i=this.sourceView;return i?this.sourceMagnet||i.container:null}case"target":{if(n.raw)return this.targetMagnet;const i=this.targetView;return i?this.targetMagnet||i.container:null}default:throw new Error(`Unknown terminal type '${e}'`)}}updateConnection(e={}){const n=this.cell;if(e.translateBy&&n.isFragmentDescendantOf(e.translateBy)){const i=e.tx||0,s=e.ty||0;this.routePoints=new Nn(this.routePoints).translate(i,s).points,this.translateConnectionPoints(i,s),this.path.translate(i,s)}else{const i=n.getVertices(),s=this.findAnchors(i);this.sourceAnchor=s.source,this.targetAnchor=s.target,this.routePoints=this.findRoutePoints(i);const a=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=a.source,this.targetPoint=a.target;const l=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,l.source||this.sourcePoint,l.target||this.targetPoint)}this.cleanCache()}findAnchors(e){const n=this.cell,a=e[0],l=e[e.length-1];return n.target.priority&&!n.source.priority?this.findAnchorsOrdered("target",l,"source",a):this.findAnchorsOrdered("source",a,"target",l)}findAnchorsOrdered(e,n,i,s){let a,l;const c=this.cell,u=c[e],g=c[i],_=this.getTerminalView(e),z=this.getTerminalView(i),y=this.getTerminalMagnet(e),x=this.getTerminalMagnet(i);if(_){let N;N=n?ve.create(n):z?x:ve.create(g),a=this.getAnchor(u.anchor,_,y,N,e)}else a=ve.create(u);if(z){const N=ve.create(s||a);l=this.getAnchor(g.anchor,z,x,N,i)}else l=ve.isPointLike(g)?ve.create(g):new ve;return{[e]:a,[i]:l}}getAnchor(e,n,i,s,a){const l=n.isEdgeElement(i),c=this.graph.options.connecting;let g,u="string"==typeof e?{name:e}:e;if(!u){const z=l?("source"===a?c.sourceEdgeAnchor:c.targetEdgeAnchor)||c.edgeAnchor:("source"===a?c.sourceAnchor:c.targetAnchor)||c.anchor;u="string"==typeof z?{name:z}:z}if(!u)throw new Error("Anchor should be specified.");const _=u.name;if(l){const z=ir.registry.get(_);if("function"!=typeof z)return ir.registry.onNotFound(_);g=Ot(z,this,n,i,s,u.args||{},a)}else{const z=nr.registry.get(_);if("function"!=typeof z)return nr.registry.onNotFound(_);g=Ot(z,this,n,i,s,u.args||{},a)}return g?g.round(this.POINT_ROUNDING):new ve}findRoutePoints(e=[]){const n=this.graph.options.connecting.router||xs.presets.normal,i=this.cell.getRouter()||n;let s;if("function"==typeof i)s=Ot(i,this,e,{},this);else{const a="string"==typeof i?i:i.name,l="string"==typeof i?{}:i.args||{},c=a?xs.registry.get(a):xs.presets.normal;if("function"!=typeof c)return xs.registry.onNotFound(a);s=Ot(c,this,e,l,this)}return null==s?e.map(a=>ve.create(a)):s.map(a=>ve.create(a))}findConnectionPoints(e,n,i){const s=this.cell,a=this.graph.options.connecting,l=s.getSource(),c=s.getTarget(),u=this.sourceView,g=this.targetView,_=e[0],z=e[e.length-1];let y,x;if(u&&!u.isEdgeElement(this.sourceMagnet)){const N=this.sourceMagnet||u.container,U=new Mt(_||i,n);y=this.getConnectionPoint(l.connectionPoint||a.sourceConnectionPoint||a.connectionPoint,u,N,U,"source")}else y=n;if(g&&!g.isEdgeElement(this.targetMagnet)){const N=this.targetMagnet||g.container,$=c.connectionPoint||a.targetConnectionPoint||a.connectionPoint,Q=new Mt(z||n,i);x=this.getConnectionPoint($,g,N,Q,"target")}else x=i;return{source:y,target:x}}getConnectionPoint(e,n,i,s,a){const l=s.end;if(null==e)return l;const c="string"==typeof e?e:e.name,u="string"==typeof e?{}:e.args,g=sr.registry.get(c);if("function"!=typeof g)return sr.registry.onNotFound(c);const _=Ot(g,this,s,n,i,u||{},a);return _?_.round(this.POINT_ROUNDING):l}findMarkerPoints(e,n,i){const s=z=>{const y=this.cell.getAttrs(),x=Object.keys(y);for(let N=0,$=x.length;N<$;N+=1){const U=y[x[N]];if(U[`${z}Marker`]||U[`${z}-marker`]){const Q=U.strokeWidth||U["stroke-width"];if(Q)return parseFloat(Q);break}}return null},a=e[0],l=e[e.length-1];let c,u;const g=s("source");g&&(c=n.clone().move(a||i,-g));const _=s("target");return _&&(u=i.clone().move(l||n,-_)),this.sourceMarkerPoint=c||n.clone(),this.targetMarkerPoint=u||i.clone(),{source:c,target:u}}findPath(e,n,i){const s=this.cell.getConnector()||this.graph.options.connecting.connector;let a,l,c;if("string"==typeof s?a=s:(a=s.name,l=s.args),a){const g=to.registry.get(a);if("function"!=typeof g)return to.registry.onNotFound(a);c=g}else c=to.presets.normal;const u=Ot(c,this,n,i,e,Object.assign(Object.assign({},l),{raw:!0}),this);return"string"==typeof u?$t.parse(u):u}translateConnectionPoints(e,n){this.sourcePoint.translate(e,n),this.targetPoint.translate(e,n),this.sourceAnchor.translate(e,n),this.targetAnchor.translate(e,n),this.sourceMarkerPoint.translate(e,n),this.targetMarkerPoint.translate(e,n)}updateLabelPositions(){if(null==this.labelContainer)return this;if(!this.path)return this;const n=this.cell,i=n.getLabels();if(0===i.length)return this;const s=n.getDefaultLabel(),a=this.normalizeLabelPosition(s.position);for(let l=0,c=i.length;l<c;l+=1){const u=i[l],g=this.labelCache[l];if(!g)continue;const _=this.normalizeLabelPosition(u.position),z=Mn({},a,_),y=this.getLabelTransformationMatrix(z);g.setAttribute("transform",Qs(y))}return this}updateTerminalProperties(e){const i=this.graph,s=this.cell[e],a=s&&s.cell,l=`${e}View`;if(!a)return this[l]=null,this.updateTerminalMagnet(e),!0;const c=i.getCellById(a);if(!c)throw new Error(`Edge's ${e} node with id "${a}" not exists`);const u=c.findView(i);return!!u&&(this[l]=u,this.updateTerminalMagnet(e),!0)}updateTerminalMagnet(e){const n=`${e}Magnet`,i=this.getTerminalView(e);if(i){let s=i.getMagnetFromEdgeTerminal(this.cell[e]);s===i.container&&(s=null),this[n]=s}else this[n]=null}getLabelPositionAngle(e){const n=this.cell.getLabelAt(e);return n&&n.position&&"object"==typeof n.position&&n.position.angle||0}getLabelPositionArgs(e){const n=this.cell.getLabelAt(e);if(n&&n.position&&"object"==typeof n.position)return n.position.options}getDefaultLabelPositionArgs(){const e=this.cell.getDefaultLabel();if(e&&e.position&&"object"==typeof e.position)return e.position.options}mergeLabelPositionArgs(e,n){return null===e?null:void 0===e?null===n?null:n:Mn({},n,e)}getConnection(){return null!=this.path?this.path.clone():null}getConnectionPathData(){if(null==this.path)return"";const e=this.cache.pathCache;return Is(e,"data")||(e.data=this.path.serialize()),e.data||""}getConnectionSubdivisions(){if(null==this.path)return null;const e=this.cache.pathCache;return Is(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}getConnectionLength(){if(null==this.path)return 0;const e=this.cache.pathCache;return Is(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}getPointAtLength(e){return null==this.path?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(e){return null==this.path?null:(Pi(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(e){return null==this.path?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(e){return null==this.path?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(e){return null==this.path?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(e){return null==this.path?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(e){return null==this.path?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(e,n,i,s){const a={distance:0};let c,l=0;"number"==typeof i?(l=i,c=s):c=i,null!=c&&(a.options=c);const u=c&&c.absoluteOffset,g=!(c&&c.absoluteDistance),_=c&&c.absoluteDistance&&c.reverseDistance,z=this.path,y={segmentSubdivisions:this.getConnectionSubdivisions()},x=new ve(e,n),N=z.closestPointT(x,y),$=this.getConnectionLength()||0;let Q,le,U=z.lengthAtT(N,y);if(g&&(U=$>0?U/$:0),_&&(U=-1*($-U)||1),a.distance=U,u||(Q=z.tangentAtT(N)),Q)le=Q.pointOffset(x);else{const K=z.pointAtT(N),Oe=x.diff(K);le={x:Oe.x,y:Oe.y}}return a.offset=le,a.angle=l,a}normalizeLabelPosition(e){return"number"==typeof e?{distance:e}:e}getLabelTransformationMatrix(e){const n=this.normalizeLabelPosition(e),i=n.options||{},s=n.angle||0,a=n.distance,l=a>0&&a<=1;let c=0;const u={x:0,y:0},g=n.offset;g&&("number"==typeof g?c=g:(null!=g.x&&(u.x=g.x),null!=g.y&&(u.y=g.y)));const _=0!==u.x||0!==u.y||0===c,z=i.keepGradient,y=i.ensureLegibility,x=this.path,N={segmentSubdivisions:this.getConnectionSubdivisions()},$=l?a*this.getConnectionLength():a,U=x.tangentAtLength($,N);let Q,le=s;if(U){if(_)Q=U.start,Q.translate(u);else{const K=U.clone();K.rotate(-90,U.start),K.setLength(c),Q=K.end}z&&(le=U.angle()+s,y&&(le=_n.normalize((le+90)%180-90)))}else Q=x.start,_&&Q.translate(u);return Vn().translate(Q.x,Q.y).rotate(le)}getVertexIndex(e,n){const s=this.cell.getVertices(),a=this.getClosestPointLength(new ve(e,n));let l=0;if(null!=a)for(const c=s.length;l<c;l+=1){const g=this.getClosestPointLength(s[l]);if(null!=g&&a<g)break}return l}getEventArgs(e,n,i){const s=this,a=s.cell;return null==n||null==i?{e,view:s,edge:a,cell:a}:{e,x:n,y:i,view:s,edge:a,cell:a}}notifyUnhandledMouseDown(e,n,i){this.notify("edge:unhandled:mousedown",{e,x:n,y:i,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(e,n,i){super.onMouseDown(e,n,i),this.notify("edge:mousedown",this.getEventArgs(e,n,i))}notifyMouseMove(e,n,i){super.onMouseMove(e,n,i),this.notify("edge:mousemove",this.getEventArgs(e,n,i))}notifyMouseUp(e,n,i){super.onMouseUp(e,n,i),this.notify("edge:mouseup",this.getEventArgs(e,n,i))}onClick(e,n,i){super.onClick(e,n,i),this.notify("edge:click",this.getEventArgs(e,n,i))}onDblClick(e,n,i){super.onDblClick(e,n,i),this.notify("edge:dblclick",this.getEventArgs(e,n,i))}onContextMenu(e,n,i){super.onContextMenu(e,n,i),this.notify("edge:contextmenu",this.getEventArgs(e,n,i))}onMouseDown(e,n,i){this.notifyMouseDown(e,n,i),this.startEdgeDragging(e,n,i)}onMouseMove(e,n,i){const s=this.getEventData(e);switch(s.action){case"drag-label":this.dragLabel(e,n,i);break;case"drag-arrowhead":this.dragArrowhead(e,n,i);break;case"drag-edge":this.dragEdge(e,n,i)}return this.notifyMouseMove(e,n,i),s}onMouseUp(e,n,i){const s=this.getEventData(e);switch(s.action){case"drag-label":this.stopLabelDragging(e,n,i);break;case"drag-arrowhead":this.stopArrowheadDragging(e,n,i);break;case"drag-edge":this.stopEdgeDragging(e,n,i)}return this.notifyMouseUp(e,n,i),this.checkMouseleave(e),s}onMouseOver(e){super.onMouseOver(e),this.notify("edge:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("edge:mouseout",this.getEventArgs(e))}onMouseEnter(e){super.onMouseEnter(e),this.notify("edge:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("edge:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,i,s){super.onMouseWheel(e,n,i,s),this.notify("edge:mousewheel",Object.assign({delta:s},this.getEventArgs(e,n,i)))}onCustomEvent(e,n,i,s){if(up(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if("edge:remove"===n)return void this.cell.remove({ui:!0});this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,i,s)))}this.notifyMouseDown(e,i,s)}else this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,i,s))),super.onCustomEvent(e,n,i,s)}onLabelMouseDown(e,n,i){this.notifyMouseDown(e,n,i),this.startLabelDragging(e,n,i),this.getEventData(e).stopPropagation&&e.stopPropagation()}startEdgeDragging(e,n,i){this.can("edgeMovable")?this.setEventData(e,{x:n,y:i,moving:!1,action:"drag-edge"}):this.notifyUnhandledMouseDown(e,n,i)}dragEdge(e,n,i){const s=this.getEventData(e);s.moving||(s.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e,x:n,y:i,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(n-s.x,i-s.y,{ui:!0}),this.setEventData(e,{x:n,y:i}),this.notify("edge:moving",{e,x:n,y:i,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(e,n,i){const s=this.getEventData(e);s.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e,x:n,y:i,view:this,cell:this.cell,edge:this.cell})),s.moving=!1}prepareArrowheadDragging(e,n){const i=this.getTerminalMagnet(e),s={action:"drag-arrowhead",x:n.x,y:n.y,isNewEdge:!0===n.isNewEdge,terminalType:e,initialMagnet:i,initialTerminal:Xl(this.cell[e]),fallbackAction:n.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:n.options};return this.beforeArrowheadDragging(s),s}createValidateConnectionArgs(e){const n=[];n[4]=e,n[5]=this;let i,s=0,a=0;"source"===e?(s=2,i="target"):(a=2,i="source");const l=this.cell[i],c=l.cell;if(c){let u;const g=n[s]=this.graph.findViewByCell(c);g&&(u=g.getMagnetFromEdgeTerminal(l),u===g.container&&(u=void 0)),n[s+1]=u}return(u,g)=>(n[a]=u,n[a+1]=u.container===g?void 0:g,n)}beforeArrowheadDragging(e){e.zIndex=this.cell.zIndex,this.cell.toFront();const n=this.container.style;e.pointerEvents=n.pointerEvents,n.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}afterArrowheadDragging(e){null!=e.zIndex&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null),this.container.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}validateConnection(e,n,i,s,a,l,c){const u=this.graph.options.connecting,g=u.allowLoop,_=u.allowNode,z=u.allowEdge,y=u.allowPort,x=u.allowMulti,N=u.validateConnection,$=l?l.cell:null,U="target"===a?i:e,Q="target"===a?s:n;let le=!0;const K=Oe=>{const Ie="source"===a?c?c.port:null:$?$.getSourcePortId():null,Qe="target"===a?c?c.port:null:$?$.getTargetPortId():null;return Ot(Oe,this.graph,{edge:$,edgeView:l,sourceView:e,targetView:i,sourcePort:Ie,targetPort:Qe,sourceMagnet:n,targetMagnet:s,sourceCell:e?e.cell:null,targetCell:i?i.cell:null,type:a})};if(null!=g&&("boolean"==typeof g?!g&&e===i&&(le=!1):le=K(g)),le&&null!=y&&("boolean"==typeof y?!y&&Q&&(le=!1):le=K(y)),le&&null!=z&&("boolean"==typeof z?!z&&Xi.isEdgeView(U)&&(le=!1):le=K(z)),le&&null!=_&&null==Q&&("boolean"==typeof _?!_&&_i.isNodeView(U)&&(le=!1):le=K(_)),le&&null!=x&&l){const Oe=l.cell,Ie="source"===a?c:Oe.getSource(),Qe="target"===a?c:Oe.getTarget(),gt=c?this.graph.getCellById(c.cell):null;if(Ie&&Qe&&Ie.cell&&Qe.cell&&gt)if("function"==typeof x)le=K(x);else{const yt=this.graph.model.getConnectedEdges(gt,{outgoing:"source"===a,incoming:"target"===a});yt.length&&("withPort"===x?yt.some(Pt=>{const Tt=Pt.getSource(),Rt=Pt.getTarget();return Tt&&Rt&&Tt.cell===Ie.cell&&Rt.cell===Qe.cell&&null!=Tt.port&&Tt.port===Ie.port&&null!=Rt.port&&Rt.port===Qe.port})&&(le=!1):x||yt.some(Pt=>{const Tt=Pt.getSource(),Rt=Pt.getTarget();return Tt&&Rt&&Tt.cell===Ie.cell&&Rt.cell===Qe.cell})&&(le=!1))}}return le&&null!=N&&(le=K(N)),le}allowConnectToBlank(e){const n=this.graph,s=n.options.connecting.allowBlank;if("function"!=typeof s)return!!s;const a=n.findViewByCell(e),l=e.getSourceCell(),c=e.getTargetCell(),u=n.findViewByCell(l),g=n.findViewByCell(c);return Ot(s,n,{edge:e,edgeView:a,sourceCell:l,targetCell:c,sourceView:u,targetView:g,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:a.sourceMagnet,targetMagnet:a.targetMagnet})}validateEdge(e,n,i){const s=this.graph;if(!this.allowConnectToBlank(e)){const l=e.getSourceCellId(),c=e.getTargetCellId();if(!l||!c)return!1}const a=s.options.connecting.validateEdge;return!a||Ot(a,s,{edge:e,type:n,previous:i})}arrowheadDragging(e,n,i,s){s.x=n,s.y=i,s.currentTarget!==e&&(s.currentMagnet&&s.currentView&&s.currentView.unhighlight(s.currentMagnet,{type:"magnetAdsorbed"}),s.currentView=this.graph.findViewByElem(e),s.currentView?(s.currentMagnet=s.currentView.findMagnet(e),s.currentMagnet&&this.validateConnection(...s.getValidateConnectionArgs(s.currentView,s.currentMagnet),s.currentView.getEdgeTerminal(s.currentMagnet,n,i,this.cell,s.terminalType))?s.currentView.highlight(s.currentMagnet,{type:"magnetAdsorbed"}):s.currentMagnet=null):s.currentMagnet=null),s.currentTarget=e,this.cell.prop(s.terminalType,{x:n,y:i},Object.assign(Object.assign({},s.options),{ui:!0}))}arrowheadDragged(e,n,i){const s=e.currentView,a=e.currentMagnet;if(!a||!s)return;s.unhighlight(a,{type:"magnetAdsorbed"});const l=e.terminalType,c=s.getEdgeTerminal(a,n,i,this.cell,l);this.cell.setTerminal(l,c,{ui:!0})}snapArrowhead(e,n,i){const s=this.graph,{snap:a,allowEdge:l}=s.options.connecting,c="object"==typeof a&&a.radius||50,u="object"==typeof a&&a.anchor||"center",g=s.renderer.findViewsInArea({x:e-c,y:n-c,width:2*c,height:2*c},{nodeOnly:!0});if(l){const Oe=s.renderer.findEdgeViewsFromPoint({x:e,y:n},c).filter(Ie=>Ie!==this);g.push(...Oe)}const _=i.closestView||null,z=i.closestMagnet||null;i.closestView=null,i.closestMagnet=null;let y,x=Number.MAX_SAFE_INTEGER;const N=new ve(e,n);let $;g.forEach(Oe=>{if("false"!==Oe.container.getAttribute("magnet")){if(Oe.isNodeView())y="center"===u?Oe.cell.getBBox().getCenter().distance(N):Oe.cell.getBBox().getNearestPointToPoint(N).distance(N);else if(Oe.isEdgeView()){const Ie=Oe.getClosestPoint(N);y=Ie?Ie.distance(N):Number.MAX_SAFE_INTEGER}y<c&&y<x&&(z===Oe.container||this.validateConnection(...i.getValidateConnectionArgs(Oe,null),Oe.getEdgeTerminal(Oe.container,e,n,this.cell,i.terminalType)))&&(x=y,i.closestView=Oe,i.closestMagnet=Oe.container)}Oe.container.querySelectorAll("[magnet]").forEach(Ie=>{if("false"!==Ie.getAttribute("magnet")){const Qe=Oe.getBBoxOfElement(Ie);y=N.distance(Qe.getCenter()),y<c&&y<x&&(z===Ie||this.validateConnection(...i.getValidateConnectionArgs(Oe,Ie),Oe.getEdgeTerminal(Ie,e,n,this.cell,i.terminalType)))&&(x=y,i.closestView=Oe,i.closestMagnet=Ie)}})});const U=i.terminalType,Q=i.closestView,le=i.closestMagnet,K=z!==le;if(_&&K&&_.unhighlight(z,{type:"magnetAdsorbed"}),Q){if(!K)return;Q.highlight(le,{type:"magnetAdsorbed"}),$=Q.getEdgeTerminal(le,e,n,this.cell,U)}else $={x:e,y:n};this.cell.setTerminal(U,$,{},Object.assign(Object.assign({},i.options),{ui:!0}))}snapArrowheadEnd(e){const n=e.closestView,i=e.closestMagnet;n&&i&&(n.unhighlight(i,{type:"magnetAdsorbed"}),e.currentMagnet=n.findMagnet(i)),e.closestView=null,e.closestMagnet=null}finishEmbedding(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}fallbackConnection(e){"remove"===e.fallbackAction?this.cell.remove({ui:!0}):this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0})}notifyConnectionEvent(e,n){const i=e.terminalType,s=e.initialTerminal,a=this.cell[i];if(a&&!Rn.equalTerminals(s,a)){const c=this.graph,u=s,g=u.cell?c.getCellById(u.cell):null,_=u.port,z=g?c.findViewByCell(g):null,y=g||e.isNewEdge?null:ve.create(s).toJSON(),x=a,N=x.cell?c.getCellById(x.cell):null,$=x.port,U=N?c.findViewByCell(N):null,Q=N?null:ve.create(a).toJSON();this.notify("edge:connected",{e:n,previousCell:g,previousPort:_,previousView:z,previousPoint:y,currentCell:N,currentView:U,currentPort:$,currentPoint:Q,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:i,isNew:e.isNewEdge})}}highlightAvailableMagnets(e){const n=this.graph,i=n.model.getCells();e.marked={};for(let s=0,a=i.length;s<a;s+=1){const l=n.findViewByCell(i[s]);if(!l||l.cell.id===this.cell.id)continue;const c=Array.prototype.slice.call(l.container.querySelectorAll("[magnet]"));"false"!==l.container.getAttribute("magnet")&&c.push(l.container);const u=c.filter(g=>this.validateConnection(...e.getValidateConnectionArgs(l,g),l.getEdgeTerminal(g,e.x,e.y,this.cell,e.terminalType)));if(u.length>0){for(let g=0,_=u.length;g<_;g+=1)l.highlight(u[g],{type:"magnetAvailable"});l.highlight(null,{type:"nodeAvailable"}),e.marked[l.cell.id]=u}}}unhighlightAvailableMagnets(e){const n=e.marked||{};Object.keys(n).forEach(i=>{const s=this.graph.findViewByCell(i);s&&(n[i].forEach(l=>{s.unhighlight(l,{type:"magnetAvailable"})}),s.unhighlight(null,{type:"nodeAvailable"}))}),e.marked=null}startArrowheadDragging(e,n,i){if(!this.can("arrowheadMovable"))return void this.notifyUnhandledMouseDown(e,n,i);const a=e.target.getAttribute("data-terminal"),l=this.prepareArrowheadDragging(a,{x:n,y:i});this.setEventData(e,l)}dragArrowhead(e,n,i){const s=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(n,i,s):this.arrowheadDragging(this.getEventTarget(e),n,i,s)}stopArrowheadDragging(e,n,i){const s=this.graph,a=this.getEventData(e);s.options.connecting.snap?this.snapArrowheadEnd(a):this.arrowheadDragged(a,n,i),this.validateEdge(this.cell,a.terminalType,a.initialTerminal)?(this.finishEmbedding(a),this.notifyConnectionEvent(a,e)):this.fallbackConnection(a),this.afterArrowheadDragging(a)}startLabelDragging(e,n,i){if(this.can("edgeLabelMovable")){const a=parseInt(e.currentTarget.getAttribute("data-index"),10),l=this.getLabelPositionAngle(a),c=this.getLabelPositionArgs(a),u=this.getDefaultLabelPositionArgs(),g=this.mergeLabelPositionArgs(c,u);this.setEventData(e,{index:a,positionAngle:l,positionArgs:g,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}dragLabel(e,n,i){const s=this.getEventData(e),a=this.cell.getLabelAt(s.index),l=Mn({},a,{position:this.getLabelPosition(n,i,s.positionAngle,s.positionArgs)});this.cell.setLabelAt(s.index,l)}stopLabelDragging(e,n,i){}}(function(o){o.toStringTag=`X6.${o.name}`,o.isEdgeView=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return(null==i||i===o.toStringTag)&&"function"==typeof n.isNodeView&&"function"==typeof n.isEdgeView&&"function"==typeof n.confirmUpdate&&"function"==typeof n.update&&"function"==typeof n.getConnection}})(Xi||(Xi={})),Xi.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],tools:["tools"],vertices:["vertices","update"]}}),Xi.registry.register("edge",Xi,!0);class Ni extends bn{get disposeContainer(){return!1}get options(){return this.graph.options}constructor(e){super(),this.graph=e;const{selectors:n,fragment:i}=Sn.parseJSONMarkup(Ni.markup);this.background=n.background,this.grid=n.grid,this.svg=n.svg,this.defs=n.defs,this.viewport=n.viewport,this.primer=n.primer,this.stage=n.stage,this.decorator=n.decorator,this.overlay=n.overlay,this.container=this.options.container,this.restore=Ni.snapshoot(this.container),dn(this.container,this.prefixClassName("graph")),Bo(this.container,i),this.delegateEvents()}delegateEvents(){return super.delegateEvents(this.constructor.events),this}guard(e,n){return!!("mousedown"===e.type&&2===e.button||this.options.guard&&this.options.guard(e,n))||(e.data&&void 0!==e.data.guarded?e.data.guarded:!(n&&n.cell&&an.isCell(n.cell)||this.svg===e.target||this.container===e.target||this.svg.contains(e.target)))}findView(e){return this.graph.findViewByElem(e)}onDblClick(e){this.options.preventDefaultDblClick&&e.preventDefault();const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;const s=this.graph.snapToGrid(n.clientX,n.clientY);i?i.onDblClick(n,s.x,s.y):this.graph.trigger("blank:dblclick",{e:n,x:s.x,y:s.y})}onClick(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;const s=this.graph.snapToGrid(n.clientX,n.clientY);i?i.onClick(n,s.x,s.y):this.graph.trigger("blank:click",{e:n,x:s.x,y:s.y})}}isPreventDefaultContextMenu(e){let n=this.options.preventDefaultContextMenu;return"function"==typeof n&&(n=Ot(n,this.graph,{view:e})),n}onContextMenu(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.isPreventDefaultContextMenu(i)&&e.preventDefault(),this.guard(n,i))return;const s=this.graph.snapToGrid(n.clientX,n.clientY);i?i.onContextMenu(n,s.x,s.y):this.graph.trigger("blank:contextmenu",{e:n,x:s.x,y:s.y})}delegateDragEvents(e,n){null==e.data&&(e.data={}),this.setEventData(e,{currentView:n||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}}),this.delegateDocumentEvents(this.constructor.documentEvents,e.data),this.undelegateEvents()}getMouseMovedCount(e){return this.getEventData(e).mouseMovedCount||0}onMouseDown(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;this.options.preventDefaultMouseDown&&e.preventDefault();const s=this.graph.snapToGrid(n.clientX,n.clientY);i?i.onMouseDown(n,s.x,s.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(n.type)&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e:n,x:s.x,y:s.y})),this.delegateDragEvents(n,i)}onMouseMove(e){const n=this.getEventData(e),i=n.startPosition;if(i&&i.x===e.clientX&&i.y===e.clientY||(null==n.mouseMovedCount&&(n.mouseMovedCount=0),n.mouseMovedCount+=1,n.mouseMovedCount<=this.options.moveThreshold))return;const a=this.normalizeEvent(e),l=this.graph.snapToGrid(a.clientX,a.clientY),c=n.currentView;c?c.onMouseMove(a,l.x,l.y):this.graph.trigger("blank:mousemove",{e:a,x:l.x,y:l.y}),this.setEventData(a,n)}onMouseUp(e){this.undelegateDocumentEvents();const n=this.normalizeEvent(e),i=this.graph.snapToGrid(n.clientX,n.clientY),a=this.getEventData(e).currentView;if(a?a.onMouseUp(n,i.x,i.y):this.graph.trigger("blank:mouseup",{e:n,x:i.x,y:i.y}),!e.isPropagationStopped()){const l=new zi(e,{type:"click",data:e.data});this.onClick(l)}e.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(!this.guard(n,i))if(i)i.onMouseOver(n);else{if(this.container===n.target)return;this.graph.trigger("blank:mouseover",{e:n})}}onMouseOut(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(!this.guard(n,i))if(i)i.onMouseOut(n);else{if(this.container===n.target)return;this.graph.trigger("blank:mouseout",{e:n})}}onMouseEnter(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;const s=this.graph.findViewByElem(n.relatedTarget);if(i){if(s===i)return;i.onMouseEnter(n)}else{if(s)return;this.graph.trigger("graph:mouseenter",{e:n})}}onMouseLeave(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;const s=this.graph.findViewByElem(n.relatedTarget);if(i){if(s===i)return;i.onMouseLeave(n)}else{if(s)return;this.graph.trigger("graph:mouseleave",{e:n})}}onMouseWheel(e){const n=this.normalizeEvent(e),i=this.findView(n.target);if(this.guard(n,i))return;const s=n.originalEvent,a=this.graph.snapToGrid(s.clientX,s.clientY),l=Math.max(-1,Math.min(1,s.wheelDelta||-s.detail));i?i.onMouseWheel(n,a.x,a.y,l):this.graph.trigger("blank:mousewheel",{e:n,delta:l,x:a.x,y:a.y})}onCustomEvent(e){const n=e.currentTarget,i=n.getAttribute("event")||n.getAttribute("data-event");if(i){const s=this.findView(n);if(s){const a=this.normalizeEvent(e);if(this.guard(a,s))return;const l=this.graph.snapToGrid(a.clientX,a.clientY);s.onCustomEvent(a,i,l.x,l.y)}}}handleMagnetEvent(e,n){const i=e.currentTarget,s=i.getAttribute("magnet");if(s&&"false"!==s.toLowerCase()){const a=this.findView(i);if(a){const l=this.normalizeEvent(e);if(this.guard(l,a))return;const c=this.graph.snapToGrid(l.clientX,l.clientY);Ot(n,this.graph,a,l,i,c.x,c.y)}}}onMagnetMouseDown(e){this.handleMagnetEvent(e,(n,i,s,a,l)=>{n.onMagnetMouseDown(i,s,a,l)})}onMagnetDblClick(e){this.handleMagnetEvent(e,(n,i,s,a,l)=>{n.onMagnetDblClick(i,s,a,l)})}onMagnetContextMenu(e){const n=this.findView(e.target);this.isPreventDefaultContextMenu(n)&&e.preventDefault(),this.handleMagnetEvent(e,(i,s,a,l,c)=>{i.onMagnetContextMenu(s,a,l,c)})}onLabelMouseDown(e){const i=this.findView(e.currentTarget);if(i){const s=this.normalizeEvent(e);if(this.guard(s,i))return;const a=this.graph.snapToGrid(s.clientX,s.clientY);i.onLabelMouseDown(s,a.x,a.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([bn.dispose()],Ni.prototype,"dispose",null),function(o){const e=`${Xn.prefixCls}-graph`;o.markup=[{ns:Ln.xhtml,tagName:"div",selector:"background",className:`${e}-background`},{ns:Ln.xhtml,tagName:"div",selector:"grid",className:`${e}-grid`},{ns:Ln.svg,tagName:"svg",selector:"svg",className:`${e}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":Ln.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${e}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${e}-svg-primer`},{tagName:"g",selector:"stage",className:`${e}-svg-stage`},{tagName:"g",selector:"decorator",className:`${e}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${e}-svg-overlay`}]}]}],o.snapshoot=function n(i){const s=i.cloneNode();return i.childNodes.forEach(a=>s.appendChild(a)),()=>{for(Fo(i);i.attributes.length>0;)i.removeAttribute(i.attributes[0].name);for(let a=0,l=s.attributes.length;a<l;a+=1){const c=s.attributes[a];i.setAttribute(c.name,c.value)}s.childNodes.forEach(a=>i.appendChild(a))}}}(Ni||(Ni={})),function(o){const e=Xn.prefixCls;o.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${e}-cell`]:"onMouseEnter",[`mouseleave  .${e}-cell`]:"onMouseLeave",[`mouseenter  .${e}-cell-tools`]:"onMouseEnter",[`mouseleave  .${e}-cell-tools`]:"onMouseLeave",[`mousedown   .${e}-cell [event]`]:"onCustomEvent",[`touchstart  .${e}-cell [event]`]:"onCustomEvent",[`mousedown   .${e}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${e}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${e}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${e}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${e}-cell image`]:"onImageDragStart",[`mousedown   .${e}-edge .${e}-edge-label`]:"onLabelMouseDown",[`touchstart  .${e}-edge .${e}-edge-label`]:"onLabelMouseDown"},o.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(Ni||(Ni={}));class Wn extends Y{get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}constructor(e){super(),this.graph=e,this.init()}init(){}}class Up extends Wn{init(){Xn.autoInsertCSS&&dm("core",".x6-graph {\n  position: relative;\n  overflow: hidden;\n  outline: none;\n  touch-action: none;\n}\n.x6-graph-background,\n.x6-graph-grid,\n.x6-graph-svg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-background-stage,\n.x6-graph-grid-stage,\n.x6-graph-svg-stage {\n  user-select: none;\n}\n.x6-graph.x6-graph-pannable {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.x6-graph.x6-graph-panning {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  user-select: none;\n}\n.x6-node {\n  cursor: move;\n  /* stylelint-disable-next-line */\n}\n.x6-node.x6-node-immovable {\n  cursor: default;\n}\n.x6-node * {\n  -webkit-user-drag: none;\n}\n.x6-node .scalable * {\n  vector-effect: non-scaling-stroke;\n}\n.x6-node [magnet='true'] {\n  cursor: crosshair;\n  transition: opacity 0.3s;\n}\n.x6-node [magnet='true']:hover {\n  opacity: 0.7;\n}\n.x6-node foreignObject {\n  display: block;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-node foreignObject > body {\n  position: static;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-edge .source-marker,\n.x6-edge .target-marker {\n  vector-effect: non-scaling-stroke;\n}\n.x6-edge .connection {\n  stroke-linejoin: round;\n  fill: none;\n}\n.x6-edge .connection-wrap {\n  cursor: move;\n  opacity: 0;\n  fill: none;\n  stroke: #000;\n  stroke-width: 15;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n}\n.x6-edge .connection-wrap:hover {\n  opacity: 0.4;\n  stroke-opacity: 0.4;\n}\n.x6-edge .vertices {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .vertices .vertex {\n  fill: #1abc9c;\n}\n.x6-edge .vertices .vertex :hover {\n  fill: #34495e;\n  stroke: none;\n}\n.x6-edge .vertices .vertex-remove {\n  cursor: pointer;\n  fill: #fff;\n}\n.x6-edge .vertices .vertex-remove-area {\n  cursor: pointer;\n  opacity: 0.1;\n}\n.x6-edge .vertices .vertex-group:hover .vertex-remove-area {\n  opacity: 1;\n}\n.x6-edge .arrowheads {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .arrowheads .arrowhead {\n  fill: #1abc9c;\n}\n.x6-edge .arrowheads .arrowhead :hover {\n  fill: #f39c12;\n  stroke: none;\n}\n.x6-edge .tools {\n  cursor: pointer;\n  opacity: 0;\n}\n.x6-edge .tools .tool-options {\n  display: none;\n}\n.x6-edge .tools .tool-remove circle {\n  fill: #f00;\n}\n.x6-edge .tools .tool-remove path {\n  fill: #fff;\n}\n.x6-edge:hover .vertices,\n.x6-edge:hover .arrowheads,\n.x6-edge:hover .tools {\n  opacity: 1;\n}\n.x6-highlight-opacity {\n  opacity: 0.3;\n}\n.x6-cell-tool-editor {\n  position: relative;\n  display: inline-block;\n  min-height: 1em;\n  margin: 0;\n  padding: 0;\n  line-height: 1;\n  white-space: normal;\n  text-align: center;\n  vertical-align: top;\n  overflow-wrap: normal;\n  outline: none;\n  transform-origin: 0 0;\n  -webkit-user-drag: none;\n}\n.x6-edge-tool-editor {\n  border: 1px solid #275fc5;\n  border-radius: 2px;\n}\n")}dispose(){um("core")}}var Aa;!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Up.dispose()],Up.prototype,"dispose",null),function(o){o.get=function e(n){const{grid:i}=n,c=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(n,["grid","panning","mousewheel","embedding"]),u=n.container;if(null==u)throw new Error("Ensure the container of the graph is specified and valid");null==c.width&&(c.width=u.clientWidth),null==c.height&&(c.height=u.clientHeight);const g=Mn({},o.defaults,c);return g.grid="number"==typeof i?{size:i,visible:!1}:Object.assign(Object.assign({},{size:10,visible:!1}),"boolean"==typeof i?{visible:i}:i),["panning","mousewheel","embedding"].forEach(y=>{const x=n[y];"boolean"==typeof x?g[y].enabled=x:g[y]=Object.assign(Object.assign({},g[y]),x)}),g}}(Aa||(Aa={})),function(o){o.defaults={x:0,y:0,scaling:{min:.01,max:16},grid:{size:10,visible:!1},background:!1,panning:{enabled:!1,eventTypes:["leftMouseDown"]},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Xn.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Xn.prefix("available-magnet")}}},connecting:{snap:!1,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,allowBlank:!0,allowMulti:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",router:"normal",connector:"normal",validateConnection:({type:e,sourceView:n,targetView:i})=>null!=("target"===e?i:n),createEdge:()=>new v_},translating:{restrict:!1},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},async:!0,virtual:!1,guard:()=>!1}}(Aa||(Aa={}));class Xp extends Wn{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}getGridSize(){return this.grid.size}setGridSize(e){this.grid.size=Math.max(e,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}update(e={}){const n=this.grid.size;if(n<=1||!this.grid.visible)return this.clear();const i=this.graph.matrix(),s=this.getInstance(),a=Array.isArray(e)?e:[e];this.patterns.forEach((u,g)=>{const _=`pattern_${g}`,z=i.a||1,y=i.d||1,{update:x,markup:N}=u,$=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(u,["update","markup"]),U=Object.assign(Object.assign(Object.assign({},$),a[g]),{sx:z,sy:y,ox:i.e||0,oy:i.f||0,width:n*z,height:n*y});s.has(_)||s.add(_,Qt.create("pattern",{id:_,patternUnits:"userSpaceOnUse"},Qt.createVectors(N)).node);const Q=s.get(_);"function"==typeof x&&x(Q.childNodes[0],U);let le=U.ox%U.width;le<0&&(le+=U.width);let K=U.oy%U.height;K<0&&(K+=U.height),mn(Q,{x:le,y:K,width:U.width,height:U.height})});const l=(new XMLSerializer).serializeToString(s.root),c=`url(data:image/svg+xml;base64,${btoa(l)})`;this.elem.style.backgroundImage=c}getInstance(){return this.instance||(this.instance=new _s),this.instance}resolveGrid(e){if(!e)return[];const n=e.type;if(null==n)return[Object.assign(Object.assign({},_s.presets.dot),e.args)];const i=_s.registry.get(n);if(i){let s=e.args||[];return Array.isArray(s)||(s=[s]),Array.isArray(i)?i.map((a,l)=>Object.assign(Object.assign({},a),s[l])):[Object.assign(Object.assign({},i),s[0])]}return _s.registry.onNotFound(n)}dispose(){this.stopListening(),this.clear()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],Xp.prototype,"dispose",null);class C_ extends Wn{get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get stage(){return this.graph.view.stage}init(){this.resize()}getMatrix(){const e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),Vn(this.viewportMatrix)}setMatrix(e){const n=Vn(e),i=Qs(n);this.viewport.setAttribute("transform",i),this.viewportMatrix=n,this.viewportTransformString=i}resize(e,n){let i=void 0===e?this.options.width:e,s=void 0===n?this.options.height:n;this.options.width=i,this.options.height=s,"number"==typeof i&&(i=Math.round(i)),"number"==typeof s&&(s=Math.round(s)),this.container.style.width=null==i?"":`${i}px`,this.container.style.height=null==s?"":`${s}px`;const a=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},a)),this}getComputedSize(){let e=this.options.width,n=this.options.height;return op(e)||(e=this.container.clientWidth),op(n)||(n=this.container.clientHeight),{width:e,height:n}}getScale(){return om(this.getMatrix())}scale(e,n=e,i=0,s=0){if(e=this.clampScale(e),n=this.clampScale(n),i||s){const l=this.getTranslation(),c=l.tx-i*(e-1),u=l.ty-s*(n-1);(c!==l.tx||u!==l.ty)&&this.translate(c,u)}const a=this.getMatrix();return a.a=e,a.d=n,this.setMatrix(a),this.graph.trigger("scale",{sx:e,sy:n,ox:i,oy:s}),this}clampScale(e){const n=this.graph.options.scaling;return ri(e,n.min||.01,n.max||16)}getZoom(){return this.getScale().sx}zoom(e,n){n=n||{};let i=e,s=e;const a=this.getScale(),l=this.getComputedSize();let c=l.width/2,u=l.height/2;if(n.absolute||(i+=a.sx,s+=a.sy),n.scaleGrid&&(i=Math.round(i/n.scaleGrid)*n.scaleGrid,s=Math.round(s/n.scaleGrid)*n.scaleGrid),n.maxScale&&(i=Math.min(n.maxScale,i),s=Math.min(n.maxScale,s)),n.minScale&&(i=Math.max(n.minScale,i),s=Math.max(n.minScale,s)),n.center&&(c=n.center.x,u=n.center.y),i=this.clampScale(i),s=this.clampScale(s),c||u){const g=this.getTranslation(),_=c-i/a.sx*(c-g.tx),z=u-s/a.sy*(u-g.ty);(_!==g.tx||z!==g.ty)&&this.translate(_,z)}return this.scale(i,s),this}getRotation(){return rm(this.getMatrix())}rotate(e,n,i){if(null==n||null==i){const a=gn.getBBox(this.stage);n=a.width/2,i=a.height/2}const s=this.getMatrix().translate(n,i).rotate(e).translate(-n,-i);return this.setMatrix(s),this}getTranslation(){return am(this.getMatrix())}translate(e,n){const i=this.getMatrix();i.e=e||0,i.f=n||0,this.setMatrix(i);const s=this.getTranslation();return this.options.x=s.tx,this.options.y=s.ty,this.graph.trigger("translate",Object.assign({},s)),this}setOrigin(e,n){return this.translate(e||0,n||0)}fitToContent(e,n,i,s){if("object"==typeof e){const K=e;e=K.gridWidth||1,n=K.gridHeight||1,i=K.padding||0,s=K}else e=e||1,n=n||1,i=i||0,null==s&&(s={});const a=ps(i),l=s.border||0,c=s.contentArea?St.create(s.contentArea):this.getContentArea(s);l>0&&c.inflate(l);const u=this.getScale(),g=this.getTranslation(),_=u.sx,z=u.sy;c.x*=_,c.y*=z,c.width*=_,c.height*=z;let y=Math.max(Math.ceil((c.width+c.x)/e),1)*e,x=Math.max(Math.ceil((c.height+c.y)/n),1)*n,N=0,$=0;("negative"===s.allowNewOrigin&&c.x<0||"positive"===s.allowNewOrigin&&c.x>=0||"any"===s.allowNewOrigin)&&(N=Math.ceil(-c.x/e)*e,N+=a.left,y+=N),("negative"===s.allowNewOrigin&&c.y<0||"positive"===s.allowNewOrigin&&c.y>=0||"any"===s.allowNewOrigin)&&($=Math.ceil(-c.y/n)*n,$+=a.top,x+=$),y+=a.right,x+=a.bottom,y=Math.max(y,s.minWidth||0),x=Math.max(x,s.minHeight||0),y=Math.min(y,s.maxWidth||Number.MAX_SAFE_INTEGER),x=Math.min(x,s.maxHeight||Number.MAX_SAFE_INTEGER);const U=this.getComputedSize(),Q=y!==U.width||x!==U.height;return(N!==g.tx||$!==g.ty)&&this.translate(N,$),Q&&this.resize(y,x),new St(-N/_,-$/z,y/_,x/z)}scaleContentToFit(e={}){this.scaleContentToFitImpl(e)}scaleContentToFitImpl(e={},n=!0){let i,s;if(e.contentArea){const Q=e.contentArea;i=this.graph.localToGraph(Q),s=ve.create(Q)}else i=this.getContentBBox(e),s=this.graph.graphToLocal(i);if(!i.width||!i.height)return;const a=ps(e.padding),l=e.minScale||0,c=e.maxScale||Number.MAX_SAFE_INTEGER,u=e.minScaleX||l,g=e.maxScaleX||c,_=e.minScaleY||l,z=e.maxScaleY||c;let y;if(e.viewportArea)y=e.viewportArea;else{const Q=this.getComputedSize(),le=this.getTranslation();y={x:le.tx,y:le.ty,width:Q.width,height:Q.height}}y=St.create(y).moveAndExpand({x:a.left,y:a.top,width:-a.left-a.right,height:-a.top-a.bottom});const x=this.getScale();let N=y.width/i.width*x.sx,$=y.height/i.height*x.sy;!1!==e.preserveAspectRatio&&(N=$=Math.min(N,$));const U=e.scaleGrid;if(U&&(N=U*Math.floor(N/U),$=U*Math.floor($/U)),N=ri(N,u,g),$=ri($,_,z),this.scale(N,$),n){const Q=this.options;this.translate(y.x-s.x*N-Q.x,y.y-s.y*$-Q.y)}}getContentArea(e={}){return!1!==e.useCellGeometry?this.model.getAllCellsBBox()||new St:gn.getBBox(this.stage)}getContentBBox(e={}){return this.graph.localToGraph(this.getContentArea(e))}getGraphArea(){const e=St.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}zoomToRect(e,n={}){const i=St.create(e),s=this.graph;n.contentArea=i,null==n.viewportArea&&(n.viewportArea={x:s.options.x,y:s.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(n,!1);const a=i.getCenter();return this.centerPoint(a.x,a.y),this}zoomToFit(e={}){return this.zoomToRect(this.getContentArea(e),e)}centerPoint(e,n){const i=this.getComputedSize(),s=this.getScale(),a=this.getTranslation(),l=i.width/2,c=i.height/2;n=c-(n="number"==typeof n?n:c)*s.sy,(a.tx!==(e=l-(e="number"==typeof e?e:l)*s.sx)||a.ty!==n)&&this.translate(e,n)}centerContent(e){const i=this.graph.getContentArea(e).getCenter();this.centerPoint(i.x,i.y)}centerCell(e){return this.positionCell(e,"center")}positionPoint(e,n,i){const s=this.getComputedSize();(n=ui(n,Math.max(0,s.width)))<0&&(n=s.width+n),(i=ui(i,Math.max(0,s.height)))<0&&(i=s.height+i);const a=this.getTranslation(),l=this.getScale(),c=n-e.x*l.sx,u=i-e.y*l.sy;(a.tx!==c||a.ty!==u)&&this.translate(c,u)}positionRect(e,n){const i=St.create(e);switch(n){case"center":return this.positionPoint(i.getCenter(),"50%","50%");case"top":return this.positionPoint(i.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(i.getTopRight(),"100%",0);case"right":return this.positionPoint(i.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(i.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(i.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(i.getBottomLeft(),0,"100%");case"left":return this.positionPoint(i.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(i.getTopLeft(),0,0);default:return this}}positionCell(e,n){const i=e.getBBox();return this.positionRect(i,n)}positionContent(e,n){const i=this.graph.getContentArea(n);return this.positionRect(i,e)}}class Wp extends Wn{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(e={}){let n=e.size||"auto auto",i=e.position||"center";const s=this.graph.transform.getScale(),a=this.graph.translate();"object"==typeof i&&(i=`${a.tx+s.sx*(i.x||0)}px ${a.ty+s.sy*(i.y||0)}px`),"object"==typeof n&&(n=St.fromSize(n).scale(s.sx,s.sy),n=`${n.width}px ${n.height}px`),this.elem.style.backgroundSize=n,this.elem.style.backgroundPosition=i}drawBackgroundImage(e,n={}){if(!(e instanceof HTMLImageElement))return void(this.elem.style.backgroundImage="");const i=this.optionsCache;if(i&&i.image!==n.image)return;let s;const a=n.opacity,l=n.size;let c=n.repeat||"no-repeat";const u=Oa.registry.get(c);if("function"==typeof u){const _=n.quality||1;e.width*=_,e.height*=_;const z=u(e,n);if(!(z instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");s=z.toDataURL("image/png"),c=n.repeat&&c!==n.repeat?n.repeat:"repeat","object"==typeof l?(l.width*=z.width/e.width,l.height*=z.height/e.height):void 0===l&&(n.size={width:z.width/_,height:z.height/_})}else s=e.src,void 0===l&&(n.size={width:e.width,height:e.height});null!=i&&"object"==typeof n.size&&n.image===i.image&&n.repeat===i.repeat&&n.quality===i.quality&&(i.size=Xl(n.size));const g=this.elem.style;g.backgroundImage=`url(${s})`,g.backgroundRepeat=c,g.opacity=null==a||a>=1?"":`${a}`,this.updateBackgroundImage(n)}updateBackgroundColor(e){this.elem.style.backgroundColor=e||""}updateBackgroundOptions(e){this.graph.options.background=e}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(e){const n=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(n.color),n.image){this.optionsCache=Xl(n);const i=document.createElement("img");i.onload=()=>this.drawBackgroundImage(i,e),i.setAttribute("crossorigin","anonymous"),i.src=n.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],Wp.prototype,"dispose",null);class Yp extends Wn{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&!0===this.widgetOptions.enabled}init(){this.onRightMouseDown=this.onRightMouseDown.bind(this),this.onSpaceKeyDown=this.onSpaceKeyDown.bind(this),this.onSpaceKeyUp=this.onSpaceKeyUp.bind(this),this.startListening(),this.updateClassName()}startListening(){this.graph.on("blank:mousedown",this.onMouseDown,this),this.graph.on("node:unhandled:mousedown",this.onMouseDown,this),this.graph.on("edge:unhandled:mousedown",this.onMouseDown,this),Hn.on(this.graph.container,"mousedown",this.onRightMouseDown),Hn.on(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle=new Ep(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()}stopListening(){this.graph.off("blank:mousedown",this.onMouseDown,this),this.graph.off("node:unhandled:mousedown",this.onMouseDown,this),this.graph.off("edge:unhandled:mousedown",this.onMouseDown,this),Hn.off(this.graph.container,"mousedown",this.onRightMouseDown),Hn.off(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle&&this.mousewheelHandle.disable()}allowPanning(e,n){return e.spaceKey=this.isSpaceKeyPressed,this.pannable&&qs.isMatch(e,this.widgetOptions.modifiers,n)}startPanning(e){const n=this.view.normalizeEvent(e);this.clientX=n.clientX,this.clientY=n.clientY,this.panning=!0,this.updateClassName(),Hn.on(document.body,{"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),Hn.on(window,"mouseup.panning",this.stopPanning.bind(this))}pan(e){const n=this.view.normalizeEvent(e),i=n.clientX-this.clientX,s=n.clientY-this.clientY;this.clientX=n.clientX,this.clientY=n.clientY,this.graph.translateBy(i,s)}stopPanning(e){this.panning=!1,this.updateClassName(),Hn.off(document.body,".panning"),Hn.off(window,".panning")}updateClassName(){const e=this.view.container,n=this.view.prefixClassName("graph-panning"),i=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(dn(e,n),ai(e,i)):(ai(e,n),dn(e,i)):(ai(e,n),ai(e,i))}onMouseDown({e}){if(!this.allowBlankMouseDown(e))return;const n=this.graph.getPlugin("selection"),i=n&&n.allowRubberband(e,!0);(this.allowPanning(e,!0)||this.allowPanning(e)&&!i)&&this.startPanning(e)}onRightMouseDown(e){const n=this.widgetOptions.eventTypes;n?.includes("rightMouseDown")&&2===e.button&&this.allowPanning(e,!0)&&this.startPanning(e)}onMouseWheel(e,n,i){this.graph.translateBy(-n,-i)}onSpaceKeyDown(e){32===e.which&&(this.isSpaceKeyPressed=!0)}onSpaceKeyUp(e){32===e.which&&(this.isSpaceKeyPressed=!1)}allowBlankMouseDown(e){const n=this.widgetOptions.eventTypes;return n?.includes("leftMouseDown")&&0===e.button||n?.includes("mouseWheelDown")&&1===e.button}allowMouseWheel(e){var n;return this.pannable&&!e.ctrlKey&&(null===(n=this.widgetOptions.eventTypes)||void 0===n?void 0:n.includes("mouseWheel"))}autoPanning(e,n){const s=this.graph.getGraphArea();let a=0,l=0;e<=s.left+10&&(a=-10),n<=s.top+10&&(l=-10),e>=s.right-10&&(a=10),n>=s.bottom-10&&(l=10),(0!==a||0!==l)&&this.graph.translateBy(-a,-l)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],Yp.prototype,"dispose",null);class Kp extends Wn{constructor(){super(...arguments),this.cumulatedFactor=1}get widgetOptions(){return this.options.mousewheel}init(){this.container=this.graph.container,this.target=this.widgetOptions.global?document:this.container,this.mousewheelHandle=new Ep(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.widgetOptions.enabled&&this.enable(!0)}get disabled(){return!0!==this.widgetOptions.enabled}enable(e){(this.disabled||e)&&(this.widgetOptions.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.widgetOptions.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(e){const n=this.widgetOptions.guard;return(null==n||n(e))&&qs.isMatch(e,this.widgetOptions.modifiers)}onMouseWheel(e){const n=this.widgetOptions.guard;if((null==n||n(e))&&qs.isMatch(e,this.widgetOptions.modifiers)){const i=this.widgetOptions.factor||1.2;null==this.currentScale&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*i*20)/20/this.currentScale,1===this.cumulatedFactor&&(this.cumulatedFactor=1.05)):this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*(1/i)*20)/20/this.currentScale,1===this.cumulatedFactor&&(this.cumulatedFactor=.95)),this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const a=this.currentScale;let l=this.graph.transform.clampScale(a*this.cumulatedFactor);if(l=ri(l,this.widgetOptions.minScale||Number.MIN_SAFE_INTEGER,this.widgetOptions.maxScale||Number.MAX_SAFE_INTEGER),l!==a)if(this.widgetOptions.zoomAtMousePosition){const _=this.graph.getPlugin("scroller")?this.graph.clientToLocal(this.startPos):this.graph.clientToGraph(this.startPos);this.graph.zoom(l,{absolute:!0,center:_.clone()})}else this.graph.zoom(l,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Y.dispose()],Kp.prototype,"dispose",null);class y_ extends Wn{init(){this.resetRenderArea=kt(this.resetRenderArea,200,{leading:!0}),this.resetRenderArea(),this.startListening()}startListening(){this.graph.on("translate",this.resetRenderArea,this),this.graph.on("scale",this.resetRenderArea,this),this.graph.on("resize",this.resetRenderArea,this)}stopListening(){this.graph.off("translate",this.resetRenderArea,this),this.graph.off("scale",this.resetRenderArea,this),this.graph.off("resize",this.resetRenderArea,this)}enableVirtualRender(){this.options.virtual=!0,this.resetRenderArea()}disableVirtualRender(){this.options.virtual=!1,this.graph.renderer.setRenderArea(void 0)}resetRenderArea(){if(this.options.virtual){const e=this.graph.getGraphArea();this.graph.renderer.setRenderArea(e)}}dispose(){this.stopListening()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],y_.prototype,"dispose",null);class TT{constructor(){this.isFlushing=!1,this.isFlushPending=!1,this.scheduleId=0,this.queue=[],this.frameInterval=33,this.initialTime=Date.now()}queueJob(e){if(e.priority&Ds.PRIOR)e.cb();else{const n=this.findInsertionIndex(e);n>=0&&this.queue.splice(n,0,e)}}queueFlush(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.scheduleJob())}queueFlushSync(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.flushJobsSync())}clearJobs(){this.queue.length=0,this.isFlushing=!1,this.isFlushPending=!1,this.cancelScheduleJob()}flushJobs(){this.isFlushPending=!1,this.isFlushing=!0;const e=this.getCurrentTime();let n;for(;(n=this.queue.shift())&&(n.cb(),!(this.getCurrentTime()-e>=this.frameInterval)););this.isFlushing=!1,this.queue.length&&this.queueFlush()}flushJobsSync(){let e;for(this.isFlushPending=!1,this.isFlushing=!0;e=this.queue.shift();)try{e.cb()}catch(n){console.log(n)}this.isFlushing=!1}findInsertionIndex(e){let n=0,i=this.queue.length,s=i-1;const a=e.priority;for(;n<=s;){const l=(s-n>>1)+n;a<=this.queue[l].priority?n=l+1:(i=l,s=l-1)}return i}scheduleJob(){"requestIdleCallback"in window?(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.requestIdleCallback(this.flushJobs.bind(this),{timeout:100})):(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.setTimeout(this.flushJobs.bind(this)))}cancelScheduleJob(){"cancelIdleCallback"in window?(this.scheduleId&&window.cancelIdleCallback(this.scheduleId),this.scheduleId=0):(this.scheduleId&&clearTimeout(this.scheduleId),this.scheduleId=0)}getCurrentTime(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():Date.now()-this.initialTime}}var Ds=function(o){return o[o.Update=2]="Update",o[o.RenderEdge=4]="RenderEdge",o[o.RenderNode=8]="RenderNode",o[o.PRIOR=1048576]="PRIOR",o}(Ds||{});class jn extends Y{get model(){return this.graph.model}get container(){return this.graph.view.stage}constructor(e){super(),this.views={},this.willRemoveViews={},this.queue=new TT,this.graph=e,this.init()}init(){this.startListening(),this.renderViews(this.model.getCells())}startListening(){this.model.on("reseted",this.onModelReseted,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("reseted",this.onModelReseted,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}onModelReseted({options:e}){this.queue.clearJobs(),this.removeZPivots(),this.resetViews();const n=this.model.getCells();this.renderViews(n,Object.assign(Object.assign({},e),{queue:n.map(i=>i.id)}))}onCellAdded({cell:e,options:n}){this.renderViews([e],n)}onCellRemoved({cell:e}){this.removeViews([e])}onCellZIndexChanged({cell:e,options:n}){const i=this.views[e.id];i&&this.requestViewUpdate(i.view,jn.FLAG_INSERT,n,Ds.Update,!0)}onCellVisibleChanged({cell:e,current:n}){this.toggleVisible(e,!!n)}requestViewUpdate(e,n,i={},s=Ds.Update,a=!0){const l=e.cell.id,c=this.views[l];c&&(c.flag=n,c.options=i,(e.hasAction(n,["translate","resize","rotate"])||!1===i.async)&&(s=Ds.PRIOR,a=!1),this.queue.queueJob({id:l,priority:s,cb:()=>{this.renderViewInArea(e,n,i);const _=i.queue;if(_){const z=_.indexOf(e.cell.id);z>=0&&_.splice(z,1),0===_.length&&this.graph.trigger("render:done")}}}),this.getEffectedEdges(e).forEach(_=>{this.requestViewUpdate(_.view,_.flag,i,s,!1)}),a&&this.flush())}setRenderArea(e){this.renderArea=e,this.flushWaitingViews()}isViewMounted(e){if(null==e)return!1;const n=this.views[e.cell.id];return!!n&&n.state===jn.ViewState.MOUNTED}renderViews(e,n={}){e.sort((i,s)=>i.isNode()&&s.isEdge()?-1:0),e.forEach(i=>{const s=i.id;let l=0,c=this.views[s];if(c)l=jn.FLAG_INSERT;else{const u=this.createCellView(i);u&&(u.graph=this.graph,l=jn.FLAG_INSERT|u.getBootstrapFlag(),c={view:u,flag:l,options:n,state:jn.ViewState.CREATED},this.views[s]=c)}c&&this.requestViewUpdate(c.view,l,n,this.getRenderPriority(c.view),!1)}),this.flush()}renderViewInArea(e,n,i={}){const s=e.cell,a=s.id,l=this.views[a];if(!l)return;let c=0;this.isUpdatable(e)||l.state===jn.ViewState.MOUNTED?(c=this.updateView(e,n,i),l.flag=c):l.state=jn.ViewState.WAITING,c&&s.isEdge()&&!(c&e.getFlag(["source","target"]))&&this.queue.queueJob({id:a,priority:Ds.RenderEdge,cb:()=>{this.updateView(e,n,i)}})}removeViews(e){e.forEach(n=>{const i=n.id,s=this.views[i];s&&(this.willRemoveViews[i]=s,delete this.views[i],this.queue.queueJob({id:i,priority:this.getRenderPriority(s.view),cb:()=>{this.removeView(s.view)}}))}),this.flush()}flush(){this.graph.options.async?this.queue.queueFlush():this.queue.queueFlushSync()}flushWaitingViews(){Object.values(this.views).forEach(e=>{if(e&&e.state===jn.ViewState.WAITING){const{view:n,flag:i,options:s}=e;this.requestViewUpdate(n,i,s,this.getRenderPriority(n),!1)}}),this.flush()}updateView(e,n,i={}){if(null==e)return 0;if(An.isCellView(e)){if(n&jn.FLAG_REMOVE)return this.removeView(e.cell),0;n&jn.FLAG_INSERT&&(this.insertView(e),n^=jn.FLAG_INSERT)}return n?e.confirmUpdate(n,i):0}insertView(e){const n=this.views[e.cell.id];if(n){const i=e.cell.getZIndex(),s=this.addZPivot(i);this.container.insertBefore(e.container,s),e.cell.isVisible()||this.toggleVisible(e.cell,!1),n.state=jn.ViewState.MOUNTED,this.graph.trigger("view:mounted",{view:e})}}resetViews(){this.willRemoveViews=Object.assign(Object.assign({},this.views),this.willRemoveViews),Object.values(this.willRemoveViews).forEach(e=>{e&&this.removeView(e.view)}),this.views={},this.willRemoveViews={}}removeView(e){const n=e.cell,i=this.willRemoveViews[n.id];i&&e&&(i.view.remove(),delete this.willRemoveViews[n.id],this.graph.trigger("view:unmounted",{view:e}))}toggleVisible(e,n){const i=this.model.getConnectedEdges(e);for(let a=0,l=i.length;a<l;a+=1){const c=i[a];if(n){const u=c.getSourceCell(),g=c.getTargetCell();if(u&&!u.isVisible()||g&&!g.isVisible())continue;this.toggleVisible(c,!0)}else this.toggleVisible(c,!1)}const s=this.views[e.id];s&&Vo(s.view.container,{display:n?"unset":"none"})}addZPivot(e=0){null==this.zPivots&&(this.zPivots={});const n=this.zPivots;let i=n[e];if(i)return i;i=n[e]=document.createComment(`z-index:${e+1}`);let s=-1/0;for(const l in n){const c=+l;c<e&&c>s&&(s=c)}const a=this.container;return a.insertBefore(i,s!==-1/0?n[s].nextSibling:a.firstChild),i}removeZPivots(){this.zPivots&&Object.values(this.zPivots).forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}createCellView(e){const n={graph:this.graph},i=this.graph.options.createCellView;if(i){const a=Ot(i,this.graph,e);if(a)return new a(e,n);if(null===a)return null}const s=e.view;if(null!=s&&"string"==typeof s){const a=An.registry.get(s);return a?new a(e,n):An.registry.onNotFound(s)}return e.isNode()?new _i(e,n):e.isEdge()?new Xi(e,n):null}getEffectedEdges(e){const n=[],i=e.cell,s=this.model.getConnectedEdges(i);for(let a=0,l=s.length;a<l;a+=1){const c=s[a],u=this.views[c.id];if(!u)continue;const g=u.view;if(!this.isViewMounted(g))continue;const _=["update"];c.getTargetCell()===i&&_.push("target"),c.getSourceCell()===i&&_.push("source"),n.push({id:c.id,view:g,flag:g.getFlag(_)})}return n}isUpdatable(e){if(e.isNodeView())return!this.renderArea||this.renderArea.isIntersectWithRect(e.cell.getBBox());if(e.isEdgeView()){const n=e.cell,i=n.getSourceCell(),s=n.getTargetCell();if(this.renderArea&&i&&s)return this.renderArea.isIntersectWithRect(i.getBBox())||this.renderArea.isIntersectWithRect(s.getBBox())}return!0}getRenderPriority(e){return e.cell.isNode()?Ds.RenderNode:Ds.RenderEdge}dispose(){this.stopListening(),Object.keys(this.views).forEach(e=>{this.views[e].view.dispose()}),this.views={}}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([Y.dispose()],jn.prototype,"dispose",null),function(o){o.FLAG_INSERT=1<<30,o.FLAG_REMOVE=1<<29,o.FLAG_RENDER=67108863}(jn||(jn={})),function(o){let e;var n;(n=e=o.ViewState||(o.ViewState={}))[n.CREATED=0]="CREATED",n[n.MOUNTED=1]="MOUNTED",n[n.WAITING=2]="WAITING"}(jn||(jn={}));class Qp extends Wn{constructor(){super(...arguments),this.schedule=new jn(this.graph)}requestViewUpdate(e,n,i={}){this.schedule.requestViewUpdate(e,n,i)}isViewMounted(e){return this.schedule.isViewMounted(e)}setRenderArea(e){this.schedule.setRenderArea(e)}findViewByElem(e){if(null==e)return null;const i="string"==typeof e?this.options.container.querySelector(e):e instanceof Element?e:e[0];if(i){const s=this.graph.view.findAttr("data-cell-id",i);if(s){const a=this.schedule.views;if(a[s])return a[s].view}}return null}findViewByCell(e){if(null==e)return null;const n=an.isCell(e)?e.id:e,i=this.schedule.views;return i[n]?i[n].view:null}findViewsFromPoint(e){const n={x:e.x,y:e.y};return this.model.getCells().map(i=>this.findViewByCell(i)).filter(i=>null!=i&&gn.getBBox(i.container,{target:this.view.stage}).containsPoint(n))}findEdgeViewsFromPoint(e,n=5){return this.model.getEdges().map(i=>this.findViewByCell(i)).filter(i=>{if(null!=i){const s=i.getClosestPoint(e);if(s)return s.distance(e)<=n}return!1})}findViewsInArea(e,n={}){const i=St.create(e);return this.model.getCells().map(s=>this.findViewByCell(s)).filter(s=>{if(s){if(n.nodeOnly&&!s.isNodeView())return!1;const a=gn.getBBox(s.container,{target:this.view.stage});return 0===a.width?a.inflate(1,0):0===a.height&&a.inflate(0,1),n.strict?i.containsRect(a):i.isIntersectWithRect(a)}return!1})}dispose(){this.schedule.dispose()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],Qp.prototype,"dispose",null);var z_=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n};class b_ extends Wn{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(e){return null!=this.svg.getElementById(e)}filter(e){let n=e.id;const i=e.name;if(n||(n=`filter-${i}-${this.cid}-${sp(JSON.stringify(e))}`),!this.isDefined(n)){const s=Qo.registry.get(i);if(null==s)return Qo.registry.onNotFound(i);const a=s(e.args||{}),l=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:n});Qt.create(Sn.sanitize(a),l).appendTo(this.defs)}return n}gradient(e){let n=e.id;const i=e.type;if(n||(n=`gradient-${i}-${this.cid}-${sp(JSON.stringify(e))}`),!this.isDefined(n)){const l=`<${i}>${e.stops.map(u=>{const g=null!=u.opacity&&Number.isFinite(u.opacity)?u.opacity:1;return`<stop offset="${u.offset}" stop-color="${u.color}" stop-opacity="${g}"/>`}).join("")}</${i}>`,c=Object.assign({id:n},e.attrs);Qt.create(l,c).appendTo(this.defs)}return n}marker(e){const{id:n,refX:i,refY:s,markerUnits:a,markerOrient:l,tagName:c,children:u}=e,g=z_(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let _=n;if(_||(_=`marker-${this.cid}-${sp(JSON.stringify(e))}`),!this.isDefined(_)){"path"!==c&&delete g.d;const z=Qt.create("marker",{refX:i,refY:s,id:_,overflow:"visible",orient:l??"auto",markerUnits:a||"userSpaceOnUse"},u?u.map(y=>{var{tagName:x}=y,N=z_(y,["tagName"]);return Qt.create(`${x}`||"path",Lo(Object.assign(Object.assign({},g),N)))}):[Qt.create(c||"path",Lo(g))]);this.defs.appendChild(z.node)}return _}remove(e){const n=this.svg.getElementById(e);n&&n.parentNode&&n.parentNode.removeChild(n)}}class S_ extends Wn{getClientMatrix(){return Vn(this.view.stage.getScreenCTM())}getClientOffset(){const e=this.view.svg.getBoundingClientRect();return new ve(e.left,e.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(e,n){return("number"==typeof e?this.clientToLocalPoint(e,n):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(e,n){const i=ve.create(e,n);return gn.transformPoint(i,this.graph.matrix())}localToClientPoint(e,n){const i=ve.create(e,n);return gn.transformPoint(i,this.getClientMatrix())}localToPagePoint(e,n){return("number"==typeof e?this.localToGraphPoint(e,n):this.localToGraphPoint(e)).translate(this.getPageOffset())}localToGraphRect(e,n,i,s){const a=St.create(e,n,i,s);return gn.transformRectangle(a,this.graph.matrix())}localToClientRect(e,n,i,s){const a=St.create(e,n,i,s);return gn.transformRectangle(a,this.getClientMatrix())}localToPageRect(e,n,i,s){return("number"==typeof e?this.localToGraphRect(e,n,i,s):this.localToGraphRect(e)).translate(this.getPageOffset())}graphToLocalPoint(e,n){const i=ve.create(e,n);return gn.transformPoint(i,this.graph.matrix().inverse())}clientToLocalPoint(e,n){const i=ve.create(e,n);return gn.transformPoint(i,this.getClientMatrix().inverse())}clientToGraphPoint(e,n){const i=ve.create(e,n);return gn.transformPoint(i,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(e,n){const s=ve.create(e,n).diff(this.getPageOffset());return this.graphToLocalPoint(s)}graphToLocalRect(e,n,i,s){const a=St.create(e,n,i,s);return gn.transformRectangle(a,this.graph.matrix().inverse())}clientToLocalRect(e,n,i,s){const a=St.create(e,n,i,s);return gn.transformRectangle(a,this.getClientMatrix().inverse())}clientToGraphRect(e,n,i,s){const a=St.create(e,n,i,s);return gn.transformRectangle(a,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(e,n,i,s){const a=St.create(e,n,i,s),l=this.getPageOffset();return a.x-=l.x,a.y-=l.y,this.graphToLocalRect(a)}}class Ec extends Wn{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:e,magnet:n,options:i={}}){const s=this.resolveHighlighter(i);if(!s)return;const a=this.getHighlighterId(n,s);if(!this.highlights[a]){const l=s.highlighter;l.highlight(e,n,Object.assign({},s.args)),this.highlights[a]={cellView:e,magnet:n,highlighter:l,args:s.args}}}onCellUnhighlight({magnet:e,options:n={}}){const i=this.resolveHighlighter(n);if(!i)return;const s=this.getHighlighterId(e,i);this.unhighlight(s)}resolveHighlighter(e){const n=this.options;let i=e.highlighter;if(null==i){const c=e.type;i=c&&n.highlighting[c]||n.highlighting.default}if(null==i)return null;const s="string"==typeof i?{name:i}:i,a=s.name,l=Hi.registry.get(a);return null==l?Hi.registry.onNotFound(a):(Hi.check(a,l),{name:a,highlighter:l,args:s.args||{}})}getHighlighterId(e,n){return Zl(e),n.name+e.id+JSON.stringify(n.args)}unhighlight(e){const n=this.highlights[e];n&&(n.highlighter.unhighlight(n.cellView,n.magnet,n.args),delete this.highlights[e])}dispose(){Object.keys(this.highlights).forEach(e=>this.unhighlight(e)),this.stopListening()}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Ec.dispose()],Ec.prototype,"dispose",null);class T_ extends Wn{getScroller(){const e=this.graph.getPlugin("scroller");return e&&e.options.enabled?e:null}getContainer(){const e=this.getScroller();return e?e.container.parentElement:this.graph.container.parentElement}getSensorTarget(){const e=this.options.autoResize;if(e)return"boolean"==typeof e?this.getContainer():e}init(){if(this.options.autoResize){const n=this.getSensorTarget();n&&cc.bind(n,()=>{this.resize(n.offsetWidth,n.offsetHeight)})}}resize(e,n){const i=this.getScroller();i?i.resize(e,n):this.graph.transform.resize(e,n)}dispose(){cc.clear(this.graph.container)}}!function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)}([Wn.dispose()],T_.prototype,"dispose",null);class ti extends ii{get container(){return this.options.container}get[Symbol.toStringTag](){return ti.toStringTag}constructor(e){super(),this.installedPlugins=new Set,this.options=Aa.get(e),this.css=new Up(this),this.view=new Ni(this),this.defs=new b_(this),this.coord=new S_(this),this.transform=new C_(this),this.highlight=new Ec(this),this.grid=new Xp(this),this.background=new Wp(this),this.options.model?this.model=this.options.model:(this.model=new mi,this.model.graph=this),this.renderer=new Qp(this),this.panning=new Yp(this),this.mousewheel=new Kp(this),this.virtualRender=new y_(this),this.size=new T_(this)}isNode(e){return e.isNode()}isEdge(e){return e.isEdge()}resetCells(e,n={}){return this.model.resetCells(e,n),this}clearCells(e={}){return this.model.clear(e),this}toJSON(e={}){return this.model.toJSON(e)}parseJSON(e){return this.model.parseJSON(e)}fromJSON(e,n={}){return this.model.fromJSON(e,n),this}getCellById(e){return this.model.getCell(e)}addNode(e,n={}){return this.model.addNode(e,n)}addNodes(e,n={}){return this.addCell(e.map(i=>$n.isNode(i)?i:this.createNode(i)),n)}createNode(e){return this.model.createNode(e)}removeNode(e,n={}){return this.model.removeCell(e,n)}addEdge(e,n={}){return this.model.addEdge(e,n)}addEdges(e,n={}){return this.addCell(e.map(i=>Rn.isEdge(i)?i:this.createEdge(i)),n)}removeEdge(e,n={}){return this.model.removeCell(e,n)}createEdge(e){return this.model.createEdge(e)}addCell(e,n={}){return this.model.addCell(e,n),this}removeCell(e,n={}){return this.model.removeCell(e,n)}removeCells(e,n={}){return this.model.removeCells(e,n)}removeConnectedEdges(e,n={}){return this.model.removeConnectedEdges(e,n)}disconnectConnectedEdges(e,n={}){return this.model.disconnectConnectedEdges(e,n),this}hasCell(e){return this.model.has(e)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(e){return this.model.getOutgoingEdges(e)}getIncomingEdges(e){return this.model.getIncomingEdges(e)}getConnectedEdges(e,n={}){return this.model.getConnectedEdges(e,n)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(e){return this.model.isRoot(e)}isLeafNode(e){return this.model.isLeaf(e)}getNeighbors(e,n={}){return this.model.getNeighbors(e,n)}isNeighbor(e,n,i={}){return this.model.isNeighbor(e,n,i)}getSuccessors(e,n={}){return this.model.getSuccessors(e,n)}isSuccessor(e,n,i={}){return this.model.isSuccessor(e,n,i)}getPredecessors(e,n={}){return this.model.getPredecessors(e,n)}isPredecessor(e,n,i={}){return this.model.isPredecessor(e,n,i)}getCommonAncestor(...e){return this.model.getCommonAncestor(...e)}getSubGraph(e,n={}){return this.model.getSubGraph(e,n)}cloneSubGraph(e,n={}){return this.model.cloneSubGraph(e,n)}cloneCells(e){return this.model.cloneCells(e)}getNodesFromPoint(e,n){return this.model.getNodesFromPoint(e,n)}getNodesInArea(e,n,i,s,a){return this.model.getNodesInArea(e,n,i,s,a)}getNodesUnderNode(e,n={}){return this.model.getNodesUnderNode(e,n)}searchCell(e,n,i={}){return this.model.search(e,n,i),this}getShortestPath(e,n,i={}){return this.model.getShortestPath(e,n,i)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(e,n={}){return this.model.getCellsBBox(e,n)}startBatch(e,n={}){this.model.startBatch(e,n)}stopBatch(e,n={}){this.model.stopBatch(e,n)}batchUpdate(e,n,i){const s="string"==typeof e?e:"update",a="string"==typeof e?n:e,l="function"==typeof n?i:n;this.startBatch(s,l);const c=a();return this.stopBatch(s,l),c}updateCellId(e,n){return this.model.updateCellId(e,n)}findView(e){return an.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}findViews(e){return St.isRectangleLike(e)?this.findViewsInArea(e):ve.isPointLike(e)?this.findViewsFromPoint(e):[]}findViewByCell(e){return this.renderer.findViewByCell(e)}findViewByElem(e){return this.renderer.findViewByElem(e)}findViewsFromPoint(e,n){return this.renderer.findViewsFromPoint("number"==typeof e?{x:e,y:n}:e)}findViewsInArea(e,n,i,s,a){return this.renderer.findViewsInArea("number"==typeof e?{x:e,y:n,width:i,height:s}:e,"number"==typeof e?a:n)}matrix(e){return typeof e>"u"?this.transform.getMatrix():(this.transform.setMatrix(e),this)}resize(e,n){const i=this.getPlugin("scroller");return i?i.resize(e,n):this.transform.resize(e,n),this}scale(e,n=e,i=0,s=0){return typeof e>"u"?this.transform.getScale():(this.transform.scale(e,n,i,s),this)}zoom(e,n){const i=this.getPlugin("scroller");if(i){if(typeof e>"u")return i.zoom();i.zoom(e,n)}else{if(typeof e>"u")return this.transform.getZoom();this.transform.zoom(e,n)}return this}zoomTo(e,n={}){const i=this.getPlugin("scroller");return i?i.zoom(e,Object.assign(Object.assign({},n),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},n),{absolute:!0})),this}zoomToRect(e,n={}){const i=this.getPlugin("scroller");return i?i.zoomToRect(e,n):this.transform.zoomToRect(e,n),this}zoomToFit(e={}){const n=this.getPlugin("scroller");return n?n.zoomToFit(e):this.transform.zoomToFit(e),this}rotate(e,n,i){return typeof e>"u"?this.transform.getRotation():(this.transform.rotate(e,n,i),this)}translate(e,n){return typeof e>"u"?this.transform.getTranslation():(this.transform.translate(e,n),this)}translateBy(e,n){const i=this.translate();return this.translate(i.tx+e,i.ty+n)}getGraphArea(){return this.transform.getGraphArea()}getContentArea(e={}){return this.transform.getContentArea(e)}getContentBBox(e={}){return this.transform.getContentBBox(e)}fitToContent(e,n,i,s){return this.transform.fitToContent(e,n,i,s)}scaleContentToFit(e={}){return this.transform.scaleContentToFit(e),this}center(e){return this.centerPoint(e)}centerPoint(e,n,i){const s=this.getPlugin("scroller");return s?s.centerPoint(e,n,i):this.transform.centerPoint(e,n),this}centerContent(e){const n=this.getPlugin("scroller");return n?n.centerContent(e):this.transform.centerContent(e),this}centerCell(e,n){const i=this.getPlugin("scroller");return i?i.centerCell(e,n):this.transform.centerCell(e),this}positionPoint(e,n,i,s={}){const a=this.getPlugin("scroller");return a?a.positionPoint(e,n,i,s):this.transform.positionPoint(e,n,i),this}positionRect(e,n,i){const s=this.getPlugin("scroller");return s?s.positionRect(e,n,i):this.transform.positionRect(e,n),this}positionCell(e,n,i){const s=this.getPlugin("scroller");return s?s.positionCell(e,n,i):this.transform.positionCell(e,n),this}positionContent(e,n){const i=this.getPlugin("scroller");return i?i.positionContent(e,n):this.transform.positionContent(e,n),this}snapToGrid(e,n){return this.coord.snapToGrid(e,n)}pageToLocal(e,n,i,s){return St.isRectangleLike(e)?this.coord.pageToLocalRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.pageToLocalRect(e,n,i,s):this.coord.pageToLocalPoint(e,n)}localToPage(e,n,i,s){return St.isRectangleLike(e)?this.coord.localToPageRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.localToPageRect(e,n,i,s):this.coord.localToPagePoint(e,n)}clientToLocal(e,n,i,s){return St.isRectangleLike(e)?this.coord.clientToLocalRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.clientToLocalRect(e,n,i,s):this.coord.clientToLocalPoint(e,n)}localToClient(e,n,i,s){return St.isRectangleLike(e)?this.coord.localToClientRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.localToClientRect(e,n,i,s):this.coord.localToClientPoint(e,n)}localToGraph(e,n,i,s){return St.isRectangleLike(e)?this.coord.localToGraphRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.localToGraphRect(e,n,i,s):this.coord.localToGraphPoint(e,n)}graphToLocal(e,n,i,s){return St.isRectangleLike(e)?this.coord.graphToLocalRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.graphToLocalRect(e,n,i,s):this.coord.graphToLocalPoint(e,n)}clientToGraph(e,n,i,s){return St.isRectangleLike(e)?this.coord.clientToGraphRect(e):"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof s?this.coord.clientToGraphRect(e,n,i,s):this.coord.clientToGraphPoint(e,n)}defineFilter(e){return this.defs.filter(e)}defineGradient(e){return this.defs.gradient(e)}defineMarker(e){return this.defs.marker(e)}getGridSize(){return this.grid.getGridSize()}setGridSize(e){return this.grid.setGridSize(e),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(e){return this.grid.draw(e),this}updateBackground(){return this.background.update(),this}drawBackground(e,n){const i=this.getPlugin("scroller");return null==i||null!=this.options.background&&n?this.background.draw(e):i.drawBackground(e,n),this}clearBackground(e){const n=this.getPlugin("scroller");return null==n||null!=this.options.background&&e?this.background.clear():n.clearBackground(e),this}enableVirtualRender(){return this.virtualRender.enableVirtualRender(),this}disableVirtualRender(){return this.virtualRender.disableVirtualRender(),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(e){return null==e?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){const e=this.getPlugin("scroller");return e?e.isPannable():this.panning.pannable}enablePanning(){const e=this.getPlugin("scroller");return e?e.enablePanning():this.panning.enablePanning(),this}disablePanning(){const e=this.getPlugin("scroller");return e?e.disablePanning():this.panning.disablePanning(),this}togglePanning(e){return null==e?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}use(e,...n){return this.installedPlugins.has(e)||(this.installedPlugins.add(e),e.init(this,...n)),this}getPlugin(e){return Array.from(this.installedPlugins).find(n=>n.name===e)}getPlugins(e){return Array.from(this.installedPlugins).filter(n=>e.includes(n.name))}enablePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const i=this.getPlugins(n);return i?.forEach(s=>{var a;null===(a=s?.enable)||void 0===a||a.call(s)}),this}disablePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const i=this.getPlugins(n);return i?.forEach(s=>{var a;null===(a=s?.disable)||void 0===a||a.call(s)}),this}isPluginEnabled(e){var n;const i=this.getPlugin(e);return null===(n=i?.isEnabled)||void 0===n?void 0:n.call(i)}disposePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const i=this.getPlugins(n);return i?.forEach(s=>{s.dispose(),this.installedPlugins.delete(s)}),this}dispose(e=!0){e&&this.model.dispose(),this.css.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.highlight.dispose(),this.background.dispose(),this.mousewheel.dispose(),this.panning.dispose(),this.view.dispose(),this.renderer.dispose(),this.installedPlugins.forEach(n=>{n.dispose()})}}(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([ii.dispose()],ti.prototype,"dispose",null),function(o){o.View=Ni,o.Renderer=Qp,o.MouseWheel=Kp,o.DefsManager=b_,o.GridManager=Xp,o.CoordManager=S_,o.TransformManager=C_,o.HighlightManager=Ec,o.BackgroundManager=Wp,o.PanningManager=Yp}(ti||(ti={})),function(o){o.toStringTag=`X6.${o.name}`,o.isGraph=function e(n){if(null==n)return!1;if(n instanceof o)return!0;const i=n[Symbol.toStringTag];return null==i||i===o.toStringTag}}(ti||(ti={})),function(o){o.render=function e(n,i){const s=n instanceof HTMLElement?new o({container:n}):new o(n);return null!=i&&s.fromJSON(i),s}}(ti||(ti={})),function(o){o.registerNode=$n.registry.register,o.registerEdge=Rn.registry.register,o.registerView=An.registry.register,o.registerAttr=ki.registry.register,o.registerGrid=_s.registry.register,o.registerFilter=Qo.registry.register,o.registerNodeTool=er.registry.register,o.registerEdgeTool=tr.registry.register,o.registerBackground=Oa.registry.register,o.registerHighlighter=Hi.registry.register,o.registerPortLayout=eo.registry.register,o.registerPortLabelLayout=Jo.registry.register,o.registerMarker=ys.registry.register,o.registerRouter=xs.registry.register,o.registerConnector=to.registry.register,o.registerAnchor=nr.registry.register,o.registerEdgeAnchor=ir.registry.register,o.registerConnectionPoint=sr.registry.register}(ti||(ti={})),function(o){o.unregisterNode=$n.registry.unregister,o.unregisterEdge=Rn.registry.unregister,o.unregisterView=An.registry.unregister,o.unregisterAttr=ki.registry.unregister,o.unregisterGrid=_s.registry.unregister,o.unregisterFilter=Qo.registry.unregister,o.unregisterNodeTool=er.registry.unregister,o.unregisterEdgeTool=tr.registry.unregister,o.unregisterBackground=Oa.registry.unregister,o.unregisterHighlighter=Hi.registry.unregister,o.unregisterPortLayout=eo.registry.unregister,o.unregisterPortLabelLayout=Jo.registry.unregister,o.unregisterMarker=ys.registry.unregister,o.unregisterRouter=xs.registry.unregister,o.unregisterConnector=to.registry.unregister,o.unregisterAnchor=nr.registry.unregister,o.unregisterEdgeAnchor=ir.registry.unregister,o.unregisterConnectionPoint=sr.registry.unregister}(ti||(ti={}));class no extends $n{}(function(o){class e extends _i{init(){super.init(),this.cell.on("change:*",this.onCellChangeAny,this)}onCellChangeAny({key:i}){const s=o.shapeMaps[this.cell.shape];if(s){const{effect:a}=s;(!a||a.includes(i))&&this.renderHTMLComponent()}}confirmUpdate(i){const s=super.confirmUpdate(i);return this.handleAction(s,e.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const i=this.selectors&&this.selectors.foContent;if(i){Fo(i);const s=o.shapeMaps[this.cell.shape];if(!s)return;let{html:a}=s;"function"==typeof a&&(a=a(this.cell)),a&&("string"==typeof a?i.innerHTML=a:Bo(i,a))}}dispose(){this.cell.off("change:*",this.onCellChangeAny,this)}}var n;(function(o,e,n,i){var l,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,n,i);else for(var c=o.length-1;c>=0;c--)(l=o[c])&&(a=(s<3?l(a):s>3?l(e,n,a):l(e,n))||a);s>3&&a&&Object.defineProperty(e,n,a)})([e.dispose()],e.prototype,"dispose",null),o.View=e,(n=e=o.View||(o.View={})).action="html",n.config({bootstrap:[n.action],actions:{html:n.action}}),_i.registry.register("html-view",n,!0)})(no||(no={})),function(o){o.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Sn.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),$n.registry.register("html",o,!0)}(no||(no={})),function(o){o.shapeMaps={},o.register=function e(n){const{shape:i,html:s,effect:a,inherit:l}=n,c=function(o,e){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&e.indexOf(i)<0&&(n[i]=o[i]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(o);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(o,i[s])&&(n[i[s]]=o[i[s]])}return n}(n,["shape","html","effect","inherit"]);if(!i)throw new Error("should specify shape in config");o.shapeMaps[i]={html:s,effect:a},ti.registerNode(i,Object.assign({inherit:l||"html"},c),!0)}}(no||(no={}))},4104:(Lt,ct,v)=>{"use strict";v.d(ct,{b:()=>F});var t=v(1413),f=v(1325),m=v(5633),C=v(3179),Ee=v(4438),Ue=v(5013),Se=v(1626),ze=v(345),fe=v(6504);let F=(()=>{class ie{Ready(){return this.readySub.asObservable()}constructor(me,J,G,ge,Ce){this.rs=me,this.injector=J,this.httpClient=G,this.sanitizer=ge,this.ns=Ce,this.ready=!1,this.readySub=new t.B,this.components={},this.PutCollections(m.p)}PutComponent(me){if(this.components[me.id]=me,me.listeners)for(let J in me.listeners){if(!me.listeners.hasOwnProperty(J))return;const G=me.listeners[J];if("string"==typeof G)try{me.listeners[J]=new Function("cell","event",G)}catch(ge){this.ns.error("\u7f16\u8bd1\u9519\u8bef",ge.message)}}if("string"==typeof me.html)try{me.html=new Function("cell",func)}catch(J){this.ns.error("\u7f16\u8bd1\u9519\u8bef",J.message)}if(me.hooks)for(let J in me.hooks){if(!me.hooks.hasOwnProperty(J))return;const G=me.hooks[J];if("string"==typeof G)try{me.hooks[J]=new Function("value","cell",G)}catch(ge){this.ns.error("\u7f16\u8bd1\u9519\u8bef",ge.message)}}}PutCollections(me){me.forEach(J=>this.PutCollection(J))}PutCollection(me){me.components=me.components||[],me.components.forEach(J=>{this.PutComponent(J)})}CheckRegister(me){if(!me.registered&&!me.internal){switch(me.registered=!0,me.type){case"line":if(me.extends)return f.ke.registerEdge(me.id,me.extends),!0;this.ns.error("\u7f16\u8bd1\u9519\u8bef",me.id+" "+me.name+"\u7f3a\u5c11extends");break;case"shape":if(me.extends)return f.ke.registerNode(me.id,me.extends),!0;this.ns.error("\u7f16\u8bd1\u9519\u8bef",me.id+" "+me.name+"\u7f3a\u5c11extends");break;case"html":f.yp.g3.register({shape:me.id,width:me.metadata?.width||100,height:me.metadata?.height||100,html:me.html});break;case"angular":if(me.content)return(0,C.kz)({shape:me.id,width:me.metadata?.width||100,height:me.metadata?.height||100,content:me.content,injector:this.injector}),me.registered=!0,!0;this.ns.error("\u7f16\u8bd1\u9519\u8bef",me.id+" "+me.name+"\u7f3a\u5c11content")}return!1}}Get(me){const J=this.components[me];return J&&this.CheckRegister(J),J}static#e=this.\u0275fac=function(J){return new(J||ie)(Ee.KVO(Ue.By),Ee.KVO(Ee.zZn),Ee.KVO(Se.Qq),Ee.KVO(ze.up),Ee.KVO(fe.xY))};static#t=this.\u0275prov=Ee.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})()},763:(Lt,ct,v)=>{"use strict";v.d(ct,{y:()=>ie});var t=v(1325),f=v(4438),m=v(345),C=v(3053);const Ee=["iframe"];function Ue(he,me){if(1&he&&(f.j41(0,"div"),f.EFF(1),f.k0s()),2&he){const J=f.XpG();f.R7$(),f.JRh(J.title)}}let Se=(()=>{class he{set url(J){this.safeUrl=this.san.bypassSecurityTrustResourceUrl(J)}constructor(J){this.san=J,this.title="\u7a97\u53e3",this.width=400,this.height=300}load(J){console.log("iframe load",J);const G=this.iframe.nativeElement.contentWindow;this.title=G.document.title,setTimeout(()=>{this.title=G.document.title},500),setTimeout(()=>{this.title=G.document.title},2e3)}static#e=this.\u0275fac=function(G){return new(G||he)(f.rXU(m.up))};static#t=this.\u0275cmp=f.VBU({type:he,selectors:[["app-window"]],viewQuery:function(G,ge){if(1&G&&f.GBs(Ee,5),2&G){let Ce;f.mGM(Ce=f.lsd())&&(ge.iframe=Ce.first)}},inputs:{title:"title",width:"width",height:"height",url:"url"},decls:3,vars:5,consts:[["iframe",""],[4,"nzModalTitle"],[3,"load","src"]],template:function(G,ge){if(1&G){const Ce=f.RV6();f.DNE(0,Ue,2,1,"div",1),f.j41(1,"iframe",2,0),f.bIt("load",function(Pe){return f.eBV(Ce),f.Njj(ge.load(Pe))}),f.k0s()}2&G&&(f.R7$(),f.xc7("width",ge.width+"px")("height",ge.height+"px"),f.Y8G("src",ge.safeUrl,f.f$h))},dependencies:[C.hk],styles:["iframe[_ngcontent-%COMP%]{border:none}"]})}return he})();var ze=v(5013),fe=v(4104),F=v(6504);let ie=(()=>{class he{set page(J){this._page=J,this.render(J)}get page(){return this._page}constructor(J,G,ge,Ce,De){this.rs=J,this.cs=G,this.ns=ge,this.ms=Ce,this.subs=[],this.mousewheel=!1,this.panning=!1,this.full=!1,this.padding=10,this.tools={go:Pe=>{},window:(Pe,He=400,ae=300,Te="\u7a97\u53e3")=>{this.ms.create({nzContent:Se,nzData:{url:Pe,width:He,height:ae,title:Te},nzWidth:He+48,nzFooter:null})},open:(Pe,He=!1)=>{He?window.open(Pe):location.href=Pe},get:(Pe,He)=>{this.rs.get(Pe,He).subscribe(()=>{})},post:(Pe,He)=>{this.rs.post(Pe,He).subscribe(()=>{})},auth:Pe=>{}},this.graph=new t.ke({container:De.nativeElement,interacting:!1,mousewheel:this.mousewheel,panning:this.panning,autoResize:this.full}),this.graph.on("cell:click",({cell:Pe,e:He})=>{try{Pe.data?.listeners?.click?.call(this,Pe,He,this.tools),this.cs.Get(Pe.shape)?.listeners?.click?.call(this,Pe,He,this.tools)}catch(ae){this.ns.error("\u70b9\u51fb\u4e8b\u4ef6\u5904\u7406\u9519\u8bef",ae.message)}}),this.graph.on("cell:mouseenter",({cell:Pe,e:He})=>{try{this.cs.Get(Pe.shape)?.listeners?.mouseenter?.call(this,Pe,He,this.tools)}catch(ae){this.ns.error("\u9f20\u6807\u4e8b\u4ef6\u5904\u7406\u9519\u8bef",ae.message)}}),this.graph.on("cell:mouseleave",({cell:Pe,e:He})=>{try{this.cs.Get(Pe.shape)?.listeners?.mouseleave?.call(this,Pe,He,this.tools)}catch(ae){this.ns.error("\u9f20\u6807\u4e8b\u4ef6\u5904\u7406\u9519\u8bef",ae.message)}}),this.graph.on("cell:custom",Pe=>{try{Pe.cell?.data.listeners?.[Pe.event]?.call(this,Pe.cell,Pe.value,this.tools)}catch(He){this.ns.error("\u7ec4\u4ef6\u4e8b\u4ef6\u54cd\u5e94\u5904\u7406\u9519\u8bef",He.message)}})}evaluate(J,G){const ge=Object.keys(G),Ce=Object.values(G);return new Function(...ge,"return "+J)(...Ce)}render(J){J.content?.cells?.forEach(G=>{this.cs.Get(G.shape)}),this.graph.drawBackground({color:J.background_color,image:J.background_image}),this.graph.fromJSON(J.content),this.full&&(this.graph.centerContent(),this.graph.zoomToFit({padding:this.padding})),this.subs.forEach(G=>G.unsubscribe()),this.subs=[],this.graph.getCells().forEach(G=>{const ge=this.cs.Get(G.shape);if(G.data?.bindings)for(const Ce in G.data.bindings)G.data.bindings.hasOwnProperty(Ce)&&console.log("binding",ge.id,Ce,G.data.bindings[Ce]);if(G.data?.listeners)for(const Ce in G.data.listeners){if(!G.data.listeners.hasOwnProperty(Ce))continue;const De=G.data.listeners[Ce];if("string"==typeof De&&De.length>0)try{G.data.listeners[Ce]=new Function("cell","event","tools",De)}catch(Pe){this.ns.error("\u811a\u672c\u7f16\u8bd1\u9519\u8bef"+Ce,De+" "+Pe.message),G.data.listeners[Ce]=()=>{this.ns.error("\u7ec4\u4ef6\u811a\u672c\u9519\u8bef"+Ce,De+" "+Pe.message)}}}})}onResize(J){this.full&&(this.graph.resize(J.target.innerWidth,J.target.innerHeight),this.graph.centerContent(),this.graph.zoomToFit({padding:this.padding}))}ngOnDestroy(){this.subs.forEach(J=>J.unsubscribe())}static#e=this.\u0275fac=function(G){return new(G||he)(f.rXU(ze.By),f.rXU(fe.b),f.rXU(F.xY),f.rXU(C.N_),f.rXU(f.aKT))};static#t=this.\u0275cmp=f.VBU({type:he,selectors:[["app-render"]],hostBindings:function(G,ge){1&G&&f.bIt("resize",function(De){return ge.onResize(De)},!1,f.tSv)},inputs:{page:"page",mousewheel:"mousewheel",panning:"panning",full:"full",padding:"padding"},standalone:!0,features:[f.aNF],decls:2,vars:0,template:function(G,ge){1&G&&(f.j41(0,"p"),f.EFF(1,"render"),f.k0s())},styles:["[_nghost-%COMP%]{display:block;overflow:hidden}"]})}return he})()},5633:(Lt,ct,v)=>{"use strict";function Ee(Ne){return[{label:"\u586b\u5145",key:`attrs/${Ne}/fill`,type:"color",clear:!0},{label:"\u8fb9\u6846\u989c\u8272",key:`attrs/${Ne}/stroke`,type:"color",clear:!0},{label:"\u8fb9\u6846\u5927\u5c0f",key:`attrs/${Ne}/strokeWidth`,type:"number",min:0,max:65535},{label:"\u8fb9\u6846\u7ebf\u5f62",key:`attrs/${Ne}/strokeDasharray`,type:"select",default:"",options:[{value:"",label:"\u5b9e\u7ebf"},{value:"5 5",label:"\u865a\u7ebf"},{value:"10 10",label:"\u865a\u7ebf2"}]},{label:"\u8fb9\u6846\u52a8\u753b",key:`attrs/${Ne}/style/animation`,type:"select",default:"",options:[{value:"",label:"\u65e0"},{value:"line-flow-animation 30s infinite linear",label:"\u6d4b\u8bd5"}]}]}v.d(ct,{p:()=>_e});const Ue=[{label:"\u6587\u672c",key:"attrs/text/text",type:"text"},{label:"\u6587\u672c\u989c\u8272",key:"attrs/text/fill",type:"color",clear:!0},{label:"\u5b57\u53f7",key:"attrs/text/fontSize",type:"number",min:0,max:65535,default:16},{label:"\u5b57\u4f53",key:"attrs/text/fontFamily",type:"select",options:[{value:"SimHei",label:"\u9ed1\u4f53"},{value:"SimSun",label:"\u5b8b\u4f53"},{value:"FangSong",label:"\u4eff\u5b8b"},{value:"KaiTi",label:"\u6977\u4f53"},{value:"LiSu",label:"\u96b6\u4e66"},{value:"YouYuan",label:"\u5e7c\u5706"}],default:"SimHei"},{label:"\u52a0\u7c97",key:"attrs/text/fontWeight",type:"select",options:[{value:"lighter",label:"\u7ec6"},{value:"normal",label:"\u6b63\u5e38"},{value:"bold",label:"\u7c97"},{value:"bolder",label:"\u52a0\u7c97"}],default:"normal"},{label:"\u98ce\u683c",key:"attrs/text/fontStyle",type:"select",options:[{value:"normal",label:"\u6b63\u5e38"},{value:"italic",label:"\u659c\u4f53"}],default:"normal"}],Se={name:"\u7ebf\u6761",id:"$line",icon:"assets/widgets/line.svg",type:"line",extends:{inherit:"edge",markup:[{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"move",pointerEvents:"none"}},{tagName:"path",selector:"wrap",attrs:{fill:"none",cursor:"move",stroke:"transparent",strokeLinecap:"round"}}],attrs:{wrap:{connection:!0,strokeWidth:10,strokeLinejoin:"round"},line:{connection:!0,stroke:"#000",strokeWidth:2,strokeLinejoin:"round",targetMarker:null}},tools:{items:["edge-editor"]}},metadata:{},properties:[...Ee("line")],bindings:[],hooks:{}};var ze=v(513),fe=v(177),F=v(4438);const he={name:"\u6309\u94ae",id:"$button",icon:"assets/widgets/button.svg",type:"angular",metadata:{width:100,height:30},content:(()=>{class Ne{constructor(){this.text="\u6309\u94ae"}onClick(ye){}static#e=this.\u0275fac=function(ee){return new(ee||Ne)};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["nuwa-control-button"]],inputs:{text:"text"},standalone:!0,features:[F.aNF],decls:2,vars:1,consts:[["type","button","nz-button","",3,"click"]],template:function(ee,W){1&ee&&(F.j41(0,"button",0),F.bIt("click",function(M){return W.onClick(M)}),F.EFF(1),F.k0s()),2&ee&&(F.R7$(),F.JRh(W.text))},dependencies:[fe.MD,ze.aO],styles:["button[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return Ne})(),properties:[],bindings:[],hooks:{}},me={name:"\u6587\u672c",id:"$text",icon:"assets/widgets/text.svg",type:"shape",extends:{inherit:"rect"},metadata:{width:100,height:30,attrs:{rect:{fill:"none",stroke:"none",strokeWidth:2},text:{text:"\u6587\u672c\u6846"}}},properties:[...Ue,...Ee("rect")],bindings:[],hooks:{}},J={name:"\u77e9\u5f62",id:"rect",icon:"assets/widgets/rect.svg",type:"shape",internal:!0,metadata:{width:100,height:40},properties:[...Ee("rect"),...function C(Ne){return[{label:"X\u5706\u89d2",key:`attrs/${Ne}/rx`,type:"number",min:0,max:65535},{label:"Y\u5706\u89d2",key:`attrs/${Ne}/ry`,type:"number",min:0,max:65535}]}("rect")],bindings:[],hooks:{}},G={name:"\u5706\u5f62",id:"circle",icon:"assets/widgets/circle.svg",type:"shape",internal:!0,metadata:{width:100,height:100},properties:[...Ee("circle")],bindings:[],hooks:{}},ge={name:"\u692d\u5706",id:"ellipse",icon:"assets/widgets/ellipse.svg",type:"shape",internal:!0,metadata:{width:100,height:60},properties:[...Ee("ellipse")],bindings:[],hooks:{}},De={name:"\u6570\u503c",id:"$number",icon:"assets/widgets/number.svg",type:"shape",extends:{inherit:"rect"},metadata:{width:100,height:30,attrs:{rect:{fill:"none",stroke:"none"},text:{text:"number"}}},properties:[...Ue,...Ee("rect"),{label:"\u5c0f\u6570\u4f4d\u6570",key:"data/fixed",type:"number",default:0}],bindings:[{name:"value",label:"\u6570\u503c",default:12.06}],hooks:{value(Ne,Z){let ye=Ne.getPropByPath("data/fixed")||0;Ne.setPropByPath("attrs/text/text",Z?.toFixed(ye))}}};var Pe=v(2820);const ae={name:"\u56fe\u8868",id:"$echarts",icon:"assets/widgets/echarts.svg",type:"angular",metadata:{width:400,height:300},content:(()=>{class Ne{chartInit(ye){this.chart=ye,console.log(this.elementRef.nativeElement.clientWidth,this.elementRef.nativeElement.clientHeight)}resize(){this.chart.resize()}constructor(ye){this.elementRef=ye,this.option={title:{text:"echarts"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:"line"},{data:[100,200,200,60,90,177,130],type:"bar"}]}}static#e=this.\u0275fac=function(ee){return new(ee||Ne)(F.rXU(F.aKT))};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["app-echarts"]],inputs:{option:"option"},standalone:!0,features:[F.aNF],decls:1,vars:5,consts:[[1,"chart",3,"chartInit","options"]],template:function(ee,W){1&ee&&(F.j41(0,"echarts",0),F.bIt("chartInit",function(M){return W.chartInit(M)}),F.k0s()),2&ee&&(F.xc7("width",W.elementRef.nativeElement.clientWidth+"px")("height",W.elementRef.nativeElement.clientHeight+"px"),F.Y8G("options",W.option))},dependencies:[fe.MD,Pe.sN,Pe.$P],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"]})}return Ne})(),properties:[],bindings:[],hooks:{}},Y={name:"\u67f1\u72b6\u56fe",id:"$echarts-bar",icon:"assets/widgets/echarts-bar.svg",type:"angular",metadata:{width:400,height:300},content:(()=>{class Ne{option(){return{xAxis:{type:"category",data:this.xAxis},yAxis:{type:"value"},series:[{data:this.yAxis,type:"bar"}]}}chartInit(ye){this.chart=ye}resize(){this.chart.resize()}constructor(ye){this.elementRef=ye,this.xAxis=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03"],this.yAxis=[100,110,120,130,120,110,100]}static#e=this.\u0275fac=function(ee){return new(ee||Ne)(F.rXU(F.aKT))};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["app-echarts-bar"]],inputs:{xAxis:"xAxis",yAxis:"yAxis"},standalone:!0,features:[F.aNF],decls:1,vars:5,consts:[[1,"chart",3,"chartInit","options"]],template:function(ee,W){1&ee&&(F.j41(0,"echarts",0),F.bIt("chartInit",function(M){return W.chartInit(M)}),F.k0s()),2&ee&&(F.xc7("width",W.elementRef.nativeElement.clientWidth+"px")("height",W.elementRef.nativeElement.clientHeight+"px"),F.Y8G("options",W.option()))},dependencies:[fe.MD,Pe.sN,Pe.$P],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"]})}return Ne})(),properties:[],bindings:[],hooks:{}},oe={name:"\u4eea\u8868\u76d8",id:"$echarts-gauge",icon:"assets/widgets/echarts-gauge.svg",type:"angular",metadata:{width:300,height:300},content:(()=>{class Ne{option(){return{series:[{type:"gauge",progress:{show:!0},axisTick:{show:!1},data:[{value:this.value}]}]}}chartInit(ye){this.chart=ye}resize(){this.chart.resize()}constructor(ye){this.elementRef=ye,this.name="",this.value=30}static#e=this.\u0275fac=function(ee){return new(ee||Ne)(F.rXU(F.aKT))};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["app-echarts-bar"]],inputs:{name:"name",value:"value"},standalone:!0,features:[F.aNF],decls:1,vars:5,consts:[[1,"chart",3,"chartInit","options"]],template:function(ee,W){1&ee&&(F.j41(0,"echarts",0),F.bIt("chartInit",function(M){return W.chartInit(M)}),F.k0s()),2&ee&&(F.xc7("width",W.elementRef.nativeElement.clientWidth+"px")("height",W.elementRef.nativeElement.clientHeight+"px"),F.Y8G("options",W.option()))},dependencies:[fe.MD,Pe.sN,Pe.$P],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"]})}return Ne})(),properties:[],bindings:[],hooks:{}},ke={name:"\u6298\u7ebf\u56fe",id:"$echarts-line",icon:"assets/widgets/echarts-line.svg",type:"angular",metadata:{width:400,height:300},content:(()=>{class Ne{option(){return{xAxis:{type:"category",data:this.xAxis},yAxis:{type:"value"},series:[{data:this.yAxis,type:"line"}]}}chartInit(ye){this.chart=ye}resize(){this.chart.resize()}constructor(ye){this.elementRef=ye,this.xAxis=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03"],this.yAxis=[100,110,120,130,120,110,100]}static#e=this.\u0275fac=function(ee){return new(ee||Ne)(F.rXU(F.aKT))};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["app-echarts-bar"]],inputs:{xAxis:"xAxis",yAxis:"yAxis"},standalone:!0,features:[F.aNF],decls:1,vars:5,consts:[[1,"chart",3,"chartInit","options"]],template:function(ee,W){1&ee&&(F.j41(0,"echarts",0),F.bIt("chartInit",function(M){return W.chartInit(M)}),F.k0s()),2&ee&&(F.xc7("width",W.elementRef.nativeElement.clientWidth+"px")("height",W.elementRef.nativeElement.clientHeight+"px"),F.Y8G("options",W.option()))},dependencies:[fe.MD,Pe.sN,Pe.$P],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"]})}return Ne})(),properties:[],bindings:[],hooks:{}},et={name:"\u997c\u56fe",id:"$echarts-pie",icon:"assets/widgets/echarts-pie.svg",type:"angular",metadata:{width:400,height:400},content:(()=>{class Ne{option(){return{tooltip:{trigger:"item"},series:[{name:"Name",type:"pie",radius:"50%",data:this.data}]}}chartInit(ye){this.chart=ye}resize(){this.chart.resize()}constructor(ye){this.elementRef=ye,this.data=[{value:1048,name:"Search"},{value:735,name:"Direct"},{value:580,name:"Email"}]}static#e=this.\u0275fac=function(ee){return new(ee||Ne)(F.rXU(F.aKT))};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["app-echarts-bar"]],inputs:{data:"data"},standalone:!0,features:[F.aNF],decls:1,vars:5,consts:[[1,"chart",3,"chartInit","options"]],template:function(ee,W){1&ee&&(F.j41(0,"echarts",0),F.bIt("chartInit",function(M){return W.chartInit(M)}),F.k0s()),2&ee&&(F.xc7("width",W.elementRef.nativeElement.clientWidth+"px")("height",W.elementRef.nativeElement.clientHeight+"px"),F.Y8G("options",W.option()))},dependencies:[fe.MD,Pe.sN,Pe.$P],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"]})}return Ne})(),properties:[],bindings:[],hooks:{}};var Le=v(1011),Je=v(4341);const We=()=>({standalone:!0}),tt={name:"\u8f93\u5165\u6846",id:"$input",icon:"assets/widgets/input.svg",type:"angular",metadata:{width:160,height:30},content:(()=>{class Ne{constructor(){this.type="",this.placeholder=""}onChange(ye){}static#e=this.\u0275fac=function(ee){return new(ee||Ne)};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["nuwa-control-input"]],inputs:{value:"value",type:"type",placeholder:"placeholder"},standalone:!0,features:[F.aNF],decls:1,vars:5,consts:[["nz-input","",3,"ngModelChange","change","ngModel","ngModelOptions","type","placeholder"]],template:function(ee,W){1&ee&&(F.j41(0,"input",0),F.mxI("ngModelChange",function(M){return F.DH7(W.value,M)||(W.value=M),M}),F.bIt("change",function(M){return W.onChange(M)}),F.k0s()),2&ee&&(F.R50("ngModel",W.value),F.Y8G("ngModelOptions",F.lJ4(4,We))("type",W.type)("placeholder",W.placeholder))},dependencies:[fe.MD,Le.Sy,Je.YN,Je.me,Je.BC,Je.vS],styles:["input[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return Ne})(),properties:[],bindings:[],hooks:{}};var $e=v(7481);const mt=()=>({standalone:!0}),xt={name:"\u5f00\u5173",id:"$switch",icon:"assets/widgets/switch.svg",type:"angular",metadata:{width:100,height:40},content:(()=>{class Ne{constructor(){this.value=60}onChange(ye){}static#e=this.\u0275fac=function(ee){return new(ee||Ne)};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["nuwa-control-switch"]],inputs:{value:"value"},standalone:!0,features:[F.aNF],decls:1,vars:3,consts:[[3,"ngModelChange","change","ngModel","ngModelOptions"]],template:function(ee,W){1&ee&&(F.j41(0,"nz-switch",0),F.mxI("ngModelChange",function(M){return F.DH7(W.value,M)||(W.value=M),M}),F.bIt("change",function(M){return W.onChange(M)}),F.k0s()),2&ee&&(F.R50("ngModel",W.value),F.Y8G("ngModelOptions",F.lJ4(2,mt)))},dependencies:[fe.MD,Je.YN,Je.BC,Je.vS,$e.u],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}nz-switch[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return Ne})(),properties:[],bindings:[],hooks:{}};var jt=v(7064);const je={name:"\u8fdb\u5ea6\u6761",id:"$progress",icon:"assets/widgets/progress.svg",type:"angular",metadata:{width:200,height:30},content:(()=>{class Ne{constructor(ye){this.elementRef=ye,this.percent=60,this.color="#6992ff"}static#e=this.\u0275fac=function(ee){return new(ee||Ne)(F.rXU(F.aKT))};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["nuwa-control-progress"]],inputs:{percent:"percent",color:"color"},standalone:!0,features:[F.aNF],decls:1,vars:4,consts:[["nzStrokeLinecap","square",3,"nzPercent","nzShowInfo","nzStrokeColor","nzStrokeWidth"]],template:function(ee,W){1&ee&&F.nrm(0,"nz-progress",0),2&ee&&F.Y8G("nzPercent",W.percent)("nzShowInfo",!1)("nzStrokeColor",W.color)("nzStrokeWidth",W.elementRef.nativeElement.clientHeight||10)},dependencies:[fe.MD,jt.V],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}nz-progress[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return Ne})(),properties:[],bindings:[],hooks:{}};var q=v(1997);const B=()=>({standalone:!0}),re={name:"\u9009\u62e9",id:"$select",icon:"assets/widgets/select.svg",type:"angular",metadata:{width:100,height:40},content:(()=>{class Ne{constructor(){this.options=[]}onChange(ye){}static#e=this.\u0275fac=function(ee){return new(ee||Ne)};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["nuwa-control-select"]],inputs:{value:"value",options:"options"},standalone:!0,features:[F.aNF],decls:1,vars:4,consts:[[3,"ngModelChange","change","ngModel","ngModelOptions","nzOptions"]],template:function(ee,W){1&ee&&(F.j41(0,"nz-select",0),F.mxI("ngModelChange",function(M){return F.DH7(W.value,M)||(W.value=M),M}),F.bIt("change",function(M){return W.onChange(M)}),F.k0s()),2&ee&&(F.R50("ngModel",W.value),F.Y8G("ngModelOptions",F.lJ4(3,B))("nzOptions",W.options))},dependencies:[fe.MD,Je.YN,Je.BC,Je.vS,q.WI],styles:["nz-select[_ngcontent-%COMP%]{width:100%}"]})}return Ne})(),properties:[],bindings:[],hooks:{}};var Be=v(1166);const Ke=()=>({standalone:!0}),Nt={name:"\u6ed1\u5757",id:"$slider",icon:"assets/widgets/slider.svg",type:"angular",metadata:{width:200,height:200},content:(()=>{class Ne{constructor(){this.value=60,this.min=0,this.max=100,this.step=1,this.vertical=!1}onChange(ye){}static#e=this.\u0275fac=function(ee){return new(ee||Ne)};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["nuwa-control-slider"]],inputs:{value:"value",min:"min",max:"max",step:"step",vertical:"vertical"},standalone:!0,features:[F.aNF],decls:1,vars:7,consts:[[3,"ngModelChange","change","ngModel","ngModelOptions","nzMin","nzMax","nzStep","nzVertical"]],template:function(ee,W){1&ee&&(F.j41(0,"nz-slider",0),F.mxI("ngModelChange",function(M){return F.DH7(W.value,M)||(W.value=M),M}),F.bIt("change",function(M){return W.onChange(M)}),F.k0s()),2&ee&&(F.R50("ngModel",W.value),F.Y8G("ngModelOptions",F.lJ4(6,Ke))("nzMin",W.min)("nzMax",W.max)("nzStep",W.step)("nzVertical",W.vertical))},dependencies:[fe.MD,Je.YN,Je.BC,Je.vS,Be.pT],styles:["nz-select[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return Ne})(),properties:[],bindings:[],hooks:{}};var Xt=v(345);const Wt={name:"Web\u5b50\u9875\u9762\u5165\u53e3",id:"$web",icon:"assets/widgets/web.svg",type:"angular",metadata:{width:200,height:160,tools:["boundary"]},content:(()=>{class Ne{set url(ye){this.src=this.sanitizer.bypassSecurityTrustResourceUrl(ye)}constructor(ye){this.sanitizer=ye,this.src=this.sanitizer.bypassSecurityTrustResourceUrl("")}static#e=this.\u0275fac=function(ee){return new(ee||Ne)(F.rXU(Xt.up))};static#t=this.\u0275cmp=F.VBU({type:Ne,selectors:[["nuwa-misc-web"]],inputs:{url:"url"},standalone:!0,features:[F.aNF],decls:1,vars:1,consts:[[3,"src"]],template:function(ee,W){1&ee&&F.nrm(0,"iframe",0),2&ee&&F.Y8G("src",W.src,F.f$h)},dependencies:[fe.MD],styles:["iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none;background-color:#e1e1e1}"]})}return Ne})(),properties:[{key:"data/ngArguments/url",label:"URL",type:"text"},{key:"data/name",label:"\u540d\u79f0",type:"text",default:"\u65b0\u5efaweb\u5165\u53e3"}],bindings:[],hooks:{}},_e=[{name:"\u57fa\u7840\u7ec4\u4ef6",components:[Se,me,J,G,ge,{name:"\u56fe\u7247",id:"image",icon:"assets/widgets/image.svg",type:"shape",internal:!0,extends:{inherit:"image"},metadata:{width:100,height:80,imageUrl:"assets/widgets/image.svg"},properties:[{label:"\u56fe\u7247",key:"attrs/image/xlink:href",type:"file"}]}]},{name:"\u4ea4\u4e92\u63a7\u4ef6",components:[he,De,tt,xt,je,re,Nt]},{name:"\u56fe\u8868\u7ec4\u4ef6",components:[ae,Y,oe,ke,et]},{name:"\u5176\u4ed6\u7ec4\u4ef6",components:[{name:"\u5b50\u9875\u9762\u5165\u53e3",id:"$outlet",icon:"assets/widgets/outlet.svg",type:"angular",metadata:{width:300,height:200,tools:["boundary"]},content:v(763).y,properties:[{key:"data/name",label:"\u540d\u79f0",type:"text",default:"\u65b0\u5efa\u5b50\u9875\u9762\u5165\u53e3"}],bindings:[],hooks:{}},Wt]}]},3726:(Lt,ct,v)=>{"use strict";v.d(ct,{R:()=>F});var t=v(8750),f=v(1985),m=v(1397),C=v(7441),Ee=v(8071),Ue=v(6450);const Se=["addListener","removeListener"],ze=["addEventListener","removeEventListener"],fe=["on","off"];function F(G,ge,Ce,De){if((0,Ee.T)(Ce)&&(De=Ce,Ce=void 0),De)return F(G,ge,Ce).pipe((0,Ue.I)(De));const[Pe,He]=function J(G){return(0,Ee.T)(G.addEventListener)&&(0,Ee.T)(G.removeEventListener)}(G)?ze.map(ae=>Te=>G[ae](ge,Te,Ce)):function he(G){return(0,Ee.T)(G.addListener)&&(0,Ee.T)(G.removeListener)}(G)?Se.map(ie(G,ge)):function me(G){return(0,Ee.T)(G.on)&&(0,Ee.T)(G.off)}(G)?fe.map(ie(G,ge)):[];if(!Pe&&(0,C.X)(G))return(0,m.Z)(ae=>F(ae,ge,Ce))((0,t.Tg)(G));if(!Pe)throw new TypeError("Invalid event target");return new f.c(ae=>{const Te=(...Y)=>ae.next(1<Y.length?Y:Y[0]);return Pe(Te),()=>He(Te)})}function ie(G,ge){return Ce=>De=>G[Ce](ge,De)}},7786:(Lt,ct,v)=>{"use strict";v.d(ct,{h:()=>Ue});var t=v(6365),f=v(8750),m=v(983),C=v(9326),Ee=v(6648);function Ue(...Se){const ze=(0,C.lI)(Se),fe=(0,C.R0)(Se,1/0),F=Se;return F.length?1===F.length?(0,f.Tg)(F[0]):(0,t.U)(fe)((0,Ee.H)(F,ze)):m.w}},3798:(Lt,ct,v)=>{"use strict";v.d(ct,{Z:()=>Se});var t=v(3236),f=v(9974),m=v(8750),C=v(4360),Ue=v(1584);function Se(ze,fe=t.E){return function Ee(ze){return(0,f.N)((fe,F)=>{let ie=!1,he=null,me=null,J=!1;const G=()=>{if(me?.unsubscribe(),me=null,ie){ie=!1;const Ce=he;he=null,F.next(Ce)}J&&F.complete()},ge=()=>{me=null,J&&F.complete()};fe.subscribe((0,C._)(F,Ce=>{ie=!0,he=Ce,me||(0,m.Tg)(ze(Ce)).subscribe(me=(0,C._)(F,G,ge))},()=>{J=!0,(!ie||!me||me.closed)&&F.complete()}))})}(()=>(0,Ue.O)(ze,fe))}},152:(Lt,ct,v)=>{"use strict";v.d(ct,{B:()=>C});var t=v(3236),f=v(9974),m=v(4360);function C(Ee,Ue=t.E){return(0,f.N)((Se,ze)=>{let fe=null,F=null,ie=null;const he=()=>{if(fe){fe.unsubscribe(),fe=null;const J=F;F=null,ze.next(J)}};function me(){const J=ie+Ee,G=Ue.now();if(G<J)return fe=this.schedule(void 0,J-G),void ze.add(fe);he()}Se.subscribe((0,m._)(ze,J=>{F=J,ie=Ue.now(),fe||(fe=Ue.schedule(me,Ee),ze.add(fe))},()=>{he(),ze.complete()},void 0,()=>{F=fe=null}))})}},1986:(Lt,ct,v)=>{"use strict";v.d(ct,{c:()=>me});var t=v(3236),f=v(8793),m=v(6697),C=v(9974),Ee=v(4360),Ue=v(5343),ze=v(3703),fe=v(1397),F=v(8750);function ie(J,G){return G?ge=>(0,f.x)(G.pipe((0,m.s)(1),function Se(){return(0,C.N)((J,G)=>{J.subscribe((0,Ee._)(G,Ue.l))})}()),ge.pipe(ie(J))):(0,fe.Z)((ge,Ce)=>(0,F.Tg)(J(ge,Ce)).pipe((0,m.s)(1),(0,ze.u)(ge)))}var he=v(1584);function me(J,G=t.E){const ge=(0,he.O)(J,G);return ie(()=>ge)}},3294:(Lt,ct,v)=>{"use strict";v.d(ct,{F:()=>C});var t=v(3669),f=v(9974),m=v(4360);function C(Ue,Se=t.D){return Ue=Ue??Ee,(0,f.N)((ze,fe)=>{let F,ie=!0;ze.subscribe((0,m._)(fe,he=>{const me=Se(he);(ie||!Ue(F,me))&&(ie=!1,F=me,fe.next(he))}))})}function Ee(Ue,Se){return Ue===Se}},5245:(Lt,ct,v)=>{"use strict";v.d(ct,{i:()=>f});var t=v(5964);function f(m){return(0,t.p)((C,Ee)=>m<=Ee)}},3993:(Lt,ct,v)=>{"use strict";v.d(ct,{E:()=>Se});var t=v(9974),f=v(4360),m=v(8750),C=v(3669),Ee=v(5343),Ue=v(9326);function Se(...ze){const fe=(0,Ue.ms)(ze);return(0,t.N)((F,ie)=>{const he=ze.length,me=new Array(he);let J=ze.map(()=>!1),G=!1;for(let ge=0;ge<he;ge++)(0,m.Tg)(ze[ge]).subscribe((0,f._)(ie,Ce=>{me[ge]=Ce,!G&&!J[ge]&&(J[ge]=!0,(G=J.every(C.D))&&(J=null))},Ee.l));F.subscribe((0,f._)(ie,ge=>{if(G){const Ce=[ge,...me];ie.next(fe?fe(...Ce):Ce)}}))})}},536:(Lt,ct,v)=>{"use strict";v.d(ct,{X:()=>Se});var t=v(6780),f=v(8359);const m={schedule(fe){let F=requestAnimationFrame,ie=cancelAnimationFrame;const{delegate:he}=m;he&&(F=he.requestAnimationFrame,ie=he.cancelAnimationFrame);const me=F(J=>{ie=void 0,fe(J)});return new f.yU(()=>ie?.(me))},requestAnimationFrame(...fe){const{delegate:F}=m;return(F?.requestAnimationFrame||requestAnimationFrame)(...fe)},cancelAnimationFrame(...fe){const{delegate:F}=m;return(F?.cancelAnimationFrame||cancelAnimationFrame)(...fe)},delegate:void 0};var Ee=v(9687);const Se=new class Ue extends Ee.q{flush(F){this._active=!0;const ie=this._scheduled;this._scheduled=void 0;const{actions:he}=this;let me;F=F||he.shift();do{if(me=F.execute(F.state,F.delay))break}while((F=he[0])&&F.id===ie&&he.shift());if(this._active=!1,me){for(;(F=he[0])&&F.id===ie&&he.shift();)F.unsubscribe();throw me}}}(class C extends t.R{constructor(F,ie){super(F,ie),this.scheduler=F,this.work=ie}requestAsyncId(F,ie,he=0){return null!==he&&he>0?super.requestAsyncId(F,ie,he):(F.actions.push(this),F._scheduled||(F._scheduled=m.requestAnimationFrame(()=>F.flush(void 0))))}recycleAsyncId(F,ie,he=0){var me;if(null!=he?he>0:this.delay>0)return super.recycleAsyncId(F,ie,he);const{actions:J}=F;null!=ie&&(null===(me=J[J.length-1])||void 0===me?void 0:me.id)!==ie&&(m.cancelAnimationFrame(ie),F._scheduled=void 0)}})},5007:(Lt,ct,v)=>{"use strict";v.d(ct,{$:()=>J});var t=v(6780);let m,f=1;const C={};function Ee(ge){return ge in C&&(delete C[ge],!0)}const Ue={setImmediate(ge){const Ce=f++;return C[Ce]=!0,m||(m=Promise.resolve()),m.then(()=>Ee(Ce)&&ge()),Ce},clearImmediate(ge){Ee(ge)}},{setImmediate:ze,clearImmediate:fe}=Ue,F={setImmediate(...ge){const{delegate:Ce}=F;return(Ce?.setImmediate||ze)(...ge)},clearImmediate(ge){const{delegate:Ce}=F;return(Ce?.clearImmediate||fe)(ge)},delegate:void 0};var he=v(9687);const J=new class me extends he.q{flush(Ce){this._active=!0;const De=this._scheduled;this._scheduled=void 0;const{actions:Pe}=this;let He;Ce=Ce||Pe.shift();do{if(He=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Pe[0])&&Ce.id===De&&Pe.shift());if(this._active=!1,He){for(;(Ce=Pe[0])&&Ce.id===De&&Pe.shift();)Ce.unsubscribe();throw He}}}(class ie extends t.R{constructor(Ce,De){super(Ce,De),this.scheduler=Ce,this.work=De}requestAsyncId(Ce,De,Pe=0){return null!==Pe&&Pe>0?super.requestAsyncId(Ce,De,Pe):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=F.setImmediate(Ce.flush.bind(Ce,void 0))))}recycleAsyncId(Ce,De,Pe=0){var He;if(null!=Pe?Pe>0:this.delay>0)return super.recycleAsyncId(Ce,De,Pe);const{actions:ae}=Ce;null!=De&&(null===(He=ae[ae.length-1])||void 0===He?void 0:He.id)!==De&&(F.clearImmediate(De),Ce._scheduled===De&&(Ce._scheduled=void 0))}})},851:(Lt,ct,v)=>{"use strict";v.d(ct,{Pd:()=>kn,vR:()=>kt,Bu:()=>dt,FN:()=>Ae,GX:()=>lt,_G:()=>W,w6:()=>b});var t=v(177),f=v(4438),m=v(6860),C=v(1413),Ee=v(8359),Ue=v(4412),Se=v(7673),ze=v(7336),fe=v(8141),F=v(152),ie=v(5964),he=v(6354),me=v(6697),J=v(5245),G=v(3294),ge=v(6977);let De=(()=>{class Ge{create(ce){return typeof MutationObserver>"u"?null:new MutationObserver(ce)}static#e=this.\u0275fac=function(xe){return new(xe||Ge)};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),ae=(()=>{class Ge{static#e=this.\u0275fac=function(xe){return new(xe||Ge)};static#t=this.\u0275mod=f.$C({type:Ge});static#n=this.\u0275inj=f.G2t({providers:[De]})}return Ge})();var Te=v(4085),Y=v(9327);class $e{constructor(Fe,ce){this._items=Fe,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new C.B,this._typeaheadSubscription=Ee.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=xe=>xe.disabled,this._pressedLetters=[],this.tabOut=new C.B,this.change=new C.B,Fe instanceof f.rOR?this._itemChangesSubscription=Fe.changes.subscribe(xe=>this._itemsChanged(xe.toArray())):(0,f.Hps)(Fe)&&(this._effectRef=(0,f.QZP)(()=>this._itemsChanged(Fe()),{injector:ce}))}skipPredicate(Fe){return this._skipPredicateFn=Fe,this}withWrap(Fe=!0){return this._wrap=Fe,this}withVerticalOrientation(Fe=!0){return this._vertical=Fe,this}withHorizontalOrientation(Fe){return this._horizontal=Fe,this}withAllowedModifierKeys(Fe){return this._allowedModifierKeys=Fe,this}withTypeAhead(Fe=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,fe.M)(ce=>this._pressedLetters.push(ce)),(0,F.B)(Fe),(0,ie.p)(()=>this._pressedLetters.length>0),(0,he.T)(()=>this._pressedLetters.join(""))).subscribe(ce=>{const xe=this._getItemsArray();for(let st=1;st<xe.length+1;st++){const de=(this._activeItemIndex+st)%xe.length,j=xe[de];if(!this._skipPredicateFn(j)&&0===j.getLabel().toUpperCase().trim().indexOf(ce)){this.setActiveItem(de);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Fe=!0){return this._homeAndEnd=Fe,this}withPageUpDown(Fe=!0,ce=10){return this._pageUpAndDown={enabled:Fe,delta:ce},this}setActiveItem(Fe){const ce=this._activeItem;this.updateActiveItem(Fe),this._activeItem!==ce&&this.change.next(this._activeItemIndex)}onKeydown(Fe){const ce=Fe.keyCode,st=["altKey","ctrlKey","metaKey","shiftKey"].every(de=>!Fe[de]||this._allowedModifierKeys.indexOf(de)>-1);switch(ce){case ze.wn:return void this.tabOut.next();case ze.n6:if(this._vertical&&st){this.setNextItemActive();break}return;case ze.i7:if(this._vertical&&st){this.setPreviousItemActive();break}return;case ze.LE:if(this._horizontal&&st){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ze.UQ:if(this._horizontal&&st){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ze.yZ:if(this._homeAndEnd&&st){this.setFirstItemActive();break}return;case ze.Kp:if(this._homeAndEnd&&st){this.setLastItemActive();break}return;case ze.w_:if(this._pageUpAndDown.enabled&&st){const de=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(de>0?de:0,1);break}return;case ze.dB:if(this._pageUpAndDown.enabled&&st){const de=this._activeItemIndex+this._pageUpAndDown.delta,j=this._getItemsArray().length;this._setActiveItemByIndex(de<j?de:j-1,-1);break}return;default:return void((st||(0,ze.rp)(Fe,"shiftKey"))&&(Fe.key&&1===Fe.key.length?this._letterKeyStream.next(Fe.key.toLocaleUpperCase()):(ce>=ze.A&&ce<=ze.Z||ce>=ze.f2&&ce<=ze.bn)&&this._letterKeyStream.next(String.fromCharCode(ce))))}this._pressedLetters=[],Fe.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Fe){const ce=this._getItemsArray(),xe="number"==typeof Fe?Fe:ce.indexOf(Fe);this._activeItem=ce[xe]??null,this._activeItemIndex=xe}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Fe){this._wrap?this._setActiveInWrapMode(Fe):this._setActiveInDefaultMode(Fe)}_setActiveInWrapMode(Fe){const ce=this._getItemsArray();for(let xe=1;xe<=ce.length;xe++){const st=(this._activeItemIndex+Fe*xe+ce.length)%ce.length;if(!this._skipPredicateFn(ce[st]))return void this.setActiveItem(st)}}_setActiveInDefaultMode(Fe){this._setActiveItemByIndex(this._activeItemIndex+Fe,Fe)}_setActiveItemByIndex(Fe,ce){const xe=this._getItemsArray();if(xe[Fe]){for(;this._skipPredicateFn(xe[Fe]);)if(!xe[Fe+=ce])return;this.setActiveItem(Fe)}}_getItemsArray(){return(0,f.Hps)(this._items)?this._items():this._items instanceof f.rOR?this._items.toArray():this._items}_itemsChanged(Fe){if(this._activeItem){const ce=Fe.indexOf(this._activeItem);ce>-1&&ce!==this._activeItemIndex&&(this._activeItemIndex=ce)}}}class dt extends $e{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Fe){return this._origin=Fe,this}setActiveItem(Fe){super.setActiveItem(Fe),this.activeItem&&this.activeItem.focus(this._origin)}}let jt=(()=>{class Ge{constructor(ce){this._platform=ce}isDisabled(ce){return ce.hasAttribute("disabled")}isVisible(ce){return function je(Ge){return!!(Ge.offsetWidth||Ge.offsetHeight||"function"==typeof Ge.getClientRects&&Ge.getClientRects().length)}(ce)&&"visible"===getComputedStyle(ce).visibility}isTabbable(ce){if(!this._platform.isBrowser)return!1;const xe=function Me(Ge){try{return Ge.frameElement}catch{return null}}(function Zt(Ge){return Ge.ownerDocument&&Ge.ownerDocument.defaultView||window}(ce));if(xe&&(-1===vt(xe)||!this.isVisible(xe)))return!1;let st=ce.nodeName.toLowerCase(),de=vt(ce);return ce.hasAttribute("contenteditable")?-1!==de:!("iframe"===st||"object"===st||this._platform.WEBKIT&&this._platform.IOS&&!function Nt(Ge){let Fe=Ge.nodeName.toLowerCase(),ce="input"===Fe&&Ge.type;return"text"===ce||"password"===ce||"select"===Fe||"textarea"===Fe}(ce))&&("audio"===st?!!ce.hasAttribute("controls")&&-1!==de:"video"===st?-1!==de&&(null!==de||this._platform.FIREFOX||ce.hasAttribute("controls")):ce.tabIndex>=0)}isFocusable(ce,xe){return function Xt(Ge){return!function B(Ge){return function re(Ge){return"input"==Ge.nodeName.toLowerCase()}(Ge)&&"hidden"==Ge.type}(Ge)&&(function q(Ge){let Fe=Ge.nodeName.toLowerCase();return"input"===Fe||"select"===Fe||"button"===Fe||"textarea"===Fe}(Ge)||function se(Ge){return function Be(Ge){return"a"==Ge.nodeName.toLowerCase()}(Ge)&&Ge.hasAttribute("href")}(Ge)||Ge.hasAttribute("contenteditable")||Ke(Ge))}(ce)&&!this.isDisabled(ce)&&(xe?.ignoreVisibility||this.isVisible(ce))}static#e=this.\u0275fac=function(xe){return new(xe||Ge)(f.KVO(m.OD))};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function Ke(Ge){if(!Ge.hasAttribute("tabindex")||void 0===Ge.tabIndex)return!1;let Fe=Ge.getAttribute("tabindex");return!(!Fe||isNaN(parseInt(Fe,10)))}function vt(Ge){if(!Ke(Ge))return null;const Fe=parseInt(Ge.getAttribute("tabindex")||"",10);return isNaN(Fe)?-1:Fe}class Wt{get enabled(){return this._enabled}set enabled(Fe){this._enabled=Fe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Fe,this._startAnchor),this._toggleAnchorTabIndex(Fe,this._endAnchor))}constructor(Fe,ce,xe,st,de=!1){this._element=Fe,this._checker=ce,this._ngZone=xe,this._document=st,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,de||this.attachAnchors()}destroy(){const Fe=this._startAnchor,ce=this._endAnchor;Fe&&(Fe.removeEventListener("focus",this.startAnchorListener),Fe.remove()),ce&&(ce.removeEventListener("focus",this.endAnchorListener),ce.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Fe){return new Promise(ce=>{this._executeOnStable(()=>ce(this.focusInitialElement(Fe)))})}focusFirstTabbableElementWhenReady(Fe){return new Promise(ce=>{this._executeOnStable(()=>ce(this.focusFirstTabbableElement(Fe)))})}focusLastTabbableElementWhenReady(Fe){return new Promise(ce=>{this._executeOnStable(()=>ce(this.focusLastTabbableElement(Fe)))})}_getRegionBoundary(Fe){const ce=this._element.querySelectorAll(`[cdk-focus-region-${Fe}], [cdkFocusRegion${Fe}], [cdk-focus-${Fe}]`);return"start"==Fe?ce.length?ce[0]:this._getFirstTabbableElement(this._element):ce.length?ce[ce.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Fe){const ce=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ce){if(!this._checker.isFocusable(ce)){const xe=this._getFirstTabbableElement(ce);return xe?.focus(Fe),!!xe}return ce.focus(Fe),!0}return this.focusFirstTabbableElement(Fe)}focusFirstTabbableElement(Fe){const ce=this._getRegionBoundary("start");return ce&&ce.focus(Fe),!!ce}focusLastTabbableElement(Fe){const ce=this._getRegionBoundary("end");return ce&&ce.focus(Fe),!!ce}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Fe){if(this._checker.isFocusable(Fe)&&this._checker.isTabbable(Fe))return Fe;const ce=Fe.children;for(let xe=0;xe<ce.length;xe++){const st=ce[xe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ce[xe]):null;if(st)return st}return null}_getLastTabbableElement(Fe){if(this._checker.isFocusable(Fe)&&this._checker.isTabbable(Fe))return Fe;const ce=Fe.children;for(let xe=ce.length-1;xe>=0;xe--){const st=ce[xe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ce[xe]):null;if(st)return st}return null}_createAnchor(){const Fe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Fe),Fe.classList.add("cdk-visually-hidden"),Fe.classList.add("cdk-focus-trap-anchor"),Fe.setAttribute("aria-hidden","true"),Fe}_toggleAnchorTabIndex(Fe,ce){Fe?ce.setAttribute("tabindex","0"):ce.removeAttribute("tabindex")}toggleAnchors(Fe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Fe,this._startAnchor),this._toggleAnchorTabIndex(Fe,this._endAnchor))}_executeOnStable(Fe){this._ngZone.isStable?Fe():this._ngZone.onStable.pipe((0,me.s)(1)).subscribe(Fe)}}let lt=(()=>{class Ge{constructor(ce,xe,st){this._checker=ce,this._ngZone=xe,this._document=st}create(ce,xe=!1){return new Wt(ce,this._checker,this._ngZone,this._document,xe)}static#e=this.\u0275fac=function(xe){return new(xe||Ge)(f.KVO(jt),f.KVO(f.SKi),f.KVO(t.qQ))};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function W(Ge){return 0===Ge.buttons||0===Ge.detail}function b(Ge){const Fe=Ge.touches&&Ge.touches[0]||Ge.changedTouches&&Ge.changedTouches[0];return!(!Fe||-1!==Fe.identifier||null!=Fe.radiusX&&1!==Fe.radiusX||null!=Fe.radiusY&&1!==Fe.radiusY)}const M=new f.nKC("cdk-input-modality-detector-options"),X={ignoreKeys:[ze.A$,ze.W3,ze.eg,ze.Ge,ze.FX]},Ve=(0,m.BQ)({passive:!0,capture:!0});let ot=(()=>{class Ge{get mostRecentModality(){return this._modality.value}constructor(ce,xe,st,de){this._platform=ce,this._mostRecentTarget=null,this._modality=new Ue.t(null),this._lastTouchMs=0,this._onKeydown=j=>{this._options?.ignoreKeys?.some(R=>R===j.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,m.Fb)(j))},this._onMousedown=j=>{Date.now()-this._lastTouchMs<650||(this._modality.next(W(j)?"keyboard":"mouse"),this._mostRecentTarget=(0,m.Fb)(j))},this._onTouchstart=j=>{b(j)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,m.Fb)(j))},this._options={...X,...de},this.modalityDetected=this._modality.pipe((0,J.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,G.F)()),ce.isBrowser&&xe.runOutsideAngular(()=>{st.addEventListener("keydown",this._onKeydown,Ve),st.addEventListener("mousedown",this._onMousedown,Ve),st.addEventListener("touchstart",this._onTouchstart,Ve)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ve),document.removeEventListener("mousedown",this._onMousedown,Ve),document.removeEventListener("touchstart",this._onTouchstart,Ve))}static#e=this.\u0275fac=function(xe){return new(xe||Ge)(f.KVO(m.OD),f.KVO(f.SKi),f.KVO(t.qQ),f.KVO(M,8))};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();var Gt=function(Ge){return Ge[Ge.IMMEDIATE=0]="IMMEDIATE",Ge[Ge.EVENTUAL=1]="EVENTUAL",Ge}(Gt||{});const we=new f.nKC("cdk-focus-monitor-default-options"),qe=(0,m.BQ)({passive:!0,capture:!0});let Ae=(()=>{class Ge{constructor(ce,xe,st,de,j){this._ngZone=ce,this._platform=xe,this._inputModalityDetector=st,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new C.B,this._rootNodeFocusAndBlurListener=R=>{for(let P=(0,m.Fb)(R);P;P=P.parentElement)"focus"===R.type?this._onFocus(R,P):this._onBlur(R,P)},this._document=de,this._detectionMode=j?.detectionMode||Gt.IMMEDIATE}monitor(ce,xe=!1){const st=(0,Te.i8)(ce);if(!this._platform.isBrowser||1!==st.nodeType)return(0,Se.of)();const de=(0,m.KT)(st)||this._getDocument(),j=this._elementInfo.get(st);if(j)return xe&&(j.checkChildren=!0),j.subject;const R={checkChildren:xe,subject:new C.B,rootNode:de};return this._elementInfo.set(st,R),this._registerGlobalListeners(R),R.subject}stopMonitoring(ce){const xe=(0,Te.i8)(ce),st=this._elementInfo.get(xe);st&&(st.subject.complete(),this._setClasses(xe),this._elementInfo.delete(xe),this._removeGlobalListeners(st))}focusVia(ce,xe,st){const de=(0,Te.i8)(ce);de===this._getDocument().activeElement?this._getClosestElementsInfo(de).forEach(([R,k])=>this._originChanged(R,xe,k)):(this._setOrigin(xe),"function"==typeof de.focus&&de.focus(st))}ngOnDestroy(){this._elementInfo.forEach((ce,xe)=>this.stopMonitoring(xe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ce){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ce)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ce&&this._isLastInteractionFromInputLabel(ce)?"mouse":"program"}_shouldBeAttributedToTouch(ce){return this._detectionMode===Gt.EVENTUAL||!!ce?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ce,xe){ce.classList.toggle("cdk-focused",!!xe),ce.classList.toggle("cdk-touch-focused","touch"===xe),ce.classList.toggle("cdk-keyboard-focused","keyboard"===xe),ce.classList.toggle("cdk-mouse-focused","mouse"===xe),ce.classList.toggle("cdk-program-focused","program"===xe)}_setOrigin(ce,xe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ce,this._originFromTouchInteraction="touch"===ce&&xe,this._detectionMode===Gt.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ce,xe){const st=this._elementInfo.get(xe),de=(0,m.Fb)(ce);!st||!st.checkChildren&&xe!==de||this._originChanged(xe,this._getFocusOrigin(de),st)}_onBlur(ce,xe){const st=this._elementInfo.get(xe);!st||st.checkChildren&&ce.relatedTarget instanceof Node&&xe.contains(ce.relatedTarget)||(this._setClasses(xe),this._emitOrigin(st,null))}_emitOrigin(ce,xe){ce.subject.observers.length&&this._ngZone.run(()=>ce.subject.next(xe))}_registerGlobalListeners(ce){if(!this._platform.isBrowser)return;const xe=ce.rootNode,st=this._rootNodeFocusListenerCount.get(xe)||0;st||this._ngZone.runOutsideAngular(()=>{xe.addEventListener("focus",this._rootNodeFocusAndBlurListener,qe),xe.addEventListener("blur",this._rootNodeFocusAndBlurListener,qe)}),this._rootNodeFocusListenerCount.set(xe,st+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ge.Q)(this._stopInputModalityDetector)).subscribe(de=>{this._setOrigin(de,!0)}))}_removeGlobalListeners(ce){const xe=ce.rootNode;if(this._rootNodeFocusListenerCount.has(xe)){const st=this._rootNodeFocusListenerCount.get(xe);st>1?this._rootNodeFocusListenerCount.set(xe,st-1):(xe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qe),xe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qe),this._rootNodeFocusListenerCount.delete(xe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ce,xe,st){this._setClasses(ce,xe),this._emitOrigin(st,xe),this._lastFocusOrigin=xe}_getClosestElementsInfo(ce){const xe=[];return this._elementInfo.forEach((st,de)=>{(de===ce||st.checkChildren&&de.contains(ce))&&xe.push([de,st])}),xe}_isLastInteractionFromInputLabel(ce){const{_mostRecentTarget:xe,mostRecentModality:st}=this._inputModalityDetector;if("mouse"!==st||!xe||xe===ce||"INPUT"!==ce.nodeName&&"TEXTAREA"!==ce.nodeName||ce.disabled)return!1;const de=ce.labels;if(de)for(let j=0;j<de.length;j++)if(de[j].contains(xe))return!0;return!1}static#e=this.\u0275fac=function(xe){return new(xe||Ge)(f.KVO(f.SKi),f.KVO(m.OD),f.KVO(ot),f.KVO(t.qQ,8),f.KVO(we,8))};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),kt=(()=>{class Ge{constructor(ce,xe){this._elementRef=ce,this._focusMonitor=xe,this._focusOrigin=null,this.cdkFocusChange=new f.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const ce=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(ce,1===ce.nodeType&&ce.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(xe=>{this._focusOrigin=xe,this.cdkFocusChange.emit(xe)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(xe){return new(xe||Ge)(f.rXU(f.aKT),f.rXU(Ae))};static#t=this.\u0275dir=f.FsC({type:Ge,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return Ge})();var It=function(Ge){return Ge[Ge.NONE=0]="NONE",Ge[Ge.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Ge[Ge.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Ge}(It||{});const Ot="cdk-high-contrast-black-on-white",At="cdk-high-contrast-white-on-black",en="cdk-high-contrast-active";let wn=(()=>{class Ge{constructor(ce,xe){this._platform=ce,this._document=xe,this._breakpointSubscription=(0,f.WQX)(Y.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return It.NONE;const ce=this._document.createElement("div");ce.style.backgroundColor="rgb(1,2,3)",ce.style.position="absolute",this._document.body.appendChild(ce);const xe=this._document.defaultView||window,st=xe&&xe.getComputedStyle?xe.getComputedStyle(ce):null,de=(st&&st.backgroundColor||"").replace(/ /g,"");switch(ce.remove(),de){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return It.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return It.BLACK_ON_WHITE}return It.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ce=this._document.body.classList;ce.remove(en,Ot,At),this._hasCheckedHighContrastMode=!0;const xe=this.getHighContrastMode();xe===It.BLACK_ON_WHITE?ce.add(en,Ot):xe===It.WHITE_ON_BLACK&&ce.add(en,At)}}static#e=this.\u0275fac=function(xe){return new(xe||Ge)(f.KVO(m.OD),f.KVO(t.qQ))};static#t=this.\u0275prov=f.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),kn=(()=>{class Ge{constructor(ce){ce._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(xe){return new(xe||Ge)(f.KVO(wn))};static#t=this.\u0275mod=f.$C({type:Ge});static#n=this.\u0275inj=f.G2t({imports:[ae]})}return Ge})()},8203:(Lt,ct,v)=>{"use strict";v.d(ct,{dS:()=>Se,jI:()=>fe});var t=v(4438),f=v(177);const m=new t.nKC("cdk-dir-doc",{providedIn:"root",factory:function C(){return(0,t.WQX)(f.qQ)}}),Ee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Se=(()=>{class F{constructor(he){this.value="ltr",this.change=new t.bkB,he&&(this.value=function Ue(F){const ie=F?.toLowerCase()||"";return"auto"===ie&&typeof navigator<"u"&&navigator?.language?Ee.test(navigator.language)?"rtl":"ltr":"rtl"===ie?"rtl":"ltr"}((he.body?he.body.dir:null)||(he.documentElement?he.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(me){return new(me||F)(t.KVO(m,8))};static#t=this.\u0275prov=t.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),fe=(()=>{class F{static#e=this.\u0275fac=function(me){return new(me||F)};static#t=this.\u0275mod=t.$C({type:F});static#n=this.\u0275inj=t.G2t({})}return F})()},1875:(Lt,ct,v)=>{"use strict";v.d(ct,{T1:()=>It,Fb:()=>we,O7:()=>wn,HD:()=>Ft});var t=v(4438),f=v(177),m=v(494),C=v(6860),Ee=v(4085),Ue=v(851),Se=v(1413),ze=v(8359),fe=v(3236),F=v(1584),he=v(536),me=v(1985),J=v(7786),G=v(4412),ge=v(6977),Ce=v(6354),De=v(6697),Pe=v(8141),He=v(5558),ae=v(9172),Te=v(8203);function Y(de,j,R){for(let k in j)if(j.hasOwnProperty(k)){const P=j[k];P?de.setProperty(k,P,R?.has(k)?"important":""):de.removeProperty(k)}return de}function be(de,j){const R=j?"":"none";Y(de.style,{"touch-action":j?"":"none","-webkit-user-drag":j?"":"none","-webkit-tap-highlight-color":j?"":"transparent","user-select":R,"-ms-user-select":R,"-webkit-user-select":R,"-moz-user-select":R})}function oe(de,j,R){Y(de.style,{position:j?"":"fixed",top:j?"":"0",opacity:j?"":"0",left:j?"":"-999em"},R)}function nt(de,j){return j&&"none"!=j?de+" "+j:de}function ke(de,j){de.style.width=`${j.width}px`,de.style.height=`${j.height}px`,de.style.transform=Ye(j.left,j.top)}function Ye(de,j){return`translate3d(${Math.round(de)}px, ${Math.round(j)}px, 0)`}function et(de){const j=de.getBoundingClientRect();return{top:j.top,right:j.right,bottom:j.bottom,left:j.left,width:j.width,height:j.height,x:j.x,y:j.y}}function Le(de,j,R){const{top:k,bottom:P,left:D,right:T}=de;return R>=k&&R<=P&&j>=D&&j<=T}function Je(de,j,R){de.top+=j,de.bottom=de.top+de.height,de.left+=R,de.right=de.left+de.width}function We(de,j,R,k){const{top:P,right:D,bottom:T,left:I,width:E,height:ne}=de,L=E*j,pe=ne*j;return k>P-pe&&k<T+pe&&R>I-L&&R<D+L}class pt{constructor(j){this._document=j,this.positions=new Map}clear(){this.positions.clear()}cache(j){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),j.forEach(R=>{this.positions.set(R,{scrollPosition:{top:R.scrollTop,left:R.scrollLeft},clientRect:et(R)})})}handleScroll(j){const R=(0,C.Fb)(j),k=this.positions.get(R);if(!k)return null;const P=k.scrollPosition;let D,T;if(R===this._document){const ne=this.getViewportScrollPosition();D=ne.top,T=ne.left}else D=R.scrollTop,T=R.scrollLeft;const I=P.top-D,E=P.left-T;return this.positions.forEach((ne,L)=>{ne.clientRect&&R!==L&&R.contains(L)&&Je(ne.clientRect,I,E)}),P.top=D,P.left=T,{top:I,left:E}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function tt(de){const j=de.cloneNode(!0),R=j.querySelectorAll("[id]"),k=de.nodeName.toLowerCase();j.removeAttribute("id");for(let P=0;P<R.length;P++)R[P].removeAttribute("id");return"canvas"===k?xt(de,j):("input"===k||"select"===k||"textarea"===k)&&dt(de,j),$e("canvas",de,j,xt),$e("input, textarea, select",de,j,dt),j}function $e(de,j,R,k){const P=j.querySelectorAll(de);if(P.length){const D=R.querySelectorAll(de);for(let T=0;T<P.length;T++)k(P[T],D[T])}}let mt=0;function dt(de,j){"file"!==j.type&&(j.value=de.value),"radio"===j.type&&j.name&&(j.name=`mat-clone-${j.name}-${mt++}`)}function xt(de,j){const R=j.getContext("2d");if(R)try{R.drawImage(de,0,0)}catch{}}function jt(de,j){const R=de.rootNodes;if(1===R.length&&R[0].nodeType===j.ELEMENT_NODE)return R[0];const k=j.createElement("div");return R.forEach(P=>k.appendChild(P)),k}function Me(de){const j=de.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(de)*j}function q(de,j){return de.getPropertyValue(j).split(",").map(k=>k.trim())}const B=new Set(["position"]);class se{constructor(j,R,k,P,D,T,I,E,ne){this._document=j,this._rootElement=R,this._direction=k,this._initialDomRect=P,this._previewTemplate=D,this._previewClass=T,this._pickupPositionOnPage=I,this._initialTransform=E,this._zIndex=ne}attach(j){this._wrapper=this._createWrapper(),this._preview=this._createPreview(),this._wrapper.appendChild(this._preview),j.appendChild(this._wrapper),this._wrapper.showPopover&&this._wrapper.showPopover()}destroy(){this._wrapper?.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._wrapper=this._previewEmbeddedView=null}setTransform(j){this._preview.style.transform=j}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(j){this._preview.classList.add(j)}getTransitionDuration(){return function je(de){const j=getComputedStyle(de),R=q(j,"transition-property"),k=R.find(I=>"transform"===I||"all"===I);if(!k)return 0;const P=R.indexOf(k),D=q(j,"transition-duration"),T=q(j,"transition-delay");return Me(D[P])+Me(T[P])}(this._preview)}addEventListener(j,R){this._preview.addEventListener(j,R)}removeEventListener(j,R){this._preview.removeEventListener(j,R)}_createWrapper(){const j=this._document.createElement("div");return j.setAttribute("popover","manual"),j.setAttribute("dir",this._direction),j.classList.add("cdk-drag-preview-container"),Y(j.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%","z-index":this._zIndex+"",background:"none",border:"none","pointer-events":"none",margin:"0",padding:"0"}),be(j,!1),j}_createPreview(){const j=this._previewTemplate,R=this._previewClass,k=j?j.template:null;let P;if(k&&j){const D=j.matchSize?this._initialDomRect:null,T=j.viewContainer.createEmbeddedView(k,j.context);T.detectChanges(),P=jt(T,this._document),this._previewEmbeddedView=T,j.matchSize?ke(P,D):P.style.transform=Ye(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else P=tt(this._rootElement),ke(P,this._initialDomRect),this._initialTransform&&(P.style.transform=this._initialTransform);return Y(P.style,{"pointer-events":"none",margin:"0",position:"absolute",top:"0",left:"0"},B),be(P,!1),P.classList.add("cdk-drag-preview"),R&&(Array.isArray(R)?R.forEach(D=>P.classList.add(D)):P.classList.add(R)),P}}const re=(0,C.BQ)({passive:!0}),Be=(0,C.BQ)({passive:!1}),Ke=(0,C.BQ)({passive:!1,capture:!0}),Nt=new Set(["position"]);class Xt{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(j){j!==this._disabled&&(this._disabled=j,this._toggleNativeDragInteractions(),this._handles.forEach(R=>be(R,j)))}constructor(j,R,k,P,D,T){this._config=R,this._document=k,this._ngZone=P,this._viewportRuler=D,this._dragDropRegistry=T,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Se.B,this._pointerMoveSubscription=ze.yU.EMPTY,this._pointerUpSubscription=ze.yU.EMPTY,this._scrollSubscription=ze.yU.EMPTY,this._resizeSubscription=ze.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Se.B,this.started=new Se.B,this.released=new Se.B,this.ended=new Se.B,this.entered=new Se.B,this.exited=new Se.B,this.dropped=new Se.B,this.moved=this._moveEvents,this._pointerDown=I=>{if(this.beforeStarted.next(),this._handles.length){const E=this._getTargetHandle(I);E&&!this._disabledHandles.has(E)&&!this.disabled&&this._initializeDragSequence(E,I)}else this.disabled||this._initializeDragSequence(this._rootElement,I)},this._pointerMove=I=>{const E=this._getPointerPositionOnPage(I);if(!this._hasStartedDragging){if(Math.abs(E.x-this._pickupPositionOnPage.x)+Math.abs(E.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const at=Date.now()>=this._dragStartTime+this._getDragStartDelay(I),Ct=this._dropContainer;if(!at)return void this._endDragSequence(I);(!Ct||!Ct.isDragging()&&!Ct.isReceiving())&&(I.cancelable&&I.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(I)))}return}I.cancelable&&I.preventDefault();const ne=this._getConstrainedPointerPosition(E);if(this._hasMoved=!0,this._lastKnownPointerPosition=E,this._updatePointerDirectionDelta(ne),this._dropContainer)this._updateActiveDropContainer(ne,E);else{const L=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,pe=this._activeTransform;pe.x=ne.x-L.x+this._passiveTransform.x,pe.y=ne.y-L.y+this._passiveTransform.y,this._applyRootElementTransform(pe.x,pe.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ne,event:I,distance:this._getDragDistance(ne),delta:this._pointerDirectionDelta})})},this._pointerUp=I=>{this._endDragSequence(I)},this._nativeDragStart=I=>{if(this._handles.length){const E=this._getTargetHandle(I);E&&!this._disabledHandles.has(E)&&!this.disabled&&I.preventDefault()}else this.disabled||I.preventDefault()},this.withRootElement(j).withParent(R.parentDragRef||null),this._parentPositions=new pt(k),T.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(j){this._handles=j.map(k=>(0,Ee.i8)(k)),this._handles.forEach(k=>be(k,this.disabled)),this._toggleNativeDragInteractions();const R=new Set;return this._disabledHandles.forEach(k=>{this._handles.indexOf(k)>-1&&R.add(k)}),this._disabledHandles=R,this}withPreviewTemplate(j){return this._previewTemplate=j,this}withPlaceholderTemplate(j){return this._placeholderTemplate=j,this}withRootElement(j){const R=(0,Ee.i8)(j);return R!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{R.addEventListener("mousedown",this._pointerDown,Be),R.addEventListener("touchstart",this._pointerDown,re),R.addEventListener("dragstart",this._nativeDragStart,Be)}),this._initialTransform=void 0,this._rootElement=R),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(j){return this._boundaryElement=j?(0,Ee.i8)(j):null,this._resizeSubscription.unsubscribe(),j&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(j){return this._parentDragRef=j,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(j){!this._disabledHandles.has(j)&&this._handles.indexOf(j)>-1&&(this._disabledHandles.add(j),be(j,!0))}enableHandle(j){this._disabledHandles.has(j)&&(this._disabledHandles.delete(j),be(j,this.disabled))}withDirection(j){return this._direction=j,this}_withDropContainer(j){this._dropContainer=j}getFreeDragPosition(){const j=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:j.x,y:j.y}}setFreeDragPosition(j){return this._activeTransform={x:0,y:0},this._passiveTransform.x=j.x,this._passiveTransform.y=j.y,this._dropContainer||this._applyRootElementTransform(j.x,j.y),this}withPreviewContainer(j){return this._previewContainer=j,this}_sortFromLastPointerPosition(){const j=this._lastKnownPointerPosition;j&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(j),j)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",lt,Ke)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(j){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:j}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(j),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const R=this._getPointerPositionOnPage(j);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(R),dropPoint:R,event:j})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(j){Wt(j)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const R=this._getShadowRoot(),k=this._dropContainer;if(R&&this._ngZone.runOutsideAngular(()=>{R.addEventListener("selectstart",lt,Ke)}),k){const P=this._rootElement,D=P.parentNode,T=this._placeholder=this._createPlaceholderElement(),I=this._anchor=this._anchor||this._document.createComment("");D.insertBefore(I,P),this._initialTransform=P.style.transform||"",this._preview=new se(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(D,R)),oe(P,!1,Nt),this._document.body.appendChild(D.replaceChild(T,P)),this.started.next({source:this,event:j}),k.start(),this._initialContainer=k,this._initialIndex=k.getItemIndex(this)}else this.started.next({source:this,event:j}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(k?k.getScrollableParents():[])}_initializeDragSequence(j,R){this._parentDragRef&&R.stopPropagation();const k=this.isDragging(),P=Wt(R),D=!P&&0!==R.button,T=this._rootElement,I=(0,C.Fb)(R),E=!P&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ne=P?(0,Ue.w6)(R):(0,Ue._G)(R);if(I&&I.draggable&&"mousedown"===R.type&&R.preventDefault(),k||D||E||ne)return;if(this._handles.length){const Ze=T.style;this._rootElementTapHighlight=Ze.webkitTapHighlightColor||"",Ze.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ze=>this._updateOnScroll(Ze)),this._boundaryElement&&(this._boundaryRect=et(this._boundaryElement));const L=this._previewTemplate;this._pickupPositionInElement=L&&L.template&&!L.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,j,R);const pe=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(R);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:pe.x,y:pe.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,R)}_cleanupDragArtifacts(j){oe(this._rootElement,!0,Nt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const R=this._dropContainer,k=R.getItemIndex(this),P=this._getPointerPositionOnPage(j),D=this._getDragDistance(P),T=R._isOverContainer(P.x,P.y);this.ended.next({source:this,distance:D,dropPoint:P,event:j}),this.dropped.next({item:this,currentIndex:k,previousIndex:this._initialIndex,container:R,previousContainer:this._initialContainer,isPointerOverContainer:T,distance:D,dropPoint:P,event:j}),R.drop(this,k,this._initialIndex,this._initialContainer,T,D,P,j),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:j,y:R},{x:k,y:P}){let D=this._initialContainer._getSiblingContainerFromPosition(this,j,R);!D&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(j,R)&&(D=this._initialContainer),D&&D!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=D,this._dropContainer.enter(this,j,R,D===this._initialContainer&&D.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:D,currentIndex:D.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(k,P),this._dropContainer._sortItem(this,j,R,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(j,R):this._applyPreviewTransform(j-this._pickupPositionInElement.x,R-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const j=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(j.left,j.top);const R=this._preview.getTransitionDuration();return 0===R?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(k=>{const P=T=>{(!T||(0,C.Fb)(T)===this._preview&&"transform"===T.propertyName)&&(this._preview?.removeEventListener("transitionend",P),k(),clearTimeout(D))},D=setTimeout(P,1.5*R);this._preview.addEventListener("transitionend",P)}))}_createPlaceholderElement(){const j=this._placeholderTemplate,R=j?j.template:null;let k;return R?(this._placeholderRef=j.viewContainer.createEmbeddedView(R,j.context),this._placeholderRef.detectChanges(),k=jt(this._placeholderRef,this._document)):k=tt(this._rootElement),k.style.pointerEvents="none",k.classList.add("cdk-drag-placeholder"),k}_getPointerPositionInElement(j,R,k){const P=R===this._rootElement?null:R,D=P?P.getBoundingClientRect():j,T=Wt(k)?k.targetTouches[0]:k,I=this._getViewportScrollPosition();return{x:D.left-j.left+(T.pageX-D.left-I.left),y:D.top-j.top+(T.pageY-D.top-I.top)}}_getPointerPositionOnPage(j){const R=this._getViewportScrollPosition(),k=Wt(j)?j.touches[0]||j.changedTouches[0]||{pageX:0,pageY:0}:j,P=k.pageX-R.left,D=k.pageY-R.top;if(this._ownerSVGElement){const T=this._ownerSVGElement.getScreenCTM();if(T){const I=this._ownerSVGElement.createSVGPoint();return I.x=P,I.y=D,I.matrixTransform(T.inverse())}}return{x:P,y:D}}_getConstrainedPointerPosition(j){const R=this._dropContainer?this._dropContainer.lockAxis:null;let{x:k,y:P}=this.constrainPosition?this.constrainPosition(j,this,this._initialDomRect,this._pickupPositionInElement):j;if("x"===this.lockAxis||"x"===R?P=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===R)&&(k=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:D,y:T}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,I=this._boundaryRect,{width:E,height:ne}=this._getPreviewRect(),L=I.top+T,pe=I.bottom-(ne-T);k=Zt(k,I.left+D,I.right-(E-D)),P=Zt(P,L,pe)}return{x:k,y:P}}_updatePointerDirectionDelta(j){const{x:R,y:k}=j,P=this._pointerDirectionDelta,D=this._pointerPositionAtLastDirectionChange,T=Math.abs(R-D.x),I=Math.abs(k-D.y);return T>this._config.pointerDirectionChangeThreshold&&(P.x=R>D.x?1:-1,D.x=R),I>this._config.pointerDirectionChangeThreshold&&(P.y=k>D.y?1:-1,D.y=k),P}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const j=this._handles.length>0||!this.isDragging();j!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=j,be(this._rootElement,j))}_removeRootElementListeners(j){j.removeEventListener("mousedown",this._pointerDown,Be),j.removeEventListener("touchstart",this._pointerDown,re),j.removeEventListener("dragstart",this._nativeDragStart,Be)}_applyRootElementTransform(j,R){const k=Ye(j,R),P=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=P.transform&&"none"!=P.transform?P.transform:""),P.transform=nt(k,this._initialTransform)}_applyPreviewTransform(j,R){const k=this._previewTemplate?.template?void 0:this._initialTransform,P=Ye(j,R);this._preview.setTransform(nt(P,k))}_getDragDistance(j){const R=this._pickupPositionOnPage;return R?{x:j.x-R.x,y:j.y-R.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:j,y:R}=this._passiveTransform;if(0===j&&0===R||this.isDragging()||!this._boundaryElement)return;const k=this._rootElement.getBoundingClientRect(),P=this._boundaryElement.getBoundingClientRect();if(0===P.width&&0===P.height||0===k.width&&0===k.height)return;const D=P.left-k.left,T=k.right-P.right,I=P.top-k.top,E=k.bottom-P.bottom;P.width>k.width?(D>0&&(j+=D),T>0&&(j-=T)):j=0,P.height>k.height?(I>0&&(R+=I),E>0&&(R-=E)):R=0,(j!==this._passiveTransform.x||R!==this._passiveTransform.y)&&this.setFreeDragPosition({y:R,x:j})}_getDragStartDelay(j){const R=this.dragStartDelay;return"number"==typeof R?R:Wt(j)?R.touch:R?R.mouse:0}_updateOnScroll(j){const R=this._parentPositions.handleScroll(j);if(R){const k=(0,C.Fb)(j);this._boundaryRect&&k!==this._boundaryElement&&k.contains(this._boundaryElement)&&Je(this._boundaryRect,R.top,R.left),this._pickupPositionOnPage.x+=R.left,this._pickupPositionOnPage.y+=R.top,this._dropContainer||(this._activeTransform.x-=R.left,this._activeTransform.y-=R.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,C.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(j,R){const k=this._previewContainer||"global";if("parent"===k)return j;if("global"===k){const P=this._document;return R||P.fullscreenElement||P.webkitFullscreenElement||P.mozFullScreenElement||P.msFullscreenElement||P.body}return(0,Ee.i8)(k)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(j){return this._handles.find(R=>j.target&&(j.target===R||R.contains(j.target)))}}function Zt(de,j,R){return Math.max(j,Math.min(R,de))}function Wt(de){return"t"===de.type[0]}function lt(de){de.preventDefault()}function Ft(de,j,R){const k=Z(j,de.length-1),P=Z(R,de.length-1);if(k===P)return;const D=de[k],T=P<k?-1:1;for(let I=k;I!==P;I+=T)de[I]=de[I+T];de[P]=D}function Z(de,j){return Math.max(0,Math.min(j,de))}class ye{constructor(j,R){this._element=j,this._dragDropRegistry=R,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(j){this.withItems(j)}sort(j,R,k,P){const D=this._itemPositions,T=this._getItemIndexFromPointerPosition(j,R,k,P);if(-1===T&&D.length>0)return null;const I="horizontal"===this.orientation,E=D.findIndex(Kt=>Kt.drag===j),ne=D[T],pe=ne.clientRect,Ze=E>T?1:-1,at=this._getItemOffsetPx(D[E].clientRect,pe,Ze),Ct=this._getSiblingOffsetPx(E,D,Ze),Ht=D.slice();return Ft(D,E,T),D.forEach((Kt,nn)=>{if(Ht[nn]===Kt)return;const un=Kt.drag===j,yn=un?at:Ct,sn=un?j.getPlaceholderElement():Kt.drag.getRootElement();Kt.offset+=yn,I?(sn.style.transform=nt(`translate3d(${Math.round(Kt.offset)}px, 0, 0)`,Kt.initialTransform),Je(Kt.clientRect,0,yn)):(sn.style.transform=nt(`translate3d(0, ${Math.round(Kt.offset)}px, 0)`,Kt.initialTransform),Je(Kt.clientRect,yn,0))}),this._previousSwap.overlaps=Le(pe,R,k),this._previousSwap.drag=ne.drag,this._previousSwap.delta=I?P.x:P.y,{previousIndex:E,currentIndex:T}}enter(j,R,k,P){const D=null==P||P<0?this._getItemIndexFromPointerPosition(j,R,k):P,T=this._activeDraggables,I=T.indexOf(j),E=j.getPlaceholderElement();let ne=T[D];if(ne===j&&(ne=T[D+1]),!ne&&(null==D||-1===D||D<T.length-1)&&this._shouldEnterAsFirstChild(R,k)&&(ne=T[0]),I>-1&&T.splice(I,1),ne&&!this._dragDropRegistry.isDragging(ne)){const L=ne.getRootElement();L.parentElement.insertBefore(E,L),T.splice(D,0,j)}else(0,Ee.i8)(this._element).appendChild(E),T.push(j);E.style.transform="",this._cacheItemPositions()}withItems(j){this._activeDraggables=j.slice(),this._cacheItemPositions()}withSortPredicate(j){this._sortPredicate=j}reset(){this._activeDraggables.forEach(j=>{const R=j.getRootElement();if(R){const k=this._itemPositions.find(P=>P.drag===j)?.initialTransform;R.style.transform=k||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(j){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(k=>k.drag===j)}updateOnScroll(j,R){this._itemPositions.forEach(({clientRect:k})=>{Je(k,j,R)}),this._itemPositions.forEach(({drag:k})=>{this._dragDropRegistry.isDragging(k)&&k._sortFromLastPointerPosition()})}_cacheItemPositions(){const j="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(R=>{const k=R.getVisibleElement();return{drag:R,offset:0,initialTransform:k.style.transform||"",clientRect:et(k)}}).sort((R,k)=>j?R.clientRect.left-k.clientRect.left:R.clientRect.top-k.clientRect.top)}_getItemOffsetPx(j,R,k){const P="horizontal"===this.orientation;let D=P?R.left-j.left:R.top-j.top;return-1===k&&(D+=P?R.width-j.width:R.height-j.height),D}_getSiblingOffsetPx(j,R,k){const P="horizontal"===this.orientation,D=R[j].clientRect,T=R[j+-1*k];let I=D[P?"width":"height"]*k;if(T){const E=P?"left":"top",ne=P?"right":"bottom";-1===k?I-=T.clientRect[E]-D[ne]:I+=D[E]-T.clientRect[ne]}return I}_shouldEnterAsFirstChild(j,R){if(!this._activeDraggables.length)return!1;const k=this._itemPositions,P="horizontal"===this.orientation;if(k[0].drag!==this._activeDraggables[0]){const T=k[k.length-1].clientRect;return P?j>=T.right:R>=T.bottom}{const T=k[0].clientRect;return P?j<=T.left:R<=T.top}}_getItemIndexFromPointerPosition(j,R,k,P){const D="horizontal"===this.orientation,T=this._itemPositions.findIndex(({drag:I,clientRect:E})=>I!==j&&((!P||I!==this._previousSwap.drag||!this._previousSwap.overlaps||(D?P.x:P.y)!==this._previousSwap.delta)&&(D?R>=Math.floor(E.left)&&R<Math.floor(E.right):k>=Math.floor(E.top)&&k<Math.floor(E.bottom))));return-1!==T&&this._sortPredicate(T,j)?T:-1}}var b=function(de){return de[de.NONE=0]="NONE",de[de.UP=1]="UP",de[de.DOWN=2]="DOWN",de}(b||{}),M=function(de){return de[de.NONE=0]="NONE",de[de.LEFT=1]="LEFT",de[de.RIGHT=2]="RIGHT",de}(M||{});class X{constructor(j,R,k,P,D){this._dragDropRegistry=R,this._ngZone=P,this._viewportRuler=D,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Se.B,this.entered=new Se.B,this.exited=new Se.B,this.dropped=new Se.B,this.sorted=new Se.B,this.receivingStarted=new Se.B,this.receivingStopped=new Se.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ze.yU.EMPTY,this._verticalScrollDirection=b.NONE,this._horizontalScrollDirection=M.NONE,this._stopScrollTimers=new Se.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function ie(de=0,j=fe.E){return de<0&&(de=0),(0,F.O)(de,de,j)}(0,he.X).pipe((0,ge.Q)(this._stopScrollTimers)).subscribe(()=>{const T=this._scrollNode,I=this.autoScrollStep;this._verticalScrollDirection===b.UP?T.scrollBy(0,-I):this._verticalScrollDirection===b.DOWN&&T.scrollBy(0,I),this._horizontalScrollDirection===M.LEFT?T.scrollBy(-I,0):this._horizontalScrollDirection===M.RIGHT&&T.scrollBy(I,0)})},this.element=(0,Ee.i8)(j),this._document=k,this.withScrollableParents([this.element]),R.registerDropContainer(this),this._parentPositions=new pt(k),this._sortStrategy=new ye(this.element,R),this._sortStrategy.withSortPredicate((T,I)=>this.sortPredicate(T,I,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(j,R,k,P){this._draggingStarted(),null==P&&this.sortingDisabled&&(P=this._draggables.indexOf(j)),this._sortStrategy.enter(j,R,k,P),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:j,container:this,currentIndex:this.getItemIndex(j)})}exit(j){this._reset(),this.exited.next({item:j,container:this})}drop(j,R,k,P,D,T,I,E={}){this._reset(),this.dropped.next({item:j,currentIndex:R,previousIndex:k,container:this,previousContainer:P,isPointerOverContainer:D,distance:T,dropPoint:I,event:E})}withItems(j){const R=this._draggables;return this._draggables=j,j.forEach(k=>k._withDropContainer(this)),this.isDragging()&&(R.filter(P=>P.isDragging()).every(P=>-1===j.indexOf(P))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(j){return this._sortStrategy.direction=j,this}connectedTo(j){return this._siblings=j.slice(),this}withOrientation(j){return this._sortStrategy.orientation=j,this}withScrollableParents(j){const R=(0,Ee.i8)(this.element);return this._scrollableElements=-1===j.indexOf(R)?[R,...j]:j.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(j){return this._isDragging?this._sortStrategy.getItemIndex(j):this._draggables.indexOf(j)}isReceiving(){return this._activeSiblings.size>0}_sortItem(j,R,k,P){if(this.sortingDisabled||!this._domRect||!We(this._domRect,.05,R,k))return;const D=this._sortStrategy.sort(j,R,k,P);D&&this.sorted.next({previousIndex:D.previousIndex,currentIndex:D.currentIndex,container:this,item:j})}_startScrollingIfNecessary(j,R){if(this.autoScrollDisabled)return;let k,P=b.NONE,D=M.NONE;if(this._parentPositions.positions.forEach((T,I)=>{I===this._document||!T.clientRect||k||We(T.clientRect,.05,j,R)&&([P,D]=function ot(de,j,R,k,P){const D=ue(j,P),T=Ve(j,k);let I=b.NONE,E=M.NONE;if(D){const ne=de.scrollTop;D===b.UP?ne>0&&(I=b.UP):de.scrollHeight-ne>de.clientHeight&&(I=b.DOWN)}if(T){const ne=de.scrollLeft;"rtl"===R?T===M.RIGHT?ne<0&&(E=M.RIGHT):de.scrollWidth+ne>de.clientWidth&&(E=M.LEFT):T===M.LEFT?ne>0&&(E=M.LEFT):de.scrollWidth-ne>de.clientWidth&&(E=M.RIGHT)}return[I,E]}(I,T.clientRect,this._sortStrategy.direction,j,R),(P||D)&&(k=I))}),!P&&!D){const{width:T,height:I}=this._viewportRuler.getViewportSize(),E={width:T,height:I,top:0,right:T,bottom:I,left:0};P=ue(E,R),D=Ve(E,j),k=window}k&&(P!==this._verticalScrollDirection||D!==this._horizontalScrollDirection||k!==this._scrollNode)&&(this._verticalScrollDirection=P,this._horizontalScrollDirection=D,this._scrollNode=k,(P||D)&&k?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const j=(0,Ee.i8)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=j.msScrollSnapType||j.scrollSnapType||"",j.scrollSnapType=j.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const j=(0,Ee.i8)(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(j).clientRect}_reset(){this._isDragging=!1;const j=(0,Ee.i8)(this.element).style;j.scrollSnapType=j.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(R=>R._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(j,R){return null!=this._domRect&&Le(this._domRect,j,R)}_getSiblingContainerFromPosition(j,R,k){return this._siblings.find(P=>P._canReceive(j,R,k))}_canReceive(j,R,k){if(!this._domRect||!Le(this._domRect,R,k)||!this.enterPredicate(j,this))return!1;const P=this._getShadowRoot().elementFromPoint(R,k);if(!P)return!1;const D=(0,Ee.i8)(this.element);return P===D||D.contains(P)}_startReceiving(j,R){const k=this._activeSiblings;!k.has(j)&&R.every(P=>this.enterPredicate(P,this)||this._draggables.indexOf(P)>-1)&&(k.add(j),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:j,receiver:this,items:R}))}_stopReceiving(j){this._activeSiblings.delete(j),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:j,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(j=>{if(this.isDragging()){const R=this._parentPositions.handleScroll(j);R&&this._sortStrategy.updateOnScroll(R.top,R.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const j=(0,C.KT)((0,Ee.i8)(this.element));this._cachedShadowRoot=j||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const j=this._sortStrategy.getActiveItemsSnapshot().filter(R=>R.isDragging());this._siblings.forEach(R=>R._startReceiving(this,j))}}function ue(de,j){const{top:R,bottom:k,height:P}=de,D=.05*P;return j>=R-D&&j<=R+D?b.UP:j>=k-D&&j<=k+D?b.DOWN:b.NONE}function Ve(de,j){const{left:R,right:k,width:P}=de,D=.05*P;return j>=R-D&&j<=R+D?M.LEFT:j>=k-D&&j<=k+D?M.RIGHT:M.NONE}const ht=(0,C.BQ)({passive:!1,capture:!0});let bt=(()=>{class de{constructor(R,k){this._ngZone=R,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=P=>P.isDragging(),this.pointerMove=new Se.B,this.pointerUp=new Se.B,this.scroll=new Se.B,this._preventDefaultWhileDragging=P=>{this._activeDragInstances.length>0&&P.preventDefault()},this._persistentTouchmoveListener=P=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&P.preventDefault(),this.pointerMove.next(P))},this._document=k}registerDropContainer(R){this._dropInstances.has(R)||this._dropInstances.add(R)}registerDragItem(R){this._dragInstances.add(R),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ht)})}removeDropContainer(R){this._dropInstances.delete(R)}removeDragItem(R){this._dragInstances.delete(R),this.stopDragging(R),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ht)}startDragging(R,k){if(!(this._activeDragInstances.indexOf(R)>-1)&&(this._activeDragInstances.push(R),1===this._activeDragInstances.length)){const P=k.type.startsWith("touch");this._globalListeners.set(P?"touchend":"mouseup",{handler:D=>this.pointerUp.next(D),options:!0}).set("scroll",{handler:D=>this.scroll.next(D),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ht}),P||this._globalListeners.set("mousemove",{handler:D=>this.pointerMove.next(D),options:ht}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((D,T)=>{this._document.addEventListener(T,D.handler,D.options)})})}}stopDragging(R){const k=this._activeDragInstances.indexOf(R);k>-1&&(this._activeDragInstances.splice(k,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(R){return this._activeDragInstances.indexOf(R)>-1}scrolled(R){const k=[this.scroll];return R&&R!==this._document&&k.push(new me.c(P=>this._ngZone.runOutsideAngular(()=>{const T=I=>{this._activeDragInstances.length&&P.next(I)};return R.addEventListener("scroll",T,!0),()=>{R.removeEventListener("scroll",T,!0)}}))),(0,J.h)(...k)}ngOnDestroy(){this._dragInstances.forEach(R=>this.removeDragItem(R)),this._dropInstances.forEach(R=>this.removeDropContainer(R)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((R,k)=>{this._document.removeEventListener(k,R.handler,R.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(k){return new(k||de)(t.KVO(t.SKi),t.KVO(f.qQ))};static#t=this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const Et={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let wt=(()=>{class de{constructor(R,k,P,D){this._document=R,this._ngZone=k,this._viewportRuler=P,this._dragDropRegistry=D}createDrag(R,k=Et){return new Xt(R,k,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(R){return new X(R,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(k){return new(k||de)(t.KVO(f.qQ),t.KVO(t.SKi),t.KVO(m.Xj),t.KVO(bt))};static#t=this.\u0275prov=t.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const Yt=new t.nKC("CDK_DRAG_PARENT"),Gt=new t.nKC("CdkDragHandle");let we=(()=>{class de{get disabled(){return this._disabled}set disabled(R){this._disabled=R,this._stateChanges.next(this)}constructor(R,k){this.element=R,this._parentDrag=k,this._stateChanges=new Se.B,this._disabled=!1,k?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static#e=this.\u0275fac=function(k){return new(k||de)(t.rXU(t.aKT),t.rXU(Yt,12))};static#t=this.\u0275dir=t.FsC({type:de,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[t.Mj6.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",t.L39]},standalone:!0,features:[t.Jv_([{provide:Gt,useExisting:de}]),t.GFd]})}return de})();const qe=new t.nKC("CDK_DRAG_CONFIG"),kt=new t.nKC("CdkDropList");let It=(()=>{class de{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(R){this._disabled=R,this._dragRef.disabled=this._disabled}constructor(R,k,P,D,T,I,E,ne,L,pe,Ze){this.element=R,this.dropContainer=k,this._ngZone=D,this._viewContainerRef=T,this._dir=E,this._changeDetectorRef=L,this._selfHandle=pe,this._parentDrag=Ze,this._destroyed=new Se.B,this._handles=new G.t([]),this.started=new t.bkB,this.released=new t.bkB,this.ended=new t.bkB,this.entered=new t.bkB,this.exited=new t.bkB,this.dropped=new t.bkB,this.moved=new me.c(at=>{const Ct=this._dragRef.moved.pipe((0,Ce.T)(Ht=>({source:this,pointerPosition:Ht.pointerPosition,event:Ht.event,delta:Ht.delta,distance:Ht.distance}))).subscribe(at);return()=>{Ct.unsubscribe()}}),this._dragRef=ne.createDrag(R,{dragStartThreshold:I&&null!=I.dragStartThreshold?I.dragStartThreshold:5,pointerDirectionChangeThreshold:I&&null!=I.pointerDirectionChangeThreshold?I.pointerDirectionChangeThreshold:5,zIndex:I?.zIndex}),this._dragRef.data=this,de._dragInstances.push(this),I&&this._assignDefaults(I),k&&(this._dragRef._withDropContainer(k._dropListRef),k.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(R){this._dragRef.setFreeDragPosition(R)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,De.s)(1),(0,ge.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(R){const k=R.rootElementSelector,P=R.freeDragPosition;k&&!k.firstChange&&this._updateRootElement(),P&&!P.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const R=de._dragInstances.indexOf(this);R>-1&&de._dragInstances.splice(R,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(R){const k=this._handles.getValue();k.push(R),this._handles.next(k)}_removeHandle(R){const k=this._handles.getValue(),P=k.indexOf(R);P>-1&&(k.splice(P,1),this._handles.next(k))}_setPreviewTemplate(R){this._previewTemplate=R}_resetPreviewTemplate(R){R===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(R){this._placeholderTemplate=R}_resetPlaceholderTemplate(R){R===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const R=this.element.nativeElement;let k=R;this.rootElementSelector&&(k=void 0!==R.closest?R.closest(this.rootElementSelector):R.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(k||R)}_getBoundaryElement(){const R=this.boundaryElement;return R?"string"==typeof R?this.element.nativeElement.closest(R):(0,Ee.i8)(R):null}_syncInputs(R){R.beforeStarted.subscribe(()=>{if(!R.isDragging()){const k=this._dir,P=this.dragStartDelay,D=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,T=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;R.disabled=this.disabled,R.lockAxis=this.lockAxis,R.dragStartDelay="object"==typeof P&&P?P:(0,Ee.OE)(P),R.constrainPosition=this.constrainPosition,R.previewClass=this.previewClass,R.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(D).withPreviewTemplate(T).withPreviewContainer(this.previewContainer||"global"),k&&R.withDirection(k.value)}}),R.beforeStarted.pipe((0,De.s)(1)).subscribe(()=>{if(this._parentDrag)return void R.withParent(this._parentDrag._dragRef);let k=this.element.nativeElement.parentElement;for(;k;){if(k.classList.contains("cdk-drag")){R.withParent(de._dragInstances.find(P=>P.element.nativeElement===k)?._dragRef||null);break}k=k.parentElement}})}_handleEvents(R){R.started.subscribe(k=>{this.started.emit({source:this,event:k.event}),this._changeDetectorRef.markForCheck()}),R.released.subscribe(k=>{this.released.emit({source:this,event:k.event})}),R.ended.subscribe(k=>{this.ended.emit({source:this,distance:k.distance,dropPoint:k.dropPoint,event:k.event}),this._changeDetectorRef.markForCheck()}),R.entered.subscribe(k=>{this.entered.emit({container:k.container.data,item:this,currentIndex:k.currentIndex})}),R.exited.subscribe(k=>{this.exited.emit({container:k.container.data,item:this})}),R.dropped.subscribe(k=>{this.dropped.emit({previousIndex:k.previousIndex,currentIndex:k.currentIndex,previousContainer:k.previousContainer.data,container:k.container.data,isPointerOverContainer:k.isPointerOverContainer,item:this,distance:k.distance,dropPoint:k.dropPoint,event:k.event})})}_assignDefaults(R){const{lockAxis:k,dragStartDelay:P,constrainPosition:D,previewClass:T,boundaryElement:I,draggingDisabled:E,rootElementSelector:ne,previewContainer:L}=R;this.disabled=E??!1,this.dragStartDelay=P||0,k&&(this.lockAxis=k),D&&(this.constrainPosition=D),T&&(this.previewClass=T),I&&(this.boundaryElement=I),ne&&(this.rootElementSelector=ne),L&&(this.previewContainer=L)}_setupHandlesListener(){this._handles.pipe((0,Pe.M)(R=>{const k=R.map(P=>P.element);this._selfHandle&&this.rootElementSelector&&k.push(this.element),this._dragRef.withHandles(k)}),(0,He.n)(R=>(0,J.h)(...R.map(k=>k._stateChanges.pipe((0,ae.Z)(k))))),(0,ge.Q)(this._destroyed)).subscribe(R=>{const k=this._dragRef,P=R.element.nativeElement;R.disabled?k.disableHandle(P):k.enableHandle(P)})}static#t=this.\u0275fac=function(k){return new(k||de)(t.rXU(t.aKT),t.rXU(kt,12),t.rXU(f.qQ),t.rXU(t.SKi),t.rXU(t.c1b),t.rXU(qe,8),t.rXU(Te.dS,8),t.rXU(wt),t.rXU(t.gRc),t.rXU(Gt,10),t.rXU(Yt,12))};static#n=this.\u0275dir=t.FsC({type:de,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(k,P){2&k&&t.AVh("cdk-drag-disabled",P.disabled)("cdk-drag-dragging",P._dragRef.isDragging())},inputs:{data:[t.Mj6.None,"cdkDragData","data"],lockAxis:[t.Mj6.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[t.Mj6.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[t.Mj6.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[t.Mj6.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[t.Mj6.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[t.Mj6.HasDecoratorInputTransform,"cdkDragDisabled","disabled",t.L39],constrainPosition:[t.Mj6.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[t.Mj6.None,"cdkDragPreviewClass","previewClass"],previewContainer:[t.Mj6.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[t.Jv_([{provide:Yt,useExisting:de}]),t.GFd,t.OA$]})}return de})();const Ot=new t.nKC("CdkDropListGroup");let en=0,wn=(()=>{class de{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(R){this._dropListRef.disabled=this._disabled=R}constructor(R,k,P,D,T,I,E){this.element=R,this._changeDetectorRef=P,this._scrollDispatcher=D,this._dir=T,this._group=I,this._destroyed=new Se.B,this.connectedTo=[],this.id="cdk-drop-list-"+en++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new t.bkB,this.entered=new t.bkB,this.exited=new t.bkB,this.sorted=new t.bkB,this._unsortedItems=new Set,this._dropListRef=k.createDropList(R),this._dropListRef.data=this,E&&this._assignDefaults(E),this._dropListRef.enterPredicate=(ne,L)=>this.enterPredicate(ne.data,L.data),this._dropListRef.sortPredicate=(ne,L,pe)=>this.sortPredicate(ne,L.data,pe.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),de._dropLists.push(this),I&&I._items.add(this)}addItem(R){this._unsortedItems.add(R),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(R){this._unsortedItems.delete(R),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((R,k)=>R._dragRef.getVisibleElement().compareDocumentPosition(k._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const R=de._dropLists.indexOf(this);R>-1&&de._dropLists.splice(R,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(R){this._dir&&this._dir.change.pipe((0,ae.Z)(this._dir.value),(0,ge.Q)(this._destroyed)).subscribe(k=>R.withDirection(k)),R.beforeStarted.subscribe(()=>{const k=(0,Ee.FG)(this.connectedTo).map(P=>"string"==typeof P?de._dropLists.find(T=>T.id===P):P);if(this._group&&this._group._items.forEach(P=>{-1===k.indexOf(P)&&k.push(P)}),!this._scrollableParentsResolved){const P=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(D=>D.getElementRef().nativeElement);this._dropListRef.withScrollableParents(P),this._scrollableParentsResolved=!0}R.disabled=this.disabled,R.lockAxis=this.lockAxis,R.sortingDisabled=this.sortingDisabled,R.autoScrollDisabled=this.autoScrollDisabled,R.autoScrollStep=(0,Ee.OE)(this.autoScrollStep,2),R.connectedTo(k.filter(P=>P&&P!==this).map(P=>P._dropListRef)).withOrientation(this.orientation)})}_handleEvents(R){R.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),R.entered.subscribe(k=>{this.entered.emit({container:this,item:k.item.data,currentIndex:k.currentIndex})}),R.exited.subscribe(k=>{this.exited.emit({container:this,item:k.item.data}),this._changeDetectorRef.markForCheck()}),R.sorted.subscribe(k=>{this.sorted.emit({previousIndex:k.previousIndex,currentIndex:k.currentIndex,container:this,item:k.item.data})}),R.dropped.subscribe(k=>{this.dropped.emit({previousIndex:k.previousIndex,currentIndex:k.currentIndex,previousContainer:k.previousContainer.data,container:k.container.data,item:k.item.data,isPointerOverContainer:k.isPointerOverContainer,distance:k.distance,dropPoint:k.dropPoint,event:k.event}),this._changeDetectorRef.markForCheck()}),(0,J.h)(R.receivingStarted,R.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(R){const{lockAxis:k,draggingDisabled:P,sortingDisabled:D,listAutoScrollDisabled:T,listOrientation:I}=R;this.disabled=P??!1,this.sortingDisabled=D??!1,this.autoScrollDisabled=T??!1,this.orientation=I||"vertical",k&&(this.lockAxis=k)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(R=>R._dragRef))}static#t=this.\u0275fac=function(k){return new(k||de)(t.rXU(t.aKT),t.rXU(wt),t.rXU(t.gRc),t.rXU(m.R),t.rXU(Te.dS,8),t.rXU(Ot,12),t.rXU(qe,8))};static#n=this.\u0275dir=t.FsC({type:de,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(k,P){2&k&&(t.BMQ("id",P.id),t.AVh("cdk-drop-list-disabled",P.disabled)("cdk-drop-list-dragging",P._dropListRef.isDragging())("cdk-drop-list-receiving",P._dropListRef.isReceiving()))},inputs:{connectedTo:[t.Mj6.None,"cdkDropListConnectedTo","connectedTo"],data:[t.Mj6.None,"cdkDropListData","data"],orientation:[t.Mj6.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[t.Mj6.None,"cdkDropListLockAxis","lockAxis"],disabled:[t.Mj6.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",t.L39],sortingDisabled:[t.Mj6.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",t.L39],enterPredicate:[t.Mj6.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[t.Mj6.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[t.Mj6.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",t.L39],autoScrollStep:[t.Mj6.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[t.Jv_([{provide:Ot,useValue:void 0},{provide:kt,useExisting:de}]),t.GFd]})}return de})()},7336:(Lt,ct,v)=>{"use strict";v.d(ct,{A:()=>jt,A$:()=>ze,FX:()=>Ue,Fm:()=>Ee,G_:()=>f,Ge:()=>Ve,Kp:()=>G,LE:()=>Pe,UQ:()=>Ce,W3:()=>Se,Z:()=>ue,_f:()=>ie,bn:()=>tt,dB:()=>J,eg:()=>Ii,f2:()=>oe,i7:()=>De,n6:()=>He,rp:()=>Si,t6:()=>he,w_:()=>me,wn:()=>m,yZ:()=>ge});const f=8,m=9,Ee=13,Ue=16,Se=17,ze=18,ie=27,he=32,me=33,J=34,G=35,ge=36,Ce=37,De=38,Pe=39,He=40,oe=48,tt=57,jt=65,ue=90,Ve=91,Ii=224;function Si(si,...Ti){return Ti.length?Ti.some(ei=>si[ei]):si.altKey||si.shiftKey||si.ctrlKey||si.metaKey}},9327:(Lt,ct,v)=>{"use strict";v.d(ct,{DY:()=>Ce,QP:()=>He});var t=v(4438),f=v(4085),m=v(1413),C=v(4572),Ee=v(8793),Ue=v(1985),Se=v(6697),ze=v(5245),fe=v(152),F=v(6354),ie=v(9172),he=v(6977),me=v(6860);const G=new Set;let ge,Ce=(()=>{class Y{constructor(oe,nt){this._platform=oe,this._nonce=nt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Pe}matchMedia(oe){return(this._platform.WEBKIT||this._platform.BLINK)&&function De(Y,be){if(!G.has(Y))try{ge||(ge=document.createElement("style"),be&&ge.setAttribute("nonce",be),ge.setAttribute("type","text/css"),document.head.appendChild(ge)),ge.sheet&&(ge.sheet.insertRule(`@media ${Y} {body{ }}`,0),G.add(Y))}catch(oe){console.error(oe)}}(oe,this._nonce),this._matchMedia(oe)}static#e=this.\u0275fac=function(nt){return new(nt||Y)(t.KVO(me.OD),t.KVO(t.BIS,8))};static#t=this.\u0275prov=t.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();function Pe(Y){return{matches:"all"===Y||""===Y,media:Y,addListener:()=>{},removeListener:()=>{}}}let He=(()=>{class Y{constructor(oe,nt){this._mediaMatcher=oe,this._zone=nt,this._queries=new Map,this._destroySubject=new m.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(oe){return ae((0,f.FG)(oe)).some(ke=>this._registerQuery(ke).mql.matches)}observe(oe){const ke=ae((0,f.FG)(oe)).map(et=>this._registerQuery(et).observable);let Ye=(0,C.z)(ke);return Ye=(0,Ee.x)(Ye.pipe((0,Se.s)(1)),Ye.pipe((0,ze.i)(1),(0,fe.B)(0))),Ye.pipe((0,F.T)(et=>{const Le={matches:!1,breakpoints:{}};return et.forEach(({matches:Je,query:We})=>{Le.matches=Le.matches||Je,Le.breakpoints[We]=Je}),Le}))}_registerQuery(oe){if(this._queries.has(oe))return this._queries.get(oe);const nt=this._mediaMatcher.matchMedia(oe),Ye={observable:new Ue.c(et=>{const Le=Je=>this._zone.run(()=>et.next(Je));return nt.addListener(Le),()=>{nt.removeListener(Le)}}).pipe((0,ie.Z)(nt),(0,F.T)(({matches:et})=>({query:oe,matches:et})),(0,he.Q)(this._destroySubject)),mql:nt};return this._queries.set(oe,Ye),Ye}static#e=this.\u0275fac=function(nt){return new(nt||Y)(t.KVO(Ce),t.KVO(t.SKi))};static#t=this.\u0275prov=t.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();function ae(Y){return Y.map(be=>be.split(",")).reduce((be,oe)=>be.concat(oe)).map(be=>be.trim())}},6969:(Lt,ct,v)=>{"use strict";v.d(ct,{WB:()=>_e,$Q:()=>Ft,uH:()=>Ye,hJ:()=>Zt,rR:()=>ke,z_:()=>ye,yY:()=>dt});var t=v(494),f=v(177),m=v(4438),C=v(4085),Ee=v(6860),Ue=v(5964),Se=v(6697),ze=v(6977),fe=v(9974),F=v(4360),he=v(8203),me=v(6939),J=v(1413),G=v(8359),ge=v(7786),Ce=v(7336);const De=(0,Ee.CZ)();class Pe{constructor(b,M){this._viewportRuler=b,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=M}attach(){}enable(){if(this._canBeEnabled()){const b=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=b.style.left||"",this._previousHTMLStyles.top=b.style.top||"",b.style.left=(0,C.a1)(-this._previousScrollPosition.left),b.style.top=(0,C.a1)(-this._previousScrollPosition.top),b.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const b=this._document.documentElement,X=b.style,ue=this._document.body.style,Ve=X.scrollBehavior||"",ot=ue.scrollBehavior||"";this._isEnabled=!1,X.left=this._previousHTMLStyles.left,X.top=this._previousHTMLStyles.top,b.classList.remove("cdk-global-scrollblock"),De&&(X.scrollBehavior=ue.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),De&&(X.scrollBehavior=Ve,ue.scrollBehavior=ot)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const M=this._document.body,X=this._viewportRuler.getViewportSize();return M.scrollHeight>X.height||M.scrollWidth>X.width}}class ae{constructor(b,M,X,ue){this._scrollDispatcher=b,this._ngZone=M,this._viewportRuler=X,this._config=ue,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(b){this._overlayRef=b}enable(){if(this._scrollSubscription)return;const b=this._scrollDispatcher.scrolled(0).pipe((0,Ue.p)(M=>!M||!this._overlayRef.overlayElement.contains(M.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=b.subscribe(()=>{const M=this._viewportRuler.getViewportScrollPosition().top;Math.abs(M-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=b.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Te{enable(){}disable(){}attach(){}}function Y(W,b){return b.some(M=>W.bottom<M.top||W.top>M.bottom||W.right<M.left||W.left>M.right)}function be(W,b){return b.some(M=>W.top<M.top||W.bottom>M.bottom||W.left<M.left||W.right>M.right)}class oe{constructor(b,M,X,ue){this._scrollDispatcher=b,this._viewportRuler=M,this._ngZone=X,this._config=ue,this._scrollSubscription=null}attach(b){this._overlayRef=b}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const M=this._overlayRef.overlayElement.getBoundingClientRect(),{width:X,height:ue}=this._viewportRuler.getViewportSize();Y(M,[{width:X,height:ue,bottom:ue,right:X,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let nt=(()=>{class W{constructor(M,X,ue,Ve){this._scrollDispatcher=M,this._viewportRuler=X,this._ngZone=ue,this.noop=()=>new Te,this.close=ot=>new ae(this._scrollDispatcher,this._ngZone,this._viewportRuler,ot),this.block=()=>new Pe(this._viewportRuler,this._document),this.reposition=ot=>new oe(this._scrollDispatcher,this._viewportRuler,this._ngZone,ot),this._document=Ve}static#e=this.\u0275fac=function(X){return new(X||W)(m.KVO(t.R),m.KVO(t.Xj),m.KVO(m.SKi),m.KVO(f.qQ))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();class ke{constructor(b){if(this.scrollStrategy=new Te,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,b){const M=Object.keys(b);for(const X of M)void 0!==b[X]&&(this[X]=b[X])}}}class Ye{constructor(b,M,X,ue,Ve){this.offsetX=X,this.offsetY=ue,this.panelClass=Ve,this.originX=b.originX,this.originY=b.originY,this.overlayX=M.overlayX,this.overlayY=M.overlayY}}class Le{constructor(b,M){this.connectionPair=b,this.scrollableViewProperties=M}}let pt=(()=>{class W{constructor(M){this._attachedOverlays=[],this._document=M}ngOnDestroy(){this.detach()}add(M){this.remove(M),this._attachedOverlays.push(M)}remove(M){const X=this._attachedOverlays.indexOf(M);X>-1&&this._attachedOverlays.splice(X,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(X){return new(X||W)(m.KVO(f.qQ))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),tt=(()=>{class W extends pt{constructor(M,X){super(M),this._ngZone=X,this._keydownListener=ue=>{const Ve=this._attachedOverlays;for(let ot=Ve.length-1;ot>-1;ot--)if(Ve[ot]._keydownEvents.observers.length>0){const ht=Ve[ot]._keydownEvents;this._ngZone?this._ngZone.run(()=>ht.next(ue)):ht.next(ue);break}}}add(M){super.add(M),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(X){return new(X||W)(m.KVO(f.qQ),m.KVO(m.SKi,8))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),$e=(()=>{class W extends pt{constructor(M,X,ue){super(M),this._platform=X,this._ngZone=ue,this._cursorStyleIsSet=!1,this._pointerDownListener=Ve=>{this._pointerDownEventTarget=(0,Ee.Fb)(Ve)},this._clickListener=Ve=>{const ot=(0,Ee.Fb)(Ve),ht="click"===Ve.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ot;this._pointerDownEventTarget=null;const bt=this._attachedOverlays.slice();for(let Et=bt.length-1;Et>-1;Et--){const wt=bt[Et];if(wt._outsidePointerEvents.observers.length<1||!wt.hasAttached())continue;if(wt.overlayElement.contains(ot)||wt.overlayElement.contains(ht))break;const Yt=wt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Yt.next(Ve)):Yt.next(Ve)}}}add(M){if(super.add(M),!this._isAttached){const X=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(X)):this._addEventListeners(X),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=X.style.cursor,X.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const M=this._document.body;M.removeEventListener("pointerdown",this._pointerDownListener,!0),M.removeEventListener("click",this._clickListener,!0),M.removeEventListener("auxclick",this._clickListener,!0),M.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(M.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(M){M.addEventListener("pointerdown",this._pointerDownListener,!0),M.addEventListener("click",this._clickListener,!0),M.addEventListener("auxclick",this._clickListener,!0),M.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(X){return new(X||W)(m.KVO(f.qQ),m.KVO(Ee.OD),m.KVO(m.SKi,8))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),mt=(()=>{class W{constructor(M,X){this._platform=X,this._document=M}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const M="cdk-overlay-container";if(this._platform.isBrowser||(0,Ee.v8)()){const ue=this._document.querySelectorAll(`.${M}[platform="server"], .${M}[platform="test"]`);for(let Ve=0;Ve<ue.length;Ve++)ue[Ve].remove()}const X=this._document.createElement("div");X.classList.add(M),(0,Ee.v8)()?X.setAttribute("platform","test"):this._platform.isBrowser||X.setAttribute("platform","server"),this._document.body.appendChild(X),this._containerElement=X}static#e=this.\u0275fac=function(X){return new(X||W)(m.KVO(f.qQ),m.KVO(Ee.OD))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();class dt{constructor(b,M,X,ue,Ve,ot,ht,bt,Et,wt=!1){this._portalOutlet=b,this._host=M,this._pane=X,this._config=ue,this._ngZone=Ve,this._keyboardDispatcher=ot,this._document=ht,this._location=bt,this._outsideClickDispatcher=Et,this._animationsDisabled=wt,this._backdropElement=null,this._backdropClick=new J.B,this._attachments=new J.B,this._detachments=new J.B,this._locationChanges=G.yU.EMPTY,this._backdropClickHandler=Yt=>this._backdropClick.next(Yt),this._backdropTransitionendHandler=Yt=>{this._disposeBackdrop(Yt.target)},this._keydownEvents=new J.B,this._outsidePointerEvents=new J.B,ue.scrollStrategy&&(this._scrollStrategy=ue.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ue.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(b){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const M=this._portalOutlet.attach(b);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Se.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof M?.onDestroy&&M.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),M}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const b=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),b}dispose(){const b=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,b&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(b){b!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=b,this.hasAttached()&&(b.attach(this),this.updatePosition()))}updateSize(b){this._config={...this._config,...b},this._updateElementSize()}setDirection(b){this._config={...this._config,direction:b},this._updateElementDirection()}addPanelClass(b){this._pane&&this._toggleClasses(this._pane,b,!0)}removePanelClass(b){this._pane&&this._toggleClasses(this._pane,b,!1)}getDirection(){const b=this._config.direction;return b?"string"==typeof b?b:b.value:"ltr"}updateScrollStrategy(b){b!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=b,this.hasAttached()&&(b.attach(this),b.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const b=this._pane.style;b.width=(0,C.a1)(this._config.width),b.height=(0,C.a1)(this._config.height),b.minWidth=(0,C.a1)(this._config.minWidth),b.minHeight=(0,C.a1)(this._config.minHeight),b.maxWidth=(0,C.a1)(this._config.maxWidth),b.maxHeight=(0,C.a1)(this._config.maxHeight)}_togglePointerEvents(b){this._pane.style.pointerEvents=b?"":"none"}_attachBackdrop(){const b="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(b)})}):this._backdropElement.classList.add(b)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const b=this._backdropElement;if(b){if(this._animationsDisabled)return void this._disposeBackdrop(b);b.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{b.addEventListener("transitionend",this._backdropTransitionendHandler)}),b.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(b)},500))}}_toggleClasses(b,M,X){const ue=(0,C.FG)(M||[]).filter(Ve=>!!Ve);ue.length&&(X?b.classList.add(...ue):b.classList.remove(...ue))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const b=this._ngZone.onStable.pipe((0,ze.Q)((0,ge.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),b.unsubscribe())})})}_disposeScrollStrategy(){const b=this._scrollStrategy;b&&(b.disable(),b.detach&&b.detach())}_disposeBackdrop(b){b&&(b.removeEventListener("click",this._backdropClickHandler),b.removeEventListener("transitionend",this._backdropTransitionendHandler),b.remove(),this._backdropElement===b&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const xt="cdk-overlay-connected-position-bounding-box",jt=/([A-Za-z%]+)$/;class Me{get positions(){return this._preferredPositions}constructor(b,M,X,ue,Ve){this._viewportRuler=M,this._document=X,this._platform=ue,this._overlayContainer=Ve,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new J.B,this._resizeSubscription=G.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(b)}attach(b){this._validatePositions(),b.hostElement.classList.add(xt),this._overlayRef=b,this._boundingBox=b.hostElement,this._pane=b.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const b=this._originRect,M=this._overlayRect,X=this._viewportRect,ue=this._containerRect,Ve=[];let ot;for(let ht of this._preferredPositions){let bt=this._getOriginPoint(b,ue,ht),Et=this._getOverlayPoint(bt,M,ht),wt=this._getOverlayFit(Et,M,X,ht);if(wt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ht,bt);this._canFitWithFlexibleDimensions(wt,Et,X)?Ve.push({position:ht,origin:bt,overlayRect:M,boundingBoxRect:this._calculateBoundingBoxRect(bt,ht)}):(!ot||ot.overlayFit.visibleArea<wt.visibleArea)&&(ot={overlayFit:wt,overlayPoint:Et,originPoint:bt,position:ht,overlayRect:M})}if(Ve.length){let ht=null,bt=-1;for(const Et of Ve){const wt=Et.boundingBoxRect.width*Et.boundingBoxRect.height*(Et.position.weight||1);wt>bt&&(bt=wt,ht=Et)}return this._isPushed=!1,void this._applyPosition(ht.position,ht.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ot.position,ot.originPoint);this._applyPosition(ot.position,ot.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&je(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const b=this._lastPosition;if(b){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const M=this._getOriginPoint(this._originRect,this._containerRect,b);this._applyPosition(b,M)}else this.apply()}withScrollableContainers(b){return this._scrollables=b,this}withPositions(b){return this._preferredPositions=b,-1===b.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(b){return this._viewportMargin=b,this}withFlexibleDimensions(b=!0){return this._hasFlexibleDimensions=b,this}withGrowAfterOpen(b=!0){return this._growAfterOpen=b,this}withPush(b=!0){return this._canPush=b,this}withLockedPosition(b=!0){return this._positionLocked=b,this}setOrigin(b){return this._origin=b,this}withDefaultOffsetX(b){return this._offsetX=b,this}withDefaultOffsetY(b){return this._offsetY=b,this}withTransformOriginOn(b){return this._transformOriginSelector=b,this}_getOriginPoint(b,M,X){let ue,Ve;if("center"==X.originX)ue=b.left+b.width/2;else{const ot=this._isRtl()?b.right:b.left,ht=this._isRtl()?b.left:b.right;ue="start"==X.originX?ot:ht}return M.left<0&&(ue-=M.left),Ve="center"==X.originY?b.top+b.height/2:"top"==X.originY?b.top:b.bottom,M.top<0&&(Ve-=M.top),{x:ue,y:Ve}}_getOverlayPoint(b,M,X){let ue,Ve;return ue="center"==X.overlayX?-M.width/2:"start"===X.overlayX?this._isRtl()?-M.width:0:this._isRtl()?0:-M.width,Ve="center"==X.overlayY?-M.height/2:"top"==X.overlayY?0:-M.height,{x:b.x+ue,y:b.y+Ve}}_getOverlayFit(b,M,X,ue){const Ve=B(M);let{x:ot,y:ht}=b,bt=this._getOffset(ue,"x"),Et=this._getOffset(ue,"y");bt&&(ot+=bt),Et&&(ht+=Et);let rt=0-ht,Gt=ht+Ve.height-X.height,we=this._subtractOverflows(Ve.width,0-ot,ot+Ve.width-X.width),qe=this._subtractOverflows(Ve.height,rt,Gt),Ae=we*qe;return{visibleArea:Ae,isCompletelyWithinViewport:Ve.width*Ve.height===Ae,fitsInViewportVertically:qe===Ve.height,fitsInViewportHorizontally:we==Ve.width}}_canFitWithFlexibleDimensions(b,M,X){if(this._hasFlexibleDimensions){const ue=X.bottom-M.y,Ve=X.right-M.x,ot=q(this._overlayRef.getConfig().minHeight),ht=q(this._overlayRef.getConfig().minWidth);return(b.fitsInViewportVertically||null!=ot&&ot<=ue)&&(b.fitsInViewportHorizontally||null!=ht&&ht<=Ve)}return!1}_pushOverlayOnScreen(b,M,X){if(this._previousPushAmount&&this._positionLocked)return{x:b.x+this._previousPushAmount.x,y:b.y+this._previousPushAmount.y};const ue=B(M),Ve=this._viewportRect,ot=Math.max(b.x+ue.width-Ve.width,0),ht=Math.max(b.y+ue.height-Ve.height,0),bt=Math.max(Ve.top-X.top-b.y,0),Et=Math.max(Ve.left-X.left-b.x,0);let wt=0,Yt=0;return wt=ue.width<=Ve.width?Et||-ot:b.x<this._viewportMargin?Ve.left-X.left-b.x:0,Yt=ue.height<=Ve.height?bt||-ht:b.y<this._viewportMargin?Ve.top-X.top-b.y:0,this._previousPushAmount={x:wt,y:Yt},{x:b.x+wt,y:b.y+Yt}}_applyPosition(b,M){if(this._setTransformOrigin(b),this._setOverlayElementStyles(M,b),this._setBoundingBoxStyles(M,b),b.panelClass&&this._addPanelClasses(b.panelClass),this._positionChanges.observers.length){const X=this._getScrollVisibility();if(b!==this._lastPosition||!this._lastScrollVisibility||!function se(W,b){return W===b||W.isOriginClipped===b.isOriginClipped&&W.isOriginOutsideView===b.isOriginOutsideView&&W.isOverlayClipped===b.isOverlayClipped&&W.isOverlayOutsideView===b.isOverlayOutsideView}(this._lastScrollVisibility,X)){const ue=new Le(b,X);this._positionChanges.next(ue)}this._lastScrollVisibility=X}this._lastPosition=b,this._isInitialRender=!1}_setTransformOrigin(b){if(!this._transformOriginSelector)return;const M=this._boundingBox.querySelectorAll(this._transformOriginSelector);let X,ue=b.overlayY;X="center"===b.overlayX?"center":this._isRtl()?"start"===b.overlayX?"right":"left":"start"===b.overlayX?"left":"right";for(let Ve=0;Ve<M.length;Ve++)M[Ve].style.transformOrigin=`${X} ${ue}`}_calculateBoundingBoxRect(b,M){const X=this._viewportRect,ue=this._isRtl();let Ve,ot,ht,wt,Yt,rt;if("top"===M.overlayY)ot=b.y,Ve=X.height-ot+this._viewportMargin;else if("bottom"===M.overlayY)ht=X.height-b.y+2*this._viewportMargin,Ve=X.height-ht+this._viewportMargin;else{const Gt=Math.min(X.bottom-b.y+X.top,b.y),we=this._lastBoundingBoxSize.height;Ve=2*Gt,ot=b.y-Gt,Ve>we&&!this._isInitialRender&&!this._growAfterOpen&&(ot=b.y-we/2)}if("end"===M.overlayX&&!ue||"start"===M.overlayX&&ue)rt=X.width-b.x+2*this._viewportMargin,wt=b.x-this._viewportMargin;else if("start"===M.overlayX&&!ue||"end"===M.overlayX&&ue)Yt=b.x,wt=X.right-b.x;else{const Gt=Math.min(X.right-b.x+X.left,b.x),we=this._lastBoundingBoxSize.width;wt=2*Gt,Yt=b.x-Gt,wt>we&&!this._isInitialRender&&!this._growAfterOpen&&(Yt=b.x-we/2)}return{top:ot,left:Yt,bottom:ht,right:rt,width:wt,height:Ve}}_setBoundingBoxStyles(b,M){const X=this._calculateBoundingBoxRect(b,M);!this._isInitialRender&&!this._growAfterOpen&&(X.height=Math.min(X.height,this._lastBoundingBoxSize.height),X.width=Math.min(X.width,this._lastBoundingBoxSize.width));const ue={};if(this._hasExactPosition())ue.top=ue.left="0",ue.bottom=ue.right=ue.maxHeight=ue.maxWidth="",ue.width=ue.height="100%";else{const Ve=this._overlayRef.getConfig().maxHeight,ot=this._overlayRef.getConfig().maxWidth;ue.height=(0,C.a1)(X.height),ue.top=(0,C.a1)(X.top),ue.bottom=(0,C.a1)(X.bottom),ue.width=(0,C.a1)(X.width),ue.left=(0,C.a1)(X.left),ue.right=(0,C.a1)(X.right),ue.alignItems="center"===M.overlayX?"center":"end"===M.overlayX?"flex-end":"flex-start",ue.justifyContent="center"===M.overlayY?"center":"bottom"===M.overlayY?"flex-end":"flex-start",Ve&&(ue.maxHeight=(0,C.a1)(Ve)),ot&&(ue.maxWidth=(0,C.a1)(ot))}this._lastBoundingBoxSize=X,je(this._boundingBox.style,ue)}_resetBoundingBoxStyles(){je(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){je(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(b,M){const X={},ue=this._hasExactPosition(),Ve=this._hasFlexibleDimensions,ot=this._overlayRef.getConfig();if(ue){const wt=this._viewportRuler.getViewportScrollPosition();je(X,this._getExactOverlayY(M,b,wt)),je(X,this._getExactOverlayX(M,b,wt))}else X.position="static";let ht="",bt=this._getOffset(M,"x"),Et=this._getOffset(M,"y");bt&&(ht+=`translateX(${bt}px) `),Et&&(ht+=`translateY(${Et}px)`),X.transform=ht.trim(),ot.maxHeight&&(ue?X.maxHeight=(0,C.a1)(ot.maxHeight):Ve&&(X.maxHeight="")),ot.maxWidth&&(ue?X.maxWidth=(0,C.a1)(ot.maxWidth):Ve&&(X.maxWidth="")),je(this._pane.style,X)}_getExactOverlayY(b,M,X){let ue={top:"",bottom:""},Ve=this._getOverlayPoint(M,this._overlayRect,b);return this._isPushed&&(Ve=this._pushOverlayOnScreen(Ve,this._overlayRect,X)),"bottom"===b.overlayY?ue.bottom=this._document.documentElement.clientHeight-(Ve.y+this._overlayRect.height)+"px":ue.top=(0,C.a1)(Ve.y),ue}_getExactOverlayX(b,M,X){let ot,ue={left:"",right:""},Ve=this._getOverlayPoint(M,this._overlayRect,b);return this._isPushed&&(Ve=this._pushOverlayOnScreen(Ve,this._overlayRect,X)),ot=this._isRtl()?"end"===b.overlayX?"left":"right":"end"===b.overlayX?"right":"left","right"===ot?ue.right=this._document.documentElement.clientWidth-(Ve.x+this._overlayRect.width)+"px":ue.left=(0,C.a1)(Ve.x),ue}_getScrollVisibility(){const b=this._getOriginRect(),M=this._pane.getBoundingClientRect(),X=this._scrollables.map(ue=>ue.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:be(b,X),isOriginOutsideView:Y(b,X),isOverlayClipped:be(M,X),isOverlayOutsideView:Y(M,X)}}_subtractOverflows(b,...M){return M.reduce((X,ue)=>X-Math.max(ue,0),b)}_getNarrowedViewportRect(){const b=this._document.documentElement.clientWidth,M=this._document.documentElement.clientHeight,X=this._viewportRuler.getViewportScrollPosition();return{top:X.top+this._viewportMargin,left:X.left+this._viewportMargin,right:X.left+b-this._viewportMargin,bottom:X.top+M-this._viewportMargin,width:b-2*this._viewportMargin,height:M-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(b,M){return"x"===M?null==b.offsetX?this._offsetX:b.offsetX:null==b.offsetY?this._offsetY:b.offsetY}_validatePositions(){}_addPanelClasses(b){this._pane&&(0,C.FG)(b).forEach(M=>{""!==M&&-1===this._appliedPanelClasses.indexOf(M)&&(this._appliedPanelClasses.push(M),this._pane.classList.add(M))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(b=>{this._pane.classList.remove(b)}),this._appliedPanelClasses=[])}_getOriginRect(){const b=this._origin;if(b instanceof m.aKT)return b.nativeElement.getBoundingClientRect();if(b instanceof Element)return b.getBoundingClientRect();const M=b.width||0,X=b.height||0;return{top:b.y,bottom:b.y+X,left:b.x,right:b.x+M,height:X,width:M}}}function je(W,b){for(let M in b)b.hasOwnProperty(M)&&(W[M]=b[M]);return W}function q(W){if("number"!=typeof W&&null!=W){const[b,M]=W.split(jt);return M&&"px"!==M?null:parseFloat(b)}return W||null}function B(W){return{top:Math.floor(W.top),right:Math.floor(W.right),bottom:Math.floor(W.bottom),left:Math.floor(W.left),width:Math.floor(W.width),height:Math.floor(W.height)}}const Ke="cdk-global-overlay-wrapper";class vt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(b){const M=b.getConfig();this._overlayRef=b,this._width&&!M.width&&b.updateSize({width:this._width}),this._height&&!M.height&&b.updateSize({height:this._height}),b.hostElement.classList.add(Ke),this._isDisposed=!1}top(b=""){return this._bottomOffset="",this._topOffset=b,this._alignItems="flex-start",this}left(b=""){return this._xOffset=b,this._xPosition="left",this}bottom(b=""){return this._topOffset="",this._bottomOffset=b,this._alignItems="flex-end",this}right(b=""){return this._xOffset=b,this._xPosition="right",this}start(b=""){return this._xOffset=b,this._xPosition="start",this}end(b=""){return this._xOffset=b,this._xPosition="end",this}width(b=""){return this._overlayRef?this._overlayRef.updateSize({width:b}):this._width=b,this}height(b=""){return this._overlayRef?this._overlayRef.updateSize({height:b}):this._height=b,this}centerHorizontally(b=""){return this.left(b),this._xPosition="center",this}centerVertically(b=""){return this.top(b),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const b=this._overlayRef.overlayElement.style,M=this._overlayRef.hostElement.style,X=this._overlayRef.getConfig(),{width:ue,height:Ve,maxWidth:ot,maxHeight:ht}=X,bt=!("100%"!==ue&&"100vw"!==ue||ot&&"100%"!==ot&&"100vw"!==ot),Et=!("100%"!==Ve&&"100vh"!==Ve||ht&&"100%"!==ht&&"100vh"!==ht),wt=this._xPosition,Yt=this._xOffset,rt="rtl"===this._overlayRef.getConfig().direction;let Gt="",we="",qe="";bt?qe="flex-start":"center"===wt?(qe="center",rt?we=Yt:Gt=Yt):rt?"left"===wt||"end"===wt?(qe="flex-end",Gt=Yt):("right"===wt||"start"===wt)&&(qe="flex-start",we=Yt):"left"===wt||"start"===wt?(qe="flex-start",Gt=Yt):("right"===wt||"end"===wt)&&(qe="flex-end",we=Yt),b.position=this._cssPosition,b.marginLeft=bt?"0":Gt,b.marginTop=Et?"0":this._topOffset,b.marginBottom=this._bottomOffset,b.marginRight=bt?"0":we,M.justifyContent=qe,M.alignItems=Et?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const b=this._overlayRef.overlayElement.style,M=this._overlayRef.hostElement,X=M.style;M.classList.remove(Ke),X.justifyContent=X.alignItems=b.marginTop=b.marginBottom=b.marginLeft=b.marginRight=b.position="",this._overlayRef=null,this._isDisposed=!0}}let Nt=(()=>{class W{constructor(M,X,ue,Ve){this._viewportRuler=M,this._document=X,this._platform=ue,this._overlayContainer=Ve}global(){return new vt}flexibleConnectedTo(M){return new Me(M,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(X){return new(X||W)(m.KVO(t.Xj),m.KVO(f.qQ),m.KVO(Ee.OD),m.KVO(mt))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),Xt=0,Zt=(()=>{class W{constructor(M,X,ue,Ve,ot,ht,bt,Et,wt,Yt,rt,Gt){this.scrollStrategies=M,this._overlayContainer=X,this._componentFactoryResolver=ue,this._positionBuilder=Ve,this._keyboardDispatcher=ot,this._injector=ht,this._ngZone=bt,this._document=Et,this._directionality=wt,this._location=Yt,this._outsideClickDispatcher=rt,this._animationsModuleType=Gt}create(M){const X=this._createHostElement(),ue=this._createPaneElement(X),Ve=this._createPortalOutlet(ue),ot=new ke(M);return ot.direction=ot.direction||this._directionality.value,new dt(Ve,X,ue,ot,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(M){const X=this._document.createElement("div");return X.id="cdk-overlay-"+Xt++,X.classList.add("cdk-overlay-pane"),M.appendChild(X),X}_createHostElement(){const M=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(M),M}_createPortalOutlet(M){return this._appRef||(this._appRef=this._injector.get(m.o8S)),new me.aI(M,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(X){return new(X||W)(m.KVO(nt),m.KVO(mt),m.KVO(m.OM3),m.KVO(Nt),m.KVO(tt),m.KVO(m.zZn),m.KVO(m.SKi),m.KVO(f.qQ),m.KVO(he.dS),m.KVO(f.aZ),m.KVO($e),m.KVO(m.bc$,8))};static#t=this.\u0275prov=m.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();const Wt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],lt=new m.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const W=(0,m.WQX)(Zt);return()=>W.scrollStrategies.reposition()}});let Ft=(()=>{class W{constructor(M){this.elementRef=M}static#e=this.\u0275fac=function(X){return new(X||W)(m.rXU(m.aKT))};static#t=this.\u0275dir=m.FsC({type:W,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return W})(),_e=(()=>{class W{get offsetX(){return this._offsetX}set offsetX(M){this._offsetX=M,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(M){this._offsetY=M,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(M){this._disposeOnNavigation=M}constructor(M,X,ue,Ve,ot){this._overlay=M,this._dir=ot,this._backdropSubscription=G.yU.EMPTY,this._attachSubscription=G.yU.EMPTY,this._detachSubscription=G.yU.EMPTY,this._positionSubscription=G.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,m.WQX)(m.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new m.bkB,this.positionChange=new m.bkB,this.attach=new m.bkB,this.detach=new m.bkB,this.overlayKeydown=new m.bkB,this.overlayOutsideClick=new m.bkB,this._templatePortal=new me.VA(X,ue),this._scrollStrategyFactory=Ve,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(M){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),M.origin&&this.open&&this._position.apply()),M.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Wt);const M=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=M.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=M.detachments().subscribe(()=>this.detach.emit()),M.keydownEvents().subscribe(X=>{this.overlayKeydown.next(X),X.keyCode===Ce._f&&!this.disableClose&&!(0,Ce.rp)(X)&&(X.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(X=>{this.overlayOutsideClick.next(X)})}_buildConfig(){const M=this._position=this.positionStrategy||this._createPositionStrategy(),X=new ke({direction:this._dir,positionStrategy:M,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(X.width=this.width),(this.height||0===this.height)&&(X.height=this.height),(this.minWidth||0===this.minWidth)&&(X.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(X.minHeight=this.minHeight),this.backdropClass&&(X.backdropClass=this.backdropClass),this.panelClass&&(X.panelClass=this.panelClass),X}_updatePositionStrategy(M){const X=this.positions.map(ue=>({originX:ue.originX,originY:ue.originY,overlayX:ue.overlayX,overlayY:ue.overlayY,offsetX:ue.offsetX||this.offsetX,offsetY:ue.offsetY||this.offsetY,panelClass:ue.panelClass||void 0}));return M.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(X).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const M=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(M),M}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Ft?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(M=>{this.backdropClick.emit(M)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function ie(W,b=!1){return(0,fe.N)((M,X)=>{let ue=0;M.subscribe((0,F._)(X,Ve=>{const ot=W(Ve,ue++);(ot||b)&&X.next(Ve),!ot&&X.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(M=>{this._ngZone.run(()=>this.positionChange.emit(M)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(X){return new(X||W)(m.rXU(Zt),m.rXU(m.C4Q),m.rXU(m.c1b),m.rXU(lt),m.rXU(he.dS,8))};static#t=this.\u0275dir=m.FsC({type:W,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[m.Mj6.None,"cdkConnectedOverlayOrigin","origin"],positions:[m.Mj6.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[m.Mj6.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[m.Mj6.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[m.Mj6.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[m.Mj6.None,"cdkConnectedOverlayWidth","width"],height:[m.Mj6.None,"cdkConnectedOverlayHeight","height"],minWidth:[m.Mj6.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[m.Mj6.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[m.Mj6.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[m.Mj6.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[m.Mj6.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[m.Mj6.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[m.Mj6.None,"cdkConnectedOverlayOpen","open"],disableClose:[m.Mj6.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[m.Mj6.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",m.L39],lockPosition:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",m.L39],flexibleDimensions:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",m.L39],growAfterOpen:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",m.L39],push:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",m.L39],disposeOnNavigation:[m.Mj6.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",m.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[m.GFd,m.OA$]})}return W})();const Z={provide:lt,deps:[Zt],useFactory:function Ne(W){return()=>W.scrollStrategies.reposition()}};let ye=(()=>{class W{static#e=this.\u0275fac=function(X){return new(X||W)};static#t=this.\u0275mod=m.$C({type:W});static#n=this.\u0275inj=m.G2t({providers:[Zt,Z],imports:[he.jI,me.jc,t.E9,t.E9]})}return W})()},6939:(Lt,ct,v)=>{"use strict";v.d(ct,{A8:()=>F,I3:()=>Pe,VA:()=>ie,aI:()=>G,jc:()=>ae,lb:()=>me});var t=v(4438),f=v(177);class fe{attach(be){return this._attachedHost=be,be.attach(this)}detach(){let be=this._attachedHost;null!=be&&(this._attachedHost=null,be.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(be){this._attachedHost=be}}class F extends fe{constructor(be,oe,nt,ke,Ye){super(),this.component=be,this.viewContainerRef=oe,this.injector=nt,this.componentFactoryResolver=ke,this.projectableNodes=Ye}}class ie extends fe{constructor(be,oe,nt,ke){super(),this.templateRef=be,this.viewContainerRef=oe,this.context=nt,this.injector=ke}get origin(){return this.templateRef.elementRef}attach(be,oe=this.context){return this.context=oe,super.attach(be)}detach(){return this.context=void 0,super.detach()}}class he extends fe{constructor(be){super(),this.element=be instanceof t.aKT?be.nativeElement:be}}class me{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(be){return be instanceof F?(this._attachedPortal=be,this.attachComponentPortal(be)):be instanceof ie?(this._attachedPortal=be,this.attachTemplatePortal(be)):this.attachDomPortal&&be instanceof he?(this._attachedPortal=be,this.attachDomPortal(be)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(be){this._disposeFn=be}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class G extends me{constructor(be,oe,nt,ke,Ye){super(),this.outletElement=be,this._componentFactoryResolver=oe,this._appRef=nt,this._defaultInjector=ke,this.attachDomPortal=et=>{const Le=et.element,Je=this._document.createComment("dom-portal");Le.parentNode.insertBefore(Je,Le),this.outletElement.appendChild(Le),this._attachedPortal=et,super.setDisposeFn(()=>{Je.parentNode&&Je.parentNode.replaceChild(Le,Je)})},this._document=Ye}attachComponentPortal(be){const nt=(be.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(be.component);let ke;return be.viewContainerRef?(ke=be.viewContainerRef.createComponent(nt,be.viewContainerRef.length,be.injector||be.viewContainerRef.injector,be.projectableNodes||void 0),this.setDisposeFn(()=>ke.destroy())):(ke=nt.create(be.injector||this._defaultInjector||t.zZn.NULL),this._appRef.attachView(ke.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ke.hostView),ke.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ke)),this._attachedPortal=be,ke}attachTemplatePortal(be){let oe=be.viewContainerRef,nt=oe.createEmbeddedView(be.templateRef,be.context,{injector:be.injector});return nt.rootNodes.forEach(ke=>this.outletElement.appendChild(ke)),nt.detectChanges(),this.setDisposeFn(()=>{let ke=oe.indexOf(nt);-1!==ke&&oe.remove(ke)}),this._attachedPortal=be,nt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(be){return be.hostView.rootNodes[0]}}let Pe=(()=>{class Y extends me{constructor(oe,nt,ke){super(),this._componentFactoryResolver=oe,this._viewContainerRef=nt,this._isInitialized=!1,this.attached=new t.bkB,this.attachDomPortal=Ye=>{const et=Ye.element,Le=this._document.createComment("dom-portal");Ye.setAttachedHost(this),et.parentNode.insertBefore(Le,et),this._getRootNode().appendChild(et),this._attachedPortal=Ye,super.setDisposeFn(()=>{Le.parentNode&&Le.parentNode.replaceChild(et,Le)})},this._document=ke}get portal(){return this._attachedPortal}set portal(oe){this.hasAttached()&&!oe&&!this._isInitialized||(this.hasAttached()&&super.detach(),oe&&super.attach(oe),this._attachedPortal=oe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(oe){oe.setAttachedHost(this);const nt=null!=oe.viewContainerRef?oe.viewContainerRef:this._viewContainerRef,Ye=(oe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(oe.component),et=nt.createComponent(Ye,nt.length,oe.injector||nt.injector,oe.projectableNodes||void 0);return nt!==this._viewContainerRef&&this._getRootNode().appendChild(et.hostView.rootNodes[0]),super.setDisposeFn(()=>et.destroy()),this._attachedPortal=oe,this._attachedRef=et,this.attached.emit(et),et}attachTemplatePortal(oe){oe.setAttachedHost(this);const nt=this._viewContainerRef.createEmbeddedView(oe.templateRef,oe.context,{injector:oe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=oe,this._attachedRef=nt,this.attached.emit(nt),nt}_getRootNode(){const oe=this._viewContainerRef.element.nativeElement;return oe.nodeType===oe.ELEMENT_NODE?oe:oe.parentNode}static#e=this.\u0275fac=function(nt){return new(nt||Y)(t.rXU(t.OM3),t.rXU(t.c1b),t.rXU(f.qQ))};static#t=this.\u0275dir=t.FsC({type:Y,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[t.Mj6.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[t.Vt3]})}return Y})(),ae=(()=>{class Y{static#e=this.\u0275fac=function(nt){return new(nt||Y)};static#t=this.\u0275mod=t.$C({type:Y});static#n=this.\u0275inj=t.G2t({})}return Y})()},494:(Lt,ct,v)=>{"use strict";v.d(ct,{yg:()=>q,E$:()=>Ft,d6:()=>Wt,R:()=>se,E9:()=>ye,Xj:()=>Ke});var t=v(4085),f=v(4438),m=v(1413),C=v(7673),Ee=v(1985),Ue=v(3726),Se=v(536),ze=v(5007),fe=v(8359),F=v(4402),ie=v(3294),he=v(3798),me=v(5964),J=v(6977),G=v(9172),ge=v(9974),Ce=v(4360),Pe=v(5558),He=v(2771),ae=v(7647),Y=v(6860),be=v(177),oe=v(8203),nt=v(17);class ke{}class et extends ke{constructor(W){super(),this._data=W}connect(){return(0,F.A)(this._data)?this._data:(0,C.of)(this._data)}disconnect(){}}var Le=function(ee){return ee[ee.REPLACED=0]="REPLACED",ee[ee.INSERTED=1]="INSERTED",ee[ee.MOVED=2]="MOVED",ee[ee.REMOVED=3]="REMOVED",ee}(Le||{});const Je=new f.nKC("_ViewRepeater");class pt{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(W,b,M,X,ue){W.forEachOperation((Ve,ot,ht)=>{let bt,Et;null==Ve.previousIndex?(bt=this._insertView(()=>M(Ve,ot,ht),ht,b,X(Ve)),Et=bt?Le.INSERTED:Le.REPLACED):null==ht?(this._detachAndCacheView(ot,b),Et=Le.REMOVED):(bt=this._moveView(ot,ht,b,X(Ve)),Et=Le.MOVED),ue&&ue({context:bt?.context,operation:Et,record:Ve})})}detach(){for(const W of this._viewCache)W.destroy();this._viewCache=[]}_insertView(W,b,M,X){const ue=this._insertViewFromCache(b,M);if(ue)return void(ue.context.$implicit=X);const Ve=W();return M.createEmbeddedView(Ve.templateRef,Ve.context,Ve.index)}_detachAndCacheView(W,b){const M=b.detach(W);this._maybeCacheView(M,b)}_moveView(W,b,M,X){const ue=M.get(W);return M.move(ue,b),ue.context.$implicit=X,ue}_maybeCacheView(W,b){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(W);else{const M=b.indexOf(W);-1===M?W.destroy():b.remove(M)}}_insertViewFromCache(W,b){const M=this._viewCache.pop();return M&&b.insert(M,W),M||null}}const dt=["contentWrapper"],xt=["*"],jt=new f.nKC("VIRTUAL_SCROLL_STRATEGY");class Me{constructor(W,b,M){this._scrolledIndexChange=new m.B,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,ie.F)()),this._viewport=null,this._itemSize=W,this._minBufferPx=b,this._maxBufferPx=M}attach(W){this._viewport=W,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(W,b,M){this._itemSize=W,this._minBufferPx=b,this._maxBufferPx=M,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(W,b){this._viewport&&this._viewport.scrollToOffset(W*this._itemSize,b)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const W=this._viewport.getRenderedRange(),b={start:W.start,end:W.end},M=this._viewport.getViewportSize(),X=this._viewport.getDataLength();let ue=this._viewport.measureScrollOffset(),Ve=this._itemSize>0?ue/this._itemSize:0;if(b.end>X){const ht=Math.ceil(M/this._itemSize),bt=Math.max(0,Math.min(Ve,X-ht));Ve!=bt&&(Ve=bt,ue=bt*this._itemSize,b.start=Math.floor(Ve)),b.end=Math.max(0,Math.min(X,b.start+ht))}const ot=ue-b.start*this._itemSize;if(ot<this._minBufferPx&&0!=b.start){const ht=Math.ceil((this._maxBufferPx-ot)/this._itemSize);b.start=Math.max(0,b.start-ht),b.end=Math.min(X,Math.ceil(Ve+(M+this._minBufferPx)/this._itemSize))}else{const ht=b.end*this._itemSize-(ue+M);if(ht<this._minBufferPx&&b.end!=X){const bt=Math.ceil((this._maxBufferPx-ht)/this._itemSize);bt>0&&(b.end=Math.min(X,b.end+bt),b.start=Math.max(0,Math.floor(Ve-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(b),this._viewport.setRenderedContentOffset(this._itemSize*b.start),this._scrolledIndexChange.next(Math.floor(Ve))}}function je(ee){return ee._scrollStrategy}let q=(()=>{class ee{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Me(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(b){this._itemSize=(0,t.OE)(b)}get minBufferPx(){return this._minBufferPx}set minBufferPx(b){this._minBufferPx=(0,t.OE)(b)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(b){this._maxBufferPx=(0,t.OE)(b)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(M){return new(M||ee)};static#t=this.\u0275dir=f.FsC({type:ee,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[f.Jv_([{provide:jt,useFactory:je,deps:[(0,f.Rfq)(()=>ee)]}]),f.OA$]})}return ee})(),se=(()=>{class ee{constructor(b,M,X){this._ngZone=b,this._platform=M,this._scrolled=new m.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=X}register(b){this.scrollContainers.has(b)||this.scrollContainers.set(b,b.elementScrolled().subscribe(()=>this._scrolled.next(b)))}deregister(b){const M=this.scrollContainers.get(b);M&&(M.unsubscribe(),this.scrollContainers.delete(b))}scrolled(b=20){return this._platform.isBrowser?new Ee.c(M=>{this._globalSubscription||this._addGlobalListener();const X=b>0?this._scrolled.pipe((0,he.Z)(b)).subscribe(M):this._scrolled.subscribe(M);return this._scrolledCount++,()=>{X.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,C.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((b,M)=>this.deregister(M)),this._scrolled.complete()}ancestorScrolled(b,M){const X=this.getAncestorScrollContainers(b);return this.scrolled(M).pipe((0,me.p)(ue=>!ue||X.indexOf(ue)>-1))}getAncestorScrollContainers(b){const M=[];return this.scrollContainers.forEach((X,ue)=>{this._scrollableContainsElement(ue,b)&&M.push(ue)}),M}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(b,M){let X=(0,t.i8)(M),ue=b.getElementRef().nativeElement;do{if(X==ue)return!0}while(X=X.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const b=this._getWindow();return(0,Ue.R)(b.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(M){return new(M||ee)(f.KVO(f.SKi),f.KVO(Y.OD),f.KVO(be.qQ,8))};static#t=this.\u0275prov=f.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})(),re=(()=>{class ee{constructor(b,M,X,ue){this.elementRef=b,this.scrollDispatcher=M,this.ngZone=X,this.dir=ue,this._destroyed=new m.B,this._elementScrolled=new Ee.c(Ve=>this.ngZone.runOutsideAngular(()=>(0,Ue.R)(this.elementRef.nativeElement,"scroll").pipe((0,J.Q)(this._destroyed)).subscribe(Ve)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(b){const M=this.elementRef.nativeElement,X=this.dir&&"rtl"==this.dir.value;null==b.left&&(b.left=X?b.end:b.start),null==b.right&&(b.right=X?b.start:b.end),null!=b.bottom&&(b.top=M.scrollHeight-M.clientHeight-b.bottom),X&&(0,Y.BD)()!=Y.r5.NORMAL?(null!=b.left&&(b.right=M.scrollWidth-M.clientWidth-b.left),(0,Y.BD)()==Y.r5.INVERTED?b.left=b.right:(0,Y.BD)()==Y.r5.NEGATED&&(b.left=b.right?-b.right:b.right)):null!=b.right&&(b.left=M.scrollWidth-M.clientWidth-b.right),this._applyScrollToOptions(b)}_applyScrollToOptions(b){const M=this.elementRef.nativeElement;(0,Y.CZ)()?M.scrollTo(b):(null!=b.top&&(M.scrollTop=b.top),null!=b.left&&(M.scrollLeft=b.left))}measureScrollOffset(b){const M="left",X="right",ue=this.elementRef.nativeElement;if("top"==b)return ue.scrollTop;if("bottom"==b)return ue.scrollHeight-ue.clientHeight-ue.scrollTop;const Ve=this.dir&&"rtl"==this.dir.value;return"start"==b?b=Ve?X:M:"end"==b&&(b=Ve?M:X),Ve&&(0,Y.BD)()==Y.r5.INVERTED?b==M?ue.scrollWidth-ue.clientWidth-ue.scrollLeft:ue.scrollLeft:Ve&&(0,Y.BD)()==Y.r5.NEGATED?b==M?ue.scrollLeft+ue.scrollWidth-ue.clientWidth:-ue.scrollLeft:b==M?ue.scrollLeft:ue.scrollWidth-ue.clientWidth-ue.scrollLeft}static#e=this.\u0275fac=function(M){return new(M||ee)(f.rXU(f.aKT),f.rXU(se),f.rXU(f.SKi),f.rXU(oe.dS,8))};static#t=this.\u0275dir=f.FsC({type:ee,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return ee})(),Ke=(()=>{class ee{constructor(b,M,X){this._platform=b,this._change=new m.B,this._changeListener=ue=>{this._change.next(ue)},this._document=X,M.runOutsideAngular(()=>{if(b.isBrowser){const ue=this._getWindow();ue.addEventListener("resize",this._changeListener),ue.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const b=this._getWindow();b.removeEventListener("resize",this._changeListener),b.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const b={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),b}getViewportRect(){const b=this.getViewportScrollPosition(),{width:M,height:X}=this.getViewportSize();return{top:b.top,left:b.left,bottom:b.top+X,right:b.left+M,height:X,width:M}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const b=this._document,M=this._getWindow(),X=b.documentElement,ue=X.getBoundingClientRect();return{top:-ue.top||b.body.scrollTop||M.scrollY||X.scrollTop||0,left:-ue.left||b.body.scrollLeft||M.scrollX||X.scrollLeft||0}}change(b=20){return b>0?this._change.pipe((0,he.Z)(b)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const b=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:b.innerWidth,height:b.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(M){return new(M||ee)(f.KVO(Y.OD),f.KVO(f.SKi),f.KVO(be.qQ,8))};static#t=this.\u0275prov=f.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})();const vt=new f.nKC("VIRTUAL_SCROLLABLE");let Nt=(()=>{class ee extends re{constructor(b,M,X,ue){super(b,M,X,ue)}measureViewportSize(b){const M=this.elementRef.nativeElement;return"horizontal"===b?M.clientWidth:M.clientHeight}static#e=this.\u0275fac=function(M){return new(M||ee)(f.rXU(f.aKT),f.rXU(se),f.rXU(f.SKi),f.rXU(oe.dS,8))};static#t=this.\u0275dir=f.FsC({type:ee,features:[f.Vt3]})}return ee})();const Zt=typeof requestAnimationFrame<"u"?Se.X:ze.$;let Wt=(()=>{class ee extends Nt{get orientation(){return this._orientation}set orientation(b){this._orientation!==b&&(this._orientation=b,this._calculateSpacerSize())}constructor(b,M,X,ue,Ve,ot,ht,bt){super(b,ot,X,Ve),this.elementRef=b,this._changeDetectorRef=M,this._scrollStrategy=ue,this.scrollable=bt,this._platform=(0,f.WQX)(Y.OD),this._detachedSubject=new m.B,this._renderedRangeSubject=new m.B,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new Ee.c(Et=>this._scrollStrategy.scrolledIndexChange.subscribe(wt=>Promise.resolve().then(()=>this.ngZone.run(()=>Et.next(wt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=fe.yU.EMPTY,this._viewportChanges=ht.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,G.Z)(null),(0,he.Z)(0,Zt),(0,J.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(b){this.ngZone.runOutsideAngular(()=>{this._forOf=b,this._forOf.dataStream.pipe((0,J.Q)(this._detachedSubject)).subscribe(M=>{const X=M.length;X!==this._dataLength&&(this._dataLength=X,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(b){return this.getElementRef().nativeElement.getBoundingClientRect()[b]}setTotalContentSize(b){this._totalContentSize!==b&&(this._totalContentSize=b,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(b){(function Xt(ee,W){return ee.start==W.start&&ee.end==W.end})(this._renderedRange,b)||(this.appendOnly&&(b={start:0,end:Math.max(this._renderedRange.end,b.end)}),this._renderedRangeSubject.next(this._renderedRange=b),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(b,M="to-start"){b=this.appendOnly&&"to-start"===M?0:b;const ue="horizontal"==this.orientation,Ve=ue?"X":"Y";let ht=`translate${Ve}(${Number((ue&&this.dir&&"rtl"==this.dir.value?-1:1)*b)}px)`;this._renderedContentOffset=b,"to-end"===M&&(ht+=` translate${Ve}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=ht&&(this._renderedContentTransform=ht,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(b,M="auto"){const X={behavior:M};"horizontal"===this.orientation?X.start=b:X.top=b,this.scrollable.scrollTo(X)}scrollToIndex(b,M="auto"){this._scrollStrategy.scrollToIndex(b,M)}measureScrollOffset(b){let M;return M=this.scrollable==this?X=>super.measureScrollOffset(X):X=>this.scrollable.measureScrollOffset(X),Math.max(0,M(b??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(b){let M;const X="left",Ve="rtl"==this.dir?.value;M="start"==b?Ve?"right":X:"end"==b?Ve?X:"right":b||("horizontal"===this.orientation?"left":"top");const ot=this.scrollable.measureBoundingClientRectWithScrollOffset(M);return this.elementRef.nativeElement.getBoundingClientRect()[M]-ot}measureRenderedContentSize(){const b=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?b.offsetWidth:b.offsetHeight}measureRangeSize(b){return this._forOf?this._forOf.measureRangeSize(b,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(b){b&&this._runAfterChangeDetection.push(b),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const b=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const M of b)M()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(M){return new(M||ee)(f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(f.SKi),f.rXU(jt,8),f.rXU(oe.dS,8),f.rXU(se),f.rXU(Ke),f.rXU(vt,8))};static#t=this.\u0275cmp=f.VBU({type:ee,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(M,X){if(1&M&&f.GBs(dt,7),2&M){let ue;f.mGM(ue=f.lsd())&&(X._contentWrapper=ue.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(M,X){2&M&&f.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===X.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==X.orientation)},inputs:{orientation:"orientation",appendOnly:[f.Mj6.HasDecoratorInputTransform,"appendOnly","appendOnly",f.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[f.Jv_([{provide:re,useFactory:(b,M)=>b||M,deps:[[new f.Xx1,new f.y_5(vt)],ee]}]),f.GFd,f.Vt3,f.aNF],ngContentSelectors:xt,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(M,X){1&M&&(f.NAR(),f.j41(0,"div",1,0),f.SdG(2),f.k0s(),f.nrm(3,"div",2)),2&M&&(f.R7$(3),f.xc7("width",X._totalContentWidth)("height",X._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return ee})();function lt(ee,W,b){if(!b.getBoundingClientRect)return 0;const X=b.getBoundingClientRect();return"horizontal"===ee?"start"===W?X.left:X.right:"start"===W?X.top:X.bottom}let Ft=(()=>{class ee{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(b){this._cdkVirtualForOf=b,function Ye(ee){return ee&&"function"==typeof ee.connect&&!(ee instanceof nt.G)}(b)?this._dataSourceChanges.next(b):this._dataSourceChanges.next(new et((0,F.A)(b)?b:Array.from(b||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(b){this._needsUpdate=!0,this._cdkVirtualForTrackBy=b?(M,X)=>b(M+(this._renderedRange?this._renderedRange.start:0),X):void 0}set cdkVirtualForTemplate(b){b&&(this._needsUpdate=!0,this._template=b)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(b){this._viewRepeater.viewCacheSize=(0,t.OE)(b)}constructor(b,M,X,ue,Ve,ot){this._viewContainerRef=b,this._template=M,this._differs=X,this._viewRepeater=ue,this._viewport=Ve,this.viewChange=new m.B,this._dataSourceChanges=new m.B,this.dataStream=this._dataSourceChanges.pipe((0,G.Z)(null),function De(){return(0,ge.N)((ee,W)=>{let b,M=!1;ee.subscribe((0,Ce._)(W,X=>{const ue=b;b=X,M&&W.next([ue,X]),M=!0}))})}(),(0,Pe.n)(([ht,bt])=>this._changeDataSource(ht,bt)),function Te(ee,W,b){let M,X=!1;return ee&&"object"==typeof ee?({bufferSize:M=1/0,windowTime:W=1/0,refCount:X=!1,scheduler:b}=ee):M=ee??1/0,(0,ae.u)({connector:()=>new He.m(M,W,b),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:X})}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new m.B,this.dataStream.subscribe(ht=>{this._data=ht,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,J.Q)(this._destroyed)).subscribe(ht=>{this._renderedRange=ht,this.viewChange.observers.length&&ot.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(b,M){if(b.start>=b.end)return 0;const X=b.start-this._renderedRange.start,ue=b.end-b.start;let Ve,ot;for(let ht=0;ht<ue;ht++){const bt=this._viewContainerRef.get(ht+X);if(bt&&bt.rootNodes.length){Ve=ot=bt.rootNodes[0];break}}for(let ht=ue-1;ht>-1;ht--){const bt=this._viewContainerRef.get(ht+X);if(bt&&bt.rootNodes.length){ot=bt.rootNodes[bt.rootNodes.length-1];break}}return Ve&&ot?lt(M,"end",ot)-lt(M,"start",Ve):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const b=this._differ.diff(this._renderedItems);b?this._applyChanges(b):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((b,M)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(b,M):M)),this._needsUpdate=!0)}_changeDataSource(b,M){return b&&b.disconnect(this),this._needsUpdate=!0,M?M.connect(this):(0,C.of)()}_updateContext(){const b=this._data.length;let M=this._viewContainerRef.length;for(;M--;){const X=this._viewContainerRef.get(M);X.context.index=this._renderedRange.start+M,X.context.count=b,this._updateComputedContextProperties(X.context),X.detectChanges()}}_applyChanges(b){this._viewRepeater.applyChanges(b,this._viewContainerRef,(ue,Ve,ot)=>this._getEmbeddedViewArgs(ue,ot),ue=>ue.item),b.forEachIdentityChange(ue=>{this._viewContainerRef.get(ue.currentIndex).context.$implicit=ue.item});const M=this._data.length;let X=this._viewContainerRef.length;for(;X--;){const ue=this._viewContainerRef.get(X);ue.context.index=this._renderedRange.start+X,ue.context.count=M,this._updateComputedContextProperties(ue.context)}}_updateComputedContextProperties(b){b.first=0===b.index,b.last=b.index===b.count-1,b.even=b.index%2==0,b.odd=!b.even}_getEmbeddedViewArgs(b,M){return{templateRef:this._template,context:{$implicit:b.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:M}}static#e=this.\u0275fac=function(M){return new(M||ee)(f.rXU(f.c1b),f.rXU(f.C4Q),f.rXU(f._q3),f.rXU(Je),f.rXU(Wt,4),f.rXU(f.SKi))};static#t=this.\u0275dir=f.FsC({type:ee,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[f.Jv_([{provide:Je,useClass:pt}])]})}return ee})(),Z=(()=>{class ee{static#e=this.\u0275fac=function(M){return new(M||ee)};static#t=this.\u0275mod=f.$C({type:ee});static#n=this.\u0275inj=f.G2t({})}return ee})(),ye=(()=>{class ee{static#e=this.\u0275fac=function(M){return new(M||ee)};static#t=this.\u0275mod=f.$C({type:ee});static#n=this.\u0275inj=f.G2t({imports:[oe.jI,Z,oe.jI,Z]})}return ee})()},5013:(Lt,ct,v)=>{"use strict";v.d(ct,{By:()=>Xu,Ay:()=>Hl});var t=v(4438),f=v(177),m=v(4341),C=v(8927),Ee=v(2358),Ue=v(9247),Se=v(1875),ze=v(1011),fe=v(513),F=v(1635),ie=v(1413),he=v(5964),me=v(152),J=v(6977),G=v(317),ge=v(6969),Ce=v(713),De=v(6035),Pe=v(6841),He=v(7806),ae=v(5463),Te=v(5154),Y=v(8203);function be(h,w){if(1&h&&(t.qex(0),t.EFF(1),t.bVm()),2&h){const r=t.XpG(3);t.R7$(),t.JRh(r.nzTitle)}}function oe(h,w){if(1&h&&(t.j41(0,"div",7),t.DNE(1,be,2,1,"ng-container",9),t.k0s()),2&h){const r=t.XpG(2);t.R7$(),t.Y8G("nzStringTemplateOutlet",r.nzTitle)}}function nt(h,w){if(1&h&&(t.qex(0),t.EFF(1),t.bVm()),2&h){const r=t.XpG(2);t.R7$(),t.JRh(r.nzContent)}}function ke(h,w){if(1&h&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.nrm(3,"span",5),t.k0s(),t.j41(4,"div",6)(5,"div"),t.DNE(6,oe,2,1,"div",7),t.j41(7,"div",8),t.DNE(8,nt,2,1,"ng-container",9),t.k0s()()()()()),2&h){const r=t.XpG();t.AVh("ant-popover-rtl","rtl"===r.dir),t.Y8G("ngClass",r._classMap)("ngStyle",r.nzOverlayStyle)("@.disabled",!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("nzNoAnimation",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),t.R7$(6),t.vxM(6,r.nzTitle?6:-1),t.R7$(2),t.Y8G("nzStringTemplateOutlet",r.nzContent)}}let et=(()=>{class h extends Te.ME{getProxyPropertyMap(){return{nzPopoverBackdrop:["nzBackdrop",()=>this.nzPopoverBackdrop],...super.getProxyPropertyMap()}}constructor(r,d,p,S,te){super(r,d,p,S,te),this._nzModuleName="popover",this.trigger="hover",this.placement="top",this.nzPopoverBackdrop=!1,this.visibleChange=new t.bkB,this.componentRef=this.hostView.createComponent(Le)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.aKT),t.rXU(t.c1b),t.rXU(t.sFG),t.rXU(Pe.z,9),t.rXU(De.yx))};static#t=this.\u0275dir=t.FsC({type:h,selectors:[["","nz-popover",""]],hostVars:2,hostBindings:function(d,p){2&d&&t.AVh("ant-popover-open",p.visible)},inputs:{arrowPointAtCenter:[t.Mj6.None,"nzPopoverArrowPointAtCenter","arrowPointAtCenter"],title:[t.Mj6.None,"nzPopoverTitle","title"],content:[t.Mj6.None,"nzPopoverContent","content"],directiveTitle:[t.Mj6.None,"nz-popover","directiveTitle"],trigger:[t.Mj6.None,"nzPopoverTrigger","trigger"],placement:[t.Mj6.None,"nzPopoverPlacement","placement"],origin:[t.Mj6.None,"nzPopoverOrigin","origin"],visible:[t.Mj6.None,"nzPopoverVisible","visible"],mouseEnterDelay:[t.Mj6.None,"nzPopoverMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[t.Mj6.None,"nzPopoverMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[t.Mj6.None,"nzPopoverOverlayClassName","overlayClassName"],overlayStyle:[t.Mj6.None,"nzPopoverOverlayStyle","overlayStyle"],nzPopoverBackdrop:"nzPopoverBackdrop"},outputs:{visibleChange:"nzPopoverVisibleChange"},exportAs:["nzPopover"],standalone:!0,features:[t.Vt3]})}return(0,F.Cg)([(0,G.H3)()],h.prototype,"arrowPointAtCenter",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzPopoverBackdrop",void 0),h})(),Le=(()=>{class h extends Te.VJ{constructor(r,d,p){super(r,d,p),this._prefix="ant-popover"}get hasBackdrop(){return"click"===this.nzTrigger&&this.nzBackdrop}isEmpty(){return(0,Te.t)(this.nzTitle)&&(0,Te.t)(this.nzContent)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc),t.rXU(Y.dS,8),t.rXU(Pe.z,9))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-popover"]],exportAs:["nzPopoverComponent"],standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],[1,"ant-popover",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-arrow-content"],["role","tooltip",1,"ant-popover-inner"],[1,"ant-popover-title"],[1,"ant-popover-inner-content"],[4,"nzStringTemplateOutlet"]],template:function(d,p){if(1&d){const S=t.RV6();t.DNE(0,ke,9,9,"ng-template",1,0,t.C5r),t.bIt("overlayOutsideClick",function(Xe){return t.eBV(S),t.Njj(p.onClickOutside(Xe))})("detach",function(){return t.eBV(S),t.Njj(p.hide())})("positionChange",function(Xe){return t.eBV(S),t.Njj(p.onPositionChange(Xe))})}2&d&&t.Y8G("cdkConnectedOverlayHasBackdrop",p.hasBackdrop)("cdkConnectedOverlayOrigin",p.origin)("cdkConnectedOverlayPositions",p._positions)("cdkConnectedOverlayOpen",p._visible)("cdkConnectedOverlayPush",p.cdkConnectedOverlayPush)("nzArrowPointAtCenter",p.nzArrowPointAtCenter)},dependencies:[ge.z_,ge.WB,ae.$_,ae.vT,f.YU,f.B3,Pe.z,He.C,He.m],encapsulation:2,data:{animation:[Ce.uX]},changeDetection:0})}return h})();var We=v(4369),pt=v(2047),tt=v(1997);const $e=["*"],mt=["slider"],dt=["transform"];function xt(h,w){}function jt(h,w){if(1&h&&(t.qex(0),t.DNE(1,xt,0,0,"ng-template",7),t.bVm()),2&h){const r=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",r.panelRenderHeader)}}function Me(h,w){if(1&h){const r=t.RV6();t.qex(0),t.j41(1,"color-slider",8),t.bIt("nzOnChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.handleChange(p,"alpha"))})("nzOnChangeComplete",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.nzOnChangeComplete.emit(p))}),t.k0s(),t.bVm()}if(2&h){const r=t.XpG();t.R7$(),t.Y8G("color",r.colorValue)("value",r.toRgbString)("gradientColors",r.gradientColors)("disabled",r.disabled)}}function je(h,w){}function q(h,w){if(1&h&&(t.qex(0),t.DNE(1,je,0,0,"ng-template",7),t.bVm()),2&h){const r=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",r.panelRenderFooter)}}function B(h,w){1&h&&(t.j41(0,"div",8)(1,"nz-input-group",9),t.nrm(2,"input",10),t.k0s()())}function se(h,w){if(1&h&&(t.j41(0,"div",11)(1,"div",12),t.nrm(2,"nz-input-number",13),t.k0s(),t.j41(3,"div",12),t.nrm(4,"nz-input-number",14),t.k0s(),t.j41(5,"div",12),t.nrm(6,"nz-input-number",15),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.Y8G("nzMin",0)("nzMax",360)("nzStep",1)("nzPrecision",0),t.R7$(2),t.Y8G("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",r.formatterPercent)("nzParser",r.parserPercent),t.R7$(2),t.Y8G("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",r.formatterPercent)("nzParser",r.parserPercent)}}function re(h,w){1&h&&(t.j41(0,"div",16)(1,"div",17),t.nrm(2,"nz-input-number",18),t.k0s(),t.j41(3,"div",17),t.nrm(4,"nz-input-number",19),t.k0s(),t.j41(5,"div",17),t.nrm(6,"nz-input-number",20),t.k0s()()),2&h&&(t.R7$(2),t.Y8G("nzMin",0)("nzMax",255)("nzStep",1),t.R7$(2),t.Y8G("nzMin",0)("nzMax",255)("nzStep",1),t.R7$(2),t.Y8G("nzMin",0)("nzMax",255)("nzStep",1))}function Be(h,w){if(1&h&&(t.j41(0,"div",7),t.nrm(1,"nz-input-number",21),t.k0s()),2&h){const r=t.XpG();t.R7$(),t.Y8G("nzMin",0)("nzMax",100)("nzStep",1)("nzFormatter",r.formatterPercent)("nzParser",r.parserPercent)}}function Ke(h,w){if(1&h&&t.nrm(0,"nz-color-block",4),2&h){const r=t.XpG();t.Y8G("nzColor",r.blockColor)("nzSize",r.nzSize)}}function vt(h,w){}function Nt(h,w){if(1&h&&t.DNE(0,vt,0,0,"ng-template",6),2&h){const r=t.XpG();t.Y8G("ngTemplateOutlet",r.nzFlipFlop)}}function Xt(h,w){if(1&h&&(t.j41(0,"div",5),t.EFF(1),t.k0s()),2&h){const r=t.XpG();t.R7$(),t.SpI(" ",r.showText," ")}}function Zt(h,w){if(1&h){const r=t.RV6();t.j41(0,"ng-antd-color-picker",7),t.bIt("nzOnChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.colorChange(p))}),t.k0s()}if(2&h){const r=t.XpG(),d=t.sdS(7),p=t.sdS(9);t.Y8G("value",r.nzValue)("defaultValue",r.nzDefaultValue)("disabled",r.nzDisabled)("panelRenderHeader",d)("panelRenderFooter",p)("disabledAlpha",r.nzDisabledAlpha)}}function Wt(h,w){1&h&&t.eu8(0)}function lt(h,w){if(1&h&&t.DNE(0,Wt,1,0,"ng-container",12),2&h){const r=t.XpG(3);t.Y8G("ngTemplateOutlet",r.nzTitle)}}function Ft(h,w){if(1&h&&t.nrm(0,"span",10),2&h){const r=t.XpG(3);t.Y8G("innerHTML",r.nzTitle,t.npT)}}function _e(h,w){if(1&h){const r=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){t.eBV(r);const p=t.XpG(3);return t.Njj(p.clearColorHandle())}),t.k0s()}}function Ne(h,w){if(1&h&&(t.j41(0,"div",8)(1,"div",9),t.DNE(2,lt,1,1,"ng-container")(3,Ft,1,1,"span",10),t.k0s(),t.DNE(4,_e,1,0,"div",11),t.k0s()),2&h){const r=t.XpG(2);t.R7$(2),t.vxM(2,r.isNzTitleTemplateRef?2:-1),t.R7$(),t.vxM(3,r.isNzTitleNonEmptyString?3:-1),t.R7$(),t.vxM(4,r.nzAllowClear?4:-1)}}function Z(h,w){if(1&h&&t.DNE(0,Ne,5,3,"div",8),2&h){const r=t.XpG();t.vxM(0,r.nzTitle||r.nzAllowClear?0:-1)}}function ye(h,w){if(1&h){const r=t.RV6();t.j41(0,"nz-color-format",14),t.bIt("formatChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.formatChange(p))})("nzOnFormatChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.nzOnFormatChange.emit(p))}),t.k0s()}if(2&h){const r=t.XpG();t.Y8G("colorValue",r.blockColor)("clearColor",r.clearColor)("format",r.nzFormat)("nzDisabledAlpha",r.nzDisabledAlpha)}}const ee=h=>Math.round(Number(h||0));class b extends We.q{constructor(w){super((h=>{if(h&&"object"==typeof h&&"h"in h&&"b"in h){const{b:w,...r}=h;return{...r,v:w}}return"string"==typeof h&&/hsb/.test(h)?h.replace(/hsb/,"hsv"):h})(w))}toHsbString(){const w=this.toHsb(),r=ee(100*w.s),d=ee(100*w.b),p=ee(w.h),S=w.a,te=`hsb(${p}, ${r}%, ${d}%)`,Xe=`hsba(${p}, ${r}%, ${d}%, ${S.toFixed(0===S?0:2)})`;return 1===S?te:Xe}toHsb(){let w=this.toHsv();"object"==typeof this.originalInput&&this.originalInput&&"h"in this.originalInput&&(w=this.originalInput);const{v:r,...d}=w;return{...d,b:w.v}}}const M=h=>h instanceof b?h:new b(h),X=M("#1677ff");function ue(h,w,r,d,p){const{width:S,height:te}=w.getBoundingClientRect(),{width:Xe,height:Dt}=r.getBoundingClientRect(),on=Xe/2,hn=(h.x+on)/S,rn=1-(h.y+Dt/2)/te,xn=d?.toHsb()||{a:0,h:0,s:0,b:0},Bn=hn,Zn=(h.x+on)/S*360;if(p)switch(p){case"hue":return M({...xn,h:Zn<=0?0:Zn});case"alpha":return M({...xn,a:Bn<=0?0:Bn})}return M({h:xn.h,s:hn<=0?0:hn,b:rn>=1?1:rn,a:xn.a})}const Ve=(h,w,r,d)=>{const{width:p,height:S}=h.getBoundingClientRect(),{width:te,height:Xe}=w.getBoundingClientRect(),Dt=te/2,on=Xe/2,ln=r?.toHsb()||{a:0,h:0,s:0,b:0};if(0===te&&0===Xe||te!==Xe)return null;if(d)switch(d){case"hue":return{x:ln.h/360*p-Dt,y:-on/3};case"alpha":return{x:ln.a*p-Dt,y:-on/3}}return{x:ln.s*p-Dt,y:(1-ln.b)*S-on}};let ot=(()=>{class h{constructor(){this.color=X.toHsbString(),this.nzOnClick=new t.bkB}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["ng-antd-color-block"]],inputs:{color:"color"},outputs:{nzOnClick:"nzOnClick"},standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[[1,"ant-color-picker-color-block",3,"click"],[1,"ant-color-picker-color-block-inner"]],template:function(d,p){1&d&&(t.j41(0,"div",0),t.bIt("click",function(){return p.nzOnClick.emit(!0)}),t.nrm(1,"div",1),t.k0s()),2&d&&(t.R7$(),t.xc7("background-color",p.color))},encapsulation:2})}return h})(),ht=(()=>{class h{constructor(){this.color=null,this.size="default"}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["color-handler"]],inputs:{color:"color",size:"size"},standalone:!0,features:[t.aNF],decls:1,vars:4,consts:[[1,"ant-color-picker-handler"]],template:function(d,p){1&d&&t.nrm(0,"div",0),2&d&&(t.xc7("background-color",p.color),t.AVh("ant-color-picker-handler-sm","small"===p.size))},encapsulation:2})}return h})(),bt=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["color-palette"]],standalone:!0,features:[t.aNF],ngContentSelectors:$e,decls:2,vars:0,consts:[[1,"ant-color-picker-palette",2,"position","relative"]],template:function(d,p){1&d&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.k0s())},encapsulation:2})}return h})(),wt=(()=>{class h{toRgbString(){return this.color?.toRgbString()}toHsb(){return`hsl(${this.color?.toHsb().h},100%, 50%)`}constructor(r,d){this.cdr=r,this.document=d,this.color=null,this.nzOnChange=new t.bkB,this.nzOnChangeComplete=new t.bkB,this.disabled=!1,this.offsetValue={x:0,y:0},this.dragRef=!1,this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.updateOffset=(p,S="y")=>{const{pageX:te,pageY:Xe}=function Et(h){const w="touches"in h?h.touches[0]:h,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,d=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:w.pageX-r,pageY:w.pageY-d}}(p),{x:Dt,y:on,width:ln,height:hn}=this.containerRef?.nativeElement?.getBoundingClientRect()||{x:0,y:0,width:0,height:0},{width:rn,height:xn}=this.transformRef?.nativeElement?.getBoundingClientRect()||{width:0,height:0},Bn=rn/2,Zn=xn/2,$s=Math.max(0,Math.min(te-Dt,ln))-Bn,js=Math.max(0,Math.min(Xe-on,hn))-Zn,Gs={x:$s,y:"x"===S?this.offsetValue.y:js};0===rn&&0===xn||rn!==xn||(this.offsetValue=Gs,this.nzOnChange.emit(ue(Gs,this.containerRef.nativeElement,this.transformRef.nativeElement,this.color)),this.cdr.detectChanges())},this.onDragMove=p=>{p.preventDefault(),this.updateOffset(p)},this.onDragStop=p=>{p.preventDefault(),this.dragRef=!1,this.document.removeEventListener("mousemove",this.onDragMove),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.nzOnChangeComplete?.emit()},this.onDragStart=p=>{this.disabled||(this.updateOffset(p),this.dragRef=!0,this.document.addEventListener("mousemove",this.onDragMove),this.document.addEventListener("mouseup",this.onDragStop),this.document.addEventListener("touchmove",this.onDragMove),this.document.addEventListener("touchend",this.onDragStop),this.mouseMoveRef=this.onDragMove,this.mouseUpRef=this.onDragStop,this.cdr.markForCheck())}}ngOnInit(){this.document.removeEventListener("mousemove",this.mouseMoveRef),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null}ngOnChanges(r){const{color:d}=r;if(d&&!this.dragRef&&this.containerRef&&this.transformRef){const p=Ve(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color);p&&(this.offsetValue=p,this.cdr.detectChanges())}}ngAfterViewInit(){if(!this.dragRef&&this.containerRef&&this.transformRef){const r=Ve(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color);r&&(this.offsetValue=r,this.cdr.detectChanges())}}dragStartHandle(r){this.onDragStart(r)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc),t.rXU(f.qQ))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["color-picker"]],viewQuery:function(d,p){if(1&d&&(t.GBs(mt,5),t.GBs(dt,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.containerRef=S.first),t.mGM(S=t.lsd())&&(p.transformRef=S.first)}},inputs:{color:"color",disabled:"disabled"},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},standalone:!0,features:[t.OA$,t.aNF],decls:7,vars:7,consts:[["slider",""],["transform",""],[1,"ant-color-picker-select",3,"mousedown","touchstart"],[2,"position","absolute","z-index","1"],[3,"color"],[1,"ant-color-picker-saturation",2,"background-image","linear-gradient(0deg, #000, transparent),\n          linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"div",2,0),t.bIt("mousedown",function(Xe){return t.eBV(S),t.Njj(p.dragStartHandle(Xe))})("touchstart",function(Xe){return t.eBV(S),t.Njj(p.dragStartHandle(Xe))}),t.j41(2,"color-palette")(3,"div",3,1),t.nrm(5,"color-handler",4),t.k0s(),t.nrm(6,"div",5),t.k0s()()}2&d&&(t.R7$(3),t.xc7("left",p.offsetValue.x+"px")("top",p.offsetValue.y+"px"),t.R7$(2),t.Y8G("color",p.toRgbString()),t.R7$(),t.xc7("background-color",p.toHsb()))},dependencies:[ht,bt],encapsulation:2})}return h})(),Yt=(()=>{class h{constructor(){this.colors=[],this.direction="to right",this.type="hue",this.gradientColors=""}ngOnInit(){this.useMemo()}ngOnChanges(r){const{colors:d,type:p}=r;(d||p)&&this.useMemo()}useMemo(){this.gradientColors=this.colors.map((r,d)=>{const p=M(r);return"alpha"===this.type&&d===this.colors.length-1&&p.setAlpha(1),p.toRgbString()}).join(",")}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["color-gradient"]],inputs:{colors:"colors",direction:"direction",type:"type"},standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:$e,decls:2,vars:2,consts:[[1,"ant-color-picker-gradient",2,"position","absolute","inset","0"]],template:function(d,p){1&d&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.k0s()),2&d&&t.xc7("background","linear-gradient("+p.direction+", "+p.gradientColors+")")},encapsulation:2})}return h})(),Gt=(()=>{class h{constructor(r,d){this.cdr=r,this.document=d,this.gradientColors=[],this.direction="to right",this.type="hue",this.color=null,this.value=null,this.disabled=!1,this.nzOnChange=new t.bkB,this.nzOnChangeComplete=new t.bkB,this.offsetValue={x:0,y:0},this.dragRef=!1,this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.updateOffset=(p,S="x")=>{const{pageX:te,pageY:Xe}=function rt(h){const w="touches"in h?h.touches[0]:h,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,d=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:w.pageX-r,pageY:w.pageY-d}}(p),{x:Dt,y:on,width:ln,height:hn}=this.containerRef?.nativeElement?.getBoundingClientRect()||{x:0,y:0,width:0,height:0},{width:rn,height:xn}=this.transformRef?.nativeElement?.getBoundingClientRect()||{width:0,height:0},Bn=rn/2,Zn=xn/2,$s=Math.max(0,Math.min(te-Dt,ln))-Bn,js=Math.max(0,Math.min(Xe-on,hn))-Zn,Gs={x:$s,y:"x"===S?this.offsetValue.y:js};0===rn&&0===xn||rn!==xn||(this.offsetValue=Gs,this.nzOnChange.emit(ue(Gs,this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type)),this.cdr.detectChanges())},this.onDragMove=p=>{p.preventDefault(),this.updateOffset(p)},this.onDragStop=p=>{p.preventDefault(),this.dragRef=!1,this.document.removeEventListener("mousemove",this.onDragMove),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null,this.nzOnChangeComplete?.emit(this.type)},this.onDragStart=p=>{this.disabled||(this.updateOffset(p),this.dragRef=!0,this.document.addEventListener("mousemove",this.onDragMove),this.document.addEventListener("mouseup",this.onDragStop),this.document.addEventListener("touchmove",this.onDragMove),this.document.addEventListener("touchend",this.onDragStop),this.mouseMoveRef=this.onDragMove,this.mouseUpRef=this.onDragStop,this.cdr.markForCheck())}}ngOnInit(){this.document.removeEventListener("mousemove",this.mouseMoveRef),this.document.removeEventListener("mouseup",this.mouseUpRef),this.document.removeEventListener("touchmove",this.mouseMoveRef),this.document.removeEventListener("touchend",this.mouseUpRef),this.mouseMoveRef=()=>null,this.mouseUpRef=()=>null}ngOnChanges(r){const{color:d}=r;if(d&&!this.dragRef&&this.containerRef&&this.transformRef){const p=Ve(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type);p&&(this.offsetValue=p,this.cdr.detectChanges())}}ngAfterViewInit(){if(!this.dragRef&&this.containerRef&&this.transformRef){const r=Ve(this.containerRef.nativeElement,this.transformRef.nativeElement,this.color,this.type);r&&(this.offsetValue=r,this.cdr.detectChanges())}}dragStartHandle(r){this.onDragStart(r)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc),t.rXU(f.qQ))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["color-slider"]],viewQuery:function(d,p){if(1&d&&(t.GBs(mt,5),t.GBs(dt,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.containerRef=S.first),t.mGM(S=t.lsd())&&(p.transformRef=S.first)}},inputs:{gradientColors:"gradientColors",direction:"direction",type:"type",color:"color",value:"value",disabled:"disabled"},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},standalone:!0,features:[t.OA$,t.aNF],decls:7,vars:9,consts:[["slider",""],["transform",""],[1,"ant-color-picker-slider",3,"mousedown","touchstart","ngClass"],[2,"position","absolute","z-index","1"],["size","small",3,"color"],[3,"colors","direction","type"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"div",2,0),t.bIt("mousedown",function(Xe){return t.eBV(S),t.Njj(p.dragStartHandle(Xe))})("touchstart",function(Xe){return t.eBV(S),t.Njj(p.dragStartHandle(Xe))}),t.j41(2,"color-palette")(3,"div",3,1),t.nrm(5,"color-handler",4),t.k0s(),t.nrm(6,"color-gradient",5),t.k0s()()}2&d&&(t.Y8G("ngClass","ant-color-picker-slider-"+p.type),t.R7$(3),t.xc7("left",p.offsetValue.x+"px")("top",p.offsetValue.y+"px"),t.R7$(2),t.Y8G("color",p.value),t.R7$(),t.Y8G("colors",p.gradientColors)("direction",p.direction)("type",p.type))},dependencies:[bt,Yt,ht,f.YU],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return h})(),we=(()=>{class h{constructor(r){this.cdr=r,this.nzOnChange=new t.bkB,this.nzOnChangeComplete=new t.bkB,this.panelRenderHeader=null,this.panelRenderFooter=null,this.disabledAlpha=!1,this.disabled=!1,this.colorValue=null,this.alphaColor="",this.hueColor=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"],this.gradientColors=["rgba(255, 0, 4, 0) 0%",this.alphaColor],this.toRgbString=this.colorValue?.toRgbString()||""}ngOnInit(){this.setColorValue(this.value)}ngOnChanges(r){const{value:d,defaultValue:p}=r;(d||p)&&this.setColorValue(this.value)}hasValue(r){return!!r}setColorValue(r){let d;d=this.hasValue(r)?r:this.hasValue(this.defaultValue)?this.defaultValue:X,this.colorValue=M(d),this.setAlphaColor(this.colorValue),this.toRgbString=this.colorValue?.toRgbString()||"",this.cdr.detectChanges()}setAlphaColor(r){const d=M(r.toRgbString());this.alphaColor=d.toRgbString(),this.gradientColors=["rgba(255, 0, 4, 0) 0%",this.alphaColor],this.cdr.markForCheck()}handleChange(r,d){this.setColorValue(r),this.nzOnChange.emit({color:r,type:d})}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["ng-antd-color-picker"]],inputs:{value:"value",defaultValue:"defaultValue",panelRenderHeader:"panelRenderHeader",panelRenderFooter:"panelRenderFooter",disabledAlpha:"disabledAlpha",disabled:"disabled"},outputs:{nzOnChange:"nzOnChange",nzOnChangeComplete:"nzOnChangeComplete"},standalone:!0,features:[t.OA$,t.aNF],decls:9,vars:14,consts:[[1,"ant-color-picker-panel"],[4,"ngIf"],[3,"nzOnChange","nzOnChangeComplete","color","disabled"],[1,"ant-color-picker-slider-container"],[1,"ant-color-picker-slider-group"],[3,"nzOnChange","nzOnChangeComplete","color","value","gradientColors","disabled"],[3,"color"],[3,"ngTemplateOutlet"],["type","alpha",3,"nzOnChange","nzOnChangeComplete","color","value","gradientColors","disabled"]],template:function(d,p){if(1&d&&(t.j41(0,"div",0),t.DNE(1,jt,2,1,"ng-container",1),t.j41(2,"color-picker",2),t.bIt("nzOnChange",function(te){return p.handleChange(te)})("nzOnChangeComplete",function(te){return p.nzOnChangeComplete.emit(te)}),t.k0s(),t.j41(3,"div",3)(4,"div",4)(5,"color-slider",5),t.bIt("nzOnChange",function(te){return p.handleChange(te,"hue")})("nzOnChangeComplete",function(te){return p.nzOnChangeComplete.emit(te)}),t.k0s(),t.DNE(6,Me,2,4,"ng-container",1),t.k0s(),t.nrm(7,"ng-antd-color-block",6),t.k0s(),t.DNE(8,q,2,1,"ng-container",1),t.k0s()),2&d){let S;t.AVh("ant-color-picker-panel-disabled",p.disabled),t.R7$(),t.Y8G("ngIf",p.panelRenderHeader),t.R7$(),t.Y8G("color",p.colorValue)("disabled",p.disabled),t.R7$(2),t.AVh("ant-color-picker-slider-group-disabled-alpha",p.disabledAlpha),t.R7$(),t.Y8G("color",p.colorValue)("value","hsl("+(null==p.colorValue||null==(S=p.colorValue.toHsb())?null:S.h)+",100%, 50%)")("gradientColors",p.hueColor)("disabled",p.disabled),t.R7$(),t.Y8G("ngIf",!p.disabledAlpha),t.R7$(),t.Y8G("color",p.toRgbString),t.R7$(),t.Y8G("ngIf",p.panelRenderFooter)}},dependencies:[f.bT,wt,Gt,ot,f.T3],encapsulation:2})}return h})(),qe=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({})}return h})(),Ae=(()=>{class h{constructor(){this.nzColor=X.toHexString(),this.nzSize="default",this.nzOnClick=new t.bkB}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-color-block"]],hostAttrs:[1,"ant-color-picker-inline"],hostVars:4,hostBindings:function(d,p){2&d&&t.AVh("ant-color-picker-inline-sm","small"===p.nzSize)("ant-color-picker-inline-lg","large"===p.nzSize)},inputs:{nzColor:"nzColor",nzSize:"nzSize"},outputs:{nzOnClick:"nzOnClick"},exportAs:["NzColorBlock"],standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[3,"nzOnClick","color"]],template:function(d,p){1&d&&(t.j41(0,"ng-antd-color-block",0),t.bIt("nzOnClick",function(te){return p.nzOnClick.emit(te)}),t.k0s()),2&d&&t.Y8G("color",p.nzColor)},dependencies:[qe,ot],encapsulation:2,changeDetection:0})}return h})(),kt=(()=>{class h{validatorFn(){return r=>r.value&&/^[0-9a-fA-F]{6}$/.test(r.value)?null:{error:!0}}constructor(r){this.formBuilder=r,this.format=null,this.colorValue="",this.clearColor=!1,this.nzDisabledAlpha=!1,this.formatChange=new t.bkB,this.nzOnFormatChange=new t.bkB,this.destroy$=new ie.B,this.formatterPercent=d=>`${d} %`,this.parserPercent=d=>d.replace(" %",""),this.validateForm=this.formBuilder.nonNullable.group({isFormat:this.formBuilder.control("hex"),hex:this.formBuilder.control("1677FF",this.validatorFn()),hsbH:215,hsbS:91,hsbB:100,rgbR:22,rgbG:119,rgbB:255,roundA:100})}ngOnInit(){this.validateForm.valueChanges.pipe((0,he.p)(()=>this.validateForm.valid),(0,me.B)(200),(0,J.Q)(this.destroy$)).subscribe(r=>{let d="";switch(r.isFormat){case"hsb":d=M({h:Number(r.hsbH),s:Number(r.hsbS)/100,b:Number(r.hsbB)/100,a:Number(r.roundA)/100}).toHsbString();break;case"rgb":d=M({r:Number(r.rgbR),g:Number(r.rgbG),b:Number(r.rgbB),a:Number(r.roundA)/100}).toRgbString();break;default:const p=M(r.hex),S=M({r:p.r,g:p.g,b:p.b,a:Number(r.roundA)/100});d=S.getAlpha()<1?S.toHex8String():S.toHexString()}this.formatChange.emit({color:d,format:r.isFormat||this.format||"hex"})}),this.validateForm.get("isFormat")?.valueChanges.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.nzOnFormatChange.emit(r)})}ngOnChanges(r){const{colorValue:d,format:p,clearColor:S}=r;if(d){const te={hex:M(this.colorValue).toHex(),hsbH:Math.round(M(this.colorValue).toHsb().h),hsbS:Math.round(100*M(this.colorValue).toHsb().s),hsbB:Math.round(100*M(this.colorValue).toHsb().b),rgbR:Math.round(M(this.colorValue).r),rgbG:Math.round(M(this.colorValue).g),rgbB:Math.round(M(this.colorValue).b),roundA:Math.round(100*M(this.colorValue).roundA)};this.validateForm.patchValue(te)}p&&this.format&&this.validateForm.get("isFormat")?.patchValue(this.format),S&&this.clearColor&&this.validateForm.get("roundA")?.patchValue(0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(m.ok))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-color-format"]],inputs:{format:"format",colorValue:"colorValue",clearColor:"clearColor",nzDisabledAlpha:"nzDisabledAlpha"},outputs:{formatChange:"formatChange",nzOnFormatChange:"nzOnFormatChange"},exportAs:["NzColorFormat"],standalone:!0,features:[t.OA$,t.aNF],decls:11,vars:3,consts:[[1,"ant-color-picker-input-container",3,"formGroup"],[1,"ant-color-picker-format-select"],["formControlName","isFormat","nzBorderless","","nzSize","small"],["nzValue","hex","nzLabel","HEX"],["nzValue","hsb","nzLabel","HSB"],["nzValue","rgb","nzLabel","RGB"],[1,"ant-color-picker-input"],[1,"ant-color-picker-steppers","ant-color-picker-alpha-input"],[1,"ant-color-picker-hex-input"],["nzPrefix","#","nzSize","small"],["nz-input","","nzSize","small","formControlName","hex"],[1,"ant-color-picker-hsb-input"],[1,"ant-color-picker-steppers","ant-color-picker-hsb-input"],["formControlName","hsbH","nzSize","small",3,"nzMin","nzMax","nzStep","nzPrecision"],["formControlName","hsbS","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"],["formControlName","hsbB","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"],[1,"ant-color-picker-rgb-input"],[1,"ant-color-picker-steppers","ant-color-picker-rgb-input"],["formControlName","rgbR","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","rgbG","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","rgbB","nzSize","small",3,"nzMin","nzMax","nzStep"],["formControlName","roundA","nzSize","small",3,"nzMin","nzMax","nzStep","nzFormatter","nzParser"]],template:function(d,p){if(1&d&&(t.j41(0,"div",0)(1,"div",1)(2,"nz-select",2),t.nrm(3,"nz-option",3)(4,"nz-option",4)(5,"nz-option",5),t.k0s()(),t.j41(6,"div",6),t.DNE(7,B,3,0)(8,se,7,14)(9,re,7,9),t.k0s(),t.DNE(10,Be,2,5,"div",7),t.k0s()),2&d){let S;t.Y8G("formGroup",p.validateForm),t.R7$(7),t.vxM(7,"hex"===(S=p.validateForm.controls.isFormat.value)?7:"hsb"===S?8:9),t.R7$(3),t.vxM(10,p.nzDisabledAlpha?-1:10)}},dependencies:[m.X1,m.me,m.BC,m.cb,m.j4,m.JD,tt.DH,tt.ld,tt.WI,ze.Sy,ze.tg,pt.FG],encapsulation:2,changeDetection:0})}return(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDisabledAlpha",void 0),h})(),It=(()=>{class h{constructor(r,d){this.formBuilder=r,this.cdr=d,this.nzFormat=null,this.nzValue="",this.nzSize="default",this.nzDefaultValue="",this.nzTrigger="click",this.nzTitle="",this.nzFlipFlop=null,this.nzShowText=!1,this.nzOpen=!1,this.nzAllowClear=!1,this.nzDisabled=!1,this.nzDisabledAlpha=!1,this.nzOnChange=new t.bkB,this.nzOnFormatChange=new t.bkB,this.nzOnClear=new t.bkB,this.nzOnOpenChange=new t.bkB,this.isTemplateRef=G.my,this.isNonEmptyString=G.uI,this.destroy$=new ie.B,this.isNzDisableFirstChange=!0,this.blockColor="",this.clearColor=!1,this.showText=X.toHexString(),this.formControl=this.formBuilder.control(""),this.onChange=()=>{}}writeValue(r){this.nzValue=r,this.getBlockColor(),this.formControl.patchValue(r)}registerOnChange(r){this.onChange=r}registerOnTouched(){}setDisabledState(r){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||r,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}ngOnInit(){this.getBlockColor(),this.formControl.valueChanges.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{if(r){let d=r;"hex"===this.nzFormat?d=M(r).getAlpha()<1?M(r).toHex8String():M(r).toHexString():"hsb"===this.nzFormat?d=M(r).toHsbString():"rgb"===this.nzFormat&&(d=M(r).toRgbString()),this.showText=d,this.onChange(d),this.cdr.markForCheck()}})}ngOnChanges(r){const{nzValue:d,nzDefaultValue:p}=r;(d||p)&&this.getBlockColor()}clearColorHandle(){this.clearColor=!0,this.nzOnClear.emit(!0),this.cdr.markForCheck()}getBlockColor(){this.blockColor=this.nzValue?M(this.nzValue).toRgbString():this.nzDefaultValue?M(this.nzDefaultValue).toRgbString():X.toHexString()}colorChange(r){this.blockColor=r.color.getAlpha()<1?r.color.toHex8String():r.color.toHexString(),this.clearColor=!1,this.cdr.markForCheck()}formatChange(r){this.nzValue=r.color,this.clearColor=!1,this.getBlockColor(),this.nzOnChange.emit({color:M(r.color),format:r.format}),this.formControl.patchValue(r.color),this.cdr.markForCheck()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get isNzTitleNonEmptyString(){return(0,G.uI)(this.nzTitle)}get isNzTitleTemplateRef(){return(0,G.my)(this.nzTitle)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(m.ok),t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-color-picker"]],hostAttrs:[1,"ant-color-picker-inline"],hostVars:2,hostBindings:function(d,p){2&d&&t.AVh("ant-color-picker-disabled",p.nzDisabled)},inputs:{nzFormat:"nzFormat",nzValue:"nzValue",nzSize:"nzSize",nzDefaultValue:"nzDefaultValue",nzTrigger:"nzTrigger",nzTitle:"nzTitle",nzFlipFlop:"nzFlipFlop",nzShowText:"nzShowText",nzOpen:"nzOpen",nzAllowClear:"nzAllowClear",nzDisabled:"nzDisabled",nzDisabledAlpha:"nzDisabledAlpha"},outputs:{nzOnChange:"nzOnChange",nzOnFormatChange:"nzOnFormatChange",nzOnClear:"nzOnClear",nzOnOpenChange:"nzOnOpenChange"},exportAs:["NzColorPicker"],standalone:!0,features:[t.Jv_([{provide:m.kq,useExisting:(0,t.Rfq)(()=>h),multi:!0}]),t.OA$,t.aNF],decls:10,vars:11,consts:[["colorPicker",""],["nzPanelRenderHeader",""],["nzPanelRenderFooter",""],["nz-popover","",3,"nzPopoverVisibleChange","nzPopoverContent","nzPopoverTrigger","nzPopoverVisible"],[3,"nzColor","nzSize"],[1,"ant-color-picker-trigger-text"],[3,"ngTemplateOutlet"],[3,"nzOnChange","value","defaultValue","disabled","panelRenderHeader","panelRenderFooter","disabledAlpha"],[1,"ant-color-picker-title"],[1,"ant-color-picker-title-content"],[3,"innerHTML"],[1,"ant-color-picker-clear"],[4,"ngTemplateOutlet"],[1,"ant-color-picker-clear",3,"click"],[3,"formatChange","nzOnFormatChange","colorValue","clearColor","format","nzDisabledAlpha"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"div",3),t.bIt("nzPopoverVisibleChange",function(Xe){return t.eBV(S),t.Njj(p.nzOnOpenChange.emit(Xe))}),t.DNE(1,Ke,1,2,"nz-color-block",4)(2,Nt,1,1)(3,Xt,2,1,"div",5),t.k0s(),t.DNE(4,Zt,1,6,"ng-template",null,0,t.C5r)(6,Z,1,1,"ng-template",null,1,t.C5r)(8,ye,1,4,"ng-template",null,2,t.C5r)}if(2&d){const S=t.sdS(5);t.AVh("ant-color-picker-trigger",!p.nzFlipFlop)("ant-color-picker-sm","small"===p.nzSize)("ant-color-picker-lg","large"===p.nzSize),t.Y8G("nzPopoverContent",S)("nzPopoverTrigger",p.nzDisabled?null:p.nzTrigger)("nzPopoverVisible",p.nzOpen),t.R7$(),t.vxM(1,p.nzFlipFlop?2:1),t.R7$(2),t.vxM(3,p.nzShowText&&p.showText&&!p.nzFlipFlop?3:-1)}},dependencies:[qe,we,et,Ae,kt,f.T3],encapsulation:2,changeDetection:0})}return(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowText",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzOpen",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzAllowClear",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDisabledAlpha",void 0),h})(),Ot=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({imports:[It,kt]})}return h})();var At=v(4608),en=v(3341),wn=v(6389),kn=v(5930),Ge=v(7336),Fe=v(2771),ce=v(7786),xe=v(3726),st=v(7673),de=v(3294),j=v(3993),R=v(6354),k=v(7891),P=v(1025),D=v(5103),T=v(2764),I=v(1265),E=v(4500),ne=v(6860);const L=["hourListElement"],pe=["minuteListElement"],Ze=["secondListElement"],at=["use12HoursListElement"];function Ct(h,w){if(1&h&&(t.j41(0,"div",8)(1,"div",9),t.EFF(2),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.JRh(r.dateHelper.format(null==r.time?null:r.time.value,r.format)||"\xa0")}}function Ht(h,w){if(1&h){const r=t.RV6();t.j41(0,"li",13),t.bIt("click",function(){t.eBV(r);const p=t.XpG().$implicit,S=t.XpG(2);return t.Njj(S.selectHour(p))}),t.j41(1,"div",14),t.EFF(2),t.nI1(3,"number"),t.k0s()()}if(2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.AVh("ant-picker-time-panel-cell-selected",d.isSelectedHour(r))("ant-picker-time-panel-cell-disabled",r.disabled),t.R7$(2),t.JRh(t.i5U(3,5,r.index,"2.0-0"))}}function Kt(h,w){if(1&h&&(t.qex(0),t.DNE(1,Ht,4,8,"li",12),t.bVm()),2&h){const r=w.$implicit,d=t.XpG(2);t.R7$(),t.Y8G("ngIf",!(d.nzHideDisabledOptions&&r.disabled))}}function nn(h,w){if(1&h&&(t.j41(0,"ul",10,0),t.DNE(2,Kt,2,1,"ng-container",11),t.k0s()),2&h){const r=t.XpG();t.R7$(2),t.Y8G("ngForOf",r.hourRange)("ngForTrackBy",r.trackByFn)}}function un(h,w){if(1&h){const r=t.RV6();t.j41(0,"li",13),t.bIt("click",function(){t.eBV(r);const p=t.XpG().$implicit,S=t.XpG(2);return t.Njj(S.selectMinute(p))}),t.j41(1,"div",14),t.EFF(2),t.nI1(3,"number"),t.k0s()()}if(2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.AVh("ant-picker-time-panel-cell-selected",d.isSelectedMinute(r))("ant-picker-time-panel-cell-disabled",r.disabled),t.R7$(2),t.JRh(t.i5U(3,5,r.index,"2.0-0"))}}function yn(h,w){if(1&h&&(t.qex(0),t.DNE(1,un,4,8,"li",12),t.bVm()),2&h){const r=w.$implicit,d=t.XpG(2);t.R7$(),t.Y8G("ngIf",!(d.nzHideDisabledOptions&&r.disabled))}}function sn(h,w){if(1&h&&(t.j41(0,"ul",10,1),t.DNE(2,yn,2,1,"ng-container",11),t.k0s()),2&h){const r=t.XpG();t.R7$(2),t.Y8G("ngForOf",r.minuteRange)("ngForTrackBy",r.trackByFn)}}function pn(h,w){if(1&h){const r=t.RV6();t.j41(0,"li",13),t.bIt("click",function(){t.eBV(r);const p=t.XpG().$implicit,S=t.XpG(2);return t.Njj(S.selectSecond(p))}),t.j41(1,"div",14),t.EFF(2),t.nI1(3,"number"),t.k0s()()}if(2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.AVh("ant-picker-time-panel-cell-selected",d.isSelectedSecond(r))("ant-picker-time-panel-cell-disabled",r.disabled),t.R7$(2),t.JRh(t.i5U(3,5,r.index,"2.0-0"))}}function Ki(h,w){if(1&h&&(t.qex(0),t.DNE(1,pn,4,8,"li",12),t.bVm()),2&h){const r=w.$implicit,d=t.XpG(2);t.R7$(),t.Y8G("ngIf",!(d.nzHideDisabledOptions&&r.disabled))}}function Qi(h,w){if(1&h&&(t.j41(0,"ul",10,2),t.DNE(2,Ki,2,1,"ng-container",11),t.k0s()),2&h){const r=t.XpG();t.R7$(2),t.Y8G("ngForOf",r.secondRange)("ngForTrackBy",r.trackByFn)}}function Zi(h,w){if(1&h){const r=t.RV6();t.qex(0),t.j41(1,"li",13),t.bIt("click",function(){const p=t.eBV(r).$implicit,S=t.XpG(2);return t.Njj(S.select12Hours(p))}),t.j41(2,"div",14),t.EFF(3),t.k0s()(),t.bVm()}if(2&h){const r=w.$implicit,d=t.XpG(2);t.R7$(),t.AVh("ant-picker-time-panel-cell-selected",d.isSelected12Hours(r)),t.R7$(2),t.JRh(r.value)}}function Ji(h,w){if(1&h&&(t.j41(0,"ul",10,3),t.DNE(2,Zi,4,3,"ng-container",15),t.k0s()),2&h){const r=t.XpG();t.R7$(2),t.Y8G("ngForOf",r.use12HoursRange)}}function qi(h,w){}function es(h,w){if(1&h&&(t.j41(0,"div",23),t.DNE(1,qi,0,0,"ng-template",24),t.k0s()),2&h){const r=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",r.nzAddOn)}}function ts(h,w){if(1&h){const r=t.RV6();t.j41(0,"div",16),t.DNE(1,es,2,1,"div",17),t.j41(2,"ul",18)(3,"li",19)(4,"a",20),t.bIt("click",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.onClickNow())}),t.EFF(5),t.nI1(6,"nzI18n"),t.k0s()(),t.j41(7,"li",21)(8,"button",22),t.bIt("click",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.onClickOk())}),t.EFF(9),t.nI1(10,"nzI18n"),t.k0s()()()()}if(2&h){const r=t.XpG();t.R7$(),t.Y8G("ngIf",r.nzAddOn),t.R7$(4),t.SpI(" ",r.nzNowText||t.bMT(6,3,"Calendar.lang.now")," "),t.R7$(4),t.SpI(" ",r.nzOkText||t.bMT(10,5,"Calendar.lang.ok")," ")}}const ns=["inputElement"];function Ii(h,w){if(1&h&&(t.qex(0),t.nrm(1,"span",8),t.bVm()),2&h){const r=w.$implicit;t.R7$(),t.Y8G("nzType",r)}}function Si(h,w){if(1&h&&t.nrm(0,"nz-form-item-feedback-icon",9),2&h){const r=t.XpG();t.Y8G("status",r.status)}}function si(h,w){if(1&h){const r=t.RV6();t.j41(0,"span",10),t.bIt("click",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onClickClearBtn(p))}),t.nrm(1,"span",11),t.k0s()}if(2&h){const r=t.XpG();t.R7$(),t.BMQ("aria-label",r.nzClearText)("title",r.nzClearText)}}function Ti(h,w){if(1&h){const r=t.RV6();t.j41(0,"div",12)(1,"div",13)(2,"div",14)(3,"nz-time-picker-panel",15),t.nI1(4,"async"),t.mxI("ngModelChange",function(p){t.eBV(r);const S=t.XpG();return t.DH7(S.value,p)||(S.value=p),t.Njj(p)}),t.bIt("ngModelChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onPanelValueChange(p))})("closePanel",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.closePanel())}),t.k0s()()()()}if(2&h){const r=t.XpG();t.Y8G("@slideMotion","enter"),t.R7$(3),t.Y8G("ngClass",r.nzPopupClassName)("format",r.nzFormat)("nzHourStep",r.nzHourStep)("nzMinuteStep",r.nzMinuteStep)("nzSecondStep",r.nzSecondStep)("nzDisabledHours",r.nzDisabledHours)("nzDisabledMinutes",r.nzDisabledMinutes)("nzDisabledSeconds",r.nzDisabledSeconds)("nzPlaceHolder",r.nzPlaceHolder||t.bMT(4,19,r.i18nPlaceHolder$))("nzHideDisabledOptions",r.nzHideDisabledOptions)("nzUse12Hours",r.nzUse12Hours)("nzDefaultOpenValue",r.nzDefaultOpenValue)("nzAddOn",r.nzAddOn)("nzClearText",r.nzClearText)("nzNowText",r.nzNowText)("nzOkText",r.nzOkText)("nzAllowEmpty",r.nzAllowEmpty),t.R50("ngModel",r.value)}}class ei{setMinutes(w,r){return r||(this.initValue(),this.value.setMinutes(w),this.update()),this}setHours(w,r){return r||(this.initValue(),this.value.setHours(this._use12Hours?"PM"===this.selected12Hours&&12!==w?w+12:"AM"===this.selected12Hours&&12===w?0:w:w),this.update()),this}setSeconds(w,r){return r||(this.initValue(),this.value.setSeconds(w),this.update()),this}setUse12Hours(w){return this._use12Hours=w,this}get changes(){return this._changes.asObservable()}setValue(w,r){return(0,G.n9)(r)&&(this._use12Hours=r),w!==this.value&&(this._value=w,(0,G.n9)(this.value)?this._use12Hours&&(0,G.n9)(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){(0,G.gD)(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!((0,G.n9)(this.hours)||(0,G.n9)(this.minutes)||(0,G.n9)(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:((0,G.n9)(this.hours)&&this.value.setHours(this.hours),(0,G.n9)(this.minutes)&&this.value.setMinutes(this.minutes),(0,G.n9)(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&("PM"===this.selected12Hours&&this.hours<12&&this.value.setHours(this.hours+12),"AM"===this.selected12Hours&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&(0,G.n9)(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(w){w.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=w.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(w){return this._defaultOpenValue=w,this}constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new ie.B}calculateViewHour(w){const r=this.selected12Hours;return"PM"===r&&w>12?w-12:"AM"===r&&0===w?12:w}}function Ai(h,w=1,r=0){return new Array(Math.ceil(h/w)).fill(0).map((d,p)=>(p+r)*w)}let oi=(()=>{class h{set nzAllowEmpty(r){(0,G.n9)(r)&&(this._allowEmpty=r)}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(r){this._disabledHours=r,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(r){(0,G.n9)(r)&&(this._disabledMinutes=r,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(r){(0,G.n9)(r)&&(this._disabledSeconds=r,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(r){if((0,G.n9)(r)){this._format=r,this.enabledColumns=0;const d=new Set(r);this.hourEnabled=d.has("H")||d.has("h"),this.minuteEnabled=d.has("m"),this.secondEnabled=d.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(r){(0,G.n9)(r)&&(this._nzHourStep=r,this.buildHours())}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(r){(0,G.n9)(r)&&(this._nzMinuteStep=r,this.buildMinutes())}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(r){(0,G.n9)(r)&&(this._nzSecondStep=r,this.buildSeconds())}get nzSecondStep(){return this._nzSecondStep}trackByFn(r){return r}buildHours(){let r=24,d=this.nzDisabledHours?.(),p=0;if(this.nzUse12Hours&&(r=12,d&&(d="PM"===this.time.selected12Hours?d.filter(S=>S>=12).map(S=>S>12?S-12:S):d.filter(S=>S<12||24===S).map(S=>24===S||0===S?12:S)),p=1),this.hourRange=Ai(r,this.nzHourStep,p).map(S=>({index:S,disabled:!!d&&-1!==d.indexOf(S)})),this.nzUse12Hours&&12===this.hourRange[this.hourRange.length-1].index){const S=[...this.hourRange];S.unshift(S[S.length-1]),S.splice(S.length-1,1),this.hourRange=S}}buildMinutes(){this.minuteRange=Ai(60,this.nzMinuteStep).map(r=>({index:r,disabled:!!this.nzDisabledMinutes&&-1!==this.nzDisabledMinutes(this.time.hours).indexOf(r)}))}buildSeconds(){this.secondRange=Ai(60,this.nzSecondStep).map(r=>({index:r,disabled:!!this.nzDisabledSeconds&&-1!==this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(r)}))}build12Hours(){const r=this._format.includes("A");this.use12HoursRange=[{index:0,value:r?"AM":"am"},{index:1,value:r?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(r=0){this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,r,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,r,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,r,"second"),this.nzUse12Hours&&this.use12HoursListElement&&this.scrollToSelected(this.use12HoursListElement.nativeElement,"AM"===this.time.selected12Hours?0:1,r,"12-hour")}selectHour(r){this.time.setHours(r.index,r.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(r){this.time.setMinutes(r.index,r.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(r){this.time.setSeconds(r.index,r.disabled)}select12Hours(r){this.time.setSelected12Hours(r.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(r,d,p=0,S){if(!r)return;const te=this.translateIndex(d,S);this.scrollTo(r,(r.children[te]||r.children[0]).offsetTop,p)}translateIndex(r,d){return"hour"===d?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(p=>p.index).indexOf(r)):"minute"===d?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(p=>p.index).indexOf(r)):"second"===d?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(p=>p.index).indexOf(r)):this.calcIndex([],this.use12HoursRange.map(p=>p.index).indexOf(r))}scrollTo(r,d,p){if(p<=0)return void(r.scrollTop=d);const te=(d-r.scrollTop)/p*10;this.ngZone.runOutsideAngular(()=>{(0,E.j)(()=>{r.scrollTop=r.scrollTop+te,r.scrollTop!==d&&this.scrollTo(r,d,p-10)})})}calcIndex(r,d){return r?.length&&this.nzHideDisabledOptions?d-r.reduce((p,S)=>p+(S<d?1:0),0):d}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(r){const d=r.getHours(),p=r.getMinutes(),S=r.getSeconds();return(this.nzDisabledHours?.().indexOf(d)??-1)>-1||(this.nzDisabledMinutes?.(d).indexOf(p)??-1)>-1||(this.nzDisabledSeconds?.(d,p).indexOf(S)??-1)>-1}onClickNow(){const r=new Date;this.timeDisabled(r)||(this.time.setValue(r),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(r){return r.index===this.time.viewHours}isSelectedMinute(r){return r.index===this.time.minutes}isSelectedSecond(r){return r.index===this.time.seconds}isSelected12Hours(r){return r.value.toUpperCase()===this.time.selected12Hours}constructor(r,d,p,S){this.ngZone=r,this.cdr=d,this.dateHelper=p,this.elementRef=S,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new ie.B,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new ei,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new t.bkB}ngOnInit(){this.time.changes.pipe((0,J.Q)(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),(0,xe.R)(this.elementRef.nativeElement,"mousedown").pipe((0,J.Q)(this.unsubscribe$)).subscribe(r=>{r.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(r){const{nzUse12Hours:d,nzDefaultOpenValue:p}=r;!d?.previousValue&&d?.currentValue&&(this.build12Hours(),this.enabledColumns++),p?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(r){this.time.setValue(r,this.nzUse12Hours),this.buildTimes(),r&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouch=r}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(en.cr),t.rXU(t.aKT))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-time-picker-panel"]],viewQuery:function(d,p){if(1&d&&(t.GBs(L,5),t.GBs(pe,5),t.GBs(Ze,5),t.GBs(at,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.hourListElement=S.first),t.mGM(S=t.lsd())&&(p.minuteListElement=S.first),t.mGM(S=t.lsd())&&(p.secondListElement=S.first),t.mGM(S=t.lsd())&&(p.use12HoursListElement=S.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(d,p){2&d&&t.AVh("ant-picker-time-panel-column-0",0===p.enabledColumns&&!p.nzInDatePicker)("ant-picker-time-panel-column-1",1===p.enabledColumns&&!p.nzInDatePicker)("ant-picker-time-panel-column-2",2===p.enabledColumns&&!p.nzInDatePicker)("ant-picker-time-panel-column-3",3===p.enabledColumns&&!p.nzInDatePicker)("ant-picker-time-panel-narrow",p.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!p.nzInDatePicker)},inputs:{nzInDatePicker:"nzInDatePicker",nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:"nzUse12Hours",nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],standalone:!0,features:[t.Jv_([{provide:m.kq,useExisting:h,multi:!0}]),t.OA$,t.aNF],decls:7,vars:6,consts:[["hourListElement",""],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],[4,"ngFor","ngForOf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(d,p){1&d&&(t.DNE(0,Ct,3,1,"div",4),t.j41(1,"div",5),t.DNE(2,nn,3,2,"ul",6)(3,sn,3,2,"ul",6)(4,Qi,3,2,"ul",6)(5,Ji,3,1,"ul",6),t.k0s(),t.DNE(6,ts,11,7,"div",7)),2&d&&(t.Y8G("ngIf",p.nzInDatePicker),t.R7$(2),t.Y8G("ngIf",p.hourEnabled),t.R7$(),t.Y8G("ngIf",p.minuteEnabled),t.R7$(),t.Y8G("ngIf",p.secondEnabled),t.R7$(),t.Y8G("ngIf",p.nzUse12Hours),t.R7$(),t.Y8G("ngIf",!p.nzInDatePicker))},dependencies:[f.bT,f.Sq,f.QX,f.T3,en.bP,en.Vc,fe.Zw,fe.aO,wn.c,kn.p],encapsulation:2,changeDetection:0})}return(0,F.Cg)([(0,G.H3)()],h.prototype,"nzUse12Hours",void 0),h})(),io=(()=>{class h{emitValue(r){this.setValue(r,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(r,d=!1){d&&(this.preValue=(0,T.A)(r)?new Date(r):null),this.value=(0,T.A)(r)?new Date(r):null,this.inputValue=this.dateHelper.format(r,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(r){r.stopPropagation(),this.emitValue(null)}onClickOutside(r){this.element.nativeElement.contains(r.target)||this.setCurrentValueAndClose()}onFocus(r){this.focused=r,r||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&(0,T.A)(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(r){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(r))}onPanelValueChange(r){this.setValue(r),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(r,d,p,S,te,Xe,Dt,on,ln,hn){this.nzConfigService=r,this.i18n=d,this.element=p,this.renderer=S,this.cdr=te,this.dateHelper=Xe,this.platform=Dt,this.directionality=on,this.nzFormStatusService=ln,this.nzFormNoStatusService=hn,this._nzModuleName="timePicker",this.destroy$=new ie.B,this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=(0,st.of)(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new t.bkB,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,de.F)((r,d)=>r.status===d.status&&r.hasFeedback===d.hasFeedback),(0,j.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,st.of)(!1)),(0,R.T)(([{status:r,hasFeedback:d},p])=>({status:p?"":r,hasFeedback:d})),(0,J.Q)(this.destroy$)).subscribe(({status:r,hasFeedback:d})=>{this.setStatusStyles(r,d)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new ge.$Q(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe((0,R.T)(r=>r.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.dir=r})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(r){const{nzUse12Hours:d,nzFormat:p,nzDisabled:S,nzAutoFocus:te,nzStatus:Xe}=r;if(d&&!d.previousValue&&d.currentValue&&!p&&(this.nzFormat="h:mm:ss a"),S){const on=this.inputRef.nativeElement;S.currentValue?this.renderer.setAttribute(on,"disabled",""):this.renderer.removeAttribute(on,"disabled")}te&&this.updateAutoFocus(),Xe&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(r){const d=this.dateHelper.parseTime(r,this.nzFormat)||null;(0,T.A)(d)&&(this.value=d,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(r){let d;r instanceof Date?d=r:(0,G.gD)(r)?d=null:((0,I.R8)('Non-Date type is not recommended for time-picker, use "Date" type.'),d=new Date(r)),this.setValue(d,!0)}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||r,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(r){if(!r)return!0;const d=this.nzDisabledHours?.(),p=this.nzDisabledMinutes?.(r.getHours()),S=this.nzDisabledSeconds?.(r.getHours(),r.getMinutes());return!(d?.includes(r.getHours())||p?.includes(r.getMinutes())||S?.includes(r.getSeconds()))}setStatusStyles(r,d){this.status=r,this.hasFeedback=d,this.cdr.markForCheck(),this.statusCls=(0,G.LP)(this.prefixCls,r,d),Object.keys(this.statusCls).forEach(p=>{this.statusCls[p]?this.renderer.addClass(this.element.nativeElement,p):this.renderer.removeClass(this.element.nativeElement,p)})}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(De.yx),t.rXU(en.Og),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(en.cr),t.rXU(ne.OD),t.rXU(Y.dS,8),t.rXU(k.is,8),t.rXU(k.n1,8))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-time-picker"]],viewQuery:function(d,p){if(1&d&&t.GBs(ns,7),2&d){let S;t.mGM(S=t.lsd())&&(p.inputRef=S.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(d,p){1&d&&t.bIt("click",function(){return p.open()}),2&d&&t.AVh("ant-picker-large","large"===p.nzSize)("ant-picker-small","small"===p.nzSize)("ant-picker-disabled",p.nzDisabled)("ant-picker-focused",p.focused)("ant-picker-rtl","rtl"===p.dir)("ant-picker-borderless",p.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:"nzUse12Hours",nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:"nzHideDisabledOptions",nzAllowEmpty:"nzAllowEmpty",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzBackdrop:"nzBackdrop",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],standalone:!0,features:[t.Jv_([{provide:m.kq,useExisting:h,multi:!0}]),t.OA$,t.aNF],decls:9,vars:16,consts:[["inputElement",""],[1,"ant-picker-input"],["type","text","autocomplete","off",3,"ngModelChange","focus","blur","keyup.enter","keyup.escape","size","placeholder","ngModel","disabled","readOnly"],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status",4,"ngIf"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"detach","overlayOutsideClick","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-icon","",3,"nzType"],[3,"status"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngModelChange","closePanel","ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"div",1)(1,"input",2,0),t.nI1(3,"async"),t.mxI("ngModelChange",function(Xe){return t.eBV(S),t.DH7(p.inputValue,Xe)||(p.inputValue=Xe),t.Njj(Xe)}),t.bIt("focus",function(){return t.eBV(S),t.Njj(p.onFocus(!0))})("blur",function(){return t.eBV(S),t.Njj(p.onFocus(!1))})("keyup.enter",function(){return t.eBV(S),t.Njj(p.onKeyupEnter())})("keyup.escape",function(){return t.eBV(S),t.Njj(p.onKeyupEsc())})("ngModelChange",function(Xe){return t.eBV(S),t.Njj(p.onInputChange(Xe))}),t.k0s(),t.j41(4,"span",3),t.DNE(5,Ii,2,1,"ng-container",4)(6,Si,1,1,"nz-form-item-feedback-icon",5),t.k0s(),t.DNE(7,si,2,2,"span",6),t.k0s(),t.DNE(8,Ti,5,21,"ng-template",7),t.bIt("detach",function(){return t.eBV(S),t.Njj(p.close())})("overlayOutsideClick",function(Xe){return t.eBV(S),t.Njj(p.onClickOutside(Xe))})}2&d&&(t.R7$(),t.Y8G("size",p.inputSize)("placeholder",p.nzPlaceHolder||t.bMT(3,14,p.i18nPlaceHolder$)),t.R50("ngModel",p.inputValue),t.Y8G("disabled",p.nzDisabled)("readOnly",p.nzInputReadOnly),t.BMQ("id",p.nzId),t.R7$(4),t.Y8G("nzStringTemplateOutlet",p.nzSuffixIcon),t.R7$(),t.Y8G("ngIf",p.hasFeedback&&!!p.status),t.R7$(),t.Y8G("ngIf",p.nzAllowEmpty&&!p.nzDisabled&&p.value),t.R7$(),t.Y8G("cdkConnectedOverlayHasBackdrop",p.nzBackdrop)("cdkConnectedOverlayPositions",p.overlayPositions)("cdkConnectedOverlayOrigin",p.origin)("cdkConnectedOverlayOpen",p.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[f.Jj,m.YN,m.me,m.BC,m.vS,He.C,He.m,D.Y3,D.Dn,k.J1,k.Xd,f.bT,oi,f.YU,ae.$_,ae.vT,ge.z_,ge.WB],encapsulation:2,data:{animation:[Ce.U1]},changeDetection:0})}return(0,F.Cg)([(0,De.H4)()],h.prototype,"nzHourStep",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzMinuteStep",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzSecondStep",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzClearText",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzNowText",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzOkText",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzPopupClassName",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzFormat",void 0),(0,F.Cg)([(0,De.H4)(),(0,G.H3)()],h.prototype,"nzUse12Hours",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzSuffixIcon",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzHideDisabledOptions",void 0),(0,F.Cg)([(0,De.H4)(),(0,G.H3)()],h.prototype,"nzAllowEmpty",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzAutoFocus",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzBackdrop",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzBorderless",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzInputReadOnly",void 0),h})(),hr=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({imports:[io,oi]})}return h})();var dr=v(5979);function ur(h,w){1&h&&t.eu8(0)}function pr(h,w){if(1&h&&t.DNE(0,ur,1,0,"ng-container",3),2&h){const r=t.XpG(2);t.Y8G("ngTemplateOutlet",r.extraFooter)}}function fr(h,w){if(1&h&&t.nrm(0,"span",2),2&h){const r=t.XpG(2);t.Y8G("innerHTML",r.extraFooter,t.npT)}}function gr(h,w){if(1&h&&(t.j41(0,"div"),t.DNE(1,pr,1,1,"ng-container")(2,fr,1,1,"span",2),t.k0s()),2&h){const r=t.XpG();t.ZvI("",r.prefixCls,"-footer-extra"),t.R7$(),t.vxM(1,r.isExtraFooterTemplateRef?1:-1),t.R7$(),t.vxM(2,r.isExtraFooterNonEmptyString?2:-1)}}function mr(h,w){if(1&h){const r=t.RV6();t.j41(0,"a",4),t.bIt("click",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.isTodayDisabled?null:p.onClickToday())}),t.EFF(1),t.k0s()}if(2&h){const r=t.XpG();t.STu("",r.prefixCls,"-today-btn ",r.isTodayDisabled?r.prefixCls+"-today-btn-disabled":"",""),t.FS9("title",r.todayTitle),t.R7$(),t.SpI(" ",r.locale.today," ")}}function _r(h,w){1&h&&t.eu8(0)}function vr(h,w){if(1&h){const r=t.RV6();t.j41(0,"li")(1,"a",5),t.bIt("click",function(){t.eBV(r);const p=t.XpG(2);return t.Njj(p.isTodayDisabled?null:p.onClickToday())}),t.EFF(2),t.k0s()()}if(2&h){const r=t.XpG(2);t.ZvI("",r.prefixCls,"-now"),t.R7$(),t.ZvI("",r.prefixCls,"-now-btn"),t.R7$(),t.SpI(" ",r.locale.now," ")}}function Cr(h,w){if(1&h){const r=t.RV6();t.j41(0,"li")(1,"button",6),t.bIt("click",function(){t.eBV(r);const p=t.XpG(2);return t.Njj(p.okDisabled?null:p.clickOk.emit())}),t.EFF(2),t.k0s()()}if(2&h){const r=t.XpG(2);t.ZvI("",r.prefixCls,"-ok"),t.R7$(),t.Y8G("disabled",r.okDisabled),t.R7$(),t.SpI(" ",r.locale.ok," ")}}function yr(h,w){if(1&h&&(t.j41(0,"ul"),t.DNE(1,_r,1,0,"ng-container",3)(2,vr,3,7,"li",0)(3,Cr,3,5,"li",0),t.k0s()),2&h){const r=t.XpG();t.ZvI("",r.prefixCls,"-ranges"),t.R7$(),t.Y8G("ngTemplateOutlet",r.rangeQuickSelector),t.R7$(),t.vxM(2,r.showNow?2:-1),t.R7$(),t.vxM(3,r.hasTimePicker?3:-1)}}function zr(h,w){if(1&h){const r=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onClick())}),t.EFF(1),t.k0s()}if(2&h){const r=w.$implicit;t.HbH(r.className),t.FS9("title",r.title||null),t.R7$(),t.SpI(" ",r.label," ")}}const ci=(h,w)=>w.trackByIndex,Qn=h=>({$implicit:h});function xi(h,w){1&h&&t.nrm(0,"th",3)}function so(h,w){if(1&h&&(t.j41(0,"th",4),t.EFF(1),t.k0s()),2&h){const r=w.$implicit;t.FS9("title",r.title),t.R7$(),t.SpI(" ",r.content," ")}}function br(h,w){if(1&h&&(t.j41(0,"thead")(1,"tr",2),t.DNE(2,xi,1,0,"th",3),t.Z7z(3,so,2,2,"th",4,t.fX1),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.vxM(2,r.showWeek?2:-1),t.R7$(),t.Dyx(r.headRow)}}function Sr(h,w){if(1&h&&(t.j41(0,"td",7),t.EFF(1),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG();t.ZvI("",d.prefixCls,"-cell-week"),t.R7$(),t.SpI(" ",r.weekNum," ")}}function Tr(h,w){1&h&&t.eu8(0)}function Oi(h,w){if(1&h&&t.DNE(0,Tr,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function xr(h,w){if(1&h&&t.nrm(0,"span",10),2&h){const r=t.XpG(2).$implicit;t.Y8G("innerHTML",r.cellRender,t.npT)}}function is(h,w){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-cell-inner"),t.BMQ("aria-selected",r.isSelected)("aria-disabled",r.isDisabled),t.R7$(),t.SpI(" ",r.content," ")}}function Or(h,w){if(1&h&&t.DNE(0,Oi,1,4,"ng-container")(1,xr,1,1)(2,is,2,6),2&h){const r=t.XpG().$implicit;t.vxM(0,r.isTemplateRef?0:r.isNonEmptyString?1:2)}}function Dr(h,w){1&h&&t.eu8(0)}function wr(h,w){if(1&h&&t.DNE(0,Dr,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.fullCellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function Mr(h,w){1&h&&t.eu8(0)}function Er(h,w){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s(),t.j41(2,"div"),t.DNE(3,Mr,1,0,"ng-container",9),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date-value"),t.R7$(),t.JRh(r.content),t.R7$(),t.ZvI("",d.prefixCls,"-date-content"),t.R7$(),t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(9,Qn,r.value))}}function Pr(h,w){if(1&h&&(t.j41(0,"div"),t.DNE(1,wr,1,4,"ng-container")(2,Er,4,11),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date ant-picker-cell-inner"),t.AVh("ant-picker-calendar-date-today",r.isToday),t.R7$(),t.vxM(1,r.fullCellRender?1:2)}}function kr(h,w){if(1&h){const r=t.RV6();t.j41(0,"td",8),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.isDisabled?null:p.onClick())})("mouseenter",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onMouseEnter())}),t.DNE(1,Or,3,1)(2,Pr,3,6),t.k0s()}if(2&h){let r;const d=w.$implicit,p=t.XpG(2);t.FS9("title",d.title),t.Y8G("ngClass",d.classMap),t.R7$(),t.vxM(1,"ant-picker"===(r=p.prefixCls)?1:"ant-picker-calendar"===r?2:-1)}}function oo(h,w){if(1&h&&(t.j41(0,"tr",1),t.DNE(1,Sr,2,4,"td",5),t.Z7z(2,kr,3,3,"td",6,ci),t.k0s()),2&h){const r=w.$implicit;t.Y8G("ngClass",r.classMap),t.R7$(),t.vxM(1,r.weekNum?1:-1),t.R7$(),t.Dyx(r.dateCells)}}function ro(h,w){if(1&h){const r=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onClick())}),t.EFF(1),t.k0s()}if(2&h){const r=w.$implicit;t.HbH(r.className),t.FS9("title",r.title||null),t.R7$(),t.SpI(" ",r.label," ")}}function Nr(h,w){1&h&&t.nrm(0,"th",3)}function Di(h,w){if(1&h&&(t.j41(0,"th",4),t.EFF(1),t.k0s()),2&h){const r=w.$implicit;t.FS9("title",r.title),t.R7$(),t.SpI(" ",r.content," ")}}function Ri(h,w){if(1&h&&(t.j41(0,"thead")(1,"tr",2),t.DNE(2,Nr,1,0,"th",3),t.Z7z(3,Di,2,2,"th",4,t.fX1),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.vxM(2,r.showWeek?2:-1),t.R7$(),t.Dyx(r.headRow)}}function ao(h,w){if(1&h&&(t.j41(0,"td",7),t.EFF(1),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG();t.ZvI("",d.prefixCls,"-cell-week"),t.R7$(),t.SpI(" ",r.weekNum," ")}}function Fi(h,w){1&h&&t.eu8(0)}function vi(h,w){if(1&h&&t.DNE(0,Fi,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function Ir(h,w){if(1&h&&t.nrm(0,"span",10),2&h){const r=t.XpG(2).$implicit;t.Y8G("innerHTML",r.cellRender,t.npT)}}function Es(h,w){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-cell-inner"),t.BMQ("aria-selected",r.isSelected)("aria-disabled",r.isDisabled),t.R7$(),t.SpI(" ",r.content," ")}}function Fa(h,w){if(1&h&&t.DNE(0,vi,1,4,"ng-container")(1,Ir,1,1)(2,Es,2,6),2&h){const r=t.XpG().$implicit;t.vxM(0,r.isTemplateRef?0:r.isNonEmptyString?1:2)}}function Ar(h,w){1&h&&t.eu8(0)}function Bi(h,w){if(1&h&&t.DNE(0,Ar,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.fullCellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function lo(h,w){1&h&&t.eu8(0)}function Rr(h,w){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s(),t.j41(2,"div"),t.DNE(3,lo,1,0,"ng-container",9),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date-value"),t.R7$(),t.JRh(r.content),t.R7$(),t.ZvI("",d.prefixCls,"-date-content"),t.R7$(),t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(9,Qn,r.value))}}function Ba(h,w){if(1&h&&(t.j41(0,"div"),t.DNE(1,Bi,1,4,"ng-container")(2,Rr,4,11),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date ant-picker-cell-inner"),t.AVh("ant-picker-calendar-date-today",r.isToday),t.R7$(),t.vxM(1,r.fullCellRender?1:2)}}function La(h,w){if(1&h){const r=t.RV6();t.j41(0,"td",8),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.isDisabled?null:p.onClick())})("mouseenter",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onMouseEnter())}),t.DNE(1,Fa,3,1)(2,Ba,3,6),t.k0s()}if(2&h){let r;const d=w.$implicit,p=t.XpG(2);t.FS9("title",d.title),t.Y8G("ngClass",d.classMap),t.R7$(),t.vxM(1,"ant-picker"===(r=p.prefixCls)?1:"ant-picker-calendar"===r?2:-1)}}function Va(h,w){if(1&h&&(t.j41(0,"tr",1),t.DNE(1,ao,2,4,"td",5),t.Z7z(2,La,3,3,"td",6,ci),t.k0s()),2&h){const r=w.$implicit;t.Y8G("ngClass",r.classMap),t.R7$(),t.vxM(1,r.weekNum?1:-1),t.R7$(),t.Dyx(r.dateCells)}}function co(h,w){if(1&h){const r=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onClick())}),t.EFF(1),t.k0s()}if(2&h){const r=w.$implicit;t.HbH(r.className),t.FS9("title",r.title||null),t.R7$(),t.SpI(" ",r.label," ")}}function Fr(h,w){1&h&&t.nrm(0,"th",3)}function Br(h,w){if(1&h&&(t.j41(0,"th",4),t.EFF(1),t.k0s()),2&h){const r=w.$implicit;t.FS9("title",r.title),t.R7$(),t.SpI(" ",r.content," ")}}function wi(h,w){if(1&h&&(t.j41(0,"thead")(1,"tr",2),t.DNE(2,Fr,1,0,"th",3),t.Z7z(3,Br,2,2,"th",4,t.fX1),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.vxM(2,r.showWeek?2:-1),t.R7$(),t.Dyx(r.headRow)}}function Mi(h,w){if(1&h&&(t.j41(0,"td",7),t.EFF(1),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG();t.ZvI("",d.prefixCls,"-cell-week"),t.R7$(),t.SpI(" ",r.weekNum," ")}}function Ps(h,w){1&h&&t.eu8(0)}function ks(h,w){if(1&h&&t.DNE(0,Ps,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function ho(h,w){if(1&h&&t.nrm(0,"span",10),2&h){const r=t.XpG(2).$implicit;t.Y8G("innerHTML",r.cellRender,t.npT)}}function uo(h,w){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-cell-inner"),t.BMQ("aria-selected",r.isSelected)("aria-disabled",r.isDisabled),t.R7$(),t.SpI(" ",r.content," ")}}function po(h,w){if(1&h&&t.DNE(0,ks,1,4,"ng-container")(1,ho,1,1)(2,uo,2,6),2&h){const r=t.XpG().$implicit;t.vxM(0,r.isTemplateRef?0:r.isNonEmptyString?1:2)}}function fo(h,w){1&h&&t.eu8(0)}function Lr(h,w){if(1&h&&t.DNE(0,fo,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.fullCellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function $a(h,w){1&h&&t.eu8(0)}function Vr(h,w){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s(),t.j41(2,"div"),t.DNE(3,$a,1,0,"ng-container",9),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date-value"),t.R7$(),t.JRh(r.content),t.R7$(),t.ZvI("",d.prefixCls,"-date-content"),t.R7$(),t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(9,Qn,r.value))}}function V(h,w){if(1&h&&(t.j41(0,"div"),t.DNE(1,Lr,1,4,"ng-container")(2,Vr,4,11),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date ant-picker-cell-inner"),t.AVh("ant-picker-calendar-date-today",r.isToday),t.R7$(),t.vxM(1,r.fullCellRender?1:2)}}function ut(h,w){if(1&h){const r=t.RV6();t.j41(0,"td",8),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.isDisabled?null:p.onClick())})("mouseenter",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onMouseEnter())}),t.DNE(1,po,3,1)(2,V,3,6),t.k0s()}if(2&h){let r;const d=w.$implicit,p=t.XpG(2);t.FS9("title",d.title),t.Y8G("ngClass",d.classMap),t.R7$(),t.vxM(1,"ant-picker"===(r=p.prefixCls)?1:"ant-picker-calendar"===r?2:-1)}}function O(h,w){if(1&h&&(t.j41(0,"tr",1),t.DNE(1,Mi,2,4,"td",5),t.Z7z(2,ut,3,3,"td",6,ci),t.k0s()),2&h){const r=w.$implicit;t.Y8G("ngClass",r.classMap),t.R7$(),t.vxM(1,r.weekNum?1:-1),t.R7$(),t.Dyx(r.dateCells)}}function A(h,w){if(1&h){const r=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onClick())}),t.EFF(1),t.k0s()}if(2&h){const r=w.$implicit;t.HbH(r.className),t.FS9("title",r.title||null),t.R7$(),t.SpI(" ",r.label," ")}}function H(h,w){1&h&&t.nrm(0,"th",3)}function Re(h,w){if(1&h&&(t.j41(0,"th",4),t.EFF(1),t.k0s()),2&h){const r=w.$implicit;t.FS9("title",r.title),t.R7$(),t.SpI(" ",r.content," ")}}function ft(h,w){if(1&h&&(t.j41(0,"thead")(1,"tr",2),t.DNE(2,H,1,0,"th",3),t.Z7z(3,Re,2,2,"th",4,t.fX1),t.k0s()()),2&h){const r=t.XpG();t.R7$(2),t.vxM(2,r.showWeek?2:-1),t.R7$(),t.Dyx(r.headRow)}}function Bt(h,w){if(1&h&&(t.j41(0,"td",7),t.EFF(1),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG();t.ZvI("",d.prefixCls,"-cell-week"),t.R7$(),t.SpI(" ",r.weekNum," ")}}function Ut(h,w){1&h&&t.eu8(0)}function tn(h,w){if(1&h&&t.DNE(0,Ut,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function fn(h,w){if(1&h&&t.nrm(0,"span",10),2&h){const r=t.XpG(2).$implicit;t.Y8G("innerHTML",r.cellRender,t.npT)}}function Vt(h,w){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-cell-inner"),t.BMQ("aria-selected",r.isSelected)("aria-disabled",r.isDisabled),t.R7$(),t.SpI(" ",r.content," ")}}function Yn(h,w){if(1&h&&t.DNE(0,tn,1,4,"ng-container")(1,fn,1,1)(2,Vt,2,6),2&h){const r=t.XpG().$implicit;t.vxM(0,r.isTemplateRef?0:r.isNonEmptyString?1:2)}}function hi(h,w){1&h&&t.eu8(0)}function Ci(h,w){if(1&h&&t.DNE(0,hi,1,0,"ng-container",9),2&h){const r=t.XpG(2).$implicit;t.Y8G("ngTemplateOutlet",r.fullCellRender)("ngTemplateOutletContext",t.eq3(2,Qn,r.value))}}function ja(h,w){1&h&&t.eu8(0)}function Nc(h,w){if(1&h&&(t.j41(0,"div"),t.EFF(1),t.k0s(),t.j41(2,"div"),t.DNE(3,ja,1,0,"ng-container",9),t.k0s()),2&h){const r=t.XpG(2).$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date-value"),t.R7$(),t.JRh(r.content),t.R7$(),t.ZvI("",d.prefixCls,"-date-content"),t.R7$(),t.Y8G("ngTemplateOutlet",r.cellRender)("ngTemplateOutletContext",t.eq3(9,Qn,r.value))}}function Ic(h,w){if(1&h&&(t.j41(0,"div"),t.DNE(1,Ci,1,4,"ng-container")(2,Nc,4,11),t.k0s()),2&h){const r=t.XpG().$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-date ant-picker-cell-inner"),t.AVh("ant-picker-calendar-date-today",r.isToday),t.R7$(),t.vxM(1,r.fullCellRender?1:2)}}function Ac(h,w){if(1&h){const r=t.RV6();t.j41(0,"td",8),t.bIt("click",function(){const p=t.eBV(r).$implicit;return t.Njj(p.isDisabled?null:p.onClick())})("mouseenter",function(){const p=t.eBV(r).$implicit;return t.Njj(p.onMouseEnter())}),t.DNE(1,Yn,3,1)(2,Ic,3,6),t.k0s()}if(2&h){let r;const d=w.$implicit,p=t.XpG(2);t.FS9("title",d.title),t.Y8G("ngClass",d.classMap),t.R7$(),t.vxM(1,"ant-picker"===(r=p.prefixCls)?1:"ant-picker-calendar"===r?2:-1)}}function ss(h,w){if(1&h&&(t.j41(0,"tr",1),t.DNE(1,Bt,2,4,"td",5),t.Z7z(2,Ac,3,3,"td",6,ci),t.k0s()),2&h){const r=w.$implicit;t.Y8G("ngClass",r.classMap),t.R7$(),t.vxM(1,r.weekNum?1:-1),t.R7$(),t.Dyx(r.dateCells)}}function Rc(h,w){if(1&h){const r=t.RV6();t.j41(0,"decade-header",1),t.mxI("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.DH7(S.activeDate,p)||(S.activeDate=p),t.Njj(p)}),t.bIt("panelModeChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.panelModeChange.emit(p))})("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.headerChange.emit(p))}),t.k0s(),t.j41(1,"div")(2,"decade-table",2),t.bIt("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onChooseDecade(p))}),t.k0s()()}if(2&h){const r=t.XpG();t.R50("value",r.activeDate),t.Y8G("locale",r.locale)("showSuperPreBtn",r.enablePrevNext("prev","decade"))("showSuperNextBtn",r.enablePrevNext("next","decade"))("showNextBtn",!1)("showPreBtn",!1),t.R7$(),t.ZvI("",r.prefixCls,"-body"),t.R7$(),t.Y8G("activeDate",r.activeDate)("value",r.value)("locale",r.locale)("disabledDate",r.disabledDate)}}function Fc(h,w){if(1&h){const r=t.RV6();t.j41(0,"year-header",1),t.mxI("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.DH7(S.activeDate,p)||(S.activeDate=p),t.Njj(p)}),t.bIt("panelModeChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.panelModeChange.emit(p))})("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.headerChange.emit(p))}),t.k0s(),t.j41(1,"div")(2,"year-table",3),t.bIt("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onChooseYear(p))})("cellHover",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.cellHover.emit(p))}),t.k0s()()}if(2&h){const r=t.XpG();t.R50("value",r.activeDate),t.Y8G("locale",r.locale)("showSuperPreBtn",r.enablePrevNext("prev","year"))("showSuperNextBtn",r.enablePrevNext("next","year"))("showNextBtn",!1)("showPreBtn",!1),t.R7$(),t.ZvI("",r.prefixCls,"-body"),t.R7$(),t.Y8G("activeDate",r.activeDate)("value",r.value)("locale",r.locale)("disabledDate",r.disabledDate)("selectedValue",r.selectedValue)("hoverValue",r.hoverValue)}}function Bc(h,w){if(1&h){const r=t.RV6();t.j41(0,"month-header",1),t.mxI("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.DH7(S.activeDate,p)||(S.activeDate=p),t.Njj(p)}),t.bIt("panelModeChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.panelModeChange.emit(p))})("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.headerChange.emit(p))}),t.k0s(),t.j41(1,"div")(2,"month-table",4),t.bIt("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onChooseMonth(p))})("cellHover",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.cellHover.emit(p))}),t.k0s()()}if(2&h){const r=t.XpG();t.R50("value",r.activeDate),t.Y8G("locale",r.locale)("showSuperPreBtn",r.enablePrevNext("prev","month"))("showSuperNextBtn",r.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),t.R7$(),t.ZvI("",r.prefixCls,"-body"),t.R7$(),t.Y8G("value",r.value)("activeDate",r.activeDate)("locale",r.locale)("disabledDate",r.disabledDate)("selectedValue",r.selectedValue)("hoverValue",r.hoverValue)}}function go(h,w){if(1&h){const r=t.RV6();t.j41(0,"date-header",5),t.mxI("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.DH7(S.activeDate,p)||(S.activeDate=p),t.Njj(p)}),t.bIt("panelModeChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.panelModeChange.emit(p))})("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.headerChange.emit(p))}),t.k0s(),t.j41(1,"div")(2,"date-table",6),t.bIt("valueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onSelectDate(p))})("cellHover",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.cellHover.emit(p))}),t.k0s()()}if(2&h){const r=t.XpG();t.R50("value",r.activeDate),t.Y8G("locale",r.locale)("showSuperPreBtn",r.enablePrevNext("prev","week"===r.panelMode?"week":"date"))("showSuperNextBtn",r.enablePrevNext("next","week"===r.panelMode?"week":"date"))("showPreBtn",r.enablePrevNext("prev","week"===r.panelMode?"week":"date"))("showNextBtn",r.enablePrevNext("next","week"===r.panelMode?"week":"date")),t.R7$(),t.ZvI("",r.prefixCls,"-body"),t.R7$(),t.Y8G("locale",r.locale)("showWeek",r.showWeek)("value",r.value)("activeDate",r.activeDate)("disabledDate",r.disabledDate)("cellRender",r.dateRender)("selectedValue",r.selectedValue)("hoverValue",r.hoverValue)("canSelectWeek","week"===r.panelMode)}}function Lc(h,w){if(1&h){const r=t.RV6();t.j41(0,"nz-time-picker-panel",7),t.bIt("ngModelChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onSelectTime(p))}),t.k0s()}if(2&h){const r=t.XpG();t.Y8G("nzInDatePicker",!0)("ngModel",null==r.value?null:r.value.nativeDate)("format",r.timeOptions.nzFormat)("nzHourStep",r.timeOptions.nzHourStep)("nzMinuteStep",r.timeOptions.nzMinuteStep)("nzSecondStep",r.timeOptions.nzSecondStep)("nzDisabledHours",r.timeOptions.nzDisabledHours)("nzDisabledMinutes",r.timeOptions.nzDisabledMinutes)("nzDisabledSeconds",r.timeOptions.nzDisabledSeconds)("nzHideDisabledOptions",!!r.timeOptions.nzHideDisabledOptions)("nzDefaultOpenValue",r.timeOptions.nzDefaultOpenValue)("nzUse12Hours",!!r.timeOptions.nzUse12Hours)("nzAddOn",r.timeOptions.nzAddOn)}}const Vc=h=>({partType:h}),mo=()=>({partType:"left"}),Ga=()=>({partType:"right"});function $c(h,w){1&h&&t.eu8(0)}function Ns(h,w){if(1&h&&t.DNE(0,$c,1,0,"ng-container",6),2&h){const r=t.XpG(2),d=t.sdS(3);t.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",t.eq3(2,Vc,r.datePickerService.activeInput))}}function jc(h,w){1&h&&t.eu8(0)}function Ha(h,w){1&h&&t.eu8(0)}function Gc(h,w){if(1&h&&t.DNE(0,jc,1,0,"ng-container",6)(1,Ha,1,0,"ng-container",6),2&h){t.XpG(2);const r=t.sdS(3);t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(4,mo)),t.R7$(),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(5,Ga))}}function Is(h,w){1&h&&t.eu8(0)}function Hc(h,w){if(1&h&&(t.j41(0,"div"),t.nrm(1,"div",4),t.j41(2,"div")(3,"div"),t.DNE(4,Ns,1,4,"ng-container")(5,Gc,2,6),t.k0s(),t.DNE(6,Is,1,0,"ng-container",5),t.k0s()()),2&h){const r=t.XpG(),d=t.sdS(5);t.STu("",r.prefixCls,"-range-wrapper ",r.prefixCls,"-date-range-wrapper"),t.R7$(),t.ZvI("",r.prefixCls,"-range-arrow"),t.Y8G("ngStyle",r.arrowPosition),t.R7$(),t.STu("",r.prefixCls,"-panel-container ",r.showWeek?r.prefixCls+"-week-number":"",""),t.R7$(),t.ZvI("",r.prefixCls,"-panels"),t.R7$(),t.vxM(4,r.hasTimePicker?4:5),t.R7$(2),t.Y8G("ngTemplateOutlet",d)}}function _o(h,w){1&h&&t.eu8(0)}function Uc(h,w){1&h&&t.eu8(0)}function vo(h,w){if(1&h&&(t.j41(0,"div")(1,"div",7),t.DNE(2,_o,1,0,"ng-container",5)(3,Uc,1,0,"ng-container",5),t.k0s()()),2&h){const r=t.XpG(),d=t.sdS(3),p=t.sdS(5);t.ee0("",r.prefixCls,"-panel-container ",r.showWeek?r.prefixCls+"-week-number":""," ",r.hasTimePicker?r.prefixCls+"-time":""," ",r.isRange?r.prefixCls+"-range":"",""),t.R7$(),t.ZvI("",r.prefixCls,"-panel"),t.AVh("ant-picker-panel-rtl","rtl"===r.dir),t.R7$(),t.Y8G("ngTemplateOutlet",d),t.R7$(),t.Y8G("ngTemplateOutlet",p)}}function Xc(h,w){if(1&h){const r=t.RV6();t.j41(0,"div")(1,"inner-popup",8),t.bIt("panelModeChange",function(p){const S=t.eBV(r).partType,te=t.XpG();return t.Njj(te.onPanelModeChange(p,S))})("cellHover",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onCellHover(p))})("selectDate",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.changeValueFromSelect(p,!S.showTime))})("selectTime",function(p){const S=t.eBV(r).partType,te=t.XpG();return t.Njj(te.onSelectTime(p,S))})("headerChange",function(p){const S=t.eBV(r).partType,te=t.XpG();return t.Njj(te.onActiveDateChange(p,S))}),t.k0s()()}if(2&h){const r=w.partType,d=t.XpG();t.ZvI("",d.prefixCls,"-panel"),t.AVh("ant-picker-panel-rtl","rtl"===d.dir),t.R7$(),t.Y8G("showWeek",d.showWeek)("endPanelMode",d.getPanelMode(d.endPanelMode,r))("partType",r)("locale",d.locale)("showTimePicker",d.hasTimePicker)("timeOptions",d.getTimeOptions(r))("panelMode",d.getPanelMode(d.panelMode,r))("activeDate",d.getActiveDate(r))("value",d.getValue(r))("disabledDate",d.disabledDate)("dateRender",d.dateRender)("selectedValue",null==d.datePickerService?null:d.datePickerService.value)("hoverValue",d.hoverValue)}}function Co(h,w){if(1&h){const r=t.RV6();t.j41(0,"calendar-footer",10),t.bIt("clickOk",function(){t.eBV(r);const p=t.XpG(2);return t.Njj(p.onClickOk())})("clickToday",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onClickToday(p))}),t.k0s()}if(2&h){const r=t.XpG(2),d=t.sdS(7);t.Y8G("locale",r.locale)("isRange",r.isRange)("showToday",r.showToday)("showNow",r.showNow)("hasTimePicker",r.hasTimePicker)("okDisabled",!r.isAllowed(null==r.datePickerService?null:r.datePickerService.value))("extraFooter",r.extraFooter)("rangeQuickSelector",r.ranges?d:null)}}function Wc(h,w){if(1&h&&t.DNE(0,Co,1,8,"calendar-footer",9),2&h){const r=t.XpG();t.vxM(0,r.hasFooter?0:-1)}}function Yc(h,w){if(1&h){const r=t.RV6();t.j41(0,"li",11),t.bIt("click",function(){const p=t.eBV(r).$implicit,S=t.XpG(2);return t.Njj(S.onClickPresetRange(S.ranges[p]))})("mouseenter",function(){const p=t.eBV(r).$implicit,S=t.XpG(2);return t.Njj(S.onHoverPresetRange(S.ranges[p]))})("mouseleave",function(){t.eBV(r);const p=t.XpG(2);return t.Njj(p.onPresetRangeMouseLeave())}),t.j41(1,"span",12),t.EFF(2),t.k0s()()}if(2&h){const r=w.$implicit,d=t.XpG(2);t.ZvI("",d.prefixCls,"-preset"),t.R7$(2),t.JRh(r)}}function Kc(h,w){if(1&h&&t.Z7z(0,Yc,3,4,"li",3,t.fX1),2&h){const r=t.XpG();t.Dyx(r.getObjectKeys(r.ranges))}}const $r=["separatorElement"],Qc=["pickerInput"],Zc=["rangePickerInput"];function Jc(h,w){1&h&&t.eu8(0)}function qc(h,w){if(1&h){const r=t.RV6();t.j41(0,"div")(1,"input",8,3),t.mxI("ngModelChange",function(p){t.eBV(r);const S=t.XpG(2);return t.DH7(S.inputValue,p)||(S.inputValue=p),t.Njj(p)}),t.bIt("focus",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onFocus(p))})("focusout",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onFocusout(p))})("ngModelChange",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onInputChange(p))})("keyup.enter",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onKeyupEnter(p))}),t.k0s(),t.DNE(3,Jc,1,0,"ng-container",9),t.k0s()}if(2&h){const r=t.XpG(2),d=t.sdS(5);t.ZvI("",r.prefixCls,"-input"),t.R7$(),t.AVh("ant-input-disabled",r.nzDisabled),t.FS9("placeholder",r.getPlaceholder()),t.Y8G("disabled",r.nzDisabled)("readOnly",r.nzInputReadOnly),t.R50("ngModel",r.inputValue),t.Y8G("size",r.inputSize),t.BMQ("id",r.nzId),t.R7$(2),t.Y8G("ngTemplateOutlet",d)}}function eh(h,w){1&h&&t.eu8(0)}function th(h,w){if(1&h&&t.EFF(0),2&h){const r=t.XpG(4);t.SpI(" ",r.nzSeparator," ")}}function nh(h,w){1&h&&t.nrm(0,"span",12)}function Ua(h,w){if(1&h&&(t.qex(0),t.DNE(1,th,1,1)(2,nh,1,0),t.bVm()),2&h){const r=t.XpG(3);t.R7$(),t.vxM(1,r.nzSeparator?1:2)}}function ih(h,w){1&h&&t.eu8(0)}function sh(h,w){1&h&&t.eu8(0)}function oh(h,w){if(1&h&&(t.j41(0,"div"),t.DNE(1,eh,1,0,"ng-container",10),t.k0s(),t.j41(2,"div",null,4)(4,"span"),t.DNE(5,Ua,3,1,"ng-container",11),t.k0s()(),t.j41(6,"div"),t.DNE(7,ih,1,0,"ng-container",10),t.k0s(),t.DNE(8,sh,1,0,"ng-container",9)),2&h){const r=t.XpG(2),d=t.sdS(3),p=t.sdS(5);t.ZvI("",r.prefixCls,"-input"),t.R7$(),t.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",t.lJ4(18,mo)),t.R7$(),t.ZvI("",r.prefixCls,"-range-separator"),t.R7$(2),t.ZvI("",r.prefixCls,"-separator"),t.R7$(),t.Y8G("nzStringTemplateOutlet",r.nzSeparator),t.R7$(),t.ZvI("",r.prefixCls,"-input"),t.R7$(),t.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",t.lJ4(19,Ga)),t.R7$(),t.Y8G("ngTemplateOutlet",p)}}function jr(h,w){if(1&h&&t.DNE(0,qc,4,12,"div",7)(1,oh,9,20),2&h){const r=t.XpG();t.vxM(0,r.isRange?1:0)}}function Xa(h,w){}function rh(h,w){if(1&h&&t.DNE(0,Xa,0,0,"ng-template",13),2&h){t.XpG();const r=t.sdS(7);t.Y8G("ngTemplateOutlet",r)}}function ah(h,w){if(1&h){const r=t.RV6();t.j41(0,"input",14,5),t.bIt("click",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onClickInputBox(p))})("focusout",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onFocusout(p))})("focus",function(p){const S=t.eBV(r).partType,te=t.XpG();return t.Njj(te.onFocus(p,S))})("keyup.enter",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onKeyupEnter(p))}),t.mxI("ngModelChange",function(p){const S=t.eBV(r).partType,te=t.XpG();return t.DH7(te.inputValue[te.datePickerService.getActiveIndex(S)],p)||(te.inputValue[te.datePickerService.getActiveIndex(S)]=p),t.Njj(p)}),t.bIt("ngModelChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onInputChange(p))}),t.k0s()}if(2&h){const r=w.partType,d=t.XpG();t.FS9("placeholder",d.getPlaceholder(r)),t.Y8G("disabled",d.nzDisabled)("readOnly",d.nzInputReadOnly)("size",d.inputSize),t.R50("ngModel",d.inputValue[d.datePickerService.getActiveIndex(r)]),t.BMQ("id",d.nzId)}}function Wa(h,w){if(1&h){const r=t.RV6();t.j41(0,"span",17),t.bIt("click",function(p){t.eBV(r);const S=t.XpG(2);return t.Njj(S.onClickClear(p))}),t.nrm(1,"span",18),t.k0s()}if(2&h){const r=t.XpG(2);t.ZvI("",r.prefixCls,"-clear")}}function yo(h,w){if(1&h&&(t.qex(0),t.nrm(1,"span",19),t.bVm()),2&h){const r=w.$implicit;t.R7$(),t.Y8G("nzType",r)}}function lh(h,w){if(1&h&&t.nrm(0,"nz-form-item-feedback-icon",16),2&h){const r=t.XpG(2);t.Y8G("status",r.status)}}function ch(h,w){if(1&h&&(t.nrm(0,"div",15),t.DNE(1,Wa,2,3,"span",7),t.j41(2,"span"),t.DNE(3,yo,2,1,"ng-container",11)(4,lh,1,1,"nz-form-item-feedback-icon",16),t.k0s()),2&h){const r=t.XpG();t.ZvI("",r.prefixCls,"-active-bar"),t.Y8G("ngStyle",r.activeBarStyle),t.R7$(),t.vxM(1,r.showClear?1:-1),t.R7$(),t.ZvI("",r.prefixCls,"-suffix"),t.R7$(),t.Y8G("nzStringTemplateOutlet",r.nzSuffixIcon),t.R7$(),t.vxM(4,r.hasFeedback&&r.status?4:-1)}}function hh(h,w){if(1&h){const r=t.RV6();t.j41(0,"div",15)(1,"date-range-popup",20),t.bIt("panelModeChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onPanelModeChange(p))})("calendarChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onCalendarChange(p))})("resultOk",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.onResultOk())}),t.k0s()()}if(2&h){const r=t.XpG();t.STu("",r.prefixCls,"-dropdown ",r.nzDropdownClassName,""),t.AVh("ant-picker-dropdown-rtl","rtl"===r.dir)("ant-picker-dropdown-placement-bottomLeft","bottom"===r.currentPositionY&&"start"===r.currentPositionX)("ant-picker-dropdown-placement-topLeft","top"===r.currentPositionY&&"start"===r.currentPositionX)("ant-picker-dropdown-placement-bottomRight","bottom"===r.currentPositionY&&"end"===r.currentPositionX)("ant-picker-dropdown-placement-topRight","top"===r.currentPositionY&&"end"===r.currentPositionX)("ant-picker-dropdown-range",r.isRange)("ant-picker-active-left","left"===r.datePickerService.activeInput)("ant-picker-active-right","right"===r.datePickerService.activeInput),t.Y8G("ngStyle",r.nzPopupStyle),t.R7$(),t.Y8G("isRange",r.isRange)("inline",r.nzInline)("defaultPickerValue",r.nzDefaultPickerValue)("showWeek",r.nzShowWeekNumber||"week"===r.nzMode)("panelMode",r.panelMode)("locale",null==r.nzLocale?null:r.nzLocale.lang)("showToday","date"===r.nzMode&&r.nzShowToday&&!r.isRange&&!r.nzShowTime)("showNow","date"===r.nzMode&&r.nzShowNow&&!r.isRange&&!!r.nzShowTime)("showTime",r.nzShowTime)("dateRender",r.nzDateRender)("disabledDate",r.nzDisabledDate)("disabledTime",r.nzDisabledTime)("extraFooter",r.extraFooter)("ranges",r.nzRanges)("dir",r.dir)}}function Ya(h,w){1&h&&t.eu8(0)}function Ka(h,w){if(1&h&&(t.j41(0,"div",21),t.DNE(1,Ya,1,0,"ng-container",9),t.k0s()),2&h){const r=t.XpG(),d=t.sdS(7);t.xc7("position","relative"),t.Y8G("nzNoAnimation",!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("@slideMotion","enter"),t.R7$(),t.Y8G("ngTemplateOutlet",d)}}const zo="ant-picker",Qa={nzDisabledHours:()=>[],nzDisabledMinutes:()=>[],nzDisabledSeconds:()=>[]};function Za(h,w){let r=w?w(h&&h.nativeDate):{};return r={...Qa,...r},r}function yi(h,w,r){return!(!h||w&&w(h.nativeDate)||r&&!function uh(h,w){return function dh(h,w){let r=!1;if(h){const d=h.getHours(),p=h.getMinutes(),S=h.getSeconds();r=-1!==w.nzDisabledHours().indexOf(d)||-1!==w.nzDisabledMinutes(d).indexOf(p)||-1!==w.nzDisabledSeconds(d,p).indexOf(S)}return!r}(h,Za(h,w))}(h,r))}function bo(h){return h&&h.replace(/Y/g,"y").replace(/D/g,"d")}let ph=(()=>{class h{constructor(r){this.dateHelper=r,this.showToday=!1,this.showNow=!1,this.hasTimePicker=!1,this.isRange=!1,this.okDisabled=!1,this.rangeQuickSelector=null,this.clickOk=new t.bkB,this.clickToday=new t.bkB,this.prefixCls=zo,this.isTemplateRef=G.my,this.isNonEmptyString=G.uI,this.isTodayDisabled=!1,this.todayTitle=""}ngOnChanges(r){const d=new Date;if(r.disabledDate&&(this.isTodayDisabled=!(!this.disabledDate||!this.disabledDate(d))),r.locale){const p=bo(this.locale.dateFormat);this.todayTitle=this.dateHelper.format(d,p)}}onClickToday(){const r=new At.KV;this.clickToday.emit(r.clone())}get isExtraFooterTemplateRef(){return(0,G.my)(this.extraFooter)}get isExtraFooterNonEmptyString(){return(0,G.uI)(this.extraFooter)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["calendar-footer"]],inputs:{locale:"locale",showToday:"showToday",showNow:"showNow",hasTimePicker:"hasTimePicker",isRange:"isRange",okDisabled:"okDisabled",disabledDate:"disabledDate",extraFooter:"extraFooter",rangeQuickSelector:"rangeQuickSelector"},outputs:{clickOk:"clickOk",clickToday:"clickToday"},exportAs:["calendarFooter"],standalone:!0,features:[t.OA$,t.aNF],decls:4,vars:6,consts:[[3,"class"],["role","button",3,"class","title"],[3,"innerHTML"],[4,"ngTemplateOutlet"],["role","button",3,"click","title"],[3,"click"],["nz-button","","type","button","nzType","primary","nzSize","small",3,"click","disabled"]],template:function(d,p){1&d&&(t.j41(0,"div"),t.DNE(1,gr,3,5,"div",0)(2,mr,2,6,"a",1)(3,yr,4,6,"ul",0),t.k0s()),2&d&&(t.ZvI("",p.prefixCls,"-footer"),t.R7$(),t.vxM(1,p.extraFooter?1:-1),t.R7$(),t.vxM(2,p.showToday?2:-1),t.R7$(),t.vxM(3,p.hasTimePicker||p.rangeQuickSelector?3:-1))},dependencies:[f.T3,fe.Zw,fe.aO,wn.c,kn.p],encapsulation:2,changeDetection:0})}return h})(),Gr=(()=>{class h{constructor(){this.activeInput="left",this.arrowLeft=0,this.isRange=!1,this.valueChange$=new Fe.m(1),this.emitValue$=new ie.B,this.inputPartChange$=new ie.B}initValue(r=!1){r&&(this.initialValue=this.isRange?[]:null),this.setValue(this.initialValue)}hasValue(r=this.value){return Array.isArray(r)?!!r[0]||!!r[1]:!!r}makeValue(r){return this.isRange?r?r.map(d=>new At.KV(d)):[]:r?new At.KV(r):null}setActiveDate(r,d=!1,p="month"){this.activeDate=this.isRange?(0,At.aV)(r,d,{date:"month",month:"year",year:"decade"}[p],this.activeInput):(0,At.ad)(r)}setValue(r){this.value=r,this.valueChange$.next(this.value)}getActiveIndex(r=this.activeInput){return{left:0,right:1}[r]}ngOnDestroy(){this.valueChange$.complete(),this.emitValue$.complete(),this.inputPartChange$.complete()}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac})}return h})(),So=(()=>{class h{constructor(){this.prefixCls="ant-picker-header",this.selectors=[],this.showSuperPreBtn=!0,this.showSuperNextBtn=!0,this.showPreBtn=!0,this.showNextBtn=!0,this.panelModeChange=new t.bkB,this.valueChange=new t.bkB}superPreviousTitle(){return this.locale.previousYear}previousTitle(){return this.locale.previousMonth}superNextTitle(){return this.locale.nextYear}nextTitle(){return this.locale.nextMonth}superPrevious(){this.changeValue(this.value.addYears(-1))}superNext(){this.changeValue(this.value.addYears(1))}previous(){this.changeValue(this.value.addMonths(-1))}next(){this.changeValue(this.value.addMonths(1))}changeValue(r){this.value!==r&&(this.value=r,this.valueChange.emit(this.value),this.render())}changeMode(r){this.panelModeChange.emit(r)}render(){this.value&&(this.selectors=this.getSelectors())}ngOnInit(){this.value||(this.value=new At.KV),this.selectors=this.getSelectors()}ngOnChanges(r){(r.value||r.locale)&&this.render()}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275dir=t.FsC({type:h,inputs:{value:"value",locale:"locale",showSuperPreBtn:"showSuperPreBtn",showSuperNextBtn:"showSuperNextBtn",showPreBtn:"showPreBtn",showNextBtn:"showNextBtn"},outputs:{panelModeChange:"panelModeChange",valueChange:"valueChange"},features:[t.OA$]})}return h})(),fh=(()=>{class h extends So{previous(){}next(){}get startYear(){return 100*parseInt(""+this.value.getYear()/100,10)}get endYear(){return this.startYear+99}superPrevious(){this.changeValue(this.value.addYears(-100))}superNext(){this.changeValue(this.value.addYears(100))}getSelectors(){return[{className:`${this.prefixCls}-decade-btn`,title:"",onClick:()=>{},label:`${this.startYear}-${this.endYear}`}]}static#e=this.\u0275fac=(()=>{let r;return function(p){return(r||(r=t.xGo(h)))(p||h)}})();static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["decade-header"]],exportAs:["decadeHeader"],standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(d,p){1&d&&(t.j41(0,"div")(1,"button",0),t.bIt("click",function(){return p.superPrevious()}),t.nrm(2,"span",1),t.k0s(),t.j41(3,"button",0),t.bIt("click",function(){return p.previous()}),t.nrm(4,"span",2),t.k0s(),t.j41(5,"div"),t.Z7z(6,zr,2,5,"button",3,t.fX1),t.k0s(),t.j41(8,"button",0),t.bIt("click",function(){return p.next()}),t.nrm(9,"span",4),t.k0s(),t.j41(10,"button",0),t.bIt("click",function(){return p.superNext()}),t.nrm(11,"span",5),t.k0s()()),2&d&&(t.HbH(p.prefixCls),t.R7$(),t.ZvI("",p.prefixCls,"-super-prev-btn"),t.xc7("visibility",p.showSuperPreBtn?"visible":"hidden"),t.FS9("title",p.superPreviousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-prev-btn"),t.xc7("visibility",p.showPreBtn?"visible":"hidden"),t.FS9("title",p.previousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-view"),t.R7$(),t.Dyx(p.selectors),t.R7$(2),t.ZvI("",p.prefixCls,"-next-btn"),t.xc7("visibility",p.showNextBtn?"visible":"hidden"),t.FS9("title",p.nextTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-super-next-btn"),t.xc7("visibility",p.showSuperNextBtn?"visible":"hidden"),t.FS9("title",p.superNextTitle()))},encapsulation:2,changeDetection:0})}return h})(),To=(()=>{class h{constructor(){this.headRow=[],this.bodyRows=[],this.MAX_ROW=6,this.MAX_COL=7,this.prefixCls="ant-picker",this.activeDate=new At.KV,this.showWeek=!1,this.selectedValue=[],this.hoverValue=[],this.canSelectWeek=!1,this.valueChange=new t.bkB,this.cellHover=new t.bkB}render(){this.activeDate&&(this.headRow=this.makeHeadRow(),this.bodyRows=this.makeBodyRows())}hasRangeValue(){return this.selectedValue?.length>0||this.hoverValue?.length>0}getClassMap(r){return{"ant-picker-cell":!0,"ant-picker-cell-in-view":!0,"ant-picker-cell-selected":r.isSelected,"ant-picker-cell-disabled":r.isDisabled,"ant-picker-cell-in-range":!!r.isInSelectedRange,"ant-picker-cell-range-start":!!r.isSelectedStart,"ant-picker-cell-range-end":!!r.isSelectedEnd,"ant-picker-cell-range-start-single":!!r.isStartSingle,"ant-picker-cell-range-end-single":!!r.isEndSingle,"ant-picker-cell-range-hover":!!r.isInHoverRange,"ant-picker-cell-range-hover-start":!!r.isHoverStart,"ant-picker-cell-range-hover-end":!!r.isHoverEnd,"ant-picker-cell-range-hover-edge-start":!!r.isFirstCellInPanel,"ant-picker-cell-range-hover-edge-end":!!r.isLastCellInPanel,"ant-picker-cell-range-start-near-hover":!!r.isRangeStartNearHover,"ant-picker-cell-range-end-near-hover":!!r.isRangeEndNearHover}}ngOnInit(){this.render()}ngOnChanges(r){r.activeDate&&!r.activeDate.currentValue&&(this.activeDate=new At.KV),(r.disabledDate||r.locale||r.showWeek||r.selectWeek||this.isDateRealChange(r.activeDate)||this.isDateRealChange(r.value)||this.isDateRealChange(r.selectedValue)||this.isDateRealChange(r.hoverValue))&&this.render()}isDateRealChange(r){if(r){const d=r.previousValue,p=r.currentValue;return Array.isArray(p)?!Array.isArray(d)||p.length!==d.length||p.some((S,te)=>{const Xe=d[te];return Xe instanceof At.KV?Xe.isSameDay(S):Xe!==S}):!this.isSameDate(d,p)}return!1}isSameDate(r,d){return!r&&!d||r&&d&&d.isSameDay(r)}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275dir=t.FsC({type:h,inputs:{prefixCls:"prefixCls",value:"value",locale:"locale",activeDate:"activeDate",showWeek:"showWeek",selectedValue:"selectedValue",hoverValue:"hoverValue",disabledDate:"disabledDate",cellRender:"cellRender",fullCellRender:"fullCellRender",canSelectWeek:"canSelectWeek"},outputs:{valueChange:"valueChange",cellHover:"cellHover"},features:[t.OA$]})}return h})(),Ja=(()=>{class h extends To{get startYear(){return 100*parseInt(""+this.activeDate.getYear()/100,10)}get endYear(){return this.startYear+99}makeHeadRow(){return[]}makeBodyRows(){const r=[],d=this.value&&this.value.getYear(),p=this.startYear,S=this.endYear,te=p-10;let Xe=0;for(let Dt=0;Dt<4;Dt++){const on={dateCells:[],trackByIndex:Dt};for(let ln=0;ln<3;ln++){const hn=te+10*Xe,rn=te+10*Xe+9,xn=`${hn}-${rn}`,Bn={trackByIndex:ln,value:this.activeDate.setYear(hn).nativeDate,content:xn,title:xn,isDisabled:!1,isSelected:d>=hn&&d<=rn,isLowerThanStart:rn<p,isBiggerThanEnd:hn>S,classMap:{},onClick(){},onMouseEnter(){}};Bn.classMap=this.getClassMap(Bn),Bn.onClick=()=>this.chooseDecade(hn),Xe++,on.dateCells.push(Bn)}r.push(on)}return r}getClassMap(r){return{[`${this.prefixCls}-cell`]:!0,[`${this.prefixCls}-cell-in-view`]:!r.isBiggerThanEnd&&!r.isLowerThanStart,[`${this.prefixCls}-cell-selected`]:r.isSelected,[`${this.prefixCls}-cell-disabled`]:r.isDisabled}}chooseDecade(r){this.value=this.activeDate.setYear(r),this.valueChange.emit(this.value)}static#e=this.\u0275fac=(()=>{let r;return function(p){return(r||(r=t.xGo(h)))(p||h)}})();static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["decade-table"]],exportAs:["decadeTable"],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(d,p){1&d&&(t.j41(0,"table",0),t.DNE(1,br,5,1,"thead"),t.j41(2,"tbody"),t.Z7z(3,oo,4,2,"tr",1,ci),t.k0s()()),2&d&&(t.R7$(),t.vxM(1,p.headRow&&p.headRow.length>0?1:-1),t.R7$(2),t.Dyx(p.bodyRows))},dependencies:[f.YU,f.T3],encapsulation:2,changeDetection:0})}return h})(),mh=(()=>{class h extends So{get startYear(){return 10*parseInt(""+this.value.getYear()/10,10)}get endYear(){return this.startYear+9}superPrevious(){this.changeValue(this.value.addYears(-10))}superNext(){this.changeValue(this.value.addYears(10))}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:"",onClick:()=>this.changeMode("decade"),label:`${this.startYear}-${this.endYear}`}]}static#e=this.\u0275fac=(()=>{let r;return function(p){return(r||(r=t.xGo(h)))(p||h)}})();static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["year-header"]],exportAs:["yearHeader"],standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(d,p){1&d&&(t.j41(0,"div")(1,"button",0),t.bIt("click",function(){return p.superPrevious()}),t.nrm(2,"span",1),t.k0s(),t.j41(3,"button",0),t.bIt("click",function(){return p.previous()}),t.nrm(4,"span",2),t.k0s(),t.j41(5,"div"),t.Z7z(6,ro,2,5,"button",3,t.fX1),t.k0s(),t.j41(8,"button",0),t.bIt("click",function(){return p.next()}),t.nrm(9,"span",4),t.k0s(),t.j41(10,"button",0),t.bIt("click",function(){return p.superNext()}),t.nrm(11,"span",5),t.k0s()()),2&d&&(t.HbH(p.prefixCls),t.R7$(),t.ZvI("",p.prefixCls,"-super-prev-btn"),t.xc7("visibility",p.showSuperPreBtn?"visible":"hidden"),t.FS9("title",p.superPreviousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-prev-btn"),t.xc7("visibility",p.showPreBtn?"visible":"hidden"),t.FS9("title",p.previousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-view"),t.R7$(),t.Dyx(p.selectors),t.R7$(2),t.ZvI("",p.prefixCls,"-next-btn"),t.xc7("visibility",p.showNextBtn?"visible":"hidden"),t.FS9("title",p.nextTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-super-next-btn"),t.xc7("visibility",p.showSuperNextBtn?"visible":"hidden"),t.FS9("title",p.superNextTitle()))},encapsulation:2,changeDetection:0})}return h})(),Jp=(()=>{class h extends To{constructor(r){super(),this.dateHelper=r,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){const r=this.activeDate&&this.activeDate.getYear(),d=10*parseInt(""+r/10,10),p=d+9,S=d-1,te=[];let Xe=0;for(let Dt=0;Dt<this.MAX_ROW;Dt++){const on={dateCells:[],trackByIndex:Dt};for(let ln=0;ln<this.MAX_COL;ln++){const hn=S+Xe,rn=this.activeDate.setYear(hn),xn=this.dateHelper.format(rn.nativeDate,"yyyy"),Bn=this.isDisabledYear(rn),Zn={trackByIndex:ln,value:rn.nativeDate,isDisabled:Bn,isSameDecade:hn>=d&&hn<=p,isSelected:hn===(this.value&&this.value.getYear()),content:xn,title:xn,classMap:{},isLastCellInPanel:rn.getYear()===p,isFirstCellInPanel:rn.getYear()===d,cellRender:(0,G.XQ)(this.cellRender,rn),fullCellRender:(0,G.XQ)(this.fullCellRender,rn),onClick:()=>this.chooseYear(Zn.value.getFullYear()),onMouseEnter:()=>this.cellHover.emit(rn)};this.addCellProperty(Zn,rn),on.dateCells.push(Zn),Xe++}te.push(on)}return te}getClassMap(r){return{...super.getClassMap(r),"ant-picker-cell-in-view":!!r.isSameDecade}}isDisabledYear(r){if(!this.disabledDate)return!1;for(let p=r.setMonth(0).setDate(1);p.getYear()===r.getYear();p=p.addDays(1))if(!this.disabledDate(p.nativeDate))return!1;return!0}addCellProperty(r,d){if(this.hasRangeValue()){const[p,S]=this.hoverValue,[te,Xe]=this.selectedValue;te?.isSameYear(d)&&(r.isSelectedStart=!0,r.isSelected=!0),Xe?.isSameYear(d)&&(r.isSelectedEnd=!0,r.isSelected=!0),p&&S&&(r.isHoverStart=p.isSameYear(d),r.isHoverEnd=S.isSameYear(d),r.isInHoverRange=p.isBeforeYear(d)&&d.isBeforeYear(S)),r.isStartSingle=te&&!Xe,r.isEndSingle=!te&&Xe,r.isInSelectedRange=te?.isBeforeYear(d)&&d?.isBeforeYear(Xe),r.isRangeStartNearHover=te&&r.isInHoverRange,r.isRangeEndNearHover=Xe&&r.isInHoverRange}else d.isSameYear(this.value)&&(r.isSelected=!0);r.classMap=this.getClassMap(r)}chooseYear(r){this.value=this.activeDate.setYear(r),this.valueChange.emit(this.value),this.render()}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["year-table"]],exportAs:["yearTable"],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(d,p){1&d&&(t.j41(0,"table",0),t.DNE(1,Ri,5,1,"thead"),t.j41(2,"tbody"),t.Z7z(3,Va,4,2,"tr",1,ci),t.k0s()()),2&d&&(t.R7$(),t.vxM(1,p.headRow&&p.headRow.length>0?1:-1),t.R7$(2),t.Dyx(p.bodyRows))},dependencies:[f.YU,f.T3],encapsulation:2,changeDetection:0})}return h})(),_h=(()=>{class h extends So{constructor(r){super(),this.dateHelper=r}getSelectors(){return[{className:`${this.prefixCls}-month-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,bo(this.locale.yearFormat))}]}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["month-header"]],exportAs:["monthHeader"],standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(d,p){1&d&&(t.j41(0,"div")(1,"button",0),t.bIt("click",function(){return p.superPrevious()}),t.nrm(2,"span",1),t.k0s(),t.j41(3,"button",0),t.bIt("click",function(){return p.previous()}),t.nrm(4,"span",2),t.k0s(),t.j41(5,"div"),t.Z7z(6,co,2,5,"button",3,t.fX1),t.k0s(),t.j41(8,"button",0),t.bIt("click",function(){return p.next()}),t.nrm(9,"span",4),t.k0s(),t.j41(10,"button",0),t.bIt("click",function(){return p.superNext()}),t.nrm(11,"span",5),t.k0s()()),2&d&&(t.HbH(p.prefixCls),t.R7$(),t.ZvI("",p.prefixCls,"-super-prev-btn"),t.xc7("visibility",p.showSuperPreBtn?"visible":"hidden"),t.FS9("title",p.superPreviousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-prev-btn"),t.xc7("visibility",p.showPreBtn?"visible":"hidden"),t.FS9("title",p.previousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-view"),t.R7$(),t.Dyx(p.selectors),t.R7$(2),t.ZvI("",p.prefixCls,"-next-btn"),t.xc7("visibility",p.showNextBtn?"visible":"hidden"),t.FS9("title",p.nextTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-super-next-btn"),t.xc7("visibility",p.showSuperNextBtn?"visible":"hidden"),t.FS9("title",p.superNextTitle()))},encapsulation:2,changeDetection:0})}return h})(),vh=(()=>{class h extends To{constructor(r){super(),this.dateHelper=r,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){const r=[];let d=0;for(let p=0;p<this.MAX_ROW;p++){const S={dateCells:[],trackByIndex:p};for(let te=0;te<this.MAX_COL;te++){const Xe=this.activeDate.setMonth(d),Dt=this.isDisabledMonth(Xe),on=this.dateHelper.format(Xe.nativeDate,"MMM"),ln={trackByIndex:te,value:Xe.nativeDate,isDisabled:Dt,isSelected:Xe.isSameMonth(this.value),content:on,title:on,classMap:{},cellRender:(0,G.XQ)(this.cellRender,Xe),fullCellRender:(0,G.XQ)(this.fullCellRender,Xe),onClick:()=>this.chooseMonth(ln.value.getMonth()),onMouseEnter:()=>this.cellHover.emit(Xe)};this.addCellProperty(ln,Xe),S.dateCells.push(ln),d++}r.push(S)}return r}isDisabledMonth(r){if(!this.disabledDate)return!1;for(let p=r.setDate(1);p.getMonth()===r.getMonth();p=p.addDays(1))if(!this.disabledDate(p.nativeDate))return!1;return!0}addCellProperty(r,d){if(this.hasRangeValue()){const[p,S]=this.hoverValue,[te,Xe]=this.selectedValue;te?.isSameMonth(d)&&(r.isSelectedStart=!0,r.isSelected=!0),Xe?.isSameMonth(d)&&(r.isSelectedEnd=!0,r.isSelected=!0),p&&S&&(r.isHoverStart=p.isSameMonth(d),r.isHoverEnd=S.isSameMonth(d),r.isLastCellInPanel=11===d.getMonth(),r.isFirstCellInPanel=0===d.getMonth(),r.isInHoverRange=p.isBeforeMonth(d)&&d.isBeforeMonth(S)),r.isStartSingle=te&&!Xe,r.isEndSingle=!te&&Xe,r.isInSelectedRange=te?.isBeforeMonth(d)&&d?.isBeforeMonth(Xe),r.isRangeStartNearHover=te&&r.isInHoverRange,r.isRangeEndNearHover=Xe&&r.isInHoverRange}else d.isSameMonth(this.value)&&(r.isSelected=!0);r.classMap=this.getClassMap(r)}chooseMonth(r){this.value=this.activeDate.setMonth(r),this.valueChange.emit(this.value)}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["month-table"]],exportAs:["monthTable"],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(d,p){1&d&&(t.j41(0,"table",0),t.DNE(1,wi,5,1,"thead"),t.j41(2,"tbody"),t.Z7z(3,O,4,2,"tr",1,ci),t.k0s()()),2&d&&(t.R7$(),t.vxM(1,p.headRow&&p.headRow.length>0?1:-1),t.R7$(2),t.Dyx(p.bodyRows))},dependencies:[f.YU,f.T3],encapsulation:2,changeDetection:0})}return h})(),Ch=(()=>{class h extends So{constructor(r){super(),this.dateHelper=r}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,bo(this.locale.yearFormat))},{className:`${this.prefixCls}-month-btn`,title:this.locale.monthSelect,onClick:()=>this.changeMode("month"),label:this.dateHelper.format(this.value.nativeDate,this.locale.monthFormat||"MMM")}]}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["date-header"]],exportAs:["dateHeader"],standalone:!0,features:[t.Vt3,t.aNF],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(d,p){1&d&&(t.j41(0,"div")(1,"button",0),t.bIt("click",function(){return p.superPrevious()}),t.nrm(2,"span",1),t.k0s(),t.j41(3,"button",0),t.bIt("click",function(){return p.previous()}),t.nrm(4,"span",2),t.k0s(),t.j41(5,"div"),t.Z7z(6,A,2,5,"button",3,t.fX1),t.k0s(),t.j41(8,"button",0),t.bIt("click",function(){return p.next()}),t.nrm(9,"span",4),t.k0s(),t.j41(10,"button",0),t.bIt("click",function(){return p.superNext()}),t.nrm(11,"span",5),t.k0s()()),2&d&&(t.HbH(p.prefixCls),t.R7$(),t.ZvI("",p.prefixCls,"-super-prev-btn"),t.xc7("visibility",p.showSuperPreBtn?"visible":"hidden"),t.FS9("title",p.superPreviousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-prev-btn"),t.xc7("visibility",p.showPreBtn?"visible":"hidden"),t.FS9("title",p.previousTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-view"),t.R7$(),t.Dyx(p.selectors),t.R7$(2),t.ZvI("",p.prefixCls,"-next-btn"),t.xc7("visibility",p.showNextBtn?"visible":"hidden"),t.FS9("title",p.nextTitle()),t.R7$(2),t.ZvI("",p.prefixCls,"-super-next-btn"),t.xc7("visibility",p.showSuperNextBtn?"visible":"hidden"),t.FS9("title",p.superNextTitle()))},encapsulation:2,changeDetection:0})}return h})(),yh=(()=>{class h extends To{constructor(r,d){super(),this.i18n=r,this.dateHelper=d}changeValueFromInside(r){this.activeDate=this.activeDate.setYear(r.getYear()).setMonth(r.getMonth()).setDate(r.getDate()),this.valueChange.emit(this.activeDate),this.activeDate.isSameMonth(this.value)||this.render()}makeHeadRow(){const r=[],d=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let p=0;p<this.MAX_COL;p++){const S=d.addDays(p);r.push({trackByIndex:null,value:S.nativeDate,title:this.dateHelper.format(S.nativeDate,"E"),content:this.dateHelper.format(S.nativeDate,this.getVeryShortWeekFormat()),isSelected:!1,isDisabled:!1,onClick(){},onMouseEnter(){}})}return r}getVeryShortWeekFormat(){return 0===this.i18n.getLocaleId().toLowerCase().indexOf("zh")?"EEEEE":"EEEEEE"}makeBodyRows(){const r=[],d=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let p=0;p<this.MAX_ROW;p++){const S=d.addDays(7*p),te={isActive:!1,dateCells:[],trackByIndex:p};for(let Xe=0;Xe<7;Xe++){const Dt=S.addDays(Xe),on=bo(this.i18n.getLocaleData("DatePicker.lang.dateFormat","YYYY-MM-DD")),ln=this.dateHelper.format(Dt.nativeDate,on),hn=this.dateHelper.format(Dt.nativeDate,"dd"),rn={trackByIndex:Xe,value:Dt.nativeDate,label:hn,isSelected:!1,isDisabled:!1,isToday:!1,title:ln,cellRender:(0,G.XQ)(this.cellRender,Dt),fullCellRender:(0,G.XQ)(this.fullCellRender,Dt),content:`${Dt.getDate()}`,onClick:()=>this.changeValueFromInside(Dt),onMouseEnter:()=>this.cellHover.emit(Dt)};this.addCellProperty(rn,Dt),this.showWeek&&!te.weekNum&&(te.weekNum=this.dateHelper.getISOWeek(Dt.nativeDate)),Dt.isSameDay(this.value)&&(te.isActive=Dt.isSameDay(this.value)),te.dateCells.push(rn)}te.classMap={"ant-picker-week-panel-row":this.canSelectWeek,"ant-picker-week-panel-row-selected":this.canSelectWeek&&te.isActive},r.push(te)}return r}addCellProperty(r,d){if(r.isTemplateRef=(0,G.my)(r.cellRender),r.isNonEmptyString=(0,G.uI)(r.cellRender),this.hasRangeValue()&&!this.canSelectWeek){const[p,S]=this.hoverValue,[te,Xe]=this.selectedValue;te?.isSameDay(d)&&(r.isSelectedStart=!0,r.isSelected=!0),Xe?.isSameDay(d)&&(r.isSelectedEnd=!0,r.isSelected=!0),p&&S&&(r.isHoverStart=p.isSameDay(d),r.isHoverEnd=S.isSameDay(d),r.isLastCellInPanel=d.isLastDayOfMonth(),r.isFirstCellInPanel=d.isFirstDayOfMonth(),r.isInHoverRange=p.isBeforeDay(d)&&d.isBeforeDay(S)),r.isStartSingle=te&&!Xe,r.isEndSingle=!te&&Xe,r.isInSelectedRange=te?.isBeforeDay(d)&&d.isBeforeDay(Xe),r.isRangeStartNearHover=te&&r.isInHoverRange,r.isRangeEndNearHover=Xe&&r.isInHoverRange}r.isToday=d.isToday(),r.isSelected=d.isSameDay(this.value),r.isDisabled=!!this.disabledDate?.(d.nativeDate),r.classMap=this.getClassMap(r)}getClassMap(r){const d=new At.KV(r.value);return{...super.getClassMap(r),"ant-picker-cell-today":!!r.isToday,"ant-picker-cell-in-view":d.isSameMonth(this.activeDate)}}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(en.Og),t.rXU(en.cr))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["date-table"]],inputs:{locale:"locale"},exportAs:["dateTable"],standalone:!0,features:[t.Vt3,t.aNF],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(d,p){1&d&&(t.j41(0,"table",0),t.DNE(1,ft,5,1,"thead"),t.j41(2,"tbody"),t.Z7z(3,ss,4,2,"tr",1,ci),t.k0s()()),2&d&&(t.R7$(),t.vxM(1,p.headRow&&p.headRow.length>0?1:-1),t.R7$(2),t.Dyx(p.bodyRows))},dependencies:[f.YU,f.T3],encapsulation:2,changeDetection:0})}return h})(),zh=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({})}return h})(),bh=(()=>{class h{constructor(){this.panelModeChange=new t.bkB,this.headerChange=new t.bkB,this.selectDate=new t.bkB,this.selectTime=new t.bkB,this.cellHover=new t.bkB,this.prefixCls=zo}enablePrevNext(r,d){return!(!this.showTimePicker&&d===this.endPanelMode&&("left"===this.partType&&"next"===r||"right"===this.partType&&"prev"===r))}onSelectTime(r){this.selectTime.emit(new At.KV(r))}onSelectDate(r){const d=r instanceof At.KV?r:new At.KV(r),p=this.timeOptions&&this.timeOptions.nzDefaultOpenValue;!this.value&&p&&d.setHms(p.getHours(),p.getMinutes(),p.getSeconds()),this.selectDate.emit(d)}onChooseMonth(r){this.activeDate=this.activeDate.setMonth(r.getMonth()),"month"===this.endPanelMode?(this.value=r,this.selectDate.emit(r)):(this.headerChange.emit(r),this.panelModeChange.emit(this.endPanelMode))}onChooseYear(r){this.activeDate=this.activeDate.setYear(r.getYear()),"year"===this.endPanelMode?(this.value=r,this.selectDate.emit(r)):(this.headerChange.emit(r),this.panelModeChange.emit(this.endPanelMode))}onChooseDecade(r){this.activeDate=this.activeDate.setYear(r.getYear()),"decade"===this.endPanelMode?(this.value=r,this.selectDate.emit(r)):(this.headerChange.emit(r),this.panelModeChange.emit("year"))}ngOnChanges(r){r.activeDate&&!r.activeDate.currentValue&&(this.activeDate=new At.KV),r.panelMode&&"time"===r.panelMode.currentValue&&(this.panelMode="date")}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["inner-popup"]],inputs:{activeDate:"activeDate",endPanelMode:"endPanelMode",panelMode:"panelMode",showWeek:"showWeek",locale:"locale",showTimePicker:"showTimePicker",timeOptions:"timeOptions",disabledDate:"disabledDate",dateRender:"dateRender",selectedValue:"selectedValue",hoverValue:"hoverValue",value:"value",partType:"partType"},outputs:{panelModeChange:"panelModeChange",headerChange:"headerChange",selectDate:"selectDate",selectTime:"selectTime",cellHover:"cellHover"},exportAs:["innerPopup"],standalone:!0,features:[t.OA$,t.aNF],decls:7,vars:8,consts:[[3,"nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"],[3,"valueChange","panelModeChange","value","locale","showSuperPreBtn","showSuperNextBtn","showNextBtn","showPreBtn"],[3,"valueChange","activeDate","value","locale","disabledDate"],[3,"valueChange","cellHover","activeDate","value","locale","disabledDate","selectedValue","hoverValue"],[3,"valueChange","cellHover","value","activeDate","locale","disabledDate","selectedValue","hoverValue"],[3,"valueChange","panelModeChange","value","locale","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn"],[3,"valueChange","cellHover","locale","showWeek","value","activeDate","disabledDate","cellRender","selectedValue","hoverValue","canSelectWeek"],[3,"ngModelChange","nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"]],template:function(d,p){if(1&d&&(t.j41(0,"div")(1,"div"),t.DNE(2,Rc,3,13)(3,Fc,3,15)(4,Bc,3,15)(5,go,3,18),t.k0s(),t.DNE(6,Lc,1,13,"nz-time-picker-panel",0),t.k0s()),2&d){let S;t.AVh("ant-picker-datetime-panel",p.showTimePicker),t.R7$(),t.STu("",p.prefixCls,"-",p.panelMode,"-panel"),t.R7$(),t.vxM(2,"decade"===(S=p.panelMode)?2:"year"===S?3:"month"===S?4:5),t.R7$(4),t.vxM(6,p.showTimePicker&&p.timeOptions?6:-1)}},dependencies:[zh,Ch,yh,fh,Ja,_h,vh,mh,Jp,hr,oi,m.YN,m.BC,m.vS],encapsulation:2,changeDetection:0})}return h})(),qa=(()=>{class h{get hasTimePicker(){return!!this.showTime}get hasFooter(){return this.showToday||this.hasTimePicker||!!this.extraFooter||!!this.ranges}get arrowPosition(){return"rtl"===this.dir?{right:`${this.datePickerService?.arrowLeft}px`}:{left:`${this.datePickerService?.arrowLeft}px`}}constructor(r,d,p,S){this.datePickerService=r,this.cdr=d,this.ngZone=p,this.host=S,this.inline=!1,this.dir="ltr",this.panelModeChange=new t.bkB,this.calendarChange=new t.bkB,this.resultOk=new t.bkB,this.prefixCls=zo,this.endPanelMode="date",this.timeOptions=null,this.hoverValue=[],this.checkedPartArr=[!1,!1],this.destroy$=new ie.B,this.disabledStartTime=te=>this.disabledTime&&this.disabledTime(te,"start"),this.disabledEndTime=te=>this.disabledTime&&this.disabledTime(te,"end")}ngOnInit(){(0,ce.h)(this.datePickerService.valueChange$,this.datePickerService.inputPartChange$).pipe((0,J.Q)(this.destroy$)).subscribe(()=>{this.updateActiveDate(),this.cdr.markForCheck()}),this.ngZone.runOutsideAngular(()=>{(0,xe.R)(this.host.nativeElement,"mousedown").pipe((0,J.Q)(this.destroy$)).subscribe(r=>r.preventDefault())})}ngOnChanges(r){(r.showTime||r.disabledTime)&&this.showTime&&this.buildTimeOptions(),r.panelMode&&(this.endPanelMode=this.panelMode),r.defaultPickerValue&&this.updateActiveDate()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}updateActiveDate(){const r=this.datePickerService.hasValue()?this.datePickerService.value:this.datePickerService.makeValue(this.defaultPickerValue);this.datePickerService.setActiveDate(r,this.hasTimePicker,this.getPanelMode(this.endPanelMode))}onClickOk(){this.changeValueFromSelect(this.isRange?this.datePickerService.value[{left:0,right:1}[this.datePickerService.activeInput]]:this.datePickerService.value),this.resultOk.emit()}onClickToday(r){this.changeValueFromSelect(r,!this.showTime)}onCellHover(r){if(!this.isRange)return;const p=this.datePickerService.value[{left:1,right:0}[this.datePickerService.activeInput]];p&&(this.hoverValue=p.isBeforeDay(r)?[p,r]:[r,p])}onPanelModeChange(r,d){this.panelMode=this.isRange?0===this.datePickerService.getActiveIndex(d)?[r,this.panelMode[1]]:[this.panelMode[0],r]:r,this.panelModeChange.emit(this.panelMode)}onActiveDateChange(r,d){if(this.isRange){const p=[];p[this.datePickerService.getActiveIndex(d)]=r,this.datePickerService.setActiveDate(p,this.hasTimePicker,this.getPanelMode(this.endPanelMode,d))}else this.datePickerService.setActiveDate(r)}onSelectTime(r,d){if(this.isRange){const p=(0,At.ad)(this.datePickerService.value),S=this.datePickerService.getActiveIndex(d);p[S]=this.overrideHms(r,p[S]),this.datePickerService.setValue(p)}else{const p=this.overrideHms(r,this.datePickerService.value);this.datePickerService.setValue(p)}this.datePickerService.inputPartChange$.next(null),this.buildTimeOptions()}changeValueFromSelect(r,d=!0){if(this.isRange){const p=(0,At.ad)(this.datePickerService.value),S=this.datePickerService.activeInput;let te=S;p[this.datePickerService.getActiveIndex(S)]=r,this.checkedPartArr[this.datePickerService.getActiveIndex(S)]=!0,this.hoverValue=p,d?this.inline?(te=this.reversedPart(S),"right"===te&&(p[this.datePickerService.getActiveIndex(te)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(te)]=!1),this.datePickerService.setValue(p),this.calendarChange.emit(p),this.isBothAllowed(p)&&this.checkedPartArr[0]&&this.checkedPartArr[1]&&(this.clearHoverValue(),this.datePickerService.emitValue$.next())):((0,At.yZ)(p)&&(te=this.reversedPart(S),p[this.datePickerService.getActiveIndex(te)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(te)]=!1),this.datePickerService.setValue(p),this.isBothAllowed(p)&&this.checkedPartArr[0]&&this.checkedPartArr[1]?(this.calendarChange.emit(p),this.clearHoverValue(),this.datePickerService.emitValue$.next()):this.isAllowed(p)&&(te=this.reversedPart(S),this.calendarChange.emit([r.clone()]))):this.datePickerService.setValue(p),this.datePickerService.inputPartChange$.next(te)}else this.datePickerService.setValue(r),this.datePickerService.inputPartChange$.next(null),d&&this.isAllowed(r)&&this.datePickerService.emitValue$.next();this.buildTimeOptions()}reversedPart(r){return"left"===r?"right":"left"}getPanelMode(r,d){return this.isRange?r[this.datePickerService.getActiveIndex(d)]:r}getValue(r){return this.isRange?(this.datePickerService.value||[])[this.datePickerService.getActiveIndex(r)]:this.datePickerService.value}getActiveDate(r){return this.isRange?this.datePickerService.activeDate[this.datePickerService.getActiveIndex(r)]:this.datePickerService.activeDate}isOneAllowed(r){const d=this.datePickerService.getActiveIndex();return yi(r[d],this.disabledDate,[this.disabledStartTime,this.disabledEndTime][d])}isBothAllowed(r){return yi(r[0],this.disabledDate,this.disabledStartTime)&&yi(r[1],this.disabledDate,this.disabledEndTime)}isAllowed(r,d=!1){return this.isRange?d?this.isBothAllowed(r):this.isOneAllowed(r):yi(r,this.disabledDate,this.disabledTime)}getTimeOptions(r){return this.showTime&&this.timeOptions?this.timeOptions instanceof Array?this.timeOptions[this.datePickerService.getActiveIndex(r)]:this.timeOptions:null}onClickPresetRange(r){const d="function"==typeof r?r():r;d&&(this.datePickerService.setValue([new At.KV(d[0]),new At.KV(d[1])]),this.datePickerService.emitValue$.next())}onPresetRangeMouseLeave(){this.clearHoverValue()}onHoverPresetRange(r){"function"!=typeof r&&(this.hoverValue=[new At.KV(r[0]),new At.KV(r[1])])}getObjectKeys(r){return r?Object.keys(r):[]}show(r){return!(this.showTime&&this.isRange&&this.datePickerService.activeInput!==r)}clearHoverValue(){this.hoverValue=[]}buildTimeOptions(){if(this.showTime){const r="object"==typeof this.showTime?this.showTime:{};if(this.isRange){const d=this.datePickerService.value;this.timeOptions=[this.overrideTimeOptions(r,d[0],"start"),this.overrideTimeOptions(r,d[1],"end")]}else this.timeOptions=this.overrideTimeOptions(r,this.datePickerService.value)}else this.timeOptions=null}overrideTimeOptions(r,d,p){let S;return S=p?"start"===p?this.disabledStartTime:this.disabledEndTime:this.disabledTime,{...r,...Za(d,S)}}overrideHms(r,d){return r=r||new At.KV,(d=d||new At.KV).setHms(r.getHours(),r.getMinutes(),r.getSeconds())}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(Gr),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(t.aKT))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["date-range-popup"]],inputs:{isRange:"isRange",inline:"inline",showWeek:"showWeek",locale:"locale",disabledDate:"disabledDate",disabledTime:"disabledTime",showToday:"showToday",showNow:"showNow",showTime:"showTime",extraFooter:"extraFooter",ranges:"ranges",dateRender:"dateRender",panelMode:"panelMode",defaultPickerValue:"defaultPickerValue",dir:"dir"},outputs:{panelModeChange:"panelModeChange",calendarChange:"calendarChange",resultOk:"resultOk"},exportAs:["dateRangePopup"],standalone:!0,features:[t.OA$,t.aNF],decls:8,vars:1,consts:[["tplInnerPopup",""],["tplFooter",""],["tplRangeQuickSelector",""],[3,"class"],[3,"ngStyle"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1"],[3,"panelModeChange","cellHover","selectDate","selectTime","headerChange","showWeek","endPanelMode","partType","locale","showTimePicker","timeOptions","panelMode","activeDate","value","disabledDate","dateRender","selectedValue","hoverValue"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"clickOk","clickToday","locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"click","mouseenter","mouseleave"],[1,"ant-tag","ant-tag-blue"]],template:function(d,p){1&d&&t.DNE(0,Hc,7,17,"div",3)(1,vo,4,13)(2,Xc,2,18,"ng-template",null,0,t.C5r)(4,Wc,1,1,"ng-template",null,1,t.C5r)(6,Kc,2,0,"ng-template",null,2,t.C5r),2&d&&t.vxM(0,p.isRange?0:1)},dependencies:[bh,f.T3,ph,f.B3],encapsulation:2,changeDetection:0})}return h})();const Hr={position:"relative"};let Th=(()=>{class h{get nzShowTime(){return this.showTime}set nzShowTime(r){this.showTime="object"==typeof r?r:(0,G.G4)(r)}get realOpenState(){return this.isOpenHandledByUser()?!!this.nzOpen:this.overlayOpen}ngAfterViewInit(){this.nzAutoFocus&&this.focus(),this.isRange&&this.platform.isBrowser&&this.nzResizeObserver.observe(this.elementRef).pipe((0,J.Q)(this.destroy$)).subscribe(()=>{this.updateInputWidthAndArrowLeft()}),this.datePickerService.inputPartChange$.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{r&&(this.datePickerService.activeInput=r),this.focus(),this.updateInputWidthAndArrowLeft()}),this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>(0,xe.R)(this.elementRef.nativeElement,"mousedown").pipe((0,J.Q)(this.destroy$)).subscribe(r=>{"input"!==r.target.tagName.toLowerCase()&&r.preventDefault()}))}updateInputWidthAndArrowLeft(){this.inputWidth=this.rangePickerInputs?.first?.nativeElement.offsetWidth||0;const r={position:"absolute",width:`${this.inputWidth}px`};this.datePickerService.arrowLeft="left"===this.datePickerService.activeInput?0:this.inputWidth+this.separatorElement?.nativeElement.offsetWidth||0,this.activeBarStyle="rtl"===this.dir?{...r,right:`${this.datePickerService.arrowLeft}px`}:{...r,left:`${this.datePickerService.arrowLeft}px`},this.cdr.markForCheck()}getInput(r){if(!this.nzInline)return this.isRange?"left"===r?this.rangePickerInputs?.first.nativeElement:this.rangePickerInputs?.last.nativeElement:this.pickerInput.nativeElement}focus(){const r=this.getInput(this.datePickerService.activeInput);this.document.activeElement!==r&&r?.focus()}onFocus(r,d){r.preventDefault(),d&&this.datePickerService.inputPartChange$.next(d),this.renderClass(!0)}onFocusout(r){r.preventDefault(),this.onTouchedFn(),this.elementRef.nativeElement.contains(r.relatedTarget)||this.checkAndClose(),this.renderClass(!1)}open(){this.nzInline||!this.realOpenState&&!this.nzDisabled&&(this.updateInputWidthAndArrowLeft(),this.overlayOpen=!0,this.nzOnOpenChange.emit(!0),this.focus(),this.cdr.markForCheck())}close(){this.nzInline||this.realOpenState&&(this.overlayOpen=!1,this.nzOnOpenChange.emit(!1))}get showClear(){return!this.nzDisabled&&!this.isEmptyValue(this.datePickerService.value)&&this.nzAllowClear}checkAndClose(){if(this.realOpenState)if(this.panel.isAllowed(this.datePickerService.value,!0)){if(Array.isArray(this.datePickerService.value)&&(0,At.yZ)(this.datePickerService.value)){const r=this.datePickerService.getActiveIndex();return void this.panel.changeValueFromSelect(this.datePickerService.value[r],!0)}this.updateInputValue(),this.datePickerService.emitValue$.next()}else this.datePickerService.setValue(this.datePickerService.initialValue),this.close()}onClickInputBox(r){r.stopPropagation(),this.focus(),this.isOpenHandledByUser()||this.open()}onOverlayKeydown(r){r.keyCode===Ge._f&&this.datePickerService.initValue()}onPositionChange(r){this.currentPositionX=r.connectionPair.originX,this.currentPositionY=r.connectionPair.originY,this.cdr.detectChanges()}onClickClear(r){r.preventDefault(),r.stopPropagation(),this.datePickerService.initValue(!0),this.datePickerService.emitValue$.next()}updateInputValue(){const r=this.datePickerService.value;this.inputValue=this.isRange?r?r.map(d=>this.formatValue(d)):["",""]:this.formatValue(r),this.cdr.markForCheck()}formatValue(r){return this.dateHelper.format(r&&r.nativeDate,this.nzFormat)}onInputChange(r,d=!1){if(!this.platform.TRIDENT&&this.document.activeElement===this.getInput(this.datePickerService.activeInput)&&!this.realOpenState)return void this.open();const p=this.checkValidDate(r);p&&this.realOpenState&&this.panel.changeValueFromSelect(p,d)}onKeyupEnter(r){this.onInputChange(r.target.value,!0)}checkValidDate(r){const d=new At.KV(this.dateHelper.parseDate(r,this.nzFormat));return d.isValid()&&r===this.dateHelper.format(d.nativeDate,this.nzFormat)?d:null}getPlaceholder(r){return this.isRange?this.nzPlaceHolder[this.datePickerService.getActiveIndex(r)]:this.nzPlaceHolder}isEmptyValue(r){return null===r||(this.isRange?!r||!Array.isArray(r)||r.every(d=>!d):!r)}isOpenHandledByUser(){return void 0!==this.nzOpen}constructor(r,d,p,S,te,Xe,Dt,on,ln,hn,rn,xn,Bn,Zn,$s,js){this.nzConfigService=r,this.datePickerService=d,this.i18n=p,this.cdr=S,this.renderer=te,this.ngZone=Xe,this.elementRef=Dt,this.dateHelper=on,this.nzResizeObserver=ln,this.platform=hn,this.destroy$=rn,this.directionality=Bn,this.noAnimation=Zn,this.nzFormStatusService=$s,this.nzFormNoStatusService=js,this._nzModuleName="datePicker",this.isRange=!1,this.dir="ltr",this.statusCls={},this.status="",this.hasFeedback=!1,this.panelMode="date",this.isCustomPlaceHolder=!1,this.isCustomFormat=!1,this.showTime=!1,this.isNzDisableFirstChange=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzInline=!1,this.nzPlaceHolder="",this.nzPopupStyle=Hr,this.nzSize="default",this.nzStatus="",this.nzShowToday=!0,this.nzMode="date",this.nzShowNow=!0,this.nzDefaultPickerValue=null,this.nzSeparator=void 0,this.nzSuffixIcon="calendar",this.nzBackdrop=!1,this.nzId=null,this.nzPlacement="bottomLeft",this.nzShowWeekNumber=!1,this.nzOnPanelChange=new t.bkB,this.nzOnCalendarChange=new t.bkB,this.nzOnOk=new t.bkB,this.nzOnOpenChange=new t.bkB,this.inputSize=12,this.prefixCls=zo,this.activeBarStyle={},this.overlayOpen=!1,this.overlayPositions=[...ae.DN],this.currentPositionX="start",this.currentPositionY="bottom",this.onChangeFn=()=>{},this.onTouchedFn=()=>{},this.document=xn,this.origin=new ge.$Q(this.elementRef)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,de.F)((r,d)=>r.status===d.status&&r.hasFeedback===d.hasFeedback),(0,j.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,st.of)(!1)),(0,R.T)(([{status:r,hasFeedback:d},p])=>({status:p?"":r,hasFeedback:d})),(0,J.Q)(this.destroy$)).subscribe(({status:r,hasFeedback:d})=>{this.setStatusStyles(r,d)}),this.nzLocale||this.i18n.localeChange.pipe((0,J.Q)(this.destroy$)).subscribe(()=>this.setLocale()),this.datePickerService.isRange=this.isRange,this.datePickerService.initValue(!0),this.datePickerService.emitValue$.pipe((0,J.Q)(this.destroy$)).subscribe(()=>{const r=this.showTime?"second":"day",d=this.datePickerService.value,p=this.datePickerService.initialValue;if(!this.isRange&&d?.isSame(p?.nativeDate,r))return this.onTouchedFn(),this.close();if(this.isRange){const[S,te]=p,[Xe,Dt]=d;if(S?.isSame(Xe?.nativeDate,r)&&te?.isSame(Dt?.nativeDate,r))return this.onTouchedFn(),this.close()}if(this.datePickerService.initialValue=(0,At.ad)(d),this.isRange){const S=d;this.onChangeFn(S.length?[S[0]?.nativeDate??null,S[1]?.nativeDate??null]:[])}else this.onChangeFn(d?d.nativeDate:null);this.onTouchedFn(),this.close()}),this.directionality.change?.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.inputValue=this.isRange?["",""]:"",this.setModeAndFormat(),this.datePickerService.valueChange$.pipe((0,J.Q)(this.destroy$)).subscribe(()=>{this.updateInputValue()})}ngOnChanges(r){const{nzStatus:d,nzPlacement:p}=r;r.nzPopupStyle&&(this.nzPopupStyle=this.nzPopupStyle?{...this.nzPopupStyle,...Hr}:Hr),r.nzPlaceHolder?.currentValue&&(this.isCustomPlaceHolder=!0),r.nzFormat?.currentValue&&(this.isCustomFormat=!0),r.nzLocale&&this.setDefaultPlaceHolder(),r.nzRenderExtraFooter&&(this.extraFooter=(0,G.XQ)(this.nzRenderExtraFooter)),r.nzMode&&(this.setDefaultPlaceHolder(),this.setModeAndFormat()),d&&this.setStatusStyles(this.nzStatus,this.hasFeedback),p&&this.setPlacement(this.nzPlacement)}setModeAndFormat(){const r={year:"yyyy",month:"yyyy-MM",week:"YYYY-ww",date:this.nzShowTime?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"};this.nzMode||(this.nzMode="date"),this.panelMode=this.isRange?[this.nzMode,this.nzMode]:this.nzMode,this.isCustomFormat||(this.nzFormat=r[this.nzMode]),this.inputSize=Math.max(10,this.nzFormat.length)+2,this.updateInputValue()}onOpenChange(r){this.nzOnOpenChange.emit(r)}writeValue(r){this.setValue(r),this.cdr.markForCheck()}registerOnChange(r){this.onChangeFn=r}registerOnTouched(r){this.onTouchedFn=r}setDisabledState(r){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||r,this.cdr.markForCheck(),this.isNzDisableFirstChange=!1}setLocale(){this.nzLocale=this.i18n.getLocaleData("DatePicker",{}),this.setDefaultPlaceHolder(),this.cdr.markForCheck()}setDefaultPlaceHolder(){if(!this.isCustomPlaceHolder&&this.nzLocale){const r={year:this.getPropertyOfLocale("yearPlaceholder"),month:this.getPropertyOfLocale("monthPlaceholder"),week:this.getPropertyOfLocale("weekPlaceholder"),date:this.getPropertyOfLocale("placeholder")},d={year:this.getPropertyOfLocale("rangeYearPlaceholder"),month:this.getPropertyOfLocale("rangeMonthPlaceholder"),week:this.getPropertyOfLocale("rangeWeekPlaceholder"),date:this.getPropertyOfLocale("rangePlaceholder")};this.nzPlaceHolder=this.isRange?d[this.nzMode]:r[this.nzMode]}}getPropertyOfLocale(r){return this.nzLocale.lang[r]||this.i18n.getLocaleData(`DatePicker.lang.${r}`)}setValue(r){const d=this.datePickerService.makeValue(r);this.datePickerService.setValue(d),this.datePickerService.initialValue=(0,At.ad)(d),this.cdr.detectChanges()}renderClass(r){r?this.renderer.addClass(this.elementRef.nativeElement,"ant-picker-focused"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-picker-focused")}onPanelModeChange(r){this.nzOnPanelChange.emit(r)}onCalendarChange(r){if(this.isRange&&Array.isArray(r)){const d=r.filter(p=>p instanceof At.KV).map(p=>p.nativeDate);this.nzOnCalendarChange.emit(d)}}onResultOk(){if(this.isRange){const r=this.datePickerService.value;this.nzOnOk.emit(r.length?[r[0]?.nativeDate||null,r[1]?.nativeDate||null]:[])}else this.nzOnOk.emit(this.datePickerService.value?this.datePickerService.value.nativeDate:null)}setStatusStyles(r,d){this.status=r,this.hasFeedback=d,this.cdr.markForCheck(),this.statusCls=(0,G.LP)(this.prefixCls,r,d),Object.keys(this.statusCls).forEach(p=>{this.statusCls[p]?this.renderer.addClass(this.elementRef.nativeElement,p):this.renderer.removeClass(this.elementRef.nativeElement,p)})}setPlacement(r){const d=ae.l$[r];this.overlayPositions=[d,...ae.DN],this.currentPositionX=d.originX,this.currentPositionY=d.originY}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(De.yx),t.rXU(Gr),t.rXU(en.Og),t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(en.cr),t.rXU(dr.xH),t.rXU(ne.OD),t.rXU(P.y4),t.rXU(f.qQ),t.rXU(Y.dS,8),t.rXU(Pe.z,9),t.rXU(k.is,8),t.rXU(k.n1,8))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-date-picker"],["nz-week-picker"],["nz-month-picker"],["nz-year-picker"],["nz-range-picker"]],viewQuery:function(d,p){if(1&d&&(t.GBs(ge.WB,5),t.GBs(qa,5),t.GBs($r,5),t.GBs(Qc,5),t.GBs(Zc,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.cdkConnectedOverlay=S.first),t.mGM(S=t.lsd())&&(p.panel=S.first),t.mGM(S=t.lsd())&&(p.separatorElement=S.first),t.mGM(S=t.lsd())&&(p.pickerInput=S.first),t.mGM(S=t.lsd())&&(p.rangePickerInputs=S)}},hostVars:16,hostBindings:function(d,p){1&d&&t.bIt("click",function(te){return p.onClickInputBox(te)}),2&d&&t.AVh("ant-picker",!0)("ant-picker-range",p.isRange)("ant-picker-large","large"===p.nzSize)("ant-picker-small","small"===p.nzSize)("ant-picker-disabled",p.nzDisabled)("ant-picker-rtl","rtl"===p.dir)("ant-picker-borderless",p.nzBorderless)("ant-picker-inline",p.nzInline)},inputs:{nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly",nzInline:"nzInline",nzOpen:"nzOpen",nzDisabledDate:"nzDisabledDate",nzLocale:"nzLocale",nzPlaceHolder:"nzPlaceHolder",nzPopupStyle:"nzPopupStyle",nzDropdownClassName:"nzDropdownClassName",nzSize:"nzSize",nzStatus:"nzStatus",nzFormat:"nzFormat",nzDateRender:"nzDateRender",nzDisabledTime:"nzDisabledTime",nzRenderExtraFooter:"nzRenderExtraFooter",nzShowToday:"nzShowToday",nzMode:"nzMode",nzShowNow:"nzShowNow",nzRanges:"nzRanges",nzDefaultPickerValue:"nzDefaultPickerValue",nzSeparator:"nzSeparator",nzSuffixIcon:"nzSuffixIcon",nzBackdrop:"nzBackdrop",nzId:"nzId",nzPlacement:"nzPlacement",nzShowWeekNumber:"nzShowWeekNumber",nzShowTime:"nzShowTime"},outputs:{nzOnPanelChange:"nzOnPanelChange",nzOnCalendarChange:"nzOnCalendarChange",nzOnOk:"nzOnOk",nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzDatePicker"],standalone:!0,features:[t.Jv_([P.y4,Gr,{provide:m.kq,multi:!0,useExisting:(0,t.Rfq)(()=>h)}]),t.OA$,t.aNF],decls:9,vars:6,consts:[["tplRangeInput",""],["tplRightRest",""],["inlineMode",""],["pickerInput",""],["separatorElement",""],["rangePickerInput",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"positionChange","detach","overlayKeydown","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn"],[3,"class"],["autocomplete","off",3,"ngModelChange","focus","focusout","keyup.enter","disabled","readOnly","ngModel","placeholder","size"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","swap-right","nzTheme","outline"],[3,"ngTemplateOutlet"],["autocomplete","off",3,"click","focusout","focus","keyup.enter","ngModelChange","disabled","readOnly","size","ngModel","placeholder"],[3,"ngStyle"],[3,"status"],[3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nz-icon","",3,"nzType"],[3,"panelModeChange","calendarChange","resultOk","isRange","inline","defaultPickerValue","showWeek","panelMode","locale","showToday","showNow","showTime","dateRender","disabledDate","disabledTime","extraFooter","ranges","dir"],[1,"ant-picker-wrapper",3,"nzNoAnimation"]],template:function(d,p){if(1&d){const S=t.RV6();t.DNE(0,jr,2,1)(1,rh,1,1)(2,ah,2,6,"ng-template",null,0,t.C5r)(4,ch,5,10,"ng-template",null,1,t.C5r)(6,hh,2,36,"ng-template",null,2,t.C5r)(8,Ka,2,5,"ng-template",6),t.bIt("positionChange",function(Xe){return t.eBV(S),t.Njj(p.onPositionChange(Xe))})("detach",function(){return t.eBV(S),t.Njj(p.close())})("overlayKeydown",function(Xe){return t.eBV(S),t.Njj(p.onOverlayKeydown(Xe))})}2&d&&(t.vxM(0,p.nzInline?1:0),t.R7$(8),t.Y8G("cdkConnectedOverlayHasBackdrop",p.nzBackdrop)("cdkConnectedOverlayOrigin",p.origin)("cdkConnectedOverlayOpen",p.realOpenState)("cdkConnectedOverlayPositions",p.overlayPositions)("cdkConnectedOverlayTransformOriginOn",".ant-picker-wrapper"))},dependencies:[m.YN,m.me,m.BC,m.vS,f.T3,He.C,He.m,D.Y3,D.Dn,f.B3,k.J1,k.Xd,qa,ge.WB,ae.$_,ae.vT,Pe.z],encapsulation:2,data:{animation:[Ce.U1]},changeDetection:0})}return(0,F.Cg)([(0,G.H3)()],h.prototype,"nzAllowClear",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzAutoFocus",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzBorderless",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzInputReadOnly",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzInline",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzOpen",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowToday",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowNow",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzSeparator",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzSuffixIcon",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzBackdrop",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowWeekNumber",void 0),h})();var xh=v(1166),Ur=v(7481),Oh=v(4572),nf=v(9172),el=v(8141),tl=v(4412);class Ei{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(w,r=null,d=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,w instanceof Ei)return w;this.service=d||null,this.origin=w,this.key=w.key,this.parentNode=r,this._title=w.title||"---",this._icon=w.icon||"",this._isLeaf=w.isLeaf||!1,this._children=[],this._isChecked=w.checked||!1,this._isSelectable=w.disabled||!1!==w.selectable,this._isDisabled=w.disabled||!1,this._isDisableCheckbox=w.disableCheckbox||!1,this._isExpanded=!w.isLeaf&&(w.expanded||!1),this._isHalfChecked=!1,this._isSelected=!w.disabled&&w.selected||!1,this._isLoading=!1,this.isMatched=!1,this.level=r?r.level+1:0,typeof w.children<"u"&&null!==w.children&&w.children.forEach(p=>{const S=this.treeService;S&&!S.isCheckStrictly&&w.checked&&!w.disabled&&!p.disabled&&!p.disableCheckbox&&(p.checked=w.checked),this._children.push(new Ei(p,this))})}get title(){return this._title}set title(w){this._title=w,this.update()}get icon(){return this._icon}set icon(w){this._icon=w,this.update()}get children(){return this._children}set children(w){this._children=w,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(w){this._isLeaf=w,this.update()}get isChecked(){return this._isChecked}set isChecked(w){this._isChecked=w,this.origin.checked=w,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(w){this._isHalfChecked=w,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(w){this._isSelectable=w,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(w){this._isDisabled=w,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(w){this._isDisableCheckbox=w,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(w){this._isExpanded=w,this.origin.expanded=w,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(w){this._isSelected=w,this.origin.selected=w,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(w){this._isLoading=w,this.update()}setSyncChecked(w=!1,r=!1){this.setChecked(w,r),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(w=!1,r=!1){this.origin.checked=w,this.isChecked=w,this.isHalfChecked=r}setExpanded(w){this._isExpanded=w,this.origin.expanded=w,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(w,r=-1){this.isLeaf||(w.forEach(d=>{const p=te=>{te.getChildren().forEach(Xe=>{Xe.level=Xe.getParentNode().level+1,Xe.origin.level=Xe.level,p(Xe)})};let S=d;S instanceof Ei?S.parentNode=this:S=new Ei(d,this),S.level=this.level+1,S.origin.level=S.level,p(S);try{-1===r?this.children.push(S):this.children.splice(r,0,S)}catch{}}),this.origin.children=this.getChildren().map(d=>d.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){const w=this.getParentNode();w&&(w.children=w.getChildren().filter(r=>r.key!==this.key),w.origin.children=w.origin.children.filter(r=>r.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(w){if(this.treeService)switch(w){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(r=>r.key))}this.update()}update(){this.component&&this.component.markForCheck()}}function xo(h){const{isDisabled:w,isDisableCheckbox:r}=h;return!(!w&&!r)}function nl(h,w){return w.length>0&&w.indexOf(h)>-1}function ol(h=[],w=[]){const r=new Set(!0===w?[]:w),d=[];return function p(S,te=null){return S.map((Xe,Dt)=>{const on=function il(h,w){return`${h}-${w}`}(te?te.pos:"0",Dt),ln=function sl(h,w){return h??w}(Xe.key,on);Xe.isStart=[...te?te.isStart:[],0===Dt],Xe.isEnd=[...te?te.isEnd:[],Dt===S.length-1];const hn={parent:te,pos:on,children:[],data:Xe,isStart:[...te?te.isStart:[],0===Dt],isEnd:[...te?te.isEnd:[],Dt===S.length-1]};return d.push(hn),hn.children=!0===w||r.has(ln)||Xe.isExpanded?p(Xe.children||[],hn):[],hn})}(h),d}let os=(()=>{class h{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new tl.t([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(r){this.rootNodes=r,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(r,d=[]){this.flattenNodes$.next(ol(r,d).map(p=>p.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeKeys(){const r=[],d=this.getCheckedNodeList(),p=S=>{S.forEach(te=>{r.push(te.key),!(te.children.length<1)&&p(te.children)})};return p(d),r}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(r){return r.every(d=>d instanceof Ei)}setSelectedNode(r){this.selectedNode=r}setNodeActive(r){!this.isMultiple&&r.isSelected&&(this.selectedNodeList.forEach(d=>{r.key!==d.key&&(d.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(r,this.isMultiple)}setSelectedNodeList(r,d=!1){const p=this.getIndexOfArray(this.selectedNodeList,r.key);d?r.isSelected&&-1===p&&this.selectedNodeList.push(r):r.isSelected&&-1===p&&(this.selectedNodeList=[r]),r.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(S=>S.key!==r.key))}setHalfCheckedNodeList(r){const d=this.getIndexOfArray(this.halfCheckedNodeList,r.key);r.isHalfChecked&&-1===d?this.halfCheckedNodeList.push(r):!r.isHalfChecked&&d>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(p=>r.key!==p.key))}setCheckedNodeList(r){const d=this.getIndexOfArray(this.checkedNodeList,r.key);r.isChecked&&-1===d?this.checkedNodeList.push(r):!r.isChecked&&d>-1&&(this.checkedNodeList=this.checkedNodeList.filter(p=>r.key!==p.key))}conductNodeState(r="check"){let d=[];switch(r){case"select":d=this.selectedNodeList;break;case"expand":d=this.expandedNodeList;break;case"match":d=this.matchedNodeList;break;case"check":d=this.checkedNodeList;const p=S=>{const te=S.getParentNode();return!!te&&(this.checkedNodeList.findIndex(Xe=>Xe.key===te.key)>-1||p(te))};this.isCheckStrictly||(d=this.checkedNodeList.filter(S=>!p(S)));break;case"halfCheck":this.isCheckStrictly||(d=this.halfCheckedNodeList)}return d}setExpandedNodeList(r){if(r.isLeaf)return;const d=this.getIndexOfArray(this.expandedNodeList,r.key);r.isExpanded&&-1===d?this.expandedNodeList.push(r):!r.isExpanded&&d>-1&&this.expandedNodeList.splice(d,1)}setMatchedNodeList(r){const d=this.getIndexOfArray(this.matchedNodeList,r.key);r.isMatched&&-1===d?this.matchedNodeList.push(r):!r.isMatched&&d>-1&&this.matchedNodeList.splice(d,1)}refreshCheckState(r=!1){r||this.checkedNodeList.forEach(d=>{this.conduct(d,r)})}conduct(r,d=!1){const p=r.isChecked;r&&!d&&(this.conductUp(r),this.conductDown(r,p))}conductUp(r){const d=r.getParentNode();d&&(xo(d)||(d.children.every(p=>xo(p)||!p.isHalfChecked&&p.isChecked)?(d.isChecked=!0,d.isHalfChecked=!1):d.children.some(p=>p.isHalfChecked||p.isChecked)?(d.isChecked=!1,d.isHalfChecked=!0):(d.isChecked=!1,d.isHalfChecked=!1)),this.setCheckedNodeList(d),this.setHalfCheckedNodeList(d),this.conductUp(d))}conductDown(r,d){xo(r)||(r.isChecked=d,r.isHalfChecked=!1,this.setCheckedNodeList(r),this.setHalfCheckedNodeList(r),r.children.forEach(p=>{this.conductDown(p,d)}))}afterRemove(r){const d=p=>{this.selectedNodeList=this.selectedNodeList.filter(S=>S.key!==p.key),this.expandedNodeList=this.expandedNodeList.filter(S=>S.key!==p.key),this.checkedNodeList=this.checkedNodeList.filter(S=>S.key!==p.key),p.children&&p.children.forEach(S=>{d(S)})};r.forEach(p=>{d(p)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(r){0===r.children.length?this.conductUp(r):r.children.forEach(d=>{this.refreshDragNode(d)})}resetNodeLevel(r){const d=r.getParentNode();r.level=d?d.level+1:0;for(const p of r.children)this.resetNodeLevel(p)}calcDropPosition(r){const{clientY:d}=r,{top:p,bottom:S,height:te}=r.target.getBoundingClientRect(),Xe=Math.max(te*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return d<=p+Xe?-1:d>=S-Xe?1:0}dropAndApply(r,d=-1){if(!r||d>1)return;const p=r.treeService,S=r.getParentNode(),te=this.selectedNode.getParentNode();switch(te?te.children=te.children.filter(Xe=>Xe.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(Xe=>Xe.key!==this.selectedNode.key),d){case 0:r.addChildren([this.selectedNode]),this.resetNodeLevel(r);break;case-1:case 1:const Xe=1===d?1:0;if(S){S.addChildren([this.selectedNode],S.children.indexOf(r)+Xe);const Dt=this.selectedNode.getParentNode();Dt&&this.resetNodeLevel(Dt)}else{const Dt=this.rootNodes.indexOf(r)+Xe;this.rootNodes.splice(Dt,0,this.selectedNode),this.rootNodes[Dt].parentNode=null,this.resetNodeLevel(this.rootNodes[Dt])}}this.rootNodes.forEach(Xe=>{Xe.treeService||(Xe.service=p),this.refreshDragNode(Xe)})}formatEvent(r,d,p){const S={eventName:r,node:d,event:p};switch(r){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(S,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(S,{selectedKeys:this.selectedNodeList}),Object.assign(S,{nodes:this.selectedNodeList}),Object.assign(S,{keys:this.selectedNodeList.map(Xe=>Xe.key)});break;case"check":const te=this.getCheckedNodeList();Object.assign(S,{checkedKeys:te}),Object.assign(S,{nodes:te}),Object.assign(S,{keys:te.map(Xe=>Xe.key)});break;case"search":Object.assign(S,{matchedKeys:this.getMatchedNodeList()}),Object.assign(S,{nodes:this.getMatchedNodeList()}),Object.assign(S,{keys:this.getMatchedNodeList().map(Xe=>Xe.key)});break;case"expand":Object.assign(S,{nodes:this.expandedNodeList}),Object.assign(S,{keys:this.expandedNodeList.map(Xe=>Xe.key)})}return S}getIndexOfArray(r,d){return r.findIndex(p=>p.key===d)}conductCheck(r,d){this.checkedNodeList=[],this.halfCheckedNodeList=[];const p=S=>{S.forEach(te=>{null===r?te.isChecked=!!te.origin.checked:nl(te.key,r||[])?(te.isChecked=!0,te.isHalfChecked=!1):(te.isChecked=!1,te.isHalfChecked=!1),te.children.length>0&&p(te.children)})};p(this.rootNodes),this.refreshCheckState(d)}conductExpandedKeys(r=[]){const d=new Set(!0===r?[]:r);this.expandedNodeList=[];const p=S=>{S.forEach(te=>{te.setExpanded(!0===r||d.has(te.key)||!0===te.isExpanded),te.isExpanded&&this.setExpandedNodeList(te),te.children.length>0&&p(te.children)})};p(this.rootNodes)}conductSelectedKeys(r,d){this.selectedNodeList.forEach(S=>S.isSelected=!1),this.selectedNodeList=[];const p=S=>S.every(te=>{if(nl(te.key,r)){if(te.isSelected=!0,this.setSelectedNodeList(te),!d)return!1}else te.isSelected=!1;return!(te.children.length>0)||p(te.children)});p(this.rootNodes)}expandNodeAllParentBySearch(r){const d=p=>{if(p&&(p.canHide=!1,p.setExpanded(!0),this.setExpandedNodeList(p),p.getParentNode()))return d(p.getParentNode())};d(r.getParentNode())}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac})}return h})();const rl=new t.nKC("NzTreeHigherOrder");class Fs{constructor(w){this.nzTreeService=w}coerceTreeNodes(w){let r=[];return r=this.nzTreeService.isArrayOfNzTreeNode(w)?w.map(d=>(d.service=this.nzTreeService,d)):w.map(d=>new Ei(d,null,this.nzTreeService)),r}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(w){const r=[],d=p=>{r.push(p),p.getChildren().forEach(S=>{d(S)})};return this.getTreeNodes().forEach(p=>{d(p)}),r.find(p=>p.key===w)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}}var al=v(1672);const Xr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dh=/([^\#-~ |!])/g;let wh=(()=>{class h{constructor(){this.UNIQUE_WRAPPERS=["##==-open_tag-==##","##==-close_tag-==##"]}transform(r,d,p,S){if(!d)return r;const te=new RegExp(d.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),p);return function ll(h){return h.replace(/&/g,"&amp;").replace(Xr,w=>`&#${1024*(w.charCodeAt(0)-55296)+(w.charCodeAt(1)-56320)+65536};`).replace(Dh,w=>`&#${w.charCodeAt(0)};`).replace(/</g,"&lt;").replace(/>/g,"&gt;")}(r.replace(te,`${this.UNIQUE_WRAPPERS[0]}$&${this.UNIQUE_WRAPPERS[1]}`)).replace(new RegExp(this.UNIQUE_WRAPPERS[0],"g"),S?`<span class="${S}">`:"<span>").replace(new RegExp(this.UNIQUE_WRAPPERS[1],"g"),"</span>")}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275pipe=t.EJ8({name:"nzHighlight",type:h,pure:!0,standalone:!0})}return h})(),cl=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({})}return h})();var rs=v(494);function Mh(h,w){if(1&h&&t.nrm(0,"span"),2&h){const r=w.index,d=t.XpG();t.AVh("ant-tree-indent-unit",!d.nzSelectMode)("ant-select-tree-indent-unit",d.nzSelectMode)("ant-select-tree-indent-unit-start",d.nzSelectMode&&d.nzIsStart[r])("ant-tree-indent-unit-start",!d.nzSelectMode&&d.nzIsStart[r])("ant-select-tree-indent-unit-end",d.nzSelectMode&&d.nzIsEnd[r])("ant-tree-indent-unit-end",!d.nzSelectMode&&d.nzIsEnd[r])}}const hl=["builtin",""],Wr=(h,w)=>({$implicit:h,origin:w});function dl(h,w){if(1&h&&(t.qex(0),t.nrm(1,"span",4),t.bVm()),2&h){const r=t.XpG(3);t.R7$(),t.AVh("ant-select-tree-switcher-icon",r.nzSelectMode)("ant-tree-switcher-icon",!r.nzSelectMode)}}function Eh(h,w){if(1&h&&(t.qex(0),t.DNE(1,dl,2,4,"ng-container",3),t.bVm()),2&h){const r=t.XpG(2);t.R7$(),t.Y8G("nzStringTemplateOutlet",r.nzExpandedIcon)("nzStringTemplateOutletContext",t.l_i(2,Wr,r.context,r.context.origin))}}function Yr(h,w){if(1&h&&(t.qex(0),t.DNE(1,Eh,2,5,"ng-container",2),t.bVm()),2&h){const r=t.XpG(),d=t.sdS(3);t.R7$(),t.Y8G("ngIf",!r.isLoading)("ngIfElse",d)}}function Ph(h,w){if(1&h&&t.nrm(0,"span",7),2&h){const r=t.XpG(4);t.Y8G("nzType",r.isSwitcherOpen?"minus-square":"plus-square")}}function kh(h,w){1&h&&t.nrm(0,"span",8)}function Oo(h,w){if(1&h&&(t.qex(0),t.DNE(1,Ph,1,1,"span",5)(2,kh,1,0,"span",6),t.bVm()),2&h){const r=t.XpG(3);t.R7$(),t.Y8G("ngIf",r.isShowLineIcon),t.R7$(),t.Y8G("ngIf",!r.isShowLineIcon)}}function Nh(h,w){if(1&h&&(t.qex(0),t.DNE(1,Oo,3,2,"ng-container",3),t.bVm()),2&h){const r=t.XpG(2);t.R7$(),t.Y8G("nzStringTemplateOutlet",r.nzExpandedIcon)("nzStringTemplateOutletContext",t.l_i(2,Wr,r.context,r.context.origin))}}function ul(h,w){if(1&h&&(t.qex(0),t.DNE(1,Nh,2,5,"ng-container",2),t.bVm()),2&h){const r=t.XpG(),d=t.sdS(3);t.R7$(),t.Y8G("ngIf",!r.isLoading)("ngIfElse",d)}}function Ih(h,w){1&h&&t.nrm(0,"span",9),2&h&&t.Y8G("nzSpin",!0)}function Li(h,w){}function Ah(h,w){if(1&h&&t.nrm(0,"span",6),2&h){const r=t.XpG(3);t.Y8G("nzType",r.icon)}}function Do(h,w){if(1&h&&(t.j41(0,"span")(1,"span"),t.DNE(2,Ah,1,1,"span",5),t.k0s()()),2&h){const r=t.XpG(2);t.AVh("ant-tree-icon__open",r.isSwitcherOpen)("ant-tree-icon__close",r.isSwitcherClose)("ant-tree-icon_loading",r.isLoading)("ant-select-tree-iconEle",r.selectMode)("ant-tree-iconEle",!r.selectMode),t.R7$(),t.AVh("ant-select-tree-iconEle",r.selectMode)("ant-select-tree-icon__customize",r.selectMode)("ant-tree-iconEle",!r.selectMode)("ant-tree-icon__customize",!r.selectMode),t.R7$(),t.Y8G("ngIf",r.icon)}}function Rh(h,w){if(1&h&&(t.qex(0),t.DNE(1,Do,3,19,"span",3),t.nrm(2,"span",4),t.nI1(3,"nzHighlight"),t.bVm()),2&h){const r=t.XpG();t.R7$(),t.Y8G("ngIf",r.icon&&r.showIcon),t.R7$(),t.Y8G("innerHTML",t.ii3(3,2,r.title,r.matchedValue,"i","font-highlight"),t.npT)}}function Fh(h,w){if(1&h&&t.nrm(0,"nz-tree-drop-indicator",7),2&h){const r=t.XpG();t.Y8G("dropPosition",r.dragPosition)("level",r.context.level)}}function pl(h,w){if(1&h){const r=t.RV6();t.j41(0,"nz-tree-node-switcher",4),t.bIt("click",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.clickExpand(p))}),t.k0s()}if(2&h){const r=t.XpG();t.Y8G("nzShowExpand",r.nzShowExpand)("nzShowLine",r.nzShowLine)("nzExpandedIcon",r.nzExpandedIcon)("nzSelectMode",r.nzSelectMode)("context",r.nzTreeNode)("isLeaf",r.isLeaf)("isExpanded",r.isExpanded)("isLoading",r.isLoading)}}function fl(h,w){if(1&h){const r=t.RV6();t.j41(0,"nz-tree-node-checkbox",5),t.bIt("click",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.clickCheckBox(p))}),t.k0s()}if(2&h){const r=t.XpG();t.Y8G("nzSelectMode",r.nzSelectMode)("isChecked",r.isChecked)("isHalfChecked",r.isHalfChecked)("isDisabled",r.isDisabled)("isDisableCheckbox",r.isDisableCheckbox)}}const Bh=["nzTreeTemplate"],Kr=h=>({$implicit:h});function Lh(h,w){}function Vh(h,w){if(1&h&&(t.qex(0),t.DNE(1,Lh,0,0,"ng-template",10),t.bVm()),2&h){const r=w.$implicit;t.XpG(2);const d=t.sdS(9);t.R7$(),t.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",t.eq3(2,Kr,r))}}function as(h,w){if(1&h&&(t.j41(0,"cdk-virtual-scroll-viewport",8),t.DNE(1,Vh,2,4,"ng-container",9),t.k0s()),2&h){const r=t.XpG();t.xc7("height",r.nzVirtualHeight),t.AVh("ant-select-tree-list-holder-inner",r.nzSelectMode)("ant-tree-list-holder-inner",!r.nzSelectMode),t.Y8G("itemSize",r.nzVirtualItemSize)("minBufferPx",r.nzVirtualMinBufferPx)("maxBufferPx",r.nzVirtualMaxBufferPx),t.R7$(),t.Y8G("cdkVirtualForOf",r.nzFlattenNodes)("cdkVirtualForTrackBy",r.trackByFlattenNode)}}function $h(h,w){}function jh(h,w){if(1&h&&(t.qex(0),t.DNE(1,$h,0,0,"ng-template",10),t.bVm()),2&h){const r=w.$implicit;t.XpG(2);const d=t.sdS(9);t.R7$(),t.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",t.eq3(2,Kr,r))}}function Gh(h,w){if(1&h&&(t.j41(0,"div",11),t.DNE(1,jh,2,4,"ng-container",12),t.k0s()),2&h){const r=t.XpG();t.AVh("ant-select-tree-list-holder-inner",r.nzSelectMode)("ant-tree-list-holder-inner",!r.nzSelectMode),t.Y8G("@.disabled",r.beforeInit||!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("nzNoAnimation",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("@treeCollapseMotion",r.nzFlattenNodes.length),t.R7$(),t.Y8G("ngForOf",r.nzFlattenNodes)("ngForTrackBy",r.trackByFlattenNode)}}function gl(h,w){if(1&h){const r=t.RV6();t.j41(0,"nz-tree-node",13),t.bIt("nzExpandChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzClick",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzDblClick",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzContextMenu",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzCheckBoxChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDragStart",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDragEnter",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDragOver",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDragLeave",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDragEnd",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))})("nzOnDrop",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.eventTriggerChanged(p))}),t.k0s()}if(2&h){const r=w.$implicit,d=t.XpG();t.Y8G("icon",r.icon)("title",r.title)("isLoading",r.isLoading)("isSelected",r.isSelected)("isDisabled",r.isDisabled)("isMatched",r.isMatched)("isExpanded",r.isExpanded)("isLeaf",r.isLeaf)("isStart",r.isStart)("isEnd",r.isEnd)("isChecked",r.isChecked)("isHalfChecked",r.isHalfChecked)("isDisableCheckbox",r.isDisableCheckbox)("isSelectable",r.isSelectable)("canHide",r.canHide)("nzTreeNode",r)("nzSelectMode",d.nzSelectMode)("nzShowLine",d.nzShowLine)("nzExpandedIcon",d.nzExpandedIcon)("nzDraggable",d.nzDraggable)("nzCheckable",d.nzCheckable)("nzShowExpand",d.nzShowExpand)("nzAsyncData",d.nzAsyncData)("nzSearchValue",d.nzSearchValue)("nzHideUnMatched",d.nzHideUnMatched)("nzBeforeDrop",d.nzBeforeDrop)("nzShowIcon",d.nzShowIcon)("nzTreeTemplate",d.nzTreeTemplate||d.nzTreeTemplateChild)}}let Hh=(()=>{class h{constructor(r){this.cdr=r,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(r){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(r,d="ltr"){const S="ltr"===d?"left":"right",Xe={[S]:"4px",["ltr"===d?"right":"left"]:"0px"};switch(r){case-1:Xe.top="-3px";break;case 1:Xe.bottom="-3px";break;case 0:Xe.bottom="-3px",Xe[S]="28px";break;default:Xe.display="none"}this.style=Xe,this.cdr.markForCheck()}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(d,p){2&d&&(t.Aen(p.style),t.AVh("ant-tree-drop-indicator",!0))},inputs:{dropPosition:"dropPosition",level:"level",direction:"direction"},exportAs:["NzTreeDropIndicator"],standalone:!0,features:[t.OA$,t.aNF],decls:0,vars:0,template:function(d,p){},encapsulation:2,changeDetection:0})}return h})(),Uh=(()=>{class h{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(r){const{nzTreeLevel:d}=r;d&&(this.listOfUnit=[...new Array(d.currentValue||0)])}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(d,p){2&d&&(t.BMQ("aria-hidden",!0),t.AVh("ant-tree-indent",!p.nzSelectMode)("ant-select-tree-indent",p.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:1,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end",4,"ngFor","ngForOf"]],template:function(d,p){1&d&&t.DNE(0,Mh,1,12,"span",0),2&d&&t.Y8G("ngForOf",p.listOfUnit)},dependencies:[f.Sq],encapsulation:2,changeDetection:0})}return h})(),Xh=(()=>{class h{constructor(){this.nzSelectMode=!1}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(d,p){2&d&&t.AVh("ant-select-tree-checkbox",p.nzSelectMode)("ant-select-tree-checkbox-checked",p.nzSelectMode&&p.isChecked)("ant-select-tree-checkbox-indeterminate",p.nzSelectMode&&p.isHalfChecked)("ant-select-tree-checkbox-disabled",p.nzSelectMode&&(p.isDisabled||p.isDisableCheckbox))("ant-tree-checkbox",!p.nzSelectMode)("ant-tree-checkbox-checked",!p.nzSelectMode&&p.isChecked)("ant-tree-checkbox-indeterminate",!p.nzSelectMode&&p.isHalfChecked)("ant-tree-checkbox-disabled",!p.nzSelectMode&&(p.isDisabled||p.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisabled:"isDisabled",isDisableCheckbox:"isDisableCheckbox"},standalone:!0,features:[t.aNF],attrs:hl,decls:1,vars:4,template:function(d,p){1&d&&t.nrm(0,"span"),2&d&&t.AVh("ant-tree-checkbox-inner",!p.nzSelectMode)("ant-select-tree-checkbox-inner",p.nzSelectMode)},encapsulation:2,changeDetection:0})}return h})(),ni=(()=>{class h{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(d,p){2&d&&t.AVh("ant-select-tree-switcher",p.nzSelectMode)("ant-select-tree-switcher-noop",p.nzSelectMode&&p.isLeaf)("ant-select-tree-switcher_open",p.nzSelectMode&&p.isSwitcherOpen)("ant-select-tree-switcher_close",p.nzSelectMode&&p.isSwitcherClose)("ant-tree-switcher",!p.nzSelectMode)("ant-tree-switcher-noop",!p.nzSelectMode&&p.isLeaf)("ant-tree-switcher_open",!p.nzSelectMode&&p.isSwitcherOpen)("ant-tree-switcher_close",!p.nzSelectMode&&p.isSwitcherClose)},inputs:{nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:"isLeaf",isLoading:"isLoading",isExpanded:"isExpanded"},standalone:!0,features:[t.aNF],decls:4,vars:2,consts:[["loadingTemplate",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"]],template:function(d,p){1&d&&t.DNE(0,Yr,2,2,"ng-container",1)(1,ul,2,2,"ng-container",1)(2,Ih,1,1,"ng-template",null,0,t.C5r),2&d&&(t.Y8G("ngIf",p.isShowSwitchIcon),t.R7$(),t.Y8G("ngIf",p.nzShowLine))},dependencies:[D.Y3,D.Dn,f.bT,He.C,He.m],encapsulation:2,changeDetection:0})}return h})(),ml=(()=>{class h{get canDraggable(){return!(!this.draggable||this.isDisabled)||null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}constructor(r){this.cdr=r,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}ngOnChanges(r){const{showIndicator:d,dragPosition:p}=r;(d||p)&&this.cdr.markForCheck()}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(d,p){2&d&&(t.BMQ("title",p.title)("draggable",p.canDraggable)("aria-grabbed",p.canDraggable),t.AVh("draggable",p.canDraggable)("ant-select-tree-node-content-wrapper",p.selectMode)("ant-select-tree-node-content-wrapper-open",p.selectMode&&p.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",p.selectMode&&p.isSwitcherClose)("ant-select-tree-node-selected",p.selectMode&&p.isSelected)("ant-tree-node-content-wrapper",!p.selectMode)("ant-tree-node-content-wrapper-open",!p.selectMode&&p.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!p.selectMode&&p.isSwitcherClose)("ant-tree-node-selected",!p.selectMode&&p.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:"draggable",showIcon:"showIcon",selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",showIndicator:"showIndicator",dragPosition:"dragPosition"},standalone:!0,features:[t.OA$,t.aNF],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"dropPosition","level",4,"ngIf"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"dropPosition","level"]],template:function(d,p){1&d&&t.DNE(0,Li,0,0,"ng-template",0)(1,Rh,4,7,"ng-container",1)(2,Fh,1,2,"nz-tree-drop-indicator",2),2&d&&(t.Y8G("ngTemplateOutlet",p.treeTemplate)("ngTemplateOutletContext",t.l_i(4,Wr,p.context,p.context.origin)),t.R7$(),t.Y8G("ngIf",!p.treeTemplate),t.R7$(),t.Y8G("ngIf",p.showIndicator))},dependencies:[f.T3,f.bT,D.Y3,D.Dn,cl,wh,Hh],encapsulation:2,changeDetection:0})}return h})(),_l=(()=>{class h{get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(r){r.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);const d=this.nzTreeService.formatEvent("expand",this.nzTreeNode,r);this.nzExpandChange.emit(d)}clickSelect(r){r.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);const d=this.nzTreeService.formatEvent("click",this.nzTreeNode,r);this.nzClick.emit(d)}dblClick(r){r.preventDefault();const d=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,r);this.nzDblClick.emit(d)}contextMenu(r){r.preventDefault();const d=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,r);this.nzContextMenu.emit(d)}clickCheckBox(r){if(r.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);const d=this.nzTreeService.formatEvent("check",this.nzTreeNode,r);this.nzCheckBoxChange.emit(d)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(d=>{this.renderer.removeClass(this.elementRef.nativeElement,d)})}handleDragStart(r){try{r.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;const d=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,r);this.nzOnDragStart.emit(d)}handleDragEnter(r){r.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{const d=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,r);this.nzOnDragEnter.emit(d)})}handleDragOver(r){r.preventDefault();const d=this.nzTreeService.calcDropPosition(r);this.dragPos!==d&&(this.clearDragClass(),this.renderIndicator(d),0===this.dragPos&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));const p=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,r);this.nzOnDragOver.emit(p)}handleDragLeave(r){r.preventDefault(),this.renderIndicator(2),this.clearDragClass();const d=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,r);this.nzOnDragLeave.emit(d)}handleDragDrop(r){r.preventDefault(),r.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();const d=this.nzTreeService.getSelectedNode();if(!d||d&&d.key===this.nzTreeNode.key||0===this.dragPos&&this.isLeaf)return;const p=this.nzTreeService.formatEvent("drop",this.nzTreeNode,r),S=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,r);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(te=>{te&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(p),this.nzOnDragEnd.emit(S)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(p))})}handleDragEnd(r){r.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck();else{this.draggingKey=null;const d=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,r);this.nzOnDragEnd.emit(d)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){const r=this.elementRef.nativeElement;this.destroy$=new ie.B,(0,xe.R)(r,"dragstart").pipe((0,J.Q)(this.destroy$)).subscribe(d=>this.handleDragStart(d)),(0,xe.R)(r,"dragenter").pipe((0,J.Q)(this.destroy$)).subscribe(d=>this.handleDragEnter(d)),(0,xe.R)(r,"dragover").pipe((0,J.Q)(this.destroy$)).subscribe(d=>this.handleDragOver(d)),(0,xe.R)(r,"dragleave").pipe((0,J.Q)(this.destroy$)).subscribe(d=>this.handleDragLeave(d)),(0,xe.R)(r,"drop").pipe((0,J.Q)(this.destroy$)).subscribe(d=>this.handleDragDrop(d)),(0,xe.R)(r,"dragend").pipe((0,J.Q)(this.destroy$)).subscribe(d=>this.handleDragEnd(d))}else this.destroy$.next(!0),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}constructor(r,d,p,S,te,Xe){this.nzTreeService=r,this.ngZone=d,this.renderer=p,this.elementRef=S,this.cdr=te,this.noAnimation=Xe,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new t.bkB,this.nzDblClick=new t.bkB,this.nzContextMenu=new t.bkB,this.nzCheckBoxChange=new t.bkB,this.nzExpandChange=new t.bkB,this.nzOnDragStart=new t.bkB,this.nzOnDragEnter=new t.bkB,this.nzOnDragOver=new t.bkB,this.nzOnDragLeave=new t.bkB,this.nzOnDrop=new t.bkB,this.nzOnDragEnd=new t.bkB,this.destroy$=new ie.B,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.draggingKey=null,this.showIndicator=!1}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{(0,xe.R)(this.elementRef.nativeElement,"mousedown").pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.nzSelectMode&&r.preventDefault()})})}ngOnChanges(r){const{nzDraggable:d}=r;d&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}renderIndicator(r){this.ngZone.run(()=>{this.showIndicator=2!==r,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||0===r&&this.isLeaf)&&(this.dragPos=r,this.cdr.markForCheck())})}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(os),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(Pe.z,9))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(d,p){2&d&&(t.xc7("display",p.displayStyle),t.AVh("ant-select-tree-treenode",p.nzSelectMode)("ant-select-tree-treenode-disabled",p.nzSelectMode&&p.isDisabled)("ant-select-tree-treenode-switcher-open",p.nzSelectMode&&p.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",p.nzSelectMode&&p.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",p.nzSelectMode&&p.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",p.nzSelectMode&&p.isHalfChecked)("ant-select-tree-treenode-selected",p.nzSelectMode&&p.isSelected)("ant-select-tree-treenode-loading",p.nzSelectMode&&p.isLoading)("ant-tree-treenode",!p.nzSelectMode)("ant-tree-treenode-disabled",!p.nzSelectMode&&p.isDisabled)("ant-tree-treenode-switcher-open",!p.nzSelectMode&&p.isSwitcherOpen)("ant-tree-treenode-switcher-close",!p.nzSelectMode&&p.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!p.nzSelectMode&&p.isChecked)("ant-tree-treenode-checkbox-indeterminate",!p.nzSelectMode&&p.isHalfChecked)("ant-tree-treenode-selected",!p.nzSelectMode&&p.isSelected)("ant-tree-treenode-loading",!p.nzSelectMode&&p.isLoading)("dragging",p.draggingKey===p.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisableCheckbox:"isDisableCheckbox",isSelectable:"isSelectable",canHide:"canHide",isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable"},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],standalone:!0,features:[t.OA$,t.aNF],attrs:hl,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click",4,"ngIf"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click",4,"ngIf"],[3,"dblclick","click","contextmenu","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition"],[3,"click","nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading"],["builtin","",3,"click","nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox"]],template:function(d,p){1&d&&(t.nrm(0,"nz-tree-indent",0),t.DNE(1,pl,1,8,"nz-tree-node-switcher",1)(2,fl,1,5,"nz-tree-node-checkbox",2),t.j41(3,"nz-tree-node-title",3),t.bIt("dblclick",function(te){return p.dblClick(te)})("click",function(te){return p.clickSelect(te)})("contextmenu",function(te){return p.contextMenu(te)}),t.k0s()),2&d&&(t.Y8G("nzTreeLevel",p.nzTreeNode.level)("nzSelectMode",p.nzSelectMode)("nzIsStart",p.isStart)("nzIsEnd",p.isEnd),t.R7$(),t.Y8G("ngIf",p.nzShowExpand),t.R7$(),t.Y8G("ngIf",p.nzCheckable),t.R7$(),t.Y8G("icon",p.icon)("title",p.title)("isLoading",p.isLoading)("isSelected",p.isSelected)("isDisabled",p.isDisabled)("isMatched",p.isMatched)("isExpanded",p.isExpanded)("isLeaf",p.isLeaf)("searchValue",p.nzSearchValue)("treeTemplate",p.nzTreeTemplate)("draggable",p.nzDraggable)("showIcon",p.nzShowIcon)("selectMode",p.nzSelectMode)("context",p.nzTreeNode)("showIndicator",p.showIndicator)("dragPosition",p.dragPos))},dependencies:[Uh,ni,f.bT,Xh,ml],encapsulation:2,changeDetection:0})}return(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowLine",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowExpand",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzCheckable",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzAsyncData",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzHideUnMatched",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzNoAnimation",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzSelectMode",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowIcon",void 0),h})(),vl=(()=>{class h extends os{constructor(){super()}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac})}return h})();function Wh(){const h=(0,t.WQX)(rl,{skipSelf:!0,optional:!0}),w=(0,t.WQX)(vl);return h??w}let Cl=(()=>{class h extends Fs{writeValue(r){this.handleNzData(r)}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}renderTreeProperties(r){let d=!1,p=!1;const{nzData:S,nzExpandedKeys:te,nzSelectedKeys:Xe,nzCheckedKeys:Dt,nzCheckStrictly:on,nzExpandAll:ln,nzMultiple:hn,nzSearchValue:rn}=r;ln&&(d=!0,p=this.nzExpandAll),hn&&(this.nzTreeService.isMultiple=this.nzMultiple),on&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),S&&this.handleNzData(this.nzData),Dt&&this.handleCheckedKeys(this.nzCheckedKeys),on&&this.handleCheckedKeys(null),(te||ln)&&(d=!0,this.handleExpandedKeys(p||this.nzExpandedKeys)),Xe&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),rn&&(rn.firstChange&&!this.nzSearchValue||(d=!1,this.handleSearchValue(rn.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));const xn=this.getExpandedNodeList().map(Zn=>Zn.key);this.handleFlattenNodes(this.nzTreeService.rootNodes,d?p||this.nzExpandedKeys:xn)}trackByFlattenNode(r,d){return d.key}handleNzData(r){if(Array.isArray(r)){const d=this.coerceTreeNodes(r);this.nzTreeService.initTree(d)}}handleFlattenNodes(r,d=[]){this.nzTreeService.flattenTreeData(r,d)}handleCheckedKeys(r){this.nzTreeService.conductCheck(r,this.nzCheckStrictly)}handleExpandedKeys(r=[]){this.nzTreeService.conductExpandedKeys(r)}handleSelectedKeys(r,d){this.nzTreeService.conductSelectedKeys(r,d)}handleSearchValue(r,d){ol(this.nzTreeService.rootNodes,!0).map(te=>te.data).forEach(te=>{te.isMatched=(te=>d?d(te.origin):!(!r||!te.title.toLowerCase().includes(r.toLowerCase())))(te),te.canHide=!te.isMatched,te.isMatched?this.nzTreeService.expandNodeAllParentBySearch(te):(te.setExpanded(!1),this.nzTreeService.setExpandedNodeList(te)),this.nzTreeService.setMatchedNodeList(te)})}eventTriggerChanged(r){const d=r.node;switch(r.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(r);break;case"click":this.nzClick.emit(r);break;case"dblclick":this.nzDblClick.emit(r);break;case"contextmenu":this.nzContextMenu.emit(r);break;case"check":this.nzTreeService.setCheckedNodeList(d),this.nzCheckStrictly||this.nzTreeService.conduct(d);const p=this.nzTreeService.formatEvent("check",d,r.event);this.nzCheckBoxChange.emit(p);const S=this.nzTreeService.getCheckedNodeKeys();this.nzCheckedKeysChange.emit(S);break;case"dragstart":d.isExpanded&&(d.setExpanded(!d.isExpanded),this.renderTree()),this.nzOnDragStart.emit(r);break;case"dragenter":const te=this.nzTreeService.getSelectedNode();te&&te.key!==d.key&&!d.isExpanded&&!d.isLeaf&&(d.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(r);break;case"dragover":this.nzOnDragOver.emit(r);break;case"dragleave":this.nzOnDragLeave.emit(r);break;case"dragend":this.nzOnDragEnd.emit(r);break;case"drop":this.renderTree(),this.nzOnDrop.emit(r)}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(r=>r.key)),this.cdr.markForCheck()}constructor(r,d,p,S,te){super(r),this.nzConfigService=d,this.cdr=p,this.directionality=S,this.noAnimation=te,this._nzModuleName="tree",this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new t.bkB,this.nzSelectedKeysChange=new t.bkB,this.nzCheckedKeysChange=new t.bkB,this.nzSearchValueChange=new t.bkB,this.nzClick=new t.bkB,this.nzDblClick=new t.bkB,this.nzContextMenu=new t.bkB,this.nzCheckBoxChange=new t.bkB,this.nzExpandChange=new t.bkB,this.nzOnDragStart=new t.bkB,this.nzOnDragEnter=new t.bkB,this.nzOnDragOver=new t.bkB,this.nzOnDragLeave=new t.bkB,this.nzOnDrop=new t.bkB,this.nzOnDragEnd=new t.bkB,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"},this.destroy$=new ie.B,this.onChange=()=>null,this.onTouched=()=>null}ngOnInit(){this.nzTreeService.flattenNodes$.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?r.filter(d=>!d.canHide):r,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()})}ngOnChanges(r){this.renderTreeProperties(r)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(os),t.rXU(De.yx),t.rXU(t.gRc),t.rXU(Y.dS,8),t.rXU(Pe.z,9))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree"]],contentQueries:function(d,p,S){if(1&d&&t.wni(S,Bh,7),2&d){let te;t.mGM(te=t.lsd())&&(p.nzTreeTemplateChild=te.first)}},viewQuery:function(d,p){if(1&d&&t.GBs(rs.d6,5,rs.d6),2&d){let S;t.mGM(S=t.lsd())&&(p.cdkVirtualScrollViewport=S.first)}},hostVars:20,hostBindings:function(d,p){2&d&&t.AVh("ant-select-tree",p.nzSelectMode)("ant-select-tree-show-line",p.nzSelectMode&&p.nzShowLine)("ant-select-tree-icon-hide",p.nzSelectMode&&!p.nzShowIcon)("ant-select-tree-block-node",p.nzSelectMode&&p.nzBlockNode)("ant-tree",!p.nzSelectMode)("ant-tree-rtl","rtl"===p.dir)("ant-tree-show-line",!p.nzSelectMode&&p.nzShowLine)("ant-tree-icon-hide",!p.nzSelectMode&&!p.nzShowIcon)("ant-tree-block-node",!p.nzSelectMode&&p.nzBlockNode)("draggable-tree",p.nzDraggable)},inputs:{nzShowIcon:"nzShowIcon",nzHideUnMatched:"nzHideUnMatched",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzMultiple:"nzMultiple",nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],standalone:!0,features:[t.Jv_([vl,{provide:os,useFactory:Wh},{provide:m.kq,useExisting:(0,t.Rfq)(()=>h),multi:!0}]),t.Vt3,t.OA$,t.aNF],decls:10,vars:6,consts:[["nodeTemplate",""],[3,"ngStyle"],[1,"ant-tree-treenode",3,"ngStyle"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height",4,"ngIf"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation",4,"ngIf"],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],[4,"ngFor","ngForOf","ngForTrackBy"],["builtin","",3,"nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate"]],template:function(d,p){1&d&&(t.j41(0,"div"),t.nrm(1,"input",1),t.k0s(),t.j41(2,"div",2)(3,"div",3),t.nrm(4,"div",4),t.k0s()(),t.j41(5,"div",5),t.DNE(6,as,2,11,"cdk-virtual-scroll-viewport",6)(7,Gh,2,9,"div",7),t.k0s(),t.DNE(8,gl,1,28,"ng-template",null,0,t.C5r)),2&d&&(t.R7$(),t.Y8G("ngStyle",p.HIDDEN_STYLE),t.R7$(),t.Y8G("ngStyle",p.HIDDEN_NODE_STYLE),t.R7$(3),t.AVh("ant-select-tree-list",p.nzSelectMode),t.R7$(),t.Y8G("ngIf",p.nzVirtualHeight),t.R7$(),t.Y8G("ngIf",!p.nzVirtualHeight))},dependencies:[f.B3,rs.d6,rs.yg,f.bT,rs.E$,f.T3,Pe.z,f.Sq,_l],encapsulation:2,data:{animation:[Ce.iA]},changeDetection:0})}return(0,F.Cg)([(0,G.H3)(),(0,De.H4)()],h.prototype,"nzShowIcon",void 0),(0,F.Cg)([(0,G.H3)(),(0,De.H4)()],h.prototype,"nzHideUnMatched",void 0),(0,F.Cg)([(0,G.H3)(),(0,De.H4)()],h.prototype,"nzBlockNode",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzExpandAll",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzSelectMode",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzCheckStrictly",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowExpand",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowLine",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzCheckable",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzAsyncData",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDraggable",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzMultiple",void 0),h})(),Kh=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({imports:[Cl,_l,ni,ml]})}return h})();var Qh=v(851);const Zh=["nzTreeTemplate"],Jh=["treeRef"],Qr=()=>[];function qh(h,w){if(1&h&&(t.j41(0,"span",13),t.nrm(1,"nz-embed-empty",14),t.k0s()),2&h){const r=t.XpG(2);t.R7$(),t.Y8G("nzComponentName","tree-select")("specificContent",r.nzNotFoundContent)}}function ed(h,w){if(1&h){const r=t.RV6();t.j41(0,"div",10)(1,"nz-tree",11,0),t.bIt("nzExpandChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onExpandedKeysChange(p))})("nzClick",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.nzTreeClick.emit(p))})("nzCheckedKeysChange",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.updateSelectedNodes())})("nzSelectedKeysChange",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.updateSelectedNodes())})("nzCheckBoxChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.nzTreeCheckBoxChange.emit(p))})("nzSearchValueChange",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.setSearchValues(p))}),t.k0s(),t.DNE(3,qh,2,2,"span",12),t.k0s()}if(2&h){const r=t.XpG();t.AVh("ant-select-dropdown-placement-bottomLeft","bottom"===r.dropDownPosition)("ant-select-dropdown-placement-topLeft","top"===r.dropDownPosition)("ant-tree-select-dropdown-rtl","rtl"===r.dir),t.Y8G("@slideMotion","enter")("ngClass",r.dropdownClassName)("@.disabled",!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("nzNoAnimation",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("dir",r.dir)("ngStyle",r.nzDropdownStyle),t.R7$(),t.Y8G("hidden",r.isNotFound)("nzData",r.nzNodes)("nzMultiple",r.nzMultiple)("nzSearchValue",r.inputValue)("nzHideUnMatched",r.nzHideUnMatched)("nzShowIcon",r.nzShowIcon)("nzCheckable",r.nzCheckable)("nzAsyncData",r.nzAsyncData)("nzShowExpand",r.nzShowExpand)("nzShowLine",r.nzShowLine)("nzExpandedIcon",r.nzExpandedIcon)("nzExpandAll",r.nzDefaultExpandAll)("nzExpandedKeys",r.expandedKeys)("nzCheckedKeys",r.nzCheckable?r.value:t.lJ4(34,Qr))("nzSelectedKeys",r.nzCheckable?t.lJ4(35,Qr):r.value)("nzTreeTemplate",r.treeTemplate)("nzCheckStrictly",r.nzCheckStrictly)("nzVirtualItemSize",r.nzVirtualItemSize)("nzVirtualMaxBufferPx",r.nzVirtualMaxBufferPx)("nzVirtualMinBufferPx",r.nzVirtualMinBufferPx)("nzVirtualHeight",r.nzVirtualHeight),t.R7$(2),t.Y8G("ngIf",0===r.nzNodes.length||r.isNotFound)}}function td(h,w){if(1&h){const r=t.RV6();t.j41(0,"nz-select-item",17),t.bIt("delete",function(){const p=t.eBV(r).$implicit,S=t.XpG(2);return t.Njj(S.removeSelected(p,!0))}),t.k0s()}if(2&h){const r=w.$implicit,d=t.XpG(2);t.Y8G("deletable",!0)("disabled",r.isDisabled||d.nzDisabled)("label",d.nzDisplayWith(r))}}function nd(h,w){if(1&h&&(t.nrm(0,"nz-select-item",18),t.nI1(1,"slice")),2&h){const r=t.XpG(2);t.Y8G("contentTemplateOutlet",r.nzMaxTagPlaceholder)("contentTemplateOutletContext",t.i5U(1,5,r.selectedNodes,r.nzMaxTagCount))("deletable",!1)("disabled",!1)("label","+ "+(r.selectedNodes.length-r.nzMaxTagCount)+" ...")}}function id(h,w){if(1&h&&(t.qex(0),t.DNE(1,td,1,3,"nz-select-item",15),t.nI1(2,"slice"),t.DNE(3,nd,2,8,"nz-select-item",16),t.bVm()),2&h){const r=t.XpG();t.R7$(),t.Y8G("ngForOf",t.brH(2,3,r.selectedNodes,0,r.nzMaxTagCount))("ngForTrackBy",r.trackValue),t.R7$(2),t.Y8G("ngIf",r.selectedNodes.length>r.nzMaxTagCount)}}function sd(h,w){if(1&h&&t.nrm(0,"nz-select-placeholder",19),2&h){const r=t.XpG();t.xc7("display",r.placeHolderDisplay),t.Y8G("placeholder",r.nzPlaceHolder)}}function od(h,w){if(1&h&&t.nrm(0,"nz-select-item",20),2&h){const r=t.XpG();t.Y8G("deletable",!1)("disabled",!1)("label",r.nzDisplayWith(r.selectedNodes[0]))}}function rd(h,w){1&h&&t.nrm(0,"nz-select-arrow")}function ad(h,w){if(1&h&&t.nrm(0,"nz-form-item-feedback-icon",23),2&h){const r=t.XpG(3);t.Y8G("status",r.status)}}function ld(h,w){if(1&h&&t.DNE(0,ad,1,1,"nz-form-item-feedback-icon",22),2&h){const r=t.XpG(2);t.Y8G("ngIf",r.hasFeedback&&!!r.status)}}function cd(h,w){if(1&h&&(t.j41(0,"nz-select-arrow",21),t.DNE(1,ld,1,1,"ng-template",null,1,t.C5r),t.k0s()),2&h){const r=t.sdS(2),d=t.XpG();t.Y8G("showArrow",!d.isMultiple)("feedbackIcon",r)}}function hd(h,w){if(1&h){const r=t.RV6();t.j41(0,"nz-select-clear",24),t.bIt("clear",function(){t.eBV(r);const p=t.XpG();return t.Njj(p.onClearSelection())}),t.k0s()}}let Zr=(()=>{class h extends os{static#e=this.\u0275fac=(()=>{let r;return function(p){return(r||(r=t.xGo(h)))(p||h)}})();static#t=this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac})}return h})();const Jr="ant-select-dropdown ant-select-tree-dropdown",dd=[ae.pn.bottomLeft,ae.pn.bottomRight,ae.pn.topRight,ae.pn.topLeft];let ud=(()=>{class h extends Fs{set nzExpandedKeys(r){this.expandedKeys=r}get nzExpandedKeys(){return this.expandedKeys}get treeTemplate(){return this.nzTreeTemplate||this.nzTreeTemplateChild}get placeHolderDisplay(){return this.inputValue||this.isComposing||this.selectedNodes.length?"none":"block"}get isMultiple(){return this.nzMultiple||this.nzCheckable}constructor(r,d,p,S,te,Xe,Dt,on,ln,hn){super(r),this.nzConfigService=d,this.renderer=p,this.cdr=S,this.elementRef=te,this.directionality=Xe,this.focusMonitor=Dt,this.noAnimation=on,this.nzFormStatusService=ln,this.nzFormNoStatusService=hn,this._nzModuleName="treeSelect",this.nzId=null,this.nzAllowClear=!0,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzDropdownMatchSelectWidth=!0,this.nzCheckable=!1,this.nzHideUnMatched=!1,this.nzShowIcon=!1,this.nzShowSearch=!1,this.nzDisabled=!1,this.nzAsyncData=!1,this.nzMultiple=!1,this.nzDefaultExpandAll=!1,this.nzCheckStrictly=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzNodes=[],this.nzOpen=!1,this.nzSize="default",this.nzPlaceHolder="",this.nzDropdownStyle=null,this.nzBackdrop=!1,this.nzStatus="",this.nzPlacement="",this.nzDisplayWith=rn=>rn.title,this.nzMaxTagPlaceholder=null,this.nzOpenChange=new t.bkB,this.nzCleared=new t.bkB,this.nzRemoved=new t.bkB,this.nzExpandChange=new t.bkB,this.nzTreeClick=new t.bkB,this.nzTreeCheckBoxChange=new t.bkB,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.dropdownClassName=Jr,this.isComposing=!1,this.isDestroy=!0,this.isNotFound=!1,this.focused=!1,this.inputValue="",this.dropDownPosition="bottom",this.selectedNodes=[],this.expandedKeys=[],this.value=[],this.dir="ltr",this.positions=[],this.destroy$=new ie.B,this.isNzDisableFirstChange=!0,this.isComposingChange$=new ie.B,this.searchValueChange$=new ie.B,this.onChange=rn=>{},this.onTouched=()=>{},this.renderer.addClass(this.elementRef.nativeElement,"ant-select"),this.renderer.addClass(this.elementRef.nativeElement,"ant-tree-select")}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,de.F)((r,d)=>r.status===d.status&&r.hasFeedback===d.hasFeedback),(0,j.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,st.of)(!1)),(0,R.T)(([{status:r,hasFeedback:d},p])=>({status:p?"":r,hasFeedback:d})),(0,J.Q)(this.destroy$)).subscribe(({status:r,hasFeedback:d})=>{this.setStatusStyles(r,d)}),this.isDestroy=!1,this.subscribeSelectionChange(),this.directionality.change?.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.focusMonitor.monitor(this.elementRef,!0).pipe((0,J.Q)(this.destroy$)).subscribe(r=>{r?(this.focused=!0,this.cdr.markForCheck()):(this.focused=!1,this.cdr.markForCheck(),Promise.resolve().then(()=>{this.onTouched()}))}),(0,Oh.z)([this.searchValueChange$,this.isComposingChange$.pipe((0,nf.Z)(!1))]).pipe((0,J.Q)(this.destroy$)).subscribe(([r,d])=>{this.isComposing=d,d||(this.inputValue=r,this.updatePosition())})}ngOnDestroy(){this.isDestroy=!0,this.closeDropDown(),this.destroy$.next(),this.destroy$.complete()}isComposingChange(r){this.isComposingChange$.next(r)}setDisabledState(r){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||r,this.closeDropDown(),this.isNzDisableFirstChange=!1}setStatusStyles(r,d){this.status=r,this.hasFeedback=d,this.cdr.markForCheck(),this.statusCls=(0,G.LP)(this.prefixCls,r,d),Object.keys(this.statusCls).forEach(p=>{this.statusCls[p]?this.renderer.addClass(this.elementRef.nativeElement,p):this.renderer.removeClass(this.elementRef.nativeElement,p)})}ngOnChanges(r){const{nzNodes:d,nzDropdownClassName:p,nzStatus:S,nzPlacement:te}=r;if(d&&this.updateSelectedNodes(!0),p){const Xe=this.nzDropdownClassName&&this.nzDropdownClassName.trim();this.dropdownClassName=Xe?`${Jr} ${Xe}`:Jr}S&&this.setStatusStyles(this.nzStatus,this.hasFeedback),te&&this.nzPlacement&&ae.pn[this.nzPlacement]&&(this.positions=[ae.pn[this.nzPlacement]])}writeValue(r){(0,G.n9)(r)?(this.value=this.isMultiple&&Array.isArray(r)?r:[r],this.updateSelectedNodes(!0)):(this.value=[],this.selectedNodes.forEach(d=>{this.removeSelected(d,!1)}),this.selectedNodes=[]),this.cdr.markForCheck()}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}onKeydown(r){if(!this.nzDisabled)switch(r.keyCode){case Ge._f:break;case Ge.wn:this.closeDropDown();break;default:this.nzOpen||this.openDropdown()}}trigger(){this.nzDisabled||!this.nzDisabled&&this.nzOpen?this.closeDropDown():this.openDropdown()}openDropdown(){this.nzDisabled||(this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen),this.updateCdkConnectedOverlayStatus(),(this.nzShowSearch||this.isMultiple)&&this.focusOnInput())}closeDropDown(){this.onTouched(),this.nzOpen=!1,this.inputValue="",this.isNotFound=!1,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck()}onKeyDownInput(r){if(this.isMultiple&&!r.target.value&&r.keyCode===Ge.G_&&(r.preventDefault(),this.selectedNodes.length)){const S=this.selectedNodes[this.selectedNodes.length-1];S&&!S.isDisabled&&this.removeSelected(S)}}onExpandedKeysChange(r){this.nzExpandChange.emit(r),this.expandedKeys=[...r.keys]}setInputValue(r){this.searchValueChange$.next(r)}removeSelected(r,d=!0){r.isSelected=!1,r.isChecked=!1,this.nzCheckable?this.nzTreeService.conduct(r,this.nzCheckStrictly):this.nzTreeService.setSelectedNodeList(r,this.nzMultiple),d&&this.nzRemoved.emit(r)}focusOnInput(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}subscribeSelectionChange(){(0,ce.h)(this.nzTreeClick.pipe((0,el.M)(r=>{const d=r.node;this.nzCheckable&&!d.isDisabled&&!d.isDisableCheckbox&&(d.isChecked=!d.isChecked,d.isHalfChecked=!1,this.nzCheckStrictly||this.nzTreeService.conduct(d)),this.nzCheckable&&(d.isSelected=!1)}),(0,he.p)(r=>{const d=r.node;return this.nzCheckable?!d.isDisabled&&!d.isDisableCheckbox:!d.isDisabled&&d.isSelectable})),this.nzCheckable?this.nzTreeCheckBoxChange.asObservable():(0,st.of)(),this.nzCleared,this.nzRemoved).pipe((0,J.Q)(this.destroy$)).subscribe(()=>{this.updateSelectedNodes();const r=this.selectedNodes.map(d=>d.key);this.value=[...r],(this.nzShowSearch||this.isMultiple)&&(this.inputValue="",this.isNotFound=!1),this.isMultiple?(this.onChange(r),this.focusOnInput(),this.updatePosition()):(this.closeDropDown(),this.onChange(r.length?r[0]:null))})}updateSelectedNodes(r=!1){if(r){const d=this.coerceTreeNodes(this.nzNodes);this.nzTreeService.isMultiple=this.isMultiple,this.nzTreeService.isCheckStrictly=this.nzCheckStrictly,this.nzTreeService.initTree(d),this.nzCheckable?this.nzTreeService.conductCheck(this.value,this.nzCheckStrictly):this.nzTreeService.conductSelectedKeys(this.value,this.isMultiple)}this.selectedNodes=[...this.nzCheckable?this.getCheckedNodeList():this.getSelectedNodeList()].sort((d,p)=>{const S=this.value.indexOf(d.key),te=this.value.indexOf(p.key);return-1!==S&&-1!==te?S-te:-1!==S?-1:-1!==te?1:0})}updatePosition(){(0,E.j)(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}onPositionChange(r){this.dropDownPosition=r.connectionPair.originY}onClearSelection(){this.selectedNodes.forEach(r=>{this.removeSelected(r,!1)}),this.nzCleared.emit()}onClickOutside(r){this.elementRef.nativeElement.contains(r.target)||this.closeDropDown()}setSearchValues(r){Promise.resolve().then(()=>{this.isNotFound=(this.nzShowSearch||this.isMultiple)&&!!this.inputValue&&0===r.matchedKeys.length})}updateCdkConnectedOverlayStatus(){(!this.nzPlacement||!dd.includes(ae.pn[this.nzPlacement]))&&(this.triggerWidth=this.cdkOverlayOrigin.elementRef.nativeElement.getBoundingClientRect().width)}trackValue(r,d){return d.key}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(Zr),t.rXU(De.yx),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(Y.dS,8),t.rXU(Qh.FN),t.rXU(Pe.z,9),t.rXU(k.is,8),t.rXU(k.n1,8))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-tree-select"]],contentQueries:function(d,p,S){if(1&d&&t.wni(S,Zh,7),2&d){let te;t.mGM(te=t.lsd())&&(p.nzTreeTemplateChild=te.first)}},viewQuery:function(d,p){if(1&d&&(t.GBs(tt.e6,5),t.GBs(Jh,5),t.GBs(ge.$Q,7),t.GBs(ge.WB,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.nzSelectSearchComponent=S.first),t.mGM(S=t.lsd())&&(p.treeRef=S.first),t.mGM(S=t.lsd())&&(p.cdkOverlayOrigin=S.first),t.mGM(S=t.lsd())&&(p.cdkConnectedOverlay=S.first)}},hostAttrs:[1,"ant-select"],hostVars:24,hostBindings:function(d,p){1&d&&t.bIt("click",function(){return p.trigger()})("keydown",function(te){return p.onKeydown(te)}),2&d&&t.AVh("ant-select-in-form-item",!!p.nzFormStatusService)("ant-select-lg","large"===p.nzSize)("ant-select-rtl","rtl"===p.dir)("ant-select-sm","small"===p.nzSize)("ant-select-disabled",p.nzDisabled)("ant-select-single",!p.isMultiple)("ant-select-show-arrow",!p.isMultiple)("ant-select-show-search",!p.isMultiple)("ant-select-multiple",p.isMultiple)("ant-select-allow-clear",p.nzAllowClear)("ant-select-open",p.nzOpen)("ant-select-focused",p.nzOpen||p.focused)},inputs:{nzId:"nzId",nzAllowClear:"nzAllowClear",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzCheckable:"nzCheckable",nzHideUnMatched:"nzHideUnMatched",nzShowIcon:"nzShowIcon",nzShowSearch:"nzShowSearch",nzDisabled:"nzDisabled",nzAsyncData:"nzAsyncData",nzMultiple:"nzMultiple",nzDefaultExpandAll:"nzDefaultExpandAll",nzCheckStrictly:"nzCheckStrictly",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzExpandedIcon:"nzExpandedIcon",nzNotFoundContent:"nzNotFoundContent",nzNodes:"nzNodes",nzOpen:"nzOpen",nzSize:"nzSize",nzPlaceHolder:"nzPlaceHolder",nzDropdownStyle:"nzDropdownStyle",nzDropdownClassName:"nzDropdownClassName",nzBackdrop:"nzBackdrop",nzStatus:"nzStatus",nzPlacement:"nzPlacement",nzExpandedKeys:"nzExpandedKeys",nzDisplayWith:"nzDisplayWith",nzMaxTagCount:"nzMaxTagCount",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzTreeTemplate:"nzTreeTemplate"},outputs:{nzOpenChange:"nzOpenChange",nzCleared:"nzCleared",nzRemoved:"nzRemoved",nzExpandChange:"nzExpandChange",nzTreeClick:"nzTreeClick",nzTreeCheckBoxChange:"nzTreeCheckBoxChange"},exportAs:["nzTreeSelect"],standalone:!0,features:[t.Jv_([Zr,{provide:rl,useExisting:Zr},{provide:m.kq,useExisting:(0,t.Rfq)(()=>h),multi:!0}]),t.Vt3,t.OA$,t.aNF],decls:9,vars:20,consts:[["treeRef",""],["feedbackIconTpl",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth"],["cdkOverlayOrigin","",1,"ant-select-selector"],[4,"ngIf"],[3,"keydown","isComposingChange","valueChange","nzId","showInput","value","mirrorSync","disabled","focusTrigger"],[3,"placeholder","display",4,"ngIf"],[3,"deletable","disabled","label",4,"ngIf"],[3,"showArrow","feedbackIcon",4,"ngIf"],[3,"clear",4,"ngIf"],[3,"ngClass","nzNoAnimation","dir","ngStyle"],["nzNoAnimation","","nzSelectMode","","nzBlockNode","",3,"nzExpandChange","nzClick","nzCheckedKeysChange","nzSelectedKeysChange","nzCheckBoxChange","nzSearchValueChange","hidden","nzData","nzMultiple","nzSearchValue","nzHideUnMatched","nzShowIcon","nzCheckable","nzAsyncData","nzShowExpand","nzShowLine","nzExpandedIcon","nzExpandAll","nzExpandedKeys","nzCheckedKeys","nzSelectedKeys","nzTreeTemplate","nzCheckStrictly","nzVirtualItemSize","nzVirtualMaxBufferPx","nzVirtualMinBufferPx","nzVirtualHeight"],["class","ant-select-not-found",4,"ngIf"],[1,"ant-select-not-found"],[3,"nzComponentName","specificContent"],[3,"deletable","disabled","label","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"contentTemplateOutlet","contentTemplateOutletContext","deletable","disabled","label",4,"ngIf"],[3,"delete","deletable","disabled","label"],[3,"contentTemplateOutlet","contentTemplateOutletContext","deletable","disabled","label"],[3,"placeholder"],[3,"deletable","disabled","label"],[3,"showArrow","feedbackIcon"],[3,"status",4,"ngIf"],[3,"status"],[3,"clear"]],template:function(d,p){1&d&&(t.DNE(0,ed,4,36,"ng-template",2),t.bIt("overlayOutsideClick",function(te){return p.onClickOutside(te)})("detach",function(){return p.closeDropDown()})("positionChange",function(te){return p.onPositionChange(te)}),t.j41(1,"div",3),t.DNE(2,id,4,7,"ng-container",4),t.j41(3,"nz-select-search",5),t.bIt("keydown",function(te){return p.onKeyDownInput(te)})("isComposingChange",function(te){return p.isComposingChange(te)})("valueChange",function(te){return p.setInputValue(te)}),t.k0s(),t.DNE(4,sd,1,3,"nz-select-placeholder",6)(5,od,1,3,"nz-select-item",7)(6,rd,1,0,"nz-select-arrow",4)(7,cd,3,2,"nz-select-arrow",8)(8,hd,1,0,"nz-select-clear",9),t.k0s()),2&d&&(t.Y8G("cdkConnectedOverlayHasBackdrop",p.nzBackdrop)("cdkConnectedOverlayOrigin",p.cdkOverlayOrigin)("cdkConnectedOverlayPositions",p.nzPlacement?p.positions:t.lJ4(19,Qr))("cdkConnectedOverlayOpen",p.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-select-tree-dropdown")("cdkConnectedOverlayMinWidth",p.nzDropdownMatchSelectWidth?null:p.triggerWidth)("cdkConnectedOverlayWidth",p.nzDropdownMatchSelectWidth?p.triggerWidth:null),t.R7$(2),t.Y8G("ngIf",p.isMultiple),t.R7$(),t.Y8G("nzId",p.nzId)("showInput",p.nzShowSearch)("value",p.inputValue)("mirrorSync",p.isMultiple)("disabled",p.nzDisabled)("focusTrigger",p.nzOpen),t.R7$(),t.Y8G("ngIf",p.nzPlaceHolder&&0===p.selectedNodes.length),t.R7$(),t.Y8G("ngIf",!p.isMultiple&&1===p.selectedNodes.length&&!p.isComposing&&""===p.inputValue),t.R7$(),t.Y8G("ngIf",!p.isMultiple),t.R7$(),t.Y8G("ngIf",!p.isMultiple||p.hasFeedback&&!!p.status),t.R7$(),t.Y8G("ngIf",p.nzAllowClear&&!p.nzDisabled&&p.selectedNodes.length))},dependencies:[ae.$_,ae.vT,ge.WB,f.YU,Pe.z,f.B3,Kh,Cl,f.bT,al._v,al.E8,ge.$Q,f.P9,tt.DH,tt.jF,tt.vB,tt.Tb,tt.$$,tt.e6,f.pM,k.J1,k.Xd],encapsulation:2,data:{animation:[Ce.U1]}})}return(0,F.Cg)([(0,G.H3)()],h.prototype,"nzAllowClear",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowExpand",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowLine",void 0),(0,F.Cg)([(0,G.H3)(),(0,De.H4)()],h.prototype,"nzDropdownMatchSelectWidth",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzCheckable",void 0),(0,F.Cg)([(0,G.H3)(),(0,De.H4)()],h.prototype,"nzHideUnMatched",void 0),(0,F.Cg)([(0,G.H3)(),(0,De.H4)()],h.prototype,"nzShowIcon",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzShowSearch",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzAsyncData",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzMultiple",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDefaultExpandAll",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzCheckStrictly",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzSize",void 0),(0,F.Cg)([(0,De.H4)()],h.prototype,"nzBackdrop",void 0),h})();var Mo=v(7685),Vi=v(8359),yl=v(9030),qr=v(1986),zl=v(5558),ls=v(6939),bl=v(1985);const pd=new t.nKC("nz-after-next-render",{providedIn:"root",factory:()=>{const h=(0,t.WQX)(t.zZn);return new bl.c(w=>{const r=(0,t.mal)(()=>{w.next(),w.complete()},{injector:h});return()=>r.destroy()})}}),Eo=[[["nz-auto-option"]]],fd=["nz-auto-option"];function ea(h,w){if(1&h&&(t.qex(0),t.EFF(1),t.bVm()),2&h){const r=t.XpG();t.R7$(),t.JRh(r.nzLabel)}}const Sl=["*"],Bs=["panel"],gd=["content"];function md(h,w){}function _d(h,w){1&h&&t.DNE(0,md,0,0,"ng-template")}function vd(h,w){1&h&&t.SdG(0)}function Cd(h,w){if(1&h&&(t.j41(0,"nz-auto-option",8),t.EFF(1),t.k0s()),2&h){const r=w.$implicit;t.Y8G("nzValue",r.value)("nzLabel",r.label),t.R7$(),t.SpI(" ",r.label," ")}}function Tl(h,w){if(1&h&&t.DNE(0,Cd,2,3,"nz-auto-option",7),2&h){const r=t.XpG(2);t.Y8G("ngForOf",r.normalizedDataSource)}}function yd(h,w){if(1&h){const r=t.RV6();t.j41(0,"div",3,0),t.bIt("@slideMotion.done",function(p){t.eBV(r);const S=t.XpG();return t.Njj(S.onAnimationEvent(p))}),t.j41(2,"div",4)(3,"div",5),t.DNE(4,_d,1,0,null,6),t.k0s()()(),t.DNE(5,vd,1,0,"ng-template",null,1,t.C5r)(7,Tl,1,1,"ng-template",null,2,t.C5r)}if(2&h){const r=t.sdS(6),d=t.sdS(8),p=t.XpG();t.AVh("ant-select-dropdown-hidden",!p.showPanel)("ant-select-dropdown-rtl","rtl"===p.dir),t.Y8G("ngClass",p.nzOverlayClassName)("ngStyle",p.nzOverlayStyle)("nzNoAnimation",null==p.noAnimation?null:p.noAnimation.nzNoAnimation)("@slideMotion",void 0)("@.disabled",!(null==p.noAnimation||!p.noAnimation.nzNoAnimation)),t.R7$(4),t.Y8G("ngTemplateOutlet",p.nzDataSource?d:r)}}let xl=(()=>{class h{constructor(){}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-auto-optgroup"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzAutoOptgroup"],standalone:!0,features:[t.aNF],ngContentSelectors:fd,decls:3,vars:1,consts:[[1,"ant-select-item","ant-select-item-group"],[4,"nzStringTemplateOutlet"]],template:function(d,p){1&d&&(t.NAR(Eo),t.j41(0,"div",0),t.DNE(1,ea,2,1,"ng-container",1),t.k0s(),t.SdG(2)),2&d&&(t.R7$(),t.Y8G("nzStringTemplateOutlet",p.nzLabel))},dependencies:[He.C,He.m],encapsulation:2,changeDetection:0})}return h})();class zd{constructor(w,r=!1){this.source=w,this.isUserInput=r}}let ta=(()=>{class h{constructor(r,d,p,S){this.ngZone=r,this.changeDetectorRef=d,this.element=p,this.nzAutocompleteOptgroupComponent=S,this.nzDisabled=!1,this.selectionChange=new t.bkB,this.mouseEntered=new t.bkB,this.active=!1,this.selected=!1,this.destroy$=new ie.B}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,xe.R)(this.element.nativeElement,"mouseenter").pipe((0,he.p)(()=>this.mouseEntered.observers.length>0),(0,J.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>this.mouseEntered.emit(this))}),(0,xe.R)(this.element.nativeElement,"mousedown").pipe((0,J.Q)(this.destroy$)).subscribe(r=>r.preventDefault())})}ngOnDestroy(){this.destroy$.next()}select(r=!0){this.selected=!0,this.changeDetectorRef.markForCheck(),r&&this.emitSelectionChangeEvent()}deselect(){this.selected=!1,this.changeDetectorRef.markForCheck(),this.emitSelectionChangeEvent()}getLabel(){return this.nzLabel||this.nzValue.toString()}setActiveStyles(){this.active||(this.active=!0,this.changeDetectorRef.markForCheck())}setInactiveStyles(){this.active&&(this.active=!1,this.changeDetectorRef.markForCheck())}scrollIntoViewIfNeeded(){(0,G.Rt)(this.element.nativeElement)}selectViaInteraction(){this.nzDisabled||(this.selected=!this.selected,this.selected?this.setActiveStyles():this.setInactiveStyles(),this.emitSelectionChangeEvent(!0),this.changeDetectorRef.markForCheck())}emitSelectionChangeEvent(r=!1){this.selectionChange.emit(new zd(this,r))}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(xl,8))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-auto-option"]],hostAttrs:["role","menuitem",1,"ant-select-item","ant-select-item-option"],hostVars:10,hostBindings:function(d,p){1&d&&t.bIt("click",function(){return p.selectViaInteraction()}),2&d&&(t.BMQ("aria-selected",p.selected.toString())("aria-disabled",p.nzDisabled.toString()),t.AVh("ant-select-item-option-grouped",p.nzAutocompleteOptgroupComponent)("ant-select-item-option-selected",p.selected)("ant-select-item-option-active",p.active)("ant-select-item-option-disabled",p.nzDisabled))},inputs:{nzValue:"nzValue",nzLabel:"nzLabel",nzDisabled:"nzDisabled"},outputs:{selectionChange:"selectionChange",mouseEntered:"mouseEntered"},exportAs:["nzAutoOption"],standalone:!0,features:[t.aNF],ngContentSelectors:Sl,decls:2,vars:0,consts:[[1,"ant-select-item-option-content"]],template:function(d,p){1&d&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.k0s())},encapsulation:2,changeDetection:0})}return(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),h})();const bd={provide:m.kq,useExisting:(0,t.Rfq)(()=>Ol),multi:!0};let Ol=(()=>{class h{get activeOption(){return this.nzAutocomplete&&this.nzAutocomplete.options.length?this.nzAutocomplete.activeItem:null}constructor(r,d,p,S,te,Xe){this.ngZone=r,this.elementRef=d,this.overlay=p,this.viewContainerRef=S,this.nzInputGroupWhitSuffixOrPrefixDirective=te,this.document=Xe,this.onChange=()=>{},this.onTouched=()=>{},this.panelOpen=!1,this.destroy$=new ie.B,this.overlayRef=null,this.portal=null,this.previousValue=null}ngAfterViewInit(){this.nzAutocomplete&&this.nzAutocomplete.animationStateChange.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{"void"===r.toState&&this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroyPanel()}writeValue(r){this.ngZone.runOutsideAngular(()=>Promise.resolve(null).then(()=>this.setTriggerValue(r)))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r,this.closePanel()}openPanel(){this.previousValue=this.elementRef.nativeElement.value,this.attachOverlay(),this.updateStatus()}closePanel(){this.panelOpen&&(this.nzAutocomplete.isOpen=this.panelOpen=!1,this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.selectionChangeSubscription.unsubscribe(),this.overlayOutsideClickSubscription.unsubscribe(),this.optionsChangeSubscription.unsubscribe(),this.portal=null))}handleKeydown(r){const d=r.keyCode,p=d===Ge.i7||d===Ge.n6;d===Ge._f&&r.preventDefault(),!this.panelOpen||d!==Ge._f&&d!==Ge.wn?this.panelOpen&&d===Ge.Fm?this.nzAutocomplete.showPanel&&(r.preventDefault(),this.activeOption?this.activeOption.selectViaInteraction():this.closePanel()):this.panelOpen&&p&&this.nzAutocomplete.showPanel&&(r.stopPropagation(),r.preventDefault(),d===Ge.i7?this.nzAutocomplete.setPreviousItemActive():this.nzAutocomplete.setNextItemActive(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded(),this.doBackfill()):(this.activeOption&&this.activeOption.getLabel()!==this.previousValue&&this.setTriggerValue(this.previousValue),this.closePanel())}handleInput(r){const d=r.target,p=this.document;let S=d.value;"number"===d.type&&(S=""===S?null:parseFloat(S)),this.previousValue!==S&&(this.previousValue=S,this.onChange(S),this.canOpen()&&p.activeElement===r.target&&this.openPanel())}handleFocus(){this.canOpen()&&this.openPanel()}handleBlur(){this.onTouched()}subscribeOptionsChange(){return this.nzAutocomplete.options.changes.pipe((0,el.M)(()=>this.positionStrategy.reapplyLastPosition()),(0,qr.c)(0)).subscribe(()=>{this.resetActiveItem(),this.panelOpen&&this.overlayRef.updatePosition()})}subscribeSelectionChange(){return this.nzAutocomplete.selectionChange.subscribe(r=>{this.setValueAndClose(r)})}subscribeOverlayOutsideClick(){return this.overlayRef.outsidePointerEvents().pipe((0,he.p)(r=>!this.elementRef.nativeElement.contains(r.target))).subscribe(()=>{this.closePanel()})}attachOverlay(){if(!this.nzAutocomplete)throw function Sd(){return Error("Attempting to open an undefined instance of `nz-autocomplete`. Make sure that the id passed to the `nzAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.")}();!this.portal&&this.nzAutocomplete.template&&(this.portal=new ls.VA(this.nzAutocomplete.template,this.viewContainerRef)),this.overlayRef||(this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.selectionChangeSubscription=this.subscribeSelectionChange(),this.optionsChangeSubscription=this.subscribeOptionsChange(),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick(),this.overlayRef.detachments().pipe((0,J.Q)(this.destroy$)).subscribe(()=>{this.closePanel()})),this.nzAutocomplete.isOpen=this.panelOpen=!0}updateStatus(){this.overlayRef&&this.overlayRef.updateSize({width:this.nzAutocomplete.nzWidth||this.getHostWidth()}),this.nzAutocomplete.setVisibility(),this.resetActiveItem(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded()}destroyPanel(){this.overlayRef&&this.closePanel()}getOverlayConfig(){return new ge.rR({positionStrategy:this.getOverlayPosition(),disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.reposition(),width:this.nzAutocomplete.nzWidth||this.getHostWidth()})}getConnectedElement(){return this.nzInputGroupWhitSuffixOrPrefixDirective?this.nzInputGroupWhitSuffixOrPrefixDirective.elementRef:this.elementRef}getHostWidth(){return this.getConnectedElement().nativeElement.getBoundingClientRect().width}getOverlayPosition(){const r=[new ge.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new ge.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPositions(r).withTransformOriginOn(".ant-select-dropdown"),this.positionStrategy}resetActiveItem(){const r=this.nzAutocomplete.getOptionIndex(this.previousValue);this.nzAutocomplete.clearSelectedOptions(null,!0),-1!==r?(this.nzAutocomplete.setActiveItem(r),this.nzAutocomplete.activeItem.select(!1)):this.nzAutocomplete.setActiveItem(this.nzAutocomplete.nzDefaultActiveFirstOption?0:-1)}setValueAndClose(r){const d=r.nzValue;this.setTriggerValue(r.getLabel()),this.onChange(d),this.elementRef.nativeElement.focus(),this.closePanel()}setTriggerValue(r){const d=this.nzAutocomplete.getOption(r),p=d?d.getLabel():r;this.elementRef.nativeElement.value=p??"",this.nzAutocomplete.nzBackfill||(this.previousValue=p)}doBackfill(){this.nzAutocomplete.nzBackfill&&this.nzAutocomplete.activeItem&&this.setTriggerValue(this.nzAutocomplete.activeItem.getLabel())}canOpen(){const r=this.elementRef.nativeElement;return!r.readOnly&&!r.disabled}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(ge.hJ),t.rXU(t.c1b),t.rXU(ze.vN,8),t.rXU(f.qQ,8))};static#t=this.\u0275dir=t.FsC({type:h,selectors:[["input","nzAutocomplete",""],["textarea","nzAutocomplete",""]],hostAttrs:["autocomplete","off","aria-autocomplete","list"],hostBindings:function(d,p){1&d&&t.bIt("focusin",function(){return p.handleFocus()})("blur",function(){return p.handleBlur()})("input",function(te){return p.handleInput(te)})("keydown",function(te){return p.handleKeydown(te)})},inputs:{nzAutocomplete:"nzAutocomplete"},exportAs:["nzAutocompleteTrigger"],standalone:!0,features:[t.Jv_([bd])]})}return h})(),Td=(()=>{class h{get options(){return this.nzDataSource?this.fromDataSourceOptions:this.fromContentOptions}constructor(r,d,p){this.changeDetectorRef=r,this.directionality=d,this.noAnimation=p,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzDefaultActiveFirstOption=!0,this.nzBackfill=!1,this.compareWith=(S,te)=>S===te,this.selectionChange=new t.bkB,this.showPanel=!0,this.isOpen=!1,this.activeItem=null,this.dir="ltr",this.normalizedDataSource=[],this.destroy$=new ie.B,this.animationStateChange=new t.bkB,this.activeItemIndex=-1,this.selectionChangeSubscription=Vi.yU.EMPTY,this.optionMouseEnterSubscription=Vi.yU.EMPTY,this.dataSourceChangeSubscription=Vi.yU.EMPTY,this.optionSelectionChanges=(0,yl.v)(()=>this.options?(0,ce.h)(...this.options.map(S=>S.selectionChange)):this.afterNextRender$.pipe((0,zl.n)(()=>this.optionSelectionChanges))),this.optionMouseEnter=(0,yl.v)(()=>this.options?(0,ce.h)(...this.options.map(S=>S.mouseEntered)):this.afterNextRender$.pipe((0,zl.n)(()=>this.optionMouseEnter))),this.afterNextRender$=(0,t.WQX)(pd)}ngOnInit(){this.directionality.change?.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.dir=r,this.changeDetectorRef.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(r){const{nzDataSource:d}=r;d&&(this.normalizedDataSource=function cs(h){return h?.map(w=>"number"==typeof w||"string"==typeof w?{label:w.toString(),value:w.toString()}:w)}(d.currentValue))}onAnimationEvent(r){this.animationStateChange.emit(r)}ngAfterContentInit(){this.nzDataSource||this.optionsInit()}ngAfterViewInit(){this.nzDataSource&&this.optionsInit()}ngOnDestroy(){this.dataSourceChangeSubscription.unsubscribe(),this.selectionChangeSubscription.unsubscribe(),this.optionMouseEnterSubscription.unsubscribe(),this.dataSourceChangeSubscription=this.selectionChangeSubscription=this.optionMouseEnterSubscription=null,this.destroy$.next(),this.destroy$.complete()}setVisibility(){this.showPanel=!!this.options.length,this.changeDetectorRef.markForCheck()}setActiveItem(r){const d=this.options.get(r);d&&!d.active?(this.activeItem=d,this.activeItemIndex=r,this.clearSelectedOptions(this.activeItem),this.activeItem.setActiveStyles()):(this.activeItem=null,this.activeItemIndex=-1,this.clearSelectedOptions()),this.changeDetectorRef.markForCheck()}setNextItemActive(){this.setActiveItem(this.activeItemIndex+1<=this.options.length-1?this.activeItemIndex+1:0)}setPreviousItemActive(){this.setActiveItem(this.activeItemIndex-1<0?this.options.length-1:this.activeItemIndex-1)}getOptionIndex(r){return this.options.reduce((d,p,S)=>-1===d?this.compareWith(r,p.nzValue)?S:-1:d,-1)}getOption(r){return this.options.find(d=>this.compareWith(r,d.nzValue))||null}optionsInit(){this.setVisibility(),this.subscribeOptionChanges(),this.dataSourceChangeSubscription=(this.nzDataSource?this.fromDataSourceOptions.changes:this.fromContentOptions.changes).subscribe(d=>{!d.dirty&&this.isOpen&&setTimeout(()=>this.setVisibility()),this.subscribeOptionChanges()})}clearSelectedOptions(r,d=!1){this.options.forEach(p=>{p!==r&&(d&&p.deselect(),p.setInactiveStyles())})}subscribeOptionChanges(){this.selectionChangeSubscription.unsubscribe(),this.selectionChangeSubscription=this.optionSelectionChanges.pipe((0,he.p)(r=>r.isUserInput)).subscribe(r=>{r.source.select(),r.source.setActiveStyles(),this.activeItem=r.source,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(r.source,!0),this.selectionChange.emit(r.source)}),this.optionMouseEnterSubscription.unsubscribe(),this.optionMouseEnterSubscription=this.optionMouseEnter.subscribe(r=>{r.setActiveStyles(),this.activeItem=r,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(r)})}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(t.gRc),t.rXU(Y.dS,8),t.rXU(Pe.z,9))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-autocomplete"]],contentQueries:function(d,p,S){if(1&d&&t.wni(S,ta,5),2&d){let te;t.mGM(te=t.lsd())&&(p.fromContentOptions=te)}},viewQuery:function(d,p){if(1&d&&(t.GBs(t.C4Q,5),t.GBs(Bs,5),t.GBs(gd,5),t.GBs(ta,5)),2&d){let S;t.mGM(S=t.lsd())&&(p.template=S.first),t.mGM(S=t.lsd())&&(p.panel=S.first),t.mGM(S=t.lsd())&&(p.content=S.first),t.mGM(S=t.lsd())&&(p.fromDataSourceOptions=S)}},inputs:{nzWidth:"nzWidth",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzDefaultActiveFirstOption:"nzDefaultActiveFirstOption",nzBackfill:"nzBackfill",compareWith:"compareWith",nzDataSource:"nzDataSource"},outputs:{selectionChange:"selectionChange"},exportAs:["nzAutocomplete"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:Sl,decls:1,vars:0,consts:[["panel",""],["contentTemplate",""],["optionsTemplate",""],[1,"ant-select-dropdown","ant-select-dropdown-placement-bottomLeft",3,"ngClass","ngStyle","nzNoAnimation"],[2,"max-height","256px","overflow-y","auto","overflow-anchor","none"],[2,"display","flex","flex-direction","column"],[4,"ngTemplateOutlet"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(d,p){1&d&&(t.NAR(),t.DNE(0,yd,9,10,"ng-template"))},dependencies:[f.YU,f.pM,f.B3,f.T3,ta,Pe.z],encapsulation:2,data:{animation:[Ce.U1]},changeDetection:0})}return(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDefaultActiveFirstOption",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzBackfill",void 0),h})(),xd=(()=>{class h{static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275mod=t.$C({type:h});static#n=this.\u0275inj=t.G2t({imports:[xl]})}return h})();var Od=v(2986),na=v(3190);const Dl=["nz-rate-item",""],Po=h=>({$implicit:h});function Dd(h,w){}function hs(h,w){}function wd(h,w){1&h&&t.nrm(0,"span",4)}const ko=["ulElement"];function Md(h,w){if(1&h){const r=t.RV6();t.j41(0,"li",2)(1,"div",3),t.bIt("itemHover",function(p){const S=t.eBV(r).$index,te=t.XpG();return t.Njj(te.onItemHover(S,p))})("itemClick",function(p){const S=t.eBV(r).$index,te=t.XpG();return t.Njj(te.onItemClick(S,p))}),t.k0s()()}if(2&h){const r=w.$index,d=t.XpG();t.Y8G("ngClass",d.starStyleArray[r]||"")("nzTooltipTitle",d.nzTooltips[r]),t.R7$(),t.Y8G("allowHalf",d.nzAllowHalf)("character",d.nzCharacter)("index",r)}}let wl=(()=>{class h{constructor(){this.index=0,this.allowHalf=!1,this.itemHover=new t.bkB,this.itemClick=new t.bkB}hoverRate(r){this.itemHover.next(r&&this.allowHalf)}clickRate(r){this.itemClick.next(r&&this.allowHalf)}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["","nz-rate-item",""]],inputs:{character:"character",index:"index",allowHalf:"allowHalf"},outputs:{itemHover:"itemHover",itemClick:"itemClick"},exportAs:["nzRateItem"],standalone:!0,features:[t.aNF],attrs:Dl,decls:6,vars:8,consts:[["defaultCharacter",""],[1,"ant-rate-star-second",3,"mouseover","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-rate-star-first",3,"mouseover","click"],["nz-icon","","nzType","star","nzTheme","fill"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"div",1),t.bIt("mouseover",function(Xe){return t.eBV(S),p.hoverRate(!1),t.Njj(Xe.stopPropagation())})("click",function(){return t.eBV(S),t.Njj(p.clickRate(!1))}),t.DNE(1,Dd,0,0,"ng-template",2),t.k0s(),t.j41(2,"div",3),t.bIt("mouseover",function(Xe){return t.eBV(S),p.hoverRate(!0),t.Njj(Xe.stopPropagation())})("click",function(){return t.eBV(S),t.Njj(p.clickRate(!0))}),t.DNE(3,hs,0,0,"ng-template",2),t.k0s(),t.DNE(4,wd,1,0,"ng-template",null,0,t.C5r)}if(2&d){const S=t.sdS(5);t.R7$(),t.Y8G("ngTemplateOutlet",p.character||S)("ngTemplateOutletContext",t.eq3(4,Po,p.index)),t.R7$(2),t.Y8G("ngTemplateOutlet",p.character||S)("ngTemplateOutletContext",t.eq3(6,Po,p.index))}},dependencies:[f.T3,D.Y3,D.Dn],encapsulation:2,changeDetection:0})}return(0,F.Cg)([(0,G.H3)()],h.prototype,"allowHalf",void 0),h})(),Mn=(()=>{class h{get nzValue(){return this._value}set nzValue(r){this._value!==r&&(this._value=r,this.hasHalf=!Number.isInteger(r),this.hoverValue=Math.ceil(r))}constructor(r,d,p,S,te,Xe){this.nzConfigService=r,this.ngZone=d,this.renderer=p,this.cdr=S,this.directionality=te,this.destroy$=Xe,this._nzModuleName="rate",this.nzAllowClear=!0,this.nzAllowHalf=!1,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzCount=5,this.nzTooltips=[],this.nzOnBlur=new t.bkB,this.nzOnFocus=new t.bkB,this.nzOnHoverChange=new t.bkB,this.nzOnKeyDown=new t.bkB,this.classMap={},this.starArray=[],this.starStyleArray=[],this.dir="ltr",this.hasHalf=!1,this.hoverValue=0,this.isFocused=!1,this._value=0,this.isNzDisableFirstChange=!0,this.onChange=()=>null,this.onTouched=()=>null}ngOnChanges(r){const{nzAutoFocus:d,nzCount:p,nzValue:S}=r;if(d&&!d.isFirstChange()){const te=this.ulElement.nativeElement;this.nzAutoFocus&&!this.nzDisabled?this.renderer.setAttribute(te,"autofocus","autofocus"):this.renderer.removeAttribute(te,"autofocus")}p&&this.updateStarArray(),S&&this.updateStarStyle()}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent("rate").pipe((0,J.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change.pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.dir=r,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,xe.R)(this.ulElement.nativeElement,"focus").pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.isFocused=!0,this.nzOnFocus.observers.length&&this.ngZone.run(()=>this.nzOnFocus.emit(r))}),(0,xe.R)(this.ulElement.nativeElement,"blur").pipe((0,J.Q)(this.destroy$)).subscribe(r=>{this.isFocused=!1,this.nzOnBlur.observers.length&&this.ngZone.run(()=>this.nzOnBlur.emit(r))})})}onItemClick(r,d){if(this.nzDisabled)return;this.hoverValue=r+1;const p=d?r+.5:r+1;this.nzValue===p?this.nzAllowClear&&(this.nzValue=0,this.onChange(this.nzValue)):(this.nzValue=p,this.onChange(this.nzValue)),this.updateStarStyle()}onItemHover(r,d){this.nzDisabled||this.hoverValue===r+1&&d===this.hasHalf||(this.hoverValue=r+1,this.hasHalf=d,this.nzOnHoverChange.emit(this.hoverValue),this.updateStarStyle())}onRateLeave(){this.hasHalf=!Number.isInteger(this.nzValue),this.hoverValue=Math.ceil(this.nzValue),this.updateStarStyle()}focus(){this.ulElement.nativeElement.focus()}blur(){this.ulElement.nativeElement.blur()}onKeyDown(r){const d=this.nzValue;r.keyCode===Ge.LE&&this.nzValue<this.nzCount?this.nzValue+=this.nzAllowHalf?.5:1:r.keyCode===Ge.UQ&&this.nzValue>0&&(this.nzValue-=this.nzAllowHalf?.5:1),d!==this.nzValue&&(this.onChange(this.nzValue),this.nzOnKeyDown.emit(r),this.updateStarStyle(),this.cdr.markForCheck())}updateStarArray(){this.starArray=Array(this.nzCount).fill(0).map((r,d)=>d),this.updateStarStyle()}updateStarStyle(){this.starStyleArray=this.starArray.map(r=>{const d="ant-rate-star",p=r+1;return{[`${d}-full`]:p<this.hoverValue||!this.hasHalf&&p===this.hoverValue,[`${d}-half`]:this.hasHalf&&p===this.hoverValue,[`${d}-active`]:this.hasHalf&&p===this.hoverValue,[`${d}-zero`]:p>this.hoverValue,[`${d}-focused`]:this.hasHalf&&p===this.hoverValue&&this.isFocused}})}writeValue(r){this.nzValue=r||0,this.updateStarArray(),this.cdr.markForCheck()}setDisabledState(r){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||r,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(De.yx),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(Y.dS,8),t.rXU(P.y4))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["nz-rate"]],viewQuery:function(d,p){if(1&d&&t.GBs(ko,7),2&d){let S;t.mGM(S=t.lsd())&&(p.ulElement=S.first)}},inputs:{nzAllowClear:"nzAllowClear",nzAllowHalf:"nzAllowHalf",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzCharacter:"nzCharacter",nzCount:"nzCount",nzTooltips:"nzTooltips"},outputs:{nzOnBlur:"nzOnBlur",nzOnFocus:"nzOnFocus",nzOnHoverChange:"nzOnHoverChange",nzOnKeyDown:"nzOnKeyDown"},exportAs:["nzRate"],standalone:!0,features:[t.Jv_([P.y4,{provide:m.kq,useExisting:(0,t.Rfq)(()=>h),multi:!0}]),t.OA$,t.aNF],decls:4,vars:6,consts:[["ulElement",""],[1,"ant-rate",3,"keydown","mouseleave","ngClass","tabindex"],["nz-tooltip","",1,"ant-rate-star",3,"ngClass","nzTooltipTitle"],["nz-rate-item","",3,"itemHover","itemClick","allowHalf","character","index"]],template:function(d,p){if(1&d){const S=t.RV6();t.j41(0,"ul",1,0),t.bIt("keydown",function(Xe){return t.eBV(S),p.onKeyDown(Xe),t.Njj(Xe.preventDefault())})("mouseleave",function(Xe){return t.eBV(S),p.onRateLeave(),t.Njj(Xe.stopPropagation())}),t.Z7z(2,Md,2,5,"li",2,t.fX1),t.k0s()}2&d&&(t.AVh("ant-rate-disabled",p.nzDisabled)("ant-rate-rtl","rtl"===p.dir),t.Y8G("ngClass",p.classMap)("tabindex",p.nzDisabled?-1:1),t.R7$(2),t.Dyx(p.starArray))},dependencies:[f.YU,Te.Qt,Te.LH,wl],encapsulation:2,changeDetection:0})}return(0,F.Cg)([(0,De.H4)(),(0,G.H3)()],h.prototype,"nzAllowClear",void 0),(0,F.Cg)([(0,De.H4)(),(0,G.H3)()],h.prototype,"nzAllowHalf",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzDisabled",void 0),(0,F.Cg)([(0,G.H3)()],h.prototype,"nzAutoFocus",void 0),(0,F.Cg)([(0,G.YI)()],h.prototype,"nzCount",void 0),h})();var El=v(7529),Ed=v(6530),Pd=v(9437),kd=v(6504),No=v(1626);const Ls=(h,w)=>({fields:h,group:w}),Pl=()=>[",","\uff0c"," ",";"],ia=(h,w)=>({field:h,control:w});function Nd(h,w){1&h&&(t.qex(0),t.EFF(1,"\u5fc5\u586b\u9879"),t.bVm())}function sa(h,w){1&h&&(t.qex(0),t.EFF(1,"\u683c\u5f0f\u4e0d\u5bf9"),t.bVm())}function Id(h,w){1&h&&(t.qex(0),t.EFF(1,"\u592a\u5c0f\u4e86"),t.bVm())}function Ad(h,w){1&h&&(t.qex(0),t.EFF(1,"\u592a\u5927\u4e86"),t.bVm())}function Rd(h,w){1&h&&(t.qex(0),t.EFF(1,"\u592a\u77ed\u4e86"),t.bVm())}function kl(h,w){1&h&&(t.qex(0),t.EFF(1,"\u592a\u957f\u4e86"),t.bVm())}function Fd(h,w){if(1&h&&t.DNE(0,Nd,2,0,"ng-container",6)(1,sa,2,0,"ng-container",6)(2,Id,2,0,"ng-container",6)(3,Ad,2,0,"ng-container",6)(4,Rd,2,0,"ng-container",6)(5,kl,2,0,"ng-container",6),2&h){const r=w.$implicit;t.Y8G("ngIf",r.hasError("required")),t.R7$(),t.Y8G("ngIf",r.hasError("pattern")),t.R7$(),t.Y8G("ngIf",r.hasError("min")),t.R7$(),t.Y8G("ngIf",r.hasError("max")),t.R7$(),t.Y8G("ngIf",r.hasError("minlength")),t.R7$(),t.Y8G("ngIf",r.hasError("maxlength"))}}function Bd(h,w){if(1&h&&t.nrm(0,"input",7)(1,"nz-autocomplete",8,3),2&h){const r=t.sdS(2),d=t.XpG(),p=d.field;t.Y8G("formControl",d.control)("minlength",p.min||0)("maxlength",p.max||255)("placeholder",p.placeholder||"")("nzAutocomplete",r),t.R7$(),t.Y8G("nzDataSource",p.auth)}}function Ld(h,w){if(1&h&&t.nrm(0,"input",9),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("minlength",d.min||0)("maxlength",d.max||255)("placeholder",d.placeholder||"")}}function oa(h,w){if(1&h&&t.nrm(0,"nz-input-number",10),2&h){const r=t.XpG(),d=r.field,p=r.control,S=t.XpG();t.Y8G("formControl",p)("nzMin",void 0===d.min?-S.Infinity:d.min)("nzMax",void 0===d.max?S.Infinity:d.max)("nzStep",d.step||1)("nzPlaceHolder",d.placeholder||"")}}function Vd(h,w){if(1&h&&t.nrm(0,"nz-slider",11),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzMin",d.min||0)("nzMax",d.max||100)("nzStep",d.step)}}function $d(h,w){if(1&h&&(t.j41(0,"label",14),t.EFF(1),t.k0s()),2&h){const r=w.$implicit;t.Y8G("nzValue",r.value)("nzDisabled",r.disabled),t.R7$(),t.JRh(r.label)}}function jd(h,w){if(1&h&&(t.j41(0,"nz-radio-group",12),t.DNE(1,$d,2,3,"label",13),t.k0s()),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control),t.R7$(),t.Y8G("ngForOf",d.options)}}function Gd(h,w){if(1&h&&t.nrm(0,"nz-select",15),2&h){const r=t.XpG(),d=r.field,p=r.control,S=t.XpG();t.Y8G("formControl",p)("nzOptions",d.options||S.empty)("nzPlaceHolder",d.placeholder||"")}}function Hd(h,w){if(1&h&&t.nrm(0,"nz-select",16),2&h){const r=t.XpG(),d=r.field,p=r.control,S=t.XpG();t.Y8G("formControl",p)("nzTokenSeparators",t.lJ4(4,Pl))("nzOptions",d.options||S.empty)("nzPlaceHolder",d.placeholder||"\u8f93\u5165 \u9017\u53f7\uff0c\u5206\u53f7\uff0c\u7a7a\u683c \u5206\u9694")}}function Ud(h,w){if(1&h){const r=t.RV6();t.j41(0,"nz-tree-select",17),t.bIt("nzTreeCheckBoxChange",function(p){t.eBV(r);const S=t.XpG().field;return t.Njj(null==S.change?null:S.change(p))}),t.k0s()}if(2&h){const r=t.XpG(),d=r.field,p=r.control,S=t.XpG();t.Y8G("formControl",p)("nzNodes",d.tree||S.empty)("nzMultiple",d.multiple)("nzPlaceHolder",d.placeholder||"")}}function Xd(h,w){if(1&h&&t.nrm(0,"nz-color-picker",18),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzAllowClear",d.clear)}}function Wd(h,w){if(1&h&&t.nrm(0,"nz-switch",19),2&h){const r=t.XpG().control;t.Y8G("formControl",r)}}function Yd(h,w){if(1&h&&t.nrm(0,"label",20),2&h){const r=t.XpG().control;t.Y8G("formControl",r)}}function Kd(h,w){if(1&h&&(t.j41(0,"nz-textarea-count",21),t.nrm(1,"textarea",22),t.k0s()),2&h){const r=t.XpG(),p=r.control;t.Y8G("nzMaxCharacterCount",r.field.max||255),t.R7$(),t.Y8G("formControl",p)}}function Qd(h,w){if(1&h&&t.nrm(0,"nz-slider",23),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzMax",d.max)("nzMin",d.min)("nzStep",d.step)}}function Zd(h,w){if(1&h&&t.nrm(0,"nz-rate",19),2&h){const r=t.XpG().control;t.Y8G("formControl",r)}}function Jd(h,w){if(1&h&&t.nrm(0,"nz-date-picker",24),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzPlaceHolder",d.placeholder||"")}}function Nl(h,w){if(1&h&&t.nrm(0,"nz-date-picker",25),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzPlaceHolder",d.placeholder||"")}}function ra(h,w){if(1&h&&t.nrm(0,"nz-time-picker",25),2&h){const r=t.XpG(),d=r.field;t.Y8G("formControl",r.control)("nzPlaceHolder",d.placeholder||"")}}function qd(h,w){if(1&h){const r=t.RV6();t.j41(0,"nz-upload",28),t.bIt("nzChange",function(p){t.eBV(r);const S=t.XpG(2).control,te=t.XpG();return t.Njj(te.handleUpload(S,p))}),t.j41(1,"button",29),t.EFF(2,"\u4e0a\u4f20"),t.k0s()()}if(2&h){const r=t.XpG(2).field;t.Y8G("nzAction",r.upload)("nzShowUploadList",!1)("nzDisabled",!!r.disabled),t.R7$(),t.Y8G("disabled",!!r.disabled)}}function eu(h,w){if(1&h&&(t.j41(0,"nz-input-group",26),t.nrm(1,"input",27),t.k0s(),t.DNE(2,qd,3,4,"ng-template",null,4,t.C5r)),2&h){const r=t.sdS(3),d=t.XpG(),p=d.field,S=d.control;t.Y8G("nzAddOnAfter",r),t.R7$(),t.Y8G("formControl",S)("placeholder",p.placeholder||"")}}function tu(h,w){if(1&h){const r=t.RV6();t.nrm(0,"nz-select",16),t.j41(1,"nz-upload",30),t.bIt("nzChange",function(p){t.eBV(r);const S=t.XpG().control,te=t.XpG();return t.Njj(te.handleUploadImages(S,p))}),t.j41(2,"button",29),t.EFF(3,"\u4e0a\u4f20"),t.k0s()()}if(2&h){const r=t.XpG(),d=r.field,p=r.control,S=t.XpG();t.Y8G("formControl",p)("nzTokenSeparators",t.lJ4(7,Pl))("nzOptions",d.options||S.empty)("nzPlaceHolder",d.placeholder||"\u8f93\u5165 \u9017\u53f7\uff0c\u5206\u53f7\uff0c\u7a7a\u683c \u5206\u9694"),t.R7$(),t.Y8G("nzAction",d.upload)("nzDisabled",!!d.disabled),t.R7$(),t.Y8G("disabled",!!d.disabled)}}function Il(h,w){1&h&&t.eu8(0)}function nu(h,w){if(1&h&&t.DNE(0,Il,1,0,"ng-container",5),2&h){const r=t.XpG(),d=r.field,p=r.control;t.XpG();const S=t.sdS(5);t.Y8G("ngTemplateOutlet",S)("ngTemplateOutletContext",t.l_i(2,Ls,d.children,p))}}function iu(h,w){1&h&&(t.j41(0,"a",39),t.nrm(1,"i",40),t.EFF(2,"\u6392\u5e8f "),t.k0s())}function su(h,w){if(1&h){const r=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(r);const p=t.XpG().index,S=t.XpG(2),te=S.field,Xe=S.control,Dt=t.XpG();return t.Njj(Dt.copy(te.children,Xe,p))}),t.nrm(1,"i",42),t.EFF(2,"\u590d\u5236 "),t.k0s()}}function Al(h,w){if(1&h){const r=t.RV6();t.j41(0,"a",43),t.bIt("click",function(){t.eBV(r);const p=t.XpG().index,S=t.XpG(2).control,te=t.XpG();return t.Njj(te.remove(S,p))}),t.nrm(1,"i",44),t.EFF(2,"\u5220\u9664 "),t.k0s()}}function ou(h,w){1&h&&t.eu8(0)}function ru(h,w){if(1&h&&(t.j41(0,"div",35)(1,"nz-space"),t.DNE(2,iu,3,0,"a",36)(3,su,3,0,"a",37)(4,Al,3,0,"a",38),t.k0s(),t.DNE(5,ou,1,0,"ng-container",5),t.k0s()),2&h){const r=w.$implicit,d=t.XpG(2).field;t.XpG();const p=t.sdS(5);t.R7$(5),t.Y8G("ngTemplateOutlet",p)("ngTemplateOutletContext",t.l_i(2,Ls,d.children,r))}}function Rl(h,w){if(1&h){const r=t.RV6();t.j41(0,"a",31),t.bIt("click",function(){t.eBV(r);const p=t.XpG(),S=p.field,te=p.control,Xe=t.XpG();return t.Njj(Xe.add(te,S.children))}),t.nrm(1,"i",32),t.EFF(2,"\u6dfb\u52a0 "),t.k0s(),t.j41(3,"div",33),t.bIt("cdkDropListDropped",function(p){t.eBV(r);const S=t.XpG().control,te=t.XpG();return t.Njj(te.drop(S,p))}),t.DNE(4,ru,6,5,"div",34),t.k0s()}if(2&h){const r=t.XpG().control;t.R7$(4),t.Y8G("ngForOf",r.controls)}}function au(h,w){if(1&h&&(t.j41(0,"th"),t.EFF(1),t.k0s()),2&h){const r=w.$implicit;t.R7$(),t.JRh(r.label)}}function aa(h,w){1&h&&t.eu8(0)}function lu(h,w){if(1&h&&(t.j41(0,"td"),t.DNE(1,aa,1,0,"ng-container",5),t.k0s()),2&h){const r=w.$implicit,d=t.XpG().$implicit;t.XpG(3);const p=t.sdS(3);t.R7$(),t.Y8G("ngTemplateOutlet",p)("ngTemplateOutletContext",t.l_i(2,ia,r,d.get(r.key)))}}function cu(h,w){1&h&&(t.j41(0,"a",39),t.nrm(1,"i",40),t.k0s())}function hu(h,w){if(1&h){const r=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(r);const p=t.XpG().index,S=t.XpG(2),te=S.field,Xe=S.control,Dt=t.XpG();return t.Njj(Dt.copy(te.children,Xe,p))}),t.nrm(1,"i",42),t.k0s()}}function du(h,w){if(1&h){const r=t.RV6();t.j41(0,"a",43),t.bIt("click",function(){t.eBV(r);const p=t.XpG().index,S=t.XpG(2).control,te=t.XpG();return t.Njj(te.remove(S,p))}),t.nrm(1,"i",44),t.k0s()}}function uu(h,w){if(1&h&&(t.j41(0,"tr",35),t.DNE(1,lu,2,5,"td",46),t.j41(2,"td",47)(3,"nz-space"),t.DNE(4,cu,2,0,"a",36)(5,hu,2,0,"a",37)(6,du,2,0,"a",38),t.k0s()()()),2&h){const r=t.XpG(2).field;t.R7$(),t.Y8G("ngForOf",r.children)}}function Fl(h,w){if(1&h){const r=t.RV6();t.j41(0,"nz-table",45)(1,"thead")(2,"tr"),t.DNE(3,au,2,1,"th",46),t.j41(4,"th")(5,"a",31),t.bIt("click",function(){t.eBV(r);const p=t.XpG(),S=p.field,te=p.control,Xe=t.XpG();return t.Njj(Xe.add(te,S.children))}),t.nrm(6,"i",32),t.EFF(7,"\u6dfb\u52a0 "),t.k0s()()()(),t.j41(8,"tbody",33),t.bIt("cdkDropListDropped",function(p){t.eBV(r);const S=t.XpG().control,te=t.XpG();return t.Njj(te.drop(S,p))}),t.DNE(9,uu,7,1,"tr",34),t.k0s()()}if(2&h){const r=t.XpG(),d=r.field,p=r.control;t.R7$(3),t.Y8G("ngForOf",d.children),t.R7$(6),t.Y8G("ngForOf",p.controls)}}function pu(h,w){1&h&&t.eu8(0)}function Vs(h,w){if(1&h&&t.DNE(0,pu,1,0,"ng-container",5),2&h){const r=t.XpG(),d=r.field,p=r.control;t.Y8G("ngTemplateOutlet",d.template)("ngTemplateOutletContext",t.l_i(2,ia,d,p))}}function fu(h,w){if(1&h&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&h){const r=t.XpG().field;t.R7$(),t.SpI("\u4e0d\u652f\u6301\u7684\u63a7\u4ef6\u7c7b\u578b\uff1a",r.type,"")}}function la(h,w){if(1&h&&(t.DNE(0,Bd,3,6)(1,Ld,1,4)(2,oa,1,5)(3,Vd,1,4)(4,jd,2,2)(5,Gd,1,3)(6,Hd,1,5)(7,Ud,1,4)(8,Xd,1,2)(9,Wd,1,1)(10,Yd,1,1)(11,Kd,2,2)(12,Qd,1,4)(13,Zd,1,1)(14,Jd,1,2)(15,Nl,1,2)(16,ra,1,2)(17,eu,4,3)(18,tu,4,8)(19,nu,1,5)(20,Rl,5,1)(21,Fl,10,2)(22,Vs,1,5)(23,fu,2,1),t.EFF(24)),2&h){let r;const d=w.field;t.vxM(0,"text"===(r=d.type)?0:"password"===r?1:"number"===r?2:"slider"===r?3:"radio"===r?4:"select"===r?5:"tags"===r?6:"tree"===r?7:"color"===r?8:"switch"===r?9:"checkbox"===r?10:"textarea"===r?11:"slider"===r?12:"rate"===r?13:"datetime"===r?14:"date"===r?15:"time"===r?16:"file"===r?17:"images"===r?18:"object"===r?19:"list"===r?20:"table"===r?21:"template"===r?22:23),t.R7$(24),t.SpI(" ",d.tips,"\n")}}function gu(h,w){if(1&h&&(t.j41(0,"nz-form-label",50),t.EFF(1),t.k0s()),2&h){const r=t.XpG().$implicit;t.Y8G("nzSm",4)("nzXs",24)("nzRequired",r.required)("nzFor",r.key),t.R7$(),t.SpI(" ",r.label," ")}}function mu(h,w){1&h&&t.eu8(0)}function _u(h,w){if(1&h&&(t.j41(0,"nz-form-item"),t.DNE(1,gu,2,5,"nz-form-label",48),t.j41(2,"nz-form-control",49),t.DNE(3,mu,1,0,"ng-container",5),t.k0s()()),2&h){const r=w.$implicit,d=t.XpG().group;t.XpG();const p=t.sdS(1),S=t.sdS(3);t.R7$(),t.Y8G("ngIf",r.label),t.R7$(),t.Y8G("nzSm",20)("nzXs",24)("nzErrorTip",p),t.R7$(),t.Y8G("ngTemplateOutlet",S)("ngTemplateOutletContext",t.l_i(6,ia,r,d.get(r.key)))}}function vu(h,w){1&h&&t.Z7z(0,_u,4,9,"nz-form-item",null,t.fX1),2&h&&t.Dyx(w.fields)}function Cu(h,w){1&h&&t.eu8(0)}let Hl=(()=>{class h{set fields(r){console.log("[SmartEditor] set fields",r),r&&r.length&&setTimeout(()=>{this._fields=r,this.group=this.build(this._fields,this._values)},50)}get fields(){return this._fields}set values(r){console.log("[SmartEditor] set values",r),this._values=r,this._fields&&this._fields.length&&setTimeout(()=>{this.group=this.build(this._fields,this._values)},50)}get values(){return this._values}build(r,d){console.log("[SmartEditor] build",r,d),d=d||{};let p={};return r?.forEach(S=>{if("object"==S.type&&S.children)return p[S.key]=this.build(S.children,d[S.key]),void(S.change&&p[S.key].valueChanges.subscribe(Dt=>S.change?.(Dt)));if("list"==S.type&&S.children)return p[S.key]=this.fb.array(d[S.key]?.map(Dt=>this.build(S.children||[],Dt))||[]),void(S.change&&p[S.key].valueChanges.subscribe(Dt=>S.change?.(Dt)));if("table"==S.type&&S.children)return p[S.key]=this.fb.array(d[S.key]?.map(Dt=>this.build(S.children||[],Dt))||[]),void(S.change&&p[S.key].valueChanges.subscribe(Dt=>S.change?.(Dt)));let Xe,te=[];S.required&&te.push(m.k0.required),void 0!==S.min&&("number"===S.type?te.push(m.k0.min(S.min)):("text"===S.type||"password"===S.type)&&te.push(m.k0.minLength(S.min))),void 0!==S.max&&("number"===S.type?te.push(m.k0.max(S.max)):("text"===S.type||"password"===S.type)&&te.push(m.k0.maxLength(S.max))),S.pattern&&"text"===S.type&&te.push(m.k0.pattern(S.pattern)),S.validators&&(te=te.concat(S.validators)),Xe=d.hasOwnProperty(S.key)?d[S.key]:S.hasOwnProperty("default")?S.default:function Hu(h){if(h.array)return[];switch(h.type){case"text":case"password":case"color":case"textarea":case"file":case"image":return"";case"number":case"slider":return 0;case"radio":case"select":return h.options?.[0]?.value;case"tags":case"images":case"list":case"table":return[];case"checkbox":case"switch":return!1;case"date":case"time":case"datetime":return new Date;case"object":return{}}return""}(S),p[S.key]=new m.MJ(Xe,te),S.change&&p[S.key].valueChanges.subscribe(Dt=>S.change?.(Dt))}),this.fb.group(p)}setValue(r){console.log("[SmartEditor] setValue",r),this._values=r,this._fields&&this._fields.length&&(this.group=this.build(this._fields,r))}patchValue(r){console.log("[SmartEditor] patchValue",r),this.group.patchValue(r)}get valid(){return this.group.valid}get value(){return this.group.value}getRawValue(){return this.group.getRawValue()}constructor(r){this.fb=r,this.group=new m.gE({}),this._fields=[],this._values={},this.empty=[],this.Infinity=1/0}ngOnInit(){this._fields&&this._fields.length&&(this.group=this.build(this._fields,this._values))}handleUpload(r,d){"success"==d.type&&r.setValue(d.file.response.data[0])}handleUploadImages(r,d){let p=[];d.fileList.forEach(S=>{S.response?.data?.[0]&&p.push(S.response.data[0])}),r.setValue(p)}drop(r,d){(0,Se.HD)(r.controls,d.previousIndex,d.currentIndex)}copy(r,d,p){let S=d.at(p),te=this.build(r,S.value);d.insert(p,te)}remove(r,d){r.removeAt(d)}add(r,d){r.push(this.build(d,{}))}static#e=this.\u0275fac=function(d){return new(d||h)(t.rXU(m.ok))};static#t=this.\u0275cmp=t.VBU({type:h,selectors:[["im-smart-editor"]],inputs:{fields:"fields",values:"values"},standalone:!0,features:[t.aNF],decls:7,vars:5,consts:[["errorTip",""],["controlTpl",""],["groupTpl",""],["auto",""],["suffixButton",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["nz-input","",3,"formControl","minlength","maxlength","placeholder","nzAutocomplete"],[3,"nzDataSource"],["nz-input","","type","password",3,"formControl","minlength","maxlength","placeholder"],[3,"formControl","nzMin","nzMax","nzStep","nzPlaceHolder"],[3,"formControl","nzMin","nzMax","nzStep"],["nzButtonStyle","solid",3,"formControl"],["nz-radio-button","",3,"nzValue","nzDisabled",4,"ngFor","ngForOf"],["nz-radio-button","",3,"nzValue","nzDisabled"],[3,"formControl","nzOptions","nzPlaceHolder"],["nzMode","tags",3,"formControl","nzTokenSeparators","nzOptions","nzPlaceHolder"],["nzShowSearch","","nzCheckable","",3,"nzTreeCheckBoxChange","formControl","nzNodes","nzMultiple","nzPlaceHolder"],["nzShowText","",3,"formControl","nzAllowClear"],[3,"formControl"],["nz-checkbox","",3,"formControl"],[3,"nzMaxCharacterCount"],["rows","4","nz-input","",3,"formControl"],[3,"formControl","nzMax","nzMin","nzStep"],["nzShowTime","",3,"formControl","nzPlaceHolder"],[3,"formControl","nzPlaceHolder"],["nzSearch","",3,"nzAddOnAfter"],["nz-input","",3,"formControl","placeholder"],[3,"nzChange","nzAction","nzShowUploadList","nzDisabled"],["nz-button","","nzType","primary",3,"disabled"],["nzMultiple","",3,"nzChange","nzAction","nzDisabled"],["title","\u6dfb\u52a0",3,"click"],["nz-icon","","nzType","plus"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag",""],["title","\u6392\u5e8f","style","cursor:move;","cdkDragHandle","",4,"nzSpaceItem"],["title","\u590d\u5236",3,"click",4,"nzSpaceItem"],["title","\u5220\u9664",3,"click",4,"nzSpaceItem"],["title","\u6392\u5e8f","cdkDragHandle","",2,"cursor","move"],["nz-icon","","nzType","drag"],["title","\u590d\u5236",3,"click"],["nz-icon","","nzType","copy"],["title","\u5220\u9664",3,"click"],["nz-icon","","nzType","delete"],["nzSize","small","nzTemplateMode","","nzBordered",""],[4,"ngFor","ngForOf"],[1,"operators"],[3,"nzSm","nzXs","nzRequired","nzFor",4,"ngIf"],[3,"nzSm","nzXs","nzErrorTip"],[3,"nzSm","nzXs","nzRequired","nzFor"]],template:function(d,p){if(1&d&&t.DNE(0,Fd,6,6,"ng-template",null,0,t.C5r)(2,la,25,2,"ng-template",null,1,t.C5r)(4,vu,2,0,"ng-template",null,2,t.C5r)(6,Cu,1,0,"ng-container",5),2&d){const S=t.sdS(5);t.R7$(6),t.Y8G("ngTemplateOutlet",S)("ngTemplateOutletContext",t.l_i(2,Ls,p._fields,p.group))}},dependencies:[f.MD,f.Sq,f.bT,f.T3,m.YN,m.me,m.BC,m.xh,m.tU,m.X1,m.l_,C.PQ,El.Uq,El.e,C.Ls,C.Mo,C.zS,Ue.$G,Ue.CP,Ue.SO,Ue._4,Ue.IL,Ue.aj,Ue.kt,Se.T1,Se.O7,ze.Sy,fe.aO,Ot,It,Th,ze.tg,pt.FG,tt.WI,xh.pT,Ur.u,ze.F8,io,ud,Ee.$W,Se.Fb,D.Dn,Mo.pc,Mo.U5,Mo.Dq,xd,Td,Ol,Od.$g,na.Sw,na.lx,na.i3,Mn],styles:["nz-select[_ngcontent-%COMP%]{width:100%}nz-input-number[_ngcontent-%COMP%]{width:100%}"]})}return h})();const Uu=new t.nKC("api_base");let Xu=(()=>{class h{constructor(r,d,p,S){this.ns=r,this.http=d,this.route=p,this.base="/api/",S&&(this.base=S)}request(r,d,p){return p.withCredentials=!0,"/"!=d.substring(0,1)&&(d=this.base+d),this.http.request(r,d,p).pipe((0,Pd.W)(S=>(0,st.of)(404===S.status?{error:"\u65e0\u6548\u63a5\u53e3 "+r+" "+d}:401===S.status?{error:"\u672a\u767b\u5f55"}:{error:S.message})),(0,R.T)(S=>{if(S&&S.error)throw("Token not found"===S.error||"jwt expired"===S.error)&&this.route.navigate(["/login"]),this.ns.error("\u9519\u8bef",S.error),S.error;return S}))}get(r,d){return this.request("GET",r,{params:d})}put(r,d,p){return this.request("PUT",r,{params:p,body:d})}post(r,d,p){return this.request("POST",r,{params:p,body:d})}patch(r,d,p){return this.request("PATCH",r,{params:p,body:d})}delete(r,d){return this.request("DELETE",r,{params:d})}static#e=this.\u0275fac=function(d){return new(d||h)(t.KVO(kd.xY),t.KVO(No.Qq),t.KVO(Ed.Ix),t.KVO(Uu,8))};static#t=this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},513:(Lt,ct,v)=>{"use strict";v.d(ct,{Zw:()=>He,aO:()=>De,dn:()=>Pe});var t=v(1635),f=v(4438),m=v(1413),C=v(3726),Ee=v(6977),Ue=v(9172),Se=v(5964),ze=v(6035),fe=v(317),F=v(5103),ie=v(8203),he=v(6389),me=v(5930);const J=["nz-button",""],G=["*"];function ge(ae,Te){1&ae&&f.nrm(0,"span",0)}let De=(()=>{class ae{insertSpan(Y,be){Y.forEach(oe=>{if("#text"===oe.nodeName){const nt=be.createElement("span"),ke=be.parentNode(oe);be.insertBefore(ke,nt,oe),be.appendChild(nt,oe)}})}get iconOnly(){const Y=Array.from(this.elementRef?.nativeElement?.childNodes||[]),be=Y.every(nt=>"#text"!==nt.nodeName),oe=0==Y.filter(nt=>!("#comment"===nt.nodeName||nt?.attributes?.getNamedItem("nz-icon"))).length;return!!this.nzIconDirectiveElement&&oe&&be}constructor(Y,be,oe,nt,ke,Ye){this.ngZone=Y,this.elementRef=be,this.cdr=oe,this.renderer=nt,this.nzConfigService=ke,this.directionality=Ye,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new m.B,this.loading$=new m.B,this.nzConfigService.getConfigChangeEventForComponent("button").pipe((0,Ee.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,Ee.Q)(this.destroy$)).subscribe(Y=>{this.dir=Y,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,C.R)(this.elementRef.nativeElement,"click",{capture:!0}).pipe((0,Ee.Q)(this.destroy$)).subscribe(Y=>{(this.disabled&&"A"===Y.target?.tagName||this.nzLoading)&&(Y.preventDefault(),Y.stopImmediatePropagation())})})}ngOnChanges(Y){const{nzLoading:be}=Y;be&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,Ue.Z)(this.nzLoading),(0,Se.p)(()=>!!this.nzIconDirectiveElement),(0,Ee.Q)(this.destroy$)).subscribe(Y=>{const be=this.nzIconDirectiveElement.nativeElement;Y?this.renderer.setStyle(be,"display","none"):this.renderer.removeStyle(be,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(be){return new(be||ae)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(f.sFG),f.rXU(ze.yx),f.rXU(ie.dS,8))};static#t=this.\u0275cmp=f.VBU({type:ae,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(be,oe,nt){if(1&be&&f.wni(nt,F.Dn,5,f.aKT),2&be){let ke;f.mGM(ke=f.lsd())&&(oe.nzIconDirectiveElement=ke.first)}},hostAttrs:[1,"ant-btn"],hostVars:34,hostBindings:function(be,oe){2&be&&(f.BMQ("tabindex",oe.disabled?-1:null===oe.tabIndex?null:oe.tabIndex)("disabled",oe.disabled||null),f.AVh("ant-btn-default","default"===oe.nzType)("ant-btn-primary","primary"===oe.nzType)("ant-btn-dashed","dashed"===oe.nzType)("ant-btn-link","link"===oe.nzType)("ant-btn-text","text"===oe.nzType)("ant-btn-circle","circle"===oe.nzShape)("ant-btn-round","round"===oe.nzShape)("ant-btn-lg","large"===oe.nzSize)("ant-btn-sm","small"===oe.nzSize)("ant-btn-dangerous",oe.nzDanger)("ant-btn-loading",oe.nzLoading)("ant-btn-background-ghost",oe.nzGhost)("ant-btn-block",oe.nzBlock)("ant-input-search-button",oe.nzSearch)("ant-btn-rtl","rtl"===oe.dir)("ant-btn-icon-only",oe.iconOnly))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],standalone:!0,features:[f.OA$,f.aNF],attrs:J,ngContentSelectors:G,decls:2,vars:1,consts:[["nz-icon","","nzType","loading"]],template:function(be,oe){1&be&&(f.NAR(),f.DNE(0,ge,1,0,"span",0),f.SdG(1)),2&be&&f.vxM(0,oe.nzLoading?0:-1)},dependencies:[F.Y3,F.Dn],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,fe.H3)()],ae.prototype,"nzBlock",void 0),(0,t.Cg)([(0,fe.H3)()],ae.prototype,"nzGhost",void 0),(0,t.Cg)([(0,fe.H3)()],ae.prototype,"nzSearch",void 0),(0,t.Cg)([(0,fe.H3)()],ae.prototype,"nzLoading",void 0),(0,t.Cg)([(0,fe.H3)()],ae.prototype,"nzDanger",void 0),(0,t.Cg)([(0,fe.H3)()],ae.prototype,"disabled",void 0),(0,t.Cg)([(0,ze.H4)()],ae.prototype,"nzSize",void 0),ae})(),Pe=(()=>{class ae{constructor(Y){this.directionality=Y,this.nzSize="default",this.dir="ltr",this.destroy$=new m.B}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,Ee.Q)(this.destroy$)).subscribe(Y=>{this.dir=Y})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(be){return new(be||ae)(f.rXU(ie.dS,8))};static#t=this.\u0275cmp=f.VBU({type:ae,selectors:[["nz-button-group"]],hostAttrs:[1,"ant-btn-group"],hostVars:6,hostBindings:function(be,oe){2&be&&f.AVh("ant-btn-group-lg","large"===oe.nzSize)("ant-btn-group-sm","small"===oe.nzSize)("ant-btn-group-rtl","rtl"===oe.dir)},inputs:{nzSize:"nzSize"},exportAs:["nzButtonGroup"],standalone:!0,features:[f.aNF],ngContentSelectors:G,decls:1,vars:0,template:function(be,oe){1&be&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})}return ae})(),He=(()=>{class ae{static#e=this.\u0275fac=function(be){return new(be||ae)};static#t=this.\u0275mod=f.$C({type:ae});static#n=this.\u0275inj=f.G2t({imports:[De,he.p,me.o7]})}return ae})()},5979:(Lt,ct,v)=>{"use strict";v.d(ct,{xH:()=>Ue});var t=v(4438),f=v(4085),m=v(1985),C=v(1413);let Ee=(()=>{class fe{create(ie){return typeof ResizeObserver>"u"?null:new ResizeObserver(ie)}static#e=this.\u0275fac=function(he){return new(he||fe)};static#t=this.\u0275prov=t.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})(),Ue=(()=>{class fe{constructor(ie){this.nzResizeObserverFactory=ie,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((ie,he)=>this.cleanupObserver(he))}observe(ie){const he=(0,f.i8)(ie);return new m.c(me=>{const G=this.observeElement(he).subscribe(me);return()=>{G.unsubscribe(),this.unobserveElement(he)}})}observeElement(ie){if(this.observedElements.has(ie))this.observedElements.get(ie).count++;else{const he=new C.B,me=this.nzResizeObserverFactory.create(J=>he.next(J));me&&me.observe(ie),this.observedElements.set(ie,{observer:me,stream:he,count:1})}return this.observedElements.get(ie).stream}unobserveElement(ie){this.observedElements.has(ie)&&(this.observedElements.get(ie).count--,this.observedElements.get(ie).count||this.cleanupObserver(ie))}cleanupObserver(ie){if(this.observedElements.has(ie)){const{observer:he,stream:me}=this.observedElements.get(ie);he&&he.disconnect(),me.complete(),this.observedElements.delete(ie)}}static#e=this.\u0275fac=function(he){return new(he||fe)(t.KVO(Ee))};static#t=this.\u0275prov=t.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},2986:(Lt,ct,v)=>{"use strict";v.d(ct,{$g:()=>Ce,IJ:()=>Pe});var t=v(1635),f=v(4438),m=v(4341),C=v(1413),Ee=v(3726),Ue=v(6977),Se=v(317),ze=v(851),fe=v(8203),F=v(7891);const ie=["*"],he=["inputElement"],me=["nz-checkbox",""],J=(He,ae)=>ae.value;function G(He,ae){if(1&He){const Te=f.RV6();f.j41(0,"label",1),f.bIt("nzCheckedChange",function(be){const oe=f.eBV(Te).$implicit,nt=f.XpG();return f.Njj(nt.onCheckedChange(oe,be))}),f.j41(1,"span"),f.EFF(2),f.k0s()()}if(2&He){const Te=ae.$implicit,Y=f.XpG();f.Y8G("nzDisabled",Te.disabled||Y.nzDisabled)("nzChecked",Te.checked),f.R7$(2),f.JRh(Te.label)}}let ge=(()=>{class He{constructor(){this.nzOnChange=new f.bkB,this.checkboxList=[]}addCheckbox(Te){this.checkboxList.push(Te)}removeCheckbox(Te){this.checkboxList.splice(this.checkboxList.indexOf(Te),1)}onChange(){const Te=this.checkboxList.filter(Y=>Y.nzChecked).map(Y=>Y.nzValue);this.nzOnChange.emit(Te)}static#e=this.\u0275fac=function(Y){return new(Y||He)};static#t=this.\u0275cmp=f.VBU({type:He,selectors:[["nz-checkbox-wrapper"]],hostAttrs:[1,"ant-checkbox-group"],outputs:{nzOnChange:"nzOnChange"},exportAs:["nzCheckboxWrapper"],standalone:!0,features:[f.aNF],ngContentSelectors:ie,decls:1,vars:0,template:function(Y,be){1&Y&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})}return He})(),Ce=(()=>{class He{innerCheckedChange(Te){this.nzDisabled||(this.nzChecked=Te,this.onChange(this.nzChecked),this.nzCheckedChange.emit(this.nzChecked),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.onChange())}writeValue(Te){this.nzChecked=Te,this.cdr.markForCheck()}registerOnChange(Te){this.onChange=Te}registerOnTouched(Te){this.onTouched=Te}setDisabledState(Te){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||Te,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(Te,Y,be,oe,nt,ke,Ye){this.ngZone=Te,this.elementRef=Y,this.nzCheckboxWrapperComponent=be,this.cdr=oe,this.focusMonitor=nt,this.directionality=ke,this.nzFormStatusService=Ye,this.dir="ltr",this.destroy$=new C.B,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzCheckedChange=new f.bkB,this.nzValue=null,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzChecked=!1,this.nzId=null}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe((0,Ue.Q)(this.destroy$)).subscribe(Te=>{Te||Promise.resolve().then(()=>this.onTouched())}),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.addCheckbox(this),this.directionality.change.pipe((0,Ue.Q)(this.destroy$)).subscribe(Te=>{this.dir=Te,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,Ee.R)(this.elementRef.nativeElement,"click").pipe((0,Ue.Q)(this.destroy$)).subscribe(Te=>{Te.preventDefault(),this.focus(),!this.nzDisabled&&this.ngZone.run(()=>{this.innerCheckedChange(!this.nzChecked),this.cdr.markForCheck()})}),(0,Ee.R)(this.inputElement.nativeElement,"click").pipe((0,Ue.Q)(this.destroy$)).subscribe(Te=>Te.stopPropagation())})}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.removeCheckbox(this),this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(Y){return new(Y||He)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(ge,8),f.rXU(f.gRc),f.rXU(ze.FN),f.rXU(fe.dS,8),f.rXU(F.is,8))};static#t=this.\u0275cmp=f.VBU({type:He,selectors:[["","nz-checkbox",""]],viewQuery:function(Y,be){if(1&Y&&f.GBs(he,7),2&Y){let oe;f.mGM(oe=f.lsd())&&(be.inputElement=oe.first)}},hostAttrs:[1,"ant-checkbox-wrapper"],hostVars:6,hostBindings:function(Y,be){2&Y&&f.AVh("ant-checkbox-wrapper-in-form-item",!!be.nzFormStatusService)("ant-checkbox-wrapper-checked",be.nzChecked)("ant-checkbox-rtl","rtl"===be.dir)},inputs:{nzValue:"nzValue",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzChecked:"nzChecked",nzId:"nzId"},outputs:{nzCheckedChange:"nzCheckedChange"},exportAs:["nzCheckbox"],standalone:!0,features:[f.Jv_([{provide:m.kq,useExisting:(0,f.Rfq)(()=>He),multi:!0}]),f.aNF],attrs:me,ngContentSelectors:ie,decls:6,vars:11,consts:[["inputElement",""],[1,"ant-checkbox"],["type","checkbox",1,"ant-checkbox-input",3,"ngModelChange","checked","ngModel","disabled"],[1,"ant-checkbox-inner"]],template:function(Y,be){if(1&Y){const oe=f.RV6();f.NAR(),f.j41(0,"span",1)(1,"input",2,0),f.bIt("ngModelChange",function(ke){return f.eBV(oe),f.Njj(be.innerCheckedChange(ke))}),f.k0s(),f.nrm(3,"span",3),f.k0s(),f.j41(4,"span"),f.SdG(5),f.k0s()}2&Y&&(f.AVh("ant-checkbox-checked",be.nzChecked&&!be.nzIndeterminate)("ant-checkbox-disabled",be.nzDisabled)("ant-checkbox-indeterminate",be.nzIndeterminate),f.R7$(),f.Y8G("checked",be.nzChecked)("ngModel",be.nzChecked)("disabled",be.nzDisabled),f.BMQ("autofocus",be.nzAutoFocus?"autofocus":null)("id",be.nzId))},dependencies:[m.YN,m.Zm,m.BC,m.vS],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,Se.H3)()],He.prototype,"nzAutoFocus",void 0),(0,t.Cg)([(0,Se.H3)()],He.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,Se.H3)()],He.prototype,"nzIndeterminate",void 0),(0,t.Cg)([(0,Se.H3)()],He.prototype,"nzChecked",void 0),He})(),De=(()=>{class He{onCheckedChange(Te,Y){Te.checked=Y,this.onChange(this.options)}constructor(Te,Y,be,oe){this.elementRef=Te,this.focusMonitor=Y,this.cdr=be,this.directionality=oe,this.onChange=()=>{},this.onTouched=()=>{},this.options=[],this.nzDisabled=!1,this.dir="ltr",this.destroy$=new C.B,this.isNzDisableFirstChange=!0}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe((0,Ue.Q)(this.destroy$)).subscribe(Te=>{Te||Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe((0,Ue.Q)(this.destroy$)).subscribe(Te=>{this.dir=Te,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}writeValue(Te){this.options=Te,this.cdr.markForCheck()}registerOnChange(Te){this.onChange=Te}registerOnTouched(Te){this.onTouched=Te}setDisabledState(Te){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||Te,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static#e=this.\u0275fac=function(Y){return new(Y||He)(f.rXU(f.aKT),f.rXU(ze.FN),f.rXU(f.gRc),f.rXU(fe.dS,8))};static#t=this.\u0275cmp=f.VBU({type:He,selectors:[["nz-checkbox-group"]],hostAttrs:[1,"ant-checkbox-group"],hostVars:2,hostBindings:function(Y,be){2&Y&&f.AVh("ant-checkbox-group-rtl","rtl"===be.dir)},inputs:{nzDisabled:"nzDisabled"},exportAs:["nzCheckboxGroup"],standalone:!0,features:[f.Jv_([{provide:m.kq,useExisting:(0,f.Rfq)(()=>He),multi:!0}]),f.aNF],decls:2,vars:0,consts:[["nz-checkbox","",1,"ant-checkbox-group-item",3,"nzDisabled","nzChecked"],["nz-checkbox","",1,"ant-checkbox-group-item",3,"nzCheckedChange","nzDisabled","nzChecked"]],template:function(Y,be){1&Y&&f.Z7z(0,G,3,3,"label",0,J),2&Y&&f.Dyx(be.options)},dependencies:[Ce],encapsulation:2})}return(0,t.Cg)([(0,Se.H3)()],He.prototype,"nzDisabled",void 0),He})(),Pe=(()=>{class He{static#e=this.\u0275fac=function(Y){return new(Y||He)};static#t=this.\u0275mod=f.$C({type:He});static#n=this.\u0275inj=f.G2t({imports:[Ce,De]})}return He})()},713:(Lt,ct,v)=>{"use strict";v.d(ct,{AJ:()=>F,GE:()=>C,U1:()=>me,W4:()=>ze,eF:()=>G,iA:()=>Ee,j:()=>fe,uX:()=>Ce});var t=v(9969);let f=(()=>{class Pe{static#e=this.SLOW="0.3s";static#t=this.BASE="0.2s";static#n=this.FAST="0.1s"}return Pe})(),m=(()=>{class Pe{static#e=this.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)";static#t=this.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)";static#n=this.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)";static#i=this.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)";static#s=this.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)";static#o=this.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)";static#r=this.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)";static#a=this.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)";static#l=this.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)";static#c=this.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)";static#h=this.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)";static#d=this.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)";static#u=this.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)";static#p=this.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}return Pe})();const C=(0,t.hZ)("collapseMotion",[(0,t.wk)("expanded",(0,t.iF)({height:"*"})),(0,t.wk)("collapsed",(0,t.iF)({height:0,overflow:"hidden"})),(0,t.wk)("hidden",(0,t.iF)({height:0,overflow:"hidden",borderTopWidth:"0"})),(0,t.kY)("expanded => collapsed",(0,t.i0)(`150ms ${m.EASE_IN_OUT}`)),(0,t.kY)("expanded => hidden",(0,t.i0)(`150ms ${m.EASE_IN_OUT}`)),(0,t.kY)("collapsed => expanded",(0,t.i0)(`150ms ${m.EASE_IN_OUT}`)),(0,t.kY)("hidden => expanded",(0,t.i0)(`150ms ${m.EASE_IN_OUT}`))]),Ee=(0,t.hZ)("treeCollapseMotion",[(0,t.kY)("* => *",[(0,t.P)("nz-tree-node:leave,nz-tree-builtin-node:leave",[(0,t.iF)({overflow:"hidden"}),(0,t.yc)(0,[(0,t.i0)(`150ms ${m.EASE_IN_OUT}`,(0,t.iF)({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),(0,t.P)("nz-tree-node:enter,nz-tree-builtin-node:enter",[(0,t.iF)({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),(0,t.yc)(0,[(0,t.i0)(`150ms ${m.EASE_IN_OUT}`,(0,t.iF)({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),ze=((0,t.hZ)("drawerMaskMotion",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0}),(0,t.i0)(`${f.SLOW}`,(0,t.iF)({opacity:1}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1}),(0,t.i0)(`${f.SLOW}`,(0,t.iF)({opacity:0}))])]),(0,t.hZ)("fadeMotion",[(0,t.kY)("* => enter",[(0,t.iF)({opacity:0}),(0,t.i0)(`${f.BASE}`,(0,t.iF)({opacity:1}))]),(0,t.kY)("* => leave, :leave",[(0,t.iF)({opacity:1}),(0,t.i0)(`${f.BASE}`,(0,t.iF)({opacity:0}))])]),(0,t.hZ)("helpMotion",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0,transform:"translateY(-5px)"}),(0,t.i0)(`${f.SLOW} ${m.EASE_IN_OUT}`,(0,t.iF)({opacity:1,transform:"translateY(0)"}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1,transform:"translateY(0)"}),(0,t.i0)(`${f.SLOW} ${m.EASE_IN_OUT}`,(0,t.iF)({opacity:0,transform:"translateY(-5px)"}))])])),fe=(0,t.hZ)("moveUpMotion",[(0,t.kY)("* => enter",[(0,t.iF)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),(0,t.i0)(`${f.BASE}`,(0,t.iF)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),(0,t.kY)("* => leave",[(0,t.iF)({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),(0,t.i0)(`${f.BASE}`,(0,t.iF)({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),F=(0,t.hZ)("notificationMotion",[(0,t.wk)("enterRight",(0,t.iF)({opacity:1,transform:"translateX(0)"})),(0,t.kY)("* => enterRight",[(0,t.iF)({opacity:0,transform:"translateX(5%)"}),(0,t.i0)("100ms linear")]),(0,t.wk)("enterLeft",(0,t.iF)({opacity:1,transform:"translateX(0)"})),(0,t.kY)("* => enterLeft",[(0,t.iF)({opacity:0,transform:"translateX(-5%)"}),(0,t.i0)("100ms linear")]),(0,t.wk)("enterTop",(0,t.iF)({opacity:1,transform:"translateY(0)"})),(0,t.kY)("* => enterTop",[(0,t.iF)({opacity:0,transform:"translateY(-5%)"}),(0,t.i0)("100ms linear")]),(0,t.wk)("enterBottom",(0,t.iF)({opacity:1,transform:"translateY(0)"})),(0,t.kY)("* => enterBottom",[(0,t.iF)({opacity:0,transform:"translateY(5%)"}),(0,t.i0)("100ms linear")]),(0,t.wk)("leave",(0,t.iF)({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),(0,t.kY)("* => leave",[(0,t.iF)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,t.i0)("100ms linear")])]),ie=`${f.BASE} ${m.EASE_OUT_QUINT}`,he=`${f.BASE} ${m.EASE_IN_QUINT}`,me=(0,t.hZ)("slideMotion",[(0,t.wk)("void",(0,t.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,t.wk)("enter",(0,t.iF)({opacity:1,transform:"scaleY(1)"})),(0,t.kY)("void => *",[(0,t.i0)(ie)]),(0,t.kY)("* => void",[(0,t.i0)(he)])]),G=((0,t.hZ)("slideAlertMotion",[(0,t.kY)(":leave",[(0,t.iF)({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),(0,t.i0)(`${f.SLOW} ${m.EASE_IN_OUT_CIRC}`,(0,t.iF)({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),(0,t.hZ)("tabSwitchMotion",[(0,t.wk)("leave",(0,t.iF)({display:"none"})),(0,t.kY)("* => enter",[(0,t.iF)({display:"block",opacity:0}),(0,t.i0)(f.SLOW)]),(0,t.kY)("* => leave, :leave",[(0,t.iF)({position:"absolute",top:0,left:0,width:"100%"}),(0,t.i0)(f.SLOW,(0,t.iF)({opacity:0})),(0,t.iF)({display:"none"})])])),Ce=((0,t.hZ)("thumbMotion",[(0,t.wk)("from",(0,t.iF)({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),(0,t.wk)("to",(0,t.iF)({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),(0,t.kY)("from => to",(0,t.i0)(`300ms ${m.EASE_IN_OUT}`))]),(0,t.hZ)("zoomBigMotion",[(0,t.kY)("void => active",[(0,t.iF)({opacity:0,transform:"scale(0.8)"}),(0,t.i0)(`${f.BASE} ${m.EASE_OUT_CIRC}`,(0,t.iF)({opacity:1,transform:"scale(1)"}))]),(0,t.kY)("active => void",[(0,t.iF)({opacity:1,transform:"scale(1)"}),(0,t.i0)(`${f.BASE} ${m.EASE_IN_OUT_CIRC}`,(0,t.iF)({opacity:0,transform:"scale(0.8)"}))])]));(0,t.hZ)("zoomBadgeMotion",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0,transform:"scale(0) translate(50%, -50%)"}),(0,t.i0)(`${f.SLOW} ${m.EASE_OUT_BACK}`,(0,t.iF)({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1,transform:"scale(1) translate(50%, -50%)"}),(0,t.i0)(`${f.SLOW} ${m.EASE_IN_BACK}`,(0,t.iF)({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])])},7891:(Lt,ct,v)=>{"use strict";v.d(ct,{J1:()=>ie,Xd:()=>F,is:()=>Se,n1:()=>ze});var t=v(4438),f=v(2771),m=v(4412),C=v(177),Ee=v(5103);function Ue(he,me){if(1&he&&t.nrm(0,"span",1),2&he){const J=t.XpG();t.Y8G("nzType",J.iconType)}}let Se=(()=>{class he{constructor(){this.formStatusChanges=new f.m(1)}static#e=this.\u0275fac=function(G){return new(G||he)};static#t=this.\u0275prov=t.jDH({token:he,factory:he.\u0275fac})}return he})(),ze=(()=>{class he{constructor(){this.noFormStatus=new m.t(!1)}static#e=this.\u0275fac=function(G){return new(G||he)};static#t=this.\u0275prov=t.jDH({token:he,factory:he.\u0275fac})}return he})();const fe={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let F=(()=>{class he{constructor(J){this.cdr=J,this.status="",this.iconType=null}ngOnChanges(J){this.updateIcon()}updateIcon(){this.iconType=this.status?fe[this.status]:null,this.cdr.markForCheck()}static#e=this.\u0275fac=function(G){return new(G||he)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:he,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(G,ge){2&G&&t.AVh("ant-form-item-feedback-icon-error","error"===ge.status)("ant-form-item-feedback-icon-warning","warning"===ge.status)("ant-form-item-feedback-icon-success","success"===ge.status)("ant-form-item-feedback-icon-validating","validating"===ge.status)},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[t.OA$],decls:1,vars:1,consts:[["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(G,ge){1&G&&t.DNE(0,Ue,1,1,"span",0),2&G&&t.Y8G("ngIf",ge.iconType)},dependencies:[C.bT,Ee.Dn],encapsulation:2,changeDetection:0})}return he})(),ie=(()=>{class he{static#e=this.\u0275fac=function(G){return new(G||he)};static#t=this.\u0275mod=t.$C({type:he});static#n=this.\u0275inj=t.G2t({imports:[C.MD,Ee.Y3]})}return he})()},6841:(Lt,ct,v)=>{"use strict";v.d(ct,{z:()=>f});var t=v(4438);let f=(()=>{class C{constructor(){this.animationType=(0,t.WQX)(t.bc$,{optional:!0}),this.nzNoAnimation=!1}static#e=this.\u0275fac=function(Se){return new(Se||C)};static#t=this.\u0275dir=t.FsC({type:C,selectors:[["","nzNoAnimation",""]],hostVars:2,hostBindings:function(Se,ze){2&Se&&t.AVh("nz-animate-disabled",ze.nzNoAnimation||"NoopAnimations"===ze.animationType)},inputs:{nzNoAnimation:[t.Mj6.HasDecoratorInputTransform,"nzNoAnimation","nzNoAnimation",t.L39]},exportAs:["nzNoAnimation"],standalone:!0,features:[t.GFd]})}return C})()},7806:(Lt,ct,v)=>{"use strict";v.d(ct,{C:()=>C,m:()=>f});var t=v(4438);let f=(()=>{class Ee{static ngTemplateContextGuard(Se,ze){return!0}recreateView(){this.viewContainer.clear();const Se=this.nzStringTemplateOutlet instanceof t.C4Q;this.embeddedViewRef=this.viewContainer.createEmbeddedView(Se?this.nzStringTemplateOutlet:this.templateRef,Se?this.nzStringTemplateOutletContext:this.context)}updateContext(){const ze=this.nzStringTemplateOutlet instanceof t.C4Q?this.nzStringTemplateOutletContext:this.context,fe=this.embeddedViewRef.context;if(ze)for(const F of Object.keys(ze))fe[F]=ze[F]}constructor(Se,ze){this.viewContainer=Se,this.templateRef=ze,this.embeddedViewRef=null,this.context=new m,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(Se){const{nzStringTemplateOutletContext:ze,nzStringTemplateOutlet:fe}=Se;fe&&(this.context.$implicit=fe.currentValue),(()=>{let he=!1;return fe&&(he=!!fe.firstChange||(fe.previousValue instanceof t.C4Q||fe.currentValue instanceof t.C4Q)),ze&&(G=>{const ge=Object.keys(G.previousValue||{}),Ce=Object.keys(G.currentValue||{});if(ge.length===Ce.length){for(const De of Ce)if(-1===ge.indexOf(De))return!0;return!1}return!0})(ze)||he})()?this.recreateView():this.updateContext()}static#e=this.\u0275fac=function(ze){return new(ze||Ee)(t.rXU(t.c1b),t.rXU(t.C4Q))};static#t=this.\u0275dir=t.FsC({type:Ee,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],standalone:!0,features:[t.OA$]})}return Ee})();class m{}let C=(()=>{class Ee{static#e=this.\u0275fac=function(ze){return new(ze||Ee)};static#t=this.\u0275mod=t.$C({type:Ee});static#n=this.\u0275inj=t.G2t({})}return Ee})()},5463:(Lt,ct,v)=>{"use strict";v.d(ct,{$_:()=>ge,DN:()=>J,G5:()=>Ce,Js:()=>ze,jj:()=>he,l$:()=>me,pn:()=>Se,vT:()=>G});var t=v(1635),f=v(6969),m=v(4438),C=v(6977),Ee=v(1025),Ue=v(317);const Se={top:new f.uH({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new f.uH({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new f.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new f.uH({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new f.uH({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new f.uH({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new f.uH({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new f.uH({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new f.uH({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new f.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new f.uH({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new f.uH({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new f.uH({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new f.uH({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},ze=[Se.top,Se.right,Se.bottom,Se.left];function he(De){for(const Pe in Se)if(De.connectionPair.originX===Se[Pe].originX&&De.connectionPair.originY===Se[Pe].originY&&De.connectionPair.overlayX===Se[Pe].overlayX&&De.connectionPair.overlayY===Se[Pe].overlayY)return Pe}new f.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new f.uH({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new f.uH({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"});const me={bottomLeft:new f.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),topLeft:new f.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),bottomRight:new f.uH({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),topRight:new f.uH({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2)},J=[me.bottomLeft,me.topLeft,me.bottomRight,me.topRight];let G=(()=>{class De{constructor(He,ae){this.cdkConnectedOverlay=He,this.nzDestroyService=ae,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe((0,C.Q)(this.nzDestroyService)).subscribe(Te=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(Te)})}updateArrowPosition(He){const ae=this.getOriginRect(),Te=he(He);let Y=0,be=0;"topLeft"===Te||"bottomLeft"===Te?Y=ae.width/2-14:"topRight"===Te||"bottomRight"===Te?Y=-(ae.width/2-14):"leftTop"===Te||"rightTop"===Te?be=ae.height/2-10:("leftBottom"===Te||"rightBottom"===Te)&&(be=-(ae.height/2-10)),(this.cdkConnectedOverlay.offsetX!==Y||this.cdkConnectedOverlay.offsetY!==be)&&(this.cdkConnectedOverlay.offsetY=be,this.cdkConnectedOverlay.offsetX=Y,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof f.$Q?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){const He=this.getFlexibleConnectedPositionStrategyOrigin();if(He instanceof m.aKT)return He.nativeElement.getBoundingClientRect();if(He instanceof Element)return He.getBoundingClientRect();const ae=He.width||0,Te=He.height||0;return{top:He.y,bottom:He.y+Te,left:He.x,right:He.x+ae,height:Te,width:ae}}static#e=this.\u0275fac=function(ae){return new(ae||De)(m.rXU(f.WB),m.rXU(Ee.y4))};static#t=this.\u0275dir=m.FsC({type:De,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:"nzArrowPointAtCenter"},exportAs:["nzConnectedOverlay"],features:[m.Jv_([Ee.y4])]})}return(0,t.Cg)([(0,Ue.H3)()],De.prototype,"nzArrowPointAtCenter",void 0),De})(),ge=(()=>{class De{static#e=this.\u0275fac=function(ae){return new(ae||De)};static#t=this.\u0275mod=m.$C({type:De});static#n=this.\u0275inj=m.G2t({})}return De})();function Ce(De,Pe){Pe&&(De._host.style.zIndex=`${Pe}`)}},4500:(Lt,ct,v)=>{"use strict";v.d(ct,{F:()=>C,j:()=>Ee});const t=["moz","ms","webkit"];function C(Ue){if(typeof window>"u")return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(Ue);const Se=t.filter(ze=>`${ze}CancelAnimationFrame`in window||`${ze}CancelRequestAnimationFrame`in window)[0];return Se?(window[`${Se}CancelAnimationFrame`]||window[`${Se}CancelRequestAnimationFrame`]).call(this,Ue):clearTimeout(Ue)}const Ee=function m(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const Ue=t.filter(Se=>`${Se}RequestAnimationFrame`in window)[0];return Ue?window[`${Ue}RequestAnimationFrame`]:function f(){let Ue=0;return function(Se){const ze=(new Date).getTime(),fe=Math.max(0,16-(ze-Ue)),F=window.setTimeout(()=>{Se(ze+fe)},fe);return Ue=ze+fe,F}}()}()},1025:(Lt,ct,v)=>{"use strict";v.d(ct,{HL:()=>J,cB:()=>he,fe:()=>He,jp:()=>Te,pt:()=>Pe,y4:()=>Y,yY:()=>ae});var t=v(4438),f=v(1413),m=v(3798),C=v(980),Ee=v(6977),Ue=v(6354),Se=v(9172),ze=v(3294),fe=v(1167),F=v(9327);const ie=()=>{};let he=(()=>{class oe{constructor(ke,Ye){this.ngZone=ke,this.rendererFactory2=Ye,this.resizeSource$=new f.B,this.listeners=0,this.disposeHandle=ie,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=ie}subscribe(){return this.registerListener(),this.resizeSource$.pipe((0,m.Z)(16),(0,C.j)(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=ie)}static#e=this.\u0275fac=function(Ye){return new(Ye||oe)(t.KVO(t.SKi),t.KVO(t._9s))};static#t=this.\u0275prov=t.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})();const me=new Map;let J=(()=>{class oe{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return fe.c.isTestMode?me:this._singletonRegistry}registerSingletonWithKey(ke,Ye){const et=this.singletonRegistry.has(ke),Le=et?this.singletonRegistry.get(ke):this.withNewTarget(Ye);et||this.singletonRegistry.set(ke,Le)}unregisterSingletonWithKey(ke){this.singletonRegistry.has(ke)&&this.singletonRegistry.delete(ke)}getSingletonWithKey(ke){return this.singletonRegistry.has(ke)?this.singletonRegistry.get(ke).target:null}withNewTarget(ke){return{target:ke}}static#e=this.\u0275fac=function(Ye){return new(Ye||oe)};static#t=this.\u0275prov=t.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})();var Pe=function(oe){return oe.xxl="xxl",oe.xl="xl",oe.lg="lg",oe.md="md",oe.sm="sm",oe.xs="xs",oe}(Pe||{});const He={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},ae={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"};let Te=(()=>{class oe{constructor(ke,Ye){this.resizeService=ke,this.mediaMatcher=Ye,this.destroy$=new f.B,this.resizeService.subscribe().pipe((0,Ee.Q)(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(ke,Ye){if(Ye){const et=()=>this.matchMedia(ke,!0);return this.resizeService.subscribe().pipe((0,Ue.T)(et),(0,Se.Z)(et()),(0,ze.F)((Le,Je)=>Le[0]===Je[0]),(0,Ue.T)(Le=>Le[1]))}{const et=()=>this.matchMedia(ke);return this.resizeService.subscribe().pipe((0,Ue.T)(et),(0,Se.Z)(et()),(0,ze.F)())}}matchMedia(ke,Ye){let et=Pe.md;const Le={};return Object.keys(ke).map(Je=>{const We=Je,pt=this.mediaMatcher.matchMedia(He[We]).matches;Le[Je]=pt,pt&&(et=We)}),Ye?[et,Le]:et}static#e=this.\u0275fac=function(Ye){return new(Ye||oe)(t.KVO(he),t.KVO(F.DY))};static#t=this.\u0275prov=t.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})(),Y=(()=>{class oe extends f.B{ngOnDestroy(){this.next(),this.complete()}static#e=this.\u0275fac=(()=>{let ke;return function(et){return(ke||(ke=t.xGo(oe)))(et||oe)}})();static#t=this.\u0275prov=t.jDH({token:oe,factory:oe.\u0275fac})}return oe})()},6389:(Lt,ct,v)=>{"use strict";v.d(ct,{c:()=>f,p:()=>m});var t=v(4438);let f=(()=>{class C{setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}constructor(Ue,Se){this.elementRef=Ue,this.renderer=Se,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}static#e=this.\u0275fac=function(Se){return new(Se||C)(t.rXU(t.aKT),t.rXU(t.sFG))};static#t=this.\u0275dir=t.FsC({type:C,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},standalone:!0,features:[t.OA$]})}return C})(),m=(()=>{class C{static#e=this.\u0275fac=function(Se){return new(Se||C)};static#t=this.\u0275mod=t.$C({type:C});static#n=this.\u0275inj=t.G2t({})}return C})()},5930:(Lt,ct,v)=>{"use strict";v.d(ct,{o7:()=>ze,p:()=>Se});var t=v(6860),f=v(4438);class m{get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}constructor(F,ie,he,me,J){this.triggerElement=F,this.ngZone=ie,this.insertExtraNode=he,this.platformId=me,this.cspNonce=J,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=G=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===G.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new t.OD(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const F=this.triggerElement,ie=this.getWaveColor(F);F.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(ie)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style"),this.cspNonce&&(this.styleForPseudo.nonce=this.cspNonce)),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${ie};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",F.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{F.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(F){return!!F&&"#ffffff"!==F&&"rgb(255, 255, 255)"!==F&&this.isNotGrey(F)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(F)&&"transparent"!==F}isNotGrey(F){const ie=F.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(ie&&ie[1]&&ie[2]&&ie[3]&&ie[1]===ie[2]&&ie[2]===ie[3])}getWaveColor(F){const ie=getComputedStyle(F);return ie.getPropertyValue("border-top-color")||ie.getPropertyValue("border-color")||ie.getPropertyValue("background-color")}runTimeoutOutsideZone(F,ie){this.ngZone.runOutsideAngular(()=>setTimeout(F,ie))}}const C={disabled:!1},Ee=new f.nKC("nz-wave-global-options");function Ue(fe){return(0,f.EmA)([{provide:Ee,useValue:fe}])}let Se=(()=>{class fe{get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}constructor(ie,he,me,J,G,ge){this.ngZone=ie,this.elementRef=he,this.config=me,this.animationType=J,this.platformId=G,this.cspNonce=ge,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}isConfigDisabled(){let ie=!1;return this.config&&"boolean"==typeof this.config.disabled&&(ie=this.config.disabled),"NoopAnimations"===this.animationType&&(ie=!0),ie}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new m(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId,this.cspNonce))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}static#e=this.\u0275fac=function(he){return new(he||fe)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(Ee,8),f.rXU(f.bc$,8),f.rXU(f.Agw),f.rXU(f.BIS,8))};static#t=this.\u0275dir=f.FsC({type:fe,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"],standalone:!0})}return fe})(),ze=(()=>{class fe{static#e=this.\u0275fac=function(he){return new(he||fe)};static#t=this.\u0275mod=f.$C({type:fe});static#n=this.\u0275inj=f.G2t({providers:[Ue(C)]})}return fe})()},2602:(Lt,ct,v)=>{"use strict";v.d(ct,{Cu:()=>xt,G_:()=>$e,h4:()=>mt,j3:()=>pt,wQ:()=>dt});var t=v(1635),f=v(7336),m=v(6939),C=v(4438),Ee=v(1413),Ue=v(4412),Se=v(7786),ze=v(3726),fe=v(983),F=v(4572),ie=v(3703),he=v(6354),me=v(5558),J=v(5964),G=v(3798),ge=v(3294),Ce=v(6977),De=v(6035),Pe=v(5463),He=v(317),ae=v(6969),Te=v(6860),Y=v(1868),be=v(513),oe=v(177),nt=v(713),ke=v(6841),Ye=v(8203);const et=["*"];function Le(je,q){if(1&je){const B=C.RV6();C.j41(0,"div",0),C.bIt("@slideMotion.done",function(re){C.eBV(B);const Be=C.XpG();return C.Njj(Be.onAnimationEvent(re))})("mouseenter",function(){C.eBV(B);const re=C.XpG();return C.Njj(re.setMouseState(!0))})("mouseleave",function(){C.eBV(B);const re=C.XpG();return C.Njj(re.setMouseState(!1))}),C.SdG(1),C.k0s()}if(2&je){const B=C.XpG();C.AVh("ant-dropdown-rtl","rtl"===B.dir),C.Y8G("ngClass",B.nzOverlayClassName)("ngStyle",B.nzOverlayStyle)("@slideMotion",void 0)("@.disabled",!(null==B.noAnimation||!B.noAnimation.nzNoAnimation))("nzNoAnimation",null==B.noAnimation?null:B.noAnimation.nzNoAnimation)}}const We=[Pe.pn.bottomLeft,Pe.pn.bottomRight,Pe.pn.topRight,Pe.pn.topLeft];let pt=(()=>{class je{setDropdownMenuValue(B,se){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(B,se)}constructor(B,se,re,Be,Ke,vt){this.nzConfigService=B,this.elementRef=se,this.overlay=re,this.renderer=Be,this.viewContainerRef=Ke,this.platform=vt,this._nzModuleName="dropDown",this.overlayRef=null,this.destroy$=new Ee.B,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new Ue.t(!1),this.nzTrigger$=new Ue.t("hover"),this.overlayClose$=new Ee.B,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new C.bkB}ngAfterViewInit(){if(this.nzDropdownMenu){const B=this.elementRef.nativeElement,se=(0,Se.h)((0,ze.R)(B,"mouseenter").pipe((0,ie.u)(!0)),(0,ze.R)(B,"mouseleave").pipe((0,ie.u)(!1))),Be=(0,Se.h)(this.nzDropdownMenu.mouseState$,se),Ke=(0,ze.R)(B,"click").pipe((0,he.T)(()=>!this.nzVisible)),vt=this.nzTrigger$.pipe((0,me.n)(Wt=>"hover"===Wt?Be:"click"===Wt?Ke:fe.w)),Nt=this.nzDropdownMenu.descendantMenuItemClick$.pipe((0,J.p)(()=>this.nzClickHide),(0,ie.u)(!1)),Xt=(0,Se.h)(vt,Nt,this.overlayClose$).pipe((0,J.p)(()=>!this.nzDisabled)),Zt=(0,Se.h)(this.inputVisible$,Xt);(0,F.z)([Zt,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe((0,he.T)(([Wt,lt])=>Wt||lt),(0,G.Z)(150),(0,ge.F)(),(0,J.p)(()=>this.platform.isBrowser),(0,Ce.Q)(this.destroy$)).subscribe(Wt=>{const Ft=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:B).getBoundingClientRect().width;this.nzVisible!==Wt&&this.nzVisibleChange.emit(Wt),this.nzVisible=Wt,Wt?(this.overlayRef?this.overlayRef.getConfig().minWidth=Ft:(this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:Ft,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&"click"===this.nzTrigger,scrollStrategy:this.overlay.scrollStrategies.reposition()}),(0,Se.h)(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe((0,J.p)(_e=>!this.elementRef.nativeElement.contains(_e.target))),this.overlayRef.keydownEvents().pipe((0,J.p)(_e=>_e.keyCode===f._f&&!(0,f.rp)(_e)))).pipe((0,Ce.Q)(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)})),this.positionStrategy.withPositions([Pe.pn[this.nzPlacement],...We]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new m.VA(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)):this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe((0,Ce.Q)(this.destroy$)).subscribe(Wt=>{"void"===Wt.toState&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(B){const{nzVisible:se,nzDisabled:re,nzOverlayClassName:Be,nzOverlayStyle:Ke,nzTrigger:vt}=B;if(vt&&this.nzTrigger$.next(this.nzTrigger),se&&this.inputVisible$.next(this.nzVisible),re){const Nt=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(Nt,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(Nt,"disabled")}Be&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),Ke&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}static#e=this.\u0275fac=function(se){return new(se||je)(C.rXU(De.yx),C.rXU(C.aKT),C.rXU(ae.hJ),C.rXU(C.sFG),C.rXU(C.c1b),C.rXU(Te.OD))};static#t=this.\u0275dir=C.FsC({type:je,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:"nzBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],standalone:!0,features:[C.OA$]})}return(0,t.Cg)([(0,De.H4)(),(0,He.H3)()],je.prototype,"nzBackdrop",void 0),(0,t.Cg)([(0,He.H3)()],je.prototype,"nzClickHide",void 0),(0,t.Cg)([(0,He.H3)()],je.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,He.H3)()],je.prototype,"nzVisible",void 0),je})(),tt=(()=>{class je{static#e=this.\u0275fac=function(se){return new(se||je)};static#t=this.\u0275mod=C.$C({type:je});static#n=this.\u0275inj=C.G2t({})}return je})(),$e=(()=>{class je{constructor(){}static#e=this.\u0275fac=function(se){return new(se||je)};static#t=this.\u0275dir=C.FsC({type:je,selectors:[["a","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-link"],standalone:!0})}return je})(),mt=(()=>{class je{constructor(B,se,re){this.renderer=B,this.nzButtonGroupComponent=se,this.elementRef=re}ngAfterViewInit(){const B=this.renderer.parentNode(this.elementRef.nativeElement);this.nzButtonGroupComponent&&B&&this.renderer.addClass(B,"ant-dropdown-button")}static#e=this.\u0275fac=function(se){return new(se||je)(C.rXU(C.sFG),C.rXU(be.dn,9),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:je,selectors:[["","nz-button","","nz-dropdown",""]],standalone:!0})}return je})(),dt=(()=>{class je{onAnimationEvent(B){this.animationStateChange$.emit(B)}setMouseState(B){this.mouseState$.next(B)}setValue(B,se){this[B]=se,this.cdr.markForCheck()}constructor(B,se,re,Be,Ke,vt,Nt){this.cdr=B,this.elementRef=se,this.renderer=re,this.viewContainerRef=Be,this.nzMenuService=Ke,this.directionality=vt,this.noAnimation=Nt,this.mouseState$=new Ue.t(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new C.bkB,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new Ee.B}ngOnInit(){this.directionality.change?.pipe((0,Ce.Q)(this.destroy$)).subscribe(B=>{this.dir=B,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(se){return new(se||je)(C.rXU(C.gRc),C.rXU(C.aKT),C.rXU(C.sFG),C.rXU(C.c1b),C.rXU(Y.$1),C.rXU(Ye.dS,8),C.rXU(ke.z,9))};static#t=this.\u0275cmp=C.VBU({type:je,selectors:[["nz-dropdown-menu"]],viewQuery:function(se,re){if(1&se&&C.GBs(C.C4Q,7),2&se){let Be;C.mGM(Be=C.lsd())&&(re.templateRef=Be.first)}},exportAs:["nzDropdownMenu"],standalone:!0,features:[C.Jv_([Y.$1,{provide:Y.ek,useValue:!0}]),C.aNF],ngContentSelectors:et,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","ngClass","ngStyle","nzNoAnimation"]],template:function(se,re){1&se&&(C.NAR(),C.DNE(0,Le,2,7,"ng-template"))},dependencies:[oe.YU,oe.B3,ke.z],encapsulation:2,data:{animation:[nt.U1]},changeDetection:0})}return je})(),xt=(()=>{class je{static#e=this.\u0275fac=function(se){return new(se||je)};static#t=this.\u0275mod=C.$C({type:je});static#n=this.\u0275inj=C.G2t({imports:[tt,Y.GP]})}return je})();new ae.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new ae.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new ae.uH({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new ae.uH({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})},1672:(Lt,ct,v)=>{"use strict";v.d(ct,{E8:()=>pt,_v:()=>tt});var t=v(6939),f=v(4438),m=v(1413),C=v(6977),Ee=v(9172),Ue=v(7806),Se=v(3341),ze=v(6035);function fe($e,mt){if(1&$e&&(f.qex(0),f.nrm(1,"img",4),f.bVm()),2&$e){const dt=f.XpG(2);f.R7$(),f.Y8G("src",dt.nzNotFoundImage,f.B4B)("alt",dt.isContentString?dt.nzNotFoundContent:"empty")}}function F($e,mt){if(1&$e&&f.DNE(0,fe,2,2,"ng-container",3),2&$e){const dt=f.XpG();f.Y8G("nzStringTemplateOutlet",dt.nzNotFoundImage)}}function ie($e,mt){1&$e&&f.nrm(0,"nz-empty-simple")}function he($e,mt){1&$e&&f.nrm(0,"nz-empty-default")}function me($e,mt){if(1&$e&&f.DNE(0,ie,1,0,"nz-empty-simple")(1,he,1,0),2&$e){const dt=f.XpG();f.vxM(0,"simple"===dt.nzNotFoundImage?0:1)}}function J($e,mt){if(1&$e&&(f.qex(0),f.EFF(1),f.bVm()),2&$e){const dt=f.XpG(2);f.R7$(),f.SpI(" ",dt.isContentString?dt.nzNotFoundContent:dt.locale.description," ")}}function G($e,mt){if(1&$e&&(f.j41(0,"p",1),f.DNE(1,J,2,1,"ng-container",3),f.k0s()),2&$e){const dt=f.XpG();f.R7$(),f.Y8G("nzStringTemplateOutlet",dt.nzNotFoundContent)}}function ge($e,mt){if(1&$e&&(f.qex(0),f.EFF(1),f.bVm()),2&$e){const dt=f.XpG(2);f.R7$(),f.SpI(" ",dt.nzNotFoundFooter," ")}}function Ce($e,mt){if(1&$e&&(f.j41(0,"div",2),f.DNE(1,ge,2,1,"ng-container",3),f.k0s()),2&$e){const dt=f.XpG();f.R7$(),f.Y8G("nzStringTemplateOutlet",dt.nzNotFoundFooter)}}function De($e,mt){if(1&$e&&f.EFF(0),2&$e){const dt=f.XpG(2);f.SpI(" ",dt.content," ")}}function Pe($e,mt){}function He($e,mt){if(1&$e&&f.DNE(0,Pe,0,0,"ng-template",0),2&$e){const dt=f.XpG(2);f.Y8G("cdkPortalOutlet",dt.contentPortal)}}function ae($e,mt){if(1&$e&&f.DNE(0,De,1,1)(1,He,1,1),2&$e){const dt=f.XpG();f.vxM(0,"string"===dt.contentType?0:1)}}function Te($e,mt){1&$e&&f.nrm(0,"nz-empty",1)}function Y($e,mt){1&$e&&f.nrm(0,"nz-empty",2)}function be($e,mt){1&$e&&f.nrm(0,"nz-empty")}function oe($e,mt){if(1&$e&&f.DNE(0,Te,1,0)(1,Y,1,0)(2,be,1,0),2&$e){let dt;const xt=f.XpG(2);f.vxM(0,"normal"===(dt=xt.size)?0:"small"===dt?1:2)}}function nt($e,mt){if(1&$e&&f.DNE(0,oe,3,1),2&$e){const dt=f.XpG();f.vxM(0,null!==dt.specificContent?0:-1)}}const ke=new f.nKC("nz-empty-component-name");let Ye=(()=>{class $e{static#e=this.\u0275fac=function(xt){return new(xt||$e)};static#t=this.\u0275cmp=f.VBU({type:$e,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],standalone:!0,features:[f.aNF],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(xt,jt){1&xt&&(f.qSk(),f.j41(0,"svg",0)(1,"g",1)(2,"g",2),f.nrm(3,"ellipse",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),f.k0s(),f.nrm(8,"path",8),f.j41(9,"g",9),f.nrm(10,"ellipse",10)(11,"path",11),f.k0s()()())},encapsulation:2,changeDetection:0})}return $e})(),et=(()=>{class $e{static#e=this.\u0275fac=function(xt){return new(xt||$e)};static#t=this.\u0275cmp=f.VBU({type:$e,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],standalone:!0,features:[f.aNF],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(xt,jt){1&xt&&(f.qSk(),f.j41(0,"svg",0)(1,"g",1),f.nrm(2,"ellipse",2),f.j41(3,"g",3),f.nrm(4,"path",4)(5,"path",5),f.k0s()()())},encapsulation:2,changeDetection:0})}return $e})();const Le=["default","simple"];let Je=(()=>{class $e{constructor(dt,xt){this.i18n=dt,this.cdr=xt,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new m.B}ngOnChanges(dt){const{nzNotFoundContent:xt,nzNotFoundImage:jt}=dt;if(xt&&(this.isContentString="string"==typeof xt.currentValue),jt){const Me=jt.currentValue||"default";this.isImageBuildIn=Le.findIndex(je=>je===Me)>-1}}ngOnInit(){this.i18n.localeChange.pipe((0,C.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(xt){return new(xt||$e)(f.rXU(Se.Og),f.rXU(f.gRc))};static#t=this.\u0275cmp=f.VBU({type:$e,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],standalone:!0,features:[f.OA$,f.aNF],decls:5,vars:3,consts:[[1,"ant-empty-image"],[1,"ant-empty-description"],[1,"ant-empty-footer"],[4,"nzStringTemplateOutlet"],[3,"src","alt"]],template:function(xt,jt){1&xt&&(f.j41(0,"div",0),f.DNE(1,F,1,1,"ng-container")(2,me,2,1),f.k0s(),f.DNE(3,G,2,1,"p",1)(4,Ce,2,1,"div",2)),2&xt&&(f.R7$(),f.vxM(1,jt.isImageBuildIn?2:1),f.R7$(2),f.vxM(3,null!==jt.nzNotFoundContent?3:-1),f.R7$(),f.vxM(4,jt.nzNotFoundFooter?4:-1))},dependencies:[Ue.C,Ue.m,Ye,et],encapsulation:2,changeDetection:0})}return $e})(),pt=(()=>{class $e{constructor(dt,xt,jt,Me){this.configService=dt,this.viewContainerRef=xt,this.cdr=jt,this.injector=Me,this.contentType="string",this.size="",this.destroy$=new m.B}ngOnChanges(dt){dt.nzComponentName&&(this.size=function We($e){switch($e){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(dt.nzComponentName.currentValue)),dt.specificContent&&!dt.specificContent.isFirstChange()&&(this.content=dt.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const dt=this.content;if("string"==typeof dt)this.contentType="string";else if(dt instanceof f.C4Q){const xt={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new t.VA(dt,this.viewContainerRef,xt)}else if(dt instanceof f.ZUJ){const xt=f.zZn.create({parent:this.injector,providers:[{provide:ke,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new t.A8(dt,this.viewContainerRef,xt)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe((0,Ee.Z)(!0),(0,C.Q)(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}static#e=this.\u0275fac=function(xt){return new(xt||$e)(f.rXU(ze.yx),f.rXU(f.c1b),f.rXU(f.gRc),f.rXU(f.zZn))};static#t=this.\u0275cmp=f.VBU({type:$e,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],standalone:!0,features:[f.OA$,f.aNF],decls:2,vars:1,consts:[[3,"cdkPortalOutlet"],["nzNotFoundImage","simple",1,"ant-empty-normal"],["nzNotFoundImage","simple",1,"ant-empty-small"]],template:function(xt,jt){1&xt&&f.DNE(0,ae,2,1)(1,nt,1,1),2&xt&&f.vxM(0,jt.content?0:1)},dependencies:[Je,t.jc,t.I3],encapsulation:2,changeDetection:0})}return $e})(),tt=(()=>{class $e{static#e=this.\u0275fac=function(xt){return new(xt||$e)};static#t=this.\u0275mod=f.$C({type:$e});static#n=this.\u0275inj=f.G2t({imports:[Je,pt]})}return $e})()},8927:(Lt,ct,v)=>{"use strict";v.d(ct,{CA:()=>tt,Ls:()=>Je,Mo:()=>dt,PQ:()=>Me,zS:()=>$e});var t=v(4438),f=v(7529),m=v(177),C=v(4341),Ee=v(1413),Ue=v(8359),Se=v(5964),ze=v(6354),fe=v(6977),F=v(9172),ie=v(8141),he=v(713),me=v(7891),J=v(7806),G=v(317),ge=v(3341),Ce=v(1635),De=v(6035),Pe=v(8203),He=v(5103),ae=v(5154);const Te=["*"],Y=je=>[je],be=je=>({$implicit:je});function oe(je,q){if(1&je&&(t.qex(0),t.EFF(1),t.bVm()),2&je){const B=t.XpG(2);t.R7$(),t.JRh(B.innerTip)}}function nt(je,q){if(1&je&&(t.j41(0,"div",2)(1,"div",4),t.DNE(2,oe,2,1,"ng-container",5),t.k0s()()),2&je){const B=t.XpG();t.Y8G("@helpMotion",void 0),t.R7$(),t.Y8G("ngClass",t.eq3(4,Y,"ant-form-item-explain-"+B.status)),t.R7$(),t.Y8G("nzStringTemplateOutlet",B.innerTip)("nzStringTemplateOutletContext",t.eq3(6,be,B.validateControl))}}function ke(je,q){if(1&je&&(t.qex(0),t.EFF(1),t.bVm()),2&je){const B=t.XpG(2);t.R7$(),t.JRh(B.nzExtra)}}function Ye(je,q){if(1&je&&(t.j41(0,"div",3),t.DNE(1,ke,2,1,"ng-container",6),t.k0s()),2&je){const B=t.XpG();t.R7$(),t.Y8G("nzStringTemplateOutlet",B.nzExtra)}}function et(je,q){if(1&je&&(t.qex(0),t.nrm(1,"span",2),t.bVm()),2&je){const B=q.$implicit,se=t.XpG(2);t.R7$(),t.Y8G("nzType",B)("nzTheme",se.tooltipIcon.theme)}}function Le(je,q){if(1&je&&(t.j41(0,"span",0),t.DNE(1,et,2,2,"ng-container",1),t.k0s()),2&je){const B=t.XpG();t.Y8G("nzTooltipTitle",B.nzTooltipTitle),t.R7$(),t.Y8G("nzStringTemplateOutlet",B.tooltipIcon.type)}}let Je=(()=>{class je{setWithHelpViaTips(B){this.withHelpClass=B,this.cdr.markForCheck()}setStatus(B){this.status=B,this.cdr.markForCheck()}setHasFeedback(B){this.hasFeedback=B,this.cdr.markForCheck()}constructor(B){this.cdr=B,this.status="",this.hasFeedback=!1,this.withHelpClass=!1,this.destroy$=new Ee.B}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(se){return new(se||je)(t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:je,selectors:[["nz-form-item"]],hostAttrs:[1,"ant-form-item"],hostVars:12,hostBindings:function(se,re){2&se&&t.AVh("ant-form-item-has-success","success"===re.status)("ant-form-item-has-warning","warning"===re.status)("ant-form-item-has-error","error"===re.status)("ant-form-item-is-validating","validating"===re.status)("ant-form-item-has-feedback",re.hasFeedback&&re.status)("ant-form-item-with-help",re.withHelpClass)},exportAs:["nzFormItem"],standalone:!0,features:[t.aNF],ngContentSelectors:Te,decls:1,vars:0,template:function(se,re){1&se&&(t.NAR(),t.SdG(0))},encapsulation:2,changeDetection:0})}return je})();const pt={type:"question-circle",theme:"outline"};let tt=(()=>{class je{getInputObservable(B){return this.inputChanges$.pipe((0,Se.p)(se=>B in se),(0,ze.T)(se=>se[B]))}constructor(B,se){this.nzConfigService=B,this.directionality=se,this._nzModuleName="form",this.nzLayout="horizontal",this.nzNoColon=!1,this.nzAutoTips={},this.nzDisableAutoTips=!1,this.nzTooltipIcon=pt,this.nzLabelAlign="right",this.nzLabelWrap=!1,this.dir="ltr",this.destroy$=new Ee.B,this.inputChanges$=new Ee.B,this.dir=this.directionality.value,this.directionality.change?.pipe((0,fe.Q)(this.destroy$)).subscribe(re=>{this.dir=re})}ngOnChanges(B){this.inputChanges$.next(B)}ngOnDestroy(){this.inputChanges$.complete(),this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(se){return new(se||je)(t.rXU(De.yx),t.rXU(Pe.dS,8))};static#t=this.\u0275dir=t.FsC({type:je,selectors:[["","nz-form",""]],hostAttrs:[1,"ant-form"],hostVars:8,hostBindings:function(se,re){2&se&&t.AVh("ant-form-horizontal","horizontal"===re.nzLayout)("ant-form-vertical","vertical"===re.nzLayout)("ant-form-inline","inline"===re.nzLayout)("ant-form-rtl","rtl"===re.dir)},inputs:{nzLayout:"nzLayout",nzNoColon:"nzNoColon",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzTooltipIcon:"nzTooltipIcon",nzLabelAlign:"nzLabelAlign",nzLabelWrap:"nzLabelWrap"},exportAs:["nzForm"],standalone:!0,features:[t.OA$]})}return(0,Ce.Cg)([(0,De.H4)(),(0,G.H3)()],je.prototype,"nzNoColon",void 0),(0,Ce.Cg)([(0,De.H4)()],je.prototype,"nzAutoTips",void 0),(0,Ce.Cg)([(0,G.H3)()],je.prototype,"nzDisableAutoTips",void 0),(0,Ce.Cg)([(0,De.H4)()],je.prototype,"nzTooltipIcon",void 0),(0,Ce.Cg)([(0,De.H4)(),(0,G.H3)()],je.prototype,"nzLabelWrap",void 0),je})(),$e=(()=>{class je{get disableAutoTips(){return"default"!==this.nzDisableAutoTips?(0,G.G4)(this.nzDisableAutoTips):this.nzFormDirective?.nzDisableAutoTips}set nzHasFeedback(B){this._hasFeedback=(0,G.G4)(B),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this._hasFeedback}),this.nzFormItemComponent&&this.nzFormItemComponent.setHasFeedback(this._hasFeedback)}get nzHasFeedback(){return this._hasFeedback}set nzValidateStatus(B){B instanceof C.EL||B instanceof C.vS?(this.validateControl=B,this.validateString=null,this.watchControl()):B instanceof C.JD?(this.validateControl=B.control,this.validateString=null,this.watchControl()):(this.validateString=B,this.validateControl=null,this.setStatus())}watchControl(){this.validateChanges.unsubscribe(),this.validateControl&&this.validateControl.statusChanges&&(this.validateChanges=this.validateControl.statusChanges.pipe((0,F.Z)(null),(0,fe.Q)(this.destroyed$)).subscribe(()=>{this.disableAutoTips||this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck()}))}setStatus(){this.status=this.getControlStatus(this.validateString),this.innerTip=this.getInnerTip(this.status),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this.nzHasFeedback}),this.nzFormItemComponent&&(this.nzFormItemComponent.setWithHelpViaTips(!!this.innerTip),this.nzFormItemComponent.setStatus(this.status))}getControlStatus(B){let se;return se="warning"===B||this.validateControlStatus("INVALID","warning")?"warning":"error"===B||this.validateControlStatus("INVALID")?"error":"validating"===B||"pending"===B||this.validateControlStatus("PENDING")?"validating":"success"===B||this.validateControlStatus("VALID")?"success":"",se}validateControlStatus(B,se){if(this.validateControl){const{dirty:re,touched:Be,status:Ke}=this.validateControl;return(!!re||!!Be)&&(se?this.validateControl.hasError(se):Ke===B)}return!1}getInnerTip(B){switch(B){case"error":return!this.disableAutoTips&&this.autoErrorTip||this.nzErrorTip||null;case"validating":return this.nzValidatingTip||null;case"success":return this.nzSuccessTip||null;case"warning":return this.nzWarningTip||null;default:return null}}updateAutoErrorTip(){if(this.validateControl){const B=this.validateControl.errors||{};let se="";for(const re in B)if(B.hasOwnProperty(re)&&(se=B[re]?.[this.localeId]??this.nzAutoTips?.[this.localeId]?.[re]??this.nzAutoTips.default?.[re]??this.nzFormDirective?.nzAutoTips?.[this.localeId]?.[re]??this.nzFormDirective?.nzAutoTips.default?.[re]),se)break;this.autoErrorTip=se}}subscribeAutoTips(B){B?.pipe((0,fe.Q)(this.destroyed$)).subscribe(()=>{this.disableAutoTips||(this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck())})}constructor(B,se,re,Be,Ke){this.nzFormItemComponent=B,this.cdr=se,this.nzFormDirective=Be,this.nzFormStatusService=Ke,this._hasFeedback=!1,this.validateChanges=Ue.yU.EMPTY,this.validateString=null,this.destroyed$=new Ee.B,this.status="",this.validateControl=null,this.innerTip=null,this.nzAutoTips={},this.nzDisableAutoTips="default",this.subscribeAutoTips(re.localeChange.pipe((0,ie.M)(vt=>this.localeId=vt.locale))),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzAutoTips")),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzDisableAutoTips").pipe((0,Se.p)(()=>"default"===this.nzDisableAutoTips)))}ngOnChanges(B){const{nzDisableAutoTips:se,nzAutoTips:re,nzSuccessTip:Be,nzWarningTip:Ke,nzErrorTip:vt,nzValidatingTip:Nt}=B;se||re?(this.updateAutoErrorTip(),this.setStatus()):(Be||Ke||vt||Nt)&&this.setStatus()}ngOnInit(){this.setStatus()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}ngAfterContentInit(){!this.validateControl&&!this.validateString&&(this.nzValidateStatus=this.defaultValidateControl instanceof C.l_?this.defaultValidateControl.control:this.defaultValidateControl)}static#e=this.\u0275fac=function(se){return new(se||je)(t.rXU(Je,9),t.rXU(t.gRc),t.rXU(ge.Og),t.rXU(tt,8),t.rXU(me.is))};static#t=this.\u0275cmp=t.VBU({type:je,selectors:[["nz-form-control"]],contentQueries:function(se,re,Be){if(1&se&&t.wni(Be,C.vO,5),2&se){let Ke;t.mGM(Ke=t.lsd())&&(re.defaultValidateControl=Ke.first)}},hostAttrs:[1,"ant-form-item-control"],inputs:{nzSuccessTip:"nzSuccessTip",nzWarningTip:"nzWarningTip",nzErrorTip:"nzErrorTip",nzValidatingTip:"nzValidatingTip",nzExtra:"nzExtra",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzHasFeedback:"nzHasFeedback",nzValidateStatus:"nzValidateStatus"},exportAs:["nzFormControl"],standalone:!0,features:[t.Jv_([me.is]),t.OA$,t.aNF],ngContentSelectors:Te,decls:5,vars:2,consts:[[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra"],["role","alert",3,"ngClass"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[4,"nzStringTemplateOutlet"]],template:function(se,re){1&se&&(t.NAR(),t.j41(0,"div",0)(1,"div",1),t.SdG(2),t.k0s()(),t.DNE(3,nt,3,8,"div",2)(4,Ye,2,1,"div",3)),2&se&&(t.R7$(3),t.vxM(3,re.innerTip?3:-1),t.R7$(),t.vxM(4,re.nzExtra?4:-1))},dependencies:[m.YU,J.C,J.m],encapsulation:2,data:{animation:[he.W4]},changeDetection:0})}return je})();function mt(je){return{...pt,..."string"==typeof je?{type:je}:je}}let dt=(()=>{class je{set nzNoColon(B){this.noColon=(0,G.G4)(B)}get nzNoColon(){return"default"!==this.noColon?this.noColon:this.nzFormDirective?.nzNoColon}set nzTooltipIcon(B){this._tooltipIcon=mt(B)}get tooltipIcon(){return"default"!==this._tooltipIcon?this._tooltipIcon:mt(this.nzFormDirective?.nzTooltipIcon||pt)}set nzLabelAlign(B){this.labelAlign=B}get nzLabelAlign(){return"default"!==this.labelAlign?this.labelAlign:this.nzFormDirective?.nzLabelAlign||"right"}set nzLabelWrap(B){this.labelWrap=(0,G.G4)(B)}get nzLabelWrap(){return"default"!==this.labelWrap?this.labelWrap:this.nzFormDirective?.nzLabelWrap}constructor(B,se){this.cdr=B,this.nzFormDirective=se,this.nzRequired=!1,this.noColon="default",this._tooltipIcon="default",this.labelAlign="default",this.labelWrap="default",this.destroy$=new Ee.B,this.nzFormDirective&&(this.nzFormDirective.getInputObservable("nzNoColon").pipe((0,Se.p)(()=>"default"===this.noColon),(0,fe.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzTooltipIcon").pipe((0,Se.p)(()=>"default"===this._tooltipIcon),(0,fe.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzLabelAlign").pipe((0,Se.p)(()=>"default"===this.labelAlign),(0,fe.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzLabelWrap").pipe((0,Se.p)(()=>"default"===this.labelWrap),(0,fe.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(se){return new(se||je)(t.rXU(t.gRc),t.rXU(tt,12))};static#t=this.\u0275cmp=t.VBU({type:je,selectors:[["nz-form-label"]],hostAttrs:[1,"ant-form-item-label"],hostVars:4,hostBindings:function(se,re){2&se&&t.AVh("ant-form-item-label-left","left"===re.nzLabelAlign)("ant-form-item-label-wrap",re.nzLabelWrap)},inputs:{nzFor:"nzFor",nzRequired:"nzRequired",nzNoColon:"nzNoColon",nzTooltipTitle:"nzTooltipTitle",nzTooltipIcon:"nzTooltipIcon",nzLabelAlign:"nzLabelAlign",nzLabelWrap:"nzLabelWrap"},exportAs:["nzFormLabel"],standalone:!0,features:[t.aNF],ngContentSelectors:Te,decls:3,vars:6,consts:[["nz-tooltip","",1,"ant-form-item-tooltip",3,"nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType","nzTheme"]],template:function(se,re){1&se&&(t.NAR(),t.j41(0,"label"),t.SdG(1),t.DNE(2,Le,2,2,"span",0),t.k0s()),2&se&&(t.AVh("ant-form-item-no-colon",re.nzNoColon)("ant-form-item-required",re.nzRequired),t.BMQ("for",re.nzFor),t.R7$(2),t.vxM(2,re.nzTooltipTitle?2:-1))},dependencies:[J.C,J.m,ae.LH,He.Y3,He.Dn],encapsulation:2,changeDetection:0})}return(0,Ce.Cg)([(0,G.H3)()],je.prototype,"nzRequired",void 0),je})(),Me=(()=>{class je{static#e=this.\u0275fac=function(se){return new(se||je)};static#t=this.\u0275mod=t.$C({type:je});static#n=this.\u0275inj=t.G2t({imports:[dt,$e,f.f3]})}return je})()},7529:(Lt,ct,v)=>{"use strict";v.d(ct,{Uq:()=>ie,e:()=>F,f3:()=>he});var t=v(4438),f=v(2771),m=v(1413),C=v(6977),Ee=v(1025),Ue=v(9327),Se=v(6860),ze=v(8203),fe=v(317);let F=(()=>{class me{getGutter(){const G=[null,null],ge=this.nzGutter||0;return(Array.isArray(ge)?ge:[ge,null]).forEach((De,Pe)=>{"object"==typeof De&&null!==De?(G[Pe]=null,Object.keys(Ee.fe).map(He=>{const ae=He;this.mediaMatcher.matchMedia(Ee.fe[ae]).matches&&De[ae]&&(G[Pe]=De[ae])})):G[Pe]=Number(De)||null}),G}setGutterStyle(){const[G,ge]=this.getGutter();this.actualGutter$.next([G,ge]);const Ce=(De,Pe)=>{null!==Pe&&this.renderer.setStyle(this.elementRef.nativeElement,De,`-${Pe/2}px`)};Ce("margin-left",G),Ce("margin-right",G),Ce("margin-top",ge),Ce("margin-bottom",ge)}constructor(G,ge,Ce,De,Pe,He,ae){this.elementRef=G,this.renderer=ge,this.mediaMatcher=Ce,this.ngZone=De,this.platform=Pe,this.breakpointService=He,this.directionality=ae,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new f.m(1),this.dir="ltr",this.destroy$=new m.B}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,C.Q)(this.destroy$)).subscribe(G=>{this.dir=G}),this.setGutterStyle()}ngOnChanges(G){G.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(Ee.fe).pipe((0,C.Q)(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(ge){return new(ge||me)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Ue.DY),t.rXU(t.SKi),t.rXU(Se.OD),t.rXU(Ee.jp),t.rXU(ze.dS,8))};static#t=this.\u0275dir=t.FsC({type:me,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:20,hostBindings:function(ge,Ce){2&ge&&t.AVh("ant-row-top","top"===Ce.nzAlign)("ant-row-middle","middle"===Ce.nzAlign)("ant-row-bottom","bottom"===Ce.nzAlign)("ant-row-start","start"===Ce.nzJustify)("ant-row-end","end"===Ce.nzJustify)("ant-row-center","center"===Ce.nzJustify)("ant-row-space-around","space-around"===Ce.nzJustify)("ant-row-space-between","space-between"===Ce.nzJustify)("ant-row-space-evenly","space-evenly"===Ce.nzJustify)("ant-row-rtl","rtl"===Ce.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],standalone:!0,features:[t.OA$]})}return me})(),ie=(()=>{class me{setHostClassMap(){const G={"ant-col":!0,[`ant-col-${this.nzSpan}`]:(0,fe.n9)(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:(0,fe.n9)(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:(0,fe.n9)(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:(0,fe.n9)(this.nzPull),[`ant-col-push-${this.nzPush}`]:(0,fe.n9)(this.nzPush),"ant-col-rtl":"rtl"===this.dir,...this.generateClass()};for(const ge in this.classMap)this.classMap.hasOwnProperty(ge)&&this.renderer.removeClass(this.elementRef.nativeElement,ge);this.classMap={...G};for(const ge in this.classMap)this.classMap.hasOwnProperty(ge)&&this.classMap[ge]&&this.renderer.addClass(this.elementRef.nativeElement,ge)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(G){return"number"==typeof G?`${G} ${G} auto`:"string"==typeof G&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(G)?`0 0 ${G}`:G}generateClass(){const ge={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(Ce=>{const De=Ce.replace("nz","").toLowerCase();if((0,fe.n9)(this[Ce]))if("number"==typeof this[Ce]||"string"==typeof this[Ce])ge[`ant-col-${De}-${this[Ce]}`]=!0;else{const Pe=this[Ce];["span","pull","push","offset","order"].forEach(ae=>{ge[`ant-col-${De}${"span"===ae?"-":`-${ae}-`}${Pe[ae]}`]=Pe&&(0,fe.n9)(Pe[ae])})}}),ge}constructor(G,ge,Ce,De){this.elementRef=G,this.nzRowDirective=ge,this.renderer=Ce,this.directionality=De,this.classMap={},this.destroy$=new m.B,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,C.Q)(this.destroy$)).subscribe(G=>{this.dir=G,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(G){this.setHostClassMap();const{nzFlex:ge}=G;ge&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe((0,C.Q)(this.destroy$)).subscribe(([G,ge])=>{const Ce=(De,Pe)=>{null!==Pe&&this.renderer.setStyle(this.elementRef.nativeElement,De,Pe/2+"px")};Ce("padding-left",G),Ce("padding-right",G),Ce("padding-top",ge),Ce("padding-bottom",ge)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(ge){return new(ge||me)(t.rXU(t.aKT),t.rXU(F,9),t.rXU(t.sFG),t.rXU(ze.dS,8))};static#t=this.\u0275dir=t.FsC({type:me,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(ge,Ce){2&ge&&t.xc7("flex",Ce.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],standalone:!0,features:[t.OA$]})}return me})(),he=(()=>{class me{static#e=this.\u0275fac=function(ge){return new(ge||me)};static#t=this.\u0275mod=t.$C({type:me});static#n=this.\u0275inj=t.G2t({})}return me})()},2047:(Lt,ct,v)=>{"use strict";v.d(ct,{FG:()=>Xt,GP:()=>Ft});var t=v(1635),f=v(7336),m=v(4438),C=v(4341),Ee=v(1413),Ue=v(3726),Se=v(7786),ze=v(3294),fe=v(6977),F=v(9172),ie=v(5558),he=v(1397),me=v(6354),J=v(7891),G=v(1025),ge=v(317),Ce=v(5103),De=v(851),Pe=v(8203),He=v(7806),ae=v(177);const Te=["upHandler"],Y=["downHandler"],be=["inputElement"];function oe(_e,Ne){if(1&_e&&m.nrm(0,"nz-form-item-feedback-icon",10),2&_e){const Z=m.XpG();m.Y8G("status",Z.status)}}const nt=["nz-input-number-group-slot",""],ke=["*"];function Ye(_e,Ne){if(1&_e&&m.nrm(0,"span",0),2&_e){const Z=m.XpG();m.Y8G("nzType",Z.icon)}}function et(_e,Ne){if(1&_e&&(m.qex(0),m.EFF(1),m.bVm()),2&_e){const Z=m.XpG();m.R7$(),m.JRh(Z.template)}}function Le(_e,Ne){if(1&_e&&m.nrm(0,"div",3),2&_e){const Z=m.XpG(2);m.Y8G("icon",Z.nzAddOnBeforeIcon)("template",Z.nzAddOnBefore)}}function Je(_e,Ne){}function We(_e,Ne){if(1&_e&&(m.j41(0,"div",5),m.DNE(1,Je,0,0,"ng-template",6),m.k0s()),2&_e){const Z=m.XpG(2),ye=m.sdS(3);m.AVh("ant-input-number-affix-wrapper-disabled",Z.disabled)("ant-input-number-affix-wrapper-sm",Z.isSmall)("ant-input-number-affix-wrapper-lg",Z.isLarge)("ant-input-number-affix-wrapper-focused",Z.focused),m.Y8G("ngClass",Z.affixInGroupStatusCls),m.R7$(),m.Y8G("ngTemplateOutlet",ye)}}function pt(_e,Ne){}function tt(_e,Ne){if(1&_e&&m.DNE(0,pt,0,0,"ng-template",6),2&_e){m.XpG(2);const Z=m.sdS(5);m.Y8G("ngTemplateOutlet",Z)}}function $e(_e,Ne){if(1&_e&&m.nrm(0,"span",3),2&_e){const Z=m.XpG(2);m.Y8G("icon",Z.nzAddOnAfterIcon)("template",Z.nzAddOnAfter)}}function mt(_e,Ne){if(1&_e&&(m.j41(0,"span",2),m.DNE(1,Le,1,2,"div",3)(2,We,2,10,"div",4)(3,tt,1,1)(4,$e,1,2,"span",3),m.k0s()),2&_e){const Z=m.XpG();m.R7$(),m.vxM(1,Z.nzAddOnBefore||Z.nzAddOnBeforeIcon?1:-1),m.R7$(),m.vxM(2,Z.isAffix||Z.hasFeedback?2:3),m.R7$(2),m.vxM(4,Z.nzAddOnAfter||Z.nzAddOnAfterIcon?4:-1)}}function dt(_e,Ne){}function xt(_e,Ne){if(1&_e&&m.DNE(0,dt,0,0,"ng-template",6),2&_e){m.XpG(2);const Z=m.sdS(3);m.Y8G("ngTemplateOutlet",Z)}}function jt(_e,Ne){}function Me(_e,Ne){if(1&_e&&m.DNE(0,jt,0,0,"ng-template",6),2&_e){m.XpG(2);const Z=m.sdS(5);m.Y8G("ngTemplateOutlet",Z)}}function je(_e,Ne){if(1&_e&&m.DNE(0,xt,1,1,null,6)(1,Me,1,1),2&_e){const Z=m.XpG();m.vxM(0,Z.isAffix?0:1)}}function q(_e,Ne){if(1&_e&&m.nrm(0,"span",7),2&_e){const Z=m.XpG(2);m.Y8G("icon",Z.nzPrefixIcon)("template",Z.nzPrefix)}}function B(_e,Ne){}function se(_e,Ne){if(1&_e&&m.nrm(0,"nz-form-item-feedback-icon",9),2&_e){const Z=m.XpG(3);m.Y8G("status",Z.status)}}function re(_e,Ne){if(1&_e&&(m.j41(0,"span",8),m.DNE(1,se,1,1,"nz-form-item-feedback-icon",9),m.k0s()),2&_e){const Z=m.XpG(2);m.Y8G("icon",Z.nzSuffixIcon)("template",Z.nzSuffix),m.R7$(),m.vxM(1,Z.isFeedback?1:-1)}}function Be(_e,Ne){if(1&_e&&m.DNE(0,q,1,2,"span",7)(1,B,0,0,"ng-template",6)(2,re,2,3,"span",8),2&_e){const Z=m.XpG(),ye=m.sdS(5);m.vxM(0,Z.nzPrefix||Z.nzPrefixIcon?0:-1),m.R7$(),m.Y8G("ngTemplateOutlet",ye),m.R7$(),m.vxM(2,Z.nzSuffix||Z.nzSuffixIcon||Z.isFeedback?2:-1)}}function Ke(_e,Ne){if(1&_e&&m.nrm(0,"nz-form-item-feedback-icon",9),2&_e){const Z=m.XpG(3);m.Y8G("status",Z.status)}}function vt(_e,Ne){if(1&_e&&(m.j41(0,"span",10),m.DNE(1,Ke,1,1,"nz-form-item-feedback-icon",9),m.k0s()),2&_e){const Z=m.XpG(2);m.R7$(),m.vxM(1,Z.isFeedback?1:-1)}}function Nt(_e,Ne){if(1&_e&&(m.SdG(0),m.DNE(1,vt,2,1,"span",10)),2&_e){const Z=m.XpG();m.R7$(),m.vxM(1,Z.isAddOn||Z.isAffix||!Z.isFeedback?-1:1)}}let Xt=(()=>{class _e{onModelChange(Z){this.parsedValue=this.nzParser(Z),this.inputElement.nativeElement.value=`${this.parsedValue}`;const ye=this.getCurrentValidValue(this.parsedValue);this.setValue(ye)}getCurrentValidValue(Z){let ye=Z;return ye=""===ye?"":this.isNotCompleteNumber(ye)?this.value:`${this.getValidValue(ye)}`,this.toNumber(ye)}isNotCompleteNumber(Z){return isNaN(Z)||""===Z||null===Z||!(!Z||Z.toString().indexOf(".")!==Z.toString().length-1)}getValidValue(Z){let ye=parseFloat(Z);return isNaN(ye)?Z:(ye<this.nzMin&&(ye=this.nzMin),ye>this.nzMax&&(ye=this.nzMax),ye)}toNumber(Z){if(this.isNotCompleteNumber(Z))return Z;const ye=String(Z);if(ye.indexOf(".")>=0&&(0,ge.n9)(this.nzPrecision)){if("function"==typeof this.nzPrecisionMode)return this.nzPrecisionMode(Z,this.nzPrecision);if("cut"===this.nzPrecisionMode){const ee=ye.split(".");return ee[1]=ee[1].slice(0,this.nzPrecision),Number(ee.join("."))}return Number(Number(Z).toFixed(this.nzPrecision))}return Number(Z)}getRatio(Z){let ye=1;return Z.metaKey||Z.ctrlKey?ye=.1:Z.shiftKey&&(ye=10),ye}down(Z,ye){this.isFocused||this.focus(),this.step("down",Z,ye)}up(Z,ye){this.isFocused||this.focus(),this.step("up",Z,ye)}getPrecision(Z){const ye=Z.toString();if(ye.indexOf("e-")>=0)return parseInt(ye.slice(ye.indexOf("e-")+2),10);let ee=0;return ye.indexOf(".")>=0&&(ee=ye.length-ye.indexOf(".")-1),ee}getMaxPrecision(Z,ye){if((0,ge.n9)(this.nzPrecision))return this.nzPrecision;const ee=this.getPrecision(ye),W=this.getPrecision(this.nzStep),b=this.getPrecision(Z);return Z?Math.max(b,ee+W):ee+W}getPrecisionFactor(Z,ye){const ee=this.getMaxPrecision(Z,ye);return Math.pow(10,ee)}upStep(Z,ye){const ee=this.getPrecisionFactor(Z,ye),W=Math.abs(this.getMaxPrecision(Z,ye));let b;return b="number"==typeof Z?((ee*Z+ee*this.nzStep*ye)/ee).toFixed(W):this.nzMin===-1/0?this.nzStep:this.nzMin,this.toNumber(b)}downStep(Z,ye){const ee=this.getPrecisionFactor(Z,ye),W=Math.abs(this.getMaxPrecision(Z,ye));let b;return b="number"==typeof Z?((ee*Z-ee*this.nzStep*ye)/ee).toFixed(W):this.nzMin===-1/0?-this.nzStep:this.nzMin,this.toNumber(b)}step(Z,ye,ee=1){if(this.stop(),ye.preventDefault(),this.nzDisabled)return;const W=this.getCurrentValidValue(this.parsedValue)||0;let b=0;"up"===Z?b=this.upStep(W,ee):"down"===Z&&(b=this.downStep(W,ee));const M=b>this.nzMax||b<this.nzMin;b>this.nzMax?b=this.nzMax:b<this.nzMin&&(b=this.nzMin),this.setValue(b),this.updateDisplayValue(b),this.isFocused=!0,!M&&(this.autoStepTimer=setTimeout(()=>{this[Z](ye,ee)},300))}stop(){this.autoStepTimer&&clearTimeout(this.autoStepTimer)}setValue(Z){if(`${this.value}`!=`${Z}`&&this.onChange(Z),this.value=Z,this.parsedValue=Z,this.disabledUp=this.disabledDown=!1,Z||0===Z){const ye=Number(Z);ye>=this.nzMax&&(this.disabledUp=!0),ye<=this.nzMin&&(this.disabledDown=!0)}}updateDisplayValue(Z){const ye=(0,ge.n9)(this.nzFormatter(Z))?this.nzFormatter(Z):"";this.displayValue=ye,this.inputElement.nativeElement.value=`${ye}`}writeValue(Z){this.value=Z,this.setValue(Z),this.updateDisplayValue(Z),this.cdr.markForCheck()}registerOnChange(Z){this.onChange=Z}registerOnTouched(Z){this.onTouched=Z}setDisabledState(Z){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||Z,this.isNzDisableFirstChange=!1,this.disabled$.next(this.nzDisabled),this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(Z,ye,ee,W,b,M,X,ue,Ve){this.ngZone=Z,this.elementRef=ye,this.cdr=ee,this.focusMonitor=W,this.renderer=b,this.directionality=M,this.destroy$=X,this.nzFormStatusService=ue,this.nzFormNoStatusService=Ve,this.isNzDisableFirstChange=!0,this.isFocused=!1,this.disabled$=new Ee.B,this.disabledUp=!1,this.disabledDown=!1,this.dir="ltr",this.prefixCls="ant-input-number",this.status="",this.statusCls={},this.hasFeedback=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzBlur=new m.bkB,this.nzFocus=new m.bkB,this.nzSize="default",this.nzMin=-1/0,this.nzMax=1/0,this.nzParser=ot=>ot.trim().replace(/\u3002/g,".").replace(/[^\w\.-]+/g,""),this.nzPrecisionMode="toFixed",this.nzPlaceHolder="",this.nzStatus="",this.nzStep=1,this.nzInputMode="decimal",this.nzId=null,this.nzDisabled=!1,this.nzReadOnly=!1,this.nzAutoFocus=!1,this.nzBorderless=!1,this.nzFormatter=ot=>ot}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,ze.F)((Z,ye)=>Z.status===ye.status&&Z.hasFeedback===ye.hasFeedback),(0,fe.Q)(this.destroy$)).subscribe(({status:Z,hasFeedback:ye})=>{this.setStatusStyles(Z,ye)}),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,fe.Q)(this.destroy$)).subscribe(Z=>{Z?(this.isFocused=!0,this.nzFocus.emit()):(this.isFocused=!1,this.updateDisplayValue(this.value),this.nzBlur.emit(),Promise.resolve().then(()=>this.onTouched()))}),this.dir=this.directionality.value,this.directionality.change.pipe((0,fe.Q)(this.destroy$)).subscribe(Z=>{this.dir=Z}),this.setupHandlersListeners(),this.ngZone.runOutsideAngular(()=>{(0,Ue.R)(this.inputElement.nativeElement,"keyup").pipe((0,fe.Q)(this.destroy$)).subscribe(()=>this.stop()),(0,Ue.R)(this.inputElement.nativeElement,"keydown").pipe((0,fe.Q)(this.destroy$)).subscribe(Z=>{const{keyCode:ye}=Z;ye!==f.i7&&ye!==f.n6&&ye!==f.Fm||this.ngZone.run(()=>{if(ye===f.i7){const ee=this.getRatio(Z);this.up(Z,ee),this.stop()}else if(ye===f.n6){const ee=this.getRatio(Z);this.down(Z,ee),this.stop()}else this.updateDisplayValue(this.value);this.cdr.markForCheck()})})})}ngOnChanges(Z){const{nzStatus:ye,nzDisabled:ee}=Z;if(Z.nzFormatter&&!Z.nzFormatter.isFirstChange()){const W=this.getCurrentValidValue(this.parsedValue);this.setValue(W),this.updateDisplayValue(W)}ee&&this.disabled$.next(this.nzDisabled),ye&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef)}setupHandlersListeners(){this.ngZone.runOutsideAngular(()=>{(0,Se.h)((0,Ue.R)(this.upHandler.nativeElement,"mouseup"),(0,Ue.R)(this.upHandler.nativeElement,"mouseleave"),(0,Ue.R)(this.downHandler.nativeElement,"mouseup"),(0,Ue.R)(this.downHandler.nativeElement,"mouseleave")).pipe((0,fe.Q)(this.destroy$)).subscribe(()=>this.stop())})}setStatusStyles(Z,ye){this.status=Z,this.hasFeedback=ye,this.cdr.markForCheck(),this.statusCls=(0,ge.LP)(this.prefixCls,Z,ye),Object.keys(this.statusCls).forEach(ee=>{this.statusCls[ee]?this.renderer.addClass(this.elementRef.nativeElement,ee):this.renderer.removeClass(this.elementRef.nativeElement,ee)})}static#e=this.\u0275fac=function(ye){return new(ye||_e)(m.rXU(m.SKi),m.rXU(m.aKT),m.rXU(m.gRc),m.rXU(De.FN),m.rXU(m.sFG),m.rXU(Pe.dS,8),m.rXU(G.y4),m.rXU(J.is,8),m.rXU(J.n1,8))};static#t=this.\u0275cmp=m.VBU({type:_e,selectors:[["nz-input-number"]],viewQuery:function(ye,ee){if(1&ye&&(m.GBs(Te,7),m.GBs(Y,7),m.GBs(be,7)),2&ye){let W;m.mGM(W=m.lsd())&&(ee.upHandler=W.first),m.mGM(W=m.lsd())&&(ee.downHandler=W.first),m.mGM(W=m.lsd())&&(ee.inputElement=W.first)}},hostAttrs:[1,"ant-input-number"],hostVars:16,hostBindings:function(ye,ee){2&ye&&m.AVh("ant-input-number-in-form-item",!!ee.nzFormStatusService)("ant-input-number-focused",ee.isFocused)("ant-input-number-lg","large"===ee.nzSize)("ant-input-number-sm","small"===ee.nzSize)("ant-input-number-disabled",ee.nzDisabled)("ant-input-number-readonly",ee.nzReadOnly)("ant-input-number-rtl","rtl"===ee.dir)("ant-input-number-borderless",ee.nzBorderless)},inputs:{nzSize:"nzSize",nzMin:"nzMin",nzMax:"nzMax",nzParser:"nzParser",nzPrecision:"nzPrecision",nzPrecisionMode:"nzPrecisionMode",nzPlaceHolder:"nzPlaceHolder",nzStatus:"nzStatus",nzStep:"nzStep",nzInputMode:"nzInputMode",nzId:"nzId",nzDisabled:"nzDisabled",nzReadOnly:"nzReadOnly",nzAutoFocus:"nzAutoFocus",nzBorderless:"nzBorderless",nzFormatter:"nzFormatter"},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzInputNumber"],standalone:!0,features:[m.Jv_([{provide:C.kq,useExisting:(0,m.Rfq)(()=>_e),multi:!0},G.y4]),m.OA$,m.aNF],decls:11,vars:15,consts:[["upHandler",""],["downHandler",""],["inputElement",""],[1,"ant-input-number-handler-wrap"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown"],["nz-icon","","nzType","up",1,"ant-input-number-handler-up-inner"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown"],["nz-icon","","nzType","down",1,"ant-input-number-handler-down-inner"],[1,"ant-input-number-input-wrap"],["autocomplete","off",1,"ant-input-number-input",3,"ngModelChange","disabled","placeholder","readOnly","ngModel"],[1,"ant-input-number-suffix",3,"status"]],template:function(ye,ee){if(1&ye){const W=m.RV6();m.j41(0,"div",3)(1,"span",4,0),m.bIt("mousedown",function(M){return m.eBV(W),m.Njj(ee.up(M))}),m.nrm(3,"span",5),m.k0s(),m.j41(4,"span",6,1),m.bIt("mousedown",function(M){return m.eBV(W),m.Njj(ee.down(M))}),m.nrm(6,"span",7),m.k0s()(),m.j41(7,"div",8)(8,"input",9,2),m.bIt("ngModelChange",function(M){return m.eBV(W),m.Njj(ee.onModelChange(M))}),m.k0s()(),m.DNE(10,oe,1,1,"nz-form-item-feedback-icon",10)}2&ye&&(m.R7$(),m.AVh("ant-input-number-handler-up-disabled",ee.disabledUp),m.R7$(3),m.AVh("ant-input-number-handler-down-disabled",ee.disabledDown),m.R7$(4),m.Y8G("disabled",ee.nzDisabled)("placeholder",ee.nzPlaceHolder)("readOnly",ee.nzReadOnly)("ngModel",ee.displayValue),m.BMQ("id",ee.nzId)("autofocus",ee.nzAutoFocus?"autofocus":null)("min",ee.nzMin)("max",ee.nzMax)("step",ee.nzStep)("inputmode",ee.nzInputMode),m.R7$(2),m.vxM(10,ee.hasFeedback&&ee.status&&!ee.nzFormNoStatusService?10:-1))},dependencies:[Ce.Y3,Ce.Dn,C.YN,C.me,C.BC,C.vS,J.J1,J.Xd],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,ge.H3)()],_e.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,ge.H3)()],_e.prototype,"nzReadOnly",void 0),(0,t.Cg)([(0,ge.H3)()],_e.prototype,"nzAutoFocus",void 0),(0,t.Cg)([(0,ge.H3)()],_e.prototype,"nzBorderless",void 0),_e})(),Zt=(()=>{class _e{constructor(){this.icon=null,this.type=null,this.template=null}static#e=this.\u0275fac=function(ye){return new(ye||_e)};static#t=this.\u0275cmp=m.VBU({type:_e,selectors:[["","nz-input-number-group-slot",""]],hostVars:6,hostBindings:function(ye,ee){2&ye&&m.AVh("ant-input-number-group-addon","addon"===ee.type)("ant-input-number-prefix","prefix"===ee.type)("ant-input-number-suffix","suffix"===ee.type)},inputs:{icon:"icon",type:"type",template:"template"},standalone:!0,features:[m.aNF],attrs:nt,ngContentSelectors:ke,decls:3,vars:2,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"]],template:function(ye,ee){1&ye&&(m.NAR(),m.DNE(0,Ye,1,1,"span",0)(1,et,2,1,"ng-container",1),m.SdG(2)),2&ye&&(m.vxM(0,ee.icon?0:-1),m.R7$(),m.Y8G("nzStringTemplateOutlet",ee.template))},dependencies:[Ce.Y3,Ce.Dn,He.C,He.m],encapsulation:2,changeDetection:0})}return _e})(),lt=(()=>{class _e{constructor(Z,ye,ee,W,b,M,X){this.focusMonitor=Z,this.elementRef=ye,this.renderer=ee,this.cdr=W,this.directionality=b,this.nzFormStatusService=M,this.nzFormNoStatusService=X,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input-number",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new Ee.B}updateChildrenInputSize(){this.listOfNzInputNumberComponent&&this.listOfNzInputNumberComponent.forEach(Z=>Z.nzSize=this.nzSize)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,ze.F)((Z,ye)=>Z.status===ye.status&&Z.hasFeedback===ye.hasFeedback),(0,fe.Q)(this.destroy$)).subscribe(({status:Z,hasFeedback:ye})=>{this.setStatusStyles(Z,ye)}),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,fe.Q)(this.destroy$)).subscribe(Z=>{this.focused=!!Z,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,fe.Q)(this.destroy$)).subscribe(Z=>{this.dir=Z})}ngAfterContentInit(){this.updateChildrenInputSize();const Z=this.listOfNzInputNumberComponent.changes.pipe((0,F.Z)(this.listOfNzInputNumberComponent));Z.pipe((0,ie.n)(ye=>(0,Se.h)(Z,...ye.map(ee=>ee.disabled$))),(0,he.Z)(()=>Z),(0,me.T)(ye=>ye.some(ee=>ee.nzDisabled)),(0,fe.Q)(this.destroy$)).subscribe(ye=>{this.disabled=ye,this.cdr.markForCheck()})}ngOnChanges(Z){const{nzSize:ye,nzSuffix:ee,nzPrefix:W,nzPrefixIcon:b,nzSuffixIcon:M,nzAddOnAfter:X,nzAddOnBefore:ue,nzAddOnAfterIcon:Ve,nzAddOnBeforeIcon:ot,nzStatus:ht}=Z;ye&&(this.updateChildrenInputSize(),this.isLarge="large"===this.nzSize,this.isSmall="small"===this.nzSize),(ee||W||b||M)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(X||ue||Ve||ot)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),ht&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(Z,ye){this.status=Z,this.hasFeedback=ye,this.isFeedback=!!Z&&ye,this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)||!this.isAddOn&&ye,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=(0,ge.LP)(`${this.prefixCls}-affix-wrapper`,Z,ye):{},this.cdr.markForCheck(),this.affixStatusCls=(0,ge.LP)(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":Z,!this.isAddOn&&ye),this.groupStatusCls=(0,ge.LP)(`${this.prefixCls}-group-wrapper`,this.isAddOn?Z:"",!!this.isAddOn&&ye);const W={...this.affixStatusCls,...this.groupStatusCls};Object.keys(W).forEach(b=>{W[b]?this.renderer.addClass(this.elementRef.nativeElement,b):this.renderer.removeClass(this.elementRef.nativeElement,b)})}static#e=this.\u0275fac=function(ye){return new(ye||_e)(m.rXU(De.FN),m.rXU(m.aKT),m.rXU(m.sFG),m.rXU(m.gRc),m.rXU(Pe.dS,8),m.rXU(J.is,8),m.rXU(J.n1,8))};static#t=this.\u0275cmp=m.VBU({type:_e,selectors:[["nz-input-number-group"]],contentQueries:function(ye,ee,W){if(1&ye&&m.wni(W,Xt,5),2&ye){let b;m.mGM(b=m.lsd())&&(ee.listOfNzInputNumberComponent=b)}},hostVars:24,hostBindings:function(ye,ee){2&ye&&m.AVh("ant-input-number-group",ee.nzCompact)("ant-input-number-group-compact",ee.nzCompact)("ant-input-number-group-wrapper",ee.isAddOn)("ant-input-number-group-wrapper-rtl",ee.isAddOn&&"rtl"===ee.dir)("ant-input-number-group-wrapper-lg",ee.isAddOn&&ee.isLarge)("ant-input-number-group-wrapper-sm",ee.isAddOn&&ee.isSmall)("ant-input-number-affix-wrapper",!ee.isAddOn&&ee.isAffix)("ant-input-number-affix-wrapper-rtl",!ee.isAddOn&&"rtl"===ee.dir)("ant-input-number-affix-wrapper-focused",!ee.isAddOn&&ee.isAffix&&ee.focused)("ant-input-number-affix-wrapper-disabled",!ee.isAddOn&&ee.isAffix&&ee.disabled)("ant-input-number-affix-wrapper-lg",!ee.isAddOn&&ee.isAffix&&ee.isLarge)("ant-input-number-affix-wrapper-sm",!ee.isAddOn&&ee.isAffix&&ee.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzCompact:"nzCompact"},exportAs:["nzInputNumberGroup"],standalone:!0,features:[m.Jv_([J.n1]),m.OA$,m.aNF],ngContentSelectors:ke,decls:6,vars:1,consts:[["affixTemplate",""],["contentTemplate",""],[1,"ant-input-number-wrapper","ant-input-number-group"],["nz-input-number-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-number-affix-wrapper",3,"ant-input-number-affix-wrapper-disabled","ant-input-number-affix-wrapper-sm","ant-input-number-affix-wrapper-lg","ant-input-number-affix-wrapper-focused","ngClass"],[1,"ant-input-number-affix-wrapper",3,"ngClass"],[3,"ngTemplateOutlet"],["nz-input-number-group-slot","","type","prefix",3,"icon","template"],["nz-input-number-group-slot","","type","suffix",3,"icon","template"],[3,"status"],["nz-input-number-group-slot","","type","suffix"]],template:function(ye,ee){1&ye&&(m.NAR(),m.DNE(0,mt,5,3,"span",2)(1,je,2,1)(2,Be,3,3,"ng-template",null,0,m.C5r)(4,Nt,2,1,"ng-template",null,1,m.C5r)),2&ye&&m.vxM(0,ee.isAddOn?0:1)},dependencies:[Zt,ae.YU,ae.T3,J.J1,J.Xd],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,ge.H3)()],_e.prototype,"nzCompact",void 0),_e})(),Ft=(()=>{class _e{static#e=this.\u0275fac=function(ye){return new(ye||_e)};static#t=this.\u0275mod=m.$C({type:_e});static#n=this.\u0275inj=m.G2t({imports:[Xt,lt,Zt]})}return _e})()},1011:(Lt,ct,v)=>{"use strict";v.d(ct,{F8:()=>Zt,Sy:()=>Ke,j:()=>Wt,tg:()=>Nt,vN:()=>vt});var t=v(1635),f=v(177),m=v(4438),C=v(1413),Ee=v(7786),Ue=v(983),Se=v(3294),ze=v(6977),fe=v(5964),F=v(9172),ie=v(5558),he=v(1397),me=v(6354),J=v(7891),G=v(317),ge=v(7806),Ce=v(5103),De=v(4341),Pe=v(8203),He=v(851);const ae=["nz-input-group-slot",""],Te=["*"];function Y(lt,Ft){if(1&lt&&m.nrm(0,"span",0),2&lt){const _e=m.XpG();m.Y8G("nzType",_e.icon)}}function be(lt,Ft){if(1&lt&&(m.qex(0),m.EFF(1),m.bVm()),2&lt){const _e=m.XpG();m.R7$(),m.JRh(_e.template)}}function oe(lt,Ft){if(1&lt&&m.nrm(0,"span",3),2&lt){const _e=m.XpG(2);m.Y8G("icon",_e.nzAddOnBeforeIcon)("template",_e.nzAddOnBefore)}}function nt(lt,Ft){}function ke(lt,Ft){if(1&lt&&(m.j41(0,"span",5),m.DNE(1,nt,0,0,"ng-template",6),m.k0s()),2&lt){const _e=m.XpG(2),Ne=m.sdS(3);m.AVh("ant-input-affix-wrapper-disabled",_e.disabled)("ant-input-affix-wrapper-sm",_e.isSmall)("ant-input-affix-wrapper-lg",_e.isLarge)("ant-input-affix-wrapper-focused",_e.focused),m.Y8G("ngClass",_e.affixInGroupStatusCls),m.R7$(),m.Y8G("ngTemplateOutlet",Ne)}}function Ye(lt,Ft){}function et(lt,Ft){if(1&lt&&m.DNE(0,Ye,0,0,"ng-template",6),2&lt){m.XpG(2);const _e=m.sdS(5);m.Y8G("ngTemplateOutlet",_e)}}function Le(lt,Ft){if(1&lt&&m.nrm(0,"span",3),2&lt){const _e=m.XpG(2);m.Y8G("icon",_e.nzAddOnAfterIcon)("template",_e.nzAddOnAfter)}}function Je(lt,Ft){if(1&lt&&(m.j41(0,"span",2),m.DNE(1,oe,1,2,"span",3)(2,ke,2,10,"span",4)(3,et,1,1)(4,Le,1,2,"span",3),m.k0s()),2&lt){const _e=m.XpG();m.R7$(),m.vxM(1,_e.nzAddOnBefore||_e.nzAddOnBeforeIcon?1:-1),m.R7$(),m.vxM(2,_e.isAffix||_e.hasFeedback?2:3),m.R7$(2),m.vxM(4,_e.nzAddOnAfter||_e.nzAddOnAfterIcon?4:-1)}}function We(lt,Ft){}function pt(lt,Ft){if(1&lt&&m.DNE(0,We,0,0,"ng-template",6),2&lt){m.XpG(2);const _e=m.sdS(3);m.Y8G("ngTemplateOutlet",_e)}}function tt(lt,Ft){}function $e(lt,Ft){if(1&lt&&m.DNE(0,tt,0,0,"ng-template",6),2&lt){m.XpG(2);const _e=m.sdS(5);m.Y8G("ngTemplateOutlet",_e)}}function mt(lt,Ft){if(1&lt&&m.DNE(0,pt,1,1,null,6)(1,$e,1,1),2&lt){const _e=m.XpG();m.vxM(0,_e.isAffix?0:1)}}function dt(lt,Ft){if(1&lt&&m.nrm(0,"span",7),2&lt){const _e=m.XpG(2);m.Y8G("icon",_e.nzPrefixIcon)("template",_e.nzPrefix)}}function xt(lt,Ft){}function jt(lt,Ft){if(1&lt&&m.nrm(0,"nz-form-item-feedback-icon",9),2&lt){const _e=m.XpG(3);m.Y8G("status",_e.status)}}function Me(lt,Ft){if(1&lt&&(m.j41(0,"span",8),m.DNE(1,jt,1,1,"nz-form-item-feedback-icon",9),m.k0s()),2&lt){const _e=m.XpG(2);m.Y8G("icon",_e.nzSuffixIcon)("template",_e.nzSuffix),m.R7$(),m.vxM(1,_e.isFeedback?1:-1)}}function je(lt,Ft){if(1&lt&&m.DNE(0,dt,1,2,"span",7)(1,xt,0,0,"ng-template",6)(2,Me,2,3,"span",8),2&lt){const _e=m.XpG(),Ne=m.sdS(5);m.vxM(0,_e.nzPrefix||_e.nzPrefixIcon?0:-1),m.R7$(),m.Y8G("ngTemplateOutlet",Ne),m.R7$(),m.vxM(2,_e.nzSuffix||_e.nzSuffixIcon||_e.isFeedback?2:-1)}}function q(lt,Ft){if(1&lt&&(m.j41(0,"span",10),m.nrm(1,"nz-form-item-feedback-icon",9),m.k0s()),2&lt){const _e=m.XpG(2);m.R7$(),m.Y8G("status",_e.status)}}function B(lt,Ft){if(1&lt&&(m.SdG(0),m.DNE(1,q,2,1,"span",10)),2&lt){const _e=m.XpG();m.R7$(),m.vxM(1,_e.isAddOn||_e.isAffix||!_e.isFeedback?-1:1)}}const se=[[["textarea","nz-input",""]]],re=["textarea[nz-input]"];let Be=(()=>{class lt{constructor(){this.icon=null,this.type=null,this.template=null}static#e=this.\u0275fac=function(Ne){return new(Ne||lt)};static#t=this.\u0275cmp=m.VBU({type:lt,selectors:[["","nz-input-group-slot",""]],hostVars:6,hostBindings:function(Ne,Z){2&Ne&&m.AVh("ant-input-group-addon","addon"===Z.type)("ant-input-prefix","prefix"===Z.type)("ant-input-suffix","suffix"===Z.type)},inputs:{icon:"icon",type:"type",template:"template"},standalone:!0,features:[m.aNF],attrs:ae,ngContentSelectors:Te,decls:3,vars:2,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"]],template:function(Ne,Z){1&Ne&&(m.NAR(),m.DNE(0,Y,1,1,"span",0)(1,be,2,1,"ng-container",1),m.SdG(2)),2&Ne&&(m.vxM(0,Z.icon?0:-1),m.R7$(),m.Y8G("nzStringTemplateOutlet",Z.template))},dependencies:[Ce.Y3,Ce.Dn,ge.C,ge.m],encapsulation:2,changeDetection:0})}return lt})(),Ke=(()=>{class lt{get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(_e){this._disabled=null!=_e&&"false"!=`${_e}`}constructor(_e,Ne,Z,ye,ee,W,b){this.ngControl=_e,this.renderer=Ne,this.elementRef=Z,this.hostView=ye,this.directionality=ee,this.nzFormStatusService=W,this.nzFormNoStatusService=b,this.nzBorderless=!1,this.nzSize="default",this.nzStepperless=!0,this.nzStatus="",this._disabled=!1,this.disabled$=new C.B,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.destroy$=new C.B}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Se.F)((_e,Ne)=>_e.status===Ne.status&&_e.hasFeedback===Ne.hasFeedback),(0,ze.Q)(this.destroy$)).subscribe(({status:_e,hasFeedback:Ne})=>{this.setStatusStyles(_e,Ne)}),this.ngControl&&this.ngControl.statusChanges?.pipe((0,fe.p)(()=>null!==this.ngControl.disabled),(0,ze.Q)(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,ze.Q)(this.destroy$)).subscribe(_e=>{this.dir=_e})}ngOnChanges(_e){const{disabled:Ne,nzStatus:Z}=_e;Ne&&this.disabled$.next(this.disabled),Z&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusStyles(_e,Ne){this.status=_e,this.hasFeedback=Ne,this.renderFeedbackIcon(),this.statusCls=(0,G.LP)(this.prefixCls,_e,Ne),Object.keys(this.statusCls).forEach(Z=>{this.statusCls[Z]?this.renderer.addClass(this.elementRef.nativeElement,Z):this.renderer.removeClass(this.elementRef.nativeElement,Z)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService)return this.hostView.clear(),void(this.feedbackRef=null);this.feedbackRef=this.feedbackRef||this.hostView.createComponent(J.Xd),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}static#e=this.\u0275fac=function(Ne){return new(Ne||lt)(m.rXU(De.vO,10),m.rXU(m.sFG),m.rXU(m.aKT),m.rXU(m.c1b),m.rXU(Pe.dS,8),m.rXU(J.is,8),m.rXU(J.n1,8))};static#t=this.\u0275dir=m.FsC({type:lt,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostAttrs:[1,"ant-input"],hostVars:13,hostBindings:function(Ne,Z){2&Ne&&(m.BMQ("disabled",Z.disabled||null),m.AVh("ant-input-disabled",Z.disabled)("ant-input-borderless",Z.nzBorderless)("ant-input-lg","large"===Z.nzSize)("ant-input-sm","small"===Z.nzSize)("ant-input-rtl","rtl"===Z.dir)("ant-input-stepperless",Z.nzStepperless))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",nzStepperless:"nzStepperless",nzStatus:"nzStatus",disabled:"disabled"},exportAs:["nzInput"],standalone:!0,features:[m.OA$]})}return(0,t.Cg)([(0,G.H3)()],lt.prototype,"nzBorderless",void 0),(0,t.Cg)([(0,G.H3)()],lt.prototype,"nzStepperless",void 0),lt})(),vt=(()=>{class lt{constructor(_e){this.elementRef=_e}static#e=this.\u0275fac=function(Ne){return new(Ne||lt)(m.rXU(m.aKT))};static#t=this.\u0275dir=m.FsC({type:lt,selectors:[["nz-input-group","nzSuffix",""],["nz-input-group","nzPrefix",""]],standalone:!0})}return lt})(),Nt=(()=>{class lt{constructor(_e,Ne,Z,ye,ee,W,b){this.focusMonitor=_e,this.elementRef=Ne,this.renderer=Z,this.cdr=ye,this.directionality=ee,this.nzFormStatusService=W,this.nzFormNoStatusService=b,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzSearch=!1,this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new C.B}updateChildrenInputSize(){this.listOfNzInputDirective&&this.listOfNzInputDirective.forEach(_e=>_e.nzSize=this.nzSize)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Se.F)((_e,Ne)=>_e.status===Ne.status&&_e.hasFeedback===Ne.hasFeedback),(0,ze.Q)(this.destroy$)).subscribe(({status:_e,hasFeedback:Ne})=>{this.setStatusStyles(_e,Ne)}),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,ze.Q)(this.destroy$)).subscribe(_e=>{this.focused=!!_e,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,ze.Q)(this.destroy$)).subscribe(_e=>{this.dir=_e})}ngAfterContentInit(){this.updateChildrenInputSize();const _e=this.listOfNzInputDirective.changes.pipe((0,F.Z)(this.listOfNzInputDirective));_e.pipe((0,ie.n)(Ne=>(0,Ee.h)(_e,...Ne.map(Z=>Z.disabled$))),(0,he.Z)(()=>_e),(0,me.T)(Ne=>Ne.some(Z=>Z.disabled)),(0,ze.Q)(this.destroy$)).subscribe(Ne=>{this.disabled=Ne,this.cdr.markForCheck()})}ngOnChanges(_e){const{nzSize:Ne,nzSuffix:Z,nzPrefix:ye,nzPrefixIcon:ee,nzSuffixIcon:W,nzAddOnAfter:b,nzAddOnBefore:M,nzAddOnAfterIcon:X,nzAddOnBeforeIcon:ue,nzStatus:Ve}=_e;Ne&&(this.updateChildrenInputSize(),this.isLarge="large"===this.nzSize,this.isSmall="small"===this.nzSize),(Z||ye||ee||W)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(b||M||X||ue)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),Ve&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(_e,Ne){this.status=_e,this.hasFeedback=Ne,this.isFeedback=!!_e&&Ne,this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)||!this.isAddOn&&Ne,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=(0,G.LP)(`${this.prefixCls}-affix-wrapper`,_e,Ne):{},this.cdr.markForCheck(),this.affixStatusCls=(0,G.LP)(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":_e,!this.isAddOn&&Ne),this.groupStatusCls=(0,G.LP)(`${this.prefixCls}-group-wrapper`,this.isAddOn?_e:"",!!this.isAddOn&&Ne);const ye={...this.affixStatusCls,...this.groupStatusCls};Object.keys(ye).forEach(ee=>{ye[ee]?this.renderer.addClass(this.elementRef.nativeElement,ee):this.renderer.removeClass(this.elementRef.nativeElement,ee)})}static#e=this.\u0275fac=function(Ne){return new(Ne||lt)(m.rXU(He.FN),m.rXU(m.aKT),m.rXU(m.sFG),m.rXU(m.gRc),m.rXU(Pe.dS,8),m.rXU(J.is,8),m.rXU(J.n1,8))};static#t=this.\u0275cmp=m.VBU({type:lt,selectors:[["nz-input-group"]],contentQueries:function(Ne,Z,ye){if(1&Ne&&m.wni(ye,Ke,4),2&Ne){let ee;m.mGM(ee=m.lsd())&&(Z.listOfNzInputDirective=ee)}},hostVars:40,hostBindings:function(Ne,Z){2&Ne&&m.AVh("ant-input-group-compact",Z.nzCompact)("ant-input-search-enter-button",Z.nzSearch)("ant-input-search",Z.nzSearch)("ant-input-search-rtl","rtl"===Z.dir)("ant-input-search-sm",Z.nzSearch&&Z.isSmall)("ant-input-search-large",Z.nzSearch&&Z.isLarge)("ant-input-group-wrapper",Z.isAddOn)("ant-input-group-wrapper-rtl","rtl"===Z.dir)("ant-input-group-wrapper-lg",Z.isAddOn&&Z.isLarge)("ant-input-group-wrapper-sm",Z.isAddOn&&Z.isSmall)("ant-input-affix-wrapper",Z.isAffix&&!Z.isAddOn)("ant-input-affix-wrapper-rtl","rtl"===Z.dir)("ant-input-affix-wrapper-focused",Z.isAffix&&Z.focused)("ant-input-affix-wrapper-disabled",Z.isAffix&&Z.disabled)("ant-input-affix-wrapper-lg",Z.isAffix&&!Z.isAddOn&&Z.isLarge)("ant-input-affix-wrapper-sm",Z.isAffix&&!Z.isAddOn&&Z.isSmall)("ant-input-group",!Z.isAffix&&!Z.isAddOn)("ant-input-group-rtl","rtl"===Z.dir)("ant-input-group-lg",!Z.isAffix&&!Z.isAddOn&&Z.isLarge)("ant-input-group-sm",!Z.isAffix&&!Z.isAddOn&&Z.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzSearch:"nzSearch",nzCompact:"nzCompact"},exportAs:["nzInputGroup"],standalone:!0,features:[m.Jv_([J.n1]),m.OA$,m.aNF],ngContentSelectors:Te,decls:6,vars:1,consts:[["affixTemplate",""],["contentTemplate",""],[1,"ant-input-wrapper","ant-input-group"],["nz-input-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-affix-wrapper",3,"ant-input-affix-wrapper-disabled","ant-input-affix-wrapper-sm","ant-input-affix-wrapper-lg","ant-input-affix-wrapper-focused","ngClass"],[1,"ant-input-affix-wrapper",3,"ngClass"],[3,"ngTemplateOutlet"],["nz-input-group-slot","","type","prefix",3,"icon","template"],["nz-input-group-slot","","type","suffix",3,"icon","template"],[3,"status"],["nz-input-group-slot","","type","suffix"]],template:function(Ne,Z){1&Ne&&(m.NAR(),m.DNE(0,Je,5,3,"span",2)(1,mt,2,1)(2,je,3,3,"ng-template",null,0,m.C5r)(4,B,2,1,"ng-template",null,1,m.C5r)),2&Ne&&m.vxM(0,Z.isAddOn?0:1)},dependencies:[Be,f.YU,f.T3,J.J1,J.Xd],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,G.H3)()],lt.prototype,"nzSearch",void 0),(0,t.Cg)([(0,G.H3)()],lt.prototype,"nzCompact",void 0),lt})(),Zt=(()=>{class lt{constructor(_e,Ne){this.renderer=_e,this.elementRef=Ne,this.nzMaxCharacterCount=0,this.nzComputeCharacterCount=Z=>Z.length,this.nzFormatter=(Z,ye)=>`${Z}${ye>0?`/${ye}`:""}`,this.configChange$=new C.B,this.destroy$=new C.B}ngAfterContentInit(){if(!this.nzInputDirective&&(0,m.naY)())throw new Error("[nz-textarea-count]: Could not find matching textarea[nz-input] child.");this.nzInputDirective.ngControl&&(0,Ee.h)(this.nzInputDirective.ngControl.valueChanges||Ue.w,this.configChange$).pipe((0,ze.Q)(this.destroy$),(0,me.T)(()=>this.nzInputDirective.ngControl.value),(0,F.Z)(this.nzInputDirective.ngControl.value)).subscribe(Ne=>{this.setDataCount(Ne)})}setDataCount(_e){const Ne=(0,G.n9)(_e)?String(_e):"",Z=this.nzComputeCharacterCount(Ne),ye=this.nzFormatter(Z,this.nzMaxCharacterCount);this.renderer.setAttribute(this.elementRef.nativeElement,"data-count",ye)}ngOnDestroy(){this.configChange$.complete(),this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(Ne){return new(Ne||lt)(m.rXU(m.sFG),m.rXU(m.aKT))};static#t=this.\u0275cmp=m.VBU({type:lt,selectors:[["nz-textarea-count"]],contentQueries:function(Ne,Z,ye){if(1&Ne&&m.wni(ye,Ke,7),2&Ne){let ee;m.mGM(ee=m.lsd())&&(Z.nzInputDirective=ee.first)}},hostAttrs:[1,"ant-input-textarea-show-count"],inputs:{nzMaxCharacterCount:"nzMaxCharacterCount",nzComputeCharacterCount:"nzComputeCharacterCount",nzFormatter:"nzFormatter"},standalone:!0,features:[m.aNF],ngContentSelectors:re,decls:1,vars:0,template:function(Ne,Z){1&Ne&&(m.NAR(se),m.SdG(0))},encapsulation:2,changeDetection:0})}return lt})(),Wt=(()=>{class lt{static#e=this.\u0275fac=function(Ne){return new(Ne||lt)};static#t=this.\u0275mod=m.$C({type:lt});static#n=this.\u0275inj=m.G2t({imports:[Nt,Be]})}return lt})()},1868:(Lt,ct,v)=>{"use strict";v.d(ct,{$1:()=>Ne,CU:()=>ye,GP:()=>Yt,ek:()=>Ft,jS:()=>ht,sD:()=>wt});var t=v(1635),f=v(4438),m=v(1413),C=v(4412),Ee=v(7786),Ue=v(4572),Se=v(6354),ze=v(1397),fe=v(5964),F=v(3703),ie=v(3798),he=v(3294),me=v(6977),J=v(9172),G=v(5558),ge=v(317),Ce=v(6530),De=v(8203),Pe=v(6969),He=v(6841),ae=v(5463),Te=v(177),Y=v(713),be=v(7806),oe=v(5103),nt=v(6860);const ke=["nz-menu-item",""],Ye=["*"],et=["nz-submenu-inline-child",""];function Le(rt,Gt){}const Je=["nz-submenu-none-inline-child",""];function We(rt,Gt){}const pt=["nz-submenu-title",""];function tt(rt,Gt){if(1&rt&&f.nrm(0,"span",0),2&rt){const we=f.XpG();f.Y8G("nzType",we.nzIcon)}}function $e(rt,Gt){if(1&rt&&(f.qex(0),f.j41(1,"span",3),f.EFF(2),f.k0s(),f.bVm()),2&rt){const we=f.XpG();f.R7$(2),f.JRh(we.nzTitle)}}function mt(rt,Gt){1&rt&&f.nrm(0,"span",4)}function dt(rt,Gt){1&rt&&f.nrm(0,"span",5)}function xt(rt,Gt){if(1&rt&&(f.j41(0,"span",2),f.DNE(1,mt,1,0)(2,dt,1,0),f.k0s()),2&rt){let we;const qe=f.XpG();f.R7$(),f.vxM(1,"rtl"===(we=qe.dir)?1:2)}}function jt(rt,Gt){1&rt&&f.nrm(0,"span",6)}const Me=["nz-submenu",""],je=[[["","title",""]],"*"],q=["[title]","*"];function B(rt,Gt){1&rt&&f.SdG(0)}function se(rt,Gt){if(1&rt&&f.nrm(0,"div",3),2&rt){const we=f.XpG(),qe=f.sdS(6);f.Y8G("mode",we.mode)("nzOpen",we.nzOpen)("@.disabled",!(null==we.noAnimation||!we.noAnimation.nzNoAnimation))("nzNoAnimation",null==we.noAnimation?null:we.noAnimation.nzNoAnimation)("menuClass",we.nzMenuClassName)("templateOutlet",qe)}}function re(rt,Gt){if(1&rt){const we=f.RV6();f.j41(0,"div",5),f.bIt("subMenuMouseState",function(Ae){f.eBV(we);const kt=f.XpG(2);return f.Njj(kt.setMouseEnterState(Ae))}),f.k0s()}if(2&rt){const we=f.XpG(2),qe=f.sdS(6);f.Y8G("theme",we.theme)("mode",we.mode)("nzOpen",we.nzOpen)("position",we.position)("nzDisabled",we.nzDisabled)("isMenuInsideDropDown",we.isMenuInsideDropDown)("templateOutlet",qe)("menuClass",we.nzMenuClassName)("@.disabled",!(null==we.noAnimation||!we.noAnimation.nzNoAnimation))("nzNoAnimation",null==we.noAnimation?null:we.noAnimation.nzNoAnimation)}}function Be(rt,Gt){if(1&rt){const we=f.RV6();f.DNE(0,re,1,10,"ng-template",4),f.bIt("positionChange",function(Ae){f.eBV(we);const kt=f.XpG();return f.Njj(kt.onPositionChange(Ae))})}if(2&rt){const we=f.XpG(),qe=f.sdS(1);f.Y8G("cdkConnectedOverlayPositions",we.overlayPositions)("cdkConnectedOverlayOrigin",qe)("cdkConnectedOverlayWidth",we.triggerWidth)("cdkConnectedOverlayOpen",we.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function Ke(rt,Gt){1&rt&&f.SdG(0,1)}const vt=["titleElement"],Nt=["nz-menu-group",""],Xt=["*",[["","title",""]]],Zt=["*","[title]"];function Wt(rt,Gt){if(1&rt&&(f.qex(0),f.EFF(1),f.bVm()),2&rt){const we=f.XpG();f.R7$(),f.JRh(we.nzTitle)}}function lt(rt,Gt){1&rt&&f.SdG(0,1)}const Ft=new f.nKC("NzIsInDropDownMenuToken"),_e=new f.nKC("NzMenuServiceLocalToken");let Ne=(()=>{class rt{constructor(){this.descendantMenuItemClick$=new m.B,this.childMenuItemClick$=new m.B,this.theme$=new C.t("light"),this.mode$=new C.t("vertical"),this.inlineIndent$=new C.t(24),this.isChildSubMenuOpen$=new C.t(!1)}onDescendantMenuItemClick(we){this.descendantMenuItemClick$.next(we)}onChildMenuItemClick(we){this.childMenuItemClick$.next(we)}setMode(we){this.mode$.next(we)}setTheme(we){this.theme$.next(we)}setInlineIndent(we){this.inlineIndent$.next(we)}static#e=this.\u0275fac=function(qe){return new(qe||rt)};static#t=this.\u0275prov=f.jDH({token:rt,factory:rt.\u0275fac})}return rt})(),Z=(()=>{class rt{onChildMenuItemClick(we){this.childMenuItemClick$.next(we)}setOpenStateWithoutDebounce(we){this.isCurrentSubMenuOpen$.next(we)}setMouseEnterTitleOrOverlayState(we){this.isMouseEnterTitleOrOverlay$.next(we)}constructor(we,qe,Ae){this.nzHostSubmenuService=we,this.nzMenuService=qe,this.isMenuInsideDropDown=Ae,this.mode$=this.nzMenuService.mode$.pipe((0,Se.T)(At=>"inline"===At?"inline":"vertical"===At||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new C.t(!1),this.isChildSubMenuOpen$=new C.t(!1),this.isMouseEnterTitleOrOverlay$=new m.B,this.childMenuItemClick$=new m.B,this.destroy$=new m.B,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);const kt=this.childMenuItemClick$.pipe((0,ze.Z)(()=>this.mode$),(0,fe.p)(At=>"inline"!==At||this.isMenuInsideDropDown),(0,F.u)(!1)),It=(0,Ee.h)(this.isMouseEnterTitleOrOverlay$,kt);(0,Ue.z)([this.isChildSubMenuOpen$,It]).pipe((0,Se.T)(([At,en])=>At||en),(0,ie.Z)(150),(0,he.F)(),(0,me.Q)(this.destroy$)).pipe((0,he.F)()).subscribe(At=>{this.setOpenStateWithoutDebounce(At),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(At):this.nzMenuService.isChildSubMenuOpen$.next(At)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(qe){return new(qe||rt)(f.KVO(rt,12),f.KVO(Ne),f.KVO(Ft))};static#t=this.\u0275prov=f.jDH({token:rt,factory:rt.\u0275fac})}return rt})(),ye=(()=>{class rt{clickMenuItem(we){this.nzDisabled?(we.preventDefault(),we.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(we){this.nzSelected=we,this.selected$.next(we)}updateRouterActive(){!this.listOfRouterLink||!this.router||!this.router.navigated||!this.nzMatchRouter||Promise.resolve().then(()=>{const we=this.hasActiveLinks();this.nzSelected!==we&&(this.nzSelected=we,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){const we=this.isLinkActive(this.router);return this.routerLink&&we(this.routerLink)||this.listOfRouterLink.some(we)}isLinkActive(we){return qe=>we.isActive(qe.urlTree||"",{paths:this.nzMatchRouterExact?"exact":"subset",queryParams:this.nzMatchRouterExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"})}constructor(we,qe,Ae,kt,It,Ot,At){this.nzMenuService=we,this.cdr=qe,this.nzSubmenuService=Ae,this.isMenuInsideDropDown=kt,this.directionality=It,this.routerLink=Ot,this.router=At,this.destroy$=new m.B,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new m.B,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,At&&this.router.events.pipe((0,me.Q)(this.destroy$),(0,fe.p)(en=>en instanceof Ce.wF)).subscribe(()=>{this.updateRouterActive()})}ngOnInit(){(0,Ue.z)([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,me.Q)(this.destroy$)).subscribe(([we,qe])=>{this.inlinePaddingLeft="inline"===we?this.level*qe:null}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,me.Q)(this.destroy$)).subscribe(we=>{this.dir=we})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe((0,me.Q)(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(we){we.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(qe){return new(qe||rt)(f.rXU(Ne),f.rXU(f.gRc),f.rXU(Z,8),f.rXU(Ft),f.rXU(De.dS,8),f.rXU(Ce.Wk,8),f.rXU(Ce.Ix,8))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-menu-item",""]],contentQueries:function(qe,Ae,kt){if(1&qe&&f.wni(kt,Ce.Wk,5),2&qe){let It;f.mGM(It=f.lsd())&&(Ae.listOfRouterLink=It)}},hostVars:20,hostBindings:function(qe,Ae){1&qe&&f.bIt("click",function(It){return Ae.clickMenuItem(It)}),2&qe&&(f.xc7("padding-left","rtl"===Ae.dir?null:Ae.nzPaddingLeft||Ae.inlinePaddingLeft,"px")("padding-right","rtl"===Ae.dir?Ae.nzPaddingLeft||Ae.inlinePaddingLeft:null,"px"),f.AVh("ant-dropdown-menu-item",Ae.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",Ae.isMenuInsideDropDown&&Ae.nzSelected)("ant-dropdown-menu-item-danger",Ae.isMenuInsideDropDown&&Ae.nzDanger)("ant-dropdown-menu-item-disabled",Ae.isMenuInsideDropDown&&Ae.nzDisabled)("ant-menu-item",!Ae.isMenuInsideDropDown)("ant-menu-item-selected",!Ae.isMenuInsideDropDown&&Ae.nzSelected)("ant-menu-item-danger",!Ae.isMenuInsideDropDown&&Ae.nzDanger)("ant-menu-item-disabled",!Ae.isMenuInsideDropDown&&Ae.nzDisabled))},inputs:{nzPaddingLeft:"nzPaddingLeft",nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter"},exportAs:["nzMenuItem"],standalone:!0,features:[f.OA$,f.aNF],attrs:ke,ngContentSelectors:Ye,decls:2,vars:0,consts:[[1,"ant-menu-title-content"]],template:function(qe,Ae){1&qe&&(f.NAR(),f.j41(0,"span",0),f.SdG(1),f.k0s())},encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,ge.H3)()],rt.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,ge.H3)()],rt.prototype,"nzSelected",void 0),(0,t.Cg)([(0,ge.H3)()],rt.prototype,"nzDanger",void 0),(0,t.Cg)([(0,ge.H3)()],rt.prototype,"nzMatchRouterExact",void 0),(0,t.Cg)([(0,ge.H3)()],rt.prototype,"nzMatchRouter",void 0),rt})(),ee=(()=>{class rt{constructor(we,qe,Ae){this.elementRef=we,this.renderer=qe,this.directionality=Ae,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new m.B}calcMotionState(){this.expandState=this.nzOpen?"expanded":"collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe((0,me.Q)(this.destroy$)).subscribe(we=>{this.dir=we})}ngOnChanges(we){const{mode:qe,nzOpen:Ae,menuClass:kt}=we;(qe||Ae)&&this.calcMotionState(),kt&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(It=>!!It).forEach(It=>{this.renderer.removeClass(this.elementRef.nativeElement,It)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(It=>!!It).forEach(It=>{this.renderer.addClass(this.elementRef.nativeElement,It)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(qe){return new(qe||rt)(f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(De.dS,8))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-submenu-inline-child",""]],hostAttrs:[1,"ant-menu","ant-menu-inline","ant-menu-sub"],hostVars:3,hostBindings:function(qe,Ae){2&qe&&(f.zvX("@collapseMotion",Ae.expandState),f.AVh("ant-menu-rtl","rtl"===Ae.dir))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],standalone:!0,features:[f.OA$,f.aNF],attrs:et,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(qe,Ae){1&qe&&f.DNE(0,Le,0,0,"ng-template",0),2&qe&&f.Y8G("ngTemplateOutlet",Ae.templateOutlet)},dependencies:[Te.T3],encapsulation:2,data:{animation:[Y.GE]},changeDetection:0})}return rt})(),W=(()=>{class rt{constructor(we){this.directionality=we,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new f.bkB,this.expandState="collapsed",this.dir="ltr",this.destroy$=new m.B}setMouseState(we){this.nzDisabled||this.subMenuMouseState.next(we)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?"horizontal"===this.mode?this.expandState="bottom":"vertical"===this.mode&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){this.calcMotionState(),this.dir=this.directionality.value,this.directionality.change?.pipe((0,me.Q)(this.destroy$)).subscribe(we=>{this.dir=we})}ngOnChanges(we){const{mode:qe,nzOpen:Ae}=we;(qe||Ae)&&this.calcMotionState()}static#e=this.\u0275fac=function(qe){return new(qe||rt)(f.rXU(De.dS,8))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-submenu-none-inline-child",""]],hostAttrs:[1,"ant-menu-submenu","ant-menu-submenu-popup"],hostVars:14,hostBindings:function(qe,Ae){1&qe&&f.bIt("mouseenter",function(){return Ae.setMouseState(!0)})("mouseleave",function(){return Ae.setMouseState(!1)}),2&qe&&(f.zvX("@slideMotion",Ae.expandState)("@zoomBigMotion",Ae.expandState),f.AVh("ant-menu-light","light"===Ae.theme)("ant-menu-dark","dark"===Ae.theme)("ant-menu-submenu-placement-bottom","horizontal"===Ae.mode)("ant-menu-submenu-placement-right","vertical"===Ae.mode&&"right"===Ae.position)("ant-menu-submenu-placement-left","vertical"===Ae.mode&&"left"===Ae.position)("ant-menu-submenu-rtl","rtl"===Ae.dir))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],standalone:!0,features:[f.OA$,f.aNF],attrs:Je,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(qe,Ae){1&qe&&(f.j41(0,"div",0),f.DNE(1,We,0,0,"ng-template",1),f.k0s()),2&qe&&(f.AVh("ant-dropdown-menu",Ae.isMenuInsideDropDown)("ant-menu",!Ae.isMenuInsideDropDown)("ant-dropdown-menu-vertical",Ae.isMenuInsideDropDown)("ant-menu-vertical",!Ae.isMenuInsideDropDown)("ant-dropdown-menu-sub",Ae.isMenuInsideDropDown)("ant-menu-sub",!Ae.isMenuInsideDropDown)("ant-menu-rtl","rtl"===Ae.dir),f.Y8G("ngClass",Ae.menuClass),f.R7$(),f.Y8G("ngTemplateOutlet",Ae.templateOutlet))},dependencies:[Te.YU,Te.T3],encapsulation:2,data:{animation:[Y.uX,Y.U1]},changeDetection:0})}return rt})(),b=(()=>{class rt{constructor(we,qe){this.cdr=we,this.directionality=qe,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new f.bkB,this.subMenuMouseState=new f.bkB,this.dir="ltr",this.destroy$=new m.B}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,me.Q)(this.destroy$)).subscribe(we=>{this.dir=we,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(we){this.nzDisabled||this.subMenuMouseState.next(we)}clickTitle(){"inline"===this.mode&&!this.nzDisabled&&this.toggleSubMenu.emit()}static#e=this.\u0275fac=function(qe){return new(qe||rt)(f.rXU(f.gRc),f.rXU(De.dS,8))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(qe,Ae){1&qe&&f.bIt("click",function(){return Ae.clickTitle()})("mouseenter",function(){return Ae.setMouseState(!0)})("mouseleave",function(){return Ae.setMouseState(!1)}),2&qe&&(f.xc7("padding-left","rtl"===Ae.dir?null:Ae.paddingLeft,"px")("padding-right","rtl"===Ae.dir?Ae.paddingLeft:null,"px"),f.AVh("ant-dropdown-menu-submenu-title",Ae.isMenuInsideDropDown)("ant-menu-submenu-title",!Ae.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],standalone:!0,features:[f.aNF],attrs:pt,ngContentSelectors:Ye,decls:5,vars:3,consts:[["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet"],[1,"ant-dropdown-menu-submenu-expand-icon"],[1,"ant-menu-title-content"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(qe,Ae){1&qe&&(f.NAR(),f.DNE(0,tt,1,1,"span",0)(1,$e,3,1,"ng-container",1),f.SdG(2),f.DNE(3,xt,3,1,"span",2)(4,jt,1,0)),2&qe&&(f.vxM(0,Ae.nzIcon?0:-1),f.R7$(),f.Y8G("nzStringTemplateOutlet",Ae.nzTitle),f.R7$(2),f.vxM(3,Ae.isMenuInsideDropDown?3:4))},dependencies:[oe.Y3,oe.Dn,be.C,be.m],encapsulation:2,changeDetection:0})}return rt})();const M=[ae.pn.rightTop,ae.pn.right,ae.pn.rightBottom,ae.pn.leftTop,ae.pn.left,ae.pn.leftBottom],X=[ae.pn.bottomLeft,ae.pn.bottomRight,ae.pn.topRight,ae.pn.topLeft];let ue=(()=>{class rt{setOpenStateWithoutDebounce(we){this.nzSubmenuService.setOpenStateWithoutDebounce(we)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(we){this.isActive=we,"inline"!==this.mode&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(we)}setTriggerWidth(){"horizontal"===this.mode&&this.platform.isBrowser&&this.cdkOverlayOrigin&&"bottomLeft"===this.nzPlacement&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(we){const qe=(0,ae.jj)(we);"rightTop"===qe||"rightBottom"===qe||"right"===qe?this.position="right":("leftTop"===qe||"leftBottom"===qe||"left"===qe)&&(this.position="left")}constructor(we,qe,Ae,kt,It,Ot,At){this.nzMenuService=we,this.cdr=qe,this.nzSubmenuService=Ae,this.platform=kt,this.isMenuInsideDropDown=It,this.directionality=Ot,this.noAnimation=At,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzPlacement="bottomLeft",this.nzOpenChange=new f.bkB,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new m.B,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=M,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}ngOnInit(){this.nzMenuService.theme$.pipe((0,me.Q)(this.destroy$)).subscribe(we=>{this.theme=we,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe((0,me.Q)(this.destroy$)).subscribe(we=>{this.mode=we,"horizontal"===we?this.overlayPositions=[ae.pn[this.nzPlacement],...X]:"vertical"===we&&(this.overlayPositions=M),this.cdr.markForCheck()}),(0,Ue.z)([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe((0,me.Q)(this.destroy$)).subscribe(([we,qe])=>{this.inlinePaddingLeft="inline"===we?this.level*qe:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe((0,me.Q)(this.destroy$)).subscribe(we=>{this.isActive=we,we!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=we,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,me.Q)(this.destroy$)).subscribe(we=>{this.dir=we,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();const we=this.listOfNzMenuItemDirective,qe=we.changes,Ae=(0,Ee.h)(qe,...we.map(kt=>kt.selected$));qe.pipe((0,J.Z)(we),(0,G.n)(()=>Ae),(0,J.Z)(!0),(0,Se.T)(()=>we.some(kt=>kt.nzSelected)),(0,me.Q)(this.destroy$)).subscribe(kt=>{this.isSelected=kt,this.cdr.markForCheck()})}ngOnChanges(we){const{nzOpen:qe}=we;qe&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(qe){return new(qe||rt)(f.rXU(Ne),f.rXU(f.gRc),f.rXU(Z),f.rXU(nt.OD),f.rXU(Ft),f.rXU(De.dS,8),f.rXU(He.z,9))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-submenu",""]],contentQueries:function(qe,Ae,kt){if(1&qe&&(f.wni(kt,rt,5),f.wni(kt,ye,5)),2&qe){let It;f.mGM(It=f.lsd())&&(Ae.listOfNzSubMenuComponent=It),f.mGM(It=f.lsd())&&(Ae.listOfNzMenuItemDirective=It)}},viewQuery:function(qe,Ae){if(1&qe&&f.GBs(Pe.$Q,7,f.aKT),2&qe){let kt;f.mGM(kt=f.lsd())&&(Ae.cdkOverlayOrigin=kt.first)}},hostVars:34,hostBindings:function(qe,Ae){2&qe&&f.AVh("ant-dropdown-menu-submenu",Ae.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",Ae.isMenuInsideDropDown&&Ae.nzDisabled)("ant-dropdown-menu-submenu-open",Ae.isMenuInsideDropDown&&Ae.nzOpen)("ant-dropdown-menu-submenu-selected",Ae.isMenuInsideDropDown&&Ae.isSelected)("ant-dropdown-menu-submenu-vertical",Ae.isMenuInsideDropDown&&"vertical"===Ae.mode)("ant-dropdown-menu-submenu-horizontal",Ae.isMenuInsideDropDown&&"horizontal"===Ae.mode)("ant-dropdown-menu-submenu-inline",Ae.isMenuInsideDropDown&&"inline"===Ae.mode)("ant-dropdown-menu-submenu-active",Ae.isMenuInsideDropDown&&Ae.isActive)("ant-menu-submenu",!Ae.isMenuInsideDropDown)("ant-menu-submenu-disabled",!Ae.isMenuInsideDropDown&&Ae.nzDisabled)("ant-menu-submenu-open",!Ae.isMenuInsideDropDown&&Ae.nzOpen)("ant-menu-submenu-selected",!Ae.isMenuInsideDropDown&&Ae.isSelected)("ant-menu-submenu-vertical",!Ae.isMenuInsideDropDown&&"vertical"===Ae.mode)("ant-menu-submenu-horizontal",!Ae.isMenuInsideDropDown&&"horizontal"===Ae.mode)("ant-menu-submenu-inline",!Ae.isMenuInsideDropDown&&"inline"===Ae.mode)("ant-menu-submenu-active",!Ae.isMenuInsideDropDown&&Ae.isActive)("ant-menu-submenu-rtl","rtl"===Ae.dir)},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled",nzPlacement:"nzPlacement"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],standalone:!0,features:[f.Jv_([Z]),f.OA$,f.aNF],attrs:Me,ngContentSelectors:q,decls:7,vars:8,consts:[["origin","cdkOverlayOrigin"],["subMenuTemplate",""],["nz-submenu-title","","cdkOverlayOrigin","",3,"subMenuMouseState","toggleSubMenu","nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"positionChange","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-submenu-none-inline-child","",3,"subMenuMouseState","theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation"]],template:function(qe,Ae){if(1&qe){const kt=f.RV6();f.NAR(je),f.j41(0,"div",2,0),f.bIt("subMenuMouseState",function(Ot){return f.eBV(kt),f.Njj(Ae.setMouseEnterState(Ot))})("toggleSubMenu",function(){return f.eBV(kt),f.Njj(Ae.toggleSubMenu())}),f.DNE(2,B,1,0),f.k0s(),f.DNE(3,se,1,6,"div",3)(4,Be,1,5)(5,Ke,1,0,"ng-template",null,1,f.C5r)}2&qe&&(f.Y8G("nzIcon",Ae.nzIcon)("nzTitle",Ae.nzTitle)("mode",Ae.mode)("nzDisabled",Ae.nzDisabled)("isMenuInsideDropDown",Ae.isMenuInsideDropDown)("paddingLeft",Ae.nzPaddingLeft||Ae.inlinePaddingLeft),f.R7$(2),f.vxM(2,Ae.nzTitle?-1:2),f.R7$(),f.vxM(3,"inline"===Ae.mode?3:4))},dependencies:[b,ee,He.z,W,Pe.z_,Pe.WB,Pe.$Q],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,ge.H3)()],rt.prototype,"nzOpen",void 0),(0,t.Cg)([(0,ge.H3)()],rt.prototype,"nzDisabled",void 0),rt})();function Ve(){const rt=(0,f.WQX)(Ne,{skipSelf:!0,optional:!0}),Gt=(0,f.WQX)(_e);return rt??Gt}function ot(){return(0,f.WQX)(Ft,{skipSelf:!0,optional:!0})??!1}let ht=(()=>{class rt{setInlineCollapsed(we){this.nzInlineCollapsed=we,this.inlineCollapsed$.next(we)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(we=>we.nzOpen),this.listOfNzSubMenuComponent.forEach(we=>we.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(we=>we.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}constructor(we,qe,Ae,kt){this.nzMenuService=we,this.isMenuInsideDropDown=qe,this.cdr=Ae,this.directionality=kt,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new f.bkB,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new C.t(this.nzInlineCollapsed),this.mode$=new C.t(this.nzMode),this.destroy$=new m.B,this.listOfOpenedNzSubMenuComponent=[]}ngOnInit(){(0,Ue.z)([this.inlineCollapsed$,this.mode$]).pipe((0,me.Q)(this.destroy$)).subscribe(([we,qe])=>{this.actualMode=we?"vertical":qe,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe((0,me.Q)(this.destroy$)).subscribe(we=>{this.nzClick.emit(we),this.nzSelectable&&!we.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(qe=>qe.setSelectedState(qe===we))}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,me.Q)(this.destroy$)).subscribe(we=>{this.dir=we,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe((0,me.Q)(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(we){const{nzInlineCollapsed:qe,nzInlineIndent:Ae,nzTheme:kt,nzMode:It}=we;qe&&this.inlineCollapsed$.next(this.nzInlineCollapsed),Ae&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),kt&&this.nzMenuService.setTheme(this.nzTheme),It&&(this.mode$.next(this.nzMode),!we.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(Ot=>Ot.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(qe){return new(qe||rt)(f.rXU(Ne),f.rXU(Ft),f.rXU(f.gRc),f.rXU(De.dS,8))};static#t=this.\u0275dir=f.FsC({type:rt,selectors:[["","nz-menu",""]],contentQueries:function(qe,Ae,kt){if(1&qe&&(f.wni(kt,ye,5),f.wni(kt,ue,5)),2&qe){let It;f.mGM(It=f.lsd())&&(Ae.listOfNzMenuItemDirective=It),f.mGM(It=f.lsd())&&(Ae.listOfNzSubMenuComponent=It)}},hostVars:34,hostBindings:function(qe,Ae){2&qe&&f.AVh("ant-dropdown-menu",Ae.isMenuInsideDropDown)("ant-dropdown-menu-root",Ae.isMenuInsideDropDown)("ant-dropdown-menu-light",Ae.isMenuInsideDropDown&&"light"===Ae.nzTheme)("ant-dropdown-menu-dark",Ae.isMenuInsideDropDown&&"dark"===Ae.nzTheme)("ant-dropdown-menu-vertical",Ae.isMenuInsideDropDown&&"vertical"===Ae.actualMode)("ant-dropdown-menu-horizontal",Ae.isMenuInsideDropDown&&"horizontal"===Ae.actualMode)("ant-dropdown-menu-inline",Ae.isMenuInsideDropDown&&"inline"===Ae.actualMode)("ant-dropdown-menu-inline-collapsed",Ae.isMenuInsideDropDown&&Ae.nzInlineCollapsed)("ant-menu",!Ae.isMenuInsideDropDown)("ant-menu-root",!Ae.isMenuInsideDropDown)("ant-menu-light",!Ae.isMenuInsideDropDown&&"light"===Ae.nzTheme)("ant-menu-dark",!Ae.isMenuInsideDropDown&&"dark"===Ae.nzTheme)("ant-menu-vertical",!Ae.isMenuInsideDropDown&&"vertical"===Ae.actualMode)("ant-menu-horizontal",!Ae.isMenuInsideDropDown&&"horizontal"===Ae.actualMode)("ant-menu-inline",!Ae.isMenuInsideDropDown&&"inline"===Ae.actualMode)("ant-menu-inline-collapsed",!Ae.isMenuInsideDropDown&&Ae.nzInlineCollapsed)("ant-menu-rtl","rtl"===Ae.dir)},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],standalone:!0,features:[f.Jv_([{provide:_e,useClass:Ne},{provide:Ne,useFactory:Ve},{provide:Ft,useFactory:ot}]),f.OA$]})}return(0,t.Cg)([(0,ge.H3)()],rt.prototype,"nzInlineCollapsed",void 0),(0,t.Cg)([(0,ge.H3)()],rt.prototype,"nzSelectable",void 0),rt})();function bt(){return(0,f.WQX)(Ft,{optional:!0,skipSelf:!0})??!1}let Et=(()=>{class rt{constructor(we,qe,Ae){this.elementRef=we,this.renderer=qe,this.isMenuInsideDropDown=Ae,this.renderer.addClass(we.nativeElement,this.isMenuInsideDropDown?"ant-dropdown-menu-item-group":"ant-menu-item-group")}ngAfterViewInit(){const we=this.titleElement.nativeElement.nextElementSibling;we&&this.renderer.addClass(we,this.isMenuInsideDropDown?"ant-dropdown-menu-item-group-list":"ant-menu-item-group-list")}static#e=this.\u0275fac=function(qe){return new(qe||rt)(f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(Ft))};static#t=this.\u0275cmp=f.VBU({type:rt,selectors:[["","nz-menu-group",""]],viewQuery:function(qe,Ae){if(1&qe&&f.GBs(vt,5),2&qe){let kt;f.mGM(kt=f.lsd())&&(Ae.titleElement=kt.first)}},inputs:{nzTitle:"nzTitle"},exportAs:["nzMenuGroup"],standalone:!0,features:[f.Jv_([{provide:Ft,useFactory:bt}]),f.aNF],attrs:Nt,ngContentSelectors:Zt,decls:5,vars:6,consts:[["titleElement",""],[4,"nzStringTemplateOutlet"]],template:function(qe,Ae){1&qe&&(f.NAR(Xt),f.j41(0,"div",null,0),f.DNE(2,Wt,2,1,"ng-container",1)(3,lt,1,0),f.k0s(),f.SdG(4)),2&qe&&(f.AVh("ant-menu-item-group-title",!Ae.isMenuInsideDropDown)("ant-dropdown-menu-item-group-title",Ae.isMenuInsideDropDown),f.R7$(2),f.Y8G("nzStringTemplateOutlet",Ae.nzTitle),f.R7$(),f.vxM(3,Ae.nzTitle?-1:3))},dependencies:[be.C,be.m],encapsulation:2,changeDetection:0})}return rt})(),wt=(()=>{class rt{constructor(we){this.elementRef=we}static#e=this.\u0275fac=function(qe){return new(qe||rt)(f.rXU(f.aKT))};static#t=this.\u0275dir=f.FsC({type:rt,selectors:[["","nz-menu-divider",""]],hostAttrs:[1,"ant-dropdown-menu-item-divider"],exportAs:["nzMenuDivider"],standalone:!0})}return rt})(),Yt=(()=>{class rt{static#e=this.\u0275fac=function(qe){return new(qe||rt)};static#t=this.\u0275mod=f.$C({type:rt});static#n=this.\u0275inj=f.G2t({imports:[ue,Et,b]})}return rt})()},7094:(Lt,ct,v)=>{"use strict";v.d(ct,{Pz:()=>Y,nF:()=>oe,op:()=>be,xh:()=>Je});var t=v(6939),f=v(4438),m=v(1413),C=v(5964),Ee=v(6697),Ue=v(6977),Se=v(6035),ze=v(177),fe=v(317),F=v(713),ie=v(7806),he=v(5103),me=v(1025),J=v(6969);function G(We,pt){1&We&&f.nrm(0,"span",10)}function ge(We,pt){1&We&&f.nrm(0,"span",11)}function Ce(We,pt){1&We&&f.nrm(0,"span",12)}function De(We,pt){1&We&&f.nrm(0,"span",13)}function Pe(We,pt){1&We&&f.nrm(0,"span",14)}function He(We,pt){if(1&We&&(f.qex(0),f.nrm(1,"span",15),f.bVm()),2&We){const tt=f.XpG();f.R7$(),f.Y8G("innerHTML",tt.instance.content,f.npT)}}function ae(We,pt){if(1&We){const tt=f.RV6();f.j41(0,"nz-message",2),f.bIt("destroyed",function(mt){f.eBV(tt);const dt=f.XpG();return f.Njj(dt.remove(mt.id,mt.userAction))}),f.k0s()}2&We&&f.Y8G("instance",pt.$implicit)}let Te=0;class Y{constructor(pt,tt,$e){this.nzSingletonService=pt,this.overlay=tt,this.injector=$e}remove(pt){this.container&&(pt?this.container.remove(pt):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${Te++}`}withContainer(pt){let tt=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(tt)return tt;const $e=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),mt=new t.A8(pt,null,this.injector),dt=$e.attach(mt);return $e.hostElement.style.zIndex="1010",tt||(this.container=tt=dt.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,tt),this.container.afterAllInstancesRemoved.subscribe(()=>{this.container=void 0,this.nzSingletonService.unregisterSingletonWithKey(this.componentPrefix),$e.dispose()})),tt}}let be=(()=>{class We{constructor(tt,$e){this.cdr=tt,this.nzConfigService=$e,this.instances=[],this._afterAllInstancesRemoved=new m.B,this.afterAllInstancesRemoved=this._afterAllInstancesRemoved.asObservable(),this.destroy$=new m.B,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(tt){const $e=this.onCreate(tt);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,$e],this.readyInstances(),$e}remove(tt,$e=!1){this.instances.map((mt,dt)=>({index:dt,instance:mt})).filter(({instance:mt})=>mt.messageId===tt).forEach(({index:mt,instance:dt})=>{this.instances.splice(mt,1),this.instances=[...this.instances],this.onRemove(dt,$e),this.readyInstances()}),this.instances.length||this.onAllInstancesRemoved()}removeAll(){this.instances.forEach(tt=>this.onRemove(tt,!1)),this.instances=[],this.readyInstances(),this.onAllInstancesRemoved()}onCreate(tt){return tt.options=this.mergeOptions(tt.options),tt.onClose=new m.B,tt}onRemove(tt,$e){tt.onClose.next($e),tt.onClose.complete()}onAllInstancesRemoved(){this._afterAllInstancesRemoved.next(),this._afterAllInstancesRemoved.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(tt){const{nzDuration:$e,nzAnimate:mt,nzPauseOnHover:dt}=this.config;return{nzDuration:$e,nzAnimate:mt,nzPauseOnHover:dt,...tt}}static#e=this.\u0275fac=function($e){return new($e||We)(f.rXU(f.gRc),f.rXU(Se.yx))};static#t=this.\u0275dir=f.FsC({type:We})}return We})(),oe=(()=>{class We{constructor(tt){this.cdr=tt,this.destroyed=new f.bkB,this.animationStateChanged=new m.B,this.userAction=!1}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe((0,C.p)(tt=>"done"===tt.phaseName&&"leave"===tt.toState),(0,Ee.s)(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(tt=!1){this.userAction=tt,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:tt})},200)):this.destroyed.next({id:this.instance.messageId,userAction:tt})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=void 0)}static#e=this.\u0275fac=function($e){return new($e||We)(f.rXU(f.gRc))};static#t=this.\u0275dir=f.FsC({type:We})}return We})(),nt=(()=>{class We extends oe{constructor(tt){super(tt),this.destroyed=new f.bkB}static#e=this.\u0275fac=function($e){return new($e||We)(f.rXU(f.gRc))};static#t=this.\u0275cmp=f.VBU({type:We,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],standalone:!0,features:[f.Vt3,f.aNF],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function($e,mt){1&$e&&(f.j41(0,"div",0),f.bIt("@moveUpMotion.done",function(xt){return mt.animationStateChanged.next(xt)})("mouseenter",function(){return mt.onEnter()})("mouseleave",function(){return mt.onLeave()}),f.j41(1,"div",1)(2,"div",2),f.qex(3,3),f.DNE(4,G,1,0,"span",4)(5,ge,1,0,"span",5)(6,Ce,1,0,"span",6)(7,De,1,0,"span",7)(8,Pe,1,0,"span",8),f.bVm(),f.DNE(9,He,2,1,"ng-container",9),f.k0s()()()),2&$e&&(f.Y8G("@moveUpMotion",mt.instance.state),f.R7$(2),f.Y8G("ngClass","ant-message-"+mt.instance.type),f.R7$(),f.Y8G("ngSwitch",mt.instance.type),f.R7$(),f.Y8G("ngSwitchCase","success"),f.R7$(),f.Y8G("ngSwitchCase","info"),f.R7$(),f.Y8G("ngSwitchCase","warning"),f.R7$(),f.Y8G("ngSwitchCase","error"),f.R7$(),f.Y8G("ngSwitchCase","loading"),f.R7$(),f.Y8G("nzStringTemplateOutlet",mt.instance.content))},dependencies:[ze.YU,ze.ux,ze.e1,he.Y3,he.Dn,ie.C,ie.m],encapsulation:2,data:{animation:[F.j]},changeDetection:0})}return We})();const ke="message",Ye={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let et=(()=>{class We extends be{constructor(tt,$e){super(tt,$e),this.dir="ltr";const mt=this.nzConfigService.getConfigForComponent(ke);this.dir=mt?.nzDirection||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(ke).pipe((0,Ue.Q)(this.destroy$)).subscribe(()=>{this.updateConfig();const tt=this.nzConfigService.getConfigForComponent(ke);if(tt){const{nzDirection:$e}=tt;this.dir=$e||this.dir}})}updateConfig(){this.config={...Ye,...this.config,...this.nzConfigService.getConfigForComponent(ke)},this.top=(0,fe.j3)(this.config.nzTop),this.cdr.markForCheck()}static#e=this.\u0275fac=function($e){return new($e||We)(f.rXU(f.gRc),f.rXU(Se.yx))};static#t=this.\u0275cmp=f.VBU({type:We,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],standalone:!0,features:[f.Vt3,f.aNF],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"destroyed","instance"]],template:function($e,mt){1&$e&&(f.j41(0,"div",0),f.DNE(1,ae,1,1,"nz-message",1),f.k0s()),2&$e&&(f.xc7("top",mt.top),f.AVh("ant-message-rtl","rtl"===mt.dir),f.R7$(),f.Y8G("ngForOf",mt.instances))},dependencies:[nt,ze.Sq],encapsulation:2,changeDetection:0})}return We})(),Je=(()=>{class We extends Y{constructor(tt,$e,mt){super(tt,$e,mt),this.componentPrefix="message-"}success(tt,$e){return this.createInstance({type:"success",content:tt},$e)}error(tt,$e){return this.createInstance({type:"error",content:tt},$e)}info(tt,$e){return this.createInstance({type:"info",content:tt},$e)}warning(tt,$e){return this.createInstance({type:"warning",content:tt},$e)}loading(tt,$e){return this.createInstance({type:"loading",content:tt},$e)}create(tt,$e,mt){return this.createInstance({type:tt,content:$e},mt)}createInstance(tt,$e){return this.container=this.withContainer(et),this.container.create({...tt,createdAt:new Date,messageId:this.getInstanceId(),options:$e})}static#e=this.\u0275fac=function($e){return new($e||We)(f.KVO(me.HL),f.KVO(J.hJ),f.KVO(f.zZn))};static#t=this.\u0275prov=f.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})()},3053:(Lt,ct,v)=>{"use strict";v.d(ct,{U6:()=>j,N_:()=>Fe,hk:()=>st});var t=v(467),f=v(6969),m=v(6939),C=v(4438),Ee=v(1413),Ue=v(3726),Se=v(9030),ze=v(6977),fe=v(5964),F=v(6697),ie=v(9172),he=v(1265),me=v(5463),J=v(317),G=v(177),ge=v(513),Ce=v(7806),De=v(5103);v(345);class ae{static#e=this.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}};transform(P,D=0,T="B",I){if(!((0,J.BV)(P)&&(0,J.BV)(D)&&D%1==0&&D>=0))return P;let E=P,ne=T;for(;"B"!==ne;)E*=1024,ne=ae.formats[ne].prev;if(I){const pe=(0,J.nI)(ae.calculateResult(ae.formats[I],E),D);return ae.formatResult(pe,I)}for(const L in ae.formats)if(ae.formats.hasOwnProperty(L)){const pe=ae.formats[L];if(E<pe.max){const Ze=(0,J.nI)(ae.calculateResult(pe,E),D);return ae.formatResult(Ze,L)}}}static formatResult(P,D){return`${P} ${D}`}static calculateResult(P,D){const T=P.prev?ae.formats[P.prev]:void 0;return T?D/T.max:D}static#t=this.\u0275fac=function(D){return new(D||ae)};static#n=this.\u0275pipe=C.EJ8({name:"nzBytes",type:ae,pure:!0,standalone:!0})}let Te=(()=>{class k{transform(D,T="px"){return"number"==typeof D?`${D}${T}`:D}static#e=this.\u0275fac=function(T){return new(T||k)};static#t=this.\u0275pipe=C.EJ8({name:"nzToCssUnit",type:k,pure:!0,standalone:!0})}return k})(),Ye=(()=>{class k{static#e=this.\u0275fac=function(T){return new(T||k)};static#t=this.\u0275mod=C.$C({type:k});static#n=this.\u0275inj=C.G2t({})}return k})();var et=v(9969),Le=v(4500),Je=v(851),We=v(6035),pt=v(3341),tt=v(6389),$e=v(5930),mt=v(1875),dt=v(7336),xt=v(8203);const jt=["nz-modal-close",""];function Me(k,P){if(1&k&&(C.qex(0),C.nrm(1,"span",2),C.bVm()),2&k){const D=P.$implicit;C.R7$(),C.Y8G("nzType",D)}}const je=["modalElement"];function q(k,P){if(1&k){const D=C.RV6();C.j41(0,"button",16),C.bIt("click",function(){C.eBV(D);const I=C.XpG();return C.Njj(I.onCloseClick())}),C.k0s()}}function B(k,P){if(1&k&&(C.qex(0),C.nrm(1,"span",12),C.bVm()),2&k){const D=C.XpG();C.R7$(),C.Y8G("innerHTML",D.config.nzTitle,C.npT)}}function se(k,P){}function re(k,P){if(1&k&&C.nrm(0,"div",12),2&k){const D=C.XpG();C.Y8G("innerHTML",D.config.nzContent,C.npT)}}function Be(k,P){if(1&k){const D=C.RV6();C.j41(0,"button",17),C.bIt("click",function(){C.eBV(D);const I=C.XpG();return C.Njj(I.onCancel())}),C.EFF(1),C.k0s()}if(2&k){const D=C.XpG();C.Y8G("nzLoading",D.config.nzCancelLoading)("disabled",D.config.nzCancelDisabled),C.BMQ("cdkFocusInitial","cancel"===D.config.nzAutofocus||null),C.R7$(),C.SpI(" ",D.config.nzCancelText||D.locale.cancelText," ")}}function Ke(k,P){if(1&k){const D=C.RV6();C.j41(0,"button",18),C.bIt("click",function(){C.eBV(D);const I=C.XpG();return C.Njj(I.onOk())}),C.EFF(1),C.k0s()}if(2&k){const D=C.XpG();C.Y8G("nzType",D.config.nzOkType)("nzLoading",D.config.nzOkLoading)("disabled",D.config.nzOkDisabled)("nzDanger",D.config.nzOkDanger),C.BMQ("cdkFocusInitial","ok"===D.config.nzAutofocus||null),C.R7$(),C.SpI(" ",D.config.nzOkText||D.locale.okText," ")}}const vt=["nz-modal-footer",""],Nt=(k,P)=>({$implicit:k,modalRef:P});function Xt(k,P){if(1&k){const D=C.RV6();C.j41(0,"button",2),C.bIt("click",function(){const I=C.eBV(D).$implicit,E=C.XpG(4);return C.Njj(E.onButtonClick(I))}),C.EFF(1),C.k0s()}if(2&k){const D=P.$implicit,T=C.XpG(4);C.Y8G("hidden",!T.getButtonCallableProp(D,"show"))("nzLoading",T.getButtonCallableProp(D,"loading"))("disabled",T.getButtonCallableProp(D,"disabled"))("nzType",D.type)("nzDanger",D.danger)("nzShape",D.shape)("nzSize",D.size)("nzGhost",D.ghost),C.R7$(),C.SpI(" ",D.label," ")}}function Zt(k,P){if(1&k&&C.Z7z(0,Xt,2,9,"button",1,C.fX1),2&k){const D=C.XpG(3);C.Dyx(D.buttons)}}function Wt(k,P){if(1&k&&C.nrm(0,"div",3),2&k){const D=C.XpG(3);C.Y8G("innerHTML",D.config.nzFooter,C.npT)}}function lt(k,P){if(1&k&&(C.qex(0),C.DNE(1,Zt,2,0)(2,Wt,1,1),C.bVm()),2&k){const D=C.XpG(2);C.R7$(),C.vxM(1,D.buttonsFooter?1:2)}}function Ft(k,P){if(1&k&&C.DNE(0,lt,3,1,"ng-container",0),2&k){const D=C.XpG();C.Y8G("nzStringTemplateOutlet",D.config.nzFooter)("nzStringTemplateOutletContext",C.l_i(2,Nt,D.config.nzData,D.modalRef))}}function _e(k,P){if(1&k){const D=C.RV6();C.j41(0,"button",6),C.bIt("click",function(){C.eBV(D);const I=C.XpG(2);return C.Njj(I.onCancel())}),C.EFF(1),C.k0s()}if(2&k){const D=C.XpG(2);C.Y8G("nzLoading",D.config.nzCancelLoading)("disabled",D.config.nzCancelDisabled),C.BMQ("cdkFocusInitial","cancel"===D.config.nzAutofocus||null),C.R7$(),C.SpI(" ",D.config.nzCancelText||D.locale.cancelText," ")}}function Ne(k,P){if(1&k){const D=C.RV6();C.j41(0,"button",7),C.bIt("click",function(){C.eBV(D);const I=C.XpG(2);return C.Njj(I.onOk())}),C.EFF(1),C.k0s()}if(2&k){const D=C.XpG(2);C.Y8G("nzType",D.config.nzOkType)("nzDanger",D.config.nzOkDanger)("nzLoading",D.config.nzOkLoading)("disabled",D.config.nzOkDisabled),C.BMQ("cdkFocusInitial","ok"===D.config.nzAutofocus||null),C.R7$(),C.SpI(" ",D.config.nzOkText||D.locale.okText," ")}}function Z(k,P){if(1&k&&C.DNE(0,_e,2,4,"button",4)(1,Ne,2,6,"button",5),2&k){const D=C.XpG();C.vxM(0,null!==D.config.nzCancelText?0:-1),C.R7$(),C.vxM(1,null!==D.config.nzOkText?1:-1)}}const ye=["nz-modal-title",""];function ee(k,P){if(1&k&&(C.qex(0),C.nrm(1,"div",2),C.bVm()),2&k){const D=C.XpG();C.R7$(),C.Y8G("innerHTML",D.config.nzTitle,C.npT)}}function W(k,P){if(1&k){const D=C.RV6();C.j41(0,"button",9),C.bIt("click",function(){C.eBV(D);const I=C.XpG();return C.Njj(I.onCloseClick())}),C.k0s()}}function b(k,P){if(1&k&&C.nrm(0,"div",10),2&k){const D=C.XpG();C.xc7("cursor",D.config.nzDraggable?"move":"auto")}}function M(k,P){}function X(k,P){if(1&k&&C.nrm(0,"div",7),2&k){const D=C.XpG();C.Y8G("innerHTML",D.config.nzContent,C.npT)}}function ue(k,P){if(1&k){const D=C.RV6();C.j41(0,"div",11),C.bIt("cancelTriggered",function(){C.eBV(D);const I=C.XpG();return C.Njj(I.onCloseClick())})("okTriggered",function(){C.eBV(D);const I=C.XpG();return C.Njj(I.onOkClick())}),C.k0s()}if(2&k){const D=C.XpG();C.Y8G("modalRef",D.modalRef)}}const Ve=()=>{};class ot{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzDraggable=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=Ve,this.nzOnOk=Ve,this.nzIconType="question-circle"}}const Et="ant-modal-mask",wt="modal",Yt=new C.nKC("NZ_MODAL_DATA"),rt={modalContainer:(0,et.hZ)("modalContainer",[(0,et.wk)("void, exit",(0,et.iF)({})),(0,et.wk)("enter",(0,et.iF)({})),(0,et.kY)("* => enter",(0,et.i0)(".24s",(0,et.iF)({}))),(0,et.kY)("* => void, * => exit",(0,et.i0)(".2s",(0,et.iF)({})))])};let Gt=(()=>{class k{constructor(D){this.config=D}static#e=this.\u0275fac=function(T){return new(T||k)(C.rXU(ot))};static#t=this.\u0275cmp=C.VBU({type:k,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],standalone:!0,features:[C.aNF],attrs:jt,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(T,I){1&T&&(C.j41(0,"span",0),C.DNE(1,Me,2,1,"ng-container",1),C.k0s()),2&T&&(C.R7$(),C.Y8G("nzStringTemplateOutlet",I.config.nzCloseIcon))},dependencies:[De.Y3,De.Dn,Ce.C,Ce.m],encapsulation:2,changeDetection:0})}return k})();function qe(k,P,D){return typeof k>"u"?typeof P>"u"?D:P:k}function kt(){throw Error("Attempting to attach modal content after content is already attached")}let It=(()=>{class k extends m.lb{get showMask(){const D=this.nzConfigService.getConfigForComponent(wt)||{};return!!qe(this.config.nzMask,D.nzMask,!0)}get maskClosable(){const D=this.nzConfigService.getConfigForComponent(wt)||{};return!!qe(this.config.nzMaskClosable,D.nzMaskClosable,!0)}constructor(D,T,I,E,ne,L,pe,Ze,at,Ct){super(),this.ngZone=D,this.host=T,this.focusTrapFactory=I,this.cdr=E,this.render=ne,this.overlayRef=L,this.nzConfigService=pe,this.config=Ze,this.animationType=Ct,this.animationStateChanged=new C.bkB,this.containerClick=new C.bkB,this.cancelTriggered=new C.bkB,this.okTriggered=new C.bkB,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new Ee.B,this.document=at,this.dir=L.getDirection(),this.isStringContent="string"==typeof Ze.nzContent,this.nzConfigService.getConfigChangeEventForComponent(wt).pipe((0,ze.Q)(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}onContainerClick(D){D.target===D.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(D){return this.portalOutlet.hasAttached()&&kt(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(D)}attachTemplatePortal(D){return this.portalOutlet.hasAttached()&&kt(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(D)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const D=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const T=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),I=(0,J.Mk)(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(D,"transform-origin",`${I.left+T.width/2-D.offsetLeft}px ${I.top+T.height/2-D.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>(0,Le.j)(()=>this.host.nativeElement.focus())))}trapFocus(){const D=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{const T=this.document.activeElement;T!==D&&!D.contains(T)&&D.focus()}}restoreFocus(){const D=this.elementFocusedBeforeModalWasOpened;if(D&&"function"==typeof D.focus){const T=this.document.activeElement,I=this.host.nativeElement;(!T||T===this.document.body||T===I||I.contains(T))&&D.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const D=this.modalElementRef.nativeElement,T=this.overlayRef.backdropElement;D.classList.add("ant-zoom-enter"),D.classList.add("ant-zoom-enter-active"),T&&(T.classList.add("ant-fade-enter"),T.classList.add("ant-fade-enter-active"))}setExitAnimationClass(){const D=this.modalElementRef.nativeElement;D.classList.add("ant-zoom-leave"),D.classList.add("ant-zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(D=!1){const T=this.overlayRef.backdropElement;if(T){if(this.animationDisabled()||D)return void T.classList.remove(Et);T.classList.add("ant-fade-leave"),T.classList.add("ant-fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const D=this.overlayRef.backdropElement,T=this.modalElementRef.nativeElement;D&&(D.classList.remove("ant-fade-enter"),D.classList.remove("ant-fade-enter-active")),T.classList.remove("ant-zoom-enter"),T.classList.remove("ant-zoom-enter-active"),T.classList.remove("ant-zoom-leave"),T.classList.remove("ant-zoom-leave-active")}setZIndexForBackdrop(){const D=this.overlayRef.backdropElement;D&&(0,J.n9)(this.config.nzZIndex)&&this.render.setStyle(D,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const D=this.overlayRef.backdropElement;if(D&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(I=>{this.render.removeStyle(D,I)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const T={...this.config.nzMaskStyle};Object.keys(T).forEach(I=>{this.render.setStyle(D,I,T[I])}),this.oldMaskStyle=T}}updateMaskClassname(){const D=this.overlayRef.backdropElement;D&&(this.showMask?D.classList.add(Et):D.classList.remove(Et))}onAnimationDone(D){"enter"===D.toState?this.trapFocus():"exit"===D.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(D)}onAnimationStart(D){"enter"===D.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===D.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(D)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(!0),this.destroy$.complete()}setupMouseListeners(D){this.ngZone.runOutsideAngular(()=>{(0,Ue.R)(this.host.nativeElement,"mouseup").pipe((0,ze.Q)(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),(0,Ue.R)(D.nativeElement,"mousedown").pipe((0,ze.Q)(this.destroy$)).subscribe(()=>{this.mouseDown=!0})})}static#e=this.\u0275fac=function(T){C.QTQ()};static#t=this.\u0275dir=C.FsC({type:k,features:[C.Vt3]})}return k})(),Ot=(()=>{class k extends It{constructor(D,T,I,E,ne,L,pe,Ze,at,Ct,Ht){super(D,I,E,ne,L,pe,Ze,at,Ct,Ht),this.i18n=T,this.config=at,this.cancelTriggered=new C.bkB,this.okTriggered=new C.bkB,this.i18n.localeChange.pipe((0,ze.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}static#e=this.\u0275fac=function(T){return new(T||k)(C.rXU(C.SKi),C.rXU(pt.Og),C.rXU(C.aKT),C.rXU(Je.GX),C.rXU(C.gRc),C.rXU(C.sFG),C.rXU(f.yY),C.rXU(We.yx),C.rXU(ot),C.rXU(G.qQ,8),C.rXU(C.bc$,8))};static#t=this.\u0275cmp=C.VBU({type:k,selectors:[["nz-modal-confirm-container"]],viewQuery:function(T,I){if(1&T&&(C.GBs(m.I3,7),C.GBs(je,7)),2&T){let E;C.mGM(E=C.lsd())&&(I.portalOutlet=E.first),C.mGM(E=C.lsd())&&(I.modalElementRef=E.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(T,I){1&T&&(C.Kam("@modalContainer.start",function(ne){return I.onAnimationStart(ne)})("@modalContainer.done",function(ne){return I.onAnimationDone(ne)}),C.bIt("click",function(ne){return I.onContainerClick(ne)})),2&T&&(C.zvX("@.disabled",I.config.nzNoAnimation)("@modalContainer",I.state),C.HbH(I.config.nzWrapClassName?"ant-modal-wrap "+I.config.nzWrapClassName:"ant-modal-wrap"),C.xc7("z-index",I.config.nzZIndex),C.AVh("ant-modal-wrap-rtl","rtl"===I.dir)("ant-modal-centered",I.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],standalone:!0,features:[C.Vt3,C.aNF],decls:17,vars:13,consts:[["modalElement",""],["role","document",1,"ant-modal",3,"ngClass","ngStyle"],[1,"ant-modal-content"],["nz-modal-close",""],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger"],["nz-modal-close","",3,"click"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzLoading","disabled","nzDanger"]],template:function(T,I){1&T&&(C.j41(0,"div",1,0),C.nI1(2,"nzToCssUnit"),C.j41(3,"div",2),C.DNE(4,q,1,0,"button",3),C.j41(5,"div",4)(6,"div",5)(7,"div",6),C.nrm(8,"span",7),C.j41(9,"span",8),C.DNE(10,B,2,1,"ng-container",9),C.k0s(),C.j41(11,"div",10),C.DNE(12,se,0,0,"ng-template",11)(13,re,1,1,"div",12),C.k0s()(),C.j41(14,"div",13),C.DNE(15,Be,2,4,"button",14)(16,Ke,2,6,"button",15),C.k0s()()()()()),2&T&&(C.xc7("width",C.bMT(2,11,null==I.config?null:I.config.nzWidth)),C.Y8G("ngClass",I.config.nzClassName)("ngStyle",I.config.nzStyle),C.R7$(4),C.vxM(4,I.config.nzClosable?4:-1),C.R7$(),C.Y8G("ngStyle",I.config.nzBodyStyle),C.R7$(3),C.Y8G("nzType",I.config.nzIconType),C.R7$(2),C.Y8G("nzStringTemplateOutlet",I.config.nzTitle),C.R7$(3),C.vxM(13,I.isStringContent?13:-1),C.R7$(2),C.vxM(15,null!==I.config.nzCancelText?15:-1),C.R7$(),C.vxM(16,null!==I.config.nzOkText?16:-1))},dependencies:[G.YU,G.B3,Ye,Te,De.Y3,De.Dn,Gt,Ce.C,Ce.m,m.jc,m.I3,ge.Zw,ge.aO,tt.c,$e.p],encapsulation:2,data:{animation:[rt.modalContainer]}})}return k})(),At=(()=>{class k{constructor(D,T){this.i18n=D,this.config=T,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new C.bkB,this.okTriggered=new C.bkB,this.destroy$=new Ee.B,Array.isArray(T.nzFooter)&&(this.buttonsFooter=!0,this.buttons=T.nzFooter.map(en)),this.i18n.localeChange.pipe((0,ze.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(D,T){const I=D[T],E=this.modalRef.getContentComponent();return"function"==typeof I?I.apply(D,E&&[E]):I}onButtonClick(D){if(!this.getButtonCallableProp(D,"loading")){const I=this.getButtonCallableProp(D,"onClick");D.autoLoading&&(0,J.yL)(I)&&(D.loading=!0,I.then(()=>D.loading=!1).catch(E=>{throw D.loading=!1,E}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(T){return new(T||k)(C.rXU(pt.Og),C.rXU(ot))};static#t=this.\u0275cmp=C.VBU({type:k,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],standalone:!0,features:[C.aNF],attrs:vt,decls:2,vars:1,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],["nz-button","",3,"click","hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzDanger","nzLoading","disabled"]],template:function(T,I){1&T&&C.DNE(0,Ft,1,5,"ng-container")(1,Z,2,2),2&T&&C.vxM(0,I.config.nzFooter?0:1)},dependencies:[Ce.C,Ce.m,ge.Zw,ge.aO,tt.c,$e.p],encapsulation:2})}return k})();function en(k){return{type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1,...k}}let wn=(()=>{class k{constructor(D){this.config=D}static#e=this.\u0275fac=function(T){return new(T||k)(C.rXU(ot))};static#t=this.\u0275cmp=C.VBU({type:k,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],standalone:!0,features:[C.aNF],attrs:ye,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(T,I){1&T&&(C.j41(0,"div",0),C.DNE(1,ee,2,1,"ng-container",1),C.k0s()),2&T&&(C.R7$(),C.Y8G("nzStringTemplateOutlet",I.config.nzTitle))},dependencies:[Ce.C,Ce.m],encapsulation:2,changeDetection:0})}return k})(),kn=(()=>{class k extends It{constructor(D,T,I,E,ne,L,pe,Ze,at,Ct){super(D,T,I,E,ne,L,pe,Ze,at,Ct),this.config=Ze}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}static#e=this.\u0275fac=function(T){return new(T||k)(C.rXU(C.SKi),C.rXU(C.aKT),C.rXU(Je.GX),C.rXU(C.gRc),C.rXU(C.sFG),C.rXU(f.yY),C.rXU(We.yx),C.rXU(ot),C.rXU(G.qQ,8),C.rXU(C.bc$,8))};static#t=this.\u0275cmp=C.VBU({type:k,selectors:[["nz-modal-container"]],viewQuery:function(T,I){if(1&T&&(C.GBs(m.I3,7),C.GBs(je,7)),2&T){let E;C.mGM(E=C.lsd())&&(I.portalOutlet=E.first),C.mGM(E=C.lsd())&&(I.modalElementRef=E.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(T,I){1&T&&(C.Kam("@modalContainer.start",function(ne){return I.onAnimationStart(ne)})("@modalContainer.done",function(ne){return I.onAnimationDone(ne)}),C.bIt("click",function(ne){return I.onContainerClick(ne)})),2&T&&(C.zvX("@.disabled",I.config.nzNoAnimation)("@modalContainer",I.state),C.HbH(I.config.nzWrapClassName?"ant-modal-wrap "+I.config.nzWrapClassName:"ant-modal-wrap"),C.xc7("z-index",I.config.nzZIndex),C.AVh("ant-modal-wrap-rtl","rtl"===I.dir)("ant-modal-centered",I.config.nzCentered))},exportAs:["nzModalContainer"],standalone:!0,features:[C.Vt3,C.aNF],decls:10,vars:12,consts:[["modalElement",""],["cdkDrag","","cdkDragBoundary",".cdk-overlay-container","role","document",1,"ant-modal",3,"cdkDragDisabled","ngClass","ngStyle"],[1,"ant-modal-content"],["nz-modal-close",""],["nz-modal-title","","cdkDragHandle","",3,"cursor"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef"],["nz-modal-close","",3,"click"],["nz-modal-title","","cdkDragHandle",""],["nz-modal-footer","",3,"cancelTriggered","okTriggered","modalRef"]],template:function(T,I){1&T&&(C.j41(0,"div",1,0),C.nI1(2,"nzToCssUnit"),C.j41(3,"div",2),C.DNE(4,W,1,0,"button",3)(5,b,1,2,"div",4),C.j41(6,"div",5),C.DNE(7,M,0,0,"ng-template",6)(8,X,1,1,"div",7),C.k0s(),C.DNE(9,ue,1,1,"div",8),C.k0s()()),2&T&&(C.xc7("width",C.bMT(2,10,null==I.config?null:I.config.nzWidth)),C.Y8G("cdkDragDisabled",!I.config.nzDraggable)("ngClass",I.config.nzClassName)("ngStyle",I.config.nzStyle),C.R7$(4),C.vxM(4,I.config.nzClosable?4:-1),C.R7$(),C.vxM(5,I.config.nzTitle?5:-1),C.R7$(),C.Y8G("ngStyle",I.config.nzBodyStyle),C.R7$(2),C.vxM(8,I.isStringContent?8:-1),C.R7$(),C.vxM(9,null!==I.config.nzFooter?9:-1))},dependencies:[G.YU,G.B3,Gt,wn,m.jc,m.I3,At,Ye,Te,mt.T1,mt.Fb],encapsulation:2,data:{animation:[rt.modalContainer]}})}return k})();class Ge{constructor(P,D,T){this.overlayRef=P,this.config=D,this.containerInstance=T,this.componentInstance=null,this.componentRef=null,this.state=0,this.afterClose=new Ee.B,this.afterOpen=new Ee.B,this.destroy$=new Ee.B,T.animationStateChanged.pipe((0,fe.p)(I=>"done"===I.phaseName&&"enter"===I.toState),(0,F.s)(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),D.nzAfterOpen instanceof C.bkB&&D.nzAfterOpen.emit()}),T.animationStateChanged.pipe((0,fe.p)(I=>"done"===I.phaseName&&"exit"===I.toState),(0,F.s)(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),T.containerClick.pipe((0,ze.Q)(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),P.keydownEvents().pipe((0,fe.p)(I=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&I.keyCode===dt._f&&!(0,dt.rp)(I))).subscribe(I=>{I.preventDefault(),this.trigger("cancel")}),T.cancelTriggered.pipe((0,ze.Q)(this.destroy$)).subscribe(()=>this.trigger("cancel")),T.okTriggered.pipe((0,ze.Q)(this.destroy$)).subscribe(()=>this.trigger("ok")),P.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),D.nzAfterClose instanceof C.bkB&&D.nzAfterClose.emit(this.result),this.componentInstance=null,this.componentRef=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}getElement(){return this.containerInstance.getNativeElement()}destroy(P){this.close(P)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(P){0===this.state&&(this.result=P,this.containerInstance.animationStateChanged.pipe((0,fe.p)(D=>"start"===D.phaseName),(0,F.s)(1)).subscribe(D=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},D.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(P){Object.assign(this.config,P),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(P){var D=this;return(0,t.A)(function*(){if(1===D.state)return;const T={ok:D.config.nzOnOk,cancel:D.config.nzOnCancel}[P],I={ok:"nzOkLoading",cancel:"nzCancelLoading"}[P];if(!D.config[I])if(T instanceof C.bkB)T.emit(D.getContentComponent());else if("function"==typeof T){const ne=T(D.getContentComponent());if((0,J.yL)(ne)){D.config[I]=!0;let L=!1;try{L=yield ne}finally{D.config[I]=!1,D.closeWhitResult(L)}}else D.closeWhitResult(ne)}})()}closeWhitResult(P){!1!==P&&this.close(P)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}}let Fe=(()=>{class k{get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const D=this.parentModal;return D?D._afterAllClosed:this.afterAllClosedAtThisLevel}constructor(D,T,I,E,ne){this.overlay=D,this.injector=T,this.nzConfigService=I,this.parentModal=E,this.directionality=ne,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new Ee.B,this.afterAllClose=(0,Se.v)(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe((0,ie.Z)(void 0)))}create(D){return this.open(D.nzContent,D)}closeAll(){this.closeModals(this.openModals)}confirm(D={},T="confirm"){return"nzFooter"in D&&(0,he.R8)('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in D||(D.nzWidth=416),"nzMaskClosable"in D||(D.nzMaskClosable=!1),D.nzModalType="confirm",D.nzClassName=`ant-modal-confirm ant-modal-confirm-${T} ${D.nzClassName||""}`,this.create(D)}info(D={}){return this.confirmFactory(D,"info")}success(D={}){return this.confirmFactory(D,"success")}error(D={}){return this.confirmFactory(D,"error")}warning(D={}){return this.confirmFactory(D,"warning")}open(D,T){const I=function we(k,P){return{...P,...k}}(T||{},new ot),E=this.createOverlay(I),ne=this.attachModalContainer(E,I),L=this.attachModalContent(D,ne,E,I);return ne.modalRef=L,(0,me.G5)(E,T?.nzZIndex),this.openModals.push(L),L.afterClose.subscribe(()=>this.removeOpenModal(L)),L}removeOpenModal(D){const T=this.openModals.indexOf(D);T>-1&&(this.openModals.splice(T,1),this.openModals.length||this._afterAllClosed.next())}closeModals(D){let T=D.length;for(;T--;)D[T].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(D){const T=this.nzConfigService.getConfigForComponent(wt)||{},I=new f.rR({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:qe(D.nzCloseOnNavigation,T.nzCloseOnNavigation,!0),direction:qe(D.nzDirection,T.nzDirection,this.directionality.value)});return qe(D.nzMask,T.nzMask,!0)&&(I.backdropClass=Et),this.overlay.create(I)}attachModalContainer(D,T){const E=C.zZn.create({parent:T&&T.nzViewContainerRef&&T.nzViewContainerRef.injector||this.injector,providers:[{provide:f.yY,useValue:D},{provide:ot,useValue:T}]}),L=new m.A8("confirm"===T.nzModalType?Ot:kn,T.nzViewContainerRef,E);return D.attach(L).instance}attachModalContent(D,T,I,E){const ne=new Ge(I,E,T);if(D instanceof C.C4Q)T.attachTemplatePortal(new m.VA(D,null,{$implicit:E.nzData,modalRef:ne}));else if((0,J.n9)(D)&&"string"!=typeof D){const L=this.createInjector(ne,E),pe=T.attachComponentPortal(new m.A8(D,E.nzViewContainerRef,L));ne.componentRef=pe,ne.componentInstance=pe.instance}else T.attachStringContent();return ne}createInjector(D,T){return C.zZn.create({parent:T&&T.nzViewContainerRef&&T.nzViewContainerRef.injector||this.injector,providers:[{provide:Ge,useValue:D},{provide:Yt,useValue:T.nzData}]})}confirmFactory(D={},T){return"nzIconType"in D||(D.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[T]),"nzCancelText"in D||(D.nzCancelText=null),this.confirm(D,T)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}static#e=this.\u0275fac=function(T){return new(T||k)(C.KVO(f.hJ),C.KVO(C.zZn),C.KVO(We.yx),C.KVO(k,12),C.KVO(xt.dS,8))};static#t=this.\u0275prov=C.jDH({token:k,factory:k.\u0275fac})}return k})(),st=(()=>{class k{constructor(D,T){this.nzModalRef=D,this.templateRef=T,this.nzModalRef&&this.nzModalRef.updateConfig({nzTitle:this.templateRef})}static#e=this.\u0275fac=function(T){return new(T||k)(C.rXU(Ge,8),C.rXU(C.C4Q))};static#t=this.\u0275dir=C.FsC({type:k,selectors:[["","nzModalTitle",""]],exportAs:["nzModalTitle"],standalone:!0})}return k})(),j=(()=>{class k{static#e=this.\u0275fac=function(T){return new(T||k)};static#t=this.\u0275mod=C.$C({type:k});static#n=this.\u0275inj=C.G2t({providers:[Fe],imports:[Gt,At,wn,kn,Ot]})}return k})()},6504:(Lt,ct,v)=>{"use strict";v.d(ct,{K9:()=>jt,xY:()=>je});var t=v(177),f=v(4438),m=v(713),C=v(7806),Ee=v(5103),Ue=v(7094),Se=v(1413),ze=v(6977),fe=v(317),F=v(6035),ie=v(1025),he=v(6969);const me=(B,se)=>({$implicit:B,data:se}),J=B=>({$implicit:B});function G(B,se){}function ge(B,se){if(1&B&&f.DNE(0,G,0,0,"ng-template",1),2&B){const re=f.XpG();f.Y8G("ngTemplateOutlet",re.instance.template)("ngTemplateOutletContext",f.l_i(2,me,re,null==re.instance.options?null:re.instance.options.nzData))}}function Ce(B,se){1&B&&f.nrm(0,"span",9)}function De(B,se){1&B&&f.nrm(0,"span",10)}function Pe(B,se){1&B&&f.nrm(0,"span",11)}function He(B,se){1&B&&f.nrm(0,"span",12)}function ae(B,se){if(1&B&&(f.qex(0),f.nrm(1,"div",13),f.bVm()),2&B){const re=f.XpG(2);f.R7$(),f.Y8G("innerHTML",re.instance.title,f.npT)}}function Te(B,se){if(1&B&&(f.qex(0),f.nrm(1,"div",13),f.bVm()),2&B){const re=f.XpG(2);f.R7$(),f.Y8G("innerHTML",re.instance.content,f.npT)}}function Y(B,se){}function be(B,se){if(1&B&&(f.j41(0,"span",8),f.DNE(1,Y,0,0,"ng-template",1),f.k0s()),2&B){const re=f.XpG(2);f.R7$(),f.Y8G("ngTemplateOutlet",se)("ngTemplateOutletContext",f.eq3(2,J,re))}}function oe(B,se){if(1&B&&(f.j41(0,"div",4)(1,"div",4)(2,"div"),f.DNE(3,Ce,1,0)(4,De,1,0)(5,Pe,1,0)(6,He,1,0),f.j41(7,"div",5),f.DNE(8,ae,2,1,"ng-container",6),f.k0s(),f.j41(9,"div",7),f.DNE(10,Te,2,1,"ng-container",6),f.k0s(),f.DNE(11,be,2,4,"span",8),f.k0s()()()),2&B){let re,Be;const Ke=f.XpG();f.R7$(2),f.AVh("ant-notification-notice-with-icon","blank"!==Ke.instance.type),f.R7$(),f.vxM(3,"success"===(re=Ke.instance.type)?3:"info"===re?4:"warning"===re?5:"error"===re?6:-1),f.R7$(5),f.Y8G("nzStringTemplateOutlet",Ke.instance.title),f.R7$(2),f.Y8G("nzStringTemplateOutlet",Ke.instance.content),f.R7$(),f.vxM(11,(Be=null==Ke.instance.options?null:Ke.instance.options.nzButton)?11:-1,Be)}}function nt(B,se){if(1&B&&(f.qex(0),f.nrm(1,"span",14),f.bVm()),2&B){const re=se.$implicit;f.R7$(),f.Y8G("nzType",re)}}function ke(B,se){if(1&B&&f.DNE(0,nt,2,1,"ng-container",6),2&B){const re=f.XpG();f.Y8G("nzStringTemplateOutlet",null==re.instance.options?null:re.instance.options.nzCloseIcon)}}function Ye(B,se){1&B&&f.nrm(0,"span",15)}function et(B,se){if(1&B){const re=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(Ke){f.eBV(re);const vt=f.XpG();return f.Njj(vt.remove(Ke.id,Ke.userAction))}),f.k0s()}2&B&&f.Y8G("instance",se.$implicit)("placement","topLeft")}function Le(B,se){if(1&B){const re=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(Ke){f.eBV(re);const vt=f.XpG();return f.Njj(vt.remove(Ke.id,Ke.userAction))}),f.k0s()}2&B&&f.Y8G("instance",se.$implicit)("placement","topRight")}function Je(B,se){if(1&B){const re=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(Ke){f.eBV(re);const vt=f.XpG();return f.Njj(vt.remove(Ke.id,Ke.userAction))}),f.k0s()}2&B&&f.Y8G("instance",se.$implicit)("placement","bottomLeft")}function We(B,se){if(1&B){const re=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(Ke){f.eBV(re);const vt=f.XpG();return f.Njj(vt.remove(Ke.id,Ke.userAction))}),f.k0s()}2&B&&f.Y8G("instance",se.$implicit)("placement","bottomRight")}function pt(B,se){if(1&B){const re=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(Ke){f.eBV(re);const vt=f.XpG();return f.Njj(vt.remove(Ke.id,Ke.userAction))}),f.k0s()}2&B&&f.Y8G("instance",se.$implicit)("placement","top")}function tt(B,se){if(1&B){const re=f.RV6();f.j41(0,"nz-notification",7),f.bIt("destroyed",function(Ke){f.eBV(re);const vt=f.XpG();return f.Njj(vt.remove(Ke.id,Ke.userAction))}),f.k0s()}2&B&&f.Y8G("instance",se.$implicit)("placement","bottom")}let $e=(()=>{class B extends Ue.nF{constructor(re){super(re),this.destroyed=new f.bkB}ngOnDestroy(){super.ngOnDestroy(),this.instance.onClick.complete()}onClick(re){this.instance.onClick.next(re)}close(){this.destroy(!0)}get state(){if("enter"!==this.instance.state)return this.instance.state;switch(this.placement){case"topLeft":case"bottomLeft":return"enterLeft";case"topRight":case"bottomRight":default:return"enterRight";case"top":return"enterTop";case"bottom":return"enterBottom"}}static#e=this.\u0275fac=function(Be){return new(Be||B)(f.rXU(f.gRc))};static#t=this.\u0275cmp=f.VBU({type:B,selectors:[["nz-notification"]],inputs:{instance:"instance",index:"index",placement:"placement"},outputs:{destroyed:"destroyed"},exportAs:["nzNotification"],standalone:!0,features:[f.Vt3,f.aNF],decls:7,vars:5,consts:[[1,"ant-notification-notice","ant-notification-notice-closable",3,"click","mouseenter","mouseleave","ngStyle","ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"ant-notification-notice-close",3,"click"],[1,"ant-notification-notice-close-x"],[1,"ant-notification-notice-content"],[1,"ant-notification-notice-message"],[4,"nzStringTemplateOutlet"],[1,"ant-notification-notice-description"],[1,"ant-notification-notice-btn"],["nz-icon","","nzType","check-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-success"],["nz-icon","","nzType","info-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-info"],["nz-icon","","nzType","exclamation-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-warning"],["nz-icon","","nzType","close-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-error"],[3,"innerHTML"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","close",1,"ant-notification-close-icon"]],template:function(Be,Ke){1&Be&&(f.j41(0,"div",0),f.bIt("@notificationMotion.done",function(Nt){return Ke.animationStateChanged.next(Nt)})("click",function(Nt){return Ke.onClick(Nt)})("mouseenter",function(){return Ke.onEnter()})("mouseleave",function(){return Ke.onLeave()}),f.DNE(1,ge,1,5,null,1)(2,oe,12,6),f.j41(3,"a",2),f.bIt("click",function(){return Ke.close()}),f.j41(4,"span",3),f.DNE(5,ke,1,1,"ng-container")(6,Ye,1,0),f.k0s()()()),2&Be&&(f.Y8G("ngStyle",(null==Ke.instance.options?null:Ke.instance.options.nzStyle)||null)("ngClass",(null==Ke.instance.options?null:Ke.instance.options.nzClass)||"")("@notificationMotion",Ke.state),f.R7$(),f.vxM(1,Ke.instance.template?1:2),f.R7$(4),f.vxM(5,null!=Ke.instance.options&&Ke.instance.options.nzCloseIcon?5:6))},dependencies:[t.B3,t.YU,Ee.Y3,Ee.Dn,C.C,C.m,t.T3],encapsulation:2,data:{animation:[m.AJ]}})}return B})();const mt="notification",dt={nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:8,nzPauseOnHover:!0,nzAnimate:!0,nzDirection:"ltr"};let xt=(()=>{class B extends Ue.op{constructor(re,Be){super(re,Be),this.dir="ltr",this.instances=[],this.topLeftInstances=[],this.topRightInstances=[],this.bottomLeftInstances=[],this.bottomRightInstances=[],this.topInstances=[],this.bottomInstances=[];const Ke=this.nzConfigService.getConfigForComponent(mt);this.dir=Ke?.nzDirection||"ltr"}create(re){const Be=this.onCreate(re),Ke=Be.options.nzKey,vt=this.instances.find(Nt=>Nt.options.nzKey===re.options.nzKey);return Ke&&vt?this.replaceNotification(vt,Be):(this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,Be]),this.readyInstances(),Be}onCreate(re){return re.options=this.mergeOptions(re.options),re.onClose=new Se.B,re.onClick=new Se.B,re}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(mt).pipe((0,ze.Q)(this.destroy$)).subscribe(()=>{this.updateConfig();const re=this.nzConfigService.getConfigForComponent(mt);if(re){const{nzDirection:Be}=re;this.dir=Be||this.dir}})}updateConfig(){this.config={...dt,...this.config,...this.nzConfigService.getConfigForComponent(mt)},this.top=(0,fe.j3)(this.config.nzTop),this.bottom=(0,fe.j3)(this.config.nzBottom),this.cdr.markForCheck()}replaceNotification(re,Be){re.title=Be.title,re.content=Be.content,re.template=Be.template,re.type=Be.type,re.options=Be.options}readyInstances(){const re={topLeft:[],topRight:[],bottomLeft:[],bottomRight:[],top:[],bottom:[]};this.instances.forEach(Be=>{switch(Be.options.nzPlacement){case"topLeft":re.topLeft.unshift(Be);break;case"topRight":default:re.topRight.unshift(Be);break;case"bottomLeft":re.bottomLeft.unshift(Be);break;case"bottomRight":re.bottomRight.unshift(Be);break;case"top":re.top.unshift(Be);break;case"bottom":re.bottom.unshift(Be)}}),this.topLeftInstances=re.topLeft,this.topRightInstances=re.topRight,this.bottomLeftInstances=re.bottomLeft,this.bottomRightInstances=re.bottomRight,this.topInstances=re.top,this.bottomInstances=re.bottom,this.cdr.detectChanges()}mergeOptions(re){const{nzDuration:Be,nzAnimate:Ke,nzPauseOnHover:vt,nzPlacement:Nt}=this.config;return{nzDuration:Be,nzAnimate:Ke,nzPauseOnHover:vt,nzPlacement:Nt,...re}}static#e=this.\u0275fac=function(Be){return new(Be||B)(f.rXU(f.gRc),f.rXU(F.yx))};static#t=this.\u0275cmp=f.VBU({type:B,selectors:[["nz-notification-container"]],exportAs:["nzNotificationContainer"],standalone:!0,features:[f.Vt3,f.aNF],decls:18,vars:40,consts:[[1,"ant-notification","ant-notification-topLeft"],[3,"instance","placement"],[1,"ant-notification","ant-notification-topRight"],[1,"ant-notification","ant-notification-bottomLeft"],[1,"ant-notification","ant-notification-bottomRight"],[1,"ant-notification","ant-notification-top"],[1,"ant-notification","ant-notification-bottom"],[3,"destroyed","instance","placement"]],template:function(Be,Ke){1&Be&&(f.j41(0,"div",0),f.Z7z(1,et,1,2,"nz-notification",1,f.fX1),f.k0s(),f.j41(3,"div",2),f.Z7z(4,Le,1,2,"nz-notification",1,f.fX1),f.k0s(),f.j41(6,"div",3),f.Z7z(7,Je,1,2,"nz-notification",1,f.fX1),f.k0s(),f.j41(9,"div",4),f.Z7z(10,We,1,2,"nz-notification",1,f.fX1),f.k0s(),f.j41(12,"div",5),f.Z7z(13,pt,1,2,"nz-notification",1,f.fX1),f.k0s(),f.j41(15,"div",6),f.Z7z(16,tt,1,2,"nz-notification",1,f.fX1),f.k0s()),2&Be&&(f.xc7("top",Ke.top)("left","0px"),f.AVh("ant-notification-rtl","rtl"===Ke.dir),f.R7$(),f.Dyx(Ke.topLeftInstances),f.R7$(2),f.xc7("top",Ke.top)("right","0px"),f.AVh("ant-notification-rtl","rtl"===Ke.dir),f.R7$(),f.Dyx(Ke.topRightInstances),f.R7$(2),f.xc7("bottom",Ke.bottom)("left","0px"),f.AVh("ant-notification-rtl","rtl"===Ke.dir),f.R7$(),f.Dyx(Ke.bottomLeftInstances),f.R7$(2),f.xc7("bottom",Ke.bottom)("right","0px"),f.AVh("ant-notification-rtl","rtl"===Ke.dir),f.R7$(),f.Dyx(Ke.bottomRightInstances),f.R7$(2),f.xc7("top",Ke.top)("left","50%")("transform","translateX(-50%)"),f.AVh("ant-notification-rtl","rtl"===Ke.dir),f.R7$(),f.Dyx(Ke.topInstances),f.R7$(2),f.xc7("bottom",Ke.bottom)("left","50%")("transform","translateX(-50%)"),f.AVh("ant-notification-rtl","rtl"===Ke.dir),f.R7$(),f.Dyx(Ke.bottomInstances))},dependencies:[$e],encapsulation:2,changeDetection:0})}return B})(),jt=(()=>{class B{static#e=this.\u0275fac=function(Be){return new(Be||B)};static#t=this.\u0275mod=f.$C({type:B});static#n=this.\u0275inj=f.G2t({imports:[$e,xt]})}return B})(),Me=0,je=(()=>{class B extends Ue.Pz{constructor(re,Be,Ke){super(re,Be,Ke),this.componentPrefix="notification-"}success(re,Be,Ke){return this.create("success",re,Be,Ke)}error(re,Be,Ke){return this.create("error",re,Be,Ke)}info(re,Be,Ke){return this.create("info",re,Be,Ke)}warning(re,Be,Ke){return this.create("warning",re,Be,Ke)}blank(re,Be,Ke){return this.create("blank",re,Be,Ke)}create(re,Be,Ke,vt){return this.createInstance({type:re,title:Be,content:Ke},vt)}template(re,Be){return this.createInstance({template:re},Be)}generateMessageId(){return`${this.componentPrefix}-${Me++}`}createInstance(re,Be){return this.container=this.withContainer(xt),this.container.create({...re,createdAt:new Date,messageId:Be?.nzKey||this.generateMessageId(),options:Be})}static#e=this.\u0275fac=function(Be){return new(Be||B)(f.KVO(ie.HL),f.KVO(he.hJ),f.KVO(f.zZn))};static#t=this.\u0275prov=f.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},7064:(Lt,ct,v)=>{"use strict";v.d(ct,{V:()=>xt,m:()=>jt});var t=v(4438),f=v(1635),m=v(177),C=v(1413),Ee=v(6977),Ue=v(6035),Se=v(7806),ze=v(317),fe=v(5103),F=v(8203);const ie=Me=>({$implicit:Me});function he(Me,je){if(1&Me&&t.nrm(0,"span",4),2&Me){const q=t.XpG(3);t.Y8G("nzType",q.icon)}}function me(Me,je){if(1&Me&&(t.qex(0),t.EFF(1),t.bVm()),2&Me){const q=je.$implicit,B=t.XpG(4);t.R7$(),t.SpI(" ",q(B.nzPercent)," ")}}function J(Me,je){if(1&Me&&t.DNE(0,me,2,1,"ng-container",5),2&Me){const q=t.XpG(3);t.Y8G("nzStringTemplateOutlet",q.formatter)("nzStringTemplateOutletContext",t.eq3(2,ie,q.nzPercent))}}function G(Me,je){if(1&Me&&(t.j41(0,"span",3),t.DNE(1,he,1,1,"span",4)(2,J,1,4),t.k0s()),2&Me){const q=t.XpG(2);t.R7$(),t.vxM(1,"exception"!==q.status&&"success"!==q.status||q.nzFormat?2:1)}}function ge(Me,je){if(1&Me&&t.DNE(0,G,3,1,"span",3),2&Me){const q=t.XpG();t.vxM(0,q.nzShowInfo?0:-1)}}function Ce(Me,je){1&Me&&t.nrm(0,"div",7),2&Me&&t.Y8G("ngStyle",je.$implicit)}function De(Me,je){}function Pe(Me,je){if(1&Me&&(t.j41(0,"div",6),t.Z7z(1,Ce,1,1,"div",7,t.fX1),t.DNE(3,De,0,0,"ng-template",8),t.k0s()),2&Me){const q=t.XpG(2),B=t.sdS(1);t.R7$(),t.Dyx(q.steps),t.R7$(2),t.Y8G("ngTemplateOutlet",B)}}function He(Me,je){if(1&Me&&t.nrm(0,"div",13),2&Me){const q=t.XpG(3);t.xc7("width",q.nzSuccessPercent,"%")("border-radius","round"===q.nzStrokeLinecap?"100px":"0")("height",q.strokeWidth,"px")}}function ae(Me,je){}function Te(Me,je){if(1&Me&&(t.j41(0,"div",9)(1,"div",10),t.nrm(2,"div",11),t.DNE(3,He,1,6,"div",12),t.k0s()(),t.DNE(4,ae,0,0,"ng-template",8)),2&Me){const q=t.XpG(2),B=t.sdS(1);t.R7$(2),t.xc7("width",q.nzPercent,"%")("border-radius","round"===q.nzStrokeLinecap?"100px":"0")("background",q.isGradient?null:q.nzStrokeColor)("background-image",q.isGradient?q.lineGradient:null)("height",q.strokeWidth,"px"),t.R7$(),t.vxM(3,q.nzSuccessPercent||0===q.nzSuccessPercent?3:-1),t.R7$(),t.Y8G("ngTemplateOutlet",B)}}function Y(Me,je){if(1&Me&&(t.j41(0,"div"),t.DNE(1,Pe,4,1,"div",6)(2,Te,5,12),t.k0s()),2&Me){const q=t.XpG();t.R7$(),t.vxM(1,q.isSteps?1:2)}}function be(Me,je){if(1&Me&&(t.qSk(),t.nrm(0,"stop")),2&Me){const q=je.$implicit;t.BMQ("offset",q.offset)("stop-color",q.color)}}function oe(Me,je){if(1&Me&&(t.qSk(),t.j41(0,"defs")(1,"linearGradient",17),t.Z7z(2,be,1,2,":svg:stop",null,t.fX1),t.k0s()()),2&Me){const q=t.XpG(2);t.R7$(),t.Y8G("id","gradient-"+q.gradientId),t.R7$(),t.Dyx(q.circleGradient)}}function nt(Me,je){if(1&Me&&(t.qSk(),t.nrm(0,"path",16)),2&Me){const q=je.$implicit,B=t.XpG(2);t.Y8G("ngStyle",q.strokePathStyle),t.BMQ("d",B.pathString)("stroke-linecap",B.nzStrokeLinecap)("stroke",q.stroke)("stroke-width",B.nzPercent?B.strokeWidth:0)}}function ke(Me,je){}function Ye(Me,je){if(1&Me&&(t.j41(0,"div",10),t.qSk(),t.j41(1,"svg",14),t.DNE(2,oe,4,1,":svg:defs"),t.nrm(3,"path",15),t.Z7z(4,nt,1,5,":svg:path",16,t.fX1),t.k0s(),t.DNE(6,ke,0,0,"ng-template",8),t.k0s()),2&Me){const q=t.XpG(),B=t.sdS(1);t.xc7("width",q.nzWidth,"px")("height",q.nzWidth,"px")("font-size",.15*q.nzWidth+6,"px"),t.AVh("ant-progress-circle-gradient",q.isGradient),t.R7$(2),t.vxM(2,q.isGradient?2:-1),t.R7$(),t.Y8G("ngStyle",q.trailPathStyle),t.BMQ("stroke-width",q.strokeWidth)("d",q.pathString),t.R7$(),t.Dyx(q.progressCirclePath),t.R7$(2),t.Y8G("ngTemplateOutlet",B)}}const Le=Me=>{let je=[];return Object.keys(Me).forEach(q=>{const B=Me[q],se=function et(Me){return+Me.replace("%","")}(q);isNaN(se)||je.push({key:se,value:B})}),je=je.sort((q,B)=>q.key-B.key),je};let pt=0;const tt="progress",$e=new Map([["success","check"],["exception","close"]]),mt=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),dt=Me=>`${Me}%`;let xt=(()=>{class Me{get formatter(){return this.nzFormat||dt}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}get isCircleStyle(){return"circle"===this.nzType||"dashboard"===this.nzType}constructor(q,B,se){this.cdr=q,this.nzConfigService=B,this.directionality=se,this._nzModuleName=tt,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=pt++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new C.B}ngOnChanges(q){const{nzSteps:B,nzGapPosition:se,nzStrokeLinecap:re,nzStrokeColor:Be,nzGapDegree:Ke,nzType:vt,nzStatus:Nt,nzPercent:Xt,nzSuccessPercent:Zt,nzStrokeWidth:Wt}=q;Nt&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(Xt||Zt)&&(parseInt(this.nzPercent.toString(),10)>=100?((0,ze.n9)(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(Nt||Xt||Zt||Be)&&this.updateIcon(),Be&&this.setStrokeColor(),(se||re||Ke||vt||Xt||Be||Be)&&this.getCirclePaths(),(Xt||B||Wt)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(tt).pipe((0,Ee.Q)(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe((0,Ee.Q)(this.destroy$)).subscribe(q=>{this.dir=q,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){const q=$e.get(this.status);this.icon=q?q+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){const q=Math.floor(this.nzSteps*(this.nzPercent/100)),B="small"===this.nzSize?2:14,se=[];for(let re=0;re<this.nzSteps;re++){let Be;re<=q-1&&(Be=this.nzStrokeColor),se.push({backgroundColor:`${Be}`,width:`${B}px`,height:`${this.strokeWidth}px`})}this.steps=se}getCirclePaths(){if(!this.isCircleStyle)return;const q=(0,ze.n9)(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],B=50-this.strokeWidth/2,re=2*Math.PI*B,Be=this.nzGapDegree||("circle"===this.nzType?0:75);let Ke=0,vt=-B,Nt=0,Xt=-2*B;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":Ke=-B,vt=0,Nt=2*B,Xt=0;break;case"right":Ke=B,vt=0,Nt=-2*B,Xt=0;break;case"bottom":vt=B,Xt=2*B}this.pathString=`M 50,50 m ${Ke},${vt}\n       a ${B},${B} 0 1 1 ${Nt},${-Xt}\n       a ${B},${B} 0 1 1 ${-Nt},${Xt}`,this.trailPathStyle={strokeDasharray:`${re-Be}px ${re}px`,strokeDashoffset:`-${Be/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=q.map((Zt,Wt)=>{const lt=2===q.length&&0===Wt;return{stroke:this.isGradient&&!lt?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:lt?mt.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(Zt||0)/100*(re-Be)}px ${re}px`,strokeDashoffset:`-${Be/2}px`}}}).reverse()}setStrokeColor(){const q=this.nzStrokeColor,B=this.isGradient=!!q&&"string"!=typeof q;B&&!this.isCircleStyle?this.lineGradient=(Me=>{const{from:je="#1890ff",to:q="#1890ff",direction:B="to right",...se}=Me;return 0!==Object.keys(se).length?`linear-gradient(${B}, ${Le(se).map(({key:Be,value:Ke})=>`${Ke} ${Be}%`).join(", ")})`:`linear-gradient(${B}, ${je}, ${q})`})(q):B&&this.isCircleStyle?this.circleGradient=(Me=>Le(this.nzStrokeColor).map(({key:je,value:q})=>({offset:`${je}%`,color:q})))():(this.lineGradient=null,this.circleGradient=[])}static#e=this.\u0275fac=function(B){return new(B||Me)(t.rXU(t.gRc),t.rXU(Ue.yx),t.rXU(F.dS,8))};static#t=this.\u0275cmp=t.VBU({type:Me,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps"},exportAs:["nzProgress"],standalone:!0,features:[t.OA$,t.aNF],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"ngStyle"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"]],template:function(B,se){1&B&&(t.DNE(0,ge,1,1,"ng-template",null,0,t.C5r),t.j41(2,"div",1),t.DNE(3,Y,3,1,"div")(4,Ye,7,13,"div",2),t.k0s()),2&B&&(t.R7$(2),t.AVh("ant-progress-line","line"===se.nzType)("ant-progress-small","small"===se.nzSize)("ant-progress-default","default"===se.nzSize)("ant-progress-show-info",se.nzShowInfo)("ant-progress-circle",se.isCircleStyle)("ant-progress-steps",se.isSteps)("ant-progress-rtl","rtl"===se.dir),t.Y8G("ngClass","ant-progress ant-progress-status-"+se.status),t.R7$(),t.vxM(3,"line"===se.nzType?3:-1),t.R7$(),t.vxM(4,se.isCircleStyle?4:-1))},dependencies:[fe.Y3,fe.Dn,Se.C,Se.m,m.YU,m.T3,m.B3],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Ue.H4)()],Me.prototype,"nzShowInfo",void 0),(0,f.Cg)([(0,Ue.H4)()],Me.prototype,"nzStrokeColor",void 0),(0,f.Cg)([(0,Ue.H4)()],Me.prototype,"nzSize",void 0),(0,f.Cg)([(0,ze.YI)()],Me.prototype,"nzSuccessPercent",void 0),(0,f.Cg)([(0,ze.YI)()],Me.prototype,"nzPercent",void 0),(0,f.Cg)([(0,Ue.H4)(),(0,ze.YI)()],Me.prototype,"nzStrokeWidth",void 0),(0,f.Cg)([(0,Ue.H4)(),(0,ze.YI)()],Me.prototype,"nzGapDegree",void 0),(0,f.Cg)([(0,Ue.H4)()],Me.prototype,"nzGapPosition",void 0),(0,f.Cg)([(0,Ue.H4)()],Me.prototype,"nzStrokeLinecap",void 0),(0,f.Cg)([(0,ze.YI)()],Me.prototype,"nzSteps",void 0),Me})(),jt=(()=>{class Me{static#e=this.\u0275fac=function(B){return new(B||Me)};static#t=this.\u0275mod=t.$C({type:Me});static#n=this.\u0275inj=t.G2t({imports:[xt]})}return Me})()},3190:(Lt,ct,v)=>{"use strict";v.d(ct,{Sw:()=>De,i3:()=>ge,lx:()=>Ce});var t=v(1635),f=v(4438),m=v(4341),C=v(2771),Ee=v(1413),Ue=v(3726),Se=v(6977),ze=v(317),fe=v(8203),F=v(851),ie=v(7891);const he=["*"],me=["inputElement"],J=["nz-radio",""];let G=(()=>{class Pe{constructor(){this.selected$=new C.m(1),this.touched$=new Ee.B,this.disabled$=new C.m(1),this.name$=new C.m(1)}touch(){this.touched$.next()}select(ae){this.selected$.next(ae)}setDisabled(ae){this.disabled$.next(ae)}setName(ae){this.name$.next(ae)}static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275prov=f.jDH({token:Pe,factory:Pe.\u0275fac})}return Pe})(),ge=(()=>{class Pe{constructor(ae,Te,Y){this.cdr=ae,this.nzRadioService=Te,this.directionality=Y,this.value=null,this.destroy$=new Ee.B,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzDisabled=!1,this.nzButtonStyle="outline",this.nzSize="default",this.nzName=null,this.dir="ltr"}ngOnInit(){this.nzRadioService.selected$.pipe((0,Se.Q)(this.destroy$)).subscribe(ae=>{this.value!==ae&&(this.value=ae,this.onChange(this.value))}),this.nzRadioService.touched$.pipe((0,Se.Q)(this.destroy$)).subscribe(()=>{Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe((0,Se.Q)(this.destroy$)).subscribe(ae=>{this.dir=ae,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(ae){const{nzDisabled:Te,nzName:Y}=ae;Te&&this.nzRadioService.setDisabled(this.nzDisabled),Y&&this.nzRadioService.setName(this.nzName)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}writeValue(ae){this.value=ae,this.nzRadioService.select(ae),this.cdr.markForCheck()}registerOnChange(ae){this.onChange=ae}registerOnTouched(ae){this.onTouched=ae}setDisabledState(ae){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||ae,this.isNzDisableFirstChange=!1,this.nzRadioService.setDisabled(this.nzDisabled),this.cdr.markForCheck()}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(f.rXU(f.gRc),f.rXU(G),f.rXU(fe.dS,8))};static#t=this.\u0275cmp=f.VBU({type:Pe,selectors:[["nz-radio-group"]],hostAttrs:[1,"ant-radio-group"],hostVars:8,hostBindings:function(Te,Y){2&Te&&f.AVh("ant-radio-group-large","large"===Y.nzSize)("ant-radio-group-small","small"===Y.nzSize)("ant-radio-group-solid","solid"===Y.nzButtonStyle)("ant-radio-group-rtl","rtl"===Y.dir)},inputs:{nzDisabled:"nzDisabled",nzButtonStyle:"nzButtonStyle",nzSize:"nzSize",nzName:"nzName"},exportAs:["nzRadioGroup"],standalone:!0,features:[f.Jv_([G,{provide:m.kq,useExisting:(0,f.Rfq)(()=>Pe),multi:!0}]),f.OA$,f.aNF],ngContentSelectors:he,decls:1,vars:0,template:function(Te,Y){1&Te&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,ze.H3)()],Pe.prototype,"nzDisabled",void 0),Pe})(),Ce=(()=>{class Pe{focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(ae,Te,Y,be,oe,nt,ke){this.ngZone=ae,this.elementRef=Te,this.cdr=Y,this.focusMonitor=be,this.directionality=oe,this.nzRadioService=nt,this.nzFormStatusService=ke,this.isNgModel=!1,this.destroy$=new Ee.B,this.isNzDisableFirstChange=!0,this.isChecked=!1,this.name=null,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.isRadioButton=!1,this.dir="ltr"}setDisabledState(ae){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||ae,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}writeValue(ae){this.isChecked=ae,this.cdr.markForCheck()}registerOnChange(ae){this.isNgModel=!0,this.onChange=ae}registerOnTouched(ae){this.onTouched=ae}ngOnInit(){this.nzRadioService&&(this.nzRadioService.name$.pipe((0,Se.Q)(this.destroy$)).subscribe(ae=>{this.name=ae,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe((0,Se.Q)(this.destroy$)).subscribe(ae=>{this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||ae,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe((0,Se.Q)(this.destroy$)).subscribe(ae=>{const Te=this.isChecked;this.isChecked=this.nzValue===ae,this.isNgModel&&Te!==this.isChecked&&!1===this.isChecked&&this.onChange(!1),this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,Se.Q)(this.destroy$)).subscribe(ae=>{ae||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),this.directionality.change.pipe((0,Se.Q)(this.destroy$)).subscribe(ae=>{this.dir=ae,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setupClickListener()}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setupClickListener(){this.ngZone.runOutsideAngular(()=>{(0,Ue.R)(this.elementRef.nativeElement,"click").pipe((0,Se.Q)(this.destroy$)).subscribe(ae=>{ae.stopPropagation(),ae.preventDefault(),!this.nzDisabled&&!this.isChecked&&this.ngZone.run(()=>{this.focus(),this.nzRadioService?.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)),this.cdr.markForCheck()})})})}static#e=this.\u0275fac=function(Te){return new(Te||Pe)(f.rXU(f.SKi),f.rXU(f.aKT),f.rXU(f.gRc),f.rXU(F.FN),f.rXU(fe.dS,8),f.rXU(G,8),f.rXU(ie.is,8))};static#t=this.\u0275cmp=f.VBU({type:Pe,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(Te,Y){if(1&Te&&f.GBs(me,7),2&Te){let be;f.mGM(be=f.lsd())&&(Y.inputElement=be.first)}},hostVars:18,hostBindings:function(Te,Y){2&Te&&f.AVh("ant-radio-wrapper-in-form-item",!!Y.nzFormStatusService)("ant-radio-wrapper",!Y.isRadioButton)("ant-radio-button-wrapper",Y.isRadioButton)("ant-radio-wrapper-checked",Y.isChecked&&!Y.isRadioButton)("ant-radio-button-wrapper-checked",Y.isChecked&&Y.isRadioButton)("ant-radio-wrapper-disabled",Y.nzDisabled&&!Y.isRadioButton)("ant-radio-button-wrapper-disabled",Y.nzDisabled&&Y.isRadioButton)("ant-radio-wrapper-rtl",!Y.isRadioButton&&"rtl"===Y.dir)("ant-radio-button-wrapper-rtl",Y.isRadioButton&&"rtl"===Y.dir)},inputs:{nzValue:"nzValue",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",isRadioButton:[f.Mj6.HasDecoratorInputTransform,"nz-radio-button","isRadioButton",f.L39]},exportAs:["nzRadio"],standalone:!0,features:[f.Jv_([{provide:m.kq,useExisting:(0,f.Rfq)(()=>Pe),multi:!0}]),f.GFd,f.aNF],attrs:J,ngContentSelectors:he,decls:6,vars:24,consts:[["inputElement",""],["type","radio",3,"disabled","checked"]],template:function(Te,Y){1&Te&&(f.NAR(),f.j41(0,"span"),f.nrm(1,"input",1,0)(3,"span"),f.k0s(),f.j41(4,"span"),f.SdG(5),f.k0s()),2&Te&&(f.AVh("ant-radio",!Y.isRadioButton)("ant-radio-checked",Y.isChecked&&!Y.isRadioButton)("ant-radio-disabled",Y.nzDisabled&&!Y.isRadioButton)("ant-radio-button",Y.isRadioButton)("ant-radio-button-checked",Y.isChecked&&Y.isRadioButton)("ant-radio-button-disabled",Y.nzDisabled&&Y.isRadioButton),f.R7$(),f.AVh("ant-radio-input",!Y.isRadioButton)("ant-radio-button-input",Y.isRadioButton),f.Y8G("disabled",Y.nzDisabled)("checked",Y.isChecked),f.BMQ("autofocus",Y.nzAutoFocus?"autofocus":null)("name",Y.name),f.R7$(2),f.AVh("ant-radio-inner",!Y.isRadioButton)("ant-radio-button-inner",Y.isRadioButton))},encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,ze.H3)()],Pe.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,ze.H3)()],Pe.prototype,"nzAutoFocus",void 0),Pe})(),De=(()=>{class Pe{static#e=this.\u0275fac=function(Te){return new(Te||Pe)};static#t=this.\u0275mod=f.$C({type:Pe});static#n=this.\u0275inj=f.G2t({})}return Pe})()},1997:(Lt,ct,v)=>{"use strict";v.d(ct,{$$:()=>ce,DH:()=>k,Tb:()=>Fe,WI:()=>R,e6:()=>xe,jF:()=>kn,ld:()=>wn,vB:()=>Ge});var t=v(4438),f=v(1413),m=v(3726),C=v(4412),Ee=v(7673),Ue=v(4572),Se=v(7786),ze=v(6969),fe=v(494),F=v(177),ie=v(5463),he=v(1672),me=v(7806),J=v(6977),G=v(9172),ge=v(3294),Ce=v(3993),De=v(6354),Pe=v(5558),He=v(1025),ae=v(5103),Te=v(1635),Y=v(317),be=v(7336),oe=v(4341),nt=v(713),ke=v(6035),Ye=v(7891),et=v(6841),Le=v(4500),Je=v(851),We=v(6860),pt=v(8203);const tt=["*"];function $e(P,D){if(1&P&&(t.qex(0),t.EFF(1),t.bVm()),2&P){const T=t.XpG();t.R7$(),t.JRh(T.nzLabel)}}function mt(P,D){}function dt(P,D){if(1&P&&t.DNE(0,mt,0,0,"ng-template",4),2&P){const T=t.XpG();t.Y8G("ngTemplateOutlet",T.template)}}function xt(P,D){if(1&P&&t.EFF(0),2&P){const T=t.XpG();t.JRh(T.label)}}function jt(P,D){1&P&&t.nrm(0,"span",7)}function Me(P,D){if(1&P&&(t.j41(0,"div",5),t.DNE(1,jt,1,0,"span",6),t.k0s()),2&P){const T=t.XpG();t.R7$(),t.Y8G("ngIf",!T.icon)("ngIfElse",T.icon)}}function je(P,D){if(1&P&&(t.j41(0,"div",4),t.nrm(1,"nz-embed-empty",5),t.k0s()),2&P){const T=t.XpG();t.R7$(),t.Y8G("specificContent",T.notFoundContent)}}function q(P,D){if(1&P&&t.nrm(0,"nz-option-item-group",9),2&P){const T=t.XpG().$implicit;t.Y8G("nzLabel",T.groupLabel)}}function B(P,D){if(1&P){const T=t.RV6();t.j41(0,"nz-option-item",10),t.bIt("itemHover",function(E){t.eBV(T);const ne=t.XpG(2);return t.Njj(ne.onItemHover(E))})("itemClick",function(E){t.eBV(T);const ne=t.XpG(2);return t.Njj(ne.onItemClick(E))}),t.k0s()}if(2&P){const T=t.XpG().$implicit,I=t.XpG();t.Y8G("icon",I.menuItemSelectedIcon)("customContent",T.nzCustomContent)("template",T.template)("grouped",!!T.groupLabel)("disabled",T.nzDisabled||I.isMaxLimitReached&&!I.listOfSelectedValue.includes(T.nzValue))("showState","tags"===I.mode||"multiple"===I.mode)("title",T.nzTitle)("label",T.nzLabel)("compareWith",I.compareWith)("activatedValue",I.activatedValue)("listOfSelectedValue",I.listOfSelectedValue)("value",T.nzValue)}}function se(P,D){1&P&&(t.qex(0,6),t.DNE(1,q,1,1,"nz-option-item-group",7)(2,B,1,12,"nz-option-item",8),t.bVm()),2&P&&(t.Y8G("ngSwitch",D.$implicit.type),t.R7$(),t.Y8G("ngSwitchCase","group"),t.R7$(),t.Y8G("ngSwitchCase","item"))}function re(P,D){}function Be(P,D){1&P&&t.SdG(0)}function Ke(P,D){if(1&P&&(t.qex(0),t.j41(1,"span"),t.EFF(2),t.k0s(),t.bVm()),2&P){const T=t.XpG();t.R7$(2),t.Lme("",T.listOfValue.length," / ",T.nzMaxMultipleCount,"")}}function vt(P,D){1&P&&t.nrm(0,"span",5)}function Nt(P,D){1&P&&t.nrm(0,"span",9)}function Xt(P,D){1&P&&t.nrm(0,"span",10)}function Zt(P,D){if(1&P&&(t.qex(0),t.DNE(1,Nt,1,0,"span",7)(2,Xt,1,0,"span",8),t.bVm()),2&P){const T=t.XpG(2);t.R7$(),t.Y8G("ngIf",!T.search),t.R7$(),t.Y8G("ngIf",T.search)}}function Wt(P,D){if(1&P&&t.nrm(0,"span",12),2&P){const T=t.XpG().$implicit;t.Y8G("nzType",T)}}function lt(P,D){if(1&P&&(t.qex(0),t.DNE(1,Wt,1,1,"span",11),t.bVm()),2&P){const T=D.$implicit;t.R7$(),t.Y8G("ngIf",T)}}function Ft(P,D){if(1&P&&t.DNE(0,lt,2,1,"ng-container",4),2&P){const T=t.XpG(2);t.Y8G("nzStringTemplateOutlet",T.suffixIcon)}}function _e(P,D){if(1&P&&t.DNE(0,Zt,3,2,"ng-container",6)(1,Ft,1,1,"ng-template",null,1,t.C5r),2&P){const T=t.sdS(2),I=t.XpG();t.Y8G("ngIf",I.showArrow&&!I.suffixIcon)("ngIfElse",T)}}function Ne(P,D){if(1&P&&(t.qex(0),t.EFF(1),t.bVm()),2&P){const T=t.XpG();t.R7$(),t.JRh(T.feedbackIcon)}}function Z(P,D){1&P&&t.nrm(0,"span",1)}const ye=P=>({$implicit:P});function ee(P,D){if(1&P&&(t.j41(0,"div",4),t.EFF(1),t.k0s()),2&P){const T=t.XpG(2);t.R7$(),t.JRh(T.label)}}function W(P,D){if(1&P&&t.EFF(0),2&P){const T=t.XpG(2);t.JRh(T.label)}}function b(P,D){if(1&P&&(t.qex(0),t.DNE(1,ee,2,1,"div",3)(2,W,1,1,"ng-template",null,0,t.C5r),t.bVm()),2&P){const T=t.sdS(3),I=t.XpG();t.R7$(),t.Y8G("ngIf",I.deletable)("ngIfElse",T)}}function M(P,D){1&P&&t.nrm(0,"span",7)}function X(P,D){if(1&P){const T=t.RV6();t.j41(0,"span",5),t.bIt("click",function(E){t.eBV(T);const ne=t.XpG();return t.Njj(ne.onDelete(E))}),t.DNE(1,M,1,0,"span",6),t.k0s()}if(2&P){const T=t.XpG();t.R7$(),t.Y8G("ngIf",!T.removeIcon)("ngIfElse",T.removeIcon)}}function ue(P,D){if(1&P&&(t.qex(0),t.EFF(1),t.bVm()),2&P){const T=t.XpG();t.R7$(),t.SpI(" ",T.placeholder," ")}}const Ve=["inputElement"],ot=["mirrorElement"];function ht(P,D){1&P&&t.nrm(0,"span",4,1)}function bt(P,D){if(1&P&&t.nrm(0,"nz-select-item",6),2&P){const T=t.XpG(2);t.Y8G("deletable",!1)("disabled",!1)("removeIcon",T.removeIcon)("label",T.listOfTopItem[0].nzLabel)("contentTemplateOutlet",T.customTemplate)("contentTemplateOutletContext",T.listOfTopItem[0])}}function Et(P,D){if(1&P){const T=t.RV6();t.qex(0),t.j41(1,"nz-select-search",4),t.bIt("isComposingChange",function(E){t.eBV(T);const ne=t.XpG();return t.Njj(ne.isComposingChange(E))})("valueChange",function(E){t.eBV(T);const ne=t.XpG();return t.Njj(ne.onInputValueChange(E))}),t.k0s(),t.DNE(2,bt,1,6,"nz-select-item",5),t.bVm()}if(2&P){const T=t.XpG();t.R7$(),t.Y8G("nzId",T.nzId)("disabled",T.disabled)("value",T.inputValue)("showInput",T.showSearch)("mirrorSync",!1)("autofocus",T.autofocus)("focusTrigger",T.open),t.R7$(),t.Y8G("ngIf",T.isShowSingleLabel)}}function wt(P,D){if(1&P){const T=t.RV6();t.j41(0,"nz-select-item",9),t.bIt("delete",function(){const E=t.eBV(T).$implicit,ne=t.XpG(2);return t.Njj(ne.onDeleteItem(E.contentTemplateOutletContext))}),t.k0s()}if(2&P){const T=D.$implicit,I=t.XpG(2);t.Y8G("removeIcon",I.removeIcon)("label",T.nzLabel)("disabled",T.nzDisabled||I.disabled)("contentTemplateOutlet",T.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",T.contentTemplateOutletContext)}}function Yt(P,D){if(1&P){const T=t.RV6();t.qex(0),t.DNE(1,wt,1,6,"nz-select-item",7),t.j41(2,"nz-select-search",8),t.bIt("isComposingChange",function(E){t.eBV(T);const ne=t.XpG();return t.Njj(ne.isComposingChange(E))})("valueChange",function(E){t.eBV(T);const ne=t.XpG();return t.Njj(ne.onInputValueChange(E))}),t.k0s(),t.bVm()}if(2&P){const T=t.XpG();t.R7$(),t.Y8G("ngForOf",T.listOfSlicedItem)("ngForTrackBy",T.trackValue),t.R7$(),t.Y8G("nzId",T.nzId)("disabled",T.disabled)("value",T.inputValue)("autofocus",T.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",T.open)}}function rt(P,D){if(1&P&&t.nrm(0,"nz-select-placeholder",10),2&P){const T=t.XpG();t.Y8G("placeholder",T.placeHolder)}}function Gt(P,D){if(1&P&&t.nrm(0,"nz-form-item-feedback-icon",8),2&P){const T=t.XpG(3);t.Y8G("status",T.status)}}function we(P,D){if(1&P&&t.DNE(0,Gt,1,1,"nz-form-item-feedback-icon",7),2&P){const T=t.XpG(2);t.Y8G("ngIf",T.hasFeedback&&!!T.status)}}function qe(P,D){if(1&P&&(t.j41(0,"nz-select-arrow",6),t.DNE(1,we,1,1,"ng-template",null,1,t.C5r),t.k0s()),2&P){const T=t.sdS(2),I=t.XpG();t.Y8G("showArrow",I.nzShowArrow)("loading",I.nzLoading)("search",I.nzOpen&&I.nzShowSearch)("suffixIcon",I.nzSuffixIcon)("feedbackIcon",T)("nzMaxMultipleCount",I.nzMaxMultipleCount)("listOfValue",I.listOfValue)("isMaxTagCountSet",I.isMaxTagCountSet)}}function Ae(P,D){if(1&P){const T=t.RV6();t.j41(0,"nz-select-clear",9),t.bIt("clear",function(){t.eBV(T);const E=t.XpG();return t.Njj(E.onClearSelection())}),t.k0s()}if(2&P){const T=t.XpG();t.Y8G("clearIcon",T.nzClearIcon)}}function kt(P,D){if(1&P){const T=t.RV6();t.j41(0,"nz-option-container",10),t.bIt("keydown",function(E){t.eBV(T);const ne=t.XpG();return t.Njj(ne.onKeyDown(E))})("itemClick",function(E){t.eBV(T);const ne=t.XpG();return t.Njj(ne.onItemClick(E))})("scrollToBottom",function(){t.eBV(T);const E=t.XpG();return t.Njj(E.nzScrollToBottom.emit())}),t.k0s()}if(2&P){const T=t.XpG();t.AVh("ant-select-dropdown-placement-bottomLeft","bottomLeft"===T.dropDownPosition)("ant-select-dropdown-placement-topLeft","topLeft"===T.dropDownPosition)("ant-select-dropdown-placement-bottomRight","bottomRight"===T.dropDownPosition)("ant-select-dropdown-placement-topRight","topRight"===T.dropDownPosition),t.Y8G("ngStyle",T.nzDropdownStyle)("itemSize",T.nzOptionHeightPx)("maxItemLength",T.nzOptionOverflowSize)("matchWidth",T.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",!(null==T.noAnimation||!T.noAnimation.nzNoAnimation))("nzNoAnimation",null==T.noAnimation?null:T.noAnimation.nzNoAnimation)("listOfContainerItem",T.listOfContainerItem)("menuItemSelectedIcon",T.nzMenuItemSelectedIcon)("notFoundContent",T.nzNotFoundContent)("activatedValue",T.activatedValue)("listOfSelectedValue",T.listOfValue)("dropdownRender",T.nzDropdownRender)("compareWith",T.compareWith)("mode",T.nzMode)("isMaxLimitReached",T.isMaxLimitReached)}}let It=(()=>{class P{constructor(){this.nzLabel=null,this.changes=new f.B}ngOnChanges(){this.changes.next()}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:tt,decls:1,vars:0,template:function(I,E){1&I&&(t.NAR(),t.SdG(0))},encapsulation:2,changeDetection:0})}return P})(),Ot=(()=>{class P{constructor(){this.nzLabel=null}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-option-item-group"]],hostAttrs:[1,"ant-select-item","ant-select-item-group"],inputs:{nzLabel:"nzLabel"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(I,E){1&I&&t.DNE(0,$e,2,1,"ng-container",0),2&I&&t.Y8G("nzStringTemplateOutlet",E.nzLabel)},dependencies:[me.C,me.m],encapsulation:2,changeDetection:0})}return P})(),At=(()=>{class P{constructor(T,I,E){this.elementRef=T,this.ngZone=I,this.destroy$=E,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new t.bkB,this.itemHover=new t.bkB}ngOnChanges(T){const{value:I,activatedValue:E,listOfSelectedValue:ne}=T;(I||ne)&&(this.selected=this.listOfSelectedValue.some(L=>this.compareWith(L,this.value))),(I||E)&&(this.activated=this.compareWith(this.activatedValue,this.value))}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,m.R)(this.elementRef.nativeElement,"click").pipe((0,J.Q)(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemClick.emit(this.value))}),(0,m.R)(this.elementRef.nativeElement,"mouseenter").pipe((0,J.Q)(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemHover.emit(this.value))})})}static#e=this.\u0275fac=function(I){return new(I||P)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(He.y4))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-option-item"]],hostAttrs:[1,"ant-select-item","ant-select-item-option"],hostVars:9,hostBindings:function(I,E){2&I&&(t.BMQ("title",E.title),t.AVh("ant-select-item-option-grouped",E.grouped)("ant-select-item-option-selected",E.selected&&!E.disabled)("ant-select-item-option-disabled",E.disabled)("ant-select-item-option-active",E.activated&&!E.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",title:"title",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},standalone:!0,features:[t.Jv_([He.y4]),t.OA$,t.aNF],decls:5,vars:3,consts:[["noCustomContent",""],[1,"ant-select-item-option-content"],[3,"ngIf","ngIfElse"],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(I,E){if(1&I&&(t.j41(0,"div",1),t.DNE(1,dt,1,1,"ng-template",2)(2,xt,1,1,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(4,Me,2,2,"div",3)),2&I){const ne=t.sdS(3);t.R7$(),t.Y8G("ngIf",E.customContent)("ngIfElse",ne),t.R7$(3),t.Y8G("ngIf",E.showState&&E.selected)}},dependencies:[F.bT,F.T3,ae.Y3,ae.Dn],encapsulation:2,changeDetection:0})}return P})(),en=(()=>{class P{constructor(){this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.isMaxLimitReached=!1,this.listOfContainerItem=[],this.itemClick=new t.bkB,this.scrollToBottom=new t.bkB,this.scrolledIndex=0,this.ngZone=(0,t.WQX)(t.SKi),this.platformId=(0,t.WQX)(t.Agw)}onItemClick(T){this.itemClick.emit(T)}onItemHover(T){this.activatedValue=T}trackValue(T,I){return I.key}onScrolledIndexChange(T){this.scrolledIndex=T,T===this.listOfContainerItem.length-this.maxItemLength-1&&this.scrollToBottom.emit()}scrollToActivatedValue(){const T=this.listOfContainerItem.findIndex(I=>this.compareWith(I.key,this.activatedValue));(T<this.scrolledIndex||T>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(T||0)}ngOnChanges(T){const{listOfContainerItem:I,activatedValue:E}=T;(I||E)&&this.scrollToActivatedValue()}ngAfterViewInit(){(0,F.UE)(this.platformId)&&this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.scrollToActivatedValue()))}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-option-container"]],viewQuery:function(I,E){if(1&I&&t.GBs(fe.d6,7),2&I){let ne;t.mGM(ne=t.lsd())&&(E.cdkVirtualScrollViewport=ne.first)}},hostAttrs:[1,"ant-select-dropdown"],inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",compareWith:"compareWith",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",isMaxLimitReached:"isMaxLimitReached",listOfContainerItem:"listOfContainerItem"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],standalone:!0,features:[t.OA$,t.aNF],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"scrolledIndexChange","itemSize","maxBufferPx","minBufferPx"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"itemHover","itemClick","icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value"]],template:function(I,E){1&I&&(t.j41(0,"div"),t.DNE(1,je,2,1,"div",0),t.j41(2,"cdk-virtual-scroll-viewport",1),t.bIt("scrolledIndexChange",function(L){return E.onScrolledIndexChange(L)}),t.DNE(3,se,3,3,"ng-template",2),t.k0s(),t.DNE(4,re,0,0,"ng-template",3),t.k0s()),2&I&&(t.R7$(),t.Y8G("ngIf",0===E.listOfContainerItem.length),t.R7$(),t.xc7("height",E.listOfContainerItem.length*E.itemSize,"px")("max-height",E.itemSize*E.maxItemLength,"px"),t.AVh("full-width",!E.matchWidth),t.Y8G("itemSize",E.itemSize)("maxBufferPx",E.itemSize*E.maxItemLength)("minBufferPx",E.itemSize*E.maxItemLength),t.R7$(),t.Y8G("cdkVirtualForOf",E.listOfContainerItem)("cdkVirtualForTrackBy",E.trackValue)("cdkVirtualForTemplateCacheSize",0),t.R7$(),t.Y8G("ngTemplateOutlet",E.dropdownRender))},dependencies:[he._v,he.E8,F.bT,F.ux,Ot,F.e1,At,F.T3,ze.z_,fe.yg,fe.E$,fe.d6,ie.$_],encapsulation:2,changeDetection:0})}return P})(),wn=(()=>{class P{constructor(T,I){this.nzOptionGroupComponent=T,this.destroy$=I,this.changes=new f.B,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe((0,G.Z)(!0),(0,J.Q)(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent.nzLabel})}ngOnChanges(){this.changes.next()}static#e=this.\u0275fac=function(I){return new(I||P)(t.rXU(It,8),t.rXU(He.y4))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-option"]],viewQuery:function(I,E){if(1&I&&t.GBs(t.C4Q,7),2&I){let ne;t.mGM(ne=t.lsd())&&(E.template=ne.first)}},inputs:{nzTitle:"nzTitle",nzLabel:"nzLabel",nzValue:"nzValue",nzKey:"nzKey",nzDisabled:"nzDisabled",nzHide:"nzHide",nzCustomContent:"nzCustomContent"},exportAs:["nzOption"],standalone:!0,features:[t.Jv_([He.y4]),t.OA$,t.aNF],ngContentSelectors:tt,decls:1,vars:0,template:function(I,E){1&I&&(t.NAR(),t.DNE(0,Be,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzDisabled",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzHide",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzCustomContent",void 0),P})(),kn=(()=>{class P{constructor(){this.listOfValue=[],this.loading=!1,this.search=!1,this.showArrow=!1,this.isMaxTagCountSet=!1,this.suffixIcon=null,this.feedbackIcon=null,this.nzMaxMultipleCount=1/0}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-arrow"]],hostAttrs:[1,"ant-select-arrow"],hostVars:2,hostBindings:function(I,E){2&I&&t.AVh("ant-select-arrow-loading",E.loading)},inputs:{listOfValue:"listOfValue",loading:"loading",search:"search",showArrow:"showArrow",isMaxTagCountSet:"isMaxTagCountSet",suffixIcon:"suffixIcon",feedbackIcon:"feedbackIcon",nzMaxMultipleCount:"nzMaxMultipleCount"},standalone:!0,features:[t.aNF],decls:5,vars:4,consts:[["defaultArrow",""],["suffixTemplate",""],[4,"ngIf"],["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(I,E){if(1&I&&t.DNE(0,Ke,3,2,"ng-container",2)(1,vt,1,0,"span",3)(2,_e,3,2,"ng-template",null,0,t.C5r)(4,Ne,2,1,"ng-container",4),2&I){const ne=t.sdS(3);t.Y8G("ngIf",E.isMaxTagCountSet),t.R7$(),t.Y8G("ngIf",E.loading)("ngIfElse",ne),t.R7$(3),t.Y8G("nzStringTemplateOutlet",E.feedbackIcon)}},dependencies:[ae.Y3,ae.Dn,F.bT,me.C,me.m],encapsulation:2,changeDetection:0})}return P})(),Ge=(()=>{class P{constructor(){this.clearIcon=null,this.clear=new t.bkB}onClick(T){T.preventDefault(),T.stopPropagation(),this.clear.emit(T)}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-clear"]],hostAttrs:[1,"ant-select-clear"],hostBindings:function(I,E){1&I&&t.bIt("click",function(L){return E.onClick(L)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},standalone:!0,features:[t.aNF],decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(I,E){1&I&&t.DNE(0,Z,1,0,"span",0),2&I&&t.Y8G("ngIf",!E.clearIcon)("ngIfElse",E.clearIcon)},dependencies:[ae.Y3,ae.Dn,F.bT],encapsulation:2,changeDetection:0})}return P})(),Fe=(()=>{class P{constructor(){this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new t.bkB}onDelete(T){T.preventDefault(),T.stopPropagation(),this.disabled||this.delete.next(T)}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-item"]],hostAttrs:[1,"ant-select-selection-item"],hostVars:3,hostBindings:function(I,E){2&I&&(t.BMQ("title",E.label),t.AVh("ant-select-selection-item-disabled",E.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},standalone:!0,features:[t.aNF],decls:2,vars:5,consts:[["labelTemplate",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(I,E){1&I&&t.DNE(0,b,4,2,"ng-container",1)(1,X,2,2,"span",2),2&I&&(t.Y8G("nzStringTemplateOutlet",E.contentTemplateOutlet)("nzStringTemplateOutletContext",t.eq3(3,ye,E.contentTemplateOutletContext)),t.R7$(),t.Y8G("ngIf",E.deletable&&!E.disabled))},dependencies:[me.C,me.m,F.bT,ae.Y3,ae.Dn],encapsulation:2,changeDetection:0})}return P})(),ce=(()=>{class P{constructor(){this.placeholder=null}static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-placeholder"]],hostAttrs:[1,"ant-select-selection-placeholder"],inputs:{placeholder:"placeholder"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(I,E){1&I&&t.DNE(0,ue,2,1,"ng-container",0),2&I&&t.Y8G("nzStringTemplateOutlet",E.placeholder)},dependencies:[me.C,me.m],encapsulation:2,changeDetection:0})}return P})(),xe=(()=>{class P{setCompositionState(T){this.isComposingChange.next(T)}onValueChange(T){this.value=T,this.valueChange.next(T),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){this.inputElement.nativeElement.value="",this.onValueChange("")}syncMirrorWidth(){const T=this.mirrorElement.nativeElement,I=this.elementRef.nativeElement,E=this.inputElement.nativeElement;this.renderer.removeStyle(I,"width"),this.renderer.setProperty(T,"textContent",`${E.value}\xa0`),this.renderer.setStyle(I,"width",`${T.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(T,I,E){this.elementRef=T,this.renderer=I,this.focusMonitor=E,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new t.bkB,this.isComposingChange=new t.bkB}ngOnChanges(T){const I=this.inputElement.nativeElement,{focusTrigger:E,showInput:ne}=T;ne&&(this.showInput?this.renderer.removeAttribute(I,"readonly"):this.renderer.setAttribute(I,"readonly","readonly")),E&&!0===E.currentValue&&!1===E.previousValue&&I.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}static#e=this.\u0275fac=function(I){return new(I||P)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Je.FN))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-search"]],viewQuery:function(I,E){if(1&I&&(t.GBs(Ve,7),t.GBs(ot,5)),2&I){let ne;t.mGM(ne=t.lsd())&&(E.inputElement=ne.first),t.mGM(ne=t.lsd())&&(E.mirrorElement=ne.first)}},hostAttrs:[1,"ant-select-selection-search"],inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},standalone:!0,features:[t.Jv_([{provide:oe.mP,useValue:!1}]),t.OA$,t.aNF],decls:3,vars:7,consts:[["inputElement",""],["mirrorElement",""],["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModelChange","compositionstart","compositionend","ngModel","disabled"],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"]],template:function(I,E){if(1&I){const ne=t.RV6();t.j41(0,"input",2,0),t.bIt("ngModelChange",function(pe){return t.eBV(ne),t.Njj(E.onValueChange(pe))})("compositionstart",function(){return t.eBV(ne),t.Njj(E.setCompositionState(!0))})("compositionend",function(){return t.eBV(ne),t.Njj(E.setCompositionState(!1))}),t.k0s(),t.DNE(2,ht,2,0,"span",3)}2&I&&(t.xc7("opacity",E.showInput?null:0),t.Y8G("ngModel",E.value)("disabled",E.disabled),t.BMQ("id",E.nzId)("autofocus",E.autofocus?"autofocus":null),t.R7$(2),t.Y8G("ngIf",E.mirrorSync))},dependencies:[oe.YN,oe.me,oe.BC,oe.vS,F.bT],encapsulation:2,changeDetection:0})}return P})(),st=(()=>{class P{updateTemplateVariable(){const T=0===this.listOfTopItem.length;this.isShowPlaceholder=T&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!T&&!this.isComposing&&!this.inputValue}isComposingChange(T){this.isComposing=T,this.updateTemplateVariable()}onInputValueChange(T){T!==this.inputValue&&(this.inputValue=T,this.updateTemplateVariable(),this.inputValueChange.emit(T),this.tokenSeparate(T,this.tokenSeparators))}tokenSeparate(T,I){if(T&&T.length&&I.length&&"default"!==this.mode&&((L,pe)=>{for(let Ze=0;Ze<pe.length;++Ze)if(L.lastIndexOf(pe[Ze])>0)return!0;return!1})(T,I)){const L=((L,pe)=>{const Ze=new RegExp(`[${pe.join()}]`),at=L.split(Ze).filter(Ct=>Ct);return[...new Set(at)]})(T,I);this.tokenize.next(L)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(T,I){return I.nzValue}onDeleteItem(T){!this.disabled&&!T.nzDisabled&&this.deleteItem.next(T)}constructor(T,I,E){this.elementRef=T,this.ngZone=I,this.noAnimation=E,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new t.bkB,this.inputValueChange=new t.bkB,this.deleteItem=new t.bkB,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new f.B}ngOnChanges(T){const{listOfTopItem:I,maxTagCount:E,customTemplate:ne,maxTagPlaceholder:L}=T;if(I&&this.updateTemplateVariable(),I||E||ne||L){const pe=this.listOfTopItem.slice(0,this.maxTagCount).map(Ze=>({nzLabel:Ze.nzLabel,nzValue:Ze.nzValue,nzDisabled:Ze.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:Ze}));if(this.listOfTopItem.length>this.maxTagCount){const Ze=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,at=this.listOfTopItem.map(Ht=>Ht.nzValue),Ct={nzLabel:Ze,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:at.slice(this.maxTagCount)};pe.push(Ct)}this.listOfSlicedItem=pe}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,m.R)(this.elementRef.nativeElement,"click").pipe((0,J.Q)(this.destroy$)).subscribe(T=>{T.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),(0,m.R)(this.elementRef.nativeElement,"keydown").pipe((0,J.Q)(this.destroy$)).subscribe(T=>{T.target instanceof HTMLInputElement&&T.keyCode===be.G_&&"default"!==this.mode&&!T.target.value&&this.listOfTopItem.length>0&&(T.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))})})}ngOnDestroy(){this.destroy$.next()}static#e=this.\u0275fac=function(I){return new(I||P)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(et.z,9))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select-top-control"]],viewQuery:function(I,E){if(1&I&&t.GBs(xe,5),2&I){let ne;t.mGM(ne=t.lsd())&&(E.nzSelectSearchComponent=ne.first)}},hostAttrs:[1,"ant-select-selector"],inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:"maxTagCount",autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],standalone:!0,features:[t.OA$,t.aNF],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"isComposingChange","valueChange","nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"isComposingChange","valueChange","nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger"],[3,"delete","removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext"],[3,"placeholder"]],template:function(I,E){1&I&&(t.qex(0,0),t.DNE(1,Et,3,8,"ng-container",1)(2,Yt,3,9,"ng-container",2),t.bVm(),t.DNE(3,rt,1,1,"nz-select-placeholder",3)),2&I&&(t.Y8G("ngSwitch",E.mode),t.R7$(),t.Y8G("ngSwitchCase","default"),t.R7$(2),t.Y8G("ngIf",E.isShowPlaceholder))},dependencies:[F.ux,xe,F.e1,Fe,F.bT,F.fG,F.pM,ce],encapsulation:2,changeDetection:0})}return P})();const de=(P,D)=>!(!D||!D.nzLabel)&&D.nzLabel.toString().toLowerCase().indexOf(P.toLowerCase())>-1;let R=(()=>{class P{set nzShowArrow(T){this._nzShowArrow=T}get nzShowArrow(){return void 0===this._nzShowArrow?"default"===this.nzMode:this._nzShowArrow}get isMaxTagCountSet(){return this.nzMaxMultipleCount!==1/0}generateTagItem(T){return{nzValue:T,nzLabel:T,type:"item"}}onItemClick(T){if(this.activatedValue=T,"default"===this.nzMode)(0===this.listOfValue.length||!this.compareWith(this.listOfValue[0],T))&&this.updateListOfValue([T]),this.setOpenState(!1);else{const I=this.listOfValue.findIndex(E=>this.compareWith(E,T));if(-1!==I){const E=this.listOfValue.filter((ne,L)=>L!==I);this.updateListOfValue(E)}else if(this.listOfValue.length<this.nzMaxMultipleCount){const E=[...this.listOfValue,T];this.updateListOfValue(E)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(T){const I=this.listOfValue.filter(E=>!this.compareWith(E,T.nzValue));this.updateListOfValue(I),this.clearInput()}updateListOfContainerItem(){let T=this.listOfTagAndTemplateItem.filter(ne=>!ne.nzHide).filter(ne=>!(!this.nzServerSearch&&this.searchValue)||this.nzFilterOption(this.searchValue,ne));if("tags"===this.nzMode&&this.searchValue){const ne=this.listOfTagAndTemplateItem.find(L=>L.nzLabel===this.searchValue);if(ne)this.activatedValue=ne.nzValue;else{const L=this.generateTagItem(this.searchValue);T=[L,...T],this.activatedValue=L.nzValue}}const I=T.find(ne=>ne.nzLabel===this.searchValue)||T.find(ne=>this.compareWith(ne.nzValue,this.activatedValue))||T.find(ne=>this.compareWith(ne.nzValue,this.listOfValue[0]))||T[0];this.activatedValue=I&&I.nzValue||null;let E=[];this.isReactiveDriven?E=[...new Set(this.nzOptions.filter(ne=>ne.groupLabel).map(ne=>ne.groupLabel))]:this.listOfNzOptionGroupComponent&&(E=this.listOfNzOptionGroupComponent.map(ne=>ne.nzLabel)),E.forEach(ne=>{const L=T.findIndex(pe=>ne===pe.groupLabel);L>-1&&T.splice(L,0,{groupLabel:ne,type:"group",key:ne})}),this.listOfContainerItem=[...T],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(T){const E=((ne,L)=>"default"===this.nzMode?ne.length>0?ne[0]:null:ne)(T);this.value!==E&&(this.listOfValue=T,this.listOfValue$.next(T),this.value=E,this.onChange(this.value)),this.isMaxLimitReached=this.nzMaxMultipleCount!==1/0&&this.listOfValue.length===this.nzMaxMultipleCount}onTokenSeparate(T){const I=this.listOfTagAndTemplateItem.filter(E=>-1!==T.findIndex(ne=>ne===E.nzLabel)).map(E=>E.nzValue).filter(E=>-1===this.listOfValue.findIndex(ne=>this.compareWith(ne,E)));if("multiple"===this.nzMode)this.updateListOfValue([...this.listOfValue,...I]);else if("tags"===this.nzMode){const E=T.filter(ne=>-1===this.listOfTagAndTemplateItem.findIndex(L=>L.nzLabel===ne));this.updateListOfValue([...this.listOfValue,...I,...E])}this.clearInput()}onKeyDown(T){if(this.nzDisabled)return;const I=this.listOfContainerItem.filter(ne=>"item"===ne.type).filter(ne=>!ne.nzDisabled),E=I.findIndex(ne=>this.compareWith(ne.nzValue,this.activatedValue));switch(T.keyCode){case be.i7:T.preventDefault(),this.nzOpen&&I.length>0&&(this.activatedValue=I[E>0?E-1:I.length-1].nzValue);break;case be.n6:T.preventDefault(),this.nzOpen&&I.length>0?this.activatedValue=I[E<I.length-1?E+1:0].nzValue:this.setOpenState(!0);break;case be.Fm:T.preventDefault(),this.nzOpen?(0,Y.n9)(this.activatedValue)&&-1!==E&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case be.t6:this.nzOpen||(this.setOpenState(!0),T.preventDefault());break;case be.wn:this.nzSelectOnTab?this.nzOpen&&(T.preventDefault(),(0,Y.n9)(this.activatedValue)&&this.onItemClick(this.activatedValue)):this.setOpenState(!1);break;case be._f:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(T){this.nzOpen!==T&&(this.nzOpen=T,this.nzOpenChange.emit(T),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.nzAutoClearSearchValue&&this.clearInput()}onInputValueChange(T){this.searchValue=T,this.updateListOfContainerItem(),this.nzOnSearch.emit(T),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(T){this.host.nativeElement.contains(T.target)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(T){const I=(0,ie.jj)(T);this.dropDownPosition=I}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){const T=this.triggerWidth;(0,Le.F)(this.requestId),this.requestId=(0,Le.j)(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,T!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){(0,Le.j)(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}constructor(T,I,E,ne,L,pe,Ze,at,Ct,Ht,Kt,nn){this.ngZone=T,this.destroy$=I,this.nzConfigService=E,this.cdr=ne,this.host=L,this.renderer=pe,this.platform=Ze,this.focusMonitor=at,this.directionality=Ct,this.noAnimation=Ht,this.nzFormStatusService=Kt,this.nzFormNoStatusService=nn,this._nzModuleName="select",this.nzId=null,this.nzSize="default",this.nzStatus="",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzPlacement=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=de,this.compareWith=(un,yn)=>un===yn,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzSelectOnTab=!1,this.nzBackdrop=!1,this.nzOptions=[],this.nzOnSearch=new t.bkB,this.nzScrollToBottom=new t.bkB,this.nzOpenChange=new t.bkB,this.nzBlur=new t.bkB,this.nzFocus=new t.bkB,this.listOfValue$=new C.t([]),this.listOfTemplateItem$=new C.t([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottomLeft",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.positions=[],this.isMaxLimitReached=!1,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1}writeValue(T){if(this.value!==T){this.value=T;const E=((ne,L)=>null==ne?[]:"default"===this.nzMode?[ne]:ne)(T);this.listOfValue=E,this.listOfValue$.next(E),this.cdr.markForCheck()}}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||T,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(T){const{nzOpen:I,nzDisabled:E,nzOptions:ne,nzStatus:L,nzPlacement:pe}=T;if(I&&this.onOpenChange(),E&&this.nzDisabled&&this.setOpenState(!1),ne){this.isReactiveDriven=!0;const at=(this.nzOptions||[]).map(Ct=>({template:Ct.label instanceof t.C4Q?Ct.label:null,nzTitle:this.getTitle(Ct.title,Ct.label),nzLabel:"string"==typeof Ct.label||"number"==typeof Ct.label?Ct.label:null,nzValue:Ct.value,nzDisabled:Ct.disabled||!1,nzHide:Ct.hide||!1,nzCustomContent:Ct.label instanceof t.C4Q,groupLabel:Ct.groupLabel||null,type:"item",key:void 0===Ct.key?Ct.value:Ct.key}));this.listOfTemplateItem$.next(at)}if(L&&this.setStatusStyles(this.nzStatus,this.hasFeedback),pe){const{currentValue:Ze}=pe;this.dropDownPosition=Ze;const at=["bottomLeft","topLeft","bottomRight","topRight"];this.positions=Ze&&at.includes(Ze)?[ie.pn[Ze]]:at.map(Ct=>ie.pn[Ct])}}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,ge.F)((T,I)=>T.status===I.status&&T.hasFeedback===I.hasFeedback),(0,Ce.E)(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,Ee.of)(!1)),(0,De.T)(([{status:T,hasFeedback:I},E])=>({status:E?"":T,hasFeedback:I})),(0,J.Q)(this.destroy$)).subscribe(({status:T,hasFeedback:I})=>{this.setStatusStyles(T,I)}),this.focusMonitor.monitor(this.host,!0).pipe((0,J.Q)(this.destroy$)).subscribe(T=>{T?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),(0,Ue.z)([this.listOfValue$,this.listOfTemplateItem$]).pipe((0,J.Q)(this.destroy$)).subscribe(([T,I])=>{const E=T.filter(()=>"tags"===this.nzMode).filter(ne=>-1===I.findIndex(L=>this.compareWith(L.nzValue,ne))).map(ne=>this.listOfTopItem.find(L=>this.compareWith(L.nzValue,ne))||this.generateTagItem(ne));this.listOfTagAndTemplateItem=[...I,...E],this.listOfTopItem=this.listOfValue.map(ne=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(L=>this.compareWith(ne,L.nzValue))).filter(ne=>!!ne),this.updateListOfContainerItem()}),this.directionality.change?.pipe((0,J.Q)(this.destroy$)).subscribe(T=>{this.dir=T,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe((0,J.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>(0,m.R)(this.host.nativeElement,"click").pipe((0,J.Q)(this.destroy$)).subscribe(()=>{this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.ngZone.run(()=>this.setOpenState(!this.nzOpen))})),this.cdkConnectedOverlay.overlayKeydown.pipe((0,J.Q)(this.destroy$)).subscribe(T=>{T.keyCode===be._f&&this.setOpenState(!1)})}ngAfterContentInit(){this.isReactiveDriven||(0,Se.h)(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe((0,G.Z)(!0),(0,Pe.n)(()=>(0,Se.h)(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(T=>T.changes),...this.listOfNzOptionGroupComponent.map(T=>T.changes)).pipe((0,G.Z)(!0))),(0,J.Q)(this.destroy$)).subscribe(()=>{const T=this.listOfNzOptionComponent.toArray().map(I=>{const{template:E,nzLabel:ne,nzValue:L,nzKey:pe,nzDisabled:Ze,nzHide:at,nzCustomContent:Ct,groupLabel:Ht}=I;return{template:E,nzLabel:ne,nzValue:L,nzDisabled:Ze,nzHide:at,nzCustomContent:Ct,groupLabel:Ht,nzTitle:this.getTitle(I.nzTitle,I.nzLabel),type:"item",key:void 0===pe?L:pe}});this.listOfTemplateItem$.next(T),this.cdr.markForCheck()})}ngOnDestroy(){(0,Le.F)(this.requestId),this.focusMonitor.stopMonitoring(this.host)}setStatusStyles(T,I){this.status=T,this.hasFeedback=I,this.cdr.markForCheck(),this.statusCls=(0,Y.LP)(this.prefixCls,T,I),Object.keys(this.statusCls).forEach(E=>{this.statusCls[E]?this.renderer.addClass(this.host.nativeElement,E):this.renderer.removeClass(this.host.nativeElement,E)})}getTitle(T,I){let E;return void 0===T?("string"==typeof I||"number"==typeof I)&&(E=I.toString()):("string"==typeof T||"number"==typeof T)&&(E=T.toString()),E}static#e=this.\u0275fac=function(I){return new(I||P)(t.rXU(t.SKi),t.rXU(He.y4),t.rXU(ke.yx),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(We.OD),t.rXU(Je.FN),t.rXU(pt.dS,8),t.rXU(et.z,9),t.rXU(Ye.is,8),t.rXU(Ye.n1,8))};static#t=this.\u0275cmp=t.VBU({type:P,selectors:[["nz-select"]],contentQueries:function(I,E,ne){if(1&I&&(t.wni(ne,wn,5),t.wni(ne,It,5)),2&I){let L;t.mGM(L=t.lsd())&&(E.listOfNzOptionComponent=L),t.mGM(L=t.lsd())&&(E.listOfNzOptionGroupComponent=L)}},viewQuery:function(I,E){if(1&I&&(t.GBs(ze.$Q,7,t.aKT),t.GBs(ze.WB,7),t.GBs(st,7),t.GBs(It,7,t.aKT),t.GBs(st,7,t.aKT)),2&I){let ne;t.mGM(ne=t.lsd())&&(E.originElement=ne.first),t.mGM(ne=t.lsd())&&(E.cdkConnectedOverlay=ne.first),t.mGM(ne=t.lsd())&&(E.nzSelectTopControlComponent=ne.first),t.mGM(ne=t.lsd())&&(E.nzOptionGroupComponentElement=ne.first),t.mGM(ne=t.lsd())&&(E.nzSelectTopControlComponentElement=ne.first)}},hostAttrs:[1,"ant-select"],hostVars:26,hostBindings:function(I,E){2&I&&t.AVh("ant-select-in-form-item",!!E.nzFormStatusService)("ant-select-lg","large"===E.nzSize)("ant-select-sm","small"===E.nzSize)("ant-select-show-arrow",E.nzShowArrow)("ant-select-disabled",E.nzDisabled)("ant-select-show-search",(E.nzShowSearch||"default"!==E.nzMode)&&!E.nzDisabled)("ant-select-allow-clear",E.nzAllowClear)("ant-select-borderless",E.nzBorderless)("ant-select-open",E.nzOpen)("ant-select-focused",E.nzOpen||E.focused)("ant-select-single","default"===E.nzMode)("ant-select-multiple","default"!==E.nzMode)("ant-select-rtl","rtl"===E.dir)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzPlacement:"nzPlacement",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:"nzAllowClear",nzBorderless:"nzBorderless",nzShowSearch:"nzShowSearch",nzLoading:"nzLoading",nzAutoFocus:"nzAutoFocus",nzAutoClearSearchValue:"nzAutoClearSearchValue",nzServerSearch:"nzServerSearch",nzDisabled:"nzDisabled",nzOpen:"nzOpen",nzSelectOnTab:"nzSelectOnTab",nzBackdrop:"nzBackdrop",nzOptions:"nzOptions",nzShowArrow:"nzShowArrow"},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],standalone:!0,features:[t.Jv_([He.y4,{provide:oe.kq,useExisting:(0,t.Rfq)(()=>P),multi:!0}]),t.OA$,t.aNF],decls:5,vars:25,consts:[["origin","cdkOverlayOrigin"],["feedbackIconTpl",""],["cdkOverlayOrigin","",3,"inputValueChange","tokenize","deleteItem","keydown","nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon","nzMaxMultipleCount","listOfValue","isMaxTagCountSet",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon","nzMaxMultipleCount","listOfValue","isMaxTagCountSet"],[3,"status",4,"ngIf"],[3,"status"],[3,"clear","clearIcon"],[3,"keydown","itemClick","scrollToBottom","ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","isMaxLimitReached"]],template:function(I,E){if(1&I){const ne=t.RV6();t.j41(0,"nz-select-top-control",2,0),t.bIt("inputValueChange",function(pe){return t.eBV(ne),t.Njj(E.onInputValueChange(pe))})("tokenize",function(pe){return t.eBV(ne),t.Njj(E.onTokenSeparate(pe))})("deleteItem",function(pe){return t.eBV(ne),t.Njj(E.onItemDelete(pe))})("keydown",function(pe){return t.eBV(ne),t.Njj(E.onKeyDown(pe))}),t.k0s(),t.DNE(2,qe,3,8,"nz-select-arrow",3)(3,Ae,1,1,"nz-select-clear",4)(4,kt,1,24,"ng-template",5),t.bIt("overlayOutsideClick",function(pe){return t.eBV(ne),t.Njj(E.onClickOutside(pe))})("detach",function(){return t.eBV(ne),t.Njj(E.setOpenState(!1))})("positionChange",function(pe){return t.eBV(ne),t.Njj(E.onPositionChange(pe))})}if(2&I){const ne=t.sdS(1);t.Y8G("nzId",E.nzId)("open",E.nzOpen)("disabled",E.nzDisabled)("mode",E.nzMode)("@.disabled",!(null==E.noAnimation||!E.noAnimation.nzNoAnimation))("nzNoAnimation",null==E.noAnimation?null:E.noAnimation.nzNoAnimation)("maxTagPlaceholder",E.nzMaxTagPlaceholder)("removeIcon",E.nzRemoveIcon)("placeHolder",E.nzPlaceHolder)("maxTagCount",E.nzMaxTagCount)("customTemplate",E.nzCustomTemplate)("tokenSeparators",E.nzTokenSeparators)("showSearch",E.nzShowSearch)("autofocus",E.nzAutoFocus)("listOfTopItem",E.listOfTopItem),t.R7$(2),t.Y8G("ngIf",E.nzShowArrow||E.hasFeedback&&!!E.status||E.isMaxTagCountSet),t.R7$(),t.Y8G("ngIf",E.nzAllowClear&&!E.nzDisabled&&E.listOfValue.length),t.R7$(),t.Y8G("cdkConnectedOverlayHasBackdrop",E.nzBackdrop)("cdkConnectedOverlayMinWidth",E.nzDropdownMatchSelectWidth?null:E.triggerWidth)("cdkConnectedOverlayWidth",E.nzDropdownMatchSelectWidth?E.triggerWidth:null)("cdkConnectedOverlayOrigin",ne)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",E.nzDropdownClassName)("cdkConnectedOverlayOpen",E.nzOpen)("cdkConnectedOverlayPositions",E.positions)}},dependencies:[st,ze.$Q,et.z,kn,F.bT,Ye.J1,Ye.Xd,Ge,ze.WB,ie.$_,ie.vT,en,F.B3],encapsulation:2,data:{animation:[nt.U1]},changeDetection:0})}return(0,Te.Cg)([(0,ke.H4)()],P.prototype,"nzOptionHeightPx",void 0),(0,Te.Cg)([(0,ke.H4)()],P.prototype,"nzSuffixIcon",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzAllowClear",void 0),(0,Te.Cg)([(0,ke.H4)(),(0,Y.H3)()],P.prototype,"nzBorderless",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzShowSearch",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzLoading",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzAutoFocus",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzAutoClearSearchValue",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzServerSearch",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzDisabled",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzOpen",void 0),(0,Te.Cg)([(0,Y.H3)()],P.prototype,"nzSelectOnTab",void 0),(0,Te.Cg)([(0,ke.H4)(),(0,Y.H3)()],P.prototype,"nzBackdrop",void 0),P})(),k=(()=>{class P{static#e=this.\u0275fac=function(I){return new(I||P)};static#t=this.\u0275mod=t.$C({type:P});static#n=this.\u0275inj=t.G2t({imports:[R,en,At,st,xe,Fe,Ge,kn,ce,Ot]})}return P})()},1166:(Lt,ct,v)=>{"use strict";v.d(ct,{Sk:()=>xt,pT:()=>Je});var t=v(1635),f=v(7336),m=v(177),C=v(4438),Ee=v(4341),Ue=v(1413),Se=v(3726),ze=v(7786),fe=v(6977),F=v(5964),ie=v(8141),he=v(6354),me=v(3294),J=v(317),G=v(5154),ge=v(6860),Ce=v(8203);const De=["handle"],Pe=Me=>({$implicit:Me});function He(Me,je){if(1&Me&&C.nrm(0,"span",1),2&Me){const q=je.$implicit;C.AVh("ant-slider-mark-active",q.active),C.Y8G("ngStyle",q.style)("innerHTML",q.label,C.npT)}}function ae(Me,je){if(1&Me&&C.nrm(0,"span",1),2&Me){const q=je.$implicit;C.AVh("ant-slider-dot-active",q.active),C.Y8G("ngStyle",q.style)}}function Te(Me,je){if(1&Me&&C.nrm(0,"nz-slider-step",4),2&Me){const q=C.XpG();C.Y8G("vertical",q.nzVertical)("min",q.nzMin)("max",q.nzMax)("lowerBound",q.bounds.lower)("upperBound",q.bounds.upper)("marksArray",q.marksArray)("included",q.nzIncluded)("reverse",q.nzReverse)}}function Y(Me,je){if(1&Me){const q=C.RV6();C.j41(0,"nz-slider-handle",5),C.bIt("focusin",function(){const se=C.eBV(q).index,re=C.XpG();return C.Njj(re.onHandleFocusIn(se))}),C.k0s()}if(2&Me){const q=je.$implicit,B=C.XpG();C.Y8G("vertical",B.nzVertical)("reverse",B.nzReverse)("offset",q.offset)("value",q.value)("active",q.active)("tooltipFormatter",B.nzTipFormatter)("tooltipVisible",B.nzTooltipVisible)("tooltipPlacement",B.nzTooltipPlacement)("dir",B.dir)}}function be(Me,je){if(1&Me&&C.nrm(0,"nz-slider-marks",4),2&Me){const q=C.XpG();C.Y8G("vertical",q.nzVertical)("min",q.nzMin)("max",q.nzMax)("lowerBound",q.bounds.lower)("upperBound",q.bounds.upper)("marksArray",q.marksArray)("included",q.nzIncluded)("reverse",q.nzReverse)}}let oe=(()=>{class Me{constructor(){this.isDragging=!1}static#e=this.\u0275fac=function(B){return new(B||Me)};static#t=this.\u0275prov=C.jDH({token:Me,factory:Me.\u0275fac})}return Me})(),nt=(()=>{class Me{constructor(q,B){this.sliderService=q,this.cdr=B,this.tooltipVisible="default",this.active=!1,this.dir="ltr",this.style={},this.enterHandle=()=>{this.sliderService.isDragging||(this.toggleTooltip(!0),this.updateTooltipPosition(),this.cdr.detectChanges())},this.leaveHandle=()=>{this.sliderService.isDragging||(this.toggleTooltip(!1),this.cdr.detectChanges())}}ngOnChanges(q){const{offset:B,value:se,active:re,tooltipVisible:Be,reverse:Ke,dir:vt}=q;(B||Ke||vt)&&this.updateStyle(),se&&(this.updateTooltipTitle(),this.updateTooltipPosition()),re&&this.toggleTooltip(!!re.currentValue),"always"===Be?.currentValue&&Promise.resolve().then(()=>this.toggleTooltip(!0,!0))}focus(){this.handleEl?.nativeElement.focus()}toggleTooltip(q,B=!1){!B&&("default"!==this.tooltipVisible||!this.tooltip)||(q?this.tooltip?.show():this.tooltip?.hide())}updateTooltipTitle(){this.tooltipTitle=this.tooltipFormatter?"function"==typeof this.tooltipFormatter?this.tooltipFormatter(this.value):this.tooltipFormatter:`${this.value}`}updateTooltipPosition(){this.tooltip&&Promise.resolve().then(()=>this.tooltip?.updatePosition())}updateStyle(){const B=this.reverse,re=this.vertical?{[B?"top":"bottom"]:`${this.offset}%`,[B?"bottom":"top"]:"auto",transform:B?null:"translateY(+50%)"}:{...this.getHorizontalStylePosition(),transform:`translateX(${B?"rtl"===this.dir?"-":"+":"rtl"===this.dir?"+":"-"}50%)`};this.style=re,this.cdr.markForCheck()}getHorizontalStylePosition(){let q=this.reverse?"auto":`${this.offset}%`,B=this.reverse?`${this.offset}%`:"auto";if("rtl"===this.dir){const se=q;q=B,B=se}return{left:q,right:B}}static#e=this.\u0275fac=function(B){return new(B||Me)(C.rXU(oe),C.rXU(C.gRc))};static#t=this.\u0275cmp=C.VBU({type:Me,selectors:[["nz-slider-handle"]],viewQuery:function(B,se){if(1&B&&(C.GBs(De,5),C.GBs(G.LH,5)),2&B){let re;C.mGM(re=C.lsd())&&(se.handleEl=re.first),C.mGM(re=C.lsd())&&(se.tooltip=re.first)}},hostBindings:function(B,se){1&B&&C.bIt("mouseenter",function(){return se.enterHandle()})("mouseleave",function(){return se.leaveHandle()})},inputs:{vertical:"vertical",reverse:"reverse",offset:"offset",value:"value",tooltipVisible:"tooltipVisible",tooltipPlacement:"tooltipPlacement",tooltipFormatter:"tooltipFormatter",active:"active",dir:"dir"},exportAs:["nzSliderHandle"],standalone:!0,features:[C.OA$,C.aNF],decls:2,vars:7,consts:[["handle",""],["tabindex","0","nz-tooltip","",1,"ant-slider-handle",3,"ngStyle","nzTooltipTitle","nzTooltipTitleContext","nzTooltipTrigger","nzTooltipPlacement"]],template:function(B,se){1&B&&C.nrm(0,"div",1,0),2&B&&C.Y8G("ngStyle",se.style)("nzTooltipTitle",null===se.tooltipFormatter||"never"===se.tooltipVisible?null:se.tooltipTitle)("nzTooltipTitleContext",C.eq3(5,Pe,se.value))("nzTooltipTrigger",null)("nzTooltipPlacement",se.tooltipPlacement)},dependencies:[G.Qt,G.LH,m.B3],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,J.H3)()],Me.prototype,"active",void 0),Me})(),ke=(()=>{class Me{constructor(){this.lowerBound=null,this.upperBound=null,this.marksArray=[],this.vertical=!1,this.included=!1,this.marks=[]}ngOnChanges(q){const{marksArray:B,lowerBound:se,upperBound:re,reverse:Be}=q;(B||Be)&&this.buildMarks(),(B||se||re||Be)&&this.togglePointActive()}trackById(q,B){return B.value}buildMarks(){const q=this.max-this.min;this.marks=this.marksArray.map(B=>{const{value:se,offset:re,config:Be}=B,Ke=this.getMarkStyles(se,q,Be);return{label:Ye(Be)?Be.label:Be,offset:re,style:Ke,value:se,config:Be,active:!1}})}getMarkStyles(q,B,se){let re;const Be=this.reverse?this.max+this.min-q:q;return re=this.vertical?{marginBottom:"-50%",bottom:(Be-this.min)/B*100+"%"}:{transform:"translate3d(-50%, 0, 0)",left:(Be-this.min)/B*100+"%"},Ye(se)&&se.style&&(re={...re,...se.style}),re}togglePointActive(){this.marks&&null!==this.lowerBound&&null!==this.upperBound&&this.marks.forEach(q=>{const B=q.value;q.active=!this.included&&B===this.upperBound||this.included&&B<=this.upperBound&&B>=this.lowerBound})}static#e=this.\u0275fac=function(B){return new(B||Me)};static#t=this.\u0275cmp=C.VBU({type:Me,selectors:[["nz-slider-marks"]],hostAttrs:[1,"ant-slider-mark"],inputs:{lowerBound:"lowerBound",upperBound:"upperBound",marksArray:"marksArray",min:"min",max:"max",vertical:"vertical",included:"included",reverse:"reverse"},exportAs:["nzSliderMarks"],standalone:!0,features:[C.OA$,C.aNF],decls:1,vars:2,consts:[["class","ant-slider-mark-text",3,"ant-slider-mark-active","ngStyle","innerHTML",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-mark-text",3,"ngStyle","innerHTML"]],template:function(B,se){1&B&&C.DNE(0,He,1,4,"span",0),2&B&&C.Y8G("ngForOf",se.marks)("ngForTrackBy",se.trackById)},dependencies:[m.B3,m.Sq],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,J.H3)()],Me.prototype,"vertical",void 0),(0,t.Cg)([(0,J.H3)()],Me.prototype,"included",void 0),Me})();function Ye(Me){return"string"!=typeof Me}let et=(()=>{class Me{constructor(){this.lowerBound=null,this.upperBound=null,this.marksArray=[],this.vertical=!1,this.included=!1,this.steps=[]}ngOnChanges(q){const{marksArray:B,lowerBound:se,upperBound:re,reverse:Be}=q;(B||Be)&&this.buildSteps(),(B||se||re||Be)&&this.togglePointActive()}trackById(q,B){return B.value}buildSteps(){const q=this.vertical?"bottom":"left";this.steps=this.marksArray.map(B=>{const{value:se,config:re}=B;let Be=B.offset;return this.reverse&&(Be=(this.max-se)/(this.max-this.min)*100),{value:se,offset:Be,config:re,active:!1,style:{[q]:`${Be}%`,transform:this.vertical?"translateY(50%)":"translateX(-50%)"}}})}togglePointActive(){this.steps&&null!==this.lowerBound&&null!==this.upperBound&&this.steps.forEach(q=>{const B=q.value;q.active=!this.included&&B===this.upperBound||this.included&&B<=this.upperBound&&B>=this.lowerBound})}static#e=this.\u0275fac=function(B){return new(B||Me)};static#t=this.\u0275cmp=C.VBU({type:Me,selectors:[["nz-slider-step"]],hostAttrs:[1,"ant-slider-step"],inputs:{lowerBound:"lowerBound",upperBound:"upperBound",marksArray:"marksArray",min:"min",max:"max",vertical:"vertical",included:"included",reverse:"reverse"},exportAs:["nzSliderStep"],standalone:!0,features:[C.OA$,C.aNF],decls:1,vars:2,consts:[["class","ant-slider-dot",3,"ant-slider-dot-active","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-dot",3,"ngStyle"]],template:function(B,se){1&B&&C.DNE(0,ae,1,3,"span",0),2&B&&C.Y8G("ngForOf",se.steps)("ngForTrackBy",se.trackById)},dependencies:[m.B3,m.Sq],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,J.H3)()],Me.prototype,"vertical",void 0),(0,t.Cg)([(0,J.H3)()],Me.prototype,"included",void 0),Me})(),Le=(()=>{class Me{constructor(){this.offset=0,this.reverse=!1,this.dir="ltr",this.length=0,this.vertical=!1,this.included=!1,this.style={}}ngOnChanges(){const B=this.reverse,se=this.included?"visible":"hidden",Be=this.length,Ke=this.vertical?{[B?"top":"bottom"]:`${this.offset}%`,[B?"bottom":"top"]:"auto",height:`${Be}%`,visibility:se}:{...this.getHorizontalStylePosition(),width:`${Be}%`,visibility:se};this.style=Ke}getHorizontalStylePosition(){let q=this.reverse?"auto":`${this.offset}%`,B=this.reverse?`${this.offset}%`:"auto";if("rtl"===this.dir){const se=q;q=B,B=se}return{left:q,right:B}}static#e=this.\u0275fac=function(B){return new(B||Me)};static#t=this.\u0275cmp=C.VBU({type:Me,selectors:[["nz-slider-track"]],inputs:{offset:"offset",reverse:"reverse",dir:"dir",length:"length",vertical:"vertical",included:"included"},exportAs:["nzSliderTrack"],standalone:!0,features:[C.OA$,C.aNF],decls:1,vars:1,consts:[[1,"ant-slider-track",3,"ngStyle"]],template:function(B,se){1&B&&C.nrm(0,"div",0),2&B&&C.Y8G("ngStyle",se.style)},dependencies:[m.B3],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,J.YI)()],Me.prototype,"offset",void 0),(0,t.Cg)([(0,J.H3)()],Me.prototype,"reverse",void 0),(0,t.Cg)([(0,J.YI)()],Me.prototype,"length",void 0),(0,t.Cg)([(0,J.H3)()],Me.prototype,"vertical",void 0),(0,t.Cg)([(0,J.H3)()],Me.prototype,"included",void 0),Me})(),Je=(()=>{class Me{constructor(q,B,se,re,Be){this.slider=q,this.sliderService=B,this.cdr=se,this.platform=re,this.directionality=Be,this.nzDisabled=!1,this.nzDots=!1,this.nzIncluded=!0,this.nzRange=!1,this.nzVertical=!1,this.nzReverse=!1,this.nzMarks=null,this.nzMax=100,this.nzMin=0,this.nzStep=1,this.nzTooltipVisible="default",this.nzTooltipPlacement="top",this.nzOnAfterChange=new C.bkB,this.value=null,this.cacheSliderStart=null,this.cacheSliderLength=null,this.activeValueIndex=void 0,this.track={offset:null,length:null},this.handles=[],this.marksArray=null,this.bounds={lower:null,upper:null},this.dir="ltr",this.destroy$=new Ue.B,this.isNzDisableFirstChange=!0}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,fe.Q)(this.destroy$)).subscribe(q=>{this.dir=q,this.cdr.detectChanges(),this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0))}),this.handles=tt(this.nzRange?2:1),this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null,this.bindDraggingHandlers(),this.toggleDragDisabled(this.nzDisabled),null===this.getValue()&&this.setValue(this.formatValue(null))}ngOnChanges(q){const{nzDisabled:B,nzMarks:se,nzRange:re}=q;B&&!B.firstChange?this.toggleDragDisabled(B.currentValue):se&&!se.firstChange?this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null:re&&!re.firstChange&&(this.handles=tt(re.currentValue?2:1),this.setValue(this.formatValue(null)))}ngOnDestroy(){this.unsubscribeDrag(),this.destroy$.next(!0),this.destroy$.complete()}writeValue(q){this.setValue(q,!0)}onValueChange(q){}onTouched(){}registerOnChange(q){this.onValueChange=q}registerOnTouched(q){this.onTouched=q}setDisabledState(q){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||q,this.isNzDisableFirstChange=!1,this.toggleDragDisabled(this.nzDisabled),this.cdr.markForCheck()}onKeyDown(q){if(this.nzDisabled)return;const B=q.keyCode,re=B===f.UQ||B===f.n6;if(B!==f.LE&&B!==f.i7&&!re)return;q.preventDefault();let Be=(re?-this.nzStep:this.nzStep)*(this.nzReverse?-1:1);Be="rtl"===this.dir?-1*Be:Be,this.setActiveValue((0,J.Gd)(this.nzRange?this.value[this.activeValueIndex]+Be:this.value+Be,this.nzMin,this.nzMax)),this.nzOnAfterChange.emit(this.getValue(!0))}onHandleFocusIn(q){this.activeValueIndex=q}setValue(q,B=!1){B?(this.value=this.formatValue(q),this.updateTrackAndHandles()):function dt(Me,je){return typeof Me==typeof je&&(pt(Me)&&pt(je)?(0,J.r1)(Me,je):Me===je)}(this.value,q)||(this.value=q,this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0)))}getValue(q=!1){return q&&this.value&&pt(this.value)?[...this.value].sort((B,se)=>B-se):this.value}getValueToOffset(q){let B=q;return typeof B>"u"&&(B=this.getValue(!0)),pt(B)?B.map(se=>this.valueToOffset(se)):this.valueToOffset(B)}setActiveValueIndex(q){const B=this.getValue();if(pt(B)){let re,se=null,Be=-1;B.forEach((Ke,vt)=>{re=Math.abs(q-Ke),(null===se||re<se)&&(se=re,Be=vt)}),this.activeValueIndex=Be,this.handlerComponents.toArray()[Be].focus()}else this.handlerComponents.toArray()[0].focus()}setActiveValue(q){if(pt(this.value)){const B=[...this.value];B[this.activeValueIndex]=q,this.setValue(B)}else this.setValue(q)}updateTrackAndHandles(){const q=this.getValue(),B=this.getValueToOffset(q),se=this.getValue(!0),re=this.getValueToOffset(se),Be=pt(se)?se:[0,se],Ke=pt(re)?[re[0],re[1]-re[0]]:[0,re];this.handles.forEach((vt,Nt)=>{vt.offset=pt(B)?B[Nt]:B,vt.value=pt(q)?q[Nt]:q||0}),[this.bounds.lower,this.bounds.upper]=Be,[this.track.offset,this.track.length]=Ke,this.cdr.markForCheck()}onDragStart(q){this.toggleDragMoving(!0),this.cacheSliderProperty(),this.setActiveValueIndex(this.getLogicalValue(q)),this.setActiveValue(this.getLogicalValue(q)),this.showHandleTooltip(this.nzRange?this.activeValueIndex:0)}onDragMove(q){this.setActiveValue(this.getLogicalValue(q)),this.cdr.markForCheck()}getLogicalValue(q){return this.nzReverse?this.nzVertical||"rtl"!==this.dir?this.nzMax-q+this.nzMin:q:this.nzVertical||"rtl"!==this.dir?q:this.nzMax-q+this.nzMin}onDragEnd(){this.nzOnAfterChange.emit(this.getValue(!0)),this.toggleDragMoving(!1),this.cacheSliderProperty(!0),this.hideAllHandleTooltip(),this.cdr.markForCheck()}bindDraggingHandlers(){if(!this.platform.isBrowser)return;const q=Ke=>vt=>Ke.reduce((Nt,Xt)=>Nt[Xt]||Nt,vt),B=this.slider.nativeElement,se=this.nzVertical?"pageY":"pageX",re={start:"mousedown",move:"mousemove",end:"mouseup",pluckKey:[se]},Be={start:"touchstart",move:"touchmove",end:"touchend",pluckKey:["touches","0",se],filter:Ke=>Ke instanceof TouchEvent};[re,Be].forEach(Ke=>{const{start:vt,move:Nt,end:Xt,pluckKey:Zt,filter:Wt=(()=>!0)}=Ke;Ke.startPlucked$=(0,Se.R)(B,vt).pipe((0,F.p)(Wt),(0,ie.M)(J.yc),(0,he.T)(q(Zt)),(0,he.T)(lt=>this.findClosestValue(lt))),Ke.end$=(0,Se.R)(document,Xt),Ke.moveResolved$=(0,Se.R)(document,Nt).pipe((0,F.p)(Wt),(0,ie.M)(J.yc),(0,he.T)(q(Zt)),(0,me.F)(),(0,he.T)(lt=>this.findClosestValue(lt)),(0,me.F)(),(0,fe.Q)(Ke.end$))}),this.dragStart$=(0,ze.h)(re.startPlucked$,Be.startPlucked$),this.dragMove$=(0,ze.h)(re.moveResolved$,Be.moveResolved$),this.dragEnd$=(0,ze.h)(re.end$,Be.end$)}subscribeDrag(q=["start","move","end"]){-1!==q.indexOf("start")&&this.dragStart$&&!this.dragStart_&&(this.dragStart_=this.dragStart$.subscribe(this.onDragStart.bind(this))),-1!==q.indexOf("move")&&this.dragMove$&&!this.dragMove_&&(this.dragMove_=this.dragMove$.subscribe(this.onDragMove.bind(this))),-1!==q.indexOf("end")&&this.dragEnd$&&!this.dragEnd_&&(this.dragEnd_=this.dragEnd$.subscribe(this.onDragEnd.bind(this)))}unsubscribeDrag(q=["start","move","end"]){-1!==q.indexOf("start")&&this.dragStart_&&(this.dragStart_.unsubscribe(),this.dragStart_=null),-1!==q.indexOf("move")&&this.dragMove_&&(this.dragMove_.unsubscribe(),this.dragMove_=null),-1!==q.indexOf("end")&&this.dragEnd_&&(this.dragEnd_.unsubscribe(),this.dragEnd_=null)}toggleDragMoving(q){const B=["move","end"];q?(this.sliderService.isDragging=!0,this.subscribeDrag(B)):(this.sliderService.isDragging=!1,this.unsubscribeDrag(B))}toggleDragDisabled(q){q?this.unsubscribeDrag():this.subscribeDrag(["start"])}findClosestValue(q){const B=this.getSliderStartPosition(),se=this.getSliderLength(),re=(0,J.Gd)((q-B)/se,0,1),Be=(this.nzMax-this.nzMin)*(this.nzVertical?1-re:re)+this.nzMin,Ke=null===this.nzMarks?[]:Object.keys(this.nzMarks).map(parseFloat).sort((Xt,Zt)=>Xt-Zt);if(0!==this.nzStep&&!this.nzDots){const Xt=Math.round(Be/this.nzStep)*this.nzStep;Ke.push(Xt)}const vt=Ke.map(Xt=>Math.abs(Be-Xt)),Nt=Ke[vt.indexOf(Math.min(...vt))];return 0===this.nzStep?Nt:parseFloat(Nt.toFixed((0,J.XV)(this.nzStep)))}valueToOffset(q){return(0,J.Os)(this.nzMin,this.nzMax,q)}getSliderStartPosition(){if(null!==this.cacheSliderStart)return this.cacheSliderStart;const q=(0,J.Mk)(this.slider.nativeElement);return this.nzVertical?q.top:q.left}getSliderLength(){if(null!==this.cacheSliderLength)return this.cacheSliderLength;const q=this.slider.nativeElement;return this.nzVertical?q.clientHeight:q.clientWidth}cacheSliderProperty(q=!1){this.cacheSliderStart=q?null:this.getSliderStartPosition(),this.cacheSliderLength=q?null:this.getSliderLength()}formatValue(q){return(0,J.gD)(q)?this.nzRange?[this.nzMin,this.nzMax]:this.nzMin:function $e(Me,je){return!(!pt(Me)&&isNaN(Me)||pt(Me)&&Me.some(q=>isNaN(q)))&&function mt(Me,je=!1){if(pt(Me)!==je)throw function We(){return new Error('The "nzRange" can\'t match the "ngModel"\'s type, please check these properties: "nzRange", "ngModel", "nzDefaultValue".')}();return!0}(Me,je)}(q,this.nzRange)?pt(q)?q.map(B=>(0,J.Gd)(B,this.nzMin,this.nzMax)):(0,J.Gd)(q,this.nzMin,this.nzMax):this.nzDefaultValue?this.nzDefaultValue:this.nzRange?[this.nzMin,this.nzMax]:this.nzMin}showHandleTooltip(q=0){this.handles.forEach((B,se)=>{B.active=se===q})}hideAllHandleTooltip(){this.handles.forEach(q=>q.active=!1)}generateMarkItems(q){const B=[];for(const se in q)if(q.hasOwnProperty(se)){const re=q[se],Be="number"==typeof se?se:parseFloat(se);Be>=this.nzMin&&Be<=this.nzMax&&B.push({value:Be,offset:this.valueToOffset(Be),config:re})}return B.length?B:null}static#e=this.\u0275fac=function(B){return new(B||Me)(C.rXU(C.aKT),C.rXU(oe),C.rXU(C.gRc),C.rXU(ge.OD),C.rXU(Ce.dS,8))};static#t=this.\u0275cmp=C.VBU({type:Me,selectors:[["nz-slider"]],viewQuery:function(B,se){if(1&B&&C.GBs(nt,5),2&B){let re;C.mGM(re=C.lsd())&&(se.handlerComponents=re)}},hostAttrs:[1,"ant-slider"],hostVars:8,hostBindings:function(B,se){1&B&&C.bIt("keydown",function(Be){return se.onKeyDown(Be)}),2&B&&C.AVh("ant-slider-rtl","rtl"===se.dir)("ant-slider-disabled",se.nzDisabled)("ant-slider-vertical",se.nzVertical)("ant-slider-with-marks",se.marksArray)},inputs:{nzDisabled:"nzDisabled",nzDots:"nzDots",nzIncluded:"nzIncluded",nzRange:"nzRange",nzVertical:"nzVertical",nzReverse:"nzReverse",nzDefaultValue:"nzDefaultValue",nzMarks:"nzMarks",nzMax:"nzMax",nzMin:"nzMin",nzStep:"nzStep",nzTooltipVisible:"nzTooltipVisible",nzTooltipPlacement:"nzTooltipPlacement",nzTipFormatter:"nzTipFormatter"},outputs:{nzOnAfterChange:"nzOnAfterChange"},exportAs:["nzSlider"],standalone:!0,features:[C.Jv_([{provide:Ee.kq,useExisting:(0,C.Rfq)(()=>Me),multi:!0},oe]),C.OA$,C.aNF],decls:5,vars:9,consts:[[1,"ant-slider-rail"],[3,"vertical","included","offset","length","reverse","dir"],[3,"vertical","min","max","lowerBound","upperBound","marksArray","included","reverse",4,"ngIf"],[3,"vertical","reverse","offset","value","active","tooltipFormatter","tooltipVisible","tooltipPlacement","dir","focusin",4,"ngFor","ngForOf"],[3,"vertical","min","max","lowerBound","upperBound","marksArray","included","reverse"],[3,"focusin","vertical","reverse","offset","value","active","tooltipFormatter","tooltipVisible","tooltipPlacement","dir"]],template:function(B,se){1&B&&(C.nrm(0,"div",0)(1,"nz-slider-track",1),C.DNE(2,Te,1,8,"nz-slider-step",2)(3,Y,1,9,"nz-slider-handle",3)(4,be,1,8,"nz-slider-marks",2)),2&B&&(C.R7$(),C.Y8G("vertical",se.nzVertical)("included",se.nzIncluded)("offset",se.track.offset)("length",se.track.length)("reverse",se.nzReverse)("dir",se.dir),C.R7$(),C.Y8G("ngIf",se.marksArray),C.R7$(),C.Y8G("ngForOf",se.handles),C.R7$(),C.Y8G("ngIf",se.marksArray))},dependencies:[Le,et,nt,m.Sq,ke,m.bT],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,J.H3)()],Me.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,J.H3)()],Me.prototype,"nzDots",void 0),(0,t.Cg)([(0,J.H3)()],Me.prototype,"nzIncluded",void 0),(0,t.Cg)([(0,J.H3)()],Me.prototype,"nzRange",void 0),(0,t.Cg)([(0,J.H3)()],Me.prototype,"nzVertical",void 0),(0,t.Cg)([(0,J.H3)()],Me.prototype,"nzReverse",void 0),(0,t.Cg)([(0,J.YI)()],Me.prototype,"nzMax",void 0),(0,t.Cg)([(0,J.YI)()],Me.prototype,"nzMin",void 0),(0,t.Cg)([(0,J.YI)()],Me.prototype,"nzStep",void 0),Me})();function pt(Me){return Me instanceof Array&&2===Me.length}function tt(Me){return Array(Me).fill(0).map(()=>({offset:null,value:null,active:!1}))}let xt=(()=>{class Me{static#e=this.\u0275fac=function(B){return new(B||Me)};static#t=this.\u0275mod=C.$C({type:Me});static#n=this.\u0275inj=C.G2t({imports:[Je,nt]})}return Me})()},7685:(Lt,ct,v)=>{"use strict";v.d(ct,{Dq:()=>me,U5:()=>ge,pc:()=>Ce});var t=v(4438),f=v(1635),m=v(177),C=v(1413),Ee=v(6977),Ue=v(6035),Se=v(317);const ze=["*"],fe=De=>({$implicit:De});function F(De,Pe){}function ie(De,Pe){if(1&De&&(t.j41(0,"span",4),t.DNE(1,F,0,0,"ng-template",5),t.k0s()),2&De){const He=t.XpG(),ae=He.last,Te=He.index,Y=t.XpG();t.xc7("margin-bottom","vertical"===Y.nzDirection?ae?null:Y.spaceSize:null,"px")("margin-right","horizontal"===Y.nzDirection?ae?null:Y.spaceSize:null,"px"),t.R7$(),t.Y8G("ngTemplateOutlet",Y.nzSplit)("ngTemplateOutletContext",t.eq3(6,fe,Te))}}function he(De,Pe){if(1&De&&(t.j41(0,"div",1),t.eu8(1,2),t.k0s(),t.DNE(2,ie,2,8,"span",3)),2&De){const He=Pe.$implicit,ae=Pe.last,Te=t.XpG();t.xc7("margin-bottom","vertical"===Te.nzDirection?ae?null:Te.spaceSize:null,"px")("margin-right","horizontal"===Te.nzDirection?ae?null:Te.spaceSize:null,"px"),t.R7$(),t.Y8G("ngTemplateOutlet",He),t.R7$(),t.Y8G("ngIf",Te.nzSplit&&!ae)}}let me=(()=>{class De{constructor(){}static#e=this.\u0275fac=function(ae){return new(ae||De)};static#t=this.\u0275dir=t.FsC({type:De,selectors:[["","nzSpaceItem",""]],standalone:!0})}return De})();const G={small:8,middle:16,large:24};let ge=(()=>{class De{constructor(He,ae){this.nzConfigService=He,this.cdr=ae,this._nzModuleName="space",this.nzDirection="horizontal",this.nzSplit=null,this.nzWrap=!1,this.nzSize="small",this.spaceSize=G.small,this.destroy$=new C.B}updateSpaceItems(){this.spaceSize=("string"==typeof this.nzSize?G[this.nzSize]:this.nzSize)/(this.nzSplit?2:1),this.cdr.markForCheck()}ngOnChanges(){this.updateSpaceItems(),this.mergedAlign=void 0===this.nzAlign&&"horizontal"===this.nzDirection?"center":this.nzAlign}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterContentInit(){this.updateSpaceItems(),this.items.changes.pipe((0,Ee.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}static#e=this.\u0275fac=function(ae){return new(ae||De)(t.rXU(Ue.yx),t.rXU(t.gRc))};static#t=this.\u0275cmp=t.VBU({type:De,selectors:[["nz-space"],["","nz-space",""]],contentQueries:function(ae,Te,Y){if(1&ae&&t.wni(Y,me,4,t.C4Q),2&ae){let be;t.mGM(be=t.lsd())&&(Te.items=be)}},hostAttrs:[1,"ant-space"],hostVars:14,hostBindings:function(ae,Te){2&ae&&(t.xc7("flex-wrap",Te.nzWrap?"wrap":null),t.AVh("ant-space-horizontal","horizontal"===Te.nzDirection)("ant-space-vertical","vertical"===Te.nzDirection)("ant-space-align-start","start"===Te.mergedAlign)("ant-space-align-end","end"===Te.mergedAlign)("ant-space-align-center","center"===Te.mergedAlign)("ant-space-align-baseline","baseline"===Te.mergedAlign))},inputs:{nzDirection:"nzDirection",nzAlign:"nzAlign",nzSplit:"nzSplit",nzWrap:"nzWrap",nzSize:"nzSize"},exportAs:["NzSpace"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:ze,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],[1,"ant-space-item"],[3,"ngTemplateOutlet"],["class","ant-space-split",3,"margin-bottom","margin-right",4,"ngIf"],[1,"ant-space-split"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(ae,Te){1&ae&&(t.NAR(),t.SdG(0),t.DNE(1,he,3,6,"ng-template",0)),2&ae&&(t.R7$(),t.Y8G("ngForOf",Te.items))},dependencies:[m.T3,m.bT,m.Sq],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Se.H3)()],De.prototype,"nzWrap",void 0),(0,f.Cg)([(0,Ue.H4)()],De.prototype,"nzSize",void 0),De})(),Ce=(()=>{class De{static#e=this.\u0275fac=function(ae){return new(ae||De)};static#t=this.\u0275mod=t.$C({type:De});static#n=this.\u0275inj=t.G2t({})}return De})()},2983:(Lt,ct,v)=>{"use strict";v.d(ct,{a:()=>ke,V:()=>Ye});var t=v(1635),f=v(177),m=v(4438),C=v(1413),Ee=v(4412),Ue=v(2771),Se=v(1584),ze=v(9172),fe=v(3294),F=v(5558),ie=v(9974),he=v(5343),me=v(4360),J=v(8750),ge=v(6977),Ce=v(6035),De=v(317),Pe=v(8203);const He=["*"];function ae(et,Le){1&et&&(m.j41(0,"span",3),m.nrm(1,"i",4)(2,"i",4)(3,"i",4)(4,"i",4),m.k0s())}function Te(et,Le){}function Y(et,Le){if(1&et&&(m.j41(0,"div",8),m.EFF(1),m.k0s()),2&et){const Je=m.XpG(2);m.R7$(),m.JRh(Je.nzTip)}}function be(et,Le){if(1&et&&(m.j41(0,"div")(1,"div",5),m.DNE(2,Te,0,0,"ng-template",6)(3,Y,2,1,"div",7),m.k0s()()),2&et){const Je=m.XpG(),We=m.sdS(1);m.R7$(),m.AVh("ant-spin-rtl","rtl"===Je.dir)("ant-spin-spinning",Je.isLoading)("ant-spin-lg","large"===Je.nzSize)("ant-spin-sm","small"===Je.nzSize)("ant-spin-show-text",Je.nzTip),m.R7$(),m.Y8G("ngTemplateOutlet",Je.nzIndicator||We),m.R7$(),m.Y8G("ngIf",Je.nzTip)}}function oe(et,Le){if(1&et&&(m.j41(0,"div",9),m.SdG(1),m.k0s()),2&et){const Je=m.XpG();m.AVh("ant-spin-blur",Je.isLoading)}}let ke=(()=>{class et{constructor(Je,We,pt){this.nzConfigService=Je,this.cdr=We,this.directionality=pt,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new C.B,this.spinning$=new Ee.t(this.nzSpinning),this.delay$=new Ue.m(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){this.delay$.pipe((0,ze.Z)(this.nzDelay),(0,fe.F)(),(0,F.n)(We=>0===We?this.spinning$:this.spinning$.pipe(function G(et){return(0,ie.N)((Le,Je)=>{let We=!1,pt=null,tt=null;const $e=()=>{if(tt?.unsubscribe(),tt=null,We){We=!1;const mt=pt;pt=null,Je.next(mt)}};Le.subscribe((0,me._)(Je,mt=>{tt?.unsubscribe(),We=!0,pt=mt,tt=(0,me._)(Je,$e,he.l),(0,J.Tg)(et(mt)).subscribe(tt)},()=>{$e(),Je.complete()},void 0,()=>{pt=tt=null}))})}(pt=>(0,Se.O)(pt?We:0)))),(0,ge.Q)(this.destroy$)).subscribe(We=>{this.isLoading=We,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe((0,ge.Q)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change?.pipe((0,ge.Q)(this.destroy$)).subscribe(We=>{this.dir=We,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(Je){const{nzSpinning:We,nzDelay:pt}=Je;We&&this.spinning$.next(this.nzSpinning),pt&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(We){return new(We||et)(m.rXU(Ce.yx),m.rXU(m.gRc),m.rXU(Pe.dS,8))};static#t=this.\u0275cmp=m.VBU({type:et,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(We,pt){2&We&&m.AVh("ant-spin-nested-loading",!pt.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],standalone:!0,features:[m.OA$,m.aNF],ngContentSelectors:He,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(We,pt){1&We&&(m.NAR(),m.DNE(0,ae,5,0,"ng-template",null,0,m.C5r)(2,be,4,12,"div",1)(3,oe,2,2,"div",2)),2&We&&(m.R7$(2),m.Y8G("ngIf",pt.isLoading),m.R7$(),m.Y8G("ngIf",!pt.nzSimple))},dependencies:[f.bT,f.T3],encapsulation:2})}return(0,t.Cg)([(0,Ce.H4)()],et.prototype,"nzIndicator",void 0),(0,t.Cg)([(0,De.YI)()],et.prototype,"nzDelay",void 0),(0,t.Cg)([(0,De.H3)()],et.prototype,"nzSimple",void 0),(0,t.Cg)([(0,De.H3)()],et.prototype,"nzSpinning",void 0),et})(),Ye=(()=>{class et{static#e=this.\u0275fac=function(We){return new(We||et)};static#t=this.\u0275mod=m.$C({type:et});static#n=this.\u0275inj=m.G2t({})}return et})()},7481:(Lt,ct,v)=>{"use strict";v.d(ct,{$:()=>be,u:()=>Y});var t=v(1635),f=v(7336),m=v(177),C=v(4438),Ee=v(4341),Ue=v(1413),Se=v(3726),ze=v(6977),fe=v(6035),F=v(7806),ie=v(317),he=v(5930),me=v(5103),J=v(851),G=v(8203);const ge=["switchElement"];function Ce(oe,nt){1&oe&&C.nrm(0,"span",8)}function De(oe,nt){if(1&oe&&(C.qex(0),C.EFF(1),C.bVm()),2&oe){const ke=C.XpG(2);C.R7$(),C.JRh(ke.nzCheckedChildren)}}function Pe(oe,nt){if(1&oe&&(C.qex(0),C.DNE(1,De,2,1,"ng-container",9),C.bVm()),2&oe){const ke=C.XpG();C.R7$(),C.Y8G("nzStringTemplateOutlet",ke.nzCheckedChildren)}}function He(oe,nt){if(1&oe&&(C.qex(0),C.EFF(1),C.bVm()),2&oe){const ke=C.XpG(2);C.R7$(),C.JRh(ke.nzUnCheckedChildren)}}function ae(oe,nt){if(1&oe&&C.DNE(0,He,2,1,"ng-container",9),2&oe){const ke=C.XpG();C.Y8G("nzStringTemplateOutlet",ke.nzUnCheckedChildren)}}let Y=(()=>{class oe{updateValue(ke){this.isChecked!==ke&&(this.isChecked=ke,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(ke,Ye,et,Le,Je,We){this.nzConfigService=ke,this.host=Ye,this.ngZone=et,this.cdr=Le,this.focusMonitor=Je,this.directionality=We,this._nzModuleName="switch",this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.nzId=null,this.dir="ltr",this.destroy$=new Ue.B,this.isNzDisableFirstChange=!0}ngOnInit(){this.directionality.change.pipe((0,ze.Q)(this.destroy$)).subscribe(ke=>{this.dir=ke,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,Se.R)(this.host.nativeElement,"click").pipe((0,ze.Q)(this.destroy$)).subscribe(ke=>{ke.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,Se.R)(this.switchElement.nativeElement,"keydown").pipe((0,ze.Q)(this.destroy$)).subscribe(ke=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:Ye}=ke;Ye!==f.UQ&&Ye!==f.LE&&Ye!==f.t6&&Ye!==f.Fm||(ke.preventDefault(),this.ngZone.run(()=>{Ye===f.UQ?this.updateValue(!1):Ye===f.LE?this.updateValue(!0):(Ye===f.t6||Ye===f.Fm)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,ze.Q)(this.destroy$)).subscribe(ke=>{ke||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(ke){this.isChecked=ke,this.cdr.markForCheck()}registerOnChange(ke){this.onChange=ke}registerOnTouched(ke){this.onTouched=ke}setDisabledState(ke){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||ke,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static#e=this.\u0275fac=function(Ye){return new(Ye||oe)(C.rXU(fe.yx),C.rXU(C.aKT),C.rXU(C.SKi),C.rXU(C.gRc),C.rXU(J.FN),C.rXU(G.dS,8))};static#t=this.\u0275cmp=C.VBU({type:oe,selectors:[["nz-switch"]],viewQuery:function(Ye,et){if(1&Ye&&C.GBs(ge,7),2&Ye){let Le;C.mGM(Le=C.lsd())&&(et.switchElement=Le.first)}},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],standalone:!0,features:[C.Jv_([{provide:Ee.kq,useExisting:(0,C.Rfq)(()=>oe),multi:!0}]),C.aNF],decls:9,vars:16,consts:[["switchElement",""],["uncheckTemplate",""],["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(Ye,et){if(1&Ye&&(C.j41(0,"button",2,0)(2,"span",3),C.DNE(3,Ce,1,0,"span",4),C.k0s(),C.j41(4,"span",5),C.DNE(5,Pe,2,1,"ng-container",6)(6,ae,1,1,"ng-template",null,1,C.C5r),C.k0s(),C.nrm(8,"div",7),C.k0s()),2&Ye){const Le=C.sdS(7);C.AVh("ant-switch-checked",et.isChecked)("ant-switch-loading",et.nzLoading)("ant-switch-disabled",et.nzDisabled)("ant-switch-small","small"===et.nzSize)("ant-switch-rtl","rtl"===et.dir),C.Y8G("disabled",et.nzDisabled)("nzWaveExtraNode",!0),C.BMQ("id",et.nzId),C.R7$(3),C.Y8G("ngIf",et.nzLoading),C.R7$(2),C.Y8G("ngIf",et.isChecked)("ngIfElse",Le)}},dependencies:[he.o7,he.p,me.Y3,me.Dn,m.bT,F.C,F.m],encapsulation:2,changeDetection:0})}return(0,t.Cg)([(0,ie.H3)()],oe.prototype,"nzLoading",void 0),(0,t.Cg)([(0,ie.H3)()],oe.prototype,"nzDisabled",void 0),(0,t.Cg)([(0,ie.H3)()],oe.prototype,"nzControl",void 0),(0,t.Cg)([(0,fe.H4)()],oe.prototype,"nzSize",void 0),oe})(),be=(()=>{class oe{static#e=this.\u0275fac=function(Ye){return new(Ye||oe)};static#t=this.\u0275mod=C.$C({type:oe});static#n=this.\u0275inj=C.G2t({imports:[Y]})}return oe})()},9247:(Lt,ct,v)=>{"use strict";v.d(ct,{SO:()=>Ir,CP:()=>po,$G:()=>Vr,aj:()=>Mi,_4:()=>lo,IL:()=>Lr,kt:()=>fo});var t=v(4438),f=v(1635),m=v(3726),C=v(1413),Ee=v(2771),Ue=v(4412),Se=v(4572),ze=v(7786),fe=v(983),F=v(7673),ie=v(6977),he=v(6354),me=v(3294),J=v(152),G=v(5245),ge=v(5964),Ce=v(5558),De=v(9172),Pe=v(1986),He=v(1397),ae=v(6035),Te=v(1025),Y=v(317),be=v(2602),oe=v(177),nt=v(4341),ke=v(513),Ye=v(2986),et=v(5103),Le=v(3190),Je=v(3341),We=v(1868),pt=v(6389),tt=v(5930),$e=v(494),mt=v(1672),dt=v(5979),xt=v(6860),jt=v(1997),Me=v(8203);const je=["nz-pagination-item",""],q=(V,ut)=>({$implicit:V,page:ut});function B(V,ut){if(1&V&&(t.j41(0,"a"),t.EFF(1),t.k0s()),2&V){const O=t.XpG().page;t.R7$(),t.JRh(O)}}function se(V,ut){1&V&&t.nrm(0,"span",3)}function re(V,ut){1&V&&t.nrm(0,"span",4)}function Be(V,ut){if(1&V&&(t.j41(0,"button",2),t.DNE(1,se,1,0,"span",3)(2,re,1,0),t.k0s()),2&V){const O=t.XpG(2);t.Y8G("disabled",O.disabled),t.BMQ("title",O.locale.prev_page),t.R7$(),t.vxM(1,"rtl"===O.direction?1:2)}}function Ke(V,ut){1&V&&t.nrm(0,"span",4)}function vt(V,ut){1&V&&t.nrm(0,"span",3)}function Nt(V,ut){if(1&V&&(t.j41(0,"button",2),t.DNE(1,Ke,1,0,"span",4)(2,vt,1,0),t.k0s()),2&V){const O=t.XpG(2);t.Y8G("disabled",O.disabled),t.BMQ("title",O.locale.next_page),t.R7$(),t.vxM(1,"rtl"===O.direction?1:2)}}function Xt(V,ut){1&V&&t.nrm(0,"span",8)}function Zt(V,ut){1&V&&t.nrm(0,"span",9)}function Wt(V,ut){if(1&V&&t.DNE(0,Xt,1,0,"span",8)(1,Zt,1,0),2&V){const O=t.XpG(3);t.vxM(0,"rtl"===O.direction?0:1)}}function lt(V,ut){1&V&&t.nrm(0,"span",9)}function Ft(V,ut){1&V&&t.nrm(0,"span",8)}function _e(V,ut){if(1&V&&t.DNE(0,lt,1,0,"span",9)(1,Ft,1,0),2&V){const O=t.XpG(3);t.vxM(0,"rtl"===O.direction?0:1)}}function Ne(V,ut){if(1&V&&(t.j41(0,"a",5)(1,"div",6),t.DNE(2,Wt,2,1)(3,_e,2,1),t.j41(4,"span",7),t.EFF(5,"\u2022\u2022\u2022"),t.k0s()()()),2&V){let O;const A=t.XpG().$implicit;t.R7$(2),t.vxM(2,"prev_5"===(O=A)?2:"next_5"===O?3:-1)}}function Z(V,ut){if(1&V&&t.DNE(0,B,2,1)(1,Be,3,3)(2,Nt,3,3)(3,Ne,6,1),2&V){let O;t.vxM(0,"page"===(O=ut.$implicit)?0:"prev"===O?1:"next"===O?2:3)}}function ye(V,ut){}const ee=["nz-pagination-options",""],W=(V,ut)=>ut.value;function b(V,ut){if(1&V&&t.nrm(0,"nz-option",3),2&V){const O=ut.$implicit;t.Y8G("nzLabel",O.label)("nzValue",O.value)}}function M(V,ut){if(1&V){const O=t.RV6();t.j41(0,"nz-select",2),t.bIt("ngModelChange",function(H){t.eBV(O);const Re=t.XpG();return t.Njj(Re.onPageSizeChange(H))}),t.Z7z(1,b,1,2,"nz-option",3,W),t.k0s()}if(2&V){const O=t.XpG();t.Y8G("nzDisabled",O.disabled)("nzSize",O.nzSize)("ngModel",O.pageSize),t.R7$(),t.Dyx(O.listOfPageSizeOption)}}function X(V,ut){if(1&V){const O=t.RV6();t.j41(0,"div",1),t.EFF(1),t.j41(2,"input",4),t.bIt("keydown.enter",function(H){t.eBV(O);const Re=t.XpG();return t.Njj(Re.jumpToPageViaInput(H))}),t.k0s(),t.EFF(3),t.k0s()}if(2&V){const O=t.XpG();t.R7$(),t.SpI(" ",O.locale.jump_to," "),t.R7$(),t.Y8G("disabled",O.disabled),t.R7$(),t.SpI(" ",O.locale.page," ")}}const ue=["containerTemplate"];function Ve(V,ut){return this.trackByPageItem}const ot=(V,ut)=>({$implicit:V,range:ut});function ht(V,ut){}function bt(V,ut){if(1&V&&(t.j41(0,"li",1),t.DNE(1,ht,0,0,"ng-template",4),t.k0s()),2&V){const O=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",O.showTotal)("ngTemplateOutletContext",t.l_i(2,ot,O.total,O.ranges))}}function Et(V,ut){if(1&V){const O=t.RV6();t.j41(0,"li",5),t.bIt("gotoIndex",function(H){t.eBV(O);const Re=t.XpG(2);return t.Njj(Re.jumpPage(H))})("diffIndex",function(H){t.eBV(O);const Re=t.XpG(2);return t.Njj(Re.jumpDiff(H))}),t.k0s()}if(2&V){const O=ut.$implicit,A=t.XpG(2);t.Y8G("locale",A.locale)("type",O.type)("index",O.index)("disabled",!!O.disabled)("itemRender",A.itemRender)("active",A.pageIndex===O.index)("direction",A.dir)}}function wt(V,ut){if(1&V){const O=t.RV6();t.j41(0,"li",6),t.bIt("pageIndexChange",function(H){t.eBV(O);const Re=t.XpG(2);return t.Njj(Re.onPageIndexChange(H))})("pageSizeChange",function(H){t.eBV(O);const Re=t.XpG(2);return t.Njj(Re.onPageSizeChange(H))}),t.k0s()}if(2&V){const O=t.XpG(2);t.Y8G("total",O.total)("locale",O.locale)("disabled",O.disabled)("nzSize",O.nzSize)("showSizeChanger",O.showSizeChanger)("showQuickJumper",O.showQuickJumper)("pageIndex",O.pageIndex)("pageSize",O.pageSize)("pageSizeOptions",O.pageSizeOptions)}}function Yt(V,ut){if(1&V&&(t.j41(0,"ul"),t.DNE(1,bt,2,5,"li",1),t.Z7z(2,Et,1,7,"li",2,Ve,!0),t.DNE(4,wt,1,9,"li",3),t.k0s()),2&V){const O=t.XpG();t.R7$(),t.vxM(1,O.showTotal?1:-1),t.R7$(),t.Dyx(O.listOfPageItem),t.R7$(2),t.vxM(4,O.showQuickJumper||O.showSizeChanger?4:-1)}}function rt(V,ut){if(1&V){const O=t.RV6();t.j41(0,"ul")(1,"li",1),t.bIt("click",function(){t.eBV(O);const H=t.XpG();return t.Njj(H.prePage())}),t.k0s(),t.j41(2,"li",2)(3,"input",3),t.bIt("keydown.enter",function(H){t.eBV(O);const Re=t.XpG();return t.Njj(Re.jumpToPageViaInput(H))}),t.k0s(),t.j41(4,"span",4),t.EFF(5,"/"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"li",5),t.bIt("click",function(){t.eBV(O);const H=t.XpG();return t.Njj(H.nextPage())}),t.k0s()()}if(2&V){const O=t.XpG();t.R7$(),t.Y8G("locale",O.locale)("disabled",O.isFirstIndex)("direction",O.dir)("itemRender",O.itemRender),t.BMQ("title",O.locale.prev_page),t.R7$(),t.BMQ("title",O.pageIndex+"/"+O.lastIndex),t.R7$(),t.Y8G("disabled",O.disabled)("value",O.pageIndex),t.R7$(3),t.SpI(" ",O.lastIndex," "),t.R7$(),t.Y8G("locale",O.locale)("disabled",O.isLastIndex)("direction",O.dir)("itemRender",O.itemRender),t.BMQ("title",null==O.locale?null:O.locale.next_page)}}function Gt(V,ut){}function we(V,ut){if(1&V&&t.DNE(0,Gt,0,0,"ng-template",4),2&V){t.XpG(2);const O=t.sdS(2);t.Y8G("ngTemplateOutlet",O.template)}}function qe(V,ut){}function Ae(V,ut){if(1&V&&t.DNE(0,qe,0,0,"ng-template",4),2&V){t.XpG(2);const O=t.sdS(4);t.Y8G("ngTemplateOutlet",O.template)}}function kt(V,ut){if(1&V&&t.DNE(0,we,1,1,null,4)(1,Ae,1,1),2&V){const O=t.XpG();t.vxM(0,O.nzSimple?0:1)}}let It=(()=>{class V{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new t.bkB,this.gotoIndex=new t.bkB,this.title=null}clickItem(){this.disabled||("page"===this.type?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(O){const{locale:A,index:H,type:Re}=O;(A||H||Re)&&(this.title={page:`${this.index}`,next:this.locale?.next_page,prev:this.locale?.prev_page,prev_5:this.locale?.prev_5,next_5:this.locale?.next_5}[this.type])}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(A,H){1&A&&t.bIt("click",function(){return H.clickItem()}),2&A&&(t.BMQ("title",H.title),t.AVh("ant-pagination-prev","prev"===H.type)("ant-pagination-next","next"===H.type)("ant-pagination-item","page"===H.type)("ant-pagination-jump-prev","prev_5"===H.type)("ant-pagination-jump-prev-custom-icon","prev_5"===H.type)("ant-pagination-jump-next","next_5"===H.type)("ant-pagination-jump-next-custom-icon","next_5"===H.type)("ant-pagination-disabled",H.disabled)("ant-pagination-item-active",H.active))},inputs:{active:"active",locale:"locale",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},standalone:!0,features:[t.OA$,t.aNF],attrs:je,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"ant-pagination-item-link",3,"disabled"],["nz-icon","","nzType","right"],["nz-icon","","nzType","left"],[1,"ant-pagination-item-link"],[1,"ant-pagination-item-container"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"]],template:function(A,H){if(1&A&&t.DNE(0,Z,4,1,"ng-template",null,0,t.C5r)(2,ye,0,0,"ng-template",1),2&A){const Re=t.sdS(1);t.R7$(2),t.Y8G("ngTemplateOutlet",H.itemRender||Re)("ngTemplateOutletContext",t.l_i(2,q,H.type,H.index))}},dependencies:[et.Y3,et.Dn,oe.T3],encapsulation:2,changeDetection:0})}return V})(),Ot=(()=>{class V{constructor(){this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new t.bkB,this.pageSizeChange=new t.bkB,this.listOfPageSizeOption=[]}onPageSizeChange(O){this.pageSize!==O&&this.pageSizeChange.next(O)}jumpToPageViaInput(O){const A=O.target,H=Math.floor((0,Y.Ro)(A.value,this.pageIndex));this.pageIndexChange.next(H),A.value=""}ngOnChanges(O){const{pageSize:A,pageSizeOptions:H,locale:Re}=O;(A||H||Re)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(ft=>({value:ft,label:`${ft} ${this.locale.items_per_page}`})))}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["li","nz-pagination-options",""]],hostAttrs:[1,"ant-pagination-options"],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[t.OA$,t.aNF],attrs:ee,decls:2,vars:2,consts:[[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel"],[1,"ant-pagination-options-quick-jumper"],[1,"ant-pagination-options-size-changer",3,"ngModelChange","nzDisabled","nzSize","ngModel"],[3,"nzLabel","nzValue"],[3,"keydown.enter","disabled"]],template:function(A,H){1&A&&t.DNE(0,M,3,3,"nz-select",0)(1,X,4,3,"div",1),2&A&&(t.vxM(0,H.showSizeChanger?0:-1),t.R7$(),t.vxM(1,H.showQuickJumper?1:-1))},dependencies:[jt.DH,jt.ld,jt.WI,nt.YN,nt.BC,nt.vS],encapsulation:2,changeDetection:0})}return V})(),At=(()=>{class V{constructor(O,A,H,Re){this.cdr=O,this.renderer=A,this.elementRef=H,this.directionality=Re,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new t.bkB,this.pageSizeChange=new t.bkB,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new C.B,A.removeChild(A.parentNode(H.nativeElement),H.nativeElement)}ngOnInit(){this.directionality.change?.pipe((0,ie.Q)(this.destroy$)).subscribe(O=>{this.dir=O,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(O){this.onPageIndexChange(O)}jumpDiff(O){this.jumpPage(this.pageIndex+O)}trackByPageItem(O,A){return`${A.type}-${A.index}`}onPageIndexChange(O){this.pageIndexChange.next(O)}onPageSizeChange(O){this.pageSizeChange.next(O)}getLastIndex(O,A){return Math.ceil(O/A)}buildIndexes(){const O=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,O)}getListOfPageItem(O,A){const Re=(ft,Bt)=>{const Ut=[];for(let tn=ft;tn<=Bt;tn++)Ut.push({index:tn,type:"page"});return Ut};return ft=A<=9?Re(1,A):((Bt,Ut)=>{let tn=[];const fn={type:"prev_5"},Vt={type:"next_5"},Yn=Re(1,1),hi=Re(A,A);return tn=Bt<5?[...Re(2,4===Bt?6:5),Vt]:Bt<Ut-3?[fn,...Re(Bt-2,Bt+2),Vt]:[fn,...Re(Bt===Ut-3?Ut-5:Ut-4,Ut-1)],[...Yn,...tn,...hi]})(O,A),[{type:"prev",disabled:1===O},...ft,{type:"next",disabled:O===A}];var ft}ngOnChanges(O){const{pageIndex:A,pageSize:H,total:Re}=O;(A||H||Re)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(Me.dS,8))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-pagination-default"]],viewQuery:function(A,H){if(1&A&&t.GBs(ue,7),2&A){let Re;t.mGM(Re=t.lsd())&&(H.template=Re.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",locale:"locale",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:0,consts:[["containerTemplate",""],[1,"ant-pagination-total-text"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"gotoIndex","diffIndex","locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"pageIndexChange","pageSizeChange","total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"]],template:function(A,H){1&A&&t.DNE(0,Yt,5,2,"ng-template",null,0,t.C5r)},dependencies:[oe.T3,It,Ot],encapsulation:2,changeDetection:0})}return V})(),en=(()=>{class V{constructor(O,A,H,Re){this.cdr=O,this.renderer=A,this.elementRef=H,this.directionality=Re,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new t.bkB,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new C.B,A.removeChild(A.parentNode(H.nativeElement),H.nativeElement)}ngOnInit(){this.directionality.change?.pipe((0,ie.Q)(this.destroy$)).subscribe(O=>{this.dir=O,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(O){const A=O.target,H=(0,Y.Ro)(A.value,this.pageIndex);this.onPageIndexChange(H),A.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(O){this.pageIndexChange.next(O)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=1===this.pageIndex,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(O){const{pageIndex:A,total:H,pageSize:Re}=O;(A||H||Re)&&this.updateBindingValue()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(Me.dS,8))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-pagination-simple"]],viewQuery:function(A,H){if(1&A&&t.GBs(ue,7),2&A){let Re;t.mGM(Re=t.lsd())&&(H.template=Re.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize"},outputs:{pageIndexChange:"pageIndexChange"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"click","locale","disabled","direction","itemRender"],[1,"ant-pagination-simple-pager"],["size","3",3,"keydown.enter","disabled","value"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"click","locale","disabled","direction","itemRender"]],template:function(A,H){1&A&&t.DNE(0,rt,8,14,"ng-template",null,0,t.C5r)},dependencies:[It],encapsulation:2,changeDetection:0})}return V})(),kn=(()=>{class V{validatePageIndex(O,A){return O>A?A:O<1?1:O}onPageIndexChange(O){const A=this.getLastIndex(this.nzTotal,this.nzPageSize),H=this.validatePageIndex(O,A);H!==this.nzPageIndex&&!this.nzDisabled&&(this.nzPageIndex=H,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(O){this.nzPageSize=O,this.nzPageSizeChange.emit(O);const A=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>A&&this.onPageIndexChange(A)}onTotalChange(O){const A=this.getLastIndex(O,this.nzPageSize);this.nzPageIndex>A&&Promise.resolve().then(()=>{this.onPageIndexChange(A),this.cdr.markForCheck()})}getLastIndex(O,A){return Math.ceil(O/A)}constructor(O,A,H,Re,ft){this.i18n=O,this.cdr=A,this.breakpointService=H,this.nzConfigService=Re,this.directionality=ft,this._nzModuleName="pagination",this.nzPageSizeChange=new t.bkB,this.nzPageIndexChange=new t.bkB,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzShowSizeChanger=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzDisabled=!1,this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new C.B,this.total$=new Ee.m(1)}ngOnInit(){this.i18n.localeChange.pipe((0,ie.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe((0,ie.Q)(this.destroy$)).subscribe(O=>{this.onTotalChange(O)}),this.breakpointService.subscribe(Te.fe).pipe((0,ie.Q)(this.destroy$)).subscribe(O=>{this.nzResponsive&&(this.size=O===Te.pt.xs?"small":"default",this.cdr.markForCheck())}),this.directionality.change?.pipe((0,ie.Q)(this.destroy$)).subscribe(O=>{this.dir=O,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(O){const{nzHideOnSinglePage:A,nzTotal:H,nzPageSize:Re,nzSize:ft}=O;H&&this.total$.next(this.nzTotal),(A||H||Re)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),ft&&(this.size=ft.currentValue)}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(Je.Og),t.rXU(t.gRc),t.rXU(Te.jp),t.rXU(ae.yx),t.rXU(Me.dS,8))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-pagination"]],hostAttrs:[1,"ant-pagination"],hostVars:8,hostBindings:function(A,H){2&A&&t.AVh("ant-pagination-simple",H.nzSimple)("ant-pagination-disabled",H.nzDisabled)("ant-pagination-mini",!H.nzSimple&&"small"===H.size)("ant-pagination-rtl","rtl"===H.dir)},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:"nzShowSizeChanger",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple",nzDisabled:"nzDisabled",nzResponsive:"nzResponsive",nzHideOnSinglePage:"nzHideOnSinglePage",nzTotal:"nzTotal",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],standalone:!0,features:[t.OA$,t.aNF],decls:5,vars:18,consts:[["simplePagination",""],["defaultPagination",""],[3,"pageIndexChange","disabled","itemRender","locale","pageSize","total","pageIndex"],[3,"pageIndexChange","pageSizeChange","nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet"]],template:function(A,H){if(1&A){const Re=t.RV6();t.DNE(0,kt,2,1),t.j41(1,"nz-pagination-simple",2,0),t.bIt("pageIndexChange",function(Bt){return t.eBV(Re),t.Njj(H.onPageIndexChange(Bt))}),t.k0s(),t.j41(3,"nz-pagination-default",3,1),t.bIt("pageIndexChange",function(Bt){return t.eBV(Re),t.Njj(H.onPageIndexChange(Bt))})("pageSizeChange",function(Bt){return t.eBV(Re),t.Njj(H.onPageSizeChange(Bt))}),t.k0s()}2&A&&(t.vxM(0,H.showPagination?0:-1),t.R7$(),t.Y8G("disabled",H.nzDisabled)("itemRender",H.nzItemRender)("locale",H.locale)("pageSize",H.nzPageSize)("total",H.nzTotal)("pageIndex",H.nzPageIndex),t.R7$(2),t.Y8G("nzSize",H.size)("itemRender",H.nzItemRender)("showTotal",H.nzShowTotal)("disabled",H.nzDisabled)("locale",H.locale)("showSizeChanger",H.nzShowSizeChanger)("showQuickJumper",H.nzShowQuickJumper)("total",H.nzTotal)("pageIndex",H.nzPageIndex)("pageSize",H.nzPageSize)("pageSizeOptions",H.nzPageSizeOptions))},dependencies:[oe.T3,en,At],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,ae.H4)()],V.prototype,"nzSize",void 0),(0,f.Cg)([(0,ae.H4)()],V.prototype,"nzPageSizeOptions",void 0),(0,f.Cg)([(0,ae.H4)(),(0,Y.H3)()],V.prototype,"nzShowSizeChanger",void 0),(0,f.Cg)([(0,ae.H4)(),(0,Y.H3)()],V.prototype,"nzShowQuickJumper",void 0),(0,f.Cg)([(0,ae.H4)(),(0,Y.H3)()],V.prototype,"nzSimple",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzDisabled",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzResponsive",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzHideOnSinglePage",void 0),(0,f.Cg)([(0,Y.YI)()],V.prototype,"nzTotal",void 0),(0,f.Cg)([(0,Y.YI)()],V.prototype,"nzPageIndex",void 0),(0,f.Cg)([(0,Y.YI)()],V.prototype,"nzPageSize",void 0),V})(),Ge=(()=>{class V{static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275mod=t.$C({type:V});static#n=this.\u0275inj=t.G2t({imports:[kn,en,Ot,It,At]})}return V})();var Fe=v(2983),ce=v(7806);const xe=["*"];function st(V,ut){}function de(V,ut){if(1&V){const O=t.RV6();t.j41(0,"label",15),t.bIt("ngModelChange",function(){t.eBV(O);const H=t.XpG().$implicit,Re=t.XpG(2);return t.Njj(Re.check(H))}),t.k0s()}if(2&V){const O=t.XpG().$implicit;t.Y8G("ngModel",O.checked)}}function j(V,ut){if(1&V){const O=t.RV6();t.j41(0,"label",16),t.bIt("ngModelChange",function(){t.eBV(O);const H=t.XpG().$implicit,Re=t.XpG(2);return t.Njj(Re.check(H))}),t.k0s()}if(2&V){const O=t.XpG().$implicit;t.Y8G("ngModel",O.checked)}}function R(V,ut){if(1&V){const O=t.RV6();t.j41(0,"li",12),t.bIt("click",function(){const H=t.eBV(O).$implicit,Re=t.XpG(2);return t.Njj(Re.check(H))}),t.DNE(1,de,1,1,"label",13)(2,j,1,1,"label",14),t.j41(3,"span"),t.EFF(4),t.k0s()()}if(2&V){const O=ut.$implicit,A=t.XpG(2);t.Y8G("nzSelected",O.checked),t.R7$(),t.Y8G("ngIf",!A.filterMultiple),t.R7$(),t.Y8G("ngIf",A.filterMultiple),t.R7$(2),t.JRh(O.text)}}function k(V,ut){if(1&V){const O=t.RV6();t.qex(0),t.j41(1,"nz-filter-trigger",4),t.bIt("nzVisibleChange",function(H){t.eBV(O);const Re=t.XpG();return t.Njj(Re.onVisibleChange(H))}),t.nrm(2,"span",5),t.k0s(),t.j41(3,"nz-dropdown-menu",null,0)(5,"div",6)(6,"ul",7),t.DNE(7,R,5,4,"li",8),t.k0s(),t.j41(8,"div",9)(9,"button",10),t.bIt("click",function(){t.eBV(O);const H=t.XpG();return t.Njj(H.reset())}),t.EFF(10),t.k0s(),t.j41(11,"button",11),t.bIt("click",function(){t.eBV(O);const H=t.XpG();return t.Njj(H.confirm())}),t.EFF(12),t.k0s()()()(),t.bVm()}if(2&V){const O=t.sdS(4),A=t.XpG();t.R7$(),t.Y8G("nzVisible",A.isVisible)("nzActive",A.isChecked)("nzDropdownMenu",O),t.R7$(6),t.Y8G("ngForOf",A.listOfParsedFilter)("ngForTrackBy",A.trackByValue),t.R7$(2),t.Y8G("disabled",!A.isChecked),t.R7$(),t.SpI(" ",A.locale.filterReset," "),t.R7$(2),t.JRh(A.locale.filterConfirm)}}function P(V,ut){if(1&V){const O=t.RV6();t.j41(0,"label",3),t.bIt("ngModelChange",function(H){t.eBV(O);const Re=t.XpG();return t.Njj(Re.onCheckedChange(H))}),t.k0s()}if(2&V){const O=t.XpG();t.AVh("ant-table-selection-select-all-custom",O.showRowSelection),t.Y8G("ngModel",O.checked)("nzDisabled",O.disabled)("nzIndeterminate",O.indeterminate),t.BMQ("aria-label",O.label)}}function D(V,ut){if(1&V){const O=t.RV6();t.j41(0,"li",9),t.bIt("click",function(){const H=t.eBV(O).$implicit;return t.Njj(H.onSelect())}),t.EFF(1),t.k0s()}if(2&V){const O=ut.$implicit;t.R7$(),t.SpI(" ",O.text," ")}}function T(V,ut){if(1&V&&(t.j41(0,"div",4)(1,"span",5),t.nrm(2,"span",6),t.k0s(),t.j41(3,"nz-dropdown-menu",null,0)(5,"ul",7),t.DNE(6,D,2,1,"li",8),t.k0s()()()),2&V){const O=t.sdS(4),A=t.XpG();t.R7$(),t.Y8G("nzDropdownMenu",O),t.R7$(5),t.Y8G("ngForOf",A.listOfSelections)}}function I(V,ut){}function E(V,ut){if(1&V&&t.nrm(0,"span",6),2&V){const O=t.XpG();t.AVh("active","ascend"===O.sortOrder)}}function ne(V,ut){if(1&V&&t.nrm(0,"span",7),2&V){const O=t.XpG();t.AVh("active","descend"===O.sortOrder)}}const L=["nzChecked",""];function pe(V,ut){if(1&V){const O=t.RV6();t.j41(0,"button",5),t.bIt("expandChange",function(H){t.eBV(O);const Re=t.XpG(2);return t.Njj(Re.onExpandChange(H))}),t.k0s()}if(2&V){const O=t.XpG(2);t.Y8G("expand",O.nzExpand)("spaceMode",!O.nzShowExpand)}}function Ze(V,ut){}function at(V,ut){if(1&V&&(t.qex(0),t.DNE(1,Ze,0,0,"ng-template",6),t.bVm()),2&V){const O=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",O.nzExpandIcon)}}function Ct(V,ut){if(1&V&&(t.qex(0),t.nrm(1,"nz-row-indent",3),t.DNE(2,pe,1,2,"ng-template",null,0,t.C5r)(4,at,2,1,"ng-container",4),t.bVm()),2&V){const O=t.sdS(3),A=t.XpG();t.R7$(),t.Y8G("indentSize",A.nzIndentSize),t.R7$(3),t.Y8G("ngIf",A.nzExpandIcon)("ngIfElse",O)}}function Ht(V,ut){if(1&V){const O=t.RV6();t.j41(0,"label",7),t.bIt("ngModelChange",function(H){t.eBV(O);const Re=t.XpG();return t.Njj(Re.onCheckedChange(H))}),t.k0s()}if(2&V){const O=t.XpG();t.Y8G("nzDisabled",O.nzDisabled)("ngModel",O.nzChecked)("nzIndeterminate",O.nzIndeterminate),t.BMQ("aria-label",O.nzLabel)}}const Kt=["nzColumnKey",""],nn=[[["","nz-th-extra",""]],[["nz-filter-trigger"]],"*"],un=["[nz-th-extra]","nz-filter-trigger","*"];function yn(V,ut){if(1&V){const O=t.RV6();t.j41(0,"nz-table-filter",5),t.bIt("filterChange",function(H){t.eBV(O);const Re=t.XpG();return t.Njj(Re.onFilterValueChange(H))}),t.k0s()}if(2&V){const O=t.XpG(),A=t.sdS(2),H=t.sdS(4);t.Y8G("contentTemplate",A)("extraTemplate",H)("customFilter",O.nzCustomFilter)("filterMultiple",O.nzFilterMultiple)("listOfFilter",O.nzFilters)}}function sn(V,ut){}function pn(V,ut){if(1&V&&t.DNE(0,sn,0,0,"ng-template",6),2&V){const O=t.XpG(),A=t.sdS(6),H=t.sdS(8);t.Y8G("ngTemplateOutlet",O.nzShowSort?A:H)}}function Ki(V,ut){1&V&&(t.SdG(0),t.SdG(1,1))}function Qi(V,ut){if(1&V&&t.nrm(0,"nz-table-sorters",7),2&V){const O=t.XpG(),A=t.sdS(8);t.Y8G("sortOrder",O.sortOrder)("sortDirections",O.sortDirections)("contentTemplate",A)}}function Zi(V,ut){1&V&&t.SdG(0,2)}const Ji=["nzSelections",""],qi=["nz-table-content",""];function es(V,ut){if(1&V&&t.nrm(0,"col"),2&V){const O=ut.$implicit;t.xc7("width",O)("min-width",O)}}function ts(V,ut){}function ns(V,ut){if(1&V&&(t.j41(0,"thead",3),t.DNE(1,ts,0,0,"ng-template",2),t.k0s()),2&V){const O=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",O.theadTemplate)}}function Ii(V,ut){}const Si=["tdElement"],si=["nz-table-fixed-row",""];function Ti(V,ut){}function ei(V,ut){if(1&V&&(t.j41(0,"div",4),t.nI1(1,"async"),t.DNE(2,Ti,0,0,"ng-template",5),t.k0s()),2&V){const O=t.XpG(),A=t.sdS(5);t.xc7("width",t.bMT(1,3,O.hostWidth$),"px"),t.R7$(2),t.Y8G("ngTemplateOutlet",A)}}function Ai(V,ut){1&V&&t.SdG(0)}const oi=["nz-table-measure-row",""];function Ms(V,ut){1&V&&t.nrm(0,"td",2,0)}function io(V,ut){if(1&V){const O=t.RV6();t.j41(0,"tr",3),t.bIt("listOfAutoWidth",function(H){t.eBV(O);const Re=t.XpG(2);return t.Njj(Re.onListOfAutoWidthChange(H))}),t.k0s()}if(2&V){const O=t.XpG().ngIf;t.Y8G("listOfMeasureColumn",O)}}function hr(V,ut){if(1&V&&(t.qex(0),t.DNE(1,io,1,1,"tr",2),t.bVm()),2&V){const O=ut.ngIf,A=t.XpG();t.R7$(),t.Y8G("ngIf",A.isInsideTable&&O.length)}}function dr(V,ut){if(1&V&&(t.j41(0,"tr",4),t.nrm(1,"nz-embed-empty",5),t.nI1(2,"async"),t.k0s()),2&V){const O=t.XpG();t.R7$(),t.Y8G("specificContent",t.bMT(2,1,O.noResult$))}}const ur=["tableHeaderElement"],pr=["tableBodyElement"],fr=(V,ut)=>({$implicit:V,index:ut});function gr(V,ut){if(1&V&&(t.j41(0,"div",8,1),t.nrm(2,"table",9),t.k0s()),2&V){const O=t.XpG(2);t.Y8G("ngStyle",O.bodyStyleMap),t.R7$(2),t.Y8G("scrollX",O.scrollX)("listOfColWidth",O.listOfColWidth)("contentTemplate",O.contentTemplate)}}function mr(V,ut){}function _r(V,ut){if(1&V&&(t.qex(0),t.DNE(1,mr,0,0,"ng-template",13),t.bVm()),2&V){const O=ut.$implicit,A=ut.index,H=t.XpG(3);t.R7$(),t.Y8G("ngTemplateOutlet",H.virtualTemplate)("ngTemplateOutletContext",t.l_i(2,fr,O,A))}}function vr(V,ut){if(1&V&&(t.j41(0,"cdk-virtual-scroll-viewport",10,1)(2,"table",11)(3,"tbody"),t.DNE(4,_r,2,5,"ng-container",12),t.k0s()()()),2&V){const O=t.XpG(2);t.xc7("height",O.data.length?O.scrollY:O.noDateVirtualHeight),t.Y8G("itemSize",O.virtualItemSize)("maxBufferPx",O.virtualMaxBufferPx)("minBufferPx",O.virtualMinBufferPx),t.R7$(2),t.Y8G("scrollX",O.scrollX)("listOfColWidth",O.listOfColWidth),t.R7$(2),t.Y8G("cdkVirtualForOf",O.data)("cdkVirtualForTrackBy",O.virtualForTrackBy)}}function Cr(V,ut){if(1&V&&(t.qex(0),t.j41(1,"div",4,0),t.nrm(3,"table",5),t.k0s(),t.DNE(4,gr,3,4,"div",6)(5,vr,5,9,"cdk-virtual-scroll-viewport",7),t.bVm()),2&V){const O=t.XpG();t.R7$(),t.Y8G("ngStyle",O.headerStyleMap),t.R7$(2),t.Y8G("scrollX",O.scrollX)("listOfColWidth",O.listOfColWidth)("theadTemplate",O.theadTemplate),t.R7$(),t.Y8G("ngIf",!O.virtualTemplate),t.R7$(),t.Y8G("ngIf",O.virtualTemplate)}}function yr(V,ut){if(1&V&&(t.j41(0,"div",14,1),t.nrm(2,"table",15),t.k0s()),2&V){const O=t.XpG();t.Y8G("ngStyle",O.bodyStyleMap),t.R7$(2),t.Y8G("scrollX",O.scrollX)("listOfColWidth",O.listOfColWidth)("theadTemplate",O.theadTemplate)("contentTemplate",O.contentTemplate)}}function zr(V,ut){if(1&V&&(t.qex(0),t.EFF(1),t.bVm()),2&V){const O=t.XpG();t.R7$(),t.JRh(O.title)}}function ci(V,ut){if(1&V&&(t.qex(0),t.EFF(1),t.bVm()),2&V){const O=t.XpG();t.R7$(),t.JRh(O.footer)}}function Qn(V,ut){}function xi(V,ut){if(1&V&&(t.qex(0),t.DNE(1,Qn,0,0,"ng-template",10),t.bVm()),2&V){t.XpG();const O=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",O)}}function so(V,ut){if(1&V&&t.nrm(0,"nz-table-title-footer",11),2&V){const O=t.XpG();t.Y8G("title",O.nzTitle)}}function br(V,ut){if(1&V&&t.nrm(0,"nz-table-inner-scroll",12),2&V){const O=t.XpG(),A=t.sdS(3),H=t.sdS(13);t.Y8G("data",O.data)("scrollX",O.scrollX)("scrollY",O.scrollY)("contentTemplate",H)("listOfColWidth",O.listOfAutoColWidth)("theadTemplate",O.theadTemplate)("verticalScrollBarWidth",O.verticalScrollBarWidth)("virtualTemplate",O.nzVirtualScrollDirective?O.nzVirtualScrollDirective.templateRef:null)("virtualItemSize",O.nzVirtualItemSize)("virtualMaxBufferPx",O.nzVirtualMaxBufferPx)("virtualMinBufferPx",O.nzVirtualMinBufferPx)("tableMainElement",A)("virtualForTrackBy",O.nzVirtualForTrackBy)}}function Sr(V,ut){if(1&V&&t.nrm(0,"nz-table-inner-default",13),2&V){const O=t.XpG(),A=t.sdS(13);t.Y8G("tableLayout",O.nzTableLayout)("listOfColWidth",O.listOfManualColWidth)("theadTemplate",O.theadTemplate)("contentTemplate",A)}}function Tr(V,ut){if(1&V&&t.nrm(0,"nz-table-title-footer",14),2&V){const O=t.XpG();t.Y8G("footer",O.nzFooter)}}function Oi(V,ut){}function xr(V,ut){if(1&V&&(t.qex(0),t.DNE(1,Oi,0,0,"ng-template",10),t.bVm()),2&V){t.XpG();const O=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",O)}}function is(V,ut){if(1&V){const O=t.RV6();t.j41(0,"nz-pagination",16),t.bIt("nzPageSizeChange",function(H){t.eBV(O);const Re=t.XpG(2);return t.Njj(Re.onPageSizeChange(H))})("nzPageIndexChange",function(H){t.eBV(O);const Re=t.XpG(2);return t.Njj(Re.onPageIndexChange(H))}),t.k0s()}if(2&V){const O=t.XpG(2);t.Y8G("hidden",!O.showPagination)("nzShowSizeChanger",O.nzShowSizeChanger)("nzPageSizeOptions",O.nzPageSizeOptions)("nzItemRender",O.nzItemRender)("nzShowQuickJumper",O.nzShowQuickJumper)("nzHideOnSinglePage",O.nzHideOnSinglePage)("nzShowTotal",O.nzShowTotal)("nzSize","small"===O.nzPaginationType?"small":"default"===O.nzSize?"default":"small")("nzPageSize",O.nzPageSize)("nzTotal",O.nzTotal)("nzSimple",O.nzSimple)("nzPageIndex",O.nzPageIndex)}}function Or(V,ut){if(1&V&&t.DNE(0,is,1,12,"nz-pagination",15),2&V){const O=t.XpG();t.Y8G("ngIf",O.nzShowPagination&&O.data.length)}}function Dr(V,ut){1&V&&t.SdG(0)}const wr=["contentTemplate"];function Mr(V,ut){1&V&&t.SdG(0)}function Er(V,ut){}function Pr(V,ut){if(1&V&&(t.qex(0),t.DNE(1,Er,0,0,"ng-template",2),t.bVm()),2&V){t.XpG();const O=t.sdS(1);t.R7$(),t.Y8G("ngTemplateOutlet",O)}}let oo=(()=>{class V{onVisibleChange(O){this.nzVisible=O,this.nzVisibleChange.next(O)}hide(){this.nzVisible=!1,this.cdr.markForCheck()}show(){this.nzVisible=!0,this.cdr.markForCheck()}constructor(O,A,H,Re){this.nzConfigService=O,this.ngZone=A,this.cdr=H,this.destroy$=Re,this._nzModuleName="filterTrigger",this.nzActive=!1,this.nzVisible=!1,this.nzBackdrop=!1,this.nzVisibleChange=new t.bkB}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,m.R)(this.nzDropdown.nativeElement,"click").pipe((0,ie.Q)(this.destroy$)).subscribe(O=>{O.stopPropagation()})})}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(ae.yx),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(Te.y4))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-filter-trigger"]],viewQuery:function(A,H){if(1&A&&t.GBs(be.j3,7,t.aKT),2&A){let Re;t.mGM(Re=t.lsd())&&(H.nzDropdown=Re.first)}},inputs:{nzActive:"nzActive",nzDropdownMenu:"nzDropdownMenu",nzVisible:"nzVisible",nzBackdrop:"nzBackdrop"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzFilterTrigger"],standalone:!0,features:[t.Jv_([Te.y4]),t.aNF],ngContentSelectors:xe,decls:2,vars:8,consts:[["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"ant-table-filter-trigger",3,"nzVisibleChange","nzBackdrop","nzClickHide","nzDropdownMenu","nzVisible"]],template:function(A,H){1&A&&(t.NAR(),t.j41(0,"span",0),t.bIt("nzVisibleChange",function(ft){return H.onVisibleChange(ft)}),t.SdG(1),t.k0s()),2&A&&(t.AVh("active",H.nzActive)("ant-table-filter-open",H.nzVisible),t.Y8G("nzBackdrop",H.nzBackdrop)("nzClickHide",!1)("nzDropdownMenu",H.nzDropdownMenu)("nzVisible",H.nzVisible))},dependencies:[be.Cu,be.j3],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,ae.H4)(),(0,Y.H3)()],V.prototype,"nzBackdrop",void 0),V})(),ro=(()=>{class V{trackByValue(O,A){return A.value}check(O){this.filterMultiple?(this.listOfParsedFilter=this.listOfParsedFilter.map(A=>A===O?{...A,checked:!O.checked}:A),O.checked=!O.checked):this.listOfParsedFilter=this.listOfParsedFilter.map(A=>({...A,checked:A===O})),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter)}confirm(){this.isVisible=!1,this.emitFilterData()}reset(){this.isVisible=!1,this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter,!0),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter),this.emitFilterData()}onVisibleChange(O){this.isVisible=O,O?this.listOfChecked=this.listOfParsedFilter.filter(A=>A.checked).map(A=>A.value):this.emitFilterData()}emitFilterData(){const O=this.listOfParsedFilter.filter(A=>A.checked).map(A=>A.value);(0,Y.r1)(this.listOfChecked,O)||this.filterChange.emit(this.filterMultiple?O:O.length>0?O[0]:null)}parseListOfFilter(O,A){return O.map(H=>({text:H.text,value:H.value,checked:!A&&!!H.byDefault}))}getCheckedStatus(O){return O.some(A=>A.checked)}constructor(O,A){this.cdr=O,this.i18n=A,this.contentTemplate=null,this.customFilter=!1,this.extraTemplate=null,this.filterMultiple=!0,this.listOfFilter=[],this.filterChange=new t.bkB,this.destroy$=new C.B,this.isChecked=!1,this.isVisible=!1,this.listOfParsedFilter=[],this.listOfChecked=[]}ngOnInit(){this.i18n.localeChange.pipe((0,ie.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Table"),this.cdr.markForCheck()})}ngOnChanges(O){const{listOfFilter:A}=O;A&&this.listOfFilter&&this.listOfFilter.length&&(this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(t.gRc),t.rXU(Je.Og))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-table-filter"]],hostAttrs:[1,"ant-table-filter-column"],inputs:{contentTemplate:"contentTemplate",customFilter:"customFilter",extraTemplate:"extraTemplate",filterMultiple:"filterMultiple",listOfFilter:"listOfFilter"},outputs:{filterChange:"filterChange"},standalone:!0,features:[t.OA$,t.aNF],decls:3,vars:3,consts:[["filterMenu","nzDropdownMenu"],[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[3,"nzVisibleChange","nzVisible","nzActive","nzDropdownMenu"],["nz-icon","","nzType","filter","nzTheme","fill"],[1,"ant-table-filter-dropdown"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-table-filter-dropdown-btns"],["nz-button","","nzType","link","nzSize","small",3,"click","disabled"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-menu-item","",3,"click","nzSelected"],["nz-radio","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-radio","",3,"ngModelChange","ngModel"],["nz-checkbox","",3,"ngModelChange","ngModel"]],template:function(A,H){1&A&&(t.j41(0,"span",1),t.DNE(1,st,0,0,"ng-template",2),t.k0s(),t.DNE(2,k,13,8,"ng-container",3)),2&A&&(t.R7$(),t.Y8G("ngTemplateOutlet",H.contentTemplate),t.R7$(),t.Y8G("ngIf",!H.customFilter)("ngIfElse",H.extraTemplate))},dependencies:[oe.T3,oe.bT,oo,et.Y3,et.Dn,be.Cu,We.jS,We.CU,be.wQ,oe.Sq,Le.lx,Ye.IJ,Ye.$g,nt.YN,nt.BC,nt.vS,ke.Zw,ke.aO,pt.c,tt.p],encapsulation:2,changeDetection:0})}return V})(),Nr=(()=>{class V{constructor(){this.expand=!1,this.spaceMode=!1,this.expandChange=new t.bkB}onHostClick(){this.spaceMode||(this.expand=!this.expand,this.expandChange.next(this.expand))}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275dir=t.FsC({type:V,selectors:[["button","nz-row-expand-button",""]],hostAttrs:[1,"ant-table-row-expand-icon"],hostVars:7,hostBindings:function(A,H){1&A&&t.bIt("click",function(){return H.onHostClick()}),2&A&&(t.Mr5("type","button"),t.AVh("ant-table-row-expand-icon-expanded",!H.spaceMode&&!0===H.expand)("ant-table-row-expand-icon-collapsed",!H.spaceMode&&!1===H.expand)("ant-table-row-expand-icon-spaced",H.spaceMode))},inputs:{expand:"expand",spaceMode:"spaceMode"},outputs:{expandChange:"expandChange"},standalone:!0})}return V})(),Di=(()=>{class V{constructor(){this.indentSize=0}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275dir=t.FsC({type:V,selectors:[["nz-row-indent"]],hostAttrs:[1,"ant-table-row-indent"],hostVars:2,hostBindings:function(A,H){2&A&&t.xc7("padding-left",H.indentSize,"px")},inputs:{indentSize:"indentSize"},standalone:!0})}return V})(),Ri=(()=>{class V{constructor(){this.listOfSelections=[],this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.label=null,this.showCheckbox=!1,this.showRowSelection=!1,this.checkedChange=new t.bkB}onCheckedChange(O){this.checked=O,this.checkedChange.emit(O)}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-table-selection"]],hostAttrs:[1,"ant-table-selection"],inputs:{listOfSelections:"listOfSelections",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",label:"label",showCheckbox:"showCheckbox",showRowSelection:"showRowSelection"},outputs:{checkedChange:"checkedChange"},standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[["selectionMenu","nzDropdownMenu"],["nz-checkbox","",3,"ant-table-selection-select-all-custom","ngModel","nzDisabled","nzIndeterminate","ngModelChange",4,"ngIf"],["class","ant-table-selection-extra",4,"ngIf"],["nz-checkbox","",3,"ngModelChange","ngModel","nzDisabled","nzIndeterminate"],[1,"ant-table-selection-extra"],["nz-dropdown","","nzPlacement","bottomLeft",1,"ant-table-selection-down",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu","",1,"ant-table-selection-menu"],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],["nz-menu-item","",3,"click"]],template:function(A,H){1&A&&t.DNE(0,P,1,6,"label",1)(1,T,7,2,"div",2),2&A&&(t.Y8G("ngIf",H.showCheckbox),t.R7$(),t.Y8G("ngIf",H.showRowSelection))},dependencies:[oe.bT,nt.YN,nt.BC,nt.vS,Ye.IJ,Ye.$g,be.Cu,We.jS,We.CU,be.j3,be.wQ,et.Y3,et.Dn,oe.Sq],encapsulation:2,changeDetection:0})}return V})(),ao=(()=>{class V{constructor(){this.sortDirections=["ascend","descend",null],this.sortOrder=null,this.contentTemplate=null,this.isUp=!1,this.isDown=!1}ngOnChanges(O){const{sortDirections:A}=O;A&&(this.isUp=-1!==this.sortDirections.indexOf("ascend"),this.isDown=-1!==this.sortDirections.indexOf("descend"))}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-table-sorters"]],hostAttrs:[1,"ant-table-column-sorters"],inputs:{sortDirections:"sortDirections",sortOrder:"sortOrder",contentTemplate:"contentTemplate"},standalone:!0,features:[t.OA$,t.aNF],decls:6,vars:5,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[1,"ant-table-column-sorter"],[1,"ant-table-column-sorter-inner"],["nz-icon","","nzType","caret-up","class","ant-table-column-sorter-up",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-down","class","ant-table-column-sorter-down",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down"]],template:function(A,H){1&A&&(t.j41(0,"span",0),t.DNE(1,I,0,0,"ng-template",1),t.k0s(),t.j41(2,"span",2)(3,"span",3),t.DNE(4,E,1,2,"span",4)(5,ne,1,2,"span",5),t.k0s()()),2&A&&(t.R7$(),t.Y8G("ngTemplateOutlet",H.contentTemplate),t.R7$(),t.AVh("ant-table-column-sorter-full",H.isDown&&H.isUp),t.R7$(2),t.Y8G("ngIf",H.isUp),t.R7$(),t.Y8G("ngIf",H.isDown))},dependencies:[et.Y3,et.Dn,oe.T3,oe.bT],encapsulation:2,changeDetection:0})}return V})(),Fi=(()=>{class V{setAutoLeftWidth(O){this.renderer.setStyle(this.elementRef.nativeElement,"left",O)}setAutoRightWidth(O){this.renderer.setStyle(this.elementRef.nativeElement,"right",O)}setIsFirstRight(O){this.setFixClass(O,"ant-table-cell-fix-right-first")}setIsLastLeft(O){this.setFixClass(O,"ant-table-cell-fix-left-last")}setFixClass(O,A){this.renderer.removeClass(this.elementRef.nativeElement,A),O&&this.renderer.addClass(this.elementRef.nativeElement,A)}constructor(O,A){this.renderer=O,this.elementRef=A,this.nzRight=!1,this.nzLeft=!1,this.colspan=null,this.colSpan=null,this.changes$=new C.B,this.isAutoLeft=!1,this.isAutoRight=!1,this.isFixedLeft=!1,this.isFixedRight=!1,this.isFixed=!1}ngOnChanges(){this.setIsFirstRight(!1),this.setIsLastLeft(!1),this.isAutoLeft=""===this.nzLeft||!0===this.nzLeft,this.isAutoRight=""===this.nzRight||!0===this.nzRight,this.isFixedLeft=!1!==this.nzLeft,this.isFixedRight=!1!==this.nzRight,this.isFixed=this.isFixedLeft||this.isFixedRight;const O=A=>"string"==typeof A&&""!==A?A:null;this.setAutoLeftWidth(O(this.nzLeft)),this.setAutoRightWidth(O(this.nzRight)),this.changes$.next()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(t.sFG),t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:V,selectors:[["td","nzRight",""],["th","nzRight",""],["td","nzLeft",""],["th","nzLeft",""]],hostVars:6,hostBindings:function(A,H){2&A&&(t.xc7("position",H.isFixed?"sticky":null),t.AVh("ant-table-cell-fix-right",H.isFixedRight)("ant-table-cell-fix-left",H.isFixedLeft))},inputs:{nzRight:"nzRight",nzLeft:"nzLeft",colspan:"colspan",colSpan:"colSpan"},standalone:!0,features:[t.OA$]})}return V})(),vi=(()=>{class V{setTheadTemplate(O){this.theadTemplate$.next(O)}setHasFixLeft(O){this.hasFixLeft$.next(O)}setHasFixRight(O){this.hasFixRight$.next(O)}setTableWidthConfig(O){this.tableWidthConfigPx$.next(O)}setListOfTh(O){let A=0;O.forEach(Re=>{A+=Re.colspan&&+Re.colspan||Re.colSpan&&+Re.colSpan||1});const H=O.map(Re=>Re.nzWidth);this.columnCount$.next(A),this.listOfThWidthConfigPx$.next(H)}setListOfMeasureColumn(O){const A=[];O.forEach(H=>{const Re=H.colspan&&+H.colspan||H.colSpan&&+H.colSpan||1;for(let ft=0;ft<Re;ft++)A.push(`measure_key_${ft}`)}),this.listOfMeasureColumn$.next(A)}setListOfAutoWidth(O){this.listOfAutoWidthPx$.next(O.map(A=>`${A}px`))}setShowEmpty(O){this.showEmpty$.next(O)}setNoResult(O){this.noResult$.next(O)}setScroll(O,A){const H=!(!O&&!A);H||this.setListOfAutoWidth([]),this.enableAutoMeasure$.next(H)}constructor(){this.theadTemplate$=new Ee.m(1),this.hasFixLeft$=new Ee.m(1),this.hasFixRight$=new Ee.m(1),this.hostWidth$=new Ee.m(1),this.columnCount$=new Ee.m(1),this.showEmpty$=new Ee.m(1),this.noResult$=new Ee.m(1),this.listOfThWidthConfigPx$=new Ue.t([]),this.tableWidthConfigPx$=new Ue.t([]),this.manualWidthConfigPx$=(0,Se.z)([this.tableWidthConfigPx$,this.listOfThWidthConfigPx$]).pipe((0,he.T)(([O,A])=>O.length?O:A)),this.listOfAutoWidthPx$=new Ee.m(1),this.listOfListOfThWidthPx$=(0,ze.h)(this.manualWidthConfigPx$,(0,Se.z)([this.listOfAutoWidthPx$,this.manualWidthConfigPx$]).pipe((0,he.T)(([O,A])=>O.length===A.length?O.map((H,Re)=>"0px"===H?A[Re]||null:A[Re]||H):A))),this.listOfMeasureColumn$=new Ee.m(1),this.listOfListOfThWidth$=this.listOfAutoWidthPx$.pipe((0,he.T)(O=>O.map(A=>parseInt(A,10)))),this.enableAutoMeasure$=new Ee.m(1)}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275prov=t.jDH({token:V,factory:V.\u0275fac})}return V})(),Ir=(()=>{class V{constructor(O){this.isInsideTable=!1,this.isInsideTable=!!O}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(vi,8))};static#t=this.\u0275dir=t.FsC({type:V,selectors:[["th",9,"nz-disable-th",3,"mat-cell",""],["td",9,"nz-disable-td",3,"mat-cell",""]],hostVars:2,hostBindings:function(A,H){2&A&&t.AVh("ant-table-cell",H.isInsideTable)},standalone:!0})}return V})(),Es=(()=>{class V{updatePageSize(O){this.pageSize$.next(O)}updateFrontPagination(O){this.frontPagination$.next(O)}updatePageIndex(O){this.pageIndex$.next(O)}updateListOfData(O){this.listOfData$.next(O)}updateListOfCustomColumn(O){this.listOfCustomColumn$.next(O)}constructor(){this.destroy$=new C.B,this.pageIndex$=new Ue.t(1),this.frontPagination$=new Ue.t(!0),this.pageSize$=new Ue.t(10),this.listOfData$=new Ue.t([]),this.listOfCustomColumn$=new Ue.t([]),this.pageIndexDistinct$=this.pageIndex$.pipe((0,me.F)()),this.pageSizeDistinct$=this.pageSize$.pipe((0,me.F)()),this.listOfCalcOperator$=new Ue.t([]),this.queryParams$=(0,Se.z)([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfCalcOperator$]).pipe((0,J.B)(0),(0,G.i)(1),(0,he.T)(([O,A,H])=>({pageIndex:O,pageSize:A,sort:H.filter(Re=>Re.sortFn).map(Re=>({key:Re.key,value:Re.sortOrder})),filter:H.filter(Re=>Re.filterFn).map(Re=>({key:Re.key,value:Re.filterValue}))}))),this.listOfDataAfterCalc$=(0,Se.z)([this.listOfData$,this.listOfCalcOperator$]).pipe((0,he.T)(([O,A])=>{let H=[...O];const Re=A.filter(Bt=>{const{filterValue:Ut,filterFn:tn}=Bt;return!(null==Ut||Array.isArray(Ut)&&0===Ut.length)&&"function"==typeof tn});for(const Bt of Re){const{filterFn:Ut,filterValue:tn}=Bt;H=H.filter(fn=>Ut(tn,fn))}const ft=A.filter(Bt=>null!==Bt.sortOrder&&"function"==typeof Bt.sortFn).sort((Bt,Ut)=>+Ut.sortPriority-+Bt.sortPriority);return A.length&&H.sort((Bt,Ut)=>{for(const tn of ft){const{sortFn:fn,sortOrder:Vt}=tn;if(fn&&Vt){const Yn=fn(Bt,Ut,Vt);if(0!==Yn)return"ascend"===Vt?Yn:-Yn}}return 0}),H})),this.listOfFrontEndCurrentPageData$=(0,Se.z)([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfDataAfterCalc$]).pipe((0,ie.Q)(this.destroy$),(0,ge.p)(O=>{const[A,H,Re]=O;return A<=(Math.ceil(Re.length/H)||1)}),(0,he.T)(([O,A,H])=>H.slice((O-1)*A,O*A))),this.listOfCurrentPageData$=this.frontPagination$.pipe((0,Ce.n)(O=>O?this.listOfFrontEndCurrentPageData$:this.listOfDataAfterCalc$)),this.total$=this.frontPagination$.pipe((0,Ce.n)(O=>O?this.listOfDataAfterCalc$:this.listOfData$),(0,he.T)(O=>O.length),(0,me.F)())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275prov=t.jDH({token:V,factory:V.\u0275fac})}return V})(),Ar=(()=>{class V{constructor(){this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzIndentSize=0,this.nzShowExpand=!1,this.nzShowCheckbox=!1,this.nzExpand=!1,this.nzExpandIcon=null,this.nzCheckedChange=new t.bkB,this.nzExpandChange=new t.bkB,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(O){this.nzChecked=O,this.nzCheckedChange.emit(O)}onExpandChange(O){this.nzExpand=O,this.nzExpandChange.emit(O)}ngOnChanges(O){const A=Ut=>Ut&&Ut.firstChange&&void 0!==Ut.currentValue,{nzExpand:H,nzChecked:Re,nzShowExpand:ft,nzShowCheckbox:Bt}=O;ft&&(this.isNzShowExpandChanged=!0),Bt&&(this.isNzShowCheckboxChanged=!0),A(H)&&!this.isNzShowExpandChanged&&(this.nzShowExpand=!0),A(Re)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["td","nzChecked",""],["td","nzDisabled",""],["td","nzIndeterminate",""],["td","nzIndentSize",""],["td","nzExpand",""],["td","nzShowExpand",""],["td","nzShowCheckbox",""]],hostVars:4,hostBindings:function(A,H){2&A&&t.AVh("ant-table-cell-with-append",H.nzShowExpand||H.nzIndentSize>0)("ant-table-selection-column",H.nzShowCheckbox)},inputs:{nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzIndentSize:"nzIndentSize",nzShowExpand:"nzShowExpand",nzShowCheckbox:"nzShowCheckbox",nzExpand:"nzExpand",nzExpandIcon:"nzExpandIcon"},outputs:{nzCheckedChange:"nzCheckedChange",nzExpandChange:"nzExpandChange"},standalone:!0,features:[t.OA$,t.aNF],attrs:L,ngContentSelectors:xe,decls:3,vars:2,consts:[["rowExpand",""],[4,"ngIf"],["nz-checkbox","",3,"nzDisabled","ngModel","nzIndeterminate","ngModelChange",4,"ngIf"],[3,"indentSize"],[4,"ngIf","ngIfElse"],["nz-row-expand-button","",3,"expandChange","expand","spaceMode"],[3,"ngTemplateOutlet"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel","nzIndeterminate"]],template:function(A,H){1&A&&(t.NAR(),t.DNE(0,Ct,5,3,"ng-container",1)(1,Ht,1,4,"label",2),t.SdG(2)),2&A&&(t.Y8G("ngIf",H.nzShowExpand||H.nzIndentSize>0),t.R7$(),t.Y8G("ngIf",H.nzShowCheckbox))},dependencies:[Di,Nr,oe.bT,oe.T3,Ye.IJ,Ye.$g,nt.YN,nt.BC,nt.vS],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzShowExpand",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzShowCheckbox",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzExpand",void 0),V})(),Bi=(()=>{class V{getNextSortDirection(O,A){const H=O.indexOf(A);return H===O.length-1?O[0]:O[H+1]}setSortOrder(O){this.sortOrderChange$.next(O)}clearSortOrder(){null!==this.sortOrder&&this.setSortOrder(null)}onFilterValueChange(O){this.nzFilterChange.emit(O),this.nzFilterValue=O,this.updateCalcOperator()}updateCalcOperator(){this.calcOperatorChange$.next()}constructor(O,A,H,Re){this.host=O,this.cdr=A,this.ngZone=H,this.destroy$=Re,this.manualClickOrder$=new C.B,this.calcOperatorChange$=new C.B,this.nzFilterValue=null,this.sortOrder=null,this.sortDirections=["ascend","descend",null],this.sortOrderChange$=new C.B,this.isNzShowSortChanged=!1,this.isNzShowFilterChanged=!1,this.nzFilterMultiple=!0,this.nzSortOrder=null,this.nzSortPriority=!1,this.nzSortDirections=["ascend","descend",null],this.nzFilters=[],this.nzSortFn=null,this.nzFilterFn=null,this.nzShowSort=!1,this.nzShowFilter=!1,this.nzCustomFilter=!1,this.nzCheckedChange=new t.bkB,this.nzSortOrderChange=new t.bkB,this.nzFilterChange=new t.bkB}ngOnInit(){this.ngZone.runOutsideAngular(()=>(0,m.R)(this.host.nativeElement,"click").pipe((0,ge.p)(()=>this.nzShowSort),(0,ie.Q)(this.destroy$)).subscribe(()=>{const O=this.getNextSortDirection(this.sortDirections,this.sortOrder);this.ngZone.run(()=>{this.setSortOrder(O),this.manualClickOrder$.next(this)})})),this.sortOrderChange$.pipe((0,ie.Q)(this.destroy$)).subscribe(O=>{this.sortOrder!==O&&(this.sortOrder=O,this.nzSortOrderChange.emit(O)),this.updateCalcOperator(),this.cdr.markForCheck()})}ngOnChanges(O){const{nzSortDirections:A,nzFilters:H,nzSortOrder:Re,nzSortFn:ft,nzFilterFn:Bt,nzSortPriority:Ut,nzFilterMultiple:tn,nzShowSort:fn,nzShowFilter:Vt}=O;A&&this.nzSortDirections&&this.nzSortDirections.length&&(this.sortDirections=this.nzSortDirections),Re&&(this.sortOrder=this.nzSortOrder,this.setSortOrder(this.nzSortOrder)),fn&&(this.isNzShowSortChanged=!0),Vt&&(this.isNzShowFilterChanged=!0);const Yn=hi=>hi&&hi.firstChange&&void 0!==hi.currentValue;if((Yn(Re)||Yn(ft))&&!this.isNzShowSortChanged&&(this.nzShowSort=!0),Yn(H)&&!this.isNzShowFilterChanged&&(this.nzShowFilter=!0),(H||tn)&&this.nzShowFilter){const hi=this.nzFilters.filter(Ci=>Ci.byDefault).map(Ci=>Ci.value);this.nzFilterValue=this.nzFilterMultiple?hi:hi[0]||null}(ft||Bt||Ut||H)&&this.updateCalcOperator()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(Te.y4))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["th","nzColumnKey",""],["th","nzSortFn",""],["th","nzSortOrder",""],["th","nzFilters",""],["th","nzShowSort",""],["th","nzShowFilter",""],["th","nzCustomFilter",""]],hostVars:4,hostBindings:function(A,H){2&A&&t.AVh("ant-table-column-has-sorters",H.nzShowSort)("ant-table-column-sort","descend"===H.sortOrder||"ascend"===H.sortOrder)},inputs:{nzColumnKey:"nzColumnKey",nzFilterMultiple:"nzFilterMultiple",nzSortOrder:"nzSortOrder",nzSortPriority:"nzSortPriority",nzSortDirections:"nzSortDirections",nzFilters:"nzFilters",nzSortFn:"nzSortFn",nzFilterFn:"nzFilterFn",nzShowSort:"nzShowSort",nzShowFilter:"nzShowFilter",nzCustomFilter:"nzCustomFilter"},outputs:{nzCheckedChange:"nzCheckedChange",nzSortOrderChange:"nzSortOrderChange",nzFilterChange:"nzFilterChange"},standalone:!0,features:[t.Jv_([Te.y4]),t.OA$,t.aNF],attrs:Kt,ngContentSelectors:un,decls:9,vars:2,consts:[["notFilterTemplate",""],["extraTemplate",""],["sortTemplate",""],["contentTemplate",""],[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange",4,"ngIf","ngIfElse"],[3,"filterChange","contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter"],[3,"ngTemplateOutlet"],[3,"sortOrder","sortDirections","contentTemplate"]],template:function(A,H){if(1&A&&(t.NAR(nn),t.DNE(0,yn,1,5,"nz-table-filter",4)(1,pn,1,1,"ng-template",null,0,t.C5r)(3,Ki,2,0,"ng-template",null,1,t.C5r)(5,Qi,1,3,"ng-template",null,2,t.C5r)(7,Zi,1,0,"ng-template",null,3,t.C5r)),2&A){const Re=t.sdS(2);t.Y8G("ngIf",H.nzShowFilter||H.nzCustomFilter)("ngIfElse",Re)}},dependencies:[ro,oe.bT,oe.T3,ao],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzShowSort",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzShowFilter",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzCustomFilter",void 0),V})(),lo=(()=>{class V{constructor(O,A){this.renderer=O,this.elementRef=A,this.changes$=new C.B,this.nzWidth=null,this.colspan=null,this.colSpan=null,this.rowspan=null,this.rowSpan=null}ngOnChanges(O){const{nzWidth:A,colspan:H,rowspan:Re,colSpan:ft,rowSpan:Bt}=O;if(H||ft){const Ut=this.colspan||this.colSpan;(0,Y.gD)(Ut)?this.renderer.removeAttribute(this.elementRef.nativeElement,"colspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"colspan",`${Ut}`)}if(Re||Bt){const Ut=this.rowspan||this.rowSpan;(0,Y.gD)(Ut)?this.renderer.removeAttribute(this.elementRef.nativeElement,"rowspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"rowspan",`${Ut}`)}(A||H)&&this.changes$.next()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(t.sFG),t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:V,selectors:[["th"]],inputs:{nzWidth:"nzWidth",colspan:"colspan",colSpan:"colSpan",rowspan:"rowspan",rowSpan:"rowSpan"},standalone:!0,features:[t.OA$]})}return V})(),Rr=(()=>{class V{constructor(){this.nzSelections=[],this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzShowCheckbox=!1,this.nzShowRowSelection=!1,this.nzCheckedChange=new t.bkB,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(O){this.nzChecked=O,this.nzCheckedChange.emit(O)}ngOnChanges(O){const A=Ut=>Ut&&Ut.firstChange&&void 0!==Ut.currentValue,{nzChecked:H,nzSelections:Re,nzShowExpand:ft,nzShowCheckbox:Bt}=O;ft&&(this.isNzShowExpandChanged=!0),Bt&&(this.isNzShowCheckboxChanged=!0),A(Re)&&!this.isNzShowExpandChanged&&(this.nzShowRowSelection=!0),A(H)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["th","nzSelections",""],["th","nzChecked",""],["th","nzShowCheckbox",""],["th","nzShowRowSelection",""]],hostAttrs:[1,"ant-table-selection-column"],inputs:{nzSelections:"nzSelections",nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzShowCheckbox:"nzShowCheckbox",nzShowRowSelection:"nzShowRowSelection"},outputs:{nzCheckedChange:"nzCheckedChange"},standalone:!0,features:[t.OA$,t.aNF],attrs:Ji,ngContentSelectors:xe,decls:2,vars:7,consts:[[3,"checkedChange","checked","disabled","indeterminate","label","listOfSelections","showCheckbox","showRowSelection"]],template:function(A,H){1&A&&(t.NAR(),t.j41(0,"nz-table-selection",0),t.bIt("checkedChange",function(ft){return H.onCheckedChange(ft)}),t.k0s(),t.SdG(1)),2&A&&t.Y8G("checked",H.nzChecked)("disabled",H.nzDisabled)("indeterminate",H.nzIndeterminate)("label",H.nzLabel)("listOfSelections",H.nzSelections)("showCheckbox",H.nzShowCheckbox)("showRowSelection",H.nzShowRowSelection)},dependencies:[Ri],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzShowCheckbox",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzShowRowSelection",void 0),V})(),co=(()=>{class V{constructor(){this.tableLayout="auto",this.theadTemplate=null,this.contentTemplate=null,this.listOfColWidth=[],this.scrollX=null}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["table","nz-table-content",""]],hostVars:8,hostBindings:function(A,H){2&A&&(t.xc7("table-layout",H.tableLayout)("width",H.scrollX)("min-width",H.scrollX?"100%":null),t.AVh("ant-table-fixed",H.scrollX))},inputs:{tableLayout:"tableLayout",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",listOfColWidth:"listOfColWidth",scrollX:"scrollX"},standalone:!0,features:[t.aNF],attrs:qi,ngContentSelectors:xe,decls:4,vars:3,consts:[[3,"width","minWidth",4,"ngFor","ngForOf"],["class","ant-table-thead",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-table-thead"]],template:function(A,H){1&A&&(t.NAR(),t.DNE(0,es,1,4,"col",0)(1,ns,2,1,"thead",1)(2,Ii,0,0,"ng-template",2),t.SdG(3)),2&A&&(t.Y8G("ngForOf",H.listOfColWidth),t.R7$(),t.Y8G("ngIf",H.theadTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",H.contentTemplate))},dependencies:[oe.T3,oe.bT,oe.Sq],encapsulation:2,changeDetection:0})}return V})(),Fr=(()=>{class V{constructor(O,A){this.nzTableStyleService=O,this.renderer=A,this.hostWidth$=new Ue.t(null),this.enableAutoMeasure$=new Ue.t(!1),this.destroy$=new C.B}ngOnInit(){if(this.nzTableStyleService){const{enableAutoMeasure$:O,hostWidth$:A}=this.nzTableStyleService;O.pipe((0,ie.Q)(this.destroy$)).subscribe(this.enableAutoMeasure$),A.pipe((0,ie.Q)(this.destroy$)).subscribe(this.hostWidth$)}}ngAfterViewInit(){this.nzTableStyleService.columnCount$.pipe((0,ie.Q)(this.destroy$)).subscribe(O=>{this.renderer.setAttribute(this.tdElement.nativeElement,"colspan",`${O}`)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(vi),t.rXU(t.sFG))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["tr","nz-table-fixed-row",""],["tr","nzExpand",""]],viewQuery:function(A,H){if(1&A&&t.GBs(Si,7),2&A){let Re;t.mGM(Re=t.lsd())&&(H.tdElement=Re.first)}},standalone:!0,features:[t.aNF],attrs:si,ngContentSelectors:xe,decls:6,vars:4,consts:[["tdElement",""],["contentTemplate",""],[1,"nz-disable-td","ant-table-cell"],["class","ant-table-expanded-row-fixed","style","position: sticky; left: 0px; overflow: hidden;",3,"width",4,"ngIf","ngIfElse"],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0px","overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(A,H){if(1&A&&(t.NAR(),t.j41(0,"td",2,0),t.DNE(2,ei,3,5,"div",3),t.nI1(3,"async"),t.k0s(),t.DNE(4,Ai,1,0,"ng-template",null,1,t.C5r)),2&A){const Re=t.sdS(5);t.R7$(2),t.Y8G("ngIf",t.bMT(3,2,H.enableAutoMeasure$))("ngIfElse",Re)}},dependencies:[oe.bT,oe.Jj,oe.T3],encapsulation:2,changeDetection:0})}return V})(),Br=(()=>{class V{constructor(){this.tableLayout="auto",this.listOfColWidth=[],this.theadTemplate=null,this.contentTemplate=null}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-table-inner-default"]],hostAttrs:[1,"ant-table-container"],inputs:{tableLayout:"tableLayout",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate"},standalone:!0,features:[t.aNF],decls:2,vars:4,consts:[[1,"ant-table-content"],["nz-table-content","",3,"contentTemplate","tableLayout","listOfColWidth","theadTemplate"]],template:function(A,H){1&A&&(t.j41(0,"div",0),t.nrm(1,"table",1),t.k0s()),2&A&&(t.R7$(),t.Y8G("contentTemplate",H.contentTemplate)("tableLayout",H.tableLayout)("listOfColWidth",H.listOfColWidth)("theadTemplate",H.theadTemplate))},dependencies:[co],encapsulation:2,changeDetection:0})}return V})(),wi=(()=>{class V{constructor(O,A){this.nzResizeObserver=O,this.ngZone=A,this.listOfMeasureColumn=[],this.listOfAutoWidth=new t.bkB,this.destroy$=new C.B}trackByFunc(O,A){return A}ngAfterViewInit(){this.listOfTdElement.changes.pipe((0,De.Z)(this.listOfTdElement)).pipe((0,Ce.n)(O=>(0,Se.z)(O.toArray().map(A=>this.nzResizeObserver.observe(A).pipe((0,he.T)(([H])=>{const{width:Re}=H.target.getBoundingClientRect();return Math.floor(Re)}))))),(0,J.B)(16),(0,ie.Q)(this.destroy$)).subscribe(O=>{this.ngZone instanceof t.SKi&&t.SKi.isInAngularZone()?this.listOfAutoWidth.next(O):this.ngZone.run(()=>this.listOfAutoWidth.next(O))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(dt.xH),t.rXU(t.SKi))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["tr","nz-table-measure-row",""]],viewQuery:function(A,H){if(1&A&&t.GBs(Si,5),2&A){let Re;t.mGM(Re=t.lsd())&&(H.listOfTdElement=Re)}},hostAttrs:[1,"ant-table-measure-now"],inputs:{listOfMeasureColumn:"listOfMeasureColumn"},outputs:{listOfAutoWidth:"listOfAutoWidth"},standalone:!0,features:[t.aNF],attrs:oi,decls:1,vars:2,consts:[["tdElement",""],["class","nz-disable-td","style","padding: 0px; border: 0px; height: 0px;",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nz-disable-td",2,"padding","0px","border","0px","height","0px"]],template:function(A,H){1&A&&t.DNE(0,Ms,2,0,"td",1),2&A&&t.Y8G("ngForOf",H.listOfMeasureColumn)("ngForTrackBy",H.trackByFunc)},dependencies:[oe.Sq],encapsulation:2,changeDetection:0})}return V})(),Mi=(()=>{class V{constructor(O){if(this.nzTableStyleService=O,this.isInsideTable=!1,this.showEmpty$=new Ue.t(!1),this.noResult$=new Ue.t(void 0),this.listOfMeasureColumn$=new Ue.t([]),this.destroy$=new C.B,this.isInsideTable=!!this.nzTableStyleService,this.nzTableStyleService){const{showEmpty$:A,noResult$:H,listOfMeasureColumn$:Re}=this.nzTableStyleService;H.pipe((0,ie.Q)(this.destroy$)).subscribe(this.noResult$),Re.pipe((0,ie.Q)(this.destroy$)).subscribe(this.listOfMeasureColumn$),A.pipe((0,ie.Q)(this.destroy$)).subscribe(this.showEmpty$)}}onListOfAutoWidthChange(O){this.nzTableStyleService.setListOfAutoWidth(O)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(vi,8))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["tbody"]],hostVars:2,hostBindings:function(A,H){2&A&&t.AVh("ant-table-tbody",H.isInsideTable)},standalone:!0,features:[t.aNF],ngContentSelectors:xe,decls:5,vars:6,consts:[[4,"ngIf"],["class","ant-table-placeholder","nz-table-fixed-row","",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth",4,"ngIf"],["nz-table-measure-row","",3,"listOfAutoWidth","listOfMeasureColumn"],["nz-table-fixed-row","",1,"ant-table-placeholder"],["nzComponentName","table",3,"specificContent"]],template:function(A,H){1&A&&(t.NAR(),t.DNE(0,hr,2,1,"ng-container",0),t.nI1(1,"async"),t.SdG(2),t.DNE(3,dr,3,3,"tr",1),t.nI1(4,"async")),2&A&&(t.Y8G("ngIf",t.bMT(1,2,H.listOfMeasureColumn$)),t.R7$(3),t.Y8G("ngIf",t.bMT(4,4,H.showEmpty$)))},dependencies:[oe.bT,oe.Jj,wi,Fr,mt._v,mt.E8],encapsulation:2,changeDetection:0})}return V})(),Ps=(()=>{class V{setScrollPositionClassName(O=!1){const{scrollWidth:A,scrollLeft:H,clientWidth:Re}=this.tableBodyElement.nativeElement,ft="ant-table-ping-left",Bt="ant-table-ping-right";A===Re&&0!==A||O?(this.renderer.removeClass(this.tableMainElement,ft),this.renderer.removeClass(this.tableMainElement,Bt)):0===H?(this.renderer.removeClass(this.tableMainElement,ft),this.renderer.addClass(this.tableMainElement,Bt)):A===H+Re?(this.renderer.removeClass(this.tableMainElement,Bt),this.renderer.addClass(this.tableMainElement,ft)):(this.renderer.addClass(this.tableMainElement,ft),this.renderer.addClass(this.tableMainElement,Bt))}constructor(O,A,H,Re){this.renderer=O,this.ngZone=A,this.platform=H,this.resizeService=Re,this.data=[],this.scrollX=null,this.scrollY=null,this.contentTemplate=null,this.widthConfig=[],this.listOfColWidth=[],this.theadTemplate=null,this.virtualTemplate=null,this.virtualItemSize=0,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=ft=>ft,this.headerStyleMap={},this.bodyStyleMap={},this.verticalScrollBarWidth=0,this.noDateVirtualHeight="182px",this.data$=new C.B,this.scroll$=new C.B,this.destroy$=new C.B}ngOnChanges(O){const{scrollX:A,scrollY:H,data:Re}=O;(A||H)&&(this.headerStyleMap={overflowX:"hidden",overflowY:this.scrollY&&0!==this.verticalScrollBarWidth?"scroll":"hidden"},this.bodyStyleMap={overflowY:this.scrollY?"scroll":"hidden",overflowX:this.scrollX?"auto":null,maxHeight:this.scrollY},this.ngZone.runOutsideAngular(()=>this.scroll$.next())),Re&&this.ngZone.runOutsideAngular(()=>this.data$.next())}ngAfterViewInit(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{const O=this.scroll$.pipe((0,De.Z)(null),(0,Pe.c)(0),(0,Ce.n)(()=>(0,m.R)(this.tableBodyElement.nativeElement,"scroll").pipe((0,De.Z)(!0))),(0,ie.Q)(this.destroy$)),A=this.resizeService.subscribe().pipe((0,ie.Q)(this.destroy$)),H=this.data$.pipe((0,ie.Q)(this.destroy$));(0,ze.h)(O,A,H,this.scroll$).pipe((0,De.Z)(!0),(0,Pe.c)(0),(0,ie.Q)(this.destroy$)).subscribe(()=>this.setScrollPositionClassName()),O.pipe((0,ge.p)(()=>!!this.scrollY)).subscribe(()=>this.tableHeaderElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft)})}ngOnDestroy(){this.setScrollPositionClassName(!0),this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(xt.OD),t.rXU(Te.cB))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-table-inner-scroll"]],viewQuery:function(A,H){if(1&A&&(t.GBs(ur,5,t.aKT),t.GBs(pr,5,t.aKT),t.GBs($e.d6,5,$e.d6)),2&A){let Re;t.mGM(Re=t.lsd())&&(H.tableHeaderElement=Re.first),t.mGM(Re=t.lsd())&&(H.tableBodyElement=Re.first),t.mGM(Re=t.lsd())&&(H.cdkVirtualScrollViewport=Re.first)}},hostAttrs:[1,"ant-table-container"],inputs:{data:"data",scrollX:"scrollX",scrollY:"scrollY",contentTemplate:"contentTemplate",widthConfig:"widthConfig",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",virtualTemplate:"virtualTemplate",virtualItemSize:"virtualItemSize",virtualMaxBufferPx:"virtualMaxBufferPx",virtualMinBufferPx:"virtualMinBufferPx",tableMainElement:"tableMainElement",virtualForTrackBy:"virtualForTrackBy",verticalScrollBarWidth:"verticalScrollBarWidth"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:2,consts:[["tableHeaderElement",""],["tableBodyElement",""],[4,"ngIf"],["class","ant-table-content",3,"ngStyle",4,"ngIf"],[1,"ant-table-header","nz-table-hide-scrollbar",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate"],["class","ant-table-body",3,"ngStyle",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","height",4,"ngIf"],[1,"ant-table-body",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","contentTemplate"],[3,"itemSize","maxBufferPx","minBufferPx"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-table-content",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","contentTemplate"]],template:function(A,H){1&A&&t.DNE(0,Cr,6,6,"ng-container",2)(1,yr,3,5,"div",3),2&A&&(t.Y8G("ngIf",H.scrollY),t.R7$(),t.Y8G("ngIf",!H.scrollY))},dependencies:[co,oe.bT,oe.B3,$e.E9,$e.yg,$e.E$,$e.d6,oe.T3,Mi],encapsulation:2,changeDetection:0})}return V})(),ks=(()=>{class V{constructor(O){this.templateRef=O}static ngTemplateContextGuard(O,A){return!0}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(t.C4Q))};static#t=this.\u0275dir=t.FsC({type:V,selectors:[["","nz-virtual-scroll",""]],exportAs:["nzVirtualScroll"],standalone:!0})}return V})(),ho=(()=>{class V{constructor(){this.title=null,this.footer=null}static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-table-title-footer"]],hostVars:4,hostBindings:function(A,H){2&A&&t.AVh("ant-table-title",null!==H.title)("ant-table-footer",null!==H.footer)},inputs:{title:"title",footer:"footer"},standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[[4,"nzStringTemplateOutlet"]],template:function(A,H){1&A&&t.DNE(0,zr,2,1,"ng-container",0)(1,ci,2,1,"ng-container",0),2&A&&(t.Y8G("nzStringTemplateOutlet",H.title),t.R7$(),t.Y8G("nzStringTemplateOutlet",H.footer))},dependencies:[ce.C,ce.m],encapsulation:2,changeDetection:0})}return V})(),po=(()=>{class V{onPageSizeChange(O){this.nzTableDataService.updatePageSize(O)}onPageIndexChange(O){this.nzTableDataService.updatePageIndex(O)}constructor(O,A,H,Re,ft,Bt,Ut){this.elementRef=O,this.nzResizeObserver=A,this.nzConfigService=H,this.cdr=Re,this.nzTableStyleService=ft,this.nzTableDataService=Bt,this.directionality=Ut,this._nzModuleName="table",this.nzTableLayout="auto",this.nzShowTotal=null,this.nzItemRender=null,this.nzTitle=null,this.nzFooter=null,this.nzNoResult=void 0,this.nzPageSizeOptions=[10,20,30,40,50],this.nzVirtualItemSize=0,this.nzVirtualMaxBufferPx=200,this.nzVirtualMinBufferPx=100,this.nzVirtualForTrackBy=tn=>tn,this.nzLoadingDelay=0,this.nzPageIndex=1,this.nzPageSize=10,this.nzTotal=0,this.nzWidthConfig=[],this.nzData=[],this.nzCustomColumn=[],this.nzPaginationPosition="bottom",this.nzScroll={x:null,y:null},this.nzPaginationType="default",this.nzFrontPagination=!0,this.nzTemplateMode=!1,this.nzShowPagination=!0,this.nzLoading=!1,this.nzOuterBordered=!1,this.nzLoadingIndicator=null,this.nzBordered=!1,this.nzSize="default",this.nzShowSizeChanger=!1,this.nzHideOnSinglePage=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzPageSizeChange=new t.bkB,this.nzPageIndexChange=new t.bkB,this.nzQueryParams=new t.bkB,this.nzCurrentPageDataChange=new t.bkB,this.nzCustomColumnChange=new t.bkB,this.data=[],this.scrollX=null,this.scrollY=null,this.theadTemplate=null,this.listOfAutoColWidth=[],this.listOfManualColWidth=[],this.hasFixLeft=!1,this.hasFixRight=!1,this.showPagination=!0,this.destroy$=new C.B,this.templateMode$=new Ue.t(!1),this.dir="ltr",this.verticalScrollBarWidth=0,this.nzConfigService.getConfigChangeEventForComponent("table").pipe((0,ie.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){const{pageIndexDistinct$:O,pageSizeDistinct$:A,listOfCurrentPageData$:H,total$:Re,queryParams$:ft,listOfCustomColumn$:Bt}=this.nzTableDataService,{theadTemplate$:Ut,hasFixLeft$:tn,hasFixRight$:fn}=this.nzTableStyleService;this.dir=this.directionality.value,this.directionality.change?.pipe((0,ie.Q)(this.destroy$)).subscribe(Vt=>{this.dir=Vt,this.cdr.detectChanges()}),ft.pipe((0,ie.Q)(this.destroy$)).subscribe(this.nzQueryParams),O.pipe((0,ie.Q)(this.destroy$)).subscribe(Vt=>{Vt!==this.nzPageIndex&&(this.nzPageIndex=Vt,this.nzPageIndexChange.next(Vt))}),A.pipe((0,ie.Q)(this.destroy$)).subscribe(Vt=>{Vt!==this.nzPageSize&&(this.nzPageSize=Vt,this.nzPageSizeChange.next(Vt))}),Re.pipe((0,ie.Q)(this.destroy$),(0,ge.p)(()=>this.nzFrontPagination)).subscribe(Vt=>{Vt!==this.nzTotal&&(this.nzTotal=Vt,this.cdr.markForCheck())}),H.pipe((0,ie.Q)(this.destroy$)).subscribe(Vt=>{this.data=Vt,this.nzCurrentPageDataChange.next(Vt),this.cdr.markForCheck()}),Bt.pipe((0,ie.Q)(this.destroy$)).subscribe(Vt=>{this.nzCustomColumn=Vt,this.nzCustomColumnChange.next(Vt),this.cdr.markForCheck()}),Ut.pipe((0,ie.Q)(this.destroy$)).subscribe(Vt=>{this.theadTemplate=Vt,this.cdr.markForCheck()}),tn.pipe((0,ie.Q)(this.destroy$)).subscribe(Vt=>{this.hasFixLeft=Vt,this.cdr.markForCheck()}),fn.pipe((0,ie.Q)(this.destroy$)).subscribe(Vt=>{this.hasFixRight=Vt,this.cdr.markForCheck()}),(0,Se.z)([Re,this.templateMode$]).pipe((0,he.T)(([Vt,Yn])=>0===Vt&&!Yn),(0,ie.Q)(this.destroy$)).subscribe(Vt=>{this.nzTableStyleService.setShowEmpty(Vt)}),this.verticalScrollBarWidth=(0,Y.nS)("vertical"),this.nzTableStyleService.listOfListOfThWidthPx$.pipe((0,ie.Q)(this.destroy$)).subscribe(Vt=>{this.listOfAutoColWidth=Vt,this.cdr.markForCheck()}),this.nzTableStyleService.manualWidthConfigPx$.pipe((0,ie.Q)(this.destroy$)).subscribe(Vt=>{this.listOfManualColWidth=Vt,this.cdr.markForCheck()})}ngOnChanges(O){const{nzScroll:A,nzPageIndex:H,nzPageSize:Re,nzFrontPagination:ft,nzData:Bt,nzCustomColumn:Ut,nzWidthConfig:tn,nzNoResult:fn,nzTemplateMode:Vt}=O;H&&this.nzTableDataService.updatePageIndex(this.nzPageIndex),Re&&this.nzTableDataService.updatePageSize(this.nzPageSize),Bt&&(this.nzData=this.nzData||[],this.nzTableDataService.updateListOfData(this.nzData)),Ut&&(this.nzCustomColumn=this.nzCustomColumn||[],this.nzTableDataService.updateListOfCustomColumn(this.nzCustomColumn)),ft&&this.nzTableDataService.updateFrontPagination(this.nzFrontPagination),A&&this.setScrollOnChanges(),tn&&this.nzTableStyleService.setTableWidthConfig(this.nzWidthConfig),Vt&&this.templateMode$.next(this.nzTemplateMode),fn&&this.nzTableStyleService.setNoResult(this.nzNoResult),this.updateShowPagination()}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe((0,he.T)(([O])=>{const{width:A}=O.target.getBoundingClientRect();return Math.floor(A-(this.scrollY?this.verticalScrollBarWidth:0))}),(0,ie.Q)(this.destroy$)).subscribe(this.nzTableStyleService.hostWidth$),this.nzTableInnerScrollComponent&&this.nzTableInnerScrollComponent.cdkVirtualScrollViewport&&(this.cdkVirtualScrollViewport=this.nzTableInnerScrollComponent.cdkVirtualScrollViewport)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setScrollOnChanges(){this.scrollX=this.nzScroll&&this.nzScroll.x||null,this.scrollY=this.nzScroll&&this.nzScroll.y||null,this.nzTableStyleService.setScroll(this.scrollX,this.scrollY)}updateShowPagination(){this.showPagination=this.nzHideOnSinglePage&&this.nzData.length>this.nzPageSize||this.nzData.length>0&&!this.nzHideOnSinglePage||!this.nzFrontPagination&&this.nzTotal>this.nzPageSize}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(t.aKT),t.rXU(dt.xH),t.rXU(ae.yx),t.rXU(t.gRc),t.rXU(vi),t.rXU(Es),t.rXU(Me.dS,8))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["nz-table"]],contentQueries:function(A,H,Re){if(1&A&&t.wni(Re,ks,5),2&A){let ft;t.mGM(ft=t.lsd())&&(H.nzVirtualScrollDirective=ft.first)}},viewQuery:function(A,H){if(1&A&&t.GBs(Ps,5),2&A){let Re;t.mGM(Re=t.lsd())&&(H.nzTableInnerScrollComponent=Re.first)}},hostAttrs:[1,"ant-table-wrapper"],hostVars:4,hostBindings:function(A,H){2&A&&t.AVh("ant-table-wrapper-rtl","rtl"===H.dir)("ant-table-custom-column",H.nzCustomColumn.length)},inputs:{nzTableLayout:"nzTableLayout",nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzTitle:"nzTitle",nzFooter:"nzFooter",nzNoResult:"nzNoResult",nzPageSizeOptions:"nzPageSizeOptions",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualForTrackBy:"nzVirtualForTrackBy",nzLoadingDelay:"nzLoadingDelay",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize",nzTotal:"nzTotal",nzWidthConfig:"nzWidthConfig",nzData:"nzData",nzCustomColumn:"nzCustomColumn",nzPaginationPosition:"nzPaginationPosition",nzScroll:"nzScroll",nzPaginationType:"nzPaginationType",nzFrontPagination:"nzFrontPagination",nzTemplateMode:"nzTemplateMode",nzShowPagination:"nzShowPagination",nzLoading:"nzLoading",nzOuterBordered:"nzOuterBordered",nzLoadingIndicator:"nzLoadingIndicator",nzBordered:"nzBordered",nzSize:"nzSize",nzShowSizeChanger:"nzShowSizeChanger",nzHideOnSinglePage:"nzHideOnSinglePage",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange",nzQueryParams:"nzQueryParams",nzCurrentPageDataChange:"nzCurrentPageDataChange",nzCustomColumnChange:"nzCustomColumnChange"},exportAs:["nzTable"],standalone:!0,features:[t.Jv_([vi,Es]),t.OA$,t.aNF],ngContentSelectors:xe,decls:14,vars:27,consts:[["tableMainElement",""],["defaultTemplate",""],["paginationTemplate",""],["contentTemplate",""],[3,"nzDelay","nzSpinning","nzIndicator"],[4,"ngIf"],[1,"ant-table"],[3,"title",4,"ngIf"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy",4,"ngIf","ngIfElse"],[3,"footer",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"title"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy"],[3,"tableLayout","listOfColWidth","theadTemplate","contentTemplate"],[3,"footer"],["class","ant-table-pagination ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange",4,"ngIf"],[1,"ant-table-pagination","ant-table-pagination-right",3,"nzPageSizeChange","nzPageIndexChange","hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex"]],template:function(A,H){if(1&A&&(t.NAR(),t.j41(0,"nz-spin",4),t.DNE(1,xi,2,1,"ng-container",5),t.j41(2,"div",6,0),t.DNE(4,so,1,1,"nz-table-title-footer",7)(5,br,1,13,"nz-table-inner-scroll",8)(6,Sr,1,4,"ng-template",null,1,t.C5r)(8,Tr,1,1,"nz-table-title-footer",9),t.k0s(),t.DNE(9,xr,2,1,"ng-container",5),t.k0s(),t.DNE(10,Or,1,1,"ng-template",null,2,t.C5r)(12,Dr,1,0,"ng-template",null,3,t.C5r)),2&A){const Re=t.sdS(7);t.Y8G("nzDelay",H.nzLoadingDelay)("nzSpinning",H.nzLoading)("nzIndicator",H.nzLoadingIndicator),t.R7$(),t.Y8G("ngIf","both"===H.nzPaginationPosition||"top"===H.nzPaginationPosition),t.R7$(),t.AVh("ant-table-rtl","rtl"===H.dir)("ant-table-fixed-header",H.nzData.length&&H.scrollY)("ant-table-fixed-column",H.scrollX)("ant-table-has-fix-left",H.hasFixLeft)("ant-table-has-fix-right",H.hasFixRight)("ant-table-bordered",H.nzBordered)("nz-table-out-bordered",H.nzOuterBordered&&!H.nzBordered)("ant-table-middle","middle"===H.nzSize)("ant-table-small","small"===H.nzSize),t.R7$(2),t.Y8G("ngIf",H.nzTitle),t.R7$(),t.Y8G("ngIf",H.scrollY||H.scrollX)("ngIfElse",Re),t.R7$(3),t.Y8G("ngIf",H.nzFooter),t.R7$(),t.Y8G("ngIf","both"===H.nzPaginationPosition||"bottom"===H.nzPaginationPosition)}},dependencies:[Fe.a,oe.bT,oe.T3,ho,Ps,Br,Ge,kn],encapsulation:2,changeDetection:0})}return(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzFrontPagination",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzTemplateMode",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzShowPagination",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzLoading",void 0),(0,f.Cg)([(0,Y.H3)()],V.prototype,"nzOuterBordered",void 0),(0,f.Cg)([(0,ae.H4)()],V.prototype,"nzLoadingIndicator",void 0),(0,f.Cg)([(0,ae.H4)(),(0,Y.H3)()],V.prototype,"nzBordered",void 0),(0,f.Cg)([(0,ae.H4)()],V.prototype,"nzSize",void 0),(0,f.Cg)([(0,ae.H4)(),(0,Y.H3)()],V.prototype,"nzShowSizeChanger",void 0),(0,f.Cg)([(0,ae.H4)(),(0,Y.H3)()],V.prototype,"nzHideOnSinglePage",void 0),(0,f.Cg)([(0,ae.H4)(),(0,Y.H3)()],V.prototype,"nzShowQuickJumper",void 0),(0,f.Cg)([(0,ae.H4)(),(0,Y.H3)()],V.prototype,"nzSimple",void 0),V})(),fo=(()=>{class V{constructor(O){this.nzTableStyleService=O,this.destroy$=new C.B,this.listOfFixedColumns$=new Ee.m(1),this.listOfColumns$=new Ee.m(1),this.listOfFixedColumnsChanges$=this.listOfFixedColumns$.pipe((0,Ce.n)(A=>(0,ze.h)(this.listOfFixedColumns$,...A.map(H=>H.changes$)).pipe((0,He.Z)(()=>this.listOfFixedColumns$))),(0,ie.Q)(this.destroy$)),this.listOfFixedLeftColumnChanges$=this.listOfFixedColumnsChanges$.pipe((0,he.T)(A=>A.filter(H=>!1!==H.nzLeft))),this.listOfFixedRightColumnChanges$=this.listOfFixedColumnsChanges$.pipe((0,he.T)(A=>A.filter(H=>!1!==H.nzRight))),this.listOfColumnsChanges$=this.listOfColumns$.pipe((0,Ce.n)(A=>(0,ze.h)(this.listOfColumns$,...A.map(H=>H.changes$)).pipe((0,He.Z)(()=>this.listOfColumns$))),(0,ie.Q)(this.destroy$)),this.isInsideTable=!1,this.isInsideTable=!!O}ngAfterContentInit(){this.nzTableStyleService&&(this.listOfCellFixedDirective.changes.pipe((0,De.Z)(this.listOfCellFixedDirective),(0,ie.Q)(this.destroy$)).subscribe(this.listOfFixedColumns$),this.listOfNzThDirective.changes.pipe((0,De.Z)(this.listOfNzThDirective),(0,ie.Q)(this.destroy$)).subscribe(this.listOfColumns$),this.listOfFixedLeftColumnChanges$.subscribe(O=>{O.forEach(A=>A.setIsLastLeft(A===O[O.length-1]))}),this.listOfFixedRightColumnChanges$.subscribe(O=>{O.forEach(A=>A.setIsFirstRight(A===O[0]))}),(0,Se.z)([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedLeftColumnChanges$]).pipe((0,ie.Q)(this.destroy$)).subscribe(([O,A])=>{A.forEach((H,Re)=>{if(H.isAutoLeft){const Bt=A.slice(0,Re).reduce((tn,fn)=>tn+(fn.colspan||fn.colSpan||1),0),Ut=O.slice(0,Bt).reduce((tn,fn)=>tn+fn,0);H.setAutoLeftWidth(`${Ut}px`)}})}),(0,Se.z)([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedRightColumnChanges$]).pipe((0,ie.Q)(this.destroy$)).subscribe(([O,A])=>{A.forEach((H,Re)=>{const ft=A[A.length-Re-1];if(ft.isAutoRight){const Ut=A.slice(A.length-Re,A.length).reduce((fn,Vt)=>fn+(Vt.colspan||Vt.colSpan||1),0),tn=O.slice(O.length-Ut,O.length).reduce((fn,Vt)=>fn+Vt,0);ft.setAutoRightWidth(`${tn}px`)}})}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(vi,8))};static#t=this.\u0275dir=t.FsC({type:V,selectors:[["tr",3,"mat-row","",3,"mat-header-row","",3,"nz-table-measure-row","",3,"nzExpand","",3,"nz-table-fixed-row",""]],contentQueries:function(A,H,Re){if(1&A&&(t.wni(Re,lo,4),t.wni(Re,Fi,4)),2&A){let ft;t.mGM(ft=t.lsd())&&(H.listOfNzThDirective=ft),t.mGM(ft=t.lsd())&&(H.listOfCellFixedDirective=ft)}},hostVars:2,hostBindings:function(A,H){2&A&&t.AVh("ant-table-row",H.isInsideTable)},standalone:!0})}return V})(),Lr=(()=>{class V{constructor(O,A,H,Re){this.elementRef=O,this.renderer=A,this.nzTableStyleService=H,this.nzTableDataService=Re,this.destroy$=new C.B,this.isInsideTable=!1,this.nzSortOrderChange=new t.bkB,this.isInsideTable=!!this.nzTableStyleService}ngOnInit(){this.nzTableStyleService&&this.nzTableStyleService.setTheadTemplate(this.templateRef)}ngAfterContentInit(){if(this.nzTableStyleService){const O=this.listOfNzTrDirective.changes.pipe((0,De.Z)(this.listOfNzTrDirective),(0,he.T)(ft=>ft&&ft.first)),A=O.pipe((0,Ce.n)(ft=>ft?ft.listOfColumnsChanges$:fe.w),(0,ie.Q)(this.destroy$));A.subscribe(ft=>this.nzTableStyleService.setListOfTh(ft)),this.nzTableStyleService.enableAutoMeasure$.pipe((0,Ce.n)(ft=>ft?A:(0,F.of)([]))).pipe((0,ie.Q)(this.destroy$)).subscribe(ft=>this.nzTableStyleService.setListOfMeasureColumn(ft));const H=O.pipe((0,Ce.n)(ft=>ft?ft.listOfFixedLeftColumnChanges$:fe.w),(0,ie.Q)(this.destroy$)),Re=O.pipe((0,Ce.n)(ft=>ft?ft.listOfFixedRightColumnChanges$:fe.w),(0,ie.Q)(this.destroy$));H.subscribe(ft=>{this.nzTableStyleService.setHasFixLeft(0!==ft.length)}),Re.subscribe(ft=>{this.nzTableStyleService.setHasFixRight(0!==ft.length)})}if(this.nzTableDataService){const O=this.listOfNzThAddOnComponent.changes.pipe((0,De.Z)(this.listOfNzThAddOnComponent));O.pipe((0,Ce.n)(()=>(0,ze.h)(...this.listOfNzThAddOnComponent.map(Re=>Re.manualClickOrder$))),(0,ie.Q)(this.destroy$)).subscribe(Re=>{this.nzSortOrderChange.emit({key:Re.nzColumnKey,value:Re.sortOrder}),Re.nzSortFn&&!1===Re.nzSortPriority&&this.listOfNzThAddOnComponent.filter(Bt=>Bt!==Re).forEach(Bt=>Bt.clearSortOrder())}),O.pipe((0,Ce.n)(Re=>(0,ze.h)(O,...Re.map(ft=>ft.calcOperatorChange$)).pipe((0,He.Z)(()=>O))),(0,he.T)(Re=>Re.filter(ft=>!!ft.nzSortFn||!!ft.nzFilterFn).map(ft=>{const{nzSortFn:Bt,sortOrder:Ut,nzFilterFn:tn,nzFilterValue:fn,nzSortPriority:Vt,nzColumnKey:Yn}=ft;return{key:Yn,sortFn:Bt,sortPriority:Vt,sortOrder:Ut,filterFn:tn,filterValue:fn}})),(0,Pe.c)(0),(0,ie.Q)(this.destroy$)).subscribe(Re=>{this.nzTableDataService.listOfCalcOperator$.next(Re)})}}ngAfterViewInit(){this.nzTableStyleService&&this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(A){return new(A||V)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(vi,8),t.rXU(Es,8))};static#t=this.\u0275cmp=t.VBU({type:V,selectors:[["thead",9,"ant-table-thead"]],contentQueries:function(A,H,Re){if(1&A&&(t.wni(Re,fo,5),t.wni(Re,Bi,5)),2&A){let ft;t.mGM(ft=t.lsd())&&(H.listOfNzTrDirective=ft),t.mGM(ft=t.lsd())&&(H.listOfNzThAddOnComponent=ft)}},viewQuery:function(A,H){if(1&A&&t.GBs(wr,7),2&A){let Re;t.mGM(Re=t.lsd())&&(H.templateRef=Re.first)}},outputs:{nzSortOrderChange:"nzSortOrderChange"},standalone:!0,features:[t.aNF],ngContentSelectors:xe,decls:3,vars:1,consts:[["contentTemplate",""],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(A,H){1&A&&(t.NAR(),t.DNE(0,Mr,1,0,"ng-template",null,0,t.C5r)(2,Pr,2,1,"ng-container",1)),2&A&&(t.R7$(2),t.Y8G("ngIf",!H.isInsideTable))},dependencies:[oe.bT,oe.T3],encapsulation:2,changeDetection:0})}return V})(),Vr=(()=>{class V{static#e=this.\u0275fac=function(A){return new(A||V)};static#t=this.\u0275mod=t.$C({type:V});static#n=this.\u0275inj=t.G2t({imports:[po,Bi,Ar,Mi,ho,Ps,ao,ro,Ri,oo,Rr]})}return V})()},5154:(Lt,ct,v)=>{"use strict";v.d(ct,{LH:()=>oe,ME:()=>Te,Qt:()=>ke,VJ:()=>nt,t:()=>be});var t=v(1635),f=v(6969),m=v(177),C=v(4438),Ee=v(713),Ue=v(6006),Se=v(6841),ze=v(7806),fe=v(5463),F=v(317),ie=v(1413),he=v(5007),me=v(3294),J=v(6977),G=v(5964),ge=v(1986),Ce=v(6035),De=v(8203);const Pe=["overlay"];function He(Ye,et){if(1&Ye&&(C.qex(0),C.EFF(1),C.bVm()),2&Ye){const Le=C.XpG(2);C.R7$(),C.JRh(Le.nzTitle)}}function ae(Ye,et){if(1&Ye&&(C.j41(0,"div",2)(1,"div",3)(2,"div",4),C.nrm(3,"span",5),C.k0s(),C.j41(4,"div",6),C.DNE(5,He,2,1,"ng-container",7),C.k0s()()()),2&Ye){const Le=C.XpG();C.AVh("ant-tooltip-rtl","rtl"===Le.dir),C.Y8G("ngClass",Le._classMap)("ngStyle",Le.nzOverlayStyle)("@.disabled",!(null==Le.noAnimation||!Le.noAnimation.nzNoAnimation))("nzNoAnimation",null==Le.noAnimation?null:Le.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),C.R7$(3),C.Y8G("ngStyle",Le._contentStyleMap),C.R7$(),C.Y8G("ngStyle",Le._contentStyleMap),C.R7$(),C.Y8G("nzStringTemplateOutlet",Le.nzTitle)("nzStringTemplateOutletContext",Le.nzTitleContext)}}let Te=(()=>{class Ye{get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return typeof this.trigger<"u"?this.trigger:"hover"}get _placement(){const Le=this.placement;return Array.isArray(Le)&&Le.length>0?Le:"string"==typeof Le&&Le?[Le]:["top"]}get _visible(){return(typeof this.visible<"u"?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}constructor(Le,Je,We,pt,tt){this.elementRef=Le,this.hostView=Je,this.renderer=We,this.noAnimation=pt,this.nzConfigService=tt,this.visibleChange=new C.bkB,this.internalVisible=!1,this.destroy$=new ie.B,this.triggerDisposables=[]}ngOnChanges(Le){const{trigger:Je}=Le;Je&&!Je.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(Le)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){this.component?.show()}hide(){this.component?.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const Le=this.componentRef;this.component=Le.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),Le.location.nativeElement),this.component.setOverlayOrigin(this.origin||this.elementRef),this.initProperties();const Je=this.component.nzVisibleChange.pipe((0,me.F)());Je.pipe((0,J.Q)(this.destroy$)).subscribe(We=>{this.internalVisible=We,this.visibleChange.emit(We)}),Je.pipe((0,G.p)(We=>We),(0,ge.c)(0,he.$),(0,G.p)(()=>!!this.component?.overlay?.overlayRef),(0,J.Q)(this.destroy$)).subscribe(()=>{this.component?.updatePosition()})}registerTriggers(){const Le=this.elementRef.nativeElement,Je=this.trigger;if(this.removeTriggerListeners(),"hover"===Je){let We;this.triggerDisposables.push(this.renderer.listen(Le,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(Le,"mouseleave",()=>{this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),this.component?.overlay.overlayRef&&!We&&(We=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(We,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(We,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===Je?(this.triggerDisposables.push(this.renderer.listen(Le,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(Le,"focusout",()=>this.hide()))):"click"===Je&&this.triggerDisposables.push(this.renderer.listen(Le,"click",We=>{We.preventDefault(),this.show()}))}updatePropertiesByChanges(Le){this.updatePropertiesByKeys(Object.keys(Le))}updatePropertiesByKeys(Le){const Je={title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter],cdkConnectedOverlayPush:["cdkConnectedOverlayPush",()=>this.cdkConnectedOverlayPush],...this.getProxyPropertyMap()};(Le||Object.keys(Je).filter(We=>!We.startsWith("directive"))).forEach(We=>{if(Je[We]){const[pt,tt]=Je[We];this.updateComponentValue(pt,tt())}}),this.component?.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(Le,Je){typeof Je<"u"&&(this.component[Le]=Je)}delayEnterLeave(Le,Je,We=-1){this.delayTimer?this.clearTogglingTimer():We>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,Je?this.show():this.hide()},1e3*We):Je&&Le?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(Le=>Le()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}static#e=this.\u0275fac=function(Je){return new(Je||Ye)(C.rXU(C.aKT),C.rXU(C.c1b),C.rXU(C.sFG),C.rXU(Se.z),C.rXU(Ce.yx))};static#t=this.\u0275dir=C.FsC({type:Ye,features:[C.OA$]})}return Ye})(),Y=(()=>{class Ye{set nzVisible(Le){const Je=(0,F.G4)(Le);this._visible!==Je&&(this._visible=Je,this.nzVisibleChange.next(Je))}get nzVisible(){return this._visible}set nzTrigger(Le){this._trigger=Le}get nzTrigger(){return this._trigger}set nzPlacement(Le){const Je=Le.map(We=>fe.pn[We]);this._positions=[...Je,...fe.Js]}constructor(Le,Je,We){this.cdr=Le,this.directionality=Je,this.noAnimation=We,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.cdkConnectedOverlayPush=!0,this.nzVisibleChange=new ie.B,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...fe.Js],this.destroy$=new ie.B}ngOnInit(){this.directionality.change?.pipe((0,J.Q)(this.destroy$)).subscribe(Le=>{this.dir=Le,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(Le){this.preferredPlacement=(0,fe.jj)(Le),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(Le){this.origin=Le,this.cdr.markForCheck()}onClickOutside(Le){!this.origin.nativeElement.contains(Le.target)&&null!==this.nzTrigger&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}static#e=this.\u0275fac=function(Je){return new(Je||Ye)(C.rXU(C.gRc),C.rXU(De.dS,8),C.rXU(Se.z))};static#t=this.\u0275dir=C.FsC({type:Ye,viewQuery:function(Je,We){if(1&Je&&C.GBs(Pe,5),2&Je){let pt;C.mGM(pt=C.lsd())&&(We.overlay=pt.first)}}})}return Ye})();function be(Ye){return!(Ye instanceof C.C4Q||""!==Ye&&(0,F.n9)(Ye))}let oe=(()=>{class Ye extends Te{constructor(Le,Je,We,pt){super(Le,Je,We,pt),this.titleContext=null,this.trigger="hover",this.placement="top",this.cdkConnectedOverlayPush=!0,this.visibleChange=new C.bkB,this.componentRef=this.hostView.createComponent(nt)}getProxyPropertyMap(){return{...super.getProxyPropertyMap(),nzTooltipColor:["nzColor",()=>this.nzTooltipColor],titleContext:["nzTitleContext",()=>this.titleContext]}}static#e=this.\u0275fac=function(Je){return new(Je||Ye)(C.rXU(C.aKT),C.rXU(C.c1b),C.rXU(C.sFG),C.rXU(Se.z,9))};static#t=this.\u0275dir=C.FsC({type:Ye,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(Je,We){2&Je&&C.AVh("ant-tooltip-open",We.visible)},inputs:{title:[C.Mj6.None,"nzTooltipTitle","title"],titleContext:[C.Mj6.None,"nzTooltipTitleContext","titleContext"],directiveTitle:[C.Mj6.None,"nz-tooltip","directiveTitle"],trigger:[C.Mj6.None,"nzTooltipTrigger","trigger"],placement:[C.Mj6.None,"nzTooltipPlacement","placement"],origin:[C.Mj6.None,"nzTooltipOrigin","origin"],visible:[C.Mj6.None,"nzTooltipVisible","visible"],mouseEnterDelay:[C.Mj6.None,"nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[C.Mj6.None,"nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[C.Mj6.None,"nzTooltipOverlayClassName","overlayClassName"],overlayStyle:[C.Mj6.None,"nzTooltipOverlayStyle","overlayStyle"],arrowPointAtCenter:[C.Mj6.None,"nzTooltipArrowPointAtCenter","arrowPointAtCenter"],cdkConnectedOverlayPush:"cdkConnectedOverlayPush",nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],standalone:!0,features:[C.Vt3]})}return(0,t.Cg)([(0,F.H3)()],Ye.prototype,"arrowPointAtCenter",void 0),(0,t.Cg)([(0,F.H3)()],Ye.prototype,"cdkConnectedOverlayPush",void 0),Ye})(),nt=(()=>{class Ye extends Y{constructor(Le,Je,We){super(Le,Je,We),this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return be(this.nzTitle)}updateStyles(){const Le=this.nzColor&&(0,Ue.nP)(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:Le},this._contentStyleMap={backgroundColor:this.nzColor&&!Le?this.nzColor:null,"--color":this.nzColor}}static#e=this.\u0275fac=function(Je){return new(Je||Ye)(C.rXU(C.gRc),C.rXU(De.dS,8),C.rXU(Se.z,9))};static#t=this.\u0275cmp=C.VBU({type:Ye,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],standalone:!0,features:[C.Vt3,C.aNF],decls:2,vars:5,consts:[["overlay","cdkConnectedOverlay"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(Je,We){if(1&Je){const pt=C.RV6();C.DNE(0,ae,6,11,"ng-template",1,0,C.C5r),C.bIt("overlayOutsideClick",function($e){return C.eBV(pt),C.Njj(We.onClickOutside($e))})("detach",function(){return C.eBV(pt),C.Njj(We.hide())})("positionChange",function($e){return C.eBV(pt),C.Njj(We.onPositionChange($e))})}2&Je&&C.Y8G("cdkConnectedOverlayOrigin",We.origin)("cdkConnectedOverlayOpen",We._visible)("cdkConnectedOverlayPositions",We._positions)("cdkConnectedOverlayPush",We.cdkConnectedOverlayPush)("nzArrowPointAtCenter",We.nzArrowPointAtCenter)},dependencies:[f.z_,f.WB,m.YU,m.B3,Se.z,ze.C,ze.m,fe.$_,fe.vT],encapsulation:2,data:{animation:[Ee.uX]},changeDetection:0})}return Ye})(),ke=(()=>{class Ye{static#e=this.\u0275fac=function(Je){return new(Je||Ye)};static#t=this.\u0275mod=C.$C({type:Ye});static#n=this.\u0275inj=C.G2t({imports:[nt]})}return Ye})()},2358:(Lt,ct,v)=>{"use strict";v.d(ct,{$W:()=>T,SE:()=>I});var t=v(7336),f=v(1626),m=v(4438),C=v(7673),Ee=v(1985),Ue=v(8359),Se=v(1413),ze=v(3726),fe=v(5558),F=v(6354),ie=v(8141),he=v(6977),me=v(5964),J=v(1265),G=v(9969),ge=v(177),Ce=v(513),De=v(5103),Pe=v(7064),He=v(5154),ae=v(6860),Te=v(6389),Y=v(1635),be=v(317),oe=v(3341),nt=v(8203);const ke=["file"],Ye=["nz-upload-btn",""],et=["*"],Le=E=>({$implicit:E}),Je=()=>({opacity:.5,"pointer-events":"none"});function We(E,ne){}function pt(E,ne){if(1&E&&(m.j41(0,"div",20),m.DNE(1,We,0,0,"ng-template",21),m.k0s()),2&E){const L=m.XpG(2).$implicit,pe=m.sdS(5);m.AVh("ant-upload-list-item-file",!L.isUploading),m.R7$(),m.Y8G("ngTemplateOutlet",pe)("ngTemplateOutletContext",m.eq3(4,Le,L))}}function tt(E,ne){if(1&E&&m.nrm(0,"img",24),2&E){const L=m.XpG(3).$implicit;m.Y8G("src",L.thumbUrl||L.url,m.B4B),m.BMQ("alt",L.name)}}function $e(E,ne){if(1&E){const L=m.RV6();m.j41(0,"a",22),m.bIt("click",function(Ze){m.eBV(L);const at=m.XpG(2).$implicit,Ct=m.XpG();return m.Njj(Ct.handlePreview(at,Ze))}),m.DNE(1,tt,1,2,"img",23),m.k0s()}if(2&E){m.XpG();const L=m.sdS(5),pe=m.XpG().$implicit;m.AVh("ant-upload-list-item-file",!pe.isImageUrl),m.Y8G("href",pe.url||pe.thumbUrl,m.B4B),m.R7$(),m.Y8G("ngIf",pe.isImageUrl)("ngIfElse",L)}}function mt(E,ne){}function dt(E,ne){if(1&E&&(m.j41(0,"div",25),m.DNE(1,mt,0,0,"ng-template",21),m.k0s()),2&E){const L=m.XpG(2).$implicit,pe=m.sdS(5);m.R7$(),m.Y8G("ngTemplateOutlet",pe)("ngTemplateOutletContext",m.eq3(2,Le,L))}}function xt(E,ne){}function jt(E,ne){if(1&E&&m.DNE(0,xt,0,0,"ng-template",21),2&E){const L=m.XpG(2).$implicit,pe=m.sdS(5);m.Y8G("ngTemplateOutlet",pe)("ngTemplateOutletContext",m.eq3(2,Le,L))}}function Me(E,ne){if(1&E&&(m.qex(0,16),m.DNE(1,pt,2,6,"div",17)(2,$e,2,5,"a",18)(3,dt,2,4,"div",19),m.bVm(),m.DNE(4,jt,1,4,"ng-template",null,6,m.C5r)),2&E){const L=m.XpG().$implicit;m.Y8G("ngSwitch",L.iconType),m.R7$(),m.Y8G("ngSwitchCase","uploading"),m.R7$(),m.Y8G("ngSwitchCase","thumbnail")}}function je(E,ne){1&E&&(m.qex(0),m.nrm(1,"span",29),m.bVm())}function q(E,ne){if(1&E&&(m.qex(0),m.DNE(1,je,2,0,"ng-container",26),m.bVm()),2&E){const L=m.XpG(2).$implicit,pe=m.sdS(4);m.R7$(),m.Y8G("ngIf",L.isUploading)("ngIfElse",pe)}}function B(E,ne){if(1&E&&(m.qex(0),m.EFF(1),m.bVm()),2&E){const L=m.XpG(5);m.R7$(),m.SpI(" ",L.locale.uploading," ")}}function se(E,ne){if(1&E&&(m.qex(0),m.DNE(1,B,2,1,"ng-container",26),m.bVm()),2&E){const L=m.XpG(2).$implicit,pe=m.sdS(4);m.R7$(),m.Y8G("ngIf",L.isUploading)("ngIfElse",pe)}}function re(E,ne){if(1&E&&m.nrm(0,"span",30),2&E){const L=m.XpG(2).$implicit;m.Y8G("nzType",L.isUploading?"loading":"paper-clip")}}function Be(E,ne){if(1&E&&(m.qex(0)(1,16),m.DNE(2,q,2,2,"ng-container",27)(3,se,2,2,"ng-container",27)(4,re,1,1,"span",28),m.bVm()()),2&E){const L=m.XpG(3);m.R7$(),m.Y8G("ngSwitch",L.listType),m.R7$(),m.Y8G("ngSwitchCase","picture"),m.R7$(),m.Y8G("ngSwitchCase","picture-card")}}function Ke(E,ne){}function vt(E,ne){if(1&E&&m.nrm(0,"span",31),2&E){const L=m.XpG().$implicit;m.Y8G("nzType",L.isImageUrl?"picture":"file")}}function Nt(E,ne){if(1&E&&m.DNE(0,Be,5,3,"ng-container",26)(1,Ke,0,0,"ng-template",21,7,m.C5r)(3,vt,1,1,"ng-template",null,8,m.C5r),2&E){const L=ne.$implicit,pe=m.sdS(2),Ze=m.XpG(2);m.Y8G("ngIf",!Ze.iconRender)("ngIfElse",pe),m.R7$(),m.Y8G("ngTemplateOutlet",Ze.iconRender)("ngTemplateOutletContext",m.eq3(4,Le,L))}}function Xt(E,ne){if(1&E){const L=m.RV6();m.j41(0,"button",33),m.bIt("click",function(Ze){m.eBV(L);const at=m.XpG(2).$implicit,Ct=m.XpG();return m.Njj(Ct.handleRemove(at,Ze))}),m.nrm(1,"span",34),m.k0s()}if(2&E){const L=m.XpG(3);m.BMQ("title",L.locale.removeFile)}}function Zt(E,ne){if(1&E&&m.DNE(0,Xt,2,1,"button",32),2&E){const L=m.XpG(2);m.Y8G("ngIf",L.icons.showRemoveIcon)}}function Wt(E,ne){if(1&E){const L=m.RV6();m.j41(0,"button",33),m.bIt("click",function(){m.eBV(L);const Ze=m.XpG(2).$implicit,at=m.XpG();return m.Njj(at.handleDownload(Ze))}),m.nrm(1,"span",35),m.k0s()}if(2&E){const L=m.XpG(3);m.BMQ("title",L.locale.downloadFile)}}function lt(E,ne){if(1&E&&m.DNE(0,Wt,2,1,"button",32),2&E){const L=m.XpG().$implicit;m.Y8G("ngIf",L.showDownload)}}function Ft(E,ne){}function _e(E,ne){}function Ne(E,ne){if(1&E&&(m.j41(0,"span"),m.DNE(1,Ft,0,0,"ng-template",13)(2,_e,0,0,"ng-template",13),m.k0s()),2&E){m.XpG(2);const L=m.sdS(7),pe=m.sdS(9),Ze=m.XpG();m.ZvI("ant-upload-list-item-card-actions ","picture"===Ze.listType?"picture":"",""),m.R7$(),m.Y8G("ngTemplateOutlet",pe),m.R7$(),m.Y8G("ngTemplateOutlet",L)}}function Z(E,ne){if(1&E&&m.DNE(0,Ne,3,5,"span",36),2&E){const L=m.XpG(2);m.Y8G("ngIf","picture-card"!==L.listType)}}function ye(E,ne){if(1&E){const L=m.RV6();m.j41(0,"a",39),m.bIt("click",function(Ze){m.eBV(L);const at=m.XpG(2).$implicit,Ct=m.XpG();return m.Njj(Ct.handlePreview(at,Ze))}),m.EFF(1),m.k0s()}if(2&E){const L=m.XpG(2).$implicit;m.Y8G("href",L.url,m.B4B),m.BMQ("title",L.name)("download",L.linkProps&&L.linkProps.download),m.R7$(),m.SpI(" ",L.name," ")}}function ee(E,ne){if(1&E){const L=m.RV6();m.j41(0,"span",40),m.bIt("click",function(Ze){m.eBV(L);const at=m.XpG(2).$implicit,Ct=m.XpG();return m.Njj(Ct.handlePreview(at,Ze))}),m.EFF(1),m.k0s()}if(2&E){const L=m.XpG(2).$implicit;m.BMQ("title",L.name),m.R7$(),m.SpI(" ",L.name," ")}}function W(E,ne){}function b(E,ne){if(1&E&&m.DNE(0,ye,2,4,"a",37)(1,ee,2,2,"span",38)(2,W,0,0,"ng-template",13),2&E){const L=m.XpG().$implicit,pe=m.sdS(11);m.Y8G("ngIf",L.url),m.R7$(),m.Y8G("ngIf",!L.url),m.R7$(),m.Y8G("ngTemplateOutlet",pe)}}function M(E,ne){}function X(E,ne){}function ue(E,ne){if(1&E){const L=m.RV6();m.j41(0,"a",44),m.bIt("click",function(Ze){m.eBV(L);const at=m.XpG(2).$implicit,Ct=m.XpG();return m.Njj(Ct.handlePreview(at,Ze))}),m.nrm(1,"span",45),m.k0s()}if(2&E){const L=m.XpG(2).$implicit,pe=m.XpG();m.Y8G("href",L.url||L.thumbUrl,m.B4B)("ngStyle",L.url||L.thumbUrl?null:m.lJ4(3,Je)),m.BMQ("title",pe.locale.previewFile)}}function Ve(E,ne){}function ot(E,ne){if(1&E&&(m.qex(0),m.DNE(1,Ve,0,0,"ng-template",13),m.bVm()),2&E){m.XpG(2);const L=m.sdS(9);m.R7$(),m.Y8G("ngTemplateOutlet",L)}}function ht(E,ne){}function bt(E,ne){if(1&E&&(m.j41(0,"span",41),m.DNE(1,ue,2,4,"a",42)(2,ot,2,1,"ng-container",43)(3,ht,0,0,"ng-template",13),m.k0s()),2&E){const L=m.XpG().$implicit,pe=m.sdS(7),Ze=m.XpG();m.R7$(),m.Y8G("ngIf",Ze.icons.showPreviewIcon),m.R7$(),m.Y8G("ngIf","done"===L.status),m.R7$(),m.Y8G("ngTemplateOutlet",pe)}}function Et(E,ne){if(1&E&&(m.j41(0,"div",46),m.nrm(1,"nz-progress",47),m.k0s()),2&E){const L=m.XpG().$implicit;m.R7$(),m.Y8G("nzPercent",L.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function wt(E,ne){if(1&E&&(m.j41(0,"div")(1,"div",10),m.DNE(2,Me,6,3,"ng-template",null,0,m.C5r)(4,Nt,5,6,"ng-template",null,1,m.C5r)(6,Zt,1,1,"ng-template",null,2,m.C5r)(8,lt,1,1,"ng-template",null,3,m.C5r)(10,Z,1,1,"ng-template",null,4,m.C5r)(12,b,3,3,"ng-template",null,5,m.C5r),m.j41(14,"div",11)(15,"span",12),m.DNE(16,M,0,0,"ng-template",13)(17,X,0,0,"ng-template",13),m.k0s()(),m.DNE(18,bt,4,3,"span",14)(19,Et,2,3,"div",15),m.k0s()()),2&E){const L=ne.$implicit,pe=m.sdS(3),Ze=m.sdS(13),at=m.XpG();m.ZvI("ant-upload-list-",at.listType,"-container"),m.R7$(),m.STu("ant-upload-list-item ant-upload-list-item-",L.status," ant-upload-list-item-list-type-",at.listType,""),m.Y8G("@itemState",void 0)("nzTooltipTitle","error"===L.status?L.message:null),m.BMQ("data-key",L.key),m.R7$(15),m.Y8G("ngTemplateOutlet",pe),m.R7$(),m.Y8G("ngTemplateOutlet",Ze),m.R7$(),m.Y8G("ngIf","picture-card"===at.listType&&!L.isUploading),m.R7$(),m.Y8G("ngIf",L.isUploading)}}const Yt=["uploadComp"],rt=["listComp"],Gt=()=>[];function we(E,ne){if(1&E&&m.nrm(0,"nz-upload-list",10,5),2&E){const L=m.XpG(2);m.xc7("display",L.nzShowUploadList?"":"none"),m.Y8G("locale",L.locale)("listType",L.nzListType)("items",L.nzFileList||m.lJ4(13,Gt))("icons",L.nzShowUploadList)("iconRender",L.nzIconRender)("previewFile",L.nzPreviewFile)("previewIsImage",L.nzPreviewIsImage)("onPreview",L.nzPreview)("onRemove",L.onRemove)("onDownload",L.nzDownload)("dir",L.dir)}}function qe(E,ne){1&E&&m.eu8(0)}function Ae(E,ne){if(1&E&&(m.qex(0),m.DNE(1,qe,1,0,"ng-container",11),m.bVm()),2&E){const L=m.XpG(2);m.R7$(),m.Y8G("ngTemplateOutlet",L.nzFileListRender)("ngTemplateOutletContext",m.eq3(2,Le,L.nzFileList))}}function kt(E,ne){if(1&E&&m.DNE(0,we,2,14,"nz-upload-list",8)(1,Ae,2,4,"ng-container",9),2&E){const L=m.XpG();m.Y8G("ngIf",L.locale&&!L.nzFileListRender),m.R7$(),m.Y8G("ngIf",L.nzFileListRender)}}function It(E,ne){1&E&&m.SdG(0)}function Ot(E,ne){}function At(E,ne){if(1&E&&(m.j41(0,"div",12)(1,"div",13,6),m.DNE(3,Ot,0,0,"ng-template",14),m.k0s()()),2&E){const L=m.XpG(),pe=m.sdS(3);m.xc7("display",L.nzShowButton?"":"none"),m.Y8G("ngClass",L.classList),m.R7$(),m.Y8G("options",L._btnOptions),m.R7$(2),m.Y8G("ngTemplateOutlet",pe)}}function en(E,ne){}function wn(E,ne){}function kn(E,ne){if(1&E){const L=m.RV6();m.qex(0),m.j41(1,"div",15),m.bIt("drop",function(Ze){m.eBV(L);const at=m.XpG();return m.Njj(at.fileDrop(Ze))})("dragover",function(Ze){m.eBV(L);const at=m.XpG();return m.Njj(at.fileDrop(Ze))})("dragleave",function(Ze){m.eBV(L);const at=m.XpG();return m.Njj(at.fileDrop(Ze))}),m.j41(2,"div",16,6)(4,"div",17),m.DNE(5,en,0,0,"ng-template",14),m.k0s()()(),m.DNE(6,wn,0,0,"ng-template",14),m.bVm()}if(2&E){const L=m.XpG(),pe=m.sdS(1),Ze=m.sdS(3);m.R7$(),m.Y8G("ngClass",L.classList),m.R7$(),m.Y8G("options",L._btnOptions),m.R7$(3),m.Y8G("ngTemplateOutlet",Ze),m.R7$(),m.Y8G("ngTemplateOutlet",pe)}}function Ge(E,ne){}function Fe(E,ne){}function ce(E,ne){if(1&E&&(m.qex(0),m.DNE(1,Ge,0,0,"ng-template",14)(2,Fe,0,0,"ng-template",14),m.bVm()),2&E){m.XpG(2);const L=m.sdS(1),pe=m.sdS(5);m.R7$(),m.Y8G("ngTemplateOutlet",L),m.R7$(),m.Y8G("ngTemplateOutlet",pe)}}function xe(E,ne){if(1&E&&m.DNE(0,ce,3,2,"ng-container",7),2&E){const L=m.XpG(),pe=m.sdS(10);m.Y8G("ngIf","picture-card"===L.nzListType)("ngIfElse",pe)}}function st(E,ne){}function de(E,ne){}function j(E,ne){if(1&E&&m.DNE(0,st,0,0,"ng-template",14)(1,de,0,0,"ng-template",14),2&E){m.XpG();const L=m.sdS(1),pe=m.sdS(5);m.Y8G("ngTemplateOutlet",pe),m.R7$(),m.Y8G("ngTemplateOutlet",L)}}let R=(()=>{class E{onClick(){this.options.disabled||!this.options.openFileDialogOnClick||this.file.nativeElement.click()}onFileDrop(L){if(this.options.disabled||"dragover"===L.type)L.preventDefault();else{if(this.options.directory)this.traverseFileTree(L.dataTransfer.items);else{const pe=Array.prototype.slice.call(L.dataTransfer.files).filter(Ze=>this.attrAccept(Ze,this.options.accept));pe.length&&this.uploadFiles(pe)}L.preventDefault()}}onChange(L){if(this.options.disabled)return;const pe=L.target;this.uploadFiles(pe.files),pe.value=""}traverseFileTree(L){const pe=(Ze,at)=>{Ze.isFile?Ze.file(Ct=>{this.attrAccept(Ct,this.options.accept)&&this.uploadFiles([Ct])}):Ze.isDirectory&&Ze.createReader().readEntries(Ht=>{for(const Kt of Ht)pe(Kt,`${at}${Ze.name}/`)})};for(const Ze of L)pe(Ze.webkitGetAsEntry(),"")}attrAccept(L,pe){if(L&&pe){const Ze=Array.isArray(pe)?pe:pe.split(","),at=`${L.name}`,Ct=`${L.type}`,Ht=Ct.replace(/\/.*$/,"");return Ze.some(Kt=>{const nn=Kt.trim();return"."===nn.charAt(0)?-1!==at.toLowerCase().indexOf(nn.toLowerCase(),at.toLowerCase().length-nn.toLowerCase().length):/\/\*$/.test(nn)?Ht===nn.replace(/\/.*$/,""):Ct===nn})}return!0}attachUid(L){return L.uid||(L.uid=Math.random().toString(36).substring(2)),L}uploadFiles(L){let pe=(0,C.of)(Array.prototype.slice.call(L));this.options.filters&&this.options.filters.forEach(Ze=>{pe=pe.pipe((0,fe.n)(at=>{const Ct=Ze.fn(at);return Ct instanceof Ee.c?Ct:(0,C.of)(Ct)}))}),pe.subscribe(Ze=>{Ze.forEach(at=>{this.attachUid(at),this.upload(at,Ze)})},Ze=>{(0,J.R8)("Unhandled upload filter error",Ze)})}upload(L,pe){if(!this.options.beforeUpload)return this.post(L);const Ze=this.options.beforeUpload(L,pe);if(Ze instanceof Ee.c)Ze.subscribe(at=>{const Ct=Object.prototype.toString.call(at);"[object File]"===Ct||"[object Blob]"===Ct?(this.attachUid(at),this.post(at)):"boolean"==typeof at&&!1!==at&&this.post(L)},at=>{(0,J.R8)("Unhandled upload beforeUpload error",at)});else if(!1!==Ze)return this.post(L)}post(L){if(this.destroy)return;let Ze,pe=(0,C.of)(L);const at=this.options,{uid:Ct}=L,{action:Ht,data:Kt,headers:nn,transformFile:un}=at,yn={action:"string"==typeof Ht?Ht:"",name:at.name,headers:nn,file:L,postFile:L,data:Kt,withCredentials:at.withCredentials,onProgress:at.onProgress?sn=>{at.onProgress(sn,L)}:void 0,onSuccess:(sn,pn)=>{this.clean(Ct),at.onSuccess(sn,L,pn)},onError:sn=>{this.clean(Ct),at.onError(sn,L)}};if("function"==typeof Ht){const sn=Ht(L);sn instanceof Ee.c?pe=pe.pipe((0,fe.n)(()=>sn),(0,F.T)(pn=>(yn.action=pn,L))):yn.action=sn}if("function"==typeof un){const sn=un(L);pe=pe.pipe((0,fe.n)(()=>sn instanceof Ee.c?sn:(0,C.of)(sn)),(0,ie.M)(pn=>Ze=pn))}if("function"==typeof Kt){const sn=Kt(L);sn instanceof Ee.c?pe=pe.pipe((0,fe.n)(()=>sn),(0,F.T)(pn=>(yn.data=pn,Ze??L))):yn.data=sn}if("function"==typeof nn){const sn=nn(L);sn instanceof Ee.c?pe=pe.pipe((0,fe.n)(()=>sn),(0,F.T)(pn=>(yn.headers=pn,Ze??L))):yn.headers=sn}pe.subscribe(sn=>{yn.postFile=sn;const pn=(at.customRequest||this.xhr).call(this,yn);pn instanceof Ue.yU||(0,J.R8)("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[Ct]=pn,at.onStart(L)})}xhr(L){const pe=new FormData;L.data&&Object.keys(L.data).map(at=>{pe.append(at,L.data[at])}),pe.append(L.name,L.postFile),L.headers||(L.headers={}),null!==L.headers["X-Requested-With"]?L.headers["X-Requested-With"]="XMLHttpRequest":delete L.headers["X-Requested-With"];const Ze=new f.Kd("POST",L.action,pe,{reportProgress:!0,withCredentials:L.withCredentials,headers:new f.Lr(L.headers)});return this.http.request(Ze).subscribe(at=>{at.type===f.hv.UploadProgress?(at.total>0&&(at.percent=at.loaded/at.total*100),L.onProgress(at,L.file)):at instanceof f.cS&&L.onSuccess(at.body,L.file,at)},at=>{this.abort(L.file),L.onError(at,L.file)})}clean(L){const pe=this.reqs[L];pe instanceof Ue.yU&&pe.unsubscribe(),delete this.reqs[L]}abort(L){L?this.clean(L&&L.uid):Object.keys(this.reqs).forEach(pe=>this.clean(pe))}constructor(L,pe,Ze){if(this.ngZone=L,this.http=pe,this.elementRef=Ze,this.reqs={},this.destroy=!1,this.destroy$=new Se.B,!pe)throw new Error("Not found 'HttpClient', You can import 'HttpClientModule' in your root module.")}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,ze.R)(this.elementRef.nativeElement,"click").pipe((0,he.Q)(this.destroy$)).subscribe(()=>this.onClick()),(0,ze.R)(this.elementRef.nativeElement,"keydown").pipe((0,he.Q)(this.destroy$)).subscribe(L=>{this.options.disabled||("Enter"===L.key||L.keyCode===t.Fm)&&this.onClick()})})}ngOnDestroy(){this.destroy=!0,this.destroy$.next(),this.abort()}static#e=this.\u0275fac=function(pe){return new(pe||E)(m.rXU(m.SKi),m.rXU(f.Qq,8),m.rXU(m.aKT))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["","nz-upload-btn",""]],viewQuery:function(pe,Ze){if(1&pe&&m.GBs(ke,7),2&pe){let at;m.mGM(at=m.lsd())&&(Ze.file=at.first)}},hostAttrs:[1,"ant-upload"],hostVars:4,hostBindings:function(pe,Ze){1&pe&&m.bIt("drop",function(Ct){return Ze.onFileDrop(Ct)})("dragover",function(Ct){return Ze.onFileDrop(Ct)}),2&pe&&(m.BMQ("tabindex","0")("role","button"),m.AVh("ant-upload-disabled",Ze.options.disabled))},inputs:{options:"options"},exportAs:["nzUploadBtn"],standalone:!0,features:[m.aNF],attrs:Ye,ngContentSelectors:et,decls:3,vars:6,consts:[["file",""],["type","file",3,"change","multiple"]],template:function(pe,Ze){if(1&pe){const at=m.RV6();m.NAR(),m.j41(0,"input",1,0),m.bIt("change",function(Ht){return m.eBV(at),m.Njj(Ze.onChange(Ht))}),m.k0s(),m.SdG(2)}2&pe&&(m.xc7("display","none"),m.Y8G("multiple",Ze.options.multiple),m.BMQ("accept",Ze.options.accept)("directory",Ze.options.directory?"directory":null)("webkitdirectory",Ze.options.directory?"webkitdirectory":null))},encapsulation:2})}return E})();const k=E=>!!E&&0===E.indexOf("image/"),P=200;let D=(()=>{class E{get showPic(){return"picture"===this.listType||"picture-card"===this.listType}set items(L){this.list=L}genErr(L){return L.response&&"string"==typeof L.response?L.response:L.error&&L.error.statusText||this.locale.uploadError}extname(L){const pe=L.split("/"),at=pe[pe.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(at)||[""])[0]}isImageUrl(L){if(k(L.type))return!0;const pe=L.thumbUrl||L.url||"";if(!pe)return!1;const Ze=this.extname(pe);return!(!/^data:image\//.test(pe)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(Ze))||!/^data:/.test(pe)&&!Ze}getIconType(L){return this.showPic?L.isUploading||!L.thumbUrl&&!L.url?"uploading":"thumbnail":""}previewImage(L){if(!k(L.type)||!this.platform.isBrowser)return(0,C.of)("");const pe=this.doc.createElement("canvas");pe.width=P,pe.height=P,pe.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;",this.doc.body.appendChild(pe);const Ze=pe.getContext("2d"),at=new Image,Ct=URL.createObjectURL(L);return at.src=Ct,(0,ze.R)(at,"load").pipe((0,F.T)(()=>{const{width:Ht,height:Kt}=at;let nn=P,un=P,yn=0,sn=0;Ht<Kt?(un=Kt*(P/Ht),sn=-(un-nn)/2):(nn=Ht*(P/Kt),yn=-(nn-un)/2);try{Ze.drawImage(at,yn,sn,nn,un)}catch{}const pn=pe.toDataURL();return this.doc.body.removeChild(pe),URL.revokeObjectURL(Ct),pn}))}genThumb(){if(!this.platform.isBrowser)return;const L=window;!this.showPic||typeof document>"u"||typeof L>"u"||!L.FileReader||!L.File||this.list.filter(pe=>pe.originFileObj instanceof File&&void 0===pe.thumbUrl).forEach(pe=>{pe.thumbUrl="";const Ze=(this.previewFile?this.previewFile(pe):this.previewImage(pe.originFileObj)).pipe((0,he.Q)(this.destroy$));this.ngZone.runOutsideAngular(()=>{Ze.subscribe(at=>{this.ngZone.run(()=>{pe.thumbUrl=at,this.detectChanges()})})})})}showDownload(L){return!(!this.icons.showDownloadIcon||"done"!==L.status)}fixData(){this.list.forEach(L=>{L.isUploading="uploading"===L.status,L.message=this.genErr(L),L.linkProps="string"==typeof L.linkProps?JSON.parse(L.linkProps):L.linkProps,L.isImageUrl=this.previewIsImage?this.previewIsImage(L):this.isImageUrl(L),L.iconType=this.getIconType(L),L.showDownload=this.showDownload(L)})}handlePreview(L,pe){if(this.onPreview)return pe.preventDefault(),this.onPreview(L)}handleRemove(L,pe){pe.preventDefault(),this.onRemove&&this.onRemove(L)}handleDownload(L){"function"==typeof this.onDownload?this.onDownload(L):L.url&&window.open(L.url)}constructor(L,pe,Ze,at){this.cdr=L,this.doc=pe,this.ngZone=Ze,this.platform=at,this.list=[],this.locale={},this.iconRender=null,this.dir="ltr",this.destroy$=new Se.B}detectChanges(){this.fixData(),this.cdr.detectChanges()}ngOnChanges(){this.fixData(),this.genThumb()}ngOnDestroy(){this.destroy$.next()}static#e=this.\u0275fac=function(pe){return new(pe||E)(m.rXU(m.gRc),m.rXU(ge.qQ),m.rXU(m.SKi),m.rXU(ae.OD))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["nz-upload-list"]],hostAttrs:[1,"ant-upload-list"],hostVars:8,hostBindings:function(pe,Ze){2&pe&&m.AVh("ant-upload-list-rtl","rtl"===Ze.dir)("ant-upload-list-text","text"===Ze.listType)("ant-upload-list-picture","picture"===Ze.listType)("ant-upload-list-picture-card","picture-card"===Ze.listType)},inputs:{locale:"locale",listType:"listType",items:"items",icons:"icons",onPreview:"onPreview",onRemove:"onRemove",onDownload:"onDownload",previewFile:"previewFile",previewIsImage:"previewIsImage",iconRender:"iconRender",dir:"dir"},exportAs:["nzUploadList"],standalone:!0,features:[m.OA$,m.aNF],decls:1,vars:1,consts:[["icon",""],["iconNode",""],["removeIcon",""],["downloadIcon",""],["downloadOrDelete",""],["preview",""],["noImageThumbTpl",""],["customIconRender",""],["iconNodeFileIcon",""],[3,"class",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],[1,"ant-upload-list-item-info"],[1,"ant-upload-span"],[3,"ngTemplateOutlet"],["class","ant-upload-list-item-actions",4,"ngIf"],["class","ant-upload-list-item-progress",4,"ngIf"],[3,"ngSwitch"],["class","ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file",4,"ngSwitchCase"],["class","ant-upload-list-item-thumbnail","target","_blank","rel","noopener noreferrer",3,"ant-upload-list-item-file","href","click",4,"ngSwitchCase"],["class","ant-upload-text-icon",4,"ngSwitchDefault"],[1,"ant-upload-list-item-thumbnail"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"click","href"],["class","ant-upload-list-item-image",3,"src",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-image",3,"src"],[1,"ant-upload-text-icon"],[4,"ngIf","ngIfElse"],[4,"ngSwitchCase"],["nz-icon","",3,"nzType",4,"ngSwitchDefault"],["nz-icon","","nzType","loading"],["nz-icon","",3,"nzType"],["nz-icon","","nzTheme","twotone",3,"nzType"],["type","button","nz-button","","nzType","text","nzSize","small","class","ant-upload-list-item-card-actions-btn",3,"click",4,"ngIf"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn",3,"click"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","download"],[3,"class",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","ant-upload-list-item-name",3,"href","click",4,"ngIf"],["class","ant-upload-list-item-name",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"click","href"],[1,"ant-upload-list-item-name",3,"click"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click",4,"ngIf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"click","href","ngStyle"],["nz-icon","","nzType","eye"],[1,"ant-upload-list-item-progress"],["nzType","line",3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(pe,Ze){1&pe&&m.DNE(0,wt,20,14,"div",9),2&pe&&m.Y8G("ngForOf",Ze.list)},dependencies:[ge.Sq,He.Qt,He.LH,ge.ux,ge.T3,ge.bT,ge.fG,ge.e1,De.Y3,De.Dn,Ce.Zw,Ce.aO,Te.c,ge.B3,Pe.m,Pe.V],encapsulation:2,data:{animation:[(0,G.hZ)("itemState",[(0,G.kY)(":enter",[(0,G.iF)({height:"0",width:"0",opacity:0}),(0,G.i0)(150,(0,G.iF)({height:"*",width:"*",opacity:1}))]),(0,G.kY)(":leave",[(0,G.i0)(150,(0,G.iF)({height:"0",width:"0",opacity:0}))])])]},changeDetection:0})}return E})(),T=(()=>{class E{set nzShowUploadList(L){this._showUploadList="boolean"==typeof L?(0,be.G4)(L):L}get nzShowUploadList(){return this._showUploadList}zipOptions(){"boolean"==typeof this.nzShowUploadList&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!0});const L=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&-1===L.findIndex(pe=>"limit"===pe.name)&&L.push({name:"limit",fn:pe=>pe.slice(-this.nzLimit)}),this.nzSize>0&&-1===L.findIndex(pe=>"size"===pe.name)&&L.push({name:"size",fn:pe=>pe.filter(Ze=>Ze.size/1024<=this.nzSize)}),this.nzFileType&&this.nzFileType.length>0&&-1===L.findIndex(pe=>"type"===pe.name)){const pe=this.nzFileType.split(",");L.push({name:"type",fn:Ze=>Ze.filter(at=>~pe.indexOf(at.type))})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:L,transformFile:this.nzTransformFile,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}constructor(L,pe,Ze,at,Ct){this.ngZone=L,this.document=pe,this.cdr=Ze,this.i18n=at,this.directionality=Ct,this.destroy$=new Se.B,this.dir="ltr",this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzIconRender=null,this.nzFileListRender=null,this.nzChange=new m.bkB,this.nzFileListChange=new m.bkB,this.onStart=Ht=>{this.nzFileList||(this.nzFileList=[]);const Kt=this.fileToObject(Ht);Kt.status="uploading",this.nzFileList=this.nzFileList.concat(Kt),this.nzFileListChange.emit(this.nzFileList),this.nzChange.emit({file:Kt,fileList:this.nzFileList,type:"start"}),this.detectChangesList()},this.onProgress=(Ht,Kt)=>{const un=this.getFileItem(Kt,this.nzFileList);un.percent=Ht.percent,this.nzChange.emit({event:Ht,file:{...un},fileList:this.nzFileList,type:"progress"}),this.detectChangesList()},this.onSuccess=(Ht,Kt)=>{const nn=this.nzFileList,un=this.getFileItem(Kt,nn);un.status="done",un.response=Ht,this.nzChange.emit({file:{...un},fileList:nn,type:"success"}),this.detectChangesList()},this.onError=(Ht,Kt)=>{const nn=this.nzFileList,un=this.getFileItem(Kt,nn);un.error=Ht,un.status="error",this.nzChange.emit({file:{...un},fileList:nn,type:"error"}),this.detectChangesList()},this.onRemove=Ht=>{this.uploadComp.abort(Ht),Ht.status="removed";const Kt="function"==typeof this.nzRemove?this.nzRemove(Ht):null==this.nzRemove||this.nzRemove;(Kt instanceof Ee.c?Kt:(0,C.of)(Kt)).pipe((0,me.p)(nn=>nn)).subscribe(()=>{this.nzFileList=this.removeFileItem(Ht,this.nzFileList),this.nzChange.emit({file:Ht,fileList:this.nzFileList,type:"removed"}),this.nzFileListChange.emit(this.nzFileList),this.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}fileToObject(L){return{lastModified:L.lastModified,lastModifiedDate:L.lastModifiedDate,name:L.filename||L.name,size:L.size,type:L.type,uid:L.uid,response:L.response,error:L.error,percent:0,originFileObj:L}}getFileItem(L,pe){return pe.filter(Ze=>Ze.uid===L.uid)[0]}removeFileItem(L,pe){return pe.filter(Ze=>Ze.uid!==L.uid)}fileDrop(L){L.type!==this.dragState&&(this.dragState=L.type,this.setClassMap())}detectChangesList(){this.cdr.detectChanges(),this.listComp?.detectChanges()}setClassMap(){let L=[];"drag"===this.nzType?(this.nzFileList.some(pe=>"uploading"===pe.status)&&L.push(`${this.prefixCls}-drag-uploading`),"dragover"===this.dragState&&L.push(`${this.prefixCls}-drag-hover`)):L=[`${this.prefixCls}-select-${this.nzListType}`],this.classList=[this.prefixCls,`${this.prefixCls}-${this.nzType}`,...L,this.nzDisabled&&`${this.prefixCls}-disabled`||"","rtl"===this.dir&&`${this.prefixCls}-rtl`||""].filter(pe=>!!pe),this.cdr.detectChanges()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,he.Q)(this.destroy$)).subscribe(L=>{this.dir=L,this.setClassMap(),this.cdr.detectChanges()}),this.i18n.localeChange.pipe((0,he.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Upload"),this.detectChangesList()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>(0,ze.R)(this.document.body,"drop").pipe((0,he.Q)(this.destroy$)).subscribe(L=>{L.preventDefault(),L.stopPropagation()}))}ngOnChanges(){this.zipOptions().setClassMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(pe){return new(pe||E)(m.rXU(m.SKi),m.rXU(ge.qQ),m.rXU(m.gRc),m.rXU(oe.Og),m.rXU(nt.dS,8))};static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["nz-upload"]],viewQuery:function(pe,Ze){if(1&pe&&(m.GBs(Yt,5),m.GBs(rt,5)),2&pe){let at;m.mGM(at=m.lsd())&&(Ze.uploadComp=at.first),m.mGM(at=m.lsd())&&(Ze.listComp=at.first)}},hostVars:2,hostBindings:function(pe,Ze){2&pe&&m.AVh("ant-upload-picture-card-wrapper","picture-card"===Ze.nzListType)},inputs:{nzType:"nzType",nzLimit:"nzLimit",nzSize:"nzSize",nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzDirectory:"nzDirectory",nzOpenFileDialogOnClick:"nzOpenFileDialogOnClick",nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:"nzDisabled",nzHeaders:"nzHeaders",nzListType:"nzListType",nzMultiple:"nzMultiple",nzName:"nzName",nzShowUploadList:"nzShowUploadList",nzShowButton:"nzShowButton",nzWithCredentials:"nzWithCredentials",nzRemove:"nzRemove",nzPreview:"nzPreview",nzPreviewFile:"nzPreviewFile",nzPreviewIsImage:"nzPreviewIsImage",nzTransformFile:"nzTransformFile",nzDownload:"nzDownload",nzIconRender:"nzIconRender",nzFileListRender:"nzFileListRender"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],standalone:!0,features:[m.OA$,m.aNF],ngContentSelectors:et,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],["select",""],["pic",""],["listComp",""],["uploadComp",""],[4,"ngIf","ngIfElse"],[3,"display","locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir",4,"ngIf"],[4,"ngIf"],[3,"locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["nz-upload-btn","",3,"options"],[3,"ngTemplateOutlet"],[3,"drop","dragover","dragleave","ngClass"],["nz-upload-btn","",1,"ant-upload-btn",3,"options"],[1,"ant-upload-drag-container"]],template:function(pe,Ze){if(1&pe&&(m.NAR(),m.DNE(0,kt,2,2,"ng-template",null,0,m.C5r)(2,It,1,0,"ng-template",null,1,m.C5r)(4,At,4,5,"ng-template",null,2,m.C5r)(6,kn,7,4,"ng-container",7)(7,xe,1,2,"ng-template",null,3,m.C5r)(9,j,2,2,"ng-template",null,4,m.C5r)),2&pe){const at=m.sdS(8);m.R7$(6),m.Y8G("ngIf","drag"===Ze.nzType)("ngIfElse",at)}},dependencies:[D,ge.bT,ge.T3,ge.YU,R],encapsulation:2,changeDetection:0})}return(0,Y.Cg)([(0,be.YI)()],E.prototype,"nzLimit",void 0),(0,Y.Cg)([(0,be.YI)()],E.prototype,"nzSize",void 0),(0,Y.Cg)([(0,be.H3)()],E.prototype,"nzDirectory",void 0),(0,Y.Cg)([(0,be.H3)()],E.prototype,"nzOpenFileDialogOnClick",void 0),(0,Y.Cg)([(0,be.H3)()],E.prototype,"nzDisabled",void 0),(0,Y.Cg)([(0,be.H3)()],E.prototype,"nzMultiple",void 0),(0,Y.Cg)([(0,be.H3)()],E.prototype,"nzShowButton",void 0),(0,Y.Cg)([(0,be.H3)()],E.prototype,"nzWithCredentials",void 0),E})(),I=(()=>{class E{static#e=this.\u0275fac=function(pe){return new(pe||E)};static#t=this.\u0275mod=m.$C({type:E});static#n=this.\u0275inj=m.G2t({imports:[T,D]})}return E})()}}]);